var vWe=Object.create;var NS=Object.defineProperty,yWe=Object.defineProperties,bWe=Object.getOwnPropertyDescriptor,xWe=Object.getOwnPropertyDescriptors,EWe=Object.getOwnPropertyNames,$S=Object.getOwnPropertySymbols,wWe=Object.getPrototypeOf,SL=Object.prototype.hasOwnProperty,Gse=Object.prototype.propertyIsEnumerable;var Wse=(t,e,n)=>e in t?NS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,se=(t,e)=>{for(var n in e||={})SL.call(e,n)&&Wse(t,n,e[n]);if($S)for(var n of $S(e))Gse.call(e,n)&&Wse(t,n,e[n]);return t},Me=(t,e)=>yWe(t,xWe(e));var Ae=(t,e)=>{var n={};for(var i in t)SL.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&$S)for(var i of $S(t))e.indexOf(i)<0&&Gse.call(t,i)&&(n[i]=t[i]);return n};var Qu=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Qse=(t,e)=>{for(var n in e)NS(t,n,{get:e[n],enumerable:!0})},_We=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of EWe(e))!SL.call(t,a)&&a!==n&&NS(t,a,{get:()=>e[a],enumerable:!(i=bWe(e,a))||i.enumerable});return t};var wf=(t,e,n)=>(n=t!=null?vWe(wWe(t)):{},_We(e||!t||!t.__esModule?NS(n,"default",{value:t,enumerable:!0}):n,t));var co=(t,e,n)=>new Promise((i,a)=>{var c=m=>{try{h(n.next(m))}catch(g){a(g)}},d=m=>{try{h(n.throw(m))}catch(g){a(g)}},h=m=>m.done?i(m.value):Promise.resolve(m.value).then(c,d);h((n=n.apply(t,e)).next())});var JF=Qu((hRt,ofe)=>{"use strict";var att=/,?([a-z]),?/gi,Qde=parseFloat,yi=Math,Hp=yi.PI,cd=yi.min,ud=yi.max,Yde=yi.pow,qp=yi.abs,ltt=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,ctt=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,M8=Array.isArray||function(t){return t instanceof Array};function ZF(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function rw(t){if(typeof t=="function"||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)ZF(t,n)&&(e[n]=rw(t[n]));return e}function utt(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function dtt(t){function e(){var n=Array.prototype.slice.call(arguments,0),i=n.join("\u2400"),a=e.cache=e.cache||{},c=e.count=e.count||[];return ZF(a,i)?(utt(c,i),a[i]):(c.length>=1e3&&delete a[c.shift()],c.push(i),a[i]=t.apply(0,n),a[i])}return e}function ftt(t){if(!t)return null;var e=c2(t);if(e.arr)return rw(e.arr);var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[];return M8(t)&&M8(t[0])&&(i=rw(t)),i.length||String(t).replace(ltt,function(a,c,d){var h=[],m=c.toLowerCase();for(d.replace(ctt,function(g,b){b&&h.push(+b)}),m=="m"&&h.length>2&&(i.push([c].concat(h.splice(0,2))),m="l",c=c=="m"?"l":"L");h.length>=n[m]&&(i.push([c].concat(h.splice(0,n[m]))),!!n[m]););}),i.toString=c2.toString,e.arr=rw(i),i}function c2(t){var e=c2.ps=c2.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)ZF(e,n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]}function KF(t,e,n,i){return arguments.length===1&&(e=t.y,n=t.width,i=t.height,t=t.x),{x:t,y:e,width:n,height:i,x2:t+n,y2:e+i}}function rfe(){return this.join(",").replace(att,"$1")}function A8(t){var e=rw(t);return e.toString=rfe,e}function Xde(t,e,n,i,a,c,d,h,m){var g=1-m,b=Yde(g,3),E=Yde(g,2),_=m*m,S=_*m,D=b*t+E*3*m*n+g*3*m*m*a+S*d,k=b*e+E*3*m*i+g*3*m*m*c+S*h;return{x:R8(D),y:R8(k)}}function Kde(t){var e=ytt.apply(null,t);return KF(e.x0,e.y0,e.x1-e.x0,e.y1-e.y0)}function Up(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function htt(t,e){return t=KF(t),e=KF(e),Up(e,t.x,t.y)||Up(e,t.x2,t.y)||Up(e,t.x,t.y2)||Up(e,t.x2,t.y2)||Up(t,e.x,e.y)||Up(t,e.x2,e.y)||Up(t,e.x,e.y2)||Up(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function Zde(t,e,n,i,a){var c=-3*e+9*n-9*i+3*a,d=t*c+6*e-12*n+6*i;return t*d-3*e+3*n}function Jde(t,e,n,i,a,c,d,h,m){m==null&&(m=1),m=m>1?1:m<0?0:m;for(var g=m/2,b=12,E=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],_=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],S=0,D=0;D<b;D++){var k=g*E[D]+g,I=Zde(k,t,n,a,d),R=Zde(k,e,i,c,h),$=I*I+R*R;S+=_[D]*yi.sqrt($)}return g*S}function ptt(t,e,n,i,a,c,d,h){if(!(ud(t,n)<cd(a,d)||cd(t,n)>ud(a,d)||ud(e,i)<cd(c,h)||cd(e,i)>ud(c,h))){var m=(t*i-e*n)*(a-d)-(t-n)*(a*h-c*d),g=(t*i-e*n)*(c-h)-(e-i)*(a*h-c*d),b=(t-n)*(c-h)-(e-i)*(a-d);if(b){var E=R8(m/b),_=R8(g/b),S=+E.toFixed(2),D=+_.toFixed(2);if(!(S<+cd(t,n).toFixed(2)||S>+ud(t,n).toFixed(2)||S<+cd(a,d).toFixed(2)||S>+ud(a,d).toFixed(2)||D<+cd(e,i).toFixed(2)||D>+ud(e,i).toFixed(2)||D<+cd(c,h).toFixed(2)||D>+ud(c,h).toFixed(2)))return{x:E,y:_}}}}function R8(t){return Math.round(t*1e11)/1e11}function mtt(t,e,n){var i=Kde(t),a=Kde(e);if(!htt(i,a))return n?0:[];for(var c=Jde.apply(0,t),d=Jde.apply(0,e),h=efe(t)?1:~~(c/5)||1,m=efe(e)?1:~~(d/5)||1,g=[],b=[],E={},_=n?0:[],S=0;S<h+1;S++){var D=Xde.apply(0,t.concat(S/h));g.push({x:D.x,y:D.y,t:S/h})}for(S=0;S<m+1;S++)D=Xde.apply(0,e.concat(S/m)),b.push({x:D.x,y:D.y,t:S/m});for(S=0;S<h;S++)for(var k=0;k<m;k++){var I=g[S],R=g[S+1],$=b[k],F=b[k+1],L=qp(R.x-I.x)<.01?"y":"x",V=qp(F.x-$.x)<.01?"y":"x",G=ptt(I.x,I.y,R.x,R.y,$.x,$.y,F.x,F.y),re;if(G){if(re=G.x.toFixed(9)+"#"+G.y.toFixed(9),E[re])continue;E[re]=!0;var ee=I.t+qp((G[L]-I[L])/(R[L]-I[L]))*(R.t-I.t),oe=$.t+qp((G[V]-$[V])/(F[V]-$[V]))*(F.t-$.t);ee>=0&&ee<=1&&oe>=0&&oe<=1&&(n?_++:_.push({x:G.x,y:G.y,t1:ee,t2:oe}))}}return _}function gtt(t,e,n){t=nfe(t),e=nfe(e);for(var i,a,c,d,h,m,g,b,E,_,S=n?0:[],D=0,k=t.length;D<k;D++){var I=t[D];if(I[0]=="M")i=h=I[1],a=m=I[2];else{I[0]=="C"?(E=[i,a].concat(I.slice(1)),i=E[6],a=E[7]):(E=[i,a,i,a,h,m,h,m],i=h,a=m);for(var R=0,$=e.length;R<$;R++){var F=e[R];if(F[0]=="M")c=g=F[1],d=b=F[2];else{F[0]=="C"?(_=[c,d].concat(F.slice(1)),c=_[6],d=_[7]):(_=[c,d,c,d,g,b,g,b],c=g,d=b);var L=mtt(E,_,n);if(n)S+=L;else{for(var V=0,G=L.length;V<G;V++)L[V].segment1=D,L[V].segment2=R,L[V].bez1=E,L[V].bez2=_;S=S.concat(L)}}}}}return S}function vtt(t){var e=c2(t);if(e.abs)return A8(e.abs);if((!M8(t)||!M8(t&&t[0]))&&(t=ftt(t)),!t||!t.length)return[["M",0,0]];var n=[],i=0,a=0,c=0,d=0,h=0,m;t[0][0]=="M"&&(i=+t[0][1],a=+t[0][2],c=i,d=a,h++,n[0]=["M",i,a]);for(var g,b,E=h,_=t.length;E<_;E++){if(n.push(g=[]),b=t[E],m=b[0],m!=m.toUpperCase())switch(g[0]=m.toUpperCase(),g[0]){case"A":g[1]=b[1],g[2]=b[2],g[3]=b[3],g[4]=b[4],g[5]=b[5],g[6]=+b[6]+i,g[7]=+b[7]+a;break;case"V":g[1]=+b[1]+a;break;case"H":g[1]=+b[1]+i;break;case"M":c=+b[1]+i,d=+b[2]+a;default:for(var S=1,D=b.length;S<D;S++)g[S]=+b[S]+(S%2?i:a)}else for(var k=0,I=b.length;k<I;k++)g[k]=b[k];switch(m=m.toUpperCase(),g[0]){case"Z":i=+c,a=+d;break;case"H":i=g[1];break;case"V":a=g[1];break;case"M":c=g[g.length-2],d=g[g.length-1];default:i=g[g.length-2],a=g[g.length-1]}}return n.toString=rfe,e.abs=A8(n),n}function efe(t){return t[0]===t[2]&&t[1]===t[3]&&t[4]===t[6]&&t[5]===t[7]}function I8(t,e,n,i){return[t,e,n,i,n,i]}function tfe(t,e,n,i,a,c){var d=.3333333333333333,h=2/3;return[d*t+h*n,d*e+h*i,d*a+h*n,d*c+h*i,a,c]}function ife(t,e,n,i,a,c,d,h,m,g){var b=Hp*120/180,E=Hp/180*(+a||0),_=[],S,D=dtt(function(rn,vt,an){var Bn=rn*yi.cos(an)-vt*yi.sin(an),ci=rn*yi.sin(an)+vt*yi.cos(an);return{x:Bn,y:ci}});if(g)re=g[0],ee=g[1],V=g[2],G=g[3];else{S=D(t,e,-E),t=S.x,e=S.y,S=D(h,m,-E),h=S.x,m=S.y;var k=(t-h)/2,I=(e-m)/2,R=k*k/(n*n)+I*I/(i*i);R>1&&(R=yi.sqrt(R),n=R*n,i=R*i);var $=n*n,F=i*i,L=(c==d?-1:1)*yi.sqrt(qp(($*F-$*I*I-F*k*k)/($*I*I+F*k*k))),V=L*n*I/i+(t+h)/2,G=L*-i*k/n+(e+m)/2,re=yi.asin(((e-G)/i).toFixed(9)),ee=yi.asin(((m-G)/i).toFixed(9));re=t<V?Hp-re:re,ee=h<V?Hp-ee:ee,re<0&&(re=Hp*2+re),ee<0&&(ee=Hp*2+ee),d&&re>ee&&(re=re-Hp*2),!d&&ee>re&&(ee=ee-Hp*2)}var oe=ee-re;if(qp(oe)>b){var pe=ee,ge=h,ce=m;ee=re+b*(d&&ee>re?1:-1),h=V+n*yi.cos(ee),m=G+i*yi.sin(ee),_=ife(h,m,n,i,a,0,d,ge,ce,[ee,pe,V,G])}oe=ee-re;var he=yi.cos(re),Se=yi.sin(re),Qe=yi.cos(ee),je=yi.sin(ee),xe=yi.tan(oe/4),_t=4/3*n*xe,ne=4/3*i*xe,B=[t,e],ue=[t+_t*Se,e-ne*he],Ee=[h+_t*je,m-ne*Qe],de=[h,m];if(ue[0]=2*B[0]-ue[0],ue[1]=2*B[1]-ue[1],g)return[ue,Ee,de].concat(_);_=[ue,Ee,de].concat(_).join().split(",");for(var _e=[],Ie=0,tt=_.length;Ie<tt;Ie++)_e[Ie]=Ie%2?D(_[Ie-1],_[Ie],E).y:D(_[Ie],_[Ie+1],E).x;return _e}function ytt(t,e,n,i,a,c,d,h){for(var m=[],g=[[],[]],b,E,_,S,D,k,I,R,$=0;$<2;++$){if($==0?(E=6*t-12*n+6*a,b=-3*t+9*n-9*a+3*d,_=3*n-3*t):(E=6*e-12*i+6*c,b=-3*e+9*i-9*c+3*h,_=3*i-3*e),qp(b)<1e-12){if(qp(E)<1e-12)continue;S=-_/E,0<S&&S<1&&m.push(S);continue}I=E*E-4*_*b,R=yi.sqrt(I),!(I<0)&&(D=(-E+R)/(2*b),0<D&&D<1&&m.push(D),k=(-E-R)/(2*b),0<k&&k<1&&m.push(k))}for(var F=m.length,L=F,V;F--;)S=m[F],V=1-S,g[0][F]=V*V*V*t+3*V*V*S*n+3*V*S*S*a+S*S*S*d,g[1][F]=V*V*V*e+3*V*V*S*i+3*V*S*S*c+S*S*S*h;return g[0][L]=t,g[1][L]=e,g[0][L+1]=d,g[1][L+1]=h,g[0].length=g[1].length=L+2,{x0:cd.apply(0,g[0]),y0:cd.apply(0,g[1]),x1:ud.apply(0,g[0]),y1:ud.apply(0,g[1])}}function nfe(t){var e=c2(t);if(e.curve)return A8(e.curve);for(var n=vtt(t),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=function(S,D,k){var I,R;if(!S)return["C",D.x,D.y,D.x,D.y,D.x,D.y];switch(!(S[0]in{T:1,Q:1})&&(D.qx=D.qy=null),S[0]){case"M":D.X=S[1],D.Y=S[2];break;case"A":S=["C"].concat(ife.apply(0,[D.x,D.y].concat(S.slice(1))));break;case"S":k=="C"||k=="S"?(I=D.x*2-D.bx,R=D.y*2-D.by):(I=D.x,R=D.y),S=["C",I,R].concat(S.slice(1));break;case"T":k=="Q"||k=="T"?(D.qx=D.x*2-D.qx,D.qy=D.y*2-D.qy):(D.qx=D.x,D.qy=D.y),S=["C"].concat(tfe(D.x,D.y,D.qx,D.qy,S[1],S[2]));break;case"Q":D.qx=S[1],D.qy=S[2],S=["C"].concat(tfe(D.x,D.y,S[1],S[2],S[3],S[4]));break;case"L":S=["C"].concat(I8(D.x,D.y,S[1],S[2]));break;case"H":S=["C"].concat(I8(D.x,D.y,S[1],D.y));break;case"V":S=["C"].concat(I8(D.x,D.y,D.x,S[1]));break;case"Z":S=["C"].concat(I8(D.x,D.y,D.X,D.Y));break}return S},c=function(S,D){if(S[D].length>7){S[D].shift();for(var k=S[D];k.length;)d[D]="A",S.splice(D++,0,["C"].concat(k.splice(0,6)));S.splice(D,1),b=n.length}},d=[],h="",m="",g=0,b=n.length;g<b;g++){n[g]&&(h=n[g][0]),h!="C"&&(d[g]=h,g&&(m=d[g-1])),n[g]=a(n[g],i,m),d[g]!="A"&&h=="C"&&(d[g]="C"),c(n,g);var E=n[g],_=E.length;i.x=E[_-2],i.y=E[_-1],i.bx=Qde(E[_-4])||i.x,i.by=Qde(E[_-3])||i.y}return e.curve=A8(n),n}ofe.exports=gtt});var tB=Qu((PRt,eB)=>{"use strict";function Ttt(t,e,n,i){var a=n.inverse;return Object.defineProperty(t,"remove",{value:function(c){var d=this.indexOf(c);return d!==-1&&(this.splice(d,1),e.unset(c,a,i)),c}}),Object.defineProperty(t,"contains",{value:function(c){return this.indexOf(c)!==-1}}),Object.defineProperty(t,"add",{value:function(c,d){var h=this.indexOf(c);if(typeof d>"u"){if(h!==-1)return;d=this.length}h!==-1&&this.splice(h,1),this.splice(d,0,c),h===-1&&e.set(c,a,i)}}),Object.defineProperty(t,"__refs_collection",{value:!0}),t}function ktt(t){return t.__refs_collection===!0}eB.exports.extend=Ttt;eB.exports.isExtended=ktt});var mfe=Qu((IRt,pfe)=>{"use strict";var ffe=tB();function Ptt(t,e){return Object.prototype.hasOwnProperty.call(t,e.name||e)}function hfe(t,e,n){var i=ffe.extend(n[e.name]||[],t,e,n);Object.defineProperty(n,e.name,{enumerable:e.enumerable,value:i}),i.length&&i.forEach(function(a){t.set(a,e.inverse,n)})}function Itt(t,e,n){var i=e.inverse,a=n[e.name];Object.defineProperty(n,e.name,{configurable:e.configurable,enumerable:e.enumerable,get:function(){return a},set:function(c){if(c!==a){var d=a;a=null,d&&t.unset(d,i,n),a=c,t.set(a,i,n)}}})}function Wp(t,e){if(!(this instanceof Wp))return new Wp(t,e);t.inverse=e,e.inverse=t,this.props={},this.props[t.name]=t,this.props[e.name]=e}Wp.prototype.bind=function(t,e){if(typeof e=="string"){if(!this.props[e])throw new Error("no property <"+e+"> in ref");e=this.props[e]}e.collection?hfe(this,e,t):Itt(this,e,t)};Wp.prototype.ensureRefsCollection=function(t,e){var n=t[e.name];return ffe.isExtended(n)||hfe(this,e,t),n};Wp.prototype.ensureBound=function(t,e){Ptt(t,e)||this.bind(t,e)};Wp.prototype.unset=function(t,e,n){t&&(this.ensureBound(t,e),e.collection?this.ensureRefsCollection(t,e).remove(n):t[e.name]=void 0)};Wp.prototype.set=function(t,e,n){t&&(this.ensureBound(t,e),e.collection?this.ensureRefsCollection(t,e).add(n):t[e.name]=n)};pfe.exports=Wp});var gfe=Qu((MRt,nB)=>{"use strict";nB.exports=mfe();nB.exports.Collection=tB()});var Bhe=Qu((_Ft,w7)=>{"use strict";(function(t,e,n,i){"use strict";var a=["","webkit","Moz","MS","ms","o"],c=e.createElement("div"),d="function",h=Math.round,m=Math.abs,g=Date.now;function b(W,Z,fe){return setTimeout($(W,fe),Z)}function E(W,Z,fe){return Array.isArray(W)?(_(W,fe[Z],fe),!0):!1}function _(W,Z,fe){var Oe;if(W)if(W.forEach)W.forEach(Z,fe);else if(W.length!==i)for(Oe=0;Oe<W.length;)Z.call(fe,W[Oe],Oe,W),Oe++;else for(Oe in W)W.hasOwnProperty(Oe)&&Z.call(fe,W[Oe],Oe,W)}function S(W,Z,fe){var Oe="DEPRECATED METHOD: "+Z+`
`+fe+` AT 
`;return function(){var $e=new Error("get-stack-trace"),rt=$e&&$e.stack?$e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",on=t.console&&(t.console.warn||t.console.log);return on&&on.call(t.console,Oe,rt),W.apply(this,arguments)}}var D;typeof Object.assign!="function"?D=function(Z){if(Z===i||Z===null)throw new TypeError("Cannot convert undefined or null to object");for(var fe=Object(Z),Oe=1;Oe<arguments.length;Oe++){var $e=arguments[Oe];if($e!==i&&$e!==null)for(var rt in $e)$e.hasOwnProperty(rt)&&(fe[rt]=$e[rt])}return fe}:D=Object.assign;var k=S(function(Z,fe,Oe){for(var $e=Object.keys(fe),rt=0;rt<$e.length;)(!Oe||Oe&&Z[$e[rt]]===i)&&(Z[$e[rt]]=fe[$e[rt]]),rt++;return Z},"extend","Use `assign`."),I=S(function(Z,fe){return k(Z,fe,!0)},"merge","Use `assign`.");function R(W,Z,fe){var Oe=Z.prototype,$e;$e=W.prototype=Object.create(Oe),$e.constructor=W,$e._super=Oe,fe&&D($e,fe)}function $(W,Z){return function(){return W.apply(Z,arguments)}}function F(W,Z){return typeof W==d?W.apply(Z&&Z[0]||i,Z):W}function L(W,Z){return W===i?Z:W}function V(W,Z,fe){_(oe(Z),function(Oe){W.addEventListener(Oe,fe,!1)})}function G(W,Z,fe){_(oe(Z),function(Oe){W.removeEventListener(Oe,fe,!1)})}function re(W,Z){for(;W;){if(W==Z)return!0;W=W.parentNode}return!1}function ee(W,Z){return W.indexOf(Z)>-1}function oe(W){return W.trim().split(/\s+/g)}function pe(W,Z,fe){if(W.indexOf&&!fe)return W.indexOf(Z);for(var Oe=0;Oe<W.length;){if(fe&&W[Oe][fe]==Z||!fe&&W[Oe]===Z)return Oe;Oe++}return-1}function ge(W){return Array.prototype.slice.call(W,0)}function ce(W,Z,fe){for(var Oe=[],$e=[],rt=0;rt<W.length;){var on=Z?W[rt][Z]:W[rt];pe($e,on)<0&&Oe.push(W[rt]),$e[rt]=on,rt++}return fe&&(Z?Oe=Oe.sort(function(no,wo){return no[Z]>wo[Z]}):Oe=Oe.sort()),Oe}function he(W,Z){for(var fe,Oe,$e=Z[0].toUpperCase()+Z.slice(1),rt=0;rt<a.length;){if(fe=a[rt],Oe=fe?fe+$e:Z,Oe in W)return Oe;rt++}return i}var Se=1;function Qe(){return Se++}function je(W){var Z=W.ownerDocument||W;return Z.defaultView||Z.parentWindow||t}var xe=/mobile|tablet|ip(ad|hone|od)|android/i,_t="ontouchstart"in t,ne=he(t,"PointerEvent")!==i,B=_t&&xe.test(navigator.userAgent),ue="touch",Ee="pen",de="mouse",_e="kinect",Ie=25,tt=1,rn=2,vt=4,an=8,Bn=1,ci=2,Ji=4,An=8,gr=16,ti=ci|Ji,bl=An|gr,ni=ti|bl,Tr=["x","y"],Fo=["clientX","clientY"];function Mt(W,Z){var fe=this;this.manager=W,this.callback=Z,this.element=W.element,this.target=W.options.inputTarget,this.domHandler=function(Oe){F(W.options.enable,[W])&&fe.handler(Oe)},this.init()}Mt.prototype={handler:function(){},init:function(){this.evEl&&V(this.element,this.evEl,this.domHandler),this.evTarget&&V(this.target,this.evTarget,this.domHandler),this.evWin&&V(je(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&G(this.element,this.evEl,this.domHandler),this.evTarget&&G(this.target,this.evTarget,this.domHandler),this.evWin&&G(je(this.element),this.evWin,this.domHandler)}};function xl(W){var Z,fe=W.options.inputClass;return fe?Z=fe:ne?Z=W1:B?Z=Y0:_t?Z=Ps:Z=Q0,new Z(W,El)}function El(W,Z,fe){var Oe=fe.pointers.length,$e=fe.changedPointers.length,rt=Z&tt&&Oe-$e===0,on=Z&(vt|an)&&Oe-$e===0;fe.isFirst=!!rt,fe.isFinal=!!on,rt&&(W.session={}),fe.eventType=Z,ks(W,fe),W.emit("hammer.input",fe),W.recognize(fe),W.session.prevInput=fe}function ks(W,Z){var fe=W.session,Oe=Z.pointers,$e=Oe.length;fe.firstInput||(fe.firstInput=Z4(Z)),$e>1&&!fe.firstMultiple?fe.firstMultiple=Z4(Z):$e===1&&(fe.firstMultiple=!1);var rt=fe.firstInput,on=fe.firstMultiple,$i=on?on.center:rt.center,no=Z.center=r3(Oe);Z.timeStamp=g(),Z.deltaTime=Z.timeStamp-rt.timeStamp,Z.angle=eo($i,no),Z.distance=G0($i,no),gt(fe,Z),Z.offsetDirection=q1(Z.deltaX,Z.deltaY);var wo=U1(Z.deltaTime,Z.deltaX,Z.deltaY);Z.overallVelocityX=wo.x,Z.overallVelocityY=wo.y,Z.overallVelocity=m(wo.x)>m(wo.y)?wo.x:wo.y,Z.scale=on?mu(on.pointers,Oe):1,Z.rotation=on?ia(on.pointers,Oe):0,Z.maxPointers=fe.prevInput?Z.pointers.length>fe.prevInput.maxPointers?Z.pointers.length:fe.prevInput.maxPointers:Z.pointers.length,wn(fe,Z);var Na=W.element;re(Z.srcEvent.target,Na)&&(Na=Z.srcEvent.target),Z.target=Na}function gt(W,Z){var fe=Z.center,Oe=W.offsetDelta||{},$e=W.prevDelta||{},rt=W.prevInput||{};(Z.eventType===tt||rt.eventType===vt)&&($e=W.prevDelta={x:rt.deltaX||0,y:rt.deltaY||0},Oe=W.offsetDelta={x:fe.x,y:fe.y}),Z.deltaX=$e.x+(fe.x-Oe.x),Z.deltaY=$e.y+(fe.y-Oe.y)}function wn(W,Z){var fe=W.lastInterval||Z,Oe=Z.timeStamp-fe.timeStamp,$e,rt,on,$i;if(Z.eventType!=an&&(Oe>Ie||fe.velocity===i)){var no=Z.deltaX-fe.deltaX,wo=Z.deltaY-fe.deltaY,Na=U1(Oe,no,wo);rt=Na.x,on=Na.y,$e=m(Na.x)>m(Na.y)?Na.x:Na.y,$i=q1(no,wo),W.lastInterval=Z}else $e=fe.velocity,rt=fe.velocityX,on=fe.velocityY,$i=fe.direction;Z.velocity=$e,Z.velocityX=rt,Z.velocityY=on,Z.direction=$i}function Z4(W){for(var Z=[],fe=0;fe<W.pointers.length;)Z[fe]={clientX:h(W.pointers[fe].clientX),clientY:h(W.pointers[fe].clientY)},fe++;return{timeStamp:g(),pointers:Z,center:r3(Z),deltaX:W.deltaX,deltaY:W.deltaY}}function r3(W){var Z=W.length;if(Z===1)return{x:h(W[0].clientX),y:h(W[0].clientY)};for(var fe=0,Oe=0,$e=0;$e<Z;)fe+=W[$e].clientX,Oe+=W[$e].clientY,$e++;return{x:h(fe/Z),y:h(Oe/Z)}}function U1(W,Z,fe){return{x:Z/W||0,y:fe/W||0}}function q1(W,Z){return W===Z?Bn:m(W)>=m(Z)?W<0?ci:Ji:Z<0?An:gr}function G0(W,Z,fe){fe||(fe=Tr);var Oe=Z[fe[0]]-W[fe[0]],$e=Z[fe[1]]-W[fe[1]];return Math.sqrt(Oe*Oe+$e*$e)}function eo(W,Z,fe){fe||(fe=Tr);var Oe=Z[fe[0]]-W[fe[0]],$e=Z[fe[1]]-W[fe[1]];return Math.atan2($e,Oe)*180/Math.PI}function ia(W,Z){return eo(Z[1],Z[0],Fo)+eo(W[1],W[0],Fo)}function mu(W,Z){return G0(Z[0],Z[1],Fo)/G0(W[0],W[1],Fo)}var J4={mousedown:tt,mousemove:rn,mouseup:vt},hh="mousedown",UP="mousemove mouseup";function Q0(){this.evEl=hh,this.evWin=UP,this.pressed=!1,Mt.apply(this,arguments)}R(Q0,Mt,{handler:function(Z){var fe=J4[Z.type];fe&tt&&Z.button===0&&(this.pressed=!0),fe&rn&&Z.which!==1&&(fe=vt),this.pressed&&(fe&vt&&(this.pressed=!1),this.callback(this.manager,fe,{pointers:[Z],changedPointers:[Z],pointerType:de,srcEvent:Z}))}});var oa={pointerdown:tt,pointermove:rn,pointerup:vt,pointercancel:an,pointerout:an},i3={2:ue,3:Ee,4:de,5:_e},e_="pointerdown",t_="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(e_="MSPointerDown",t_="MSPointerMove MSPointerUp MSPointerCancel");function W1(){this.evEl=e_,this.evWin=t_,Mt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}R(W1,Mt,{handler:function(Z){var fe=this.store,Oe=!1,$e=Z.type.toLowerCase().replace("ms",""),rt=oa[$e],on=i3[Z.pointerType]||Z.pointerType,$i=on==ue,no=pe(fe,Z.pointerId,"pointerId");rt&tt&&(Z.button===0||$i)?no<0&&(fe.push(Z),no=fe.length-1):rt&(vt|an)&&(Oe=!0),!(no<0)&&(fe[no]=Z,this.callback(this.manager,rt,{pointers:fe,changedPointers:[Z],pointerType:on,srcEvent:Z}),Oe&&fe.splice(no,1))}});var qP={touchstart:tt,touchmove:rn,touchend:vt,touchcancel:an},G1="touchstart",n_="touchstart touchmove touchend touchcancel";function o3(){this.evTarget=G1,this.evWin=n_,this.started=!1,Mt.apply(this,arguments)}R(o3,Mt,{handler:function(Z){var fe=qP[Z.type];if(fe===tt&&(this.started=!0),!!this.started){var Oe=WP.call(this,Z,fe);fe&(vt|an)&&Oe[0].length-Oe[1].length===0&&(this.started=!1),this.callback(this.manager,fe,{pointers:Oe[0],changedPointers:Oe[1],pointerType:ue,srcEvent:Z})}}});function WP(W,Z){var fe=ge(W.touches),Oe=ge(W.changedTouches);return Z&(vt|an)&&(fe=ce(fe.concat(Oe),"identifier",!0)),[fe,Oe]}var s3={touchstart:tt,touchmove:rn,touchend:vt,touchcancel:an},to="touchstart touchmove touchend touchcancel";function Y0(){this.evTarget=to,this.targetIds={},Mt.apply(this,arguments)}R(Y0,Mt,{handler:function(Z){var fe=s3[Z.type],Oe=GP.call(this,Z,fe);Oe&&this.callback(this.manager,fe,{pointers:Oe[0],changedPointers:Oe[1],pointerType:ue,srcEvent:Z})}});function GP(W,Z){var fe=ge(W.touches),Oe=this.targetIds;if(Z&(tt|rn)&&fe.length===1)return Oe[fe[0].identifier]=!0,[fe,fe];var $e,rt,on=ge(W.changedTouches),$i=[],no=this.target;if(rt=fe.filter(function(wo){return re(wo.target,no)}),Z===tt)for($e=0;$e<rt.length;)Oe[rt[$e].identifier]=!0,$e++;for($e=0;$e<on.length;)Oe[on[$e].identifier]&&$i.push(on[$e]),Z&(vt|an)&&delete Oe[on[$e].identifier],$e++;if($i.length)return[ce(rt.concat($i),"identifier",!0),$i]}var QP=2500,Q1=25;function Ps(){Mt.apply(this,arguments);var W=$(this.handler,this);this.touch=new Y0(this.manager,W),this.mouse=new Q0(this.manager,W),this.primaryTouch=null,this.lastTouches=[]}R(Ps,Mt,{handler:function(Z,fe,Oe){var $e=Oe.pointerType==ue,rt=Oe.pointerType==de;if(!(rt&&Oe.sourceCapabilities&&Oe.sourceCapabilities.firesTouchEvents)){if($e)r_.call(this,fe,Oe);else if(rt&&YP.call(this,Oe))return;this.callback(Z,fe,Oe)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function r_(W,Z){W&tt?(this.primaryTouch=Z.changedPointers[0].identifier,i_.call(this,Z)):W&(vt|an)&&i_.call(this,Z)}function i_(W){var Z=W.changedPointers[0];if(Z.identifier===this.primaryTouch){var fe={x:Z.clientX,y:Z.clientY};this.lastTouches.push(fe);var Oe=this.lastTouches,$e=function(){var rt=Oe.indexOf(fe);rt>-1&&Oe.splice(rt,1)};setTimeout($e,QP)}}function YP(W){for(var Z=W.srcEvent.clientX,fe=W.srcEvent.clientY,Oe=0;Oe<this.lastTouches.length;Oe++){var $e=this.lastTouches[Oe],rt=Math.abs(Z-$e.x),on=Math.abs(fe-$e.y);if(rt<=Q1&&on<=Q1)return!0}return!1}var ph=he(c.style,"touchAction"),o_=ph!==i,gu="compute",s_="auto",a3="manipulation",vu="none",mh="pan-x",wl="pan-y",X0=l3();function gh(W,Z){this.manager=W,this.set(Z)}gh.prototype={set:function(W){W==gu&&(W=this.compute()),o_&&this.manager.element.style&&X0[W]&&(this.manager.element.style[ph]=W),this.actions=W.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var W=[];return _(this.manager.recognizers,function(Z){F(Z.options.enable,[Z])&&(W=W.concat(Z.getTouchAction()))}),XP(W.join(" "))},preventDefaults:function(W){var Z=W.srcEvent,fe=W.offsetDirection;if(this.manager.session.prevented){Z.preventDefault();return}var Oe=this.actions,$e=ee(Oe,vu)&&!X0[vu],rt=ee(Oe,wl)&&!X0[wl],on=ee(Oe,mh)&&!X0[mh];if($e){var $i=W.pointers.length===1,no=W.distance<2,wo=W.deltaTime<250;if($i&&no&&wo)return}if(!(on&&rt)&&($e||rt&&fe&ti||on&&fe&bl))return this.preventSrc(Z)},preventSrc:function(W){this.manager.session.prevented=!0,W.preventDefault()}};function XP(W){if(ee(W,vu))return vu;var Z=ee(W,mh),fe=ee(W,wl);return Z&&fe?vu:Z||fe?Z?mh:wl:ee(W,a3)?a3:s_}function l3(){if(!o_)return!1;var W={},Z=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(fe){W[fe]=Z?t.CSS.supports("touch-action",fe):!0}),W}var Y1=1,Is=2,vh=4,yc=8,_l=yc,K0=16,Ms=32;function Cl(W){this.options=D({},this.defaults,W||{}),this.id=Qe(),this.manager=null,this.options.enable=L(this.options.enable,!0),this.state=Y1,this.simultaneous={},this.requireFail=[]}Cl.prototype={defaults:{},set:function(W){return D(this.options,W),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(W){if(E(W,"recognizeWith",this))return this;var Z=this.simultaneous;return W=X1(W,this),Z[W.id]||(Z[W.id]=W,W.recognizeWith(this)),this},dropRecognizeWith:function(W){return E(W,"dropRecognizeWith",this)?this:(W=X1(W,this),delete this.simultaneous[W.id],this)},requireFailure:function(W){if(E(W,"requireFailure",this))return this;var Z=this.requireFail;return W=X1(W,this),pe(Z,W)===-1&&(Z.push(W),W.requireFailure(this)),this},dropRequireFailure:function(W){if(E(W,"dropRequireFailure",this))return this;W=X1(W,this);var Z=pe(this.requireFail,W);return Z>-1&&this.requireFail.splice(Z,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(W){return!!this.simultaneous[W.id]},emit:function(W){var Z=this,fe=this.state;function Oe($e){Z.manager.emit($e,W)}fe<yc&&Oe(Z.options.event+c3(fe)),Oe(Z.options.event),W.additionalEvent&&Oe(W.additionalEvent),fe>=yc&&Oe(Z.options.event+c3(fe))},tryEmit:function(W){if(this.canEmit())return this.emit(W);this.state=Ms},canEmit:function(){for(var W=0;W<this.requireFail.length;){if(!(this.requireFail[W].state&(Ms|Y1)))return!1;W++}return!0},recognize:function(W){var Z=D({},W);if(!F(this.options.enable,[this,Z])){this.reset(),this.state=Ms;return}this.state&(_l|K0|Ms)&&(this.state=Y1),this.state=this.process(Z),this.state&(Is|vh|yc|K0)&&this.tryEmit(Z)},process:function(W){},getTouchAction:function(){},reset:function(){}};function c3(W){return W&K0?"cancel":W&yc?"end":W&vh?"move":W&Is?"start":""}function a_(W){return W==gr?"down":W==An?"up":W==ci?"left":W==Ji?"right":""}function X1(W,Z){var fe=Z.manager;return fe?fe.get(W):W}function sa(){Cl.apply(this,arguments)}R(sa,Cl,{defaults:{pointers:1},attrTest:function(W){var Z=this.options.pointers;return Z===0||W.pointers.length===Z},process:function(W){var Z=this.state,fe=W.eventType,Oe=Z&(Is|vh),$e=this.attrTest(W);return Oe&&(fe&an||!$e)?Z|K0:Oe||$e?fe&vt?Z|yc:Z&Is?Z|vh:Is:Ms}});function K1(){sa.apply(this,arguments),this.pX=null,this.pY=null}R(K1,sa,{defaults:{event:"pan",threshold:10,pointers:1,direction:ni},getTouchAction:function(){var W=this.options.direction,Z=[];return W&ti&&Z.push(wl),W&bl&&Z.push(mh),Z},directionTest:function(W){var Z=this.options,fe=!0,Oe=W.distance,$e=W.direction,rt=W.deltaX,on=W.deltaY;return $e&Z.direction||(Z.direction&ti?($e=rt===0?Bn:rt<0?ci:Ji,fe=rt!=this.pX,Oe=Math.abs(W.deltaX)):($e=on===0?Bn:on<0?An:gr,fe=on!=this.pY,Oe=Math.abs(W.deltaY))),W.direction=$e,fe&&Oe>Z.threshold&&$e&Z.direction},attrTest:function(W){return sa.prototype.attrTest.call(this,W)&&(this.state&Is||!(this.state&Is)&&this.directionTest(W))},emit:function(W){this.pX=W.deltaX,this.pY=W.deltaY;var Z=a_(W.direction);Z&&(W.additionalEvent=this.options.event+Z),this._super.emit.call(this,W)}});function u3(){sa.apply(this,arguments)}R(u3,sa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[vu]},attrTest:function(W){return this._super.attrTest.call(this,W)&&(Math.abs(W.scale-1)>this.options.threshold||this.state&Is)},emit:function(W){if(W.scale!==1){var Z=W.scale<1?"in":"out";W.additionalEvent=this.options.event+Z}this._super.emit.call(this,W)}});function Sl(){Cl.apply(this,arguments),this._timer=null,this._input=null}R(Sl,Cl,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[s_]},process:function(W){var Z=this.options,fe=W.pointers.length===Z.pointers,Oe=W.distance<Z.threshold,$e=W.deltaTime>Z.time;if(this._input=W,!Oe||!fe||W.eventType&(vt|an)&&!$e)this.reset();else if(W.eventType&tt)this.reset(),this._timer=b(function(){this.state=_l,this.tryEmit()},Z.time,this);else if(W.eventType&vt)return _l;return Ms},reset:function(){clearTimeout(this._timer)},emit:function(W){this.state===_l&&(W&&W.eventType&vt?this.manager.emit(this.options.event+"up",W):(this._input.timeStamp=g(),this.manager.emit(this.options.event,this._input)))}});function La(){sa.apply(this,arguments)}R(La,sa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[vu]},attrTest:function(W){return this._super.attrTest.call(this,W)&&(Math.abs(W.rotation)>this.options.threshold||this.state&Is)}});function d3(){sa.apply(this,arguments)}R(d3,sa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ti|bl,pointers:1},getTouchAction:function(){return K1.prototype.getTouchAction.call(this)},attrTest:function(W){var Z=this.options.direction,fe;return Z&(ti|bl)?fe=W.overallVelocity:Z&ti?fe=W.overallVelocityX:Z&bl&&(fe=W.overallVelocityY),this._super.attrTest.call(this,W)&&Z&W.offsetDirection&&W.distance>this.options.threshold&&W.maxPointers==this.options.pointers&&m(fe)>this.options.velocity&&W.eventType&vt},emit:function(W){var Z=a_(W.offsetDirection);Z&&this.manager.emit(this.options.event+Z,W),this.manager.emit(this.options.event,W)}});function yu(){Cl.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}R(yu,Cl,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[a3]},process:function(W){var Z=this.options,fe=W.pointers.length===Z.pointers,Oe=W.distance<Z.threshold,$e=W.deltaTime<Z.time;if(this.reset(),W.eventType&tt&&this.count===0)return this.failTimeout();if(Oe&&$e&&fe){if(W.eventType!=vt)return this.failTimeout();var rt=this.pTime?W.timeStamp-this.pTime<Z.interval:!0,on=!this.pCenter||G0(this.pCenter,W.center)<Z.posThreshold;this.pTime=W.timeStamp,this.pCenter=W.center,!on||!rt?this.count=1:this.count+=1,this._input=W;var $i=this.count%Z.taps;if($i===0)return this.hasRequireFailures()?(this._timer=b(function(){this.state=_l,this.tryEmit()},Z.interval,this),Is):_l}return Ms},failTimeout:function(){return this._timer=b(function(){this.state=Ms},this.options.interval,this),Ms},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==_l&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function $a(W,Z){return Z=Z||{},Z.recognizers=L(Z.recognizers,$a.defaults.preset),new Z0(W,Z)}$a.VERSION="2.0.7",$a.defaults={domEvents:!1,touchAction:gu,enable:!0,inputTarget:null,inputClass:null,preset:[[La,{enable:!1}],[u3,{enable:!1},["rotate"]],[d3,{direction:ti}],[K1,{direction:ti},["swipe"]],[yu],[yu,{event:"doubletap",taps:2},["tap"]],[Sl]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var yh=1,bh=2;function Z0(W,Z){this.options=D({},$a.defaults,Z||{}),this.options.inputTarget=this.options.inputTarget||W,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=W,this.input=xl(this),this.touchAction=new gh(this,this.options.touchAction),J0(this,!0),_(this.options.recognizers,function(fe){var Oe=this.add(new fe[0](fe[1]));fe[2]&&Oe.recognizeWith(fe[2]),fe[3]&&Oe.requireFailure(fe[3])},this)}Z0.prototype={set:function(W){return D(this.options,W),W.touchAction&&this.touchAction.update(),W.inputTarget&&(this.input.destroy(),this.input.target=W.inputTarget,this.input.init()),this},stop:function(W){this.session.stopped=W?bh:yh},recognize:function(W){var Z=this.session;if(!Z.stopped){this.touchAction.preventDefaults(W);var fe,Oe=this.recognizers,$e=Z.curRecognizer;(!$e||$e&&$e.state&_l)&&($e=Z.curRecognizer=null);for(var rt=0;rt<Oe.length;)fe=Oe[rt],Z.stopped!==bh&&(!$e||fe==$e||fe.canRecognizeWith($e))?fe.recognize(W):fe.reset(),!$e&&fe.state&(Is|vh|yc)&&($e=Z.curRecognizer=fe),rt++}},get:function(W){if(W instanceof Cl)return W;for(var Z=this.recognizers,fe=0;fe<Z.length;fe++)if(Z[fe].options.event==W)return Z[fe];return null},add:function(W){if(E(W,"add",this))return this;var Z=this.get(W.options.event);return Z&&this.remove(Z),this.recognizers.push(W),W.manager=this,this.touchAction.update(),W},remove:function(W){if(E(W,"remove",this))return this;if(W=this.get(W),W){var Z=this.recognizers,fe=pe(Z,W);fe!==-1&&(Z.splice(fe,1),this.touchAction.update())}return this},on:function(W,Z){if(W!==i&&Z!==i){var fe=this.handlers;return _(oe(W),function(Oe){fe[Oe]=fe[Oe]||[],fe[Oe].push(Z)}),this}},off:function(W,Z){if(W!==i){var fe=this.handlers;return _(oe(W),function(Oe){Z?fe[Oe]&&fe[Oe].splice(pe(fe[Oe],Z),1):delete fe[Oe]}),this}},emit:function(W,Z){this.options.domEvents&&Eo(W,Z);var fe=this.handlers[W]&&this.handlers[W].slice();if(!(!fe||!fe.length)){Z.type=W,Z.preventDefault=function(){Z.srcEvent.preventDefault()};for(var Oe=0;Oe<fe.length;)fe[Oe](Z),Oe++}},destroy:function(){this.element&&J0(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function J0(W,Z){var fe=W.element;if(fe.style){var Oe;_(W.options.cssProps,function($e,rt){Oe=he(fe.style,rt),Z?(W.oldCssProps[Oe]=fe.style[Oe],fe.style[Oe]=$e):fe.style[Oe]=W.oldCssProps[Oe]||""}),Z||(W.oldCssProps={})}}function Eo(W,Z){var fe=e.createEvent("Event");fe.initEvent(W,!0,!0),fe.gesture=Z,Z.target.dispatchEvent(fe)}D($a,{INPUT_START:tt,INPUT_MOVE:rn,INPUT_END:vt,INPUT_CANCEL:an,STATE_POSSIBLE:Y1,STATE_BEGAN:Is,STATE_CHANGED:vh,STATE_ENDED:yc,STATE_RECOGNIZED:_l,STATE_CANCELLED:K0,STATE_FAILED:Ms,DIRECTION_NONE:Bn,DIRECTION_LEFT:ci,DIRECTION_RIGHT:Ji,DIRECTION_UP:An,DIRECTION_DOWN:gr,DIRECTION_HORIZONTAL:ti,DIRECTION_VERTICAL:bl,DIRECTION_ALL:ni,Manager:Z0,Input:Mt,TouchAction:gh,TouchInput:Y0,MouseInput:Q0,PointerEventInput:W1,TouchMouseInput:Ps,SingleTouchInput:o3,Recognizer:Cl,AttrRecognizer:sa,Tap:yu,Pan:K1,Swipe:d3,Pinch:u3,Rotate:La,Press:Sl,on:V,off:G,each:_,merge:I,extend:k,assign:D,inherit:R,bindFn:$,prefixed:he});var f3=typeof t<"u"?t:typeof self<"u"?self:{};f3.Hammer=$a,typeof define=="function"&&define.amd?define(function(){return $a}):typeof w7<"u"&&w7.exports?w7.exports=$a:t[n]=$a})(window,document,"Hammer")});var Hj=Qu((Vj,zj)=>{"use strict";(function(t,e){typeof Vj=="object"&&typeof zj<"u"?zj.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.DmnJS=e())})(Vj,function(){"use strict";function t(o){return Array.prototype.concat.apply([],o)}let e=Object.prototype.toString,n=Object.prototype.hasOwnProperty;function i(o){return o===void 0}function a(o){return o!==void 0}function c(o){return o==null}function d(o){return e.call(o)==="[object Array]"}function h(o){return e.call(o)==="[object Object]"}function m(o){return e.call(o)==="[object Number]"}function g(o){let r=e.call(o);return r==="[object Function]"||r==="[object AsyncFunction]"||r==="[object GeneratorFunction]"||r==="[object AsyncGeneratorFunction]"||r==="[object Proxy]"}function b(o){return e.call(o)==="[object String]"}function E(o,r){return n.call(o,r)}function _(o,r){let s=ge(r),l;return D(o,function(u,f){if(s(u,f))return l=u,!1}),l}function S(o,r){let s=ge(r),l=[];return D(o,function(u,f){s(u,f)&&l.push(u)}),l}function D(o,r){let s,l;if(i(o))return;let u=d(o)?he:ce;for(let f in o)if(E(o,f)&&(s=o[f],l=r(s,u(f)),l===!1))return s}function k(o,r,s){return D(o,function(l,u){s=r(s,l,u)}),s}function I(o,r){return!!k(o,function(s,l,u){return s&&r(l,u)},!0)}function R(o,r){return!!_(o,r)}function $(o,r){let s=[];return D(o,function(l,u){s.push(r(l,u))}),s}function F(o){return o&&Object.keys(o)||[]}function L(o){return F(o).length}function V(o){return $(o,r=>r)}function G(o,r,s={}){return r=pe(r),D(o,function(l){let u=r(l)||"_",f=s[u];f||(f=s[u]=[]),f.push(l)}),s}function re(o,...r){o=pe(o);let s={};return D(r,u=>G(u,o,s)),$(s,function(u,f){return u[0]})}function ee(o,r){r=pe(r);let s=[];return D(o,function(l,u){let f=r(l,u),p={d:f,v:l};for(var v=0;v<s.length;v++){let{d:y}=s[v];if(f<y){s.splice(v,0,p);return}}s.push(p)}),$(s,l=>l.v)}function oe(o){return function(r){return I(o,function(s,l){return r[l]===s})}}function pe(o){return g(o)?o:r=>r[o]}function ge(o){return g(o)?o:r=>r===o}function ce(o){return o}function he(o){return Number(o)}function Se(o,r){let s,l,u,f;function p(C){let O=Date.now(),T=C?0:f+r-O;if(T>0)return v(T);o.apply(u,l),y()}function v(C){s=setTimeout(p,C)}function y(){s&&clearTimeout(s),s=f=l=u=void 0}function x(){s&&p(!0),y()}function w(...C){f=Date.now(),l=C,u=this,s||v(r)}return w.flush=x,w.cancel=y,w}function Qe(o,r){let s=!1;return function(...l){s||(o(...l),s=!0,setTimeout(()=>{s=!1},r))}}function je(o,r){return o.bind(r)}function xe(o,...r){return Object.assign(o,...r)}function _t(o,r){let s={},l=Object(o);return D(r,function(u){u in l&&(s[u]=o[u])}),s}function ne(o,r){let s={},l=Object(o);return D(l,function(u,f){r.indexOf(f)===-1&&(s[f]=u)}),s}var B="__fn",ue=1e3,Ee=Array.prototype.slice;function de(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}de.prototype.on=function(o,r,s,l){if(o=d(o)?o:[o],g(r)&&(l=s,s=r,r=ue),!m(r))throw new Error("priority must be a number");var u=s;l&&(u=je(s,l),u[B]=s[B]||s);var f=this;o.forEach(function(p){f._addListener(p,{priority:r,callback:u,next:null})})},de.prototype.once=function(o,r,s,l){var u=this;if(g(r)&&(l=s,s=r,r=ue),!m(r))throw new Error("priority must be a number");function f(){f.__isTomb=!0;var p=s.apply(l,arguments);return u.off(o,f),p}f[B]=s,this.on(o,r,f)},de.prototype.off=function(o,r){o=d(o)?o:[o];var s=this;o.forEach(function(l){s._removeListener(l,r)})},de.prototype.createEvent=function(o){var r=new _e;return r.init(o),r},de.prototype.fire=function(o,r){var s,l,u,f;if(f=Ee.call(arguments),typeof o=="object"&&(r=o,o=r.type),!o)throw new Error("no event type specified");if(l=this._listeners[o],!!l){r instanceof _e?s=r:s=this.createEvent(r),f[0]=s;var p=s.type;o!==p&&(s.type=o);try{u=this._invokeListeners(s,f,l)}finally{o!==p&&(s.type=p)}return u===void 0&&s.defaultPrevented&&(u=!1),u}},de.prototype.handleError=function(o){return this.fire("error",{error:o})===!1},de.prototype._destroy=function(){this._listeners={}},de.prototype._invokeListeners=function(o,r,s){for(var l;s&&!o.cancelBubble;)l=this._invokeListener(o,r,s),s=s.next;return l},de.prototype._invokeListener=function(o,r,s){var l;if(s.callback.__isTomb)return l;try{l=Ie(s.callback,r),l!==void 0&&(o.returnValue=l,o.stopPropagation()),l===!1&&o.preventDefault()}catch(u){if(!this.handleError(u))throw console.error("unhandled error in event listener",u),u}return l},de.prototype._addListener=function(o,r){var s=this._getListeners(o),l;if(!s){this._setListeners(o,r);return}for(;s;){if(s.priority<r.priority){r.next=s,l?l.next=r:this._setListeners(o,r);return}l=s,s=s.next}l.next=r},de.prototype._getListeners=function(o){return this._listeners[o]},de.prototype._setListeners=function(o,r){this._listeners[o]=r},de.prototype._removeListener=function(o,r){var s=this._getListeners(o),l,u,f;if(!r){this._setListeners(o,null);return}for(;s;)l=s.next,f=s.callback,(f===r||f[B]===r)&&(u?u.next=l:this._setListeners(o,l)),u=s,s=l};function _e(){}_e.prototype.stopPropagation=function(){this.cancelBubble=!0},_e.prototype.preventDefault=function(){this.defaultPrevented=!0},_e.prototype.init=function(o){xe(this,o||{})};function Ie(o,r){return o.apply(null,r)}var tt=Object.prototype.toString;function rn(o){return tt.call(o)==="[object String]"}function vt(){return vt=Object.assign||function(o){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},vt.apply(this,arguments)}function an(o){for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return vt.apply(void 0,[o].concat(s))}var Bn=Object.prototype.toString,ci=Object.prototype.hasOwnProperty;function Ji(o){return o===void 0}function An(o){return Bn.call(o)==="[object Array]"}function gr(o){return Bn.call(o)==="[object Object]"}function ti(o){return Bn.call(o)==="[object String]"}function bl(o,r){return ci.call(o,r)}function ni(o,r){var s,l;if(!Ji(o)){var u=An(o)?Fo:Tr;for(var f in o)if(bl(o,f)&&(s=o[f],l=r(s,u(f)),l===!1))return s}}function Tr(o){return o}function Fo(o){return Number(o)}function Mt(o,r){return o.bind(r)}function xl(){return xl=Object.assign||function(o){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},xl.apply(this,arguments)}function El(o){for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return xl.apply(void 0,[o].concat(s))}function ks(o,r){var s={},l=Object(o);return ni(r,function(u){u in l&&(s[u]=o[u])}),s}function gt(){}gt.prototype.get=function(o){return this.$model.properties.get(this,o)},gt.prototype.set=function(o,r){this.$model.properties.set(this,o,r)};function wn(o,r){this.model=o,this.properties=r}wn.prototype.createType=function(o){var r=this.model,s=this.properties,l=Object.create(gt.prototype);ni(o.properties,function(p){!p.isMany&&p.default!==void 0&&(l[p.name]=p.default)}),s.defineModel(l,r),s.defineDescriptor(l,o);var u=o.ns.name;function f(p){s.define(this,"$type",{value:u,enumerable:!0}),s.define(this,"$attrs",{value:{}}),s.define(this,"$parent",{writable:!0}),ni(p,Mt(function(v,y){this.set(y,v)},this))}return f.prototype=l,f.hasType=l.$instanceOf=this.model.hasType,s.defineModel(f,r),s.defineDescriptor(f,o),f};var Z4={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},r3={String:function(o){return o},Boolean:function(o){return o==="true"},Integer:function(o){return parseInt(o,10)},Real:function(o){return parseFloat(o)}};function U1(o,r){var s=r3[o];return s?s(r):r}function q1(o){return!!Z4[o]}function G0(o){return!!r3[o]}function eo(o,r){var s=o.split(/:/),l,u;if(s.length===1)l=o,u=r;else if(s.length===2)l=s[1],u=s[0];else throw new Error("expected <prefix:localName> or <localName>, got "+o);return o=(u?u+":":"")+l,{name:o,prefix:u,localName:l}}function ia(o){this.ns=o,this.name=o.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}ia.prototype.build=function(){return ks(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},ia.prototype.addProperty=function(o,r,s){typeof r=="boolean"&&(s=r,r=void 0),this.addNamedProperty(o,s!==!1);var l=this.properties;r!==void 0?l.splice(r,0,o):l.push(o)},ia.prototype.replaceProperty=function(o,r,s){var l=o.ns,u=this.properties,f=this.propertiesByName,p=o.name!==r.name;if(o.isId){if(!r.isId)throw new Error("property <"+r.ns.name+"> must be id property to refine <"+o.ns.name+">");this.setIdProperty(r,!1)}if(o.isBody){if(!r.isBody)throw new Error("property <"+r.ns.name+"> must be body property to refine <"+o.ns.name+">");this.setBodyProperty(r,!1)}var v=u.indexOf(o);if(v===-1)throw new Error("property <"+l.name+"> not found in property list");u.splice(v,1),this.addProperty(r,s?void 0:v,p),f[l.name]=f[l.localName]=r},ia.prototype.redefineProperty=function(o,r,s){var l=o.ns.prefix,u=r.split("#"),f=eo(u[0],l),p=eo(u[1],f.prefix).name,v=this.propertiesByName[p];if(v)this.replaceProperty(v,o,s);else throw new Error("refined property <"+p+"> not found");delete o.redefines},ia.prototype.addNamedProperty=function(o,r){var s=o.ns,l=this.propertiesByName;r&&(this.assertNotDefined(o,s.name),this.assertNotDefined(o,s.localName)),l[s.name]=l[s.localName]=o},ia.prototype.removeNamedProperty=function(o){var r=o.ns,s=this.propertiesByName;delete s[r.name],delete s[r.localName]},ia.prototype.setBodyProperty=function(o,r){if(r&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+o.ns.name+">)");this.bodyProperty=o},ia.prototype.setIdProperty=function(o,r){if(r&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+o.ns.name+">)");this.idProperty=o},ia.prototype.assertNotDefined=function(o,r){var s=o.name,l=this.propertiesByName[s];if(l)throw new Error("property <"+s+"> already defined; override of <"+l.definedBy.ns.name+"#"+l.ns.name+"> by <"+o.definedBy.ns.name+"#"+o.ns.name+"> not allowed without redefines")},ia.prototype.hasProperty=function(o){return this.propertiesByName[o]},ia.prototype.addTrait=function(o,r){var s=this.allTypesByName,l=this.allTypes,u=o.name;u in s||(ni(o.properties,Mt(function(f){f=El({},f,{name:f.ns.localName,inherited:r}),Object.defineProperty(f,"definedBy",{value:o});var p=f.replaces,v=f.redefines;p||v?this.redefineProperty(f,p||v,p):(f.isBody&&this.setBodyProperty(f),f.isId&&this.setIdProperty(f),this.addProperty(f))},this)),l.push(o),s[u]=o)};function mu(o,r){this.packageMap={},this.typeMap={},this.packages=[],this.properties=r,ni(o,Mt(this.registerPackage,this))}mu.prototype.getPackage=function(o){return this.packageMap[o]},mu.prototype.getPackages=function(){return this.packages},mu.prototype.registerPackage=function(o){o=El({},o);var r=this.packageMap;J4(r,o,"prefix"),J4(r,o,"uri"),ni(o.types,Mt(function(s){this.registerType(s,o)},this)),r[o.uri]=r[o.prefix]=o,this.packages.push(o)},mu.prototype.registerType=function(o,r){o=El({},o,{superClass:(o.superClass||[]).slice(),extends:(o.extends||[]).slice(),properties:(o.properties||[]).slice(),meta:El(o.meta||{})});var s=eo(o.name,r.prefix),l=s.name,u={};ni(o.properties,Mt(function(f){var p=eo(f.name,s.prefix),v=p.name;q1(f.type)||(f.type=eo(f.type,p.prefix).name),El(f,{ns:p,name:v}),u[v]=f},this)),El(o,{ns:s,name:l,propertiesByName:u}),ni(o.extends,Mt(function(f){var p=this.typeMap[f];p.traits=p.traits||[],p.traits.push(l)},this)),this.definePackage(o,r),this.typeMap[l]=o},mu.prototype.mapTypes=function(o,r,s){var l=q1(o.name)?{name:o.name}:this.typeMap[o.name],u=this;function f(v){return p(v,!0)}function p(v,y){var x=eo(v,q1(v)?"":o.prefix);u.mapTypes(x,r,y)}if(!l)throw new Error("unknown type <"+o.name+">");ni(l.superClass,s?f:p),r(l,!s),ni(l.traits,f)},mu.prototype.getEffectiveDescriptor=function(o){var r=eo(o),s=new ia(r);this.mapTypes(r,function(u,f){s.addTrait(u,f)});var l=s.build();return this.definePackage(l,l.allTypes[l.allTypes.length-1].$pkg),l},mu.prototype.definePackage=function(o,r){this.properties.define(o,"$pkg",{value:r})};function J4(o,r,s){var l=r[s];if(l in o)throw new Error("package with "+s+" <"+l+"> already defined")}function hh(o){this.model=o}hh.prototype.set=function(o,r,s){if(!ti(r)||!r.length)throw new TypeError("property name must be a non-empty string");var l=this.model.getPropertyDescriptor(o,r),u=l&&l.name;UP(s)?l?delete o[u]:delete o.$attrs[r]:l?u in o?o[u]=s:Q0(o,l,s):o.$attrs[r]=s},hh.prototype.get=function(o,r){var s=this.model.getPropertyDescriptor(o,r);if(!s)return o.$attrs[r];var l=s.name;return!o[l]&&s.isMany&&Q0(o,s,[]),o[l]},hh.prototype.define=function(o,r,s){if(!s.writable){var l=s.value;s=El({},s,{get:function(){return l}}),delete s.value}Object.defineProperty(o,r,s)},hh.prototype.defineDescriptor=function(o,r){this.define(o,"$descriptor",{value:r})},hh.prototype.defineModel=function(o,r){this.define(o,"$model",{value:r})};function UP(o){return typeof o>"u"}function Q0(o,r,s){Object.defineProperty(o,r.name,{enumerable:!r.isReference,writable:!0,value:s,configurable:!0})}function oa(o){this.properties=new hh(this),this.factory=new wn(this,this.properties),this.registry=new mu(o,this.properties),this.typeCache={}}oa.prototype.create=function(o,r){var s=this.getType(o);if(!s)throw new Error("unknown type <"+o+">");return new s(r)},oa.prototype.getType=function(o){var r=this.typeCache,s=ti(o)?o:o.ns.name,l=r[s];return l||(o=this.registry.getEffectiveDescriptor(s),l=r[s]=this.factory.createType(o)),l},oa.prototype.createAny=function(o,r,s){var l=eo(o),u={$type:o,$instanceOf:function(p){return p===this.$type}},f={name:o,isGeneric:!0,ns:{prefix:l.prefix,localName:l.localName,uri:r}};return this.properties.defineDescriptor(u,f),this.properties.defineModel(u,this),this.properties.define(u,"$parent",{enumerable:!1,writable:!0}),this.properties.define(u,"$instanceOf",{enumerable:!1,writable:!0}),ni(s,function(p,v){gr(p)&&p.value!==void 0?u[p.name]=p.value:u[v]=p}),u},oa.prototype.getPackage=function(o){return this.registry.getPackage(o)},oa.prototype.getPackages=function(){return this.registry.getPackages()},oa.prototype.getElementDescriptor=function(o){return o.$descriptor},oa.prototype.hasType=function(o,r){r===void 0&&(r=o,o=this);var s=o.$model.getElementDescriptor(o);return r in s.allTypesByName},oa.prototype.getPropertyDescriptor=function(o,r){return this.getElementDescriptor(o).propertiesByName[r]},oa.prototype.getTypeDescriptor=function(o){return this.registry.typeMap[o]};var i3=Object.prototype.toString,e_=Object.prototype.hasOwnProperty;function t_(o){return o===void 0}function W1(o){return i3.call(o)==="[object Array]"}function qP(o){var r=i3.call(o);return r==="[object Function]"||r==="[object AsyncFunction]"||r==="[object GeneratorFunction]"||r==="[object AsyncGeneratorFunction]"||r==="[object Proxy]"}function G1(o){return i3.call(o)==="[object String]"}function n_(o,r){return e_.call(o,r)}function o3(o,r){r=Y0(r);var s;return to(o,function(l,u){if(r(l,u))return s=l,!1}),s}function WP(o,r){r=Y0(r);var s=W1(o)?-1:void 0;return to(o,function(l,u){if(r(l,u))return s=u,!1}),s}function s3(o,r){var s=[];return to(o,function(l,u){r(l,u)&&s.push(l)}),s}function to(o,r){var s,l;if(!t_(o)){var u=W1(o)?QP:GP;for(var f in o)if(n_(o,f)&&(s=o[f],l=r(s,u(f)),l===!1))return s}}function Y0(o){return qP(o)?o:function(r){return r===o}}function GP(o){return o}function QP(o){return Number(o)}function Q1(){return Q1=Object.assign||function(o){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},Q1.apply(this,arguments)}function Ps(o){for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return Q1.apply(void 0,[o].concat(s))}var r_=String.fromCharCode,i_=Object.prototype.hasOwnProperty,YP=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/ig,ph={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(ph).forEach(function(o){ph[o.toUpperCase()]=ph[o]});function o_(o,r,s,l){return l?i_.call(ph,l)?ph[l]:"&"+l+";":r_(r||parseInt(s,16))}function gu(o){return o.length>3&&o.indexOf("&")!==-1?o.replace(YP,o_):o}var s_="http://www.w3.org/2001/XMLSchema-instance",a3="xsi",vu="xsi:type",mh="non-whitespace outside of root node";function wl(o){return new Error(o)}function X0(o){return"missing namespace for prefix <"+o+">"}function gh(o){return{get:o,enumerable:!0}}function XP(o){var r={},s;for(s in o)r[s]=o[s];return r}function l3(o){return o+"$uri"}function Y1(o){var r={},s,l;for(s in o)l=o[s],r[l]=l,r[l3(l)]=s;return r}function Is(){return{line:0,column:0}}function vh(o){throw o}function yc(o){if(!this)return new yc(o);var r=o&&o.proxy,s,l,u,f,p=vh,v,y,x,w,C=Is,O=!1,T=!1,P=null,N=!1,j;function q(H){H instanceof Error||(H=wl(H)),P=H,p(H,C)}function Q(H){v&&(H instanceof Error||(H=wl(H)),v(H,C))}this.on=function(H,X){if(typeof X!="function")throw wl("required args <name, cb>");switch(H){case"openTag":l=X;break;case"text":s=X;break;case"closeTag":u=X;break;case"error":p=X;break;case"warn":v=X;break;case"cdata":f=X;break;case"attention":w=X;break;case"question":x=X;break;case"comment":y=X;break;default:throw wl("unsupported event: "+H)}return this},this.ns=function(H){if(typeof H>"u"&&(H={}),typeof H!="object")throw wl("required args <nsMap={}>");var X={},Y;for(Y in H)X[Y]=H[Y];return X[s_]=a3,T=!0,j=X,this},this.parse=function(H){if(typeof H!="string")throw wl("required args <xml=string>");return P=null,U(H),C=Is,N=!1,P},this.stop=function(){N=!0};function U(H){var X=T?[]:null,Y=T?Y1(j):null,ae,te=[],ve=0,be=!1,Ce=!1,Te=0,Re=0,it,Er,On,qt,bs,Ac,ur,si,Wo,ma="",Xa=0,zi;function yp(){if(zi!==null)return zi;var Rc,Hl,gi,Lc=T&&Y.xmlns,Ef=T&&O?[]:null,Gr=Xa,Go=ma,sg=Go.length,Use,bp,ki,Gu,lr,fy={},qse={},$c,Ct,nr;e:for(;Gr<sg;Gr++)if($c=!1,Ct=Go.charCodeAt(Gr),!(Ct===32||Ct<14&&Ct>8)){for((Ct<65||Ct>122||Ct>90&&Ct<97)&&Ct!==95&&Ct!==58&&(Q("illegal first char attribute name"),$c=!0),nr=Gr+1;nr<sg;nr++)if(Ct=Go.charCodeAt(nr),!(Ct>96&&Ct<123||Ct>64&&Ct<91||Ct>47&&Ct<59||Ct===46||Ct===45||Ct===95)){if(Ct===32||Ct<14&&Ct>8){Q("missing attribute value"),Gr=nr;continue e}if(Ct===61)break;Q("illegal attribute name char"),$c=!0}if(lr=Go.substring(Gr,nr),lr==="xmlns:xmlns"&&(Q("illegal declaration of xmlns"),$c=!0),Ct=Go.charCodeAt(nr+1),Ct===34)nr=Go.indexOf('"',Gr=nr+2),nr===-1&&(nr=Go.indexOf("'",Gr),nr!==-1&&(Q("attribute value quote missmatch"),$c=!0));else if(Ct===39)nr=Go.indexOf("'",Gr=nr+2),nr===-1&&(nr=Go.indexOf('"',Gr),nr!==-1&&(Q("attribute value quote missmatch"),$c=!0));else for(Q("missing attribute value quotes"),$c=!0,nr=nr+1;nr<sg&&(Ct=Go.charCodeAt(nr+1),!(Ct===32||Ct<14&&Ct>8));nr++);for(nr===-1&&(Q("missing closing quotes"),nr=sg,$c=!0),$c||(ki=Go.substring(Gr,nr)),Gr=nr;nr+1<sg&&(Ct=Go.charCodeAt(nr+1),!(Ct===32||Ct<14&&Ct>8));nr++)Gr===nr&&(Q("illegal character after attribute end"),$c=!0);if(Gr=nr+1,$c)continue e;if(lr in qse){Q("attribute <"+lr+"> already defined");continue}if(qse[lr]=!0,!T){fy[lr]=ki;continue}if(O){if(bp=lr==="xmlns"?"xmlns":lr.charCodeAt(0)===120&&lr.substr(0,6)==="xmlns:"?lr.substr(6):null,bp!==null){if(Rc=gu(ki),Hl=l3(bp),Gu=j[Rc],!Gu){if(bp==="xmlns"||Hl in Y&&Y[Hl]!==Rc)do Gu="ns"+ve++;while(typeof Y[Gu]<"u");else Gu=bp;j[Rc]=Gu}Y[bp]!==Gu&&(Use||(Y=XP(Y),Use=!0),Y[bp]=Gu,bp==="xmlns"&&(Y[l3(Gu)]=Rc,Lc=Gu),Y[Hl]=Rc),fy[lr]=ki;continue}Ef.push(lr,ki);continue}if(Ct=lr.indexOf(":"),Ct===-1){fy[lr]=ki;continue}if(!(gi=Y[lr.substring(0,Ct)])){Q(X0(lr.substring(0,Ct)));continue}lr=Lc===gi?lr.substr(Ct+1):gi+lr.substr(Ct),lr===vu&&(Ct=ki.indexOf(":"),Ct!==-1?(gi=ki.substring(0,Ct),gi=Y[gi]||gi,ki=gi+ki.substring(Ct)):ki=Lc+":"+ki),fy[lr]=ki}if(O)for(Gr=0,sg=Ef.length;Gr<sg;Gr++){if(lr=Ef[Gr++],ki=Ef[Gr],Ct=lr.indexOf(":"),Ct!==-1){if(!(gi=Y[lr.substring(0,Ct)])){Q(X0(lr.substring(0,Ct)));continue}lr=Lc===gi?lr.substr(Ct+1):gi+lr.substr(Ct),lr===vu&&(Ct=ki.indexOf(":"),Ct!==-1?(gi=ki.substring(0,Ct),gi=Y[gi]||gi,ki=gi+ki.substring(Ct)):ki=Lc+":"+ki)}fy[lr]=ki}return zi=fy}function LS(){for(var Rc=/(\r\n|\r|\n)/g,Hl=0,gi=0,Lc=0,Ef=Re,Gr,Go;Te>=Lc&&(Gr=Rc.exec(H),!(!Gr||(Ef=Gr[0].length+Gr.index,Ef>Te)));)Hl+=1,Lc=Ef;return Te==-1?(gi=Ef,Go=H.substring(Re)):Re===0?Go=H.substring(Re,Te):(gi=Te-Lc,Go=Re==-1?H.substring(Te):H.substring(Te,Re+1)),{data:Go,line:Hl,column:gi}}for(C=LS,r&&(Wo=Object.create({},{name:gh(function(){return ur}),originalName:gh(function(){return si}),attrs:gh(yp),ns:gh(function(){return Y})}));Re!==-1;){if(H.charCodeAt(Re)===60?Te=Re:Te=H.indexOf("<",Re),Te===-1){if(te.length)return q("unexpected end of file");if(Re===0)return q("missing start tag");Re<H.length&&H.substring(Re).trim()&&Q(mh);return}if(Re!==Te){if(te.length){if(s&&(s(H.substring(Re,Te),gu,C),N))return}else if(H.substring(Re,Te).trim()&&(Q(mh),N))return}if(qt=H.charCodeAt(Te+1),qt===33){if(On=H.charCodeAt(Te+2),On===91&&H.substr(Te+3,6)==="CDATA["){if(Re=H.indexOf("]]>",Te),Re===-1)return q("unclosed cdata");if(f&&(f(H.substring(Te+9,Re),C),N))return;Re+=3;continue}if(On===45&&H.charCodeAt(Te+3)===45){if(Re=H.indexOf("-->",Te),Re===-1)return q("unclosed comment");if(y&&(y(H.substring(Te+4,Re),gu,C),N))return;Re+=3;continue}}if(qt===63){if(Re=H.indexOf("?>",Te),Re===-1)return q("unclosed question");if(x&&(x(H.substring(Te,Re+2),C),N))return;Re+=2;continue}for(it=Te+1;;it++){if(bs=H.charCodeAt(it),isNaN(bs))return Re=-1,q("unclosed tag");if(bs===34)On=H.indexOf('"',it+1),it=On!==-1?On:it;else if(bs===39)On=H.indexOf("'",it+1),it=On!==-1?On:it;else if(bs===62){Re=it;break}}if(qt===33){if(w&&(w(H.substring(Te,Re+1),gu,C),N))return;Re+=1;continue}if(zi={},qt===47){if(be=!1,Ce=!0,!te.length)return q("missing open tag");if(it=ur=te.pop(),On=Te+2+it.length,H.substring(Te+2,On)!==it)return q("closing tag mismatch");for(;On<Re;On++)if(qt=H.charCodeAt(On),!(qt===32||qt>8&&qt<14))return q("close tag")}else{if(H.charCodeAt(Re-1)===47?(it=ur=H.substring(Te+1,Re-1),be=!0,Ce=!0):(it=ur=H.substring(Te+1,Re),be=!0,Ce=!1),!(qt>96&&qt<123||qt>64&&qt<91||qt===95||qt===58))return q("illegal first char nodeName");for(On=1,Er=it.length;On<Er;On++)if(qt=it.charCodeAt(On),!(qt>96&&qt<123||qt>64&&qt<91||qt>47&&qt<59||qt===45||qt===95||qt==46)){if(qt===32||qt<14&&qt>8){ur=it.substring(0,On),zi=null;break}return q("invalid nodeName")}Ce||te.push(ur)}if(T){if(ae=Y,be&&(Ce||X.push(ae),zi===null&&(O=it.indexOf("xmlns",On)!==-1)&&(Xa=On,ma=it,yp(),O=!1)),si=ur,qt=ur.indexOf(":"),qt!==-1){if(Ac=Y[ur.substring(0,qt)],!Ac)return q("missing namespace on <"+si+">");ur=ur.substr(qt+1)}else Ac=Y.xmlns;Ac&&(ur=Ac+":"+ur)}if(be&&(Xa=On,ma=it,l&&(r?l(Wo,gu,Ce,C):l(ur,yp,gu,Ce,C),N)))return;if(Ce){if(u&&(u(r?Wo:ur,gu,be,C),N))return;T&&(be?Y=ae:Y=X.pop())}Re+=1}}}function _l(o){return o.xml&&o.xml.tagAlias==="lowerCase"}var K0={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},Ms="xsi:type";function Cl(o){return o.xml&&o.xml.serialize}function c3(o){return Cl(o)===Ms}function a_(o){return Cl(o)==="property"}function X1(o){return o.charAt(0).toUpperCase()+o.slice(1)}function sa(o,r){return _l(r)?o.prefix+":"+X1(o.localName):o.name}function K1(o,r){var s=o.name,l=o.localName,u=r.xml&&r.xml.typePrefix;return u&&l.indexOf(u)===0?o.prefix+":"+l.slice(u.length):s}function u3(o,r){var s=eo(o),l=r.getPackage(s.prefix);return K1(s,l)}function Sl(o){return new Error(o)}function La(o){return o.$descriptor}function d3(o){Ps(this,o),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(r){this.references.push(r)},this.addElement=function(r){if(!r)throw Sl("expected element");var s=this.elementsById,l=La(r),u=l.idProperty,f;if(u&&(f=r.get(u.name),f)){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(f))throw new Error("illegal ID <"+f+">");if(s[f])throw Sl("duplicate ID <"+f+">");s[f]=r}},this.addWarning=function(r){this.warnings.push(r)}}function yu(){}yu.prototype.handleEnd=function(){},yu.prototype.handleText=function(){},yu.prototype.handleNode=function(){};function $a(){}$a.prototype=Object.create(yu.prototype),$a.prototype.handleNode=function(){return this};function yh(){}yh.prototype=Object.create(yu.prototype),yh.prototype.handleText=function(o){this.body=(this.body||"")+o};function bh(o,r){this.property=o,this.context=r}bh.prototype=Object.create(yh.prototype),bh.prototype.handleNode=function(o){if(this.element)throw Sl("expected no sub nodes");return this.element=this.createReference(o),this},bh.prototype.handleEnd=function(){this.element.id=this.body},bh.prototype.createReference=function(o){return{property:this.property.ns.name,id:""}};function Z0(o,r){this.element=r,this.propertyDesc=o}Z0.prototype=Object.create(yh.prototype),Z0.prototype.handleEnd=function(){var o=this.body||"",r=this.element,s=this.propertyDesc;o=U1(s.type,o),s.isMany?r.get(s.name).push(o):r.set(s.name,o)};function J0(){}J0.prototype=Object.create(yh.prototype),J0.prototype.handleNode=function(o){var r=this,s=this.element;return s?r=this.handleChild(o):(s=this.element=this.createElement(o),this.context.addElement(s)),r};function Eo(o,r,s){this.model=o,this.type=o.getType(r),this.context=s}Eo.prototype=Object.create(J0.prototype),Eo.prototype.addReference=function(o){this.context.addReference(o)},Eo.prototype.handleText=function(o){var r=this.element,s=La(r),l=s.bodyProperty;if(!l)throw Sl("unexpected body text <"+o+">");yh.prototype.handleText.call(this,o)},Eo.prototype.handleEnd=function(){var o=this.body,r=this.element,s=La(r),l=s.bodyProperty;l&&o!==void 0&&(o=U1(l.type,o),r.set(l.name,o))},Eo.prototype.createElement=function(o){var r=o.attributes,s=this.type,l=La(s),u=this.context,f=new s({}),p=this.model,v;return to(r,function(y,x){var w=l.propertiesByName[x],C;w&&w.isReference?w.isMany?(C=y.split(" "),to(C,function(O){u.addReference({element:f,property:w.ns.name,id:O})})):u.addReference({element:f,property:w.ns.name,id:y}):(w?y=U1(w.type,y):x!=="xmlns"&&(v=eo(x,l.ns.prefix),p.getPackage(v.prefix)&&u.addWarning({message:"unknown attribute <"+x+">",element:f,property:x,value:y})),f.set(x,y))}),f},Eo.prototype.getPropertyForNode=function(o){var r=o.name,s=eo(r),l=this.type,u=this.model,f=La(l),p=s.name,v=f.propertiesByName[p],y,x;if(v&&!v.isAttr)return c3(v)&&(y=o.attributes[Ms],y)?(y=u3(y,u),x=u.getType(y),Ps({},v,{effectiveType:La(x).name})):v;var w=u.getPackage(s.prefix);if(w){if(y=sa(s,w),x=u.getType(y),v=o3(f.properties,function(C){return!C.isVirtual&&!C.isReference&&!C.isAttribute&&x.hasType(C.type)}),v)return Ps({},v,{effectiveType:La(x).name})}else if(v=o3(f.properties,function(C){return!C.isReference&&!C.isAttribute&&C.type==="Element"}),v)return v;throw Sl("unrecognized element <"+s.name+">")},Eo.prototype.toString=function(){return"ElementDescriptor["+La(this.type).name+"]"},Eo.prototype.valueHandler=function(o,r){return new Z0(o,r)},Eo.prototype.referenceHandler=function(o){return new bh(o,this.context)},Eo.prototype.handler=function(o){return o==="Element"?new W(this.model,o,this.context):new Eo(this.model,o,this.context)},Eo.prototype.handleChild=function(o){var r,s,l,u;if(r=this.getPropertyForNode(o),l=this.element,s=r.effectiveType||r.type,G0(s))return this.valueHandler(r,l);r.isReference?u=this.referenceHandler(r).handleNode(o):u=this.handler(s).handleNode(o);var f=u.element;return f!==void 0&&(r.isMany?l.get(r.name).push(f):l.set(r.name,f),r.isReference?(Ps(f,{element:l}),this.context.addReference(f)):f.$parent=l),u};function f3(o,r,s){Eo.call(this,o,r,s)}f3.prototype=Object.create(Eo.prototype),f3.prototype.createElement=function(o){var r=o.name,s=eo(r),l=this.model,u=this.type,f=l.getPackage(s.prefix),p=f&&sa(s,f)||r;if(!u.hasType(p))throw Sl("unexpected element <"+o.originalName+">");return Eo.prototype.createElement.call(this,o)};function W(o,r,s){this.model=o,this.context=s}W.prototype=Object.create(J0.prototype),W.prototype.createElement=function(o){var r=o.name,s=eo(r),l=s.prefix,u=o.ns[l+"$uri"],f=o.attributes;return this.model.createAny(r,u,f)},W.prototype.handleChild=function(o){var r=new W(this.model,"Element",this.context).handleNode(o),s=this.element,l=r.element,u;return l!==void 0&&(u=s.$children=s.$children||[],u.push(l),l.$parent=s),r},W.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)};function Z(o){o instanceof oa&&(o={model:o}),Ps(this,{lax:!1},o)}Z.prototype.fromXML=function(o,r,s){var l=r.rootHandler;r instanceof Eo?(l=r,r={}):typeof r=="string"?(l=this.handler(r),r={}):typeof l=="string"&&(l=this.handler(l));var u=this.model,f=this.lax,p=new d3(Ps({},r,{rootHandler:l})),v=new yc({proxy:!0}),y=fe();l.context=p,y.push(l);function x(X,Y,ae){var te=Y(),ve=te.line,be=te.column,Ce=te.data;Ce.charAt(0)==="<"&&Ce.indexOf(" ")!==-1&&(Ce=Ce.slice(0,Ce.indexOf(" "))+">");var Te="unparsable content "+(Ce?Ce+" ":"")+`detected
	line: `+ve+`
	column: `+be+`
	nested error: `+X.message;if(ae)return p.addWarning({message:Te,error:X}),!0;throw Sl(Te)}function w(X,Y){return x(X,Y,!0)}function C(){var X=p.elementsById,Y=p.references,ae,te;for(ae=0;te=Y[ae];ae++){var ve=te.element,be=X[te.id],Ce=La(ve).propertiesByName[te.property];if(be||p.addWarning({message:"unresolved reference <"+te.id+">",element:te.element,property:te.property,value:te.id}),Ce.isMany){var Te=ve.get(Ce.name),Re=Te.indexOf(te);Re===-1&&(Re=Te.length),be?Te[Re]=be:Te.splice(Re,1)}else ve.set(Ce.name,be)}}function O(){y.pop().handleEnd()}var T=/^<\?xml /i,P=/ encoding="([^"]+)"/i,N=/^utf-8$/i;function j(X){if(T.test(X)){var Y=P.exec(X),ae=Y&&Y[1];!ae||N.test(ae)||p.addWarning({message:"unsupported document encoding <"+ae+">, falling back to UTF-8"})}}function q(X,Y){var ae=y.peek();try{y.push(ae.handleNode(X))}catch(te){x(te,Y,f)&&y.push(new $a)}}function Q(X,Y){try{y.peek().handleText(X)}catch(ae){w(ae,Y)}}function U(X,Y){X.trim()&&Q(X,Y)}var H=u.getPackages().reduce(function(X,Y){return X[Y.uri]=Y.prefix,X},{"http://www.w3.org/XML/1998/namespace":"xml"});return v.ns(H).on("openTag",function(X,Y,ae,te){var ve=X.attrs||{},be=Object.keys(ve).reduce(function(Te,Re){var it=Y(ve[Re]);return Te[Re]=it,Te},{}),Ce={name:X.name,originalName:X.originalName,attributes:be,ns:X.ns};q(Ce,te)}).on("question",j).on("closeTag",O).on("cdata",Q).on("text",function(X,Y,ae){U(Y(X),ae)}).on("error",x).on("warn",w),new Promise(function(X,Y){var ae;try{v.parse(o),C()}catch(Te){ae=Te}var te=l.element;!ae&&!te&&(ae=Sl("failed to parse document as <"+l.type.$descriptor.name+">"));var ve=p.warnings,be=p.references,Ce=p.elementsById;return ae?(ae.warnings=ve,Y(ae)):X({rootElement:te,elementsById:Ce,references:be,warnings:ve})})},Z.prototype.handler=function(o){return new f3(this.model,o)};function fe(){var o=[];return Object.defineProperty(o,"peek",{value:function(){return this[this.length-1]}}),o}var Oe=`<?xml version="1.0" encoding="UTF-8"?>
`,$e=/<|>|'|"|&|\n\r|\n/g,rt=/<|>|&/g;function on(o){var r={},s={},l={},u=[],f=[];this.byUri=function(p){return s[p]||o&&o.byUri(p)},this.add=function(p,v){s[p.uri]=p,v?u.push(p):f.push(p),this.mapPrefix(p.prefix,p.uri)},this.uriByPrefix=function(p){return r[p||"xmlns"]},this.mapPrefix=function(p,v){r[p||"xmlns"]=v},this.getNSKey=function(p){return p.prefix!==void 0?p.uri+"|"+p.prefix:p.uri},this.logUsed=function(p){var v=p.uri,y=this.getNSKey(p);l[y]=this.byUri(v),o&&o.logUsed(p)},this.getUsed=function(p){function v(w){var C=y.getNSKey(w);return l[C]}var y=this,x=[].concat(u,f);return x.filter(v)}}function $i(o){return o.charAt(0).toLowerCase()+o.slice(1)}function no(o,r){return _l(r)?$i(o):o}function wo(o,r){o.super_=r,o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}function Na(o){return G1(o)?o:(o.prefix?o.prefix+":":"")+o.localName}function J4e(o){return o.getUsed().filter(function(r){return r.prefix!=="xml"}).map(function(r){var s="xmlns"+(r.prefix?":"+r.prefix:"");return{name:s,value:r.uri}})}function e_e(o,r){return r.isGeneric?Ps({localName:r.ns.localName},o):Ps({localName:no(r.ns.localName,r.$pkg)},o)}function t_e(o,r){return Ps({localName:r.ns.localName},o)}function n_e(o){var r=o.$descriptor;return s3(r.properties,function(s){var l=s.name;if(s.isVirtual||!n_(o,l))return!1;var u=o[l];return u===s.default||u===null?!1:s.isMany?u.length:!0})}var r_e={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},i_e={"<":"lt",">":"gt","&":"amp"};function fG(o,r,s){return o=G1(o)?o:""+o,o.replace(r,function(l){return"&"+s[l]+";"})}function o_e(o){return fG(o,$e,r_e)}function s_e(o){return fG(o,rt,i_e)}function a_e(o){return s3(o,function(r){return r.isAttr})}function l_e(o){return s3(o,function(r){return!r.isAttr})}function KP(o){this.tagName=o}KP.prototype.build=function(o){return this.element=o,this},KP.prototype.serializeTo=function(o){o.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()};function em(){}em.prototype.serializeValue=em.prototype.serializeTo=function(o){o.append(this.escape?s_e(this.value):this.value)},em.prototype.build=function(o,r){return this.value=r,o.type==="String"&&r.search(rt)!==-1&&(this.escape=!0),this};function ZP(o){this.tagName=o}wo(ZP,em),ZP.prototype.serializeTo=function(o){o.appendIndent().append("<"+this.tagName+">"),this.serializeValue(o),o.append("</"+this.tagName+">").appendNewLine()};function Mr(o,r){this.body=[],this.attrs=[],this.parent=o,this.propertyDescriptor=r}Mr.prototype.build=function(o){this.element=o;var r=o.$descriptor,s=this.propertyDescriptor,l,u,f=r.isGeneric;return f?l=this.parseGeneric(o):l=this.parseNsAttributes(o),s?this.ns=this.nsPropertyTagName(s):this.ns=this.nsTagName(r),this.tagName=this.addTagName(this.ns),f||(u=n_e(o),this.parseAttributes(a_e(u)),this.parseContainments(l_e(u))),this.parseGenericAttributes(o,l),this},Mr.prototype.nsTagName=function(o){var r=this.logNamespaceUsed(o.ns);return e_e(r,o)},Mr.prototype.nsPropertyTagName=function(o){var r=this.logNamespaceUsed(o.ns);return t_e(r,o)},Mr.prototype.isLocalNs=function(o){return o.uri===this.ns.uri},Mr.prototype.nsAttributeName=function(o){var r;if(G1(o)?r=eo(o):r=o.ns,o.inherited)return{localName:r.localName};var s=this.logNamespaceUsed(r);return this.getNamespaces().logUsed(s),this.isLocalNs(s)?{localName:r.localName}:Ps({localName:r.localName},s)},Mr.prototype.parseGeneric=function(o){var r=this,s=this.body,l=[];return to(o,function(u,f){var p;f==="$body"?s.push(new em().build({type:"String"},u)):f==="$children"?to(u,function(v){s.push(new Mr(r).build(v))}):f.indexOf("$")!==0&&(p=r.parseNsAttribute(o,f,u),p&&l.push({name:f,value:u}))}),l},Mr.prototype.parseNsAttribute=function(o,r,s){var l=o.$model,u=eo(r),f;if(u.prefix==="xmlns"&&(f={prefix:u.localName,uri:s}),!u.prefix&&u.localName==="xmlns"&&(f={uri:s}),!f)return{name:r,value:s};if(l&&l.getPackage(s))this.logNamespace(f,!0,!0);else{var p=this.logNamespaceUsed(f,!0);this.getNamespaces().logUsed(p)}},Mr.prototype.parseNsAttributes=function(o,r){var s=this,l=o.$attrs,u=[];return to(l,function(f,p){var v=s.parseNsAttribute(o,p,f);v&&u.push(v)}),u},Mr.prototype.parseGenericAttributes=function(o,r){var s=this;to(r,function(l){if(l.name!==Ms)try{s.addAttribute(s.nsAttributeName(l.name),l.value)}catch(u){console.warn("missing namespace information for ",l.name,"=",l.value,"on",o,u)}})},Mr.prototype.parseContainments=function(o){var r=this,s=this.body,l=this.element;to(o,function(u){var f=l.get(u.name),p=u.isReference,v=u.isMany;if(v||(f=[f]),u.isBody)s.push(new em().build(u,f[0]));else if(G0(u.type))to(f,function(w){s.push(new ZP(r.addTagName(r.nsPropertyTagName(u))).build(u,w))});else if(p)to(f,function(w){s.push(new KP(r.addTagName(r.nsPropertyTagName(u))).build(w))});else{var y=c3(u),x=a_(u);to(f,function(w){var C;y?C=new l_(r,u):x?C=new Mr(r,u):C=new Mr(r),s.push(C.build(w))})}})},Mr.prototype.getNamespaces=function(o){var r=this.namespaces,s=this.parent,l;return r||(l=s&&s.getNamespaces(),o||!l?this.namespaces=r=new on(l):r=l),r},Mr.prototype.logNamespace=function(o,r,s){var l=this.getNamespaces(s),u=o.uri,f=o.prefix,p=l.byUri(u);return(!p||s)&&l.add(o,r),l.mapPrefix(f,u),o},Mr.prototype.logNamespaceUsed=function(o,r){var s=this.element,l=s.$model,u=this.getNamespaces(r),f=o.prefix,p=o.uri,v,y,x;if(!f&&!p)return{localName:o.localName};if(x=K0[f]||l&&(l.getPackage(f)||{}).uri,p=p||x||u.uriByPrefix(f),!p)throw new Error("no namespace uri given for prefix <"+f+">");if(o=u.byUri(p),!o){for(v=f,y=1;u.uriByPrefix(v);)v=f+"_"+y++;o=this.logNamespace({prefix:v,uri:p},x===p)}return f&&u.mapPrefix(f,p),o},Mr.prototype.parseAttributes=function(o){var r=this,s=this.element;to(o,function(l){var u=s.get(l.name);if(l.isReference)if(!l.isMany)u=u.id;else{var f=[];to(u,function(p){f.push(p.id)}),u=f.join(" ")}r.addAttribute(r.nsAttributeName(l),u)})},Mr.prototype.addTagName=function(o){var r=this.logNamespaceUsed(o);return this.getNamespaces().logUsed(r),Na(o)},Mr.prototype.addAttribute=function(o,r){var s=this.attrs;G1(r)&&(r=o_e(r));var l=WP(s,function(f){return f.name.localName===o.localName&&f.name.uri===o.uri&&f.name.prefix===o.prefix}),u={name:o,value:r};l!==-1?s.splice(l,1,u):s.push(u)},Mr.prototype.serializeAttributes=function(o){var r=this.attrs,s=this.namespaces;s&&(r=J4e(s).concat(r)),to(r,function(l){o.append(" ").append(Na(l.name)).append('="').append(l.value).append('"')})},Mr.prototype.serializeTo=function(o){var r=this.body[0],s=r&&r.constructor!==em;o.appendIndent().append("<"+this.tagName),this.serializeAttributes(o),o.append(r?">":" />"),r&&(s&&o.appendNewLine().indent(),to(this.body,function(l){l.serializeTo(o)}),s&&o.unindent().appendIndent(),o.append("</"+this.tagName+">")),o.appendNewLine()};function l_(o,r){Mr.call(this,o,r)}wo(l_,Mr),l_.prototype.parseNsAttributes=function(o){var r=Mr.prototype.parseNsAttributes.call(this,o),s=o.$descriptor;if(s.name===this.propertyDescriptor.type)return r;var l=this.typeNs=this.nsTagName(s);this.getNamespaces().logUsed(this.typeNs);var u=o.$model.getPackage(l.uri),f=u.xml&&u.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(Ms),(l.prefix?l.prefix+":":"")+f+s.ns.localName),r},l_.prototype.isLocalNs=function(o){return o.uri===(this.typeNs||this.ns).uri};function c_e(){this.value="",this.write=function(o){this.value+=o}}function u_e(o,r){var s=[""];this.append=function(l){return o.write(l),this},this.appendNewLine=function(){return r&&o.write(`
`),this},this.appendIndent=function(){return r&&o.write(s.join("  ")),this},this.indent=function(){return s.push(""),this},this.unindent=function(){return s.pop(),this}}function d_e(o){o=Ps({format:!1,preamble:!0},o||{});function r(s,l){var u=l||new c_e,f=new u_e(u,o.format);if(o.preamble&&f.append(Oe),new Mr().build(s).serializeTo(f),!l)return u.value}return{toXML:r}}function c_(o,r){oa.call(this,o,r)}c_.prototype=Object.create(oa.prototype),c_.prototype.fromXML=function(o,r,s){rn(r)||(s=r,r="dmn:Definitions");var l=new Z(an({model:this,lax:!0},s)),u=l.handler(r);return l.fromXML(o,u)},c_.prototype.toXML=function(o,r){var s=new d_e(r);return new Promise(function(l,u){try{var f=s.toXML(o);return l({xml:f})}catch(p){return u(p)}})};var f_e="DC",h_e="dc",p_e="http://www.omg.org/spec/DMN/20180521/DC/",m_e=[{name:"Dimension",properties:[{name:"width",isAttr:!0,type:"Real"},{name:"height",isAttr:!0,type:"Real"}]},{name:"Bounds",properties:[{name:"height",isAttr:!0,type:"Real"},{name:"width",isAttr:!0,type:"Real"},{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Point",properties:[{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Color",properties:[{name:"red",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"green",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"blue",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"}]}],g_e=[],v_e=[{name:"AlignmentKind",literalValues:[{name:"start"},{name:"center"},{name:"end"}]}],y_e={name:f_e,prefix:h_e,uri:p_e,types:m_e,associations:g_e,enumerations:v_e},b_e="DI",x_e="di",E_e="http://www.omg.org/spec/DMN/20180521/DI/",w_e=[{name:"DiagramElement",isAbstract:!0,properties:[{name:"extension",type:"Extension"},{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"style",isReference:!0,type:"Style",xml:{serialize:"property"}},{name:"sharedStyle",isReference:!0,isVirtual:!0,type:"Style"}]},{name:"Diagram",superClass:["DiagramElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"}]},{name:"Shape",isAbstract:!0,properties:[{name:"bounds",type:"dc:Bounds"}],superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,properties:[{name:"waypoint",type:"dc:Point",isMany:!0,xml:{serialize:"property"}}],superClass:["DiagramElement"]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],__e=[],C_e=[],S_e={tagAlias:"lowerCase"},O_e={name:b_e,prefix:x_e,uri:E_e,types:w_e,associations:__e,enumerations:C_e,xml:S_e},D_e="DMN",T_e="dmn",k_e="https://www.omg.org/spec/DMN/20191111/MODEL/",P_e=[{name:"AuthorityRequirement",superClass:["DMNElement"],properties:[{name:"requiredAuthority",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"ItemDefinition",superClass:["NamedElement"],properties:[{name:"typeRef",type:"String"},{name:"allowedValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"typeLanguage",type:"String",isAttr:!0},{name:"itemComponent",type:"ItemDefinition",isMany:!0,xml:{serialize:"property"}},{name:"functionItem",type:"FunctionItem"},{name:"isCollection",isAttr:!0,type:"Boolean"}]},{name:"Definitions",superClass:["NamedElement"],properties:[{name:"import",type:"Import",isMany:!0},{name:"itemDefinition",type:"ItemDefinition",isMany:!0},{name:"drgElement",type:"DRGElement",isMany:!0},{name:"artifact",type:"Artifact",isMany:!0},{name:"elementCollection",type:"ElementCollection",isMany:!0},{name:"businessContextElement",type:"BusinessContextElement",isMany:!0},{name:"namespace",type:"String",isAttr:!0},{name:"expressionLanguage",type:"String",isAttr:!0},{name:"typeLanguage",type:"String",isAttr:!0},{name:"exporter",isAttr:!0,type:"String"},{name:"exporterVersion",isAttr:!0,type:"String"},{name:"dmnDI",type:"dmndi:DMNDI"}]},{name:"KnowledgeSource",superClass:["DRGElement"],properties:[{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0},{name:"type",type:"String"},{name:"owner",type:"DMNElementReference",xml:{serialize:"property"}},{name:"locationURI",type:"String",isAttr:!0}]},{name:"DecisionRule",superClass:["DMNElement"],properties:[{name:"inputEntry",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}},{name:"outputEntry",type:"LiteralExpression",isMany:!0,xml:{serialize:"property"}},{name:"annotationEntry",type:"RuleAnnotation",isMany:!0,xml:{serialize:"property"}}]},{name:"Expression",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"typeRef",isAttr:!0,type:"String"}]},{name:"InformationItem",superClass:["NamedElement"],properties:[{name:"typeRef",isAttr:!0,type:"String"}]},{name:"Decision",superClass:["DRGElement"],properties:[{name:"question",type:"String",xml:{serialize:"property"}},{name:"allowedAnswers",type:"String",xml:{serialize:"property"}},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"informationRequirement",type:"InformationRequirement",isMany:!0},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0},{name:"supportedObjective",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"impactedPerformanceIndicator",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionMaker",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionOwner",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"usingProcess",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"usingTask",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"decisionLogic",type:"Expression"}]},{name:"Invocation",superClass:["Expression"],properties:[{name:"calledFunction",type:"Expression"},{name:"binding",type:"Binding",isMany:!0}]},{name:"OrganisationalUnit",superClass:["BusinessContextElement"],properties:[{name:"decisionMade",type:"Decision",isReference:!0,isMany:!0},{name:"decisionOwned",type:"Decision",isReference:!0,isMany:!0}]},{name:"Import",superClass:["NamedElement"],properties:[{name:"importType",type:"String",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0},{name:"namespace",type:"String",isAttr:!0}]},{name:"InformationRequirement",superClass:["DMNElement"],properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"ElementCollection",superClass:["NamedElement"],properties:[{name:"drgElement",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"DRGElement",isAbstract:!0,superClass:["NamedElement"],properties:[]},{name:"InputData",superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"DMNElement",isAbstract:!0,properties:[{name:"description",type:"String"},{name:"extensionElements",type:"ExtensionElements"},{name:"id",type:"String",isAttr:!0,isId:!0},{name:"extensionAttribute",type:"ExtensionAttribute",isMany:!0},{name:"label",isAttr:!0,type:"String"}]},{name:"InputClause",superClass:["DMNElement"],properties:[{name:"inputExpression",type:"LiteralExpression",xml:{serialize:"property"}},{name:"inputValues",type:"UnaryTests",xml:{serialize:"property"}}]},{name:"DecisionTable",superClass:["Expression"],properties:[{name:"input",type:"InputClause",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"OutputClause",isMany:!0,xml:{serialize:"property"}},{name:"annotation",type:"RuleAnnotationClause",isMany:!0,xml:{serialize:"property"}},{name:"rule",type:"DecisionRule",isMany:!0,xml:{serialize:"property"}},{name:"hitPolicy",type:"HitPolicy",isAttr:!0,default:"UNIQUE"},{name:"aggregation",type:"BuiltinAggregator",isAttr:!0},{name:"preferredOrientation",type:"DecisionTableOrientation",isAttr:!0},{name:"outputLabel",isAttr:!0,type:"String"}]},{name:"LiteralExpression",superClass:["Expression"],properties:[{name:"expressionLanguage",type:"String",isAttr:!0},{name:"text",type:"String"},{name:"importedValues",type:"ImportedValues"}]},{name:"Binding",properties:[{name:"parameter",type:"InformationItem",xml:{serialize:"property"}},{name:"bindingFormula",type:"Expression"}]},{name:"KnowledgeRequirement",superClass:["DMNElement"],properties:[{name:"requiredKnowledge",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"BusinessKnowledgeModel",superClass:["Invocable"],properties:[{name:"encapsulatedLogic",type:"FunctionDefinition",xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0}]},{name:"BusinessContextElement",isAbstract:!0,superClass:["NamedElement"],properties:[{name:"URI",type:"String",isAttr:!0}]},{name:"PerformanceIndicator",superClass:["BusinessContextElement"],properties:[{name:"impactingDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"FunctionDefinition",superClass:["Expression"],properties:[{name:"formalParameter",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"body",type:"Expression"},{name:"kind",type:"FunctionKind",isAttr:!0}]},{name:"Context",superClass:["Expression"],properties:[{name:"contextEntry",type:"ContextEntry",isMany:!0}]},{name:"ContextEntry",superClass:["DMNElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"value",type:"Expression"}]},{name:"List",superClass:["Expression"],properties:[{name:"elements",isMany:!0,type:"Expression"}]},{name:"Relation",superClass:["Expression"],properties:[{name:"column",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"row",type:"List",isMany:!0,xml:{serialize:"property"}}]},{name:"OutputClause",superClass:["DMNElement"],properties:[{name:"outputValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"defaultOutputEntry",type:"LiteralExpression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"typeRef",isAttr:!0,type:"String"}]},{name:"UnaryTests",superClass:["Expression"],properties:[{name:"text",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"NamedElement",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ImportedValues",superClass:["Import"],properties:[{name:"importedElement",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"DecisionService",superClass:["Invocable"],properties:[{name:"outputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"encapsulatedDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputData",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"ExtensionElements",properties:[{name:"values",type:"Element",isMany:!0}]},{name:"ExtensionAttribute",properties:[{name:"value",type:"Element"},{name:"valueRef",type:"Element",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Element",isAbstract:!0,properties:[{name:"extensionAttribute",type:"ExtensionAttribute",isAttr:!0,isReference:!0},{name:"elements",type:"ExtensionElements",isAttr:!0,isReference:!0}]},{name:"Artifact",isAbstract:!0,superClass:["DMNElement"],properties:[]},{name:"Association",superClass:["Artifact"],properties:[{name:"sourceRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"targetRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"associationDirection",type:"AssociationDirection",isAttr:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",isAttr:!0,type:"String",default:"text/plain"}]},{name:"RuleAnnotationClause",properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"RuleAnnotation",properties:[{name:"text",type:"String"}]},{name:"Invocable",isAbstract:!0,superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"Group",superClass:["Artifact"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"FunctionItem",superClass:["DMNElement"],properties:[{name:"parameters",isMany:!0,type:"InformationItem",xml:{serialize:"property"}},{name:"outputTypeRef",isAttr:!0,type:"String"}]},{name:"DMNElementReference",properties:[{isAttr:!0,name:"href",type:"String"}]}],I_e=[{name:"HitPolicy",literalValues:[{name:"UNIQUE"},{name:"FIRST"},{name:"PRIORITY"},{name:"ANY"},{name:"COLLECT"},{name:"RULE ORDER"},{name:"OUTPUT ORDER"}]},{name:"BuiltinAggregator",literalValues:[{name:"SUM"},{name:"COUNT"},{name:"MIN"},{name:"MAX"}]},{name:"DecisionTableOrientation",literalValues:[{name:"Rule-as-Row"},{name:"Rule-as-Column"},{name:"CrossTable"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"FunctionKind",literalValues:[{name:"FEEL"},{name:"Java"},{name:"PMML"}]}],M_e=[],A_e={tagAlias:"lowerCase"},R_e={name:D_e,prefix:T_e,uri:k_e,types:P_e,enumerations:I_e,associations:M_e,xml:A_e},L_e="DMNDI",$_e="dmndi",N_e="https://www.omg.org/spec/DMN/20191111/DMNDI/",F_e=[{name:"DMNDI",properties:[{name:"diagrams",type:"DMNDiagram",isMany:!0},{name:"styles",type:"DMNStyle",isMany:!0}]},{name:"DMNStyle",superClass:["di:Style"],properties:[{name:"fillColor",type:"dc:Color",isAttr:!0},{name:"strokeColor",type:"dc:Color",isAttr:!0},{name:"fontColor",type:"dc:Color",isAttr:!0},{name:"fontSize",isAttr:!0,type:"Real"},{name:"fontFamily",isAttr:!0,type:"String"},{name:"fontItalic",isAttr:!0,type:"Boolean"},{name:"fontBold",isAttr:!0,type:"Boolean"},{name:"fontUnderline",isAttr:!0,type:"Boolean"},{name:"fontStrikeThrough",isAttr:!0,type:"Boolean"},{name:"labelHorizontalAlignment",type:"dc:AlignmentKind",isAttr:!0},{name:"labelVerticalAlignment",type:"dc:AlignmentKind",isAttr:!0}]},{name:"DMNDiagram",superClass:["di:Diagram"],properties:[{name:"dmnElementRef",type:"dmn:DMNElement",isAttr:!0,isReference:!0},{name:"size",type:"Size"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"diagramElements",type:"DMNDiagramElement",isMany:!0}]},{name:"DMNDiagramElement",isAbstract:!0,superClass:["di:DiagramElement"],properties:[{name:"dmnElementRef",type:"dmn:DMNElement",isAttr:!0,isReference:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"label",type:"DMNLabel"}]},{name:"DMNLabel",superClass:["di:Shape"],properties:[{name:"text",type:"Text"}]},{name:"DMNShape",superClass:["di:Shape","DMNDiagramElement"],properties:[{name:"isListedInputData",isAttr:!0,type:"Boolean"},{name:"decisionServiceDividerLine",type:"DMNDecisionServiceDividerLine"},{name:"isCollapsed",isAttr:!0,type:"Boolean"}]},{name:"DMNEdge",superClass:["di:Edge","DMNDiagramElement"],properties:[{name:"sourceElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0},{name:"targetElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0}]},{name:"DMNDecisionServiceDividerLine",superClass:["di:Edge"]},{name:"Text",properties:[{name:"text",isBody:!0,type:"String"}]},{name:"Size",superClass:["dc:Dimension"]}],B_e=[],j_e=[],V_e={name:L_e,prefix:$_e,uri:N_e,types:F_e,associations:B_e,enumerations:j_e},z_e="bpmn.io DI for DMN",H_e="http://bpmn.io/schema/dmn/biodi/2.0",U_e="biodi",q_e={tagAlias:"lowerCase"},W_e=[{name:"DecisionTable",isAbstract:!0,extends:["dmn:DecisionTable"],properties:[{name:"annotationsWidth",isAttr:!0,type:"Integer"}]},{name:"OutputClause",isAbstract:!0,extends:["dmn:OutputClause"],properties:[{name:"width",isAttr:!0,type:"Integer"}]},{name:"InputClause",isAbstract:!0,extends:["dmn:InputClause"],properties:[{name:"width",isAttr:!0,type:"Integer"}]}],G_e={name:z_e,uri:H_e,prefix:U_e,xml:q_e,types:W_e},Q_e={dc:y_e,di:O_e,dmn:R_e,dmndi:V_e,biodi:G_e};function Y_e(o,r){var s=an({},Q_e,o);return new c_(s,r)}function X_e(o,r){return r.forEach(function(s){s&&typeof s!="string"&&!Array.isArray(s)&&Object.keys(s).forEach(function(l){if(l!=="default"&&!(l in o)){var u=Object.getOwnPropertyDescriptor(s,l);Object.defineProperty(o,l,u.get?u:{enumerable:!0,get:function(){return s[l]}})}})}),Object.freeze(o)}let K_e=Object.prototype.toString,Z_e=Object.prototype.hasOwnProperty;function J_e(o){return o===void 0}function eCe(o){return K_e.call(o)==="[object Array]"}function tCe(o,r){return Z_e.call(o,r)}function hG(o,r){let s,l;if(J_e(o))return;let u=eCe(o)?rCe:nCe;for(let f in o)if(tCe(o,f)&&(s=o[f],l=r(s,u(f)),l===!1))return s}function nCe(o){return o}function rCe(o){return Number(o)}function tm(o,...r){let s=o.style;return hG(r,function(l){l&&hG(l,function(u,f){s[f]=u})}),o}function cs(o,r,s){return arguments.length==2?o.getAttribute(r):s===null?o.removeAttribute(r):(o.setAttribute(r,s),o)}let iCe=Object.prototype.toString;function Jt(o){return new xh(o)}function xh(o){if(!o||!o.nodeType)throw new Error("A DOM element reference is required");this.el=o,this.list=o.classList}xh.prototype.add=function(o){return this.list.add(o),this},xh.prototype.remove=function(o){return iCe.call(o)=="[object RegExp]"?this.removeMatching(o):(this.list.remove(o),this)},xh.prototype.removeMatching=function(o){let r=this.array();for(let s=0;s<r.length;s++)o.test(r[s])&&this.remove(r[s]);return this},xh.prototype.toggle=function(o,r){return typeof r<"u"?r!==this.list.toggle(o,r)&&this.list.toggle(o):this.list.toggle(o),this},xh.prototype.array=function(){return Array.from(this.list)},xh.prototype.has=xh.prototype.contains=function(o){return this.list.contains(o)};function u_(o){for(var r;r=o.firstChild;)o.removeChild(r);return o}function Bo(o,r,s){var l=s?o:o.parentNode;return l&&typeof l.closest=="function"&&l.closest(r)||null}var d_={},f_,JP,eI;function pG(){f_=window.addEventListener?"addEventListener":"attachEvent",JP=window.removeEventListener?"removeEventListener":"detachEvent",eI=f_!=="addEventListener"?"on":""}var oCe=d_.bind=function(o,r,s,l){return f_||pG(),o[f_](eI+r,s,l||!1),s},sCe=d_.unbind=function(o,r,s,l){return JP||pG(),o[JP](eI+r,s,l||!1),s},ft=X_e({__proto__:null,bind:oCe,unbind:sCe,default:d_},[d_]),mG=["focus","blur"];function aCe(o,r,s,l,u){return mG.indexOf(s)!==-1&&(u=!0),ft.bind(o,s,function(f){var p=f.target||f.srcElement;f.delegateTarget=Bo(p,r,!0),f.delegateTarget&&l.call(o,f)},u)}function lCe(o,r,s,l){return mG.indexOf(r)!==-1&&(l=!0),ft.unbind(o,r,s,l)}var Fa={bind:aCe,unbind:lCe},cCe=uCe,gG=!1,h_;typeof document<"u"&&(h_=document.createElement("div"),h_.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',gG=!h_.getElementsByTagName("link").length,h_=void 0);var Ci={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:gG?[1,"X<div>","</div>"]:[0,"",""]};Ci.td=Ci.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Ci.option=Ci.optgroup=[1,'<select multiple="multiple">',"</select>"],Ci.thead=Ci.tbody=Ci.colgroup=Ci.caption=Ci.tfoot=[1,"<table>","</table>"],Ci.polyline=Ci.ellipse=Ci.polygon=Ci.circle=Ci.text=Ci.line=Ci.path=Ci.rect=Ci.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function uCe(o,r){if(typeof o!="string")throw new TypeError("String expected");r||(r=document);var s=/<([\w:]+)/.exec(o);if(!s)return r.createTextNode(o);o=o.replace(/^\s+|\s+$/g,"");var l=s[1];if(l=="body"){var y=r.createElement("html");return y.innerHTML=o,y.removeChild(y.lastChild)}var u=Object.prototype.hasOwnProperty.call(Ci,l)?Ci[l]:Ci._default,f=u[0],p=u[1],v=u[2],y=r.createElement("div");for(y.innerHTML=p+o+v;f--;)y=y.lastChild;if(y.firstChild==y.lastChild)return y.removeChild(y.firstChild);for(var x=r.createDocumentFragment();y.firstChild;)x.appendChild(y.removeChild(y.firstChild));return x}var Gn=cCe;function Z1(o,r){return o&&typeof o.matches=="function"&&o.matches(r)||!1}function ln(o,r){return r=r||document,r.querySelector(o)}function bu(o,r){return r=r||document,r.querySelectorAll(o)}function As(o){o.parentNode&&o.parentNode.removeChild(o)}function p_(o){return function(){if(!window.Promise)throw new Error("Promises is not supported in this environment. Please polyfill Promise.");var r=arguments.length;if(r>=1&&g(arguments[r-1])){var s=arguments[r-1];console.warn(new Error("Passing callbacks to "+dCe(o.name)+" is deprecated and will be removed in a future major release. Please switch to promises: https://bpmn.io/l/moving-to-promises.html"));var l=Array.prototype.slice.call(arguments,0,-1);o.apply(this,l).then(function(u){var f=Object.keys(u)[0];return s(null,u[f])},function(u){return s(u,u.warnings)})}else return o.apply(this,arguments)}}function dCe(o){return o.replace("bound ","")}let fCe={width:"100%",height:"100%",position:"relative"};class hCe{constructor(r={}){this._eventBus=new de,this._viewsChanged=Se(this._viewsChanged,0),this._views=[],this._viewers={},this.open=p_(this.open.bind(this)),this.importXML=p_(this.importXML.bind(this)),this.saveXML=p_(this.saveXML.bind(this)),this._init(r)}importXML(r,s){var l=this;return s=s||{open:!0},new Promise(function(f,p){var v=l._activeView;l._clear().then(()=>{r=l._emit("import.parse.start",{xml:r})||r;var y;l._moddle.fromXML(r,"dmn:Definitions").then(x=>{var w=x.rootElement,C=x.references,O=x.elementsById;if(y=x.warnings,w=l._emit("import.parse.complete",u({error:null,definitions:w,elementsById:O,references:C,warnings:y}))||w,l._setDefinitions(w),!s.open){l._emit("import.done",{error:null,warnings:y}),f({warnings:y});return}var T=l._getInitialView(l._views,v);if(!T){var P=new Error("no displayable contents");return l._emit("import.done",{error:P,warnings:y}),P.warnings=y,p(P)}l.open(T).then(N=>({warnings:N.warnings})).catch(N=>({error:N,warnings:N.warnings})).then(N=>{var j=[].concat(y,N.warnings);l._emit("import.done",{error:N.error,warnings:j}),N.error?(N.error.warnings=j,p(N.error)):f({warnings:j})})}).catch(x=>(y=x.warnings,x=pCe(x,r)||mCe(x)||x,l._emit("import.parse.complete",u({error:x,warnings:y})),l._emit("import.done",{error:x,warnings:y}),x.warnings=y,p(x)))}).catch(y=>(l._emit("import.done",{error:y,warnings:[]}),y.warnings=[],p(y)))});function u(f){var p=l._eventBus.createEvent(f);return Object.defineProperty(p,"context",{enumerable:!0,get:function(){return console.warn(new Error("import.parse.complete <context> is deprecated and will be removed in future library versions")),{warnings:f.warnings,references:f.references,elementsById:f.elementsById}}}),p}}getDefinitions(){return this._definitions}getActiveView(){return this._activeView}getActiveViewer(){var r=this.getActiveView();return r&&this._getViewer(r)}getView(r){return this._views.filter(function(s){return s.element===r})[0]}getViews(){return this._views}saveXML(r){var s=this;r=r||{};var l=this._definitions;return new Promise(function(u,f){if(!l){f(new Error("no definitions loaded"));return}l=s._emit("saveXML.start",{definitions:l})||l,s._moddle.toXML(l,r).then(function(p){var v=p.xml;return v=s._emit("saveXML.serialized",{xml:v})||v,{xml:v}}).catch(p=>({error:p})).then(p=>{s._emit("saveXML.done",p),p.error?f(p.error):u({xml:p.xml})})})}on(...r){this._eventBus.on(...r)}off(...r){this._eventBus.off(...r)}once(...r){this._eventBus.once(...r)}attachTo(r){r.get&&r.constructor.prototype.jquery&&(r=r.get(0)),typeof r=="string"&&(r=ln(r)),r.appendChild(this._container),this._emit("attach",{})}detach(){this._emit("detach",{}),As(this._container)}destroy(){Object.keys(this._viewers).forEach(r=>{var s=this._viewers[r];bG(s,"destroy")}),As(this._container)}_init(r){this._options=r,this._moddle=this._createModdle(r),this._viewers={},this._views=[];let s=Gn('<div class="dmn-js-parent"></div>'),l=xe({},fCe,r);xe(s.style,{width:vG(l.width),height:vG(l.height),position:l.position}),this._container=s,r.container&&this.attachTo(r.container)}_clear(){return this._switchView(null)}open(r){return this._switchView(r)}_setDefinitions(r){this._definitions=r,this._updateViews()}_viewsChanged=()=>{this._emit("views.changed",{views:this._views,activeView:this._activeView})};_updateViews(){var r=this._definitions;if(!r){this._views=[],this._switchView(null);return}var s=this._getViewProviders(),l=[r,...r.drgElement||[]],u=this._views,f=[];for(var p of l){var v=_(s,function(T){return typeof T.opens=="string"?T.opens===p.$type:T.opens(p)});if(v){var y={element:p,id:p.id,name:p.name,type:v.id};f.push(y)}}var x=this._activeView,w;if(x&&(w=_(f,function(T){return m_(x,T)})||this._getInitialView(f),!w)){this._switchView(null);return}var C=!m_(x,w)||yG(x,w),O=u.length!==f.length||!I(f,function(T){return _(u,function(P){return m_(P,T)&&!yG(P,T)})});this._activeView=w,this._views=f,(C||O)&&this._viewsChanged()}_getInitialView(r,s){var l;return s&&(l=_(r,function(u){return m_(u,s)})||_(r,function(u){return u.type===s})),l||r[0]}_switchView(r){var s=this;return new Promise(function(l,u){var f=(w,C)=>{s._viewsChanged(),w?u(w):l(C)},p=s.getActiveView(),v,y=r&&s._getViewer(r),x=r&&r.element;if(p&&(v=s._getViewer(p),v!==y&&(bG(v,"clear"),v.detach())),s._activeView=r,y){v!==y&&y.attachTo(s._container),s._emit("import.render.start",{view:r,element:x}),y.open(x).then(w=>{s._emit("import.render.complete",{view:r,error:null,warnings:w.warnings}),f(null,w)}).catch(w=>{s._emit("import.render.complete",{view:r,error:w,warnings:w.warnings}),f(w,null)});return}f()})}_getViewer(r){var s=r.type,l=this._viewers[s];return l||(l=this._viewers[s]=this._createViewer(r.type),this._emit("viewer.created",{type:s,viewer:l})),l}_createViewer(r){var s=_(this._getViewProviders(),function(p){return p.id===r});if(!s)throw new Error("no provider for view type <"+r+">");var l=s.constructor,u=this._options[r]||{},f=this._options.common||{};return new l(Me(se(se({},f),u),{additionalModules:[...u.additionalModules||[],{_parent:["value",this],moddle:["value",this._moddle]}]}))}_emit(...r){return this._eventBus.fire(...r)}_createModdle(r){return new Y_e(r.moddleExtensions)}_getViewProviders(){return[]}}function vG(o){return o+(m(o)?"px":"")}function pCe(o,r){if(o.message!=="failed to parse document as <dmn:Definitions>")return null;var s=r.indexOf('"http://www.omg.org/spec/DMN/20151101/dmn.xsd"')!==-1&&"1.1"||r.indexOf('"http://www.omg.org/spec/DMN/20180521/MODEL/"')!==-1&&"1.2";return s?(o=new Error("unsupported DMN "+s+" file detected; only DMN 1.3 files can be opened"),console.error("Cannot open what looks like a DMN "+s+" diagram. Please refer to https://bpmn.io/l/dmn-compatibility.html to learn how to make the toolkit compatible with older DMN files",o),o):null}function mCe(o){var r=/unparsable content <([^>]+)> detected([\s\S]*)$/,s=r.exec(o.message);return s?(o.message="unparsable content <"+s[1]+"> detected; this may indicate an invalid DMN 1.3 diagram file"+s[2],o):null}function m_(o,r){return a(o)?a(r)?o.element===r.element||o.id===r.id:!1:!a(r)}function yG(o,r){return!o||!r||o.name!==r.name}function bG(o,r){g(o[r])&&o[r]()}function gCe(o,r){return r={exports:{}},o(r,r.exports),r.exports}var vCe=gCe(function(o){var r=o.exports=function(s,l){if(l||(l=16),s===void 0&&(s=128),s<=0)return"0";for(var u=Math.log(Math.pow(2,s))/Math.log(l),f=2;u===1/0;f*=2)u=Math.log(Math.pow(2,s/f))/Math.log(l)*f;for(var p=u-Math.floor(u),v="",f=0;f<Math.floor(u);f++){var y=Math.floor(Math.random()*l).toString(l);v=y+v}if(p){var x=Math.pow(l,p),y=Math.floor(Math.random()*x).toString(l);v=y+v}var w=parseInt(v,l);return w!==1/0&&w>=Math.pow(2,s)?r(s,l):v};r.rack=function(s,l,u){var f=function(v){var y=0;do{if(y++>10)if(u)s+=u;else throw new Error("too many ID collisions, use more bits");var x=r(s,l)}while(Object.hasOwnProperty.call(p,x));return p[x]=v,x},p=f.hats={};return f.get=function(v){return f.hats[v]},f.set=function(v,y){return f.hats[v]=y,f},f.bits=s||128,f.base=l||16,f}});function xu(o){if(!(this instanceof xu))return new xu(o);o=o||[128,36,1],this._seed=o.length?vCe.rack(o[0],o[1],o[2]):o}xu.prototype.next=function(o){return this._seed(o||!0)},xu.prototype.nextPrefixed=function(o,r){var s;do s=o+this.next(!0);while(this.assigned(s));return this.claim(s,r),s},xu.prototype.claim=function(o,r){this._seed.set(o,r||!0)},xu.prototype.assigned=function(o){return this._seed.get(o)||!1},xu.prototype.unclaim=function(o){delete this._seed.hats[o]},xu.prototype.clear=function(){var o=this._seed.hats,r;for(r in o)this.unclaim(r)};function we(o,r){var s=bc(o);return s&&typeof s.$instanceOf=="function"&&s.$instanceOf(r)}function Rn(o){return we(o,"dmn:InputClause")}function _o(o){return we(o,"dmn:OutputClause")}function bc(o){return o&&o.businessObject||o}function yCe(o){return bc(o).name}function Rs(o,r){return R(r,function(s){return we(o,s)})}function g_(o){var r=bc(o);if(we(r,"dmn:Decision"))return r.get("decisionLogic");if(we(r,"dmn:BusinessKnowledgeModel")){var s=r.get("encapsulatedLogic");return s&&s.get("body")}}let bCe="https://www.omg.org/spec/DMN/20191111/FEEL/";function xCe(o){for(let r=o;r;r=r.$parent){let s=r.get("expressionLanguage");if(s)return!!(s===bCe||/feel/i.test(s));if(we(r,"dmn:FunctionDefinition"))return(r.get("kind")||"FEEL")==="FEEL"}return!0}class ECe extends hCe{_init(r){super._init(r),this.on("import.parse.complete",s=>{s.error||this._collectIds(s.definitions,s.elementsById)}),this.on("destroy",()=>{this._moddle.ids.clear()}),this.on("viewer.created",({viewer:s})=>{s.on("elements.changed",({elements:l})=>{var u=l.some(function(f){return Rs(f,["dmn:Decision","dmn:Definitions","dmn:BusinessKnowledgeModel"])});u&&this._updateViews()})})}_collectIds(r,s){var l=r.$model,u=l.ids,f;u.clear();for(f in s)u.claim(f,s[f])}_createModdle(r){var s=super._createModdle(r);return s.ids=new xu([32,36,1]),s}}function ri(o,r){r&&(o.super_=r,o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}let wCe=/^class[ {]/;function _Ce(o){return wCe.test(o.toString())}function tI(o){return Array.isArray(o)}function nI(o,r){return Object.prototype.hasOwnProperty.call(o,r)}function v_(...o){o.length===1&&tI(o[0])&&(o=o[0]),o=[...o];let r=o.pop();return r.$inject=o,r}let CCe=/constructor\s*[^(]*\(\s*([^)]*)\)/m,SCe=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,OCe=/\/\*([^*]*)\*\//m;function DCe(o){if(typeof o!="function")throw new Error(`Cannot annotate "${o}". Expected a function!`);let r=o.toString().match(_Ce(o)?CCe:SCe);if(!r)return[];let s=r[1]||r[2];return s&&s.split(",").map(l=>{let u=l.match(OCe);return(u&&u[1]||l).trim()})||[]}function y_(o,r){let s=r||{get:function(U,H){if(l.push(U),H===!1)return null;throw v(`No provider for "${U}"!`)}},l=[],u=this._providers=Object.create(s._providers||null),f=this._instances=Object.create(null),p=f.injector=this,v=function(U){let H=l.join(" -> ");return l.length=0,new Error(H?`${U} (Resolving: ${H})`:U)};function y(U,H){if(!u[U]&&U.includes(".")){let X=U.split("."),Y=y(X.shift());for(;X.length;)Y=Y[X.shift()];return Y}if(nI(f,U))return f[U];if(nI(u,U)){if(l.indexOf(U)!==-1)throw l.push(U),v("Cannot resolve circular dependency!");return l.push(U),f[U]=u[U][0](u[U][1]),l.pop(),f[U]}return s.get(U,H)}function x(U,H){if(typeof H>"u"&&(H={}),typeof U!="function")if(tI(U))U=v_(U.slice());else throw v(`Cannot invoke "${U}". Expected a function!`);let Y=(U.$inject||DCe(U)).map(ae=>nI(H,ae)?H[ae]:y(ae));return{fn:U,dependencies:Y}}function w(U){let{fn:H,dependencies:X}=x(U),Y=Function.prototype.bind.call(H,null,...X);return new Y}function C(U,H,X){let{fn:Y,dependencies:ae}=x(U,X);return Y.apply(H,ae)}function O(U){return v_(H=>U.get(H))}function T(U,H){if(H&&H.length){let X=Object.create(null),Y=Object.create(null),ae=[],te=[],ve=[],be,Ce,Te,Re;for(let it in u)be=u[it],H.indexOf(it)!==-1&&(be[2]==="private"?(Ce=ae.indexOf(be[3]),Ce===-1?(Te=be[3].createChild([],H),Re=O(Te),ae.push(be[3]),te.push(Te),ve.push(Re),X[it]=[Re,it,"private",Te]):X[it]=[ve[Ce],it,"private",te[Ce]]):X[it]=[be[2],be[1]],Y[it]=!0),(be[2]==="factory"||be[2]==="type")&&be[1].$scope&&H.forEach(Er=>{be[1].$scope.indexOf(Er)!==-1&&(X[it]=[be[2],be[1]],Y[Er]=!0)});H.forEach(it=>{if(!Y[it])throw new Error('No provider for "'+it+'". Cannot use provider from the parent!')}),U.unshift(X)}return new y_(U,p)}let P={factory:C,type:w,value:function(U){return U}};function N(U,H){let X=U.__init__||[];return function(){X.forEach(Y=>{typeof Y=="string"?H.get(Y):H.invoke(Y)})}}function j(U){let H=U.__exports__;if(H){let X=U.__modules__,Y=Object.keys(U).reduce((Ce,Te)=>(Te!=="__exports__"&&Te!=="__modules__"&&Te!=="__init__"&&Te!=="__depends__"&&(Ce[Te]=U[Te]),Ce),Object.create(null)),ae=(X||[]).concat(Y),te=T(ae),ve=v_(function(Ce){return te.get(Ce)});H.forEach(function(Ce){u[Ce]=[ve,Ce,"private",te]});let be=(U.__init__||[]).slice();return be.unshift(function(){te.init()}),U=Object.assign({},U,{__init__:be}),N(U,te)}return Object.keys(U).forEach(function(X){if(X==="__init__"||X==="__depends__")return;let Y=U[X];if(Y[2]==="private"){u[X]=Y;return}let ae=Y[0],te=Y[1];u[X]=[P[ae],TCe(ae,te),ae]}),N(U,p)}function q(U,H){return U.indexOf(H)!==-1||(U=(H.__depends__||[]).reduce(q,U),U.indexOf(H)!==-1)?U:U.concat(H)}function Q(U){let H=U.reduce(q,[]).map(j),X=!1;return function(){X||(X=!0,H.forEach(Y=>Y()))}}this.get=y,this.invoke=C,this.instantiate=w,this.createChild=T,this.init=Q(o)}function TCe(o,r){return o!=="value"&&tI(r)&&(r=v_(r.slice())),r}var kCe=1e3;function xc(o,r){var s=this;r=r||kCe,o.on(["render.shape","render.connection"],r,function(l,u){var f=l.type,p=u.element,v=u.gfx,y=u.attrs;if(s.canRender(p))return f==="render.shape"?s.drawShape(v,p,y):s.drawConnection(v,p,y)}),o.on(["render.getShapePath","render.getConnectionPath"],r,function(l,u){if(s.canRender(u))return l.type==="render.getShapePath"?s.getShapePath(u):s.getConnectionPath(u)})}xc.prototype.canRender=function(o){},xc.prototype.drawShape=function(o,r){},xc.prototype.drawConnection=function(o,r){},xc.prototype.getShapePath=function(o){},xc.prototype.getConnectionPath=function(o){};function PCe(o,r){if(o.ownerDocument!==r.ownerDocument)try{return r.ownerDocument.importNode(o,!0)}catch{}return o}function ICe(o,r){return r.appendChild(PCe(o,r))}function Qt(o,r){return ICe(r,o),o}var rI=2,xG={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":rI,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":rI,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function MCe(o,r){return xG[r]?o.style[r]:o.getAttributeNS(null,r)}function EG(o,r,s){var l=r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),u=xG[l];u?(u===rI&&typeof s=="number"&&(s=String(s)+"px"),o.style[l]=s):o.setAttributeNS(null,r,s)}function ACe(o,r){var s=Object.keys(r),l,u;for(l=0,u;u=s[l];l++)EG(o,u,r[u])}function ht(o,r,s){if(typeof r=="string")if(s!==void 0)EG(o,r,s);else return MCe(o,r);else ACe(o,r);return o}let RCe=Object.prototype.toString;function _n(o){return new Eh(o)}function Eh(o){if(!o||!o.nodeType)throw new Error("A DOM element reference is required");this.el=o,this.list=o.classList}Eh.prototype.add=function(o){return this.list.add(o),this},Eh.prototype.remove=function(o){return RCe.call(o)=="[object RegExp]"?this.removeMatching(o):(this.list.remove(o),this)},Eh.prototype.removeMatching=function(o){let r=this.array();for(let s=0;s<r.length;s++)o.test(r[s])&&this.remove(r[s]);return this},Eh.prototype.toggle=function(o,r){return typeof r<"u"?r!==this.list.toggle(o,r)&&this.list.toggle(o):this.list.toggle(o),this},Eh.prototype.array=function(){return Array.from(this.list)},Eh.prototype.has=Eh.prototype.contains=function(o){return this.list.contains(o)};function iI(o){for(var r;r=o.firstChild;)o.removeChild(r);return o}function wG(o){return o.cloneNode(!0)}var oI={svg:"http://www.w3.org/2000/svg"},_G='<svg xmlns="'+oI.svg+'"';function LCe(o){var r=!1;o.substring(0,4)==="<svg"?o.indexOf(oI.svg)===-1&&(o=_G+o.substring(4)):(o=_G+">"+o+"</svg>",r=!0);var s=$Ce(o);if(!r)return s;for(var l=document.createDocumentFragment(),u=s.firstChild;u.firstChild;)l.appendChild(u.firstChild);return l}function $Ce(o){var r;return r=new DOMParser,r.async=!1,r.parseFromString(o,"text/xml")}function zt(o,r){var s;return o=o.trim(),o.charAt(0)==="<"?(s=LCe(o).firstChild,s=document.importNode(s,!0)):s=document.createElementNS(oI.svg,o),r&&ht(s,r),s}var sI=null;function CG(){return sI===null&&(sI=zt("svg")),sI}function SG(o,r){var s,l,u=Object.keys(r);for(s=0;l=u[s];s++)o[l]=r[l];return o}function NCe(o,r,s,l,u,f){var p=CG().createSVGMatrix();switch(arguments.length){case 0:return p;case 1:return SG(p,o);case 6:return SG(p,{a:o,b:r,c:s,d:l,e:u,f})}}function h3(o){return CG().createSVGTransform()}var OG=/([&<>]{1})/g,FCe=/([\n\r"]{1})/g,BCe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function aI(o,r){function s(l,u){return BCe[u]||u}return o.replace(r,s)}function DG(o,r){var s,l,u,f,p;switch(o.nodeType){case 3:r.push(aI(o.textContent,OG));break;case 1:if(r.push("<",o.tagName),o.hasAttributes())for(u=o.attributes,s=0,l=u.length;s<l;++s)f=u.item(s),r.push(" ",f.name,'="',aI(f.value,FCe),'"');if(o.hasChildNodes()){for(r.push(">"),p=o.childNodes,s=0,l=p.length;s<l;++s)DG(p.item(s),r);r.push("</",o.tagName,">")}else r.push("/>");break;case 8:r.push("<!--",aI(o.nodeValue,OG),"-->");break;case 4:r.push("<![CDATA[",o.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+o.nodeType)}return r}function jCe(o){for(var r=o.firstChild,s=[];r;)DG(r,s),r=r.nextSibling;return s.join("")}function VCe(o,r){return jCe(o)}function us(o){var r=o.parentNode;return r&&r.removeChild(o),o}function zCe(o,r){return r instanceof SVGMatrix?o.createSVGTransformFromMatrix(r):r}function HCe(o,r){var s,l;for(o.clear(),s=0;l=r[s];s++)o.appendItem(zCe(o,l))}function p3(o,r){var s=o.transform.baseVal;return r&&(Array.isArray(r)||(r=[r]),HCe(s,r)),s.consolidate()}function lI(o){return o.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function UCe(o){return["M",o.x,o.y]}function cI(o){return["L",o.x,o.y]}function qCe(o,r,s){return["C",o.x,o.y,r.x,r.y,s.x,s.y]}function WCe(o,r){let s=o.length,l=[UCe(o[0])];for(let u=1;u<s;u++){let f=o[u-1],p=o[u],v=o[u+1];if(!v||!r){l.push(cI(p));continue}let y=Math.min(r,uI(p.x-f.x,p.y-f.y),uI(v.x-p.x,v.y-p.y));if(!y){l.push(cI(p));continue}let x=b_(p,f,y),w=b_(p,f,y*.5),C=b_(p,v,y),O=b_(p,v,y*.5);l.push(cI(x)),l.push(qCe(w,O,C))}return l}function b_(o,r,s){let l=r.x-o.x,u=r.y-o.y,f=uI(l,u),p=s/f;return{x:o.x+l*p,y:o.y+u*p}}function uI(o,r){return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}function x_(o,r,s){m(r)&&(s=r,r=null),r||(r={});let l=zt("path",r);return m(s)&&(l.dataset.cornerRadius=String(s)),TG(l,o)}function TG(o,r){let s=parseInt(o.dataset.cornerRadius,10)||0;return ht(o,{d:lI(WCe(r,s))}),o}function GCe(o){return S(o,function(r){return!_(o,function(s){return s!==r&&kG(r,s)})})}function kG(o,r){if(r){if(o===r)return r;if(o.parent)return kG(o.parent,r)}}function PG(o,r,s){var l=!s;return o.push(r),l}function dI(o,r,s){s=s||0,d(o)||(o=[o]),D(o,function(l,u){var f=r(l,u,s);d(f)&&f.length&&dI(f,r,s+1)})}function QCe(o,r,s){var l=[],u=[];return dI(o,function(f,p,v){PG(l,f,r);var y=f.children;if(y&&PG(u,y,r))return y}),l}function YCe(o,r){return QCe(o,!r)}function XCe(o,r,s){i(r)&&(r=!0),h(r)&&(s=r,r=!0),s=s||{};var l=m3(s.allShapes),u=m3(s.allConnections),f=m3(s.enclosedElements),p=m3(s.enclosedConnections),v=m3(s.topLevel,r&&G(o,function(w){return w.id}));function y(w){v[w.source.id]&&v[w.target.id]&&(v[w.id]=[w]),l[w.source.id]&&l[w.target.id]&&(p[w.id]=f[w.id]=w),u[w.id]=w}function x(w){if(f[w.id]=w,w.waypoints)p[w.id]=u[w.id]=w;else return l[w.id]=w,D(w.incoming,y),D(w.outgoing,y),w.children}return dI(o,x),{allShapes:l,allConnections:u,topLevel:v,enclosedConnections:p,enclosedElements:f}}function Ol(o,r){r=!!r,d(o)||(o=[o]);var s,l,u,f;return D(o,function(p){var v=p;p.waypoints&&!r&&(v=Ol(p.waypoints,!0));var y=v.x,x=v.y,w=v.height||0,C=v.width||0;(y<s||s===void 0)&&(s=y),(x<l||l===void 0)&&(l=x),(y+C>u||u===void 0)&&(u=y+C),(x+w>f||f===void 0)&&(f=x+w)}),{x:s,y:l,height:f-l,width:u-s}}function KCe(o,r){var s={};return D(o,function(l){var u=l;u.waypoints&&(u=Ol(u)),!m(r.y)&&u.x>r.x&&(s[l.id]=l),!m(r.x)&&u.y>r.y&&(s[l.id]=l),u.x>r.x&&u.y>r.y&&(m(r.width)&&m(r.height)&&u.width+u.x<r.width+r.x&&u.height+u.y<r.height+r.y||!m(r.width)||!m(r.height))&&(s[l.id]=l)}),s}function IG(o){return"waypoints"in o?"connection":"x"in o?"shape":"root"}function MG(o){return!!(o&&o.isFrame)}function m3(o,r){return xe({},o||{},r||{})}var ZCe=1;function wh(o,r){xc.call(this,o,ZCe),this.CONNECTION_STYLE=r.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=r.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=r.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}ri(wh,xc),wh.prototype.canRender=function(){return!0},wh.prototype.drawShape=function(r,s,l){var u=zt("rect");return ht(u,{x:0,y:0,width:s.width||0,height:s.height||0}),MG(s)?ht(u,xe({},this.FRAME_STYLE,l||{})):ht(u,xe({},this.SHAPE_STYLE,l||{})),Qt(r,u),u},wh.prototype.drawConnection=function(r,s,l){var u=x_(s.waypoints,xe({},this.CONNECTION_STYLE,l||{}));return Qt(r,u),u},wh.prototype.getShapePath=function(r){var s=r.x,l=r.y,u=r.width,f=r.height,p=[["M",s,l],["l",u,0],["l",0,f],["l",-u,0],["z"]];return lI(p)},wh.prototype.getConnectionPath=function(r){var s=r.waypoints,l,u,f=[];for(l=0;u=s[l];l++)u=u.original||u,f.push([l===0?"M":"L",u.x,u.y]);return lI(f)},wh.$inject=["eventBus","styles"];function JCe(){var o={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},r=this;this.cls=function(s,l,u){var f=this.style(l,u);return xe(f,{class:s})},this.style=function(s,l){!d(s)&&!l&&(l=s,s=[]);var u=k(s,function(f,p){return xe(f,o[p]||{})},{});return l?xe(u,l):u},this.computeStyle=function(s,l,u){return d(l)||(u=l,l=[]),r.style(l||[],xe({},u,s||{}))}}var e6e={__init__:["defaultRenderer"],defaultRenderer:["type",wh],styles:["type",JCe]};function nm(o,r){if(!o||!r)return-1;var s=o.indexOf(r);return s!==-1&&o.splice(s,1),s}function Ud(o,r,s){if(!(!o||!r)){typeof s!="number"&&(s=-1);var l=o.indexOf(r);if(l!==-1){if(l===s)return;if(s!==-1)o.splice(l,1);else return}s!==-1?o.splice(s,0,r):o.push(r)}}function AG(o,r){return!o||!r?-1:o.indexOf(r)}function E_(o,r){return!o||!r?-1:Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2))}function RG(o,r,s,l){if(typeof l>"u"&&(l=5),!o||!r||!s)return!1;var u=(r.x-o.x)*(s.y-o.y)-(r.y-o.y)*(s.x-o.x),f=E_(o,r);return Math.abs(u/f)<=l}var t6e=2;function J1(o,r){var s=Array.from(arguments).flat();let l={x:"v",y:"h"};for(let[u,f]of Object.entries(l))if(n6e(u,s))return f;return!1}function n6e(o,r){let s=r[0];return I(r,function(l){return Math.abs(s[o]-l[o])<=t6e})}function fI(o,r){return{x:Math.round(o.x+(r.x-o.x)/2),y:Math.round(o.y+(r.y-o.y)/2)}}var r6e=/,?([a-z]),?/gi,LG=parseFloat,ui=Math,_h=ui.PI,Eu=ui.min,wu=ui.max,$G=ui.pow,Ch=ui.abs,i6e=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,o6e=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,w_=Array.isArray||function(o){return o instanceof Array};function hI(o,r){return Object.prototype.hasOwnProperty.call(o,r)}function g3(o){if(typeof o=="function"||Object(o)!==o)return o;var r=new o.constructor;for(var s in o)hI(o,s)&&(r[s]=g3(o[s]));return r}function s6e(o,r){for(var s=0,l=o.length;s<l;s++)if(o[s]===r)return o.push(o.splice(s,1)[0])}function a6e(o){function r(){var s=Array.prototype.slice.call(arguments,0),l=s.join("\u2400"),u=r.cache=r.cache||{},f=r.count=r.count||[];return hI(u,l)?(s6e(f,l),u[l]):(f.length>=1e3&&delete u[f.shift()],f.push(l),u[l]=o(...arguments),u[l])}return r}function l6e(o){if(!o)return null;var r=ev(o);if(r.arr)return g3(r.arr);var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},l=[];return w_(o)&&w_(o[0])&&(l=g3(o)),l.length||String(o).replace(i6e,function(u,f,p){var v=[],y=f.toLowerCase();for(p.replace(o6e,function(x,w){w&&v.push(+w)}),y=="m"&&v.length>2&&(l.push([f,...v.splice(0,2)]),y="l",f=f=="m"?"l":"L");v.length>=s[y]&&(l.push([f,...v.splice(0,s[y])]),!!s[y]););}),l.toString=ev.toString,r.arr=g3(l),l}function ev(o){var r=ev.ps=ev.ps||{};return r[o]?r[o].sleep=100:r[o]={sleep:100},setTimeout(function(){for(var s in r)hI(r,s)&&s!=o&&(r[s].sleep--,!r[s].sleep&&delete r[s])}),r[o]}function pI(o,r,s,l){return arguments.length===1&&(r=o.y,s=o.width,l=o.height,o=o.x),{x:o,y:r,width:s,height:l,x2:o+s,y2:r+l}}function NG(){return this.join(",").replace(r6e,"$1")}function __(o){var r=g3(o);return r.toString=NG,r}function FG(o,r,s,l,u,f,p,v,y){var x=1-y,w=$G(x,3),C=$G(x,2),O=y*y,T=O*y,P=w*o+C*3*y*s+x*3*y*y*u+T*p,N=w*r+C*3*y*l+x*3*y*y*f+T*v;return{x:C_(P),y:C_(N)}}function BG(o){var r=h6e(...o);return pI(r.x0,r.y0,r.x1-r.x0,r.y1-r.y0)}function Sh(o,r,s){return r>=o.x&&r<=o.x+o.width&&s>=o.y&&s<=o.y+o.height}function c6e(o,r){return o=pI(o),r=pI(r),Sh(r,o.x,o.y)||Sh(r,o.x2,o.y)||Sh(r,o.x,o.y2)||Sh(r,o.x2,o.y2)||Sh(o,r.x,r.y)||Sh(o,r.x2,r.y)||Sh(o,r.x,r.y2)||Sh(o,r.x2,r.y2)||(o.x<r.x2&&o.x>r.x||r.x<o.x2&&r.x>o.x)&&(o.y<r.y2&&o.y>r.y||r.y<o.y2&&r.y>o.y)}function jG(o,r,s,l,u){var f=-3*r+9*s-9*l+3*u,p=o*f+6*r-12*s+6*l;return o*p-3*r+3*s}function VG(o,r,s,l,u,f,p,v,y){y==null&&(y=1),y=y>1?1:y<0?0:y;for(var x=y/2,w=12,C=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],O=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],T=0,P=0;P<w;P++){var N=x*C[P]+x,j=jG(N,o,s,u,p),q=jG(N,r,l,f,v),Q=j*j+q*q;T+=O[P]*ui.sqrt(Q)}return x*T}function u6e(o,r,s,l,u,f,p,v){if(!(wu(o,s)<Eu(u,p)||Eu(o,s)>wu(u,p)||wu(r,l)<Eu(f,v)||Eu(r,l)>wu(f,v))){var y=(o*l-r*s)*(u-p)-(o-s)*(u*v-f*p),x=(o*l-r*s)*(f-v)-(r-l)*(u*v-f*p),w=(o-s)*(f-v)-(r-l)*(u-p);if(w){var C=C_(y/w),O=C_(x/w),T=+C.toFixed(2),P=+O.toFixed(2);if(!(T<+Eu(o,s).toFixed(2)||T>+wu(o,s).toFixed(2)||T<+Eu(u,p).toFixed(2)||T>+wu(u,p).toFixed(2)||P<+Eu(r,l).toFixed(2)||P>+wu(r,l).toFixed(2)||P<+Eu(f,v).toFixed(2)||P>+wu(f,v).toFixed(2)))return{x:C,y:O}}}}function C_(o){return Math.round(o*1e11)/1e11}function d6e(o,r,s){var l=BG(o),u=BG(r);if(!c6e(l,u))return s?0:[];for(var f=VG(...o),p=VG(...r),v=HG(o)?1:~~(f/5)||1,y=HG(r)?1:~~(p/5)||1,x=[],w=[],C={},O=s?0:[],T=0;T<v+1;T++){var P=FG(...o,T/v);x.push({x:P.x,y:P.y,t:T/v})}for(T=0;T<y+1;T++)P=FG(...r,T/y),w.push({x:P.x,y:P.y,t:T/y});for(T=0;T<v;T++)for(var N=0;N<y;N++){var j=x[T],q=x[T+1],Q=w[N],U=w[N+1],H=Ch(q.x-j.x)<.01?"y":"x",X=Ch(U.x-Q.x)<.01?"y":"x",Y=u6e(j.x,j.y,q.x,q.y,Q.x,Q.y,U.x,U.y),ae;if(Y){if(ae=Y.x.toFixed(9)+"#"+Y.y.toFixed(9),C[ae])continue;C[ae]=!0;var te=j.t+Ch((Y[H]-j[H])/(q[H]-j[H]))*(q.t-j.t),ve=Q.t+Ch((Y[X]-Q[X])/(U[X]-Q[X]))*(U.t-Q.t);te>=0&&te<=1&&ve>=0&&ve<=1&&(s?O++:O.push({x:Y.x,y:Y.y,t1:te,t2:ve}))}}return O}function zG(o,r,s){o=WG(o),r=WG(r);for(var l,u,f,p,v,y,x,w,C,O,T=s?0:[],P=0,N=o.length;P<N;P++){var j=o[P];if(j[0]=="M")l=v=j[1],u=y=j[2];else{j[0]=="C"?(C=[l,u,...j.slice(1)],l=C[6],u=C[7]):(C=[l,u,l,u,v,y,v,y],l=v,u=y);for(var q=0,Q=r.length;q<Q;q++){var U=r[q];if(U[0]=="M")f=x=U[1],p=w=U[2];else{U[0]=="C"?(O=[f,p,...U.slice(1)],f=O[6],p=O[7]):(O=[f,p,f,p,x,w,x,w],f=x,p=w);var H=d6e(C,O,s);if(s)T+=H;else{for(var X=0,Y=H.length;X<Y;X++)H[X].segment1=P,H[X].segment2=q,H[X].bez1=C,H[X].bez2=O;T=T.concat(H)}}}}}return T}function f6e(o){var r=ev(o);if(r.abs)return __(r.abs);if((!w_(o)||!w_(o&&o[0]))&&(o=l6e(o)),!o||!o.length)return[["M",0,0]];var s=[],l=0,u=0,f=0,p=0,v=0,y;o[0][0]=="M"&&(l=+o[0][1],u=+o[0][2],f=l,p=u,v++,s[0]=["M",l,u]);for(var x,w,C=v,O=o.length;C<O;C++){if(s.push(x=[]),w=o[C],y=w[0],y!=y.toUpperCase())switch(x[0]=y.toUpperCase(),x[0]){case"A":x[1]=w[1],x[2]=w[2],x[3]=w[3],x[4]=w[4],x[5]=w[5],x[6]=+w[6]+l,x[7]=+w[7]+u;break;case"V":x[1]=+w[1]+u;break;case"H":x[1]=+w[1]+l;break;case"M":f=+w[1]+l,p=+w[2]+u;default:for(var T=1,P=w.length;T<P;T++)x[T]=+w[T]+(T%2?l:u)}else for(var N=0,j=w.length;N<j;N++)x[N]=w[N];switch(y=y.toUpperCase(),x[0]){case"Z":l=+f,u=+p;break;case"H":l=x[1];break;case"V":u=x[1];break;case"M":f=x[x.length-2],p=x[x.length-1];default:l=x[x.length-2],u=x[x.length-1]}}return s.toString=NG,r.abs=__(s),s}function HG(o){return o[0]===o[2]&&o[1]===o[3]&&o[4]===o[6]&&o[5]===o[7]}function S_(o,r,s,l){return[o,r,s,l,s,l]}function UG(o,r,s,l,u,f){var p=.3333333333333333,v=2/3;return[p*o+v*s,p*r+v*l,p*u+v*s,p*f+v*l,u,f]}function qG(o,r,s,l,u,f,p,v,y,x){var w=_h*120/180,C=_h/180*(+u||0),O=[],T,P=a6e(function(LS,Rc,Hl){var gi=LS*ui.cos(Hl)-Rc*ui.sin(Hl),Lc=LS*ui.sin(Hl)+Rc*ui.cos(Hl);return{x:gi,y:Lc}});if(x)ae=x[0],te=x[1],X=x[2],Y=x[3];else{T=P(o,r,-C),o=T.x,r=T.y,T=P(v,y,-C),v=T.x,y=T.y;var N=(o-v)/2,j=(r-y)/2,q=N*N/(s*s)+j*j/(l*l);q>1&&(q=ui.sqrt(q),s=q*s,l=q*l);var Q=s*s,U=l*l,H=(f==p?-1:1)*ui.sqrt(Ch((Q*U-Q*j*j-U*N*N)/(Q*j*j+U*N*N))),X=H*s*j/l+(o+v)/2,Y=H*-l*N/s+(r+y)/2,ae=ui.asin(((r-Y)/l).toFixed(9)),te=ui.asin(((y-Y)/l).toFixed(9));ae=o<X?_h-ae:ae,te=v<X?_h-te:te,ae<0&&(ae=_h*2+ae),te<0&&(te=_h*2+te),p&&ae>te&&(ae=ae-_h*2),!p&&te>ae&&(te=te-_h*2)}var ve=te-ae;if(Ch(ve)>w){var be=te,Ce=v,Te=y;te=ae+w*(p&&te>ae?1:-1),v=X+s*ui.cos(te),y=Y+l*ui.sin(te),O=qG(v,y,s,l,u,0,p,Ce,Te,[te,be,X,Y])}ve=te-ae;var Re=ui.cos(ae),it=ui.sin(ae),Er=ui.cos(te),On=ui.sin(te),qt=ui.tan(ve/4),bs=4/3*s*qt,Ac=4/3*l*qt,ur=[o,r],si=[o+bs*it,r-Ac*Re],Wo=[v+bs*On,y-Ac*Er],ma=[v,y];if(si[0]=2*ur[0]-si[0],si[1]=2*ur[1]-si[1],x)return[si,Wo,ma].concat(O);O=[si,Wo,ma].concat(O).join().split(",");for(var Xa=[],zi=0,yp=O.length;zi<yp;zi++)Xa[zi]=zi%2?P(O[zi-1],O[zi],C).y:P(O[zi],O[zi+1],C).x;return Xa}function h6e(o,r,s,l,u,f,p,v){for(var y=[],x=[[],[]],w,C,O,T,P,N,j,q,Q=0;Q<2;++Q){if(Q==0?(C=6*o-12*s+6*u,w=-3*o+9*s-9*u+3*p,O=3*s-3*o):(C=6*r-12*l+6*f,w=-3*r+9*l-9*f+3*v,O=3*l-3*r),Ch(w)<1e-12){if(Ch(C)<1e-12)continue;T=-O/C,0<T&&T<1&&y.push(T);continue}j=C*C-4*O*w,q=ui.sqrt(j),!(j<0)&&(P=(-C+q)/(2*w),0<P&&P<1&&y.push(P),N=(-C-q)/(2*w),0<N&&N<1&&y.push(N))}for(var U=y.length,H=U,X;U--;)T=y[U],X=1-T,x[0][U]=X*X*X*o+3*X*X*T*s+3*X*T*T*u+T*T*T*p,x[1][U]=X*X*X*r+3*X*X*T*l+3*X*T*T*f+T*T*T*v;return x[0][H]=o,x[1][H]=r,x[0][H+1]=p,x[1][H+1]=v,x[0].length=x[1].length=H+2,{x0:Eu(...x[0]),y0:Eu(...x[1]),x1:wu(...x[0]),y1:wu(...x[1])}}function WG(o){var r=ev(o);if(r.curve)return __(r.curve);for(var s=f6e(o),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=function(T,P,N){var j,q;if(!T)return["C",P.x,P.y,P.x,P.y,P.x,P.y];switch(!(T[0]in{T:1,Q:1})&&(P.qx=P.qy=null),T[0]){case"M":P.X=T[1],P.Y=T[2];break;case"A":T=["C",...qG(P.x,P.y,...T.slice(1))];break;case"S":N=="C"||N=="S"?(j=P.x*2-P.bx,q=P.y*2-P.by):(j=P.x,q=P.y),T=["C",j,q,...T.slice(1)];break;case"T":N=="Q"||N=="T"?(P.qx=P.x*2-P.qx,P.qy=P.y*2-P.qy):(P.qx=P.x,P.qy=P.y),T=["C",...UG(P.x,P.y,P.qx,P.qy,T[1],T[2])];break;case"Q":P.qx=T[1],P.qy=T[2],T=["C",...UG(P.x,P.y,T[1],T[2],T[3],T[4])];break;case"L":T=["C",...S_(P.x,P.y,T[1],T[2])];break;case"H":T=["C",...S_(P.x,P.y,T[1],P.y)];break;case"V":T=["C",...S_(P.x,P.y,P.x,T[1])];break;case"Z":T=["C",...S_(P.x,P.y,P.X,P.Y)];break}return T},f=function(T,P){if(T[P].length>7){T[P].shift();for(var N=T[P];N.length;)p[P]="A",T.splice(P++,0,["C",...N.splice(0,6)]);T.splice(P,1),w=s.length}},p=[],v="",y="",x=0,w=s.length;x<w;x++){s[x]&&(v=s[x][0]),v!="C"&&(p[x]=v,x&&(y=p[x-1])),s[x]=u(s[x],l,y),p[x]!="A"&&v=="C"&&(p[x]="C"),f(s,x);var C=s[x],O=C.length;l.x=C[O-2],l.y=C[O-1],l.bx=LG(C[O-4])||l.x,l.by=LG(C[O-3])||l.y}return r.curve=__(s),s}function Ls(o){return h(o)&&E(o,"waypoints")}function tv(o){return h(o)&&E(o,"labelTarget")}function p6e(o){return{x:Math.round(o.x),y:Math.round(o.y),width:Math.round(o.width),height:Math.round(o.height)}}function v3(o){return{x:Math.round(o.x),y:Math.round(o.y)}}function $t(o){return{top:o.y,right:o.x+(o.width||0),bottom:o.y+(o.height||0),left:o.x}}function GG(o){return{x:o.left,y:o.top,width:o.right-o.left,height:o.bottom-o.top}}function m6e(o){return v3({x:o.x+(o.width||0)/2,y:o.y+(o.height||0)/2})}function g6e(o){for(var r=o.waypoints,s=r.reduce(function(x,w,C){var O=r[C-1];if(O){var T=x[x.length-1],P=T&&T.endLength||0,N=b6e(O,w);x.push({start:O,end:w,startLength:P,endLength:P+N,length:N})}return x},[]),l=s.reduce(function(x,w){return x+w.length},0),u=l/2,f=0,p=s[f];p.endLength<u;)p=s[++f];var v=(u-p.startLength)/p.length,y={x:p.start.x+(p.end.x-p.start.x)*v,y:p.start.y+(p.end.y-p.start.y)*v};return y}function Qn(o){return Ls(o)?g6e(o):m6e(o)}function Ba(o,r,s){s=s||0,h(s)||(s={x:s,y:s});var l=$t(o),u=$t(r),f=l.bottom+s.y<=u.top,p=l.left-s.x>=u.right,v=l.top-s.y>=u.bottom,y=l.right+s.x<=u.left,x=f?"top":v?"bottom":null,w=y?"left":p?"right":null;return w&&x?x+"-"+w:w||x||"intersect"}function mI(o,r,s){var l=v6e(o,r);return l.length===1||l.length===2&&E_(l[0],l[1])<1?v3(l[0]):l.length>1?(l=ee(l,function(u){var f=Math.floor(u.t2*100)||1;return f=100-f,f=(f<10?"0":"")+f,u.segment2+"#"+f}),v3(l[s?0:l.length-1])):null}function v6e(o,r){return zG(o,r)}function y6e(o){o=o.slice();for(var r=0,s,l,u;o[r];)s=o[r],l=o[r-1],u=o[r+1],E_(s,u)===0||RG(l,u,s)?o.splice(r,1):r++;return o}function b6e(o,r){return Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2))}function O_(o,r){return Math.round(o*r)/r}function QG(o){return m(o)?o+"px":o}function x6e(o){for(;o.parent;)o=o.parent;return o}function E6e(o){o=xe({},{width:"100%",height:"100%"},o);let r=o.container||document.body,s=document.createElement("div");return s.setAttribute("class","djs-container djs-parent"),tm(s,{position:"relative",overflow:"hidden",width:QG(o.width),height:QG(o.height)}),r.appendChild(s),s}function YG(o,r,s){let l=zt("g");_n(l).add(r);let u=s!==void 0?s:o.childNodes.length-1;return o.insertBefore(l,o.childNodes[u]||null),l}let w6e="base",XG=0,_6e=1,C6e={shape:["x","y","width","height"],connection:["waypoints"]};function Rt(o,r,s,l){this._eventBus=r,this._elementRegistry=l,this._graphicsFactory=s,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(o||{})}Rt.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],Rt.prototype._init=function(o){let r=this._eventBus,s=this._container=E6e(o),l=this._svg=zt("svg");ht(l,{width:"100%",height:"100%"}),Qt(s,l);let u=this._viewport=YG(l,"viewport");o.deferUpdate&&(this._viewboxChanged=Se(je(this._viewboxChanged,this),300)),r.on("diagram.init",()=>{r.fire("canvas.init",{svg:l,viewport:u})}),r.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),r.on("diagram.destroy",500,this._destroy,this),r.on("diagram.clear",500,this._clear,this)},Rt.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});let o=this._container.parentNode;o&&o.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport},Rt.prototype._clear=function(){this._elementRegistry.getAll().forEach(r=>{let s=IG(r);s==="root"?this.removeRootElement(r):this._removeElement(r,s)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox},Rt.prototype.getDefaultLayer=function(){return this.getLayer(w6e,XG)},Rt.prototype.getLayer=function(o,r){if(!o)throw new Error("must specify a name");let s=this._layers[o];if(s||(s=this._layers[o]=this._createLayer(o,r)),typeof r<"u"&&s.index!==r)throw new Error("layer <"+o+"> already created at index <"+r+">");return s.group},Rt.prototype._getChildIndex=function(o){return k(this._layers,function(r,s){return s.visible&&o>=s.index&&r++,r},0)},Rt.prototype._createLayer=function(o,r){typeof r>"u"&&(r=_6e);let s=this._getChildIndex(r);return{group:YG(this._viewport,"layer-"+o,s),index:r,visible:!0}},Rt.prototype.showLayer=function(o){if(!o)throw new Error("must specify a name");let r=this._layers[o];if(!r)throw new Error("layer <"+o+"> does not exist");let s=this._viewport,l=r.group,u=r.index;if(r.visible)return l;let f=this._getChildIndex(u);return s.insertBefore(l,s.childNodes[f]||null),r.visible=!0,l},Rt.prototype.hideLayer=function(o){if(!o)throw new Error("must specify a name");let r=this._layers[o];if(!r)throw new Error("layer <"+o+"> does not exist");let s=r.group;return r.visible&&(us(s),r.visible=!1),s},Rt.prototype._removeLayer=function(o){let r=this._layers[o];r&&(delete this._layers[o],us(r.group))},Rt.prototype.getActiveLayer=function(){let o=this._findPlaneForRoot(this.getRootElement());return o?o.layer:null},Rt.prototype.findRoot=function(o){return typeof o=="string"&&(o=this._elementRegistry.get(o)),o?(this._findPlaneForRoot(x6e(o))||{}).rootElement:void 0},Rt.prototype.getRootElements=function(){return this._planes.map(function(o){return o.rootElement})},Rt.prototype._findPlaneForRoot=function(o){return _(this._planes,function(r){return r.rootElement===o})},Rt.prototype.getContainer=function(){return this._container},Rt.prototype._updateMarker=function(o,r,s){let l;o.id||(o=this._elementRegistry.get(o)),l=this._elementRegistry._elements[o.id],l&&(D([l.gfx,l.secondaryGfx],function(u){u&&(s?_n(u).add(r):_n(u).remove(r))}),this._eventBus.fire("element.marker.update",{element:o,gfx:l.gfx,marker:r,add:!!s}))},Rt.prototype.addMarker=function(o,r){this._updateMarker(o,r,!0)},Rt.prototype.removeMarker=function(o,r){this._updateMarker(o,r,!1)},Rt.prototype.hasMarker=function(o,r){o.id||(o=this._elementRegistry.get(o));let s=this.getGraphics(o);return _n(s).has(r)},Rt.prototype.toggleMarker=function(o,r){this.hasMarker(o,r)?this.removeMarker(o,r):this.addMarker(o,r)},Rt.prototype.getRootElement=function(){let o=this._rootElement;return o||this._planes.length?o:this.setRootElement(this.addRootElement(null))},Rt.prototype.addRootElement=function(o){let r=this._rootsIdx++;o||(o={id:"__implicitroot_"+r,children:[],isImplicit:!0});let s=o.layer="root-"+r;this._ensureValid("root",o);let l=this.getLayer(s,XG);return this.hideLayer(s),this._addRoot(o,l),this._planes.push({rootElement:o,layer:l}),o},Rt.prototype.removeRootElement=function(o){if(typeof o=="string"&&(o=this._elementRegistry.get(o)),!!this._findPlaneForRoot(o))return this._removeRoot(o),this._removeLayer(o.layer),this._planes=this._planes.filter(function(s){return s.rootElement!==o}),this._rootElement===o&&(this._rootElement=null),o},Rt.prototype.setRootElement=function(o){if(o===this._rootElement)return o;let r;if(!o)throw new Error("rootElement required");return r=this._findPlaneForRoot(o),r||(o=this.addRootElement(o)),this._setRoot(o),o},Rt.prototype._removeRoot=function(o){let r=this._elementRegistry,s=this._eventBus;s.fire("root.remove",{element:o}),s.fire("root.removed",{element:o}),r.remove(o)},Rt.prototype._addRoot=function(o,r){let s=this._elementRegistry,l=this._eventBus;l.fire("root.add",{element:o}),s.add(o,r),l.fire("root.added",{element:o,gfx:r})},Rt.prototype._setRoot=function(o,r){let s=this._rootElement;s&&(this._elementRegistry.updateGraphics(s,null,!0),this.hideLayer(s.layer)),o&&(r||(r=this._findPlaneForRoot(o).layer),this._elementRegistry.updateGraphics(o,this._svg,!0),this.showLayer(o.layer)),this._rootElement=o,this._eventBus.fire("root.set",{element:o})},Rt.prototype._ensureValid=function(o,r){if(!r.id)throw new Error("element must have an id");if(this._elementRegistry.get(r.id))throw new Error("element <"+r.id+"> already exists");let s=C6e[o];if(!I(s,function(u){return typeof r[u]<"u"}))throw new Error("must supply { "+s.join(", ")+" } with "+o)},Rt.prototype._setParent=function(o,r,s){Ud(r.children,o,s),o.parent=r},Rt.prototype._addElement=function(o,r,s,l){s=s||this.getRootElement();let u=this._eventBus,f=this._graphicsFactory;this._ensureValid(o,r),u.fire(o+".add",{element:r,parent:s}),this._setParent(r,s,l);let p=f.create(o,r,l);return this._elementRegistry.add(r,p),f.update(o,r,p),u.fire(o+".added",{element:r,gfx:p}),r},Rt.prototype.addShape=function(o,r,s){return this._addElement("shape",o,r,s)},Rt.prototype.addConnection=function(o,r,s){return this._addElement("connection",o,r,s)},Rt.prototype._removeElement=function(o,r){let s=this._elementRegistry,l=this._graphicsFactory,u=this._eventBus;if(o=s.get(o.id||o),!!o)return u.fire(r+".remove",{element:o}),l.remove(o),nm(o.parent&&o.parent.children,o),o.parent=null,u.fire(r+".removed",{element:o}),s.remove(o),o},Rt.prototype.removeShape=function(o){return this._removeElement(o,"shape")},Rt.prototype.removeConnection=function(o){return this._removeElement(o,"connection")},Rt.prototype.getGraphics=function(o,r){return this._elementRegistry.getGraphics(o,r)},Rt.prototype._changeViewbox=function(o){this._eventBus.fire("canvas.viewbox.changing"),o.apply(this),this._cachedViewbox=null,this._viewboxChanged()},Rt.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},Rt.prototype.viewbox=function(o){if(o===void 0&&this._cachedViewbox)return this._cachedViewbox;let r=this._viewport,s=this.getSize(),l,u,f,p,v,y,x;if(o)this._changeViewbox(function(){v=Math.min(s.width/o.width,s.height/o.height);let w=this._svg.createSVGMatrix().scale(v).translate(-o.x,-o.y);p3(r,w)});else return f=this._rootElement?this.getActiveLayer():null,l=f&&f.getBBox()||{},p=p3(r),u=p?p.matrix:NCe(),v=O_(u.a,1e3),y=O_(-u.e||0,1e3),x=O_(-u.f||0,1e3),o=this._cachedViewbox={x:y?y/v:0,y:x?x/v:0,width:s.width/v,height:s.height/v,scale:v,inner:{width:l.width||0,height:l.height||0,x:l.x||0,y:l.y||0},outer:s},o;return o},Rt.prototype.scroll=function(o){let r=this._viewport,s=r.getCTM();return o&&this._changeViewbox(function(){o=xe({dx:0,dy:0},o||{}),s=this._svg.createSVGMatrix().translate(o.dx,o.dy).multiply(s),KG(r,s)}),{x:s.e,y:s.f}},Rt.prototype.scrollToElement=function(o,r){let s=100;typeof o=="string"&&(o=this._elementRegistry.get(o));let l=this.findRoot(o);if(l!==this.getRootElement()&&this.setRootElement(l),l===o)return;r||(r={}),typeof r=="number"&&(s=r),r={top:r.top||s,right:r.right||s,bottom:r.bottom||s,left:r.left||s};let u=Ol(o),f=$t(u),p=this.viewbox(),v=this.zoom(),y,x;p.y+=r.top/v,p.x+=r.left/v,p.width-=(r.right+r.left)/v,p.height-=(r.bottom+r.top)/v;let w=$t(p);if(!(u.width<p.width&&u.height<p.height))y=u.x-p.x,x=u.y-p.y;else{let O=Math.max(0,f.right-w.right),T=Math.min(0,f.left-w.left),P=Math.max(0,f.bottom-w.bottom),N=Math.min(0,f.top-w.top);y=O||T,x=P||N}this.scroll({dx:-y*v,dy:-x*v})},Rt.prototype.zoom=function(o,r){if(!o)return this.viewbox(o).scale;if(o==="fit-viewport")return this._fitViewport(r);let s,l;return this._changeViewbox(function(){typeof r!="object"&&(s=this.viewbox().outer,r={x:s.width/2,y:s.height/2}),l=this._setZoom(o,r)}),O_(l.a,1e3)};function KG(o,r){let s="matrix("+r.a+","+r.b+","+r.c+","+r.d+","+r.e+","+r.f+")";o.setAttribute("transform",s)}Rt.prototype._fitViewport=function(o){let r=this.viewbox(),s=r.outer,l=r.inner,u,f;return l.x>=0&&l.y>=0&&l.x+l.width<=s.width&&l.y+l.height<=s.height&&!o?f={x:0,y:0,width:Math.max(l.width+l.x,s.width),height:Math.max(l.height+l.y,s.height)}:(u=Math.min(1,s.width/l.width,s.height/l.height),f={x:l.x+(o?l.width/2-s.width/u/2:0),y:l.y+(o?l.height/2-s.height/u/2:0),width:s.width/u,height:s.height/u}),this.viewbox(f),this.viewbox(!1).scale},Rt.prototype._setZoom=function(o,r){let s=this._svg,l=this._viewport,u=s.createSVGMatrix(),f=s.createSVGPoint(),p,v,y,x,w;y=l.getCTM();let C=y.a;return r?(p=xe(f,r),v=p.matrixTransform(y.inverse()),x=u.translate(v.x,v.y).scale(1/C*o).translate(-v.x,-v.y),w=y.multiply(x)):w=u.scale(o),KG(this._viewport,w),w},Rt.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},Rt.prototype.getAbsoluteBBox=function(o){let r=this.viewbox(),s;o.waypoints?s=this.getGraphics(o).getBBox():s=o;let l=s.x*r.scale-r.x*r.scale,u=s.y*r.scale-r.y*r.scale,f=s.width*r.scale,p=s.height*r.scale;return{x:l,y:u,width:f,height:p}},Rt.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var nv="data-element-id";function ja(o){this._elements={},this._eventBus=o}ja.$inject=["eventBus"],ja.prototype.add=function(o,r,s){var l=o.id;this._validateId(l),ht(r,nv,l),s&&ht(s,nv,l),this._elements[l]={element:o,gfx:r,secondaryGfx:s}},ja.prototype.remove=function(o){var r=this._elements,s=o.id||o,l=s&&r[s];l&&(ht(l.gfx,nv,""),l.secondaryGfx&&ht(l.secondaryGfx,nv,""),delete r[s])},ja.prototype.updateId=function(o,r){this._validateId(r),typeof o=="string"&&(o=this.get(o)),this._eventBus.fire("element.updateId",{element:o,newId:r});var s=this.getGraphics(o),l=this.getGraphics(o,!0);this.remove(o),o.id=r,this.add(o,s,l)},ja.prototype.updateGraphics=function(o,r,s){var l=o.id||o,u=this._elements[l];return s?u.secondaryGfx=r:u.gfx=r,r&&ht(r,nv,l),r},ja.prototype.get=function(o){var r;typeof o=="string"?r=o:r=o&&ht(o,nv);var s=this._elements[r];return s&&s.element},ja.prototype.filter=function(o){var r=[];return this.forEach(function(s,l){o(s,l)&&r.push(s)}),r},ja.prototype.find=function(o){for(var r=this._elements,s=Object.keys(r),l=0;l<s.length;l++){var u=s[l],f=r[u],p=f.element,v=f.gfx;if(o(p,v))return p}},ja.prototype.getAll=function(){return this.filter(function(o){return o})},ja.prototype.forEach=function(o){var r=this._elements;Object.keys(r).forEach(function(s){var l=r[s],u=l.element,f=l.gfx;return o(u,f)})},ja.prototype.getGraphics=function(o,r){var s=o.id||o,l=this._elements[s];return l&&(r?l.secondaryGfx:l.gfx)},ja.prototype._validateId=function(o){if(!o)throw new Error("element must have an id");if(this._elements[o])throw new Error("element with id "+o+" already added")};function S6e(o,r,s,l){var u=s.inverse;return Object.defineProperty(o,"remove",{value:function(f){var p=this.indexOf(f);return p!==-1&&(this.splice(p,1),r.unset(f,u,l)),f}}),Object.defineProperty(o,"contains",{value:function(f){return this.indexOf(f)!==-1}}),Object.defineProperty(o,"add",{value:function(f,p){var v=this.indexOf(f);if(typeof p>"u"){if(v!==-1)return;p=this.length}v!==-1&&this.splice(v,1),this.splice(p,0,f),v===-1&&r.set(f,u,l)}}),Object.defineProperty(o,"__refs_collection",{value:!0}),o}function O6e(o){return o.__refs_collection===!0}function D6e(o,r){return Object.prototype.hasOwnProperty.call(o,r.name||r)}function ZG(o,r,s){var l=S6e(s[r.name]||[],o,r,s);Object.defineProperty(s,r.name,{enumerable:r.enumerable,value:l}),l.length&&l.forEach(function(u){o.set(u,r.inverse,s)})}function T6e(o,r,s){var l=r.inverse,u=s[r.name];Object.defineProperty(s,r.name,{configurable:r.configurable,enumerable:r.enumerable,get:function(){return u},set:function(f){if(f!==u){var p=u;u=null,p&&o.unset(p,l,s),u=f,o.set(u,l,s)}}})}function Va(o,r){if(!(this instanceof Va))return new Va(o,r);o.inverse=r,r.inverse=o,this.props={},this.props[o.name]=o,this.props[r.name]=r}Va.prototype.bind=function(o,r){if(typeof r=="string"){if(!this.props[r])throw new Error("no property <"+r+"> in ref");r=this.props[r]}r.collection?ZG(this,r,o):T6e(this,r,o)},Va.prototype.ensureRefsCollection=function(o,r){var s=o[r.name];return O6e(s)||ZG(this,r,o),s},Va.prototype.ensureBound=function(o,r){D6e(o,r)||this.bind(o,r)},Va.prototype.unset=function(o,r,s){o&&(this.ensureBound(o,r),r.collection?this.ensureRefsCollection(o,r).remove(s):o[r.name]=void 0)},Va.prototype.set=function(o,r,s){o&&(this.ensureBound(o,r),r.collection?this.ensureRefsCollection(o,r).add(s):o[r.name]=s)};var gI=new Va({name:"children",enumerable:!0,collection:!0},{name:"parent"}),JG=new Va({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),eQ=new Va({name:"attachers",collection:!0},{name:"host"}),tQ=new Va({name:"outgoing",collection:!0},{name:"source"}),nQ=new Va({name:"incoming",collection:!0},{name:"target"});function rv(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(o){var r=this.label,s=this.labels;!o&&r?s.remove(r):s.add(o,0)}}),gI.bind(this,"parent"),JG.bind(this,"labels"),tQ.bind(this,"outgoing"),nQ.bind(this,"incoming")}function y3(){rv.call(this),gI.bind(this,"children"),eQ.bind(this,"host"),eQ.bind(this,"attachers")}ri(y3,rv);function rQ(){rv.call(this),gI.bind(this,"children")}ri(rQ,y3);function iQ(){y3.call(this),JG.bind(this,"labelTarget")}ri(iQ,y3);function oQ(){rv.call(this),tQ.bind(this,"source"),nQ.bind(this,"target")}ri(oQ,rv);var k6e={connection:oQ,shape:y3,label:iQ,root:rQ};function P6e(o,r){var s=k6e[o];if(!s)throw new Error("unknown type: <"+o+">");return xe(new s,r)}function I6e(o){return o instanceof rv}function qd(){this._uid=12}qd.prototype.createRoot=function(o){return this.create("root",o)},qd.prototype.createLabel=function(o){return this.create("label",o)},qd.prototype.createShape=function(o){return this.create("shape",o)},qd.prototype.createConnection=function(o){return this.create("connection",o)},qd.prototype.create=function(o,r){return r=xe({},r||{}),r.id||(r.id=o+"_"+this._uid++),P6e(o,r)};function D_(o){return o.childNodes[0]}function M6e(o){return o.parentNode.childNodes[1]}function A6e(o,r,s,l,u){var f=h3();f.setTranslate(r,s);var p=h3();p.setRotate(0,0,0);var v=h3();v.setScale(1,1),p3(o,[f,p,v])}function _u(o,r,s){var l=h3();l.setTranslate(r,s),p3(o,l)}function R6e(o,r){var s=h3();s.setRotate(r,0,0),p3(o,s)}function za(o,r){this._eventBus=o,this._elementRegistry=r}za.$inject=["eventBus","elementRegistry"],za.prototype._getChildrenContainer=function(o){var r=this._elementRegistry.getGraphics(o),s;return o.parent?(s=M6e(r),s||(s=zt("g"),_n(s).add("djs-children"),Qt(r.parentNode,s))):s=r,s},za.prototype._clear=function(o){var r=D_(o);return u_(r),r},za.prototype._createContainer=function(o,r,s,l){var u=zt("g");_n(u).add("djs-group"),typeof s<"u"?sQ(u,r,r.childNodes[s]):Qt(r,u);var f=zt("g");_n(f).add("djs-element"),_n(f).add("djs-"+o),l&&_n(f).add("djs-frame"),Qt(u,f);var p=zt("g");return _n(p).add("djs-visual"),Qt(f,p),f},za.prototype.create=function(o,r,s){var l=this._getChildrenContainer(r.parent);return this._createContainer(o,l,s,MG(r))},za.prototype.updateContainments=function(o){var r=this,s=this._elementRegistry,l;l=k(o,function(u,f){return f.parent&&(u[f.parent.id]=f.parent),u},{}),D(l,function(u){var f=u.children;if(f){var p=r._getChildrenContainer(u);D(f.slice().reverse(),function(v){var y=s.getGraphics(v);sQ(y.parentNode,p)})}})},za.prototype.drawShape=function(o,r,s={}){var l=this._eventBus;return l.fire("render.shape",{gfx:o,element:r,attrs:s})},za.prototype.getShapePath=function(o){var r=this._eventBus;return r.fire("render.getShapePath",o)},za.prototype.drawConnection=function(o,r,s={}){var l=this._eventBus;return l.fire("render.connection",{gfx:o,element:r,attrs:s})},za.prototype.getConnectionPath=function(o){var r=this._eventBus;return r.fire("render.getConnectionPath",o)},za.prototype.update=function(o,r,s){if(r.parent){var l=this._clear(s);if(o==="shape")this.drawShape(l,r),_u(s,r.x,r.y);else if(o==="connection")this.drawConnection(l,r);else throw new Error("unknown type: "+o);r.hidden?ht(s,"display","none"):ht(s,"display","block")}},za.prototype.remove=function(o){var r=this._elementRegistry.getGraphics(o);us(r.parentNode)};function sQ(o,r,s){var l=s||r.firstChild;o!==l&&r.insertBefore(o,l)}var L6e={__depends__:[e6e],__init__:["canvas"],canvas:["type",Rt],elementRegistry:["type",ja],elementFactory:["type",qd],eventBus:["type",de],graphicsFactory:["type",za]};function $6e(o){var r=new y_(o);return r.init(),r}function N6e(o){o=o||{};var r={config:["value",o]},s=[r,L6e].concat(o.modules||[]);return $6e(s)}function rm(o,r){this._injector=r||N6e(o),this.get("eventBus").fire("diagram.init")}rm.prototype.get=function(o,r){return this._injector.get(o,r)},rm.prototype.invoke=function(o,r,s){return this._injector.invoke(o,r,s)},rm.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},rm.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")};var F6e=new Va({name:"dmnElementRef",enumerable:!0},{name:"di",configurable:!0});function B6e(o,r){var s=[];function l(q){var Q=q.gfx;if(Q)throw new Error("already rendered "+q.id);return o.element(q)}function u(q){return o.root(q)}function f(q){try{var Q=q.di&&l(q);return Q}catch(U){j(U.message,{element:q,error:U})}}function p(q,Q){var U=q.dmnDI;if(!U)throw new Error("no dmndi:DMNDI");var H=U.diagrams||[];if(Q&&H.indexOf(Q)===-1)throw new Error("diagram not part of dmndi:DMNDI");if(!Q&&H&&H.length&&(Q=H[0]),!Q)throw new Error("no diagram to display");q.di=Q,C(Q),u(q),v(q.get("drgElement")),y(q.get("artifact")),N()}function v(q){D(q,function(Q){f(Q),w(Q)})}function y(q){D(q,function(Q){we(Q,"dmn:Association")?x(Q):f(Q)})}function x(q){P(function(){f(q)})}function w(q){D(["informationRequirement","knowledgeRequirement","authorityRequirement"],function(Q){D(q[Q],function(U){P(function(){f(U)})})})}function C(q){D(q.diagramElements,O)}function O(q){T(q)}function T(q){var Q=q.dmnElementRef;Q?Q.di?j("multiple DI elements defined for element",{element:Q}):(F6e.bind(Q,"di"),Q.di=q):j("no DMN element referenced in element",{element:q})}function P(q){s.push(q)}function N(){D(s,function(q){q()})}function j(q,Q){o.error(q,Q)}return{handleDefinitions:p}}function j6e(o,r,s){var l=o.get("drdImporter"),u=o.get("eventBus"),f,p=[];function v(y){var x={root:function(C){return l.root(C)},element:function(C,O){return l.add(C,O)},error:function(C,O){p.push({message:C,context:O})}},w=new B6e(x);w.handleDefinitions(y)}u.fire("import.start",{definitions:r});try{v(r)}catch(y){f=y}u.fire("import.done",{error:f,warnings:p}),s(f,p)}var vI="$NO_OP",V6e="a runtime error occured! Use Inferno in development environment to find the error.",aQ=!!(typeof window<"u"&&window.document),im=Array.isArray;function iv(o){var r=typeof o;return r==="string"||r==="number"}function en(o){return T_(o)||Ar(o)}function Ec(o){return Ar(o)||o===!1||z6e(o)||T_(o)}function mn(o){return typeof o=="function"}function Wd(o){return typeof o=="string"}function yI(o){return typeof o=="number"}function Ar(o){return o===null}function z6e(o){return o===!0}function T_(o){return o===void 0}function H6e(o){return typeof o=="object"}function Ni(o){throw o||(o=V6e),new Error("Inferno Error: "+o)}function k_(o){console.error(o)}function b3(o,r){var s={};if(o)for(var l in o)s[l]=o[l];if(r)for(var u in r)s[u]=r[u];return s}function Gd(o){var r;if(im(o)){var s=o.length>3?o.slice(0,3).toString()+",...":o.toString();r="Array("+s+")"}else if(iv(o))r="Text("+o+")";else if(Ec(o))r="InvalidVNode("+o+")";else{var l=o.flags;if(l&481)r="<"+o.type+(o.className?' class="'+o.className+'"':"")+">";else if(l&16)r="Text("+o.children+")";else if(l&1024)r="Portal*";else{var u=o.type,f=u.name||u.displayName||u.constructor.name||(u.toString().match(/^function\s*([^\s(]+)/)||[])[1];r="<"+f+" />"}}return">> "+r+`
`}function bI(o,r){for(var s={},l=0,u=o.length;l<u;l++){var f=o[l];if(im(f))return`Encountered ARRAY in mount, array must be flattened, or normalize used. Location: 
`+Gd(f);if(Ec(f)){if(r)return`Encountered invalid node when preparing to keyed algorithm. Location: 
`+Gd(f);if(Object.keys(s).length!==0)return`Encountered invalid node with mixed keys. Location: 
`+Gd(f);continue}typeof f=="object"&&(f.isValidated=!0);var p=f.key;if(!en(p)&&!iv(p))return`Encountered child vNode where key property is not string or number. Location: 
`+Gd(f);var v=f.children,y=f.childFlags;if(!Ec(v)){var x=void 0;if(y&12?x=bI(v,f.childFlags&8):y===2&&(x=bI([v],f.childFlags&8)),x)return x+=Gd(f),x}if(r&&en(p))return`Encountered child without key during keyed algorithm. If this error points to Array make sure children is flat list. Location: 
`+Gd(f);if(!r&&en(p)){if(Object.keys(s).length!==0)return`Encountered children with key missing. Location: 
`+Gd(f);continue}if(s[p])return"Encountered two children with same key: {"+p+`}. Location: 
`+Gd(f);s[p]=!0}}function lQ(o){{if(o.childFlags&1)return;if(o.flags&64&&Ni("input elements can't have children."),o.flags&128&&Ni("textarea elements can't have children."),o.flags&481){var r=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],s=o.type.toLowerCase();s==="media"&&Ni("media elements can't have children.");var l=r.indexOf(s);l!==-1&&Ni(r[l]+" elements can't have children.")}}}function cQ(o){{if(o.isValidated===!1&&o.children&&o.flags&481){var r=bI(Array.isArray(o.children)?o.children:[o.children],(o.childFlags&8)>0);r&&Ni(r+Gd(o))}o.isValidated=!0}}var x3="$";function xI(o,r,s,l,u,f,p,v){return{childFlags:o,children:r,className:s,dom:null,flags:l,isValidated:!1,key:u===void 0?null:u,parentVNode:null,props:f===void 0?null:f,ref:p===void 0?null:p,type:v}}function di(o,r,s,l,u,f,p,v){o&14&&Ni("Creating Component vNodes using createVNode is not allowed. Use Inferno.createComponentVNode method.");var y=u===void 0?1:u,x=xI(y,l,s,o,p,f,v,r);return y===0&&hQ(x,x.children),lQ(x),x}function om(o,r,s,l,u){o&1&&Ni("Creating element vNodes using createComponentVNode is not allowed. Use Inferno.createVNode method."),(o&2)>0&&(o=r.prototype&&mn(r.prototype.render)?4:8);var f=r.defaultProps;if(!en(f)){s||(s={});for(var p in f)T_(s[p])&&(s[p]=f[p])}if((o&8)>0){var v=r.defaultHooks;if(!en(v))if(!u)u=v;else for(var y in v)T_(u[y])&&(u[y]=v[y])}var x=xI(1,null,null,o,l,s,u,r),w=wc.createVNode;return mn(w)&&w(x),x}function Oh(o,r){return xI(1,en(o)?"":o,null,16,r,null,null,null)}function uQ(o){var r=o.props;if(r){var s=o.flags;s&481&&(r.children!==void 0&&en(o.children)&&hQ(o,r.children),r.className!==void 0&&(o.className=r.className||null,r.className=void 0)),r.key!==void 0&&(o.key=r.key,r.key=void 0),r.ref!==void 0&&(s&8?o.ref=b3(o.ref,r.ref):o.ref=r.ref,r.ref=void 0)}return o}function ds(o){var r,s=o.flags;if(s&14){var l,u=o.props;if(!Ar(u)){l={};for(var f in u)l[f]=u[f]}r=om(s,o.type,l,o.key,o.ref)}else s&481?r=di(s,o.type,o.className,o.children,o.childFlags,o.props,o.key,o.ref):s&16?r=Oh(o.children,o.key):s&1024&&(r=o);return r}function dQ(){return Oh("",null)}function fQ(o,r,s,l){for(var u=o.length;s<u;s++){var f=o[s];if(!Ec(f)){var p=l+x3+s;if(im(f))fQ(f,r,0,p);else{if(iv(f))f=Oh(f,p);else{var v=f.key,y=Wd(v)&&v[0]===x3;(!Ar(f.dom)||y)&&(f=ds(f)),Ar(v)||y?f.key=p:f.key=l+v}r.push(f)}}}}function hQ(o,r){var s,l=1;if(Ec(r))s=r;else if(Wd(r))l=2,s=Oh(r);else if(yI(r))l=2,s=Oh(r+"");else if(im(r)){var u=r.length;if(u===0)s=null,l=1;else{(Object.isFrozen(r)||r.$===!0)&&(r=r.slice()),l=8;for(var f=0;f<u;f++){var p=r[f];if(Ec(p)||im(p)){s=s||r.slice(0,f),fQ(r,s,f,"");break}else if(iv(p))s=s||r.slice(0,f),s.push(Oh(p,x3+f));else{var v=p.key,y=Ar(p.dom),x=Ar(v),w=!x&&Wd(v)&&v[0]===x3;!y||x||w?(s=s||r.slice(0,f),(!y||w)&&(p=ds(p)),(x||w)&&(p.key=x3+f),s.push(p)):s&&s.push(p)}}s=s||r,s.$=!0}}else s=r,Ar(r.dom)||(s=ds(r)),l=2;return o.children=s,o.childFlags=l,lQ(o),o}var wc={afterRender:null,beforeRender:null,createVNode:null,renderComplete:null},sm="http://www.w3.org/1999/xlink",EI="http://www.w3.org/XML/1998/namespace",U6e="http://www.w3.org/2000/svg",pQ={"xlink:actuate":sm,"xlink:arcrole":sm,"xlink:href":sm,"xlink:role":sm,"xlink:show":sm,"xlink:title":sm,"xlink:type":sm,"xml:base":EI,"xml:lang":EI,"xml:space":EI},ro={},Cu=[];Object.freeze(ro);function P_(o,r){o.appendChild(r)}function I_(o,r,s){en(s)?P_(o,r):o.insertBefore(r,s)}function q6e(o,r){return r?document.createElementNS(U6e,o):document.createElement(o)}function wI(o,r,s){o.replaceChild(r,s)}function W6e(o,r){o.removeChild(r)}function _I(o){for(var r;(r=o.shift())!==void 0;)r()}var M_={},CI={};function mQ(o,r,s){var l=M_[o],u=s.$EV;r?(l||(CI[o]=X6e(o),M_[o]=0),u||(u=s.$EV={}),u[o]||M_[o]++,u[o]=r):u&&u[o]&&(M_[o]--,l===1&&(document.removeEventListener(gQ(o),CI[o]),CI[o]=null),u[o]=r)}function G6e(o){return mn(o.composedPath)?o.composedPath()[0]:o.target}function Q6e(o,r,s,l){for(var u=G6e(o);!Ar(u);){if(r&&u.disabled)return;var f=u.$EV;if(f){var p=f[s];if(p&&(l.dom=u,p.event?p.event(p.data,o):p(o),o.cancelBubble))return}u=u.parentNode}}function gQ(o){return o.substr(2).toLowerCase()}function Y6e(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function X6e(o){var r=function(l){var u=l.type,f=u==="click"||u==="dblclick";if(f&&l.button!==0)return l.stopPropagation(),!1;l.stopPropagation=Y6e;var p={dom:document};Object.defineProperty(l,"currentTarget",{configurable:!0,get:function(){return p.dom}}),Q6e(l,f,o,p)};return document.addEventListener(gQ(o),r),r}function vQ(o,r){var s=document.createElement("i");return s.innerHTML=r,s.innerHTML===o.innerHTML}function K6e(o,r){return!!(r&&r.dangerouslySetInnerHTML&&r.dangerouslySetInnerHTML.__html&&vQ(o,r.dangerouslySetInnerHTML.__html))}function yQ(o,r,s){if(o[r]){var l=o[r];l.event?l.event(l.data,s):l(s)}else{var u=r.toLowerCase();o[u]&&o[u](s)}}function E3(o,r){var s=function(u){u.stopPropagation();var f=this.$V;if(f){var p=f.props||ro,v=f.dom;if(Wd(o))yQ(p,o,u);else for(var y=0;y<o.length;y++)yQ(p,o[y],u);if(mn(r)){var x=this.$V,w=x.props||ro;r(w,v,!1,x)}}};return Object.defineProperty(s,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),s}function SI(o){return o==="checkbox"||o==="radio"}var Z6e=E3("onInput",OI),J6e=E3(["onClick","onChange"],OI);function bQ(o){o.stopPropagation()}bQ.wrapped=!0;function eSe(o,r){SI(r.type)?(o.onchange=J6e,o.onclick=bQ):o.oninput=Z6e}function OI(o,r){var s=o.type,l=o.value,u=o.checked,f=o.multiple,p=o.defaultValue,v=!en(l);s&&s!==r.type&&r.setAttribute("type",s),!en(f)&&f!==r.multiple&&(r.multiple=f),!en(p)&&!v&&(r.defaultValue=p+""),SI(s)?(v&&(r.value=l),en(u)||(r.checked=u)):v&&r.value!==l?(r.defaultValue=l,r.value=l):en(u)||(r.checked=u)}function xQ(o,r){var s=o.type;if(s==="optgroup"){var l=o.children,u=o.childFlags;if(u&12)for(var f=0,p=l.length;f<p;f++)DI(l[f],r);else u===2&&DI(l,r)}else DI(o,r)}function DI(o,r){var s=o.props||ro,l=o.dom;l.value=s.value,im(r)&&r.indexOf(s.value)!==-1||s.value===r?l.selected=!0:(!en(r)||!en(s.selected))&&(l.selected=s.selected||!1)}var tSe=E3("onChange",EQ);function nSe(o){o.onchange=tSe}function EQ(o,r,s,l){var u=!!o.multiple;!en(o.multiple)&&u!==r.multiple&&(r.multiple=u);var f=l.childFlags;if(!(f&1)){var p=l.children,v=o.value;if(s&&en(v)&&(v=o.defaultValue),f&12)for(var y=0,x=p.length;y<x;y++)xQ(p[y],v);else f===2&&xQ(p,v)}}var rSe=E3("onInput",wQ),iSe=E3("onChange");function oSe(o,r){o.oninput=rSe,r.onChange&&(o.onchange=iSe)}function wQ(o,r,s){var l=o.value,u=r.value;if(en(l)){if(s){var f=o.defaultValue;!en(f)&&f!==u&&(r.defaultValue=f,r.value=f)}}else u!==l&&(r.defaultValue=l,r.value=l)}function _Q(o,r,s,l,u,f){o&64?OI(l,s):o&256?EQ(l,s,u,r):o&128&&wQ(l,s,u),f&&(s.$V=r)}function sSe(o,r,s){o&64?eSe(r,s):o&256?nSe(r):o&128&&oSe(r,s)}function CQ(o){return o.type&&SI(o.type)?!en(o.checked):!en(o.value)}function Dl(o,r){am(o),r&&o.dom&&(W6e(r,o.dom),o.dom=null)}function am(o){var r=o.flags;if(r&481){var s=o.ref,l=o.props;mn(s)&&s(null);var u=o.children,f=o.childFlags;if(f&12?TI(u):f===2&&am(u),!Ar(l))for(var p in l)switch(p){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":mQ(p,null,o.dom);break}}else{var v=o.children;if(v)if(r&14){var y=o.ref;r&4?(mn(v.componentWillUnmount)&&v.componentWillUnmount(),mn(y)&&y(null),v.$UN=!0,v.$LI&&am(v.$LI)):(!en(y)&&mn(y.onComponentWillUnmount)&&y.onComponentWillUnmount(o.dom,o.props||ro),am(v))}else r&1024&&Dl(v,o.type)}}function TI(o){for(var r=0,s=o.length;r<s;r++)am(o[r])}function A_(o,r){TI(r),o.textContent=""}function aSe(o,r){return function(s){o(r.data,s)}}function lSe(o,r,s){var l=o.toLowerCase();if(!mn(r)&&!en(r)){var u=r.event;u&&mn(u)?s[l]=aSe(u,r):Ni('an event on a VNode "'+o+'". was not a function or a valid linkEvent.')}else{var f=s[l];(!f||!f.wrapped)&&(s[l]=r)}}function SQ(o,r){switch(o){case"animationIterationCount":case"borderImageOutset":case"borderImageSlice":case"borderImageWidth":case"boxFlex":case"boxFlexGroup":case"boxOrdinalGroup":case"columnCount":case"fillOpacity":case"flex":case"flexGrow":case"flexNegative":case"flexOrder":case"flexPositive":case"flexShrink":case"floodOpacity":case"fontWeight":case"gridColumn":case"gridRow":case"lineClamp":case"lineHeight":case"opacity":case"order":case"orphans":case"stopOpacity":case"strokeDasharray":case"strokeDashoffset":case"strokeMiterlimit":case"strokeOpacity":case"strokeWidth":case"tabSize":case"widows":case"zIndex":case"zoom":return r;default:return r+"px"}}function cSe(o,r,s){var l=s.style,u,f;if(Wd(r)){l.cssText=r;return}if(!en(o)&&!Wd(o)){for(u in r)f=r[u],f!==o[u]&&(l[u]=yI(f)?SQ(u,f):f);for(u in o)en(r[u])&&(l[u]="")}else for(u in r)f=r[u],l[u]=yI(f)?SQ(u,f):f}function kI(o,r,s,l,u,f,p){switch(o){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":mQ(o,s,l);break;case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":break;case"autoFocus":l.autofocus=!!s;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":l[o]=!!s;break;case"defaultChecked":case"value":case"volume":if(f&&o==="value")return;var v=en(s)?"":s;l[o]!==v&&(l[o]=v);break;case"dangerouslySetInnerHTML":var y=r&&r.__html||"",x=s&&s.__html||"";y!==x&&!en(x)&&!vQ(l,x)&&(Ar(p)||(p.childFlags&12?TI(p.children):p.childFlags===2&&am(p.children),p.children=null,p.childFlags=1),l.innerHTML=x);break;default:o[0]==="o"&&o[1]==="n"?lSe(o,s,l):en(s)?l.removeAttribute(o):o==="style"?cSe(r,s,l):u&&pQ[o]?l.setAttributeNS(pQ[o],o,s):l.setAttribute(o,s);break}}function OQ(o,r,s,l,u){var f=!1,p=(r&448)>0;p&&(f=CQ(s),f&&sSe(r,l,s));for(var v in s)kI(v,null,s[v],l,u,f,null);p&&_Q(r,o,l,s,!0,f)}function DQ(o,r,s,l){var u=new r(s,l);if(o.children=u,u.$V=o,u.$BS=!1,u.context=l,u.props===ro&&(u.props=s),u.$UN=!1,mn(u.componentWillMount)){if(u.$BR=!0,u.componentWillMount(),u.$PSS){var f=u.state,p=u.$PS;if(Ar(f))u.state=p;else for(var v in p)f[v]=p[v];u.$PSS=!1,u.$PS=null}u.$BR=!1}mn(wc.beforeRender)&&wc.beforeRender(u);var y=w3(u.render(s,u.state,l),o),x;return mn(u.getChildContext)&&(x=u.getChildContext()),en(x)?u.$CX=l:u.$CX=b3(l,x),mn(wc.afterRender)&&wc.afterRender(u),u.$LI=y,u}function w3(o,r){return im(o)&&Ni("a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object."),Ec(o)?o=dQ():iv(o)?o=Oh(o,null):(o.dom&&(o=ds(o)),o.flags&14&&(o.parentVNode=r)),o}function $s(o,r,s,l){var u=o.flags;if(u&481)return TQ(o,r,s,l);if(u&14)return uSe(o,r,s,l,(u&4)>0);if(u&512||u&16)return PI(o,r);if(u&1024)return $s(o.children,o.type,s,!1),o.dom=PI(dQ(),r);Ni(typeof o=="object"?`mount() received an object that's not a valid VNode, you should stringify it first, fix createVNode flags or call normalizeChildren. Object: "`+JSON.stringify(o)+'".':'mount() expects a valid VNode, instead it received an object with the type "'+typeof o+'".')}function PI(o,r){var s=o.dom=document.createTextNode(o.children);return Ar(r)||P_(r,s),s}function TQ(o,r,s,l){var u=o.flags,f=o.children,p=o.props,v=o.className,y=o.ref,x=o.childFlags;l=l||(u&32)>0;var w=q6e(o.type,l);if(o.dom=w,!en(v)&&v!==""&&(l?w.setAttribute("class",v):w.className=v),cQ(o),Ar(r)||P_(r,w),!(x&1)){var C=l===!0&&o.type!=="foreignObject";x===2?$s(f,w,s,C):x&12&&_3(f,w,s,C)}return Ar(p)||OQ(o,u,p,w,l),Wd(y)&&Ni('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.'),mn(y)&&II(w,y),w}function _3(o,r,s,l){for(var u=0,f=o.length;u<f;u++){var p=o[u];Ar(p.dom)||(o[u]=p=ds(p)),$s(p,r,s,l)}}function uSe(o,r,s,l,u){var f,p=o.type,v=o.props||ro,y=o.ref;if(u){var x=DQ(o,p,v,s);o.dom=f=$s(x.$LI,null,x.$CX,l),kQ(o,y,x),x.$UPD=!1}else{var w=w3(p(v,s),o);o.children=w,o.dom=f=$s(w,null,s,l),PQ(v,y,f)}return Ar(r)||P_(r,f),f}function dSe(o){return function(){o.$UPD=!0,o.componentDidMount(),o.$UPD=!1}}function kQ(o,r,s){mn(r)?r(s):iv(r)?Ni('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.'):!en(r)&&H6e(r)&&o.flags&4&&Ni("functional component lifecycle events are not supported on ES2015 class components."),mn(s.componentDidMount)&&Cu.push(dSe(s))}function fSe(o,r,s){return function(){return o.onComponentDidMount(r,s)}}function PQ(o,r,s){en(r)||(mn(r.onComponentWillMount)&&r.onComponentWillMount(o),mn(r.onComponentDidMount)&&Cu.push(fSe(r,s,o)))}function II(o,r){Cu.push(function(){return r(o)})}function hSe(o,r,s,l,u){var f=o.type,p=o.ref,v=o.props||ro;if(u){var y=DQ(o,f,v,s),x=y.$LI;C3(x,r,y.$CX,l),o.dom=x.dom,kQ(o,p,y),y.$UPD=!1}else{var w=w3(f(v,s),o);C3(w,r,s,l),o.children=w,o.dom=w.dom,PQ(v,p,r)}}function pSe(o,r,s,l){var u=o.children,f=o.props,p=o.className,v=o.flags,y=o.ref;if(l=l||(v&32)>0,r.nodeType!==1||r.tagName.toLowerCase()!==o.type){k_("Inferno hydration: Server-side markup doesn't match client-side markup or Initial render target is not empty");var x=TQ(o,null,s,l);o.dom=x,wI(r.parentNode,x,r)}else{o.dom=r;var w=r.firstChild,C=o.childFlags;if(C&1)!Ar(r.firstChild)&&!K6e(r,f)&&(r.textContent="",v&448&&(r.defaultValue=""));else{for(var O=null;w;)O=w.nextSibling,w.nodeType===8&&(w.data==="!"?r.replaceChild(document.createTextNode(""),w):r.removeChild(w)),w=O;if(w=r.firstChild,C===2)Ar(w)?$s(u,r,s,l):(O=w.nextSibling,C3(u,w,s,l),w=O);else if(C&12)for(var T=0,P=u.length;T<P;T++){var N=u[T];Ar(w)?$s(N,r,s,l):(O=w.nextSibling,C3(N,w,s,l),w=O)}for(;w;)O=w.nextSibling,r.removeChild(w),w=O}Ar(f)||OQ(o,v,f,r,l),en(p)?r.className!==""&&r.removeAttribute("class"):l?r.setAttribute("class",p):r.className=p,mn(y)?II(r,y):Wd(y)&&Ni('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.')}}function mSe(o,r){if(r.nodeType!==3){var s=PI(o,null);o.dom=s,wI(r.parentNode,s,r)}else{var l=o.children;r.nodeValue!==l&&(r.nodeValue=l),o.dom=r}}function C3(o,r,s,l){var u=o.flags;u&14?hSe(o,r,s,l,(u&4)>0):u&481?pSe(o,r,s,l):u&16?mSe(o,r):u&512?o.dom=r:(Ni('hydrate() expects a valid VNode, instead it received an object with the type "'+typeof o+'".'),Ni())}function gSe(o,r,s){var l=r.firstChild;if(!Ar(l))for(Ec(o)||C3(o,l,ro,!1),l=r.firstChild;l=l.nextSibling;)r.removeChild(l);Cu.length>0&&_I(Cu),r.$V=o,mn(s)&&s()}function MI(o,r,s,l,u){am(o),wI(s,$s(r,null,l,u),o.dom)}function Qd(o,r,s,l,u){var f=r.flags|0;o.flags!==f||f&2048?MI(o,r,s,l,u):f&481?bSe(o,r,s,l,u,f):f&14?xSe(o,r,s,l,u,(f&4)>0):f&16?ESe(o,r):f&512?r.dom=o.dom:ySe(o,r,l)}function vSe(o,r){o.textContent!==r.children&&(o.textContent=r.children)}function ySe(o,r,s){var l=o.type,u=r.type,f=r.children;if(IQ(o.childFlags,r.childFlags,o.children,f,l,s,!1),r.dom=o.dom,l!==u&&!Ec(f)){var p=f.dom;l.removeChild(p),u.appendChild(p)}}function bSe(o,r,s,l,u,f){var p=r.type;if(o.type!==p)MI(o,r,s,l,u);else{var v=o.dom,y=o.props,x=r.props,w=!1,C=!1,O;if(r.dom=v,u=u||(f&32)>0,y!==x){var T=y||ro;if(O=x||ro,O!==ro){w=(f&448)>0,w&&(C=CQ(O));for(var P in O){var N=T[P],j=O[P];N!==j&&kI(P,N,j,v,u,C,o)}}if(T!==ro)for(var q in T)!O.hasOwnProperty(q)&&!en(T[q])&&kI(q,T[q],null,v,u,C,o)}var Q=o.children,U=r.children,H=r.ref,X=o.className,Y=r.className;cQ(r),f&4096?vSe(v,U):IQ(o.childFlags,r.childFlags,Q,U,v,l,u&&p!=="foreignObject"),w&&_Q(f,r,v,O,!1,C),X!==Y&&(en(Y)?v.removeAttribute("class"):u?v.setAttribute("class",Y):v.className=Y),mn(H)&&o.ref!==H?II(v,H):Wd(H)&&Ni('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.')}}function IQ(o,r,s,l,u,f,p){switch(o){case 2:switch(r){case 2:Qd(s,l,u,f,p);break;case 1:Dl(s,u);break;default:Dl(s,u),_3(l,u,f,p);break}break;case 1:switch(r){case 2:$s(l,u,f,p);break;case 1:break;default:_3(l,u,f,p);break}break;default:if(r&12){var v=s.length,y=l.length;v===0?y>0&&_3(l,u,f,p):y===0?A_(u,s):r===8&&o===8?_Se(s,l,u,f,p,v,y):wSe(s,l,u,f,p,v,y)}else r===1?A_(u,s):r===2&&(A_(u,s),$s(l,u,f,p));break}}function MQ(o,r,s,l,u,f,p,v,y){var x=o.state,w=o.props;s.children=o;var C;if(o.$UN){k_("Inferno Error: Can only update a mounted or mounting component. This usually means you called setState() or forceUpdate() on an unmounted component. This is a no-op.");return}if(w!==l||l===ro){if(!y&&mn(o.componentWillReceiveProps)){if(o.$BR=!0,o.componentWillReceiveProps(l,f),o.$UN)return;o.$BR=!1}o.$PSS&&(r=b3(r,o.$PS),o.$PSS=!1,o.$PS=null)}var O=!!o.shouldComponentUpdate;if(v||!O||O&&o.shouldComponentUpdate(l,r,f)){mn(o.componentWillUpdate)&&(o.$BS=!0,o.componentWillUpdate(l,r,f),o.$BS=!1),o.props=l,o.state=r,o.context=f,mn(wc.beforeRender)&&wc.beforeRender(o),C=o.render(l,r,f),mn(wc.afterRender)&&wc.afterRender(o);var T=C!==vI,P;if(mn(o.getChildContext)&&(P=o.getChildContext()),en(P)?P=f:P=b3(f,P),o.$CX=P,T){var N=o.$LI,j=w3(C,s);Qd(N,j,u,P,p),o.$LI=j,mn(o.componentDidUpdate)&&o.componentDidUpdate(w,x)}}else o.props=l,o.state=r,o.context=f;s.dom=o.$LI.dom}function xSe(o,r,s,l,u,f){var p=r.type,v=o.key,y=r.key;if(o.type!==p||v!==y)MI(o,r,s,l,u);else{var x=r.props||ro;if(f){var w=o.children;w.$UPD=!0,w.$V=r,MQ(w,w.state,r,x,s,l,u,!1,!1),w.$UPD=!1}else{var C=!0,O=o.props,T=r.ref,P=!en(T),N=o.children;if(r.dom=o.dom,r.children=N,P&&mn(T.onComponentShouldUpdate)&&(C=T.onComponentShouldUpdate(O,x)),C!==!1){P&&mn(T.onComponentWillUpdate)&&T.onComponentWillUpdate(O,x);var j=p(x,l);j!==vI&&(j=w3(j,r),Qd(N,j,s,l,u),r.children=j,r.dom=j.dom,P&&mn(T.onComponentDidUpdate)&&T.onComponentDidUpdate(O,x))}else N.flags&14&&(N.parentVNode=r)}}}function ESe(o,r){var s=r.children,l=o.dom;s!==o.children&&(l.nodeValue=s),r.dom=l}function wSe(o,r,s,l,u,f,p){for(var v=f>p?p:f,y=0,x,w;y<v;y++)x=r[y],w=o[y],x.dom&&(x=r[y]=ds(x)),Qd(w,x,s,l,u),o[y]=x;if(f<p)for(y=v;y<p;y++)x=r[y],x.dom&&(x=r[y]=ds(x)),$s(x,s,l,u);else if(f>p)for(y=v;y<f;y++)Dl(o[y],s)}function _Se(o,r,s,l,u,f,p){var v=f-1,y=p-1,x,w=0,C=o[w],O=r[w],T;e:{for(;C.key===O.key;){if(O.dom&&(r[w]=O=ds(O)),Qd(C,O,s,l,u),o[w]=O,w++,w>v||w>y)break e;C=o[w],O=r[w]}for(C=o[v],O=r[y];C.key===O.key;){if(O.dom&&(r[y]=O=ds(O)),Qd(C,O,s,l,u),o[v]=O,v--,y--,w>v||w>y)break e;C=o[v],O=r[y]}}if(w>v){if(w<=y){T=y+1;for(var P=T<p?r[T].dom:null;w<=y;)O=r[w],O.dom&&(r[w]=O=ds(O)),w++,I_(s,$s(O,null,l,u),P)}}else if(w>y)for(;w<=v;)Dl(o[w++],s);else{var N=w,j=w,q=v-w+1,Q=y-w+1,U=[];for(x=0;x<Q;x++)U.push(0);var H=q===f,X=!1,Y=0,ae=0;if(p<4||(q|Q)<32)for(x=N;x<=v;x++)if(C=o[x],ae<Q){for(w=j;w<=y;w++)if(O=r[w],C.key===O.key){if(U[w-j]=x+1,H)for(H=!1;x>N;)Dl(o[N++],s);Y>w?X=!0:Y=w,O.dom&&(r[w]=O=ds(O)),Qd(C,O,s,l,u),ae++;break}!H&&w>y&&Dl(C,s)}else H||Dl(C,s);else{var te={};for(x=j;x<=y;x++)te[r[x].key]=x;for(x=N;x<=v;x++)if(C=o[x],ae<Q)if(w=te[C.key],w!==void 0){if(H)for(H=!1;x>N;)Dl(o[N++],s);O=r[w],U[w-j]=x+1,Y>w?X=!0:Y=w,O.dom&&(r[w]=O=ds(O)),Qd(C,O,s,l,u),ae++}else H||Dl(C,s);else H||Dl(C,s)}if(H)A_(s,o),_3(r,s,l,u);else if(X){var ve=CSe(U);for(w=ve.length-1,x=Q-1;x>=0;x--)U[x]===0?(Y=x+j,O=r[Y],O.dom&&(r[Y]=O=ds(O)),T=Y+1,I_(s,$s(O,null,l,u),T<p?r[T].dom:null)):w<0||x!==ve[w]?(Y=x+j,O=r[Y],T=Y+1,I_(s,O.dom,T<p?r[T].dom:null)):w--}else if(ae!==Q)for(x=Q-1;x>=0;x--)U[x]===0&&(Y=x+j,O=r[Y],O.dom&&(r[Y]=O=ds(O)),T=Y+1,I_(s,$s(O,null,l,u),T<p?r[T].dom:null))}}function CSe(o){var r=o.slice(),s=[0],l,u,f,p,v,y=o.length;for(l=0;l<y;l++){var x=o[l];if(x!==0){if(u=s[s.length-1],o[u]<x){r[l]=u,s.push(l);continue}for(f=0,p=s.length-1;f<p;)v=(f+p)/2|0,o[s[v]]<x?f=v+1:p=v;x<o[s[f]]&&(f>0&&(r[l]=s[f-1]),s[f]=l)}}for(f=s.length,p=s[f-1];f-- >0;)s[f]=p,p=r[p];return s}aQ&&document.body===null&&k_('Inferno warning: you cannot initialize inferno without "document.body". Wait on "DOMContentLoaded" event, add script to bottom of body, or use async/defer attributes on script tag.');var SSe=aQ?document.body:null;function AQ(o,r,s){if(SSe===r&&Ni('you cannot render() to the "document.body". Use an empty element as a container instead.'),o!==vI){var l=r.$V;if(en(l)?Ec(o)||(o.dom&&(o=ds(o)),Ar(r.firstChild)?($s(o,r,ro,!1),r.$V=o):gSe(o,r),l=o):en(o)?(Dl(l,r),r.$V=null):(o.dom&&(o=ds(o)),Qd(l,o,r,ro,!1),l=r.$V=o),Cu.length>0&&_I(Cu),mn(s)&&s(),mn(wc.renderComplete)&&wc.renderComplete(l),l&&l.flags&14)return l.children}}function OSe(o,r){return di(1024,r,null,o,0,null,Ec(o)?null:o.key,null)}var RQ=typeof Promise>"u"?null:Promise.resolve(),DSe=typeof requestAnimationFrame>"u"?setTimeout:requestAnimationFrame.bind(window);function TSe(o){return RQ?RQ.then(o):DSe(o)}function LQ(o,r,s,l){mn(r)&&(r=r(o.state,o.props,o.context));var u=o.$PS;if(en(u))o.$PS=r;else for(var f in r)u[f]=r[f];if(!o.$PSS&&!o.$BR)if(!o.$UPD)o.$PSS=!0,o.$UPD=!0,$Q(o,l,s),o.$UPD=!1;else{var p=o.$QU;Ar(p)&&(p=o.$QU=[],TSe(kSe(o,p))),mn(s)&&p.push(s)}else o.$PSS=!0,o.$BR&&mn(s)&&Cu.push(s.bind(o))}function kSe(o,r){return function(){o.$QU=null,o.$UPD=!0,$Q(o,!1,function(){for(var s=0,l=r.length;s<l;s++)r[s].call(o)}),o.$UPD=!1}}function $Q(o,r,s){if(!o.$UN){if(r||!o.$BR){o.$PSS=!1;var l=o.$PS,u=o.state,f=b3(u,l),p=o.props,v=o.context;o.$PS=null;var y=o.$V,x=o.$LI,w=x.dom&&x.dom.parentNode;if(MQ(o,f,y,p,w,v,(y.flags&32)>0,r,!0),o.$UN)return;if(!(o.$LI.flags&1024))for(var C=o.$LI.dom;!Ar(y=y.parentVNode);)(y.flags&14)>0&&(y.dom=C);Cu.length>0&&_I(Cu)}else o.state=o.$PS,o.$PS=null;mn(s)&&s.call(o)}}var Su=function(){function o(s,l){this.state=null,this.props=void 0,this.context=void 0,this.refs=void 0,this.$BR=!1,this.$BS=!0,this.$PSS=!1,this.$PS=null,this.$LI=null,this.$V=null,this.$UN=!1,this.$CX=null,this.$UPD=!0,this.$QU=null,this.props=s||ro,this.context=l||ro}var r=o.prototype;return r.forceUpdate=function(l){this.$UN||LQ(this,{},l,!0)},r.setState=function(l,u){if(!this.$UN)if(!this.$BS)LQ(this,l,u,!1);else{Ni("cannot update state via setState() in componentWillUpdate() or constructor.");return}},r.render=function(l,u,f){},o}();Su.defaultProps=void 0;{var NQ=function(){};console.info("Inferno is in development mode."),(NQ.name||NQ.toString()).indexOf("testFn")===-1&&k_("It looks like you're using a minified copy of the development build of Inferno. When deploying Inferno apps to production, make sure to use the production build which skips development warnings and is faster. See http://infernojs.org for more details.")}var FQ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21" style="vertical-align:middle"><path fill="#000000" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="#000000" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>';function BQ(o){var r='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100;">'+FQ+"</a>",s=Gn(r);o.appendChild(s),ft.bind(s,"click",function(l){RSe(),l.preventDefault()})}class AI extends Su{constructor(r,s){super(r,s),this.node=null}componentDidMount(){BQ(this.node)}render(){return di(1,"div",null,null,1,null,null,r=>this.node=r)}}function RI(o){return o.join(";")}var PSe=RI(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"]),ISe=RI(["width: 100%","height: 100%","background: rgba(40,40,40,0.2)"]),MSe=RI(["position: absolute","left: 50%","top: 40%","transform: translate(-50%)","width: 260px","padding: 10px","background: white","box-shadow: 0 1px 4px rgba(0,0,0,0.3)","font-family: Helvetica, Arial, sans-serif","font-size: 14px","display: flex","line-height: 1.3"]),ASe='<div class="bjs-powered-by-lightbox" style="'+PSe+'"><div class="backdrop" style="'+ISe+'"></div><div class="notice" style="'+MSe+'"><a href="https://bpmn.io" target="_blank" rel="noopener" style="margin: 15px 20px 15px 10px; align-self: center;">'+FQ+'</a><span>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>',S3;function RSe(){S3||(S3=Gn(ASe),Fa.bind(S3,".backdrop","click",function(o){document.body.removeChild(S3)})),document.body.appendChild(S3)}var LSe=new xu,R_="hsl(225, 10%, 15%)";function LI(o,r,s,l,u,f){xc.call(this,r);var p=LSe.next(),v=l.computeStyle,y={},x=o&&o.defaultFillColor||"white",w=o&&o.defaultStrokeColor||R_,C=o&&o.defaultLabelColor;function O(ae,te,ve){var be=ae+"-"+VQ(te)+"-"+VQ(ve)+"-"+p;return y[be]||P(be,ae,te,ve),"url(#"+be+")"}function T(ae,te){var ve=xe({strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},te.attrs),be=te.ref||{x:0,y:0},Ce=te.scale||1;ve.strokeDasharray==="none"&&(ve.strokeDasharray=[1e4,1]);var Te=zt("marker");ht(te.element,ve),Qt(Te,te.element),ht(Te,{id:ae,viewBox:"0 0 20 20",refX:be.x,refY:be.y,markerWidth:20*Ce,markerHeight:20*Ce,orient:"auto"});var Re=ln("defs",f._svg);Re||(Re=zt("defs"),Qt(f._svg,Re)),Qt(Re,Te),y[ae]=Te}function P(ae,te,ve,be){if(te==="association-start"){var Ce=zt("path");ht(Ce,{d:"M 11 5 L 1 10 L 11 15"}),T(ae,{element:Ce,attrs:{fill:"none",stroke:be,strokeWidth:1.5},ref:{x:1,y:10},scale:.5})}else if(te==="association-end"){var Te=zt("path");ht(Te,{d:"M 1 5 L 11 10 L 1 15"}),T(ae,{element:Te,attrs:{fill:"none",stroke:be,strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}else if(te==="information-requirement-end"){var Re=zt("path");ht(Re,{d:"M 1 5 L 11 10 L 1 15 Z"}),T(ae,{element:Re,attrs:{fill:be,stroke:"none"},ref:{x:11,y:10},scale:1})}else if(te==="knowledge-requirement-end"){var it=zt("path");ht(it,{d:"M 1 3 L 11 10 L 1 17"}),T(ae,{element:it,attrs:{fill:"none",stroke:be,strokeWidth:2},ref:{x:11,y:10},scale:.8})}else if(te==="authority-requirement-end"){var Er=zt("circle");ht(Er,{cx:3,cy:3,r:3}),T(ae,{element:Er,attrs:{fill:be,stroke:"none"},ref:{x:3,y:3},scale:.9})}}function N(ae,te,ve,be,Ce,Te){h(Ce)&&(Te=Ce,Ce=0),Ce=Ce||0,Te=v(Te,{stroke:R_,strokeWidth:2,fill:"white"});var Re=zt("rect");return ht(Re,{x:Ce,y:Ce,width:te-Ce*2,height:ve-Ce*2,rx:be,ry:be}),ht(Re,Te),Qt(ae,Re),Re}function j(ae,te,ve){var be=u.createText(te||"",ve);return cs(be,"class","djs-label"),Qt(ae,be),be}function q(ae,te,ve,be){var Ce=yCe(te);return be=xe({box:te,align:ve,padding:5,style:{fill:zQ(te,C,w)}},be),j(ae,Ce,be)}function Q(ae,te,ve){ve=v(ve,["no-fill"],{strokeWidth:2,stroke:R_});var be=zt("path");return ht(be,{d:te}),ht(be,ve),Qt(ae,be),be}var U={"dmn:Decision":function(ae,te){var ve=N(ae,te.width,te.height,0,{stroke:Ou(te,w),fill:Dh(te,x)});return q(ae,te,"center-middle"),ve},"dmn:KnowledgeSource":function(ae,te){var ve=s.getScaledPath("KNOWLEDGE_SOURCE",{xScaleFactor:1.021,yScaleFactor:1,containerWidth:te.width,containerHeight:te.height,position:{mx:0,my:.075}}),be=Q(ae,ve,{strokeWidth:2,fill:Dh(te,x),stroke:Ou(te,w)});return q(ae,te,"center-middle"),be},"dmn:BusinessKnowledgeModel":function(ae,te){var ve=s.getScaledPath("BUSINESS_KNOWLEDGE_MODEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:te.width,containerHeight:te.height,position:{mx:0,my:.3}}),be=Q(ae,ve,{strokeWidth:2,fill:Dh(te,x),stroke:Ou(te,w)});return q(ae,te,"center-middle"),be},"dmn:InputData":function(ae,te){var ve=N(ae,te.width,te.height,22,{stroke:Ou(te,w),fill:Dh(te,x)});return q(ae,te,"center-middle"),ve},"dmn:TextAnnotation":function(ae,te){var ve={fill:"none",stroke:"none"},be=N(ae,te.width,te.height,0,0,ve),Ce=s.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:te.width,containerHeight:te.height,position:{mx:0,my:0}});Q(ae,Ce,{stroke:Ou(te,w)});var Te=jQ(te).text||"";return j(ae,Te,{style:{fill:zQ(te,C,w)},box:te,align:"left-top",padding:5}),be},"dmn:Association":function(ae,te){var ve=jQ(te),be=Dh(te,x),Ce=Ou(te,w),Te={stroke:Ce,strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"};return(ve.associationDirection==="One"||ve.associationDirection==="Both")&&(Te.markerEnd=O("association-end",be,Ce)),ve.associationDirection==="Both"&&(Te.markerStart=O("association-start",be,Ce)),Y(ae,te.waypoints,Te)},"dmn:InformationRequirement":function(ae,te){var ve=Dh(te,x),be=Ou(te,w),Ce={stroke:be,strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:O("information-requirement-end",ve,be)};return Y(ae,te.waypoints,Ce)},"dmn:KnowledgeRequirement":function(ae,te){var ve=Dh(te,x),be=Ou(te,w),Ce={stroke:be,strokeWidth:1,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:O("knowledge-requirement-end",ve,be)};return Y(ae,te.waypoints,Ce)},"dmn:AuthorityRequirement":function(ae,te){var ve=Dh(te,x),be=Ou(te,w),Ce={stroke:be,strokeWidth:1.5,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:O("authority-requirement-end",ve,be)};return Y(ae,te.waypoints,Ce)}};function H(ae,te){var ve=U[te.type];return ve?ve(ae,te):xc.prototype.drawShape.apply(this,[ae,te])}function X(ae,te){var ve=te.type,be=U[ve];return be?be(ae,te):xc.prototype.drawConnection.apply(this,[ae,te])}function Y(ae,te,ve){ve=v(ve,["no-fill"],{stroke:R_,strokeWidth:2,fill:"none"});var be=x_(te,ve);return Qt(ae,be),be}this.canRender=function(ae){return we(ae,"dmn:DMNElement")||we(ae,"dmn:InformationRequirement")||we(ae,"dmn:KnowledgeRequirement")||we(ae,"dmn:AuthorityRequirement")},this.drawShape=H,this.drawConnection=X}ri(LI,xc),LI.$inject=["config.drdRenderer","eventBus","pathMap","styles","textRenderer","canvas"];function jQ(o){return o.businessObject}function VQ(o){return o.replace(/[^0-9a-zA-z]+/g,"_")}function Ou(o,r){return r}function Dh(o,r){return r}function zQ(o,r,s){return r||Ou(o,s)}var $Se=0,NSe={width:150,height:50};function FSe(o){var r=o.split("-");return{horizontal:r[0]||"center",vertical:r[1]||"top"}}function BSe(o){return h(o)?xe({top:0,left:0,right:0,bottom:0},o):{top:o,left:o,right:o,bottom:o}}function jSe(o,r){r.textContent=o;var s;try{var l,u=o==="";return r.textContent=u?"dummy":o,s=r.getBBox(),l={width:s.width+s.x*2,height:s.height},u&&(l.width=0),l}catch{return{width:0,height:0}}}function VSe(o,r,s){for(var l=o.shift(),u=l,f;;){if(f=jSe(u,s),f.width=u?f.width:0,u===" "||u===""||f.width<Math.round(r)||u.length<2)return zSe(o,u,l,f);u=USe(u,f.width,r)}}function zSe(o,r,s,l){if(r.length<s.length){var u=s.slice(r.length).trim();o.unshift(u)}return{width:l.width,height:l.height,text:r}}var HQ="\xAD";function HSe(o,r){var s=o.split(/(\s|-|\u00AD)/g),l,u=[],f=0;if(s.length>1)for(;l=s.shift();)if(l.length+f<r)u.push(l),f+=l.length;else{(l==="-"||l===HQ)&&u.pop();break}var p=u[u.length-1];return p&&p===HQ&&(u[u.length-1]="-"),u.join("")}function USe(o,r,s){var l=Math.max(o.length*(s/r),1),u=HSe(o,l);return u||(u=o.slice(0,Math.max(Math.round(l-1),1))),u}function qSe(){var o=document.getElementById("helper-svg");return o||(o=zt("svg"),ht(o,{id:"helper-svg"}),tm(o,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(o)),o}function L_(o){this._config=xe({},{size:NSe,padding:$Se,style:{},align:"center-top"},o||{})}L_.prototype.createText=function(o,r){return this.layoutText(o,r).element},L_.prototype.getDimensions=function(o,r){return this.layoutText(o,r).dimensions},L_.prototype.layoutText=function(o,r){var s=xe({},this._config.size,r.box),l=xe({},this._config.style,r.style),u=FSe(r.align||this._config.align),f=BSe(r.padding!==void 0?r.padding:this._config.padding),p=r.fitBox||!1,v=WSe(l),y=o.split(/\u00AD?\r?\n/),x=[],w=s.width-f.left-f.right,C=zt("text");ht(C,{x:0,y:0}),ht(C,l);var O=qSe();for(Qt(O,C);y.length;)x.push(VSe(y,w,C));u.vertical==="middle"&&(f.top=f.bottom=0);var T=k(x,function(Q,U,H){return Q+(v||U.height)},0)+f.top+f.bottom,P=k(x,function(Q,U,H){return U.width>Q?U.width:Q},0),N=f.top;u.vertical==="middle"&&(N+=(s.height-T)/2),N-=(v||x[0].height)/4;var j=zt("text");ht(j,l),D(x,function(Q){var U;switch(N+=v||Q.height,u.horizontal){case"left":U=f.left;break;case"right":U=(p?P:w)-f.right-Q.width;break;default:U=Math.max(((p?P:w)-Q.width)/2+f.left,0)}var H=zt("tspan");ht(H,{x:U,y:N}),H.textContent=Q.text,Qt(j,H)}),us(C);var q={width:P,height:T};return{dimensions:q,element:j}};function WSe(o){if("fontSize"in o&&"lineHeight"in o)return o.lineHeight*parseInt(o.fontSize,10)}var GSe=12,QSe=1.2,YSe=30;function UQ(o){var r=xe({fontFamily:"Arial, sans-serif",fontSize:GSe,fontWeight:"normal",lineHeight:QSe},o&&o.defaultStyle||{}),s=parseInt(r.fontSize,10)-1,l=xe({},r,{fontSize:s},o&&o.externalStyle||{}),u=new L_({style:r});this.getExternalLabelBounds=function(f,p){var v=u.getDimensions(p,{box:{width:90,height:30,x:f.width/2+f.x,y:f.height/2+f.y},style:l});return{x:Math.round(f.x+f.width/2-v.width/2),y:Math.round(f.y),width:Math.ceil(v.width),height:Math.ceil(v.height)}},this.getTextAnnotationBounds=function(f,p){var v=u.getDimensions(p,{box:f,style:r,align:"left-top",padding:5});return{x:f.x,y:f.y,width:f.width,height:Math.max(YSe,Math.round(v.height))}},this.createText=function(f,p){return u.createText(f,p||{})},this.getDefaultStyle=function(){return r},this.getExternalStyle=function(){return l}}UQ.$inject=["config.textRenderer"];function XSe(){this.pathMap={KNOWLEDGE_SOURCE:{d:"m {mx},{my} l 0,{e.y0} c {e.x0},{e.y1} {e.x1},-{e.y2} {e.x2},-{e.y3} c {e.x3},-{e.y4} {e.x4},{e.y5} {e.x5},{e.y6} l 0,-{e.y7}z",width:100,height:65,widthElements:[29.8,48.4,67.2,12.2,19.8,30.8],heightElements:[55.3,19.7,4.2,6.7,2.3,1.6,6.2,54.6]},BUSINESS_KNOWLEDGE_MODEL:{d:"m {mx},{my} l {e.x0},-{e.y0} l {e.x1},0 l 0,{e.y1} l -{e.x2},{e.y2} l -{e.x3},0z",width:125,height:45,widthElements:[13.8,109.2,13.8,109.1],heightElements:[13.2,29.8,13.2]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",width:10,height:30,widthElements:[10],heightElements:[30]}},this.getRawPath=function(r){return this.pathMap[r].d},this.getScaledPath=function(r,s){var l=this.pathMap[r],u,f;s.abspos?(u=s.abspos.x,f=s.abspos.y):(u=s.containerWidth*s.position.mx,f=s.containerHeight*s.position.my);var p={};if(s.position){for(var v=s.containerHeight/l.height*s.yScaleFactor,y=s.containerWidth/l.width*s.xScaleFactor,x=0;x<l.heightElements.length;x++)p["y"+x]=l.heightElements[x]*v;for(var w=0;w<l.widthElements.length;w++)p["x"+w]=l.widthElements[w]*y}var C=eOe(l.d,{mx:u,my:f,e:p});return C}}var KSe=/\{([^{}]+)\}/g,ZSe=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;function JSe(o,r,s){var l=s;return r.replace(ZSe,function(u,f,p,v,y){f=f||v,l&&(f in l&&(l=l[f]),typeof l=="function"&&y&&(l=l()))}),l=(l==null||l==s?o:l)+"",l}function eOe(o,r){return String(o).replace(KSe,function(s,l){return JSe(s,l,r)})}var tOe={__init__:["drdRenderer"],drdRenderer:["type",LI],textRenderer:["type",UQ],pathMap:["type",XSe]};function lm(o,r,s,l){this._eventBus=o,this._canvas=r,this._elementRegistry=l,this._elementFactory=s}lm.$inject=["eventBus","canvas","elementFactory","elementRegistry"],lm.prototype.root=function(o){var r=this._elementFactory.createRoot($I(o));return this._canvas.setRootElement(r),r},lm.prototype.add=function(o){var r=this._elementFactory,s=this._canvas,l=this._eventBus,u=o.di,f,p,v,y,x,w;if(u.$instanceOf("dmndi:DMNShape"))w=u.bounds,x=$I(o,{x:Math.round(w.x),y:Math.round(w.y),width:Math.round(w.width),height:Math.round(w.height)}),f=r.createShape(x),s.addShape(f),l.fire("drdElement.added",{element:f,di:u});else if(u.$instanceOf("dmndi:DMNEdge"))p=nOe(u),v=this._getSource(o),y=this._getTarget(o),v&&y&&(x=$I(o,{hidden:!1,source:v,target:y,waypoints:p}),f=r.createConnection(x),s.addConnection(f),l.fire("drdElement.added",{element:f,di:u}));else throw new Error("unknown di for element "+o.id);return f},lm.prototype._getSource=function(o){var r,s;if(we(o,"dmn:Association")?s=o.sourceRef:we(o,"dmn:InformationRequirement")?s=o.requiredDecision||o.requiredInput:we(o,"dmn:KnowledgeRequirement")?s=o.requiredKnowledge:we(o,"dmn:AuthorityRequirement")&&(s=o.requiredDecision||o.requiredInput||o.requiredAuthority),s&&(r=s.href),r)return this._getShape(qQ(r))},lm.prototype._getTarget=function(o){return we(o,"dmn:Association")?o.targetRef&&this._getShape(qQ(o.targetRef.href)):this._getShape(o.$parent.id)},lm.prototype._getShape=function(o){return this._elementRegistry.get(o)};function $I(o,r){return xe({id:o.id,type:o.$type,businessObject:o},r)}function nOe(o){var r=o.waypoint;if(r)return $(r,function(s){var l={x:s.x,y:s.y};return xe({original:l},l)})}function qQ(o){return o.split("#").pop()}var rOe={drdImporter:["type",lm]},iOe={__depends__:[tOe,rOe]};function oOe(o,r){return r=r||{},o.replace(/{([^}]+)}/g,function(s,l){return r[l]||"{"+l+"}"})}var Ha={translate:["value",oOe]};function WQ(o){!o||typeof o.stopPropagation!="function"||o.stopPropagation()}function ov(o){return o.originalEvent||o.srcEvent}function NI(o){WQ(o),WQ(ov(o))}function cm(o){return o.pointers&&o.pointers.length&&(o=o.pointers[0]),o.touches&&o.touches.length&&(o=o.touches[0]),o?{x:o.clientX,y:o.clientY}:null}function GQ(){return/mac/i.test(navigator.platform)}function QQ(o,r){return(ov(o)||o).button===r}function Th(o){return QQ(o,0)}function sOe(o){return QQ(o,1)}function FI(o){var r=ov(o)||o;return Th(o)?GQ()?r.metaKey:r.ctrlKey:!1}function BI(o){var r=ov(o)||o;return Th(o)&&r.shiftKey}function aOe(o){return!0}function $_(o){return Th(o)||sOe(o)}var YQ=500;function XQ(o,r,s){var l=this;function u(te,ve,be){if(!v(te,ve)){var Ce,Te,Re;be?Te=r.getGraphics(be):(Ce=ve.delegateTarget||ve.target,Ce&&(Te=Ce,be=r.get(Te))),!(!Te||!be)&&(Re=o.fire(te,{element:be,gfx:Te,originalEvent:ve}),Re===!1&&(ve.stopPropagation(),ve.preventDefault()))}}var f={};function p(te){return f[te]}function v(te,ve){var be=x[te]||Th;return!be(ve)}var y={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},x={"element.contextmenu":aOe,"element.mousedown":$_,"element.mouseup":$_,"element.click":$_,"element.dblclick":$_};function w(te,ve,be){var Ce=y[te];if(!Ce)throw new Error("unmapped DOM event name <"+te+">");return u(Ce,ve,be)}var C="svg, .djs-element";function O(te,ve,be,Ce){var Te=f[be]=function(Re){u(be,Re)};Ce&&(x[be]=Ce),Te.$delegate=Fa.bind(te,C,ve,Te)}function T(te,ve,be){var Ce=p(be);Ce&&Fa.unbind(te,ve,Ce.$delegate)}function P(te){D(y,function(ve,be){O(te,be,ve)})}function N(te){D(y,function(ve,be){T(te,be,ve)})}o.on("canvas.destroy",function(te){N(te.svg)}),o.on("canvas.init",function(te){P(te.svg)}),o.on(["shape.added","connection.added"],function(te){var ve=te.element,be=te.gfx;o.fire("interactionEvents.createHit",{element:ve,gfx:be})}),o.on(["shape.changed","connection.changed"],YQ,function(te){var ve=te.element,be=te.gfx;o.fire("interactionEvents.updateHit",{element:ve,gfx:be})}),o.on("interactionEvents.createHit",YQ,function(te){var ve=te.element,be=te.gfx;l.createDefaultHit(ve,be)}),o.on("interactionEvents.updateHit",function(te){var ve=te.element,be=te.gfx;l.updateDefaultHit(ve,be)});var j=X("djs-hit djs-hit-stroke"),q=X("djs-hit djs-hit-click-stroke"),Q=X("djs-hit djs-hit-all"),U=X("djs-hit djs-hit-no-move"),H={all:Q,"click-stroke":q,stroke:j,"no-move":U};function X(te,ve){return ve=xe({stroke:"white",strokeWidth:15},ve||{}),s.cls(te,["no-fill","no-border"],ve)}function Y(te,ve){var be=H[ve];if(!be)throw new Error("invalid hit type <"+ve+">");return ht(te,be),te}function ae(te,ve){Qt(te,ve)}this.removeHits=function(te){var ve=bu(".djs-hit",te);D(ve,us)},this.createDefaultHit=function(te,ve){var be=te.waypoints,Ce=te.isFrame,Te;return be?this.createWaypointsHit(ve,be):(Te=Ce?"stroke":"all",this.createBoxHit(ve,Te,{width:te.width,height:te.height}))},this.createWaypointsHit=function(te,ve){var be=x_(ve);return Y(be,"stroke"),ae(te,be),be},this.createBoxHit=function(te,ve,be){be=xe({x:0,y:0},be);var Ce=zt("rect");return Y(Ce,ve),ht(Ce,be),ae(te,Ce),Ce},this.updateDefaultHit=function(te,ve){var be=ln(".djs-hit",ve);if(be)return te.waypoints?TG(be,te.waypoints):ht(be,{width:te.width,height:te.height}),be},this.fire=u,this.triggerMouseEvent=w,this.mouseHandler=p,this.registerEvent=O,this.unregisterEvent=T}XQ.$inject=["eventBus","elementRegistry","styles"];var N_={__init__:["interactionEvents"],interactionEvents:["type",XQ]},lOe=500,cOe=1e3;function um(o,r){this._eventBus=o,this.offset=5;var s=r.cls("djs-outline",["no-fill"]),l=this;function u(f){var p=zt("rect");return ht(p,xe({x:0,y:0,rx:4,width:100,height:100},s)),p}o.on(["shape.added","shape.changed"],lOe,function(f){var p=f.element,v=f.gfx,y=ln(".djs-outline",v);y||(y=l.getOutline(p)||u(),Qt(v,y)),l.updateShapeOutline(y,p)}),o.on(["connection.added","connection.changed"],function(f){var p=f.element,v=f.gfx,y=ln(".djs-outline",v);y||(y=u(),Qt(v,y)),l.updateConnectionOutline(y,p)})}um.prototype.updateShapeOutline=function(o,r){var s=!1,l=this._getProviders();l.length&&D(l,function(u){s=s||u.updateOutline(r,o)}),s||ht(o,{x:-this.offset,y:-this.offset,width:r.width+this.offset*2,height:r.height+this.offset*2})},um.prototype.updateConnectionOutline=function(o,r){var s=Ol(r);ht(o,{x:s.x-this.offset,y:s.y-this.offset,width:s.width+this.offset*2,height:s.height+this.offset*2})},um.prototype.registerProvider=function(o,r){r||(r=o,o=cOe),this._eventBus.on("outline.getProviders",o,function(s){s.providers.push(r)})},um.prototype._getProviders=function(){var o=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(o),o.providers},um.prototype.getOutline=function(o){var r,s=this._getProviders();return D(s,function(l){g(l.getOutline)&&(r=r||l.getOutline(o))}),r},um.$inject=["eventBus","styles","elementRegistry"];var jI={__init__:["outline"],outline:["type",um]};function sv(o,r){this._eventBus=o,this._canvas=r,this._selectedElements=[];var s=this;o.on(["shape.remove","connection.remove"],function(l){var u=l.element;s.deselect(u)}),o.on(["diagram.clear","root.set"],function(l){s.select(null)})}sv.$inject=["eventBus","canvas"],sv.prototype.deselect=function(o){var r=this._selectedElements,s=r.indexOf(o);if(s!==-1){var l=r.slice();r.splice(s,1),this._eventBus.fire("selection.changed",{oldSelection:l,newSelection:r})}},sv.prototype.get=function(){return this._selectedElements},sv.prototype.isSelected=function(o){return this._selectedElements.indexOf(o)!==-1},sv.prototype.select=function(o,r){var s=this._selectedElements,l=s.slice();d(o)||(o=o?[o]:[]);var u=this._canvas,f=u.getRootElement();o=o.filter(function(p){var v=u.findRoot(p);return f===v}),r?D(o,function(p){s.indexOf(p)===-1&&s.push(p)}):this._selectedElements=s=o.slice(),this._eventBus.fire("selection.changed",{oldSelection:l,newSelection:s})};var KQ="hover",ZQ="selected",F_=6;function VI(o,r,s){this._canvas=o;var l=this;this._multiSelectionBox=null;function u(p,v){o.addMarker(p,v)}function f(p,v){o.removeMarker(p,v)}r.on("element.hover",function(p){u(p.element,KQ)}),r.on("element.out",function(p){f(p.element,KQ)}),r.on("selection.changed",function(p){function v(C){f(C,ZQ)}function y(C){u(C,ZQ)}var x=p.oldSelection,w=p.newSelection;D(x,function(C){w.indexOf(C)===-1&&v(C)}),D(w,function(C){x.indexOf(C)===-1&&y(C)}),l._updateSelectionOutline(w)}),r.on("element.changed",function(p){s.isSelected(p.element)&&l._updateSelectionOutline(s.get())})}VI.$inject=["canvas","eventBus","selection"],VI.prototype._updateSelectionOutline=function(o){var r=this._canvas.getLayer("selectionOutline");iI(r);var s=o.length>1,l=this._canvas.getContainer();if(_n(l)[s?"add":"remove"]("djs-multi-select"),!!s){var u=uOe(Ol(o)),f=zt("rect");ht(f,xe({rx:3},u)),_n(f).add("djs-selection-outline"),Qt(r,f)}};function uOe(o){return{x:o.x-F_,y:o.y-F_,width:o.width+F_*2,height:o.height+F_*2}}function JQ(o,r,s,l){o.on("create.end",500,function(u){var f=u.context,p=f.canExecute,v=f.elements,y=f.hints||{},x=y.autoSelect;if(p){if(x===!1)return;d(x)?r.select(x):r.select(v.filter(dOe))}}),o.on("connect.end",500,function(u){var f=u.context,p=f.connection;p&&r.select(p)}),o.on("shape.move.end",500,function(u){var f=u.previousSelection||[],p=l.get(u.context.shape.id),v=_(f,function(y){return p.id===y.id});v||r.select(p)}),o.on("element.click",function(u){if(Th(u)){var f=u.element;f===s.getRootElement()&&(f=null);var p=r.isSelected(f),v=r.get().length>1,y=BI(u);if(p&&v)return y?r.deselect(f):r.select(f);p?r.deselect(f):r.select(f,y)}})}JQ.$inject=["eventBus","selection","canvas","elementRegistry"];function dOe(o){return!o.hidden}var Du={__init__:["selectionVisuals","selectionBehavior"],__depends__:[N_,jI],selection:["type",sv],selectionVisuals:["type",VI],selectionBehavior:["type",JQ]};function zI(o){this._counter=0,this._prefix=(o?o+"-":"")+Math.floor(Math.random()*1e9)+"-"}zI.prototype.next=function(){return this._prefix+ ++this._counter};var fOe=new zI("ov"),hOe=500;function io(o,r,s,l){this._eventBus=r,this._canvas=s,this._elementRegistry=l,this._ids=fOe,this._overlayDefaults=xe({show:null,scale:!0},o&&o.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=pOe(s.getContainer()),this._init()}io.$inject=["config.overlays","eventBus","canvas","elementRegistry"],io.prototype.get=function(o){if(b(o)&&(o={id:o}),b(o.element)&&(o.element=this._elementRegistry.get(o.element)),o.element){var r=this._getOverlayContainer(o.element,!0);return r?o.type?S(r.overlays,oe({type:o.type})):r.overlays.slice():[]}else return o.type?S(this._overlays,oe({type:o.type})):o.id?this._overlays[o.id]:null},io.prototype.add=function(o,r,s){if(h(r)&&(s=r,r=null),o.id||(o=this._elementRegistry.get(o)),!s.position)throw new Error("must specifiy overlay position");if(!s.html)throw new Error("must specifiy overlay html");if(!o)throw new Error("invalid element specified");var l=this._ids.next();return s=xe({},this._overlayDefaults,s,{id:l,type:r,element:o,html:s.html}),this._addOverlay(s),l},io.prototype.remove=function(o){var r=this.get(o)||[];d(r)||(r=[r]);var s=this;D(r,function(l){var u=s._getOverlayContainer(l.element,!0);if(l&&(As(l.html),As(l.htmlContainer),delete l.htmlContainer,delete l.element,delete s._overlays[l.id]),u){var f=u.overlays.indexOf(l);f!==-1&&u.overlays.splice(f,1)}})},io.prototype.isShown=function(){return this._overlayRoot.style.display!=="none"},io.prototype.show=function(){B_(this._overlayRoot)},io.prototype.hide=function(){B_(this._overlayRoot,!1)},io.prototype.clear=function(){this._overlays={},this._overlayContainers=[],u_(this._overlayRoot)},io.prototype._updateOverlayContainer=function(o){var r=o.element,s=o.html,l=r.x,u=r.y;if(r.waypoints){var f=Ol(r);l=f.x,u=f.y}eY(s,l,u),cs(o.html,"data-container-id",r.id)},io.prototype._updateOverlay=function(o){var r=o.position,s=o.htmlContainer,l=o.element,u=r.left,f=r.top;if(r.right!==void 0){var p;l.waypoints?p=Ol(l).width:p=l.width,u=r.right*-1+p}if(r.bottom!==void 0){var v;l.waypoints?v=Ol(l).height:v=l.height,f=r.bottom*-1+v}eY(s,u||0,f||0),this._updateOverlayVisibilty(o,this._canvas.viewbox())},io.prototype._createOverlayContainer=function(o){var r=Gn('<div class="djs-overlays" />');tm(r,{position:"absolute"}),this._overlayRoot.appendChild(r);var s={html:r,element:o,overlays:[]};return this._updateOverlayContainer(s),this._overlayContainers.push(s),s},io.prototype._updateRoot=function(o){var r=o.scale||1,s="matrix("+[r,0,0,r,-1*o.x*r,-1*o.y*r].join(",")+")";tY(this._overlayRoot,s)},io.prototype._getOverlayContainer=function(o,r){var s=_(this._overlayContainers,function(l){return l.element===o});return!s&&!r?this._createOverlayContainer(o):s},io.prototype._addOverlay=function(o){var r=o.id,s=o.element,l=o.html,u,f;l.get&&l.constructor.prototype.jquery&&(l=l.get(0)),b(l)&&(l=Gn(l)),f=this._getOverlayContainer(s),u=Gn('<div class="djs-overlay" data-overlay-id="'+r+'">'),tm(u,{position:"absolute"}),u.appendChild(l),o.type&&Jt(u).add("djs-overlay-"+o.type);var p=this._canvas.findRoot(s),v=this._canvas.getRootElement();B_(u,p===v),o.htmlContainer=u,f.overlays.push(o),f.html.appendChild(u),this._overlays[r]=o,this._updateOverlay(o),this._updateOverlayVisibilty(o,this._canvas.viewbox())},io.prototype._updateOverlayVisibilty=function(o,r){var s=o.show,l=this._canvas.findRoot(o.element),u=s&&s.minZoom,f=s&&s.maxZoom,p=o.htmlContainer,v=this._canvas.getRootElement(),y=!0;(l!==v||s&&(a(u)&&u>r.scale||a(f)&&f<r.scale))&&(y=!1),B_(p,y),this._updateOverlayScale(o,r)},io.prototype._updateOverlayScale=function(o,r){var s=o.scale,l,u,f=o.htmlContainer,p,v="";s!==!0&&(s===!1?(l=1,u=1):(l=s.min,u=s.max),a(l)&&r.scale<l&&(p=(1/r.scale||1)*l),a(u)&&r.scale>u&&(p=(1/r.scale||1)*u)),a(p)&&(v="scale("+p+","+p+")"),tY(f,v)},io.prototype._updateOverlaysVisibilty=function(o){var r=this;D(this._overlays,function(s){r._updateOverlayVisibilty(s,o)})},io.prototype._init=function(){var o=this._eventBus,r=this;function s(l){r._updateRoot(l),r._updateOverlaysVisibilty(l),r.show()}o.on("canvas.viewbox.changing",function(l){r.hide()}),o.on("canvas.viewbox.changed",function(l){s(l.viewbox)}),o.on(["shape.remove","connection.remove"],function(l){var u=l.element,f=r.get({element:u});D(f,function(y){r.remove(y.id)});var p=r._getOverlayContainer(u);if(p){As(p.html);var v=r._overlayContainers.indexOf(p);v!==-1&&r._overlayContainers.splice(v,1)}}),o.on("element.changed",hOe,function(l){var u=l.element,f=r._getOverlayContainer(u,!0);f&&(D(f.overlays,function(p){r._updateOverlay(p)}),r._updateOverlayContainer(f))}),o.on("element.marker.update",function(l){var u=r._getOverlayContainer(l.element,!0);u&&Jt(u.html)[l.add?"add":"remove"](l.marker)}),o.on("root.set",function(){r._updateOverlaysVisibilty(r._canvas.viewbox())}),o.on("diagram.clear",this.clear,this)};function pOe(o){var r=Gn('<div class="djs-overlay-container" />');return tm(r,{position:"absolute",width:0,height:0}),o.insertBefore(r,o.firstChild),r}function eY(o,r,s){tm(o,{left:r+"px",top:s+"px"})}function B_(o,r){o.style.display=r===!1?"none":""}function tY(o,r){o.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(s){o.style[s+"transform"]=r})}var j_={__init__:["overlays"],overlays:["type",io]};function V_(o,r,s){this._eventBus=o,this._canvas=r,this._translate=s,o.on("diagram.init",function(){this._init()},this),o.on("import.done",function(l){l.error||this.update()},this),this.HTML_MARKUP='<div class="dmn-definitions"><div class="dmn-definitions-name" title="'+this._translate("Definition name")+'" spellcheck="false"></div><div class="dmn-definitions-id" title="'+this._translate("Definition ID")+'" spellcheck="false"></div></div>'}V_.$inject=["eventBus","canvas","translate"],V_.prototype._init=function(){var o=this._canvas,r=this._eventBus,s=o.getContainer(),l=this._container=Gn(this.HTML_MARKUP);s.appendChild(l),this.nameElement=ln(".dmn-definitions-name",this._container),this.idElement=ln(".dmn-definitions-id",this._container),Fa.bind(l,".dmn-definitions-name, .dmn-definitions-id","mousedown",function(u){u.stopPropagation()}),r.fire("definitionIdView.create",{html:l})},V_.prototype.update=function(){var o=this._canvas.getRootElement().businessObject;this.nameElement.textContent=o.name,this.idElement.textContent=o.id};function HI(o,r){function s(l,u){var f=r.getContainer();Jt(f).toggle(l,u)}o.on("palette.create",function(){s("with-palette",!0)}),o.on("palette.changed",function(l){s("with-palette-two-column",l.twoColumn)})}HI.$inject=["eventBus","canvas"];var UI={__depends__:[Ha],__init__:["definitionPropertiesView","definitionPropertiesPaletteAdapter"],definitionPropertiesView:["type",V_],definitionPropertiesPaletteAdapter:["type",HI]},nY=[{className:"dmn-icon-decision-table",matches:function(o){var r=bc(o);return we(r,"dmn:Decision")&&we(r.decisionLogic,"dmn:DecisionTable")},title:"Open decision table"},{className:"dmn-icon-literal-expression",matches:function(o){var r=g_(o);return we(r,"dmn:LiteralExpression")},title:"Open literal expression"}],mOe={__depends__:[j_,Ha],__init__:["drillDown"],drillDown:["type",(()=>{class o{constructor(s,l,u,f,p){this._injector=s,this._eventBus=l,this._overlays=u,this._translate=p,this._config=f||{enabled:!0},l.on(["shape.added"],({element:v})=>{for(let x=0;x<nY.length;x++){let{matches:w,className:C,title:O}=nY[x];var y=w&&w(v);y&&this.addOverlay(v,C,O)}})}addOverlay(s,l,u){let f=this._config.enabled!==!1,p=this._getOverlayNode(l,u,f),v=this._overlays.add(s,{position:{top:2,left:2},html:p});f&&(Jt(p).add("interactive"),this.bindEventListener(s,p,v))}_getOverlayNode(s,l,u){let f=document.createElement("div");if(f.className="drill-down-overlay",!u){let v=document.createElement("span");return v.className=s,f.appendChild(v),f}let p=document.createElement("button");return p.type="button",p.className=s,p.title=this._translate(l),f.appendChild(p),f}bindEventListener(s,l,u){let f=this._overlays,p=this._eventBus,v=f._overlayRoot;Fa.bind(v,'[data-overlay-id="'+u+'"]',"click",()=>{p.fire("drillDown.click",{element:s})!==!1&&this.drillDown(s)})}drillDown(s){let l=this._injector.get("_parent",!1);if(!l)return!1;let u=l.getView(s.businessObject);return u?(l.open(u),!0):!1}}return o.$inject=["injector","eventBus","overlays","config.drillDown","translate"],o})()]};function Ns(o){this._container=this._createContainer(),BQ(this._container),this._init(this._container,o)}ri(Ns,rm),Ns.prototype.saveSVG=p_(function(o){var r=this;return new Promise(function(s){var l=r.get("canvas"),u=l.getActiveLayer(),f=ln("defs",l._svg),p=VCe(u),v=f&&f.outerHTML||"",y=u.getBBox(),x=`<?xml version="1.0" encoding="utf-8"?>
<!-- created with dmn-js / http://bpmn.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="`+y.width+'" height="'+y.height+'" viewBox="'+y.x+" "+y.y+" "+y.width+" "+y.height+'" version="1.1">'+v+p+"</svg>";s({svg:x})})}),Ns.prototype.getModules=function(){return this._modules},Ns.prototype.destroy=function(){rm.prototype.destroy.call(this),As(this._container)},Ns.prototype.on=function(o,r,s,l){return this.get("eventBus").on(o,r,s,l)},Ns.prototype.off=function(o,r){this.get("eventBus").off(o,r)},Ns.prototype._init=function(o,r){var x=r,{additionalModules:s,canvas:l}=x,u=Ae(x,["additionalModules","canvas"]),f=r.modules||this.getModules(),p=[{drd:["value",this]}],v=[...p,...f,...s||[]],y=Me(se({},u),{canvas:Me(se({},l),{container:o}),modules:v});rm.call(this,y),r&&r.container&&this.attachTo(r.container)},Ns.prototype._emit=function(o,r){return this.get("eventBus").fire(o,r)},Ns.prototype._createContainer=function(){return Gn('<div class="dmn-drd-container"></div>')},Ns.prototype.open=function(o){var r=this;return new Promise((s,l)=>{var u;try{return r._definitions&&r.clear(),r._definitions=o,j6e(r,o,function(f,p){f?(f.warnings=p||[],l(f)):s({warnings:p||[]})})}catch(f){u=f}u?(u.warnings=u.warnings||[],l(u)):s({warnings:[]})})},Ns.prototype.attachTo=function(o){if(!o)throw new Error("parentNode required");this.detach();var r=this._container;o.appendChild(r),this._emit("attach",{}),this.get("canvas").resized()},Ns.prototype.detach=function(){var o=this._container,r=o.parentNode;r&&(this._emit("detach",{}),r.removeChild(o))},Ns.prototype._modules=[iOe,Ha,Du,j_,UI,mOe];function rY(o){return{x:o.x+o.width/2,y:o.y+o.height/2}}function av(o,r){return{x:o.x-r.x,y:o.y-r.y}}function qI(o){return Math.log(o)/Math.log(10)}function iY(o,r){var s=qI(o.min),l=qI(o.max),u=Math.abs(s)+Math.abs(l);return u/r}function gOe(o,r){return Math.max(o.min,Math.min(o.max,r))}var vOe=Math.sign||function(o){return o>=0?1:-1},WI={min:.2,max:4},oY=10,yOe=.1,bOe=.75;function Tu(o,r,s){o=o||{},this._enabled=!1,this._canvas=s,this._container=s._container,this._handleWheel=je(this._handleWheel,this),this._totalDelta=0,this._scale=o.scale||bOe;var l=this;r.on("canvas.init",function(u){l._init(o.enabled!==!1)})}Tu.$inject=["config.zoomScroll","eventBus","canvas"],Tu.prototype.scroll=function(r){this._canvas.scroll(r)},Tu.prototype.reset=function(){this._canvas.zoom("fit-viewport")},Tu.prototype.zoom=function(r,s){var l=iY(WI,oY*2);this._totalDelta+=r,Math.abs(this._totalDelta)>yOe&&(this._zoom(r,s,l),this._totalDelta=0)},Tu.prototype._handleWheel=function(r){if(!Bo(r.target,".djs-scrollable",!0)){var s=this._container;r.preventDefault();var l=r.ctrlKey||GQ()&&r.metaKey,u=r.shiftKey,f=-1*this._scale,p;if(l?f*=r.deltaMode===0?.02:.32:f*=r.deltaMode===0?1:16,l){var v=s.getBoundingClientRect(),y={x:r.clientX-v.left,y:r.clientY-v.top};p=Math.sqrt(Math.pow(r.deltaY,2)+Math.pow(r.deltaX,2))*vOe(r.deltaY)*f,this.zoom(p,y)}else u?p={dx:f*r.deltaY,dy:0}:p={dx:f*r.deltaX,dy:f*r.deltaY},this.scroll(p)}},Tu.prototype.stepZoom=function(r,s){var l=iY(WI,oY);this._zoom(r,s,l)},Tu.prototype._zoom=function(o,r,s){var l=this._canvas,u=o>0?1:-1,f=qI(l.zoom()),p=Math.round(f/s)*s;p+=s*u;var v=Math.pow(10,p);l.zoom(gOe(WI,v),r)},Tu.prototype.toggle=function(r){var s=this._container,l=this._handleWheel,u=this._enabled;return typeof r>"u"&&(r=!u),u!==r&&ft[r?"bind":"unbind"](s,"wheel",l,!1),this._enabled=r,r},Tu.prototype._init=function(o){this.toggle(o)};var xOe={__init__:["zoomScroll"],zoomScroll:["type",Tu]},EOe=/^djs-cursor-.*$/;function GI(o){var r=Jt(document.body);r.removeMatching(EOe),o&&r.add("djs-cursor-"+o)}function sY(){GI(null)}var wOe=5e3;function aY(o,r){r=r||"element.click";function s(){return!1}return o.once(r,wOe,s),function(){o.off(r,s)}}var _Oe=15;function lY(o,r){var s;o.on("element.mousedown",500,function(p){return f(p.originalEvent)});function l(p){var v=s.start,y=s.button,x=cm(p),w=av(x,v);if(!s.dragging&&COe(w)>_Oe&&(s.dragging=!0,y===0&&aY(o),GI("grab")),s.dragging){var C=s.last||s.start;w=av(x,C),r.scroll({dx:w.x,dy:w.y}),s.last=x}p.preventDefault()}function u(p){ft.unbind(document,"mousemove",l),ft.unbind(document,"mouseup",u),s=null,sY()}function f(p){if(!Bo(p.target,".djs-draggable")){var v=p.button;if(!(v>=2||p.ctrlKey||p.shiftKey||p.altKey))return s={button:v,start:cm(p)},ft.bind(document,"mousemove",l),ft.bind(document,"mouseup",u),!0}}this.isActive=function(){return!!s}}lY.$inject=["eventBus","canvas"];function COe(o){return Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2))}var SOe={__init__:["moveCanvas"],moveCanvas:["type",lY]};function QI(o){return CSS.escape(o)}var OOe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function cY(o){return o=""+o,o&&o.replace(/[&<>"']/g,function(r){return OOe[r]})}var DOe=["c","C"],TOe=["v","V"],kOe=["y","Y"],uY=["z","Z"];function POe(o){return o.ctrlKey||o.metaKey||o.shiftKey||o.altKey}function Tl(o){return o.altKey?!1:o.ctrlKey||o.metaKey}function Fi(o,r){return o=d(o)?o:[o],o.indexOf(r.key)!==-1||o.indexOf(r.code)!==-1}function YI(o){return o.shiftKey}function IOe(o){return Tl(o)&&Fi(DOe,o)}function MOe(o){return Tl(o)&&Fi(TOe,o)}function dY(o){return Tl(o)&&!YI(o)&&Fi(uY,o)}function fY(o){return Tl(o)&&(Fi(kOe,o)||Fi(uY,o)&&YI(o))}function Ot(o,r,s,l,u){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=o,this._eventBus=r,this._overlays=s,this._selection=l,this._translate=u,this._container=this._getBoxHtml(),this._searchInput=ln(Ot.INPUT_SELECTOR,this._container),this._resultsContainer=ln(Ot.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),r.on(["canvas.destroy","diagram.destroy"],this.close,this)}Ot.$inject=["canvas","eventBus","overlays","selection","translate"],Ot.prototype._bindEvents=function(){var o=this;function r(s,l,u,f){o._eventMaps.push({el:s,type:u,listener:Fa.bind(s,l,u,f)})}r(document,"html","click",function(s){o.close()}),r(this._container,Ot.INPUT_SELECTOR,"click",function(s){s.stopPropagation(),s.delegateTarget.focus()}),r(this._container,Ot.RESULT_SELECTOR,"mouseover",function(s){s.stopPropagation(),o._scrollToNode(s.delegateTarget),o._preselect(s.delegateTarget)}),r(this._container,Ot.RESULT_SELECTOR,"click",function(s){s.stopPropagation(),o._select(s.delegateTarget)}),r(this._container,Ot.INPUT_SELECTOR,"keydown",function(s){Fi("ArrowUp",s)&&s.preventDefault(),Fi("ArrowDown",s)&&s.preventDefault()}),r(this._container,Ot.INPUT_SELECTOR,"keyup",function(s){if(Fi("Escape",s))return o.close();if(Fi("Enter",s)){var l=o._getCurrentResult();return l?o._select(l):o.close()}if(Fi("ArrowUp",s))return o._scrollToDirection(!0);if(Fi("ArrowDown",s))return o._scrollToDirection();Fi(["ArrowLeft","ArrowRight"],s)||o._search(s.delegateTarget.value)})},Ot.prototype._unbindEvents=function(){this._eventMaps.forEach(function(o){Fa.unbind(o.el,o.type,o.listener)})},Ot.prototype._search=function(o){var r=this;if(this._clearResults(),!(!o||o==="")){var s=this._searchProvider.find(o);if(s.length){s.forEach(function(u){var f=u.element.id,p=r._createResultNode(u,f);r._results[f]={element:u.element,node:p}});var l=ln(Ot.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(l),this._preselect(l)}}},Ot.prototype._scrollToDirection=function(o){var r=this._getCurrentResult();if(r){var s=o?r.previousElementSibling:r.nextElementSibling;s&&(this._scrollToNode(s),this._preselect(s))}},Ot.prototype._scrollToNode=function(o){if(!(!o||o===this._getCurrentResult())){var r=o.offsetTop,s=this._resultsContainer.scrollTop,l=r-this._resultsContainer.clientHeight+o.clientHeight;r<s?this._resultsContainer.scrollTop=r:s<l&&(this._resultsContainer.scrollTop=l)}},Ot.prototype._clearResults=function(){u_(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire("searchPad.cleared")},Ot.prototype._getCurrentResult=function(){return ln(Ot.RESULT_SELECTED_SELECTOR,this._resultsContainer)},Ot.prototype._createResultNode=function(o,r){var s=Gn(Ot.RESULT_HTML);return o.primaryTokens.length>0&&hY(s,o.primaryTokens,Ot.RESULT_PRIMARY_HTML),hY(s,o.secondaryTokens,Ot.RESULT_SECONDARY_HTML),cs(s,Ot.RESULT_ID_ATTRIBUTE,r),this._resultsContainer.appendChild(s),s},Ot.prototype.registerProvider=function(o){this._searchProvider=o},Ot.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._bindEvents(),this._open=!0,Jt(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},Ot.prototype.close=function(){this.isOpen()&&(this._unbindEvents(),this._open=!1,Jt(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire("searchPad.closed"))},Ot.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Ot.prototype.isOpen=function(){return this._open},Ot.prototype._preselect=function(o){var r=this._getCurrentResult();if(o!==r){r&&Jt(r).remove(Ot.RESULT_SELECTED_CLASS);var s=cs(o,Ot.RESULT_ID_ATTRIBUTE),l=this._results[s].element;Jt(o).add(Ot.RESULT_SELECTED_CLASS),this._resetOverlay(l),this._canvas.scrollToElement(l,{top:400}),this._selection.select(l),this._eventBus.fire("searchPad.preselected",l)}},Ot.prototype._select=function(o){var r=cs(o,Ot.RESULT_ID_ATTRIBUTE),s=this._results[r].element;this.close(),this._resetOverlay(),this._canvas.scrollToElement(s,{top:400}),this._selection.select(s),this._eventBus.fire("searchPad.selected",s)},Ot.prototype._resetOverlay=function(o){if(this._overlayId&&this._overlays.remove(this._overlayId),o){var r=Ol(o),s=AOe(r);this._overlayId=this._overlays.add(o,s)}},Ot.prototype._getBoxHtml=function(){let o=Gn(Ot.BOX_HTML),r=ln(Ot.INPUT_SELECTOR,o);return r&&r.setAttribute("aria-label",this._translate("Search in diagram")),o};function AOe(o){var r=6,s=o.width+r*2,l=o.height+r*2,u={width:s+"px",height:l+"px"},f=Gn('<div class="'+Ot.OVERLAY_CLASS+'"></div>');return tm(f,u),{position:{bottom:l-r,right:s-r},show:!0,html:f}}function hY(o,r,s){var l=ROe(r),u=Gn(s);u.innerHTML=l,o.appendChild(u)}function ROe(o){var r="";return o.forEach(function(s){s.matched?r+='<strong class="'+Ot.RESULT_HIGHLIGHT_CLASS+'">'+cY(s.matched)+"</strong>":r+=cY(s.normal)}),r!==""?r:null}Ot.CONTAINER_SELECTOR=".djs-search-container",Ot.INPUT_SELECTOR=".djs-search-input input",Ot.RESULTS_CONTAINER_SELECTOR=".djs-search-results",Ot.RESULT_SELECTOR=".djs-search-result",Ot.RESULT_SELECTED_CLASS="djs-search-result-selected",Ot.RESULT_SELECTED_SELECTOR="."+Ot.RESULT_SELECTED_CLASS,Ot.RESULT_ID_ATTRIBUTE="data-result-id",Ot.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",Ot.OVERLAY_CLASS="djs-search-overlay",Ot.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>',Ot.RESULT_HTML='<div class="djs-search-result"></div>',Ot.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',Ot.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';var LOe={__depends__:[Ha,j_,Du],searchPad:["type",Ot]};function pY(o){if(we(o,"dmn:Decision")||we(o,"dmn:BusinessKnowledgeModel")||we(o,"dmn:InputData")||we(o,"dmn:KnowledgeSource"))return"name";if(we(o,"dmn:TextAnnotation"))return"text"}function z_(o){var r=o.businessObject,s=pY(r);if(s)return r[s]||""}function $Oe(o,r,s){var l=o.businessObject,u=pY(l);return u&&(l[u]=r),s&&(o.hidden=!r),o}function XI(o,r,s){this._elementRegistry=o,this._canvas=s,r.registerProvider(this)}XI.$inject=["elementRegistry","searchPad","canvas"],XI.prototype.find=function(o){let r=this._canvas.getRootElement(),s=this._elementRegistry.filter(function(l){return!l.labelTarget});return s=S(s,function(l){return l!==r}),s=$(s,function(l){return{primaryTokens:gY(z_(l),o),secondaryTokens:gY(l.id,o),element:l}}),s=S(s,function(l){return mY(l.primaryTokens)||mY(l.secondaryTokens)}),s=ee(s,function(l){return z_(l.element)+l.element.id}),s};function mY(o){return S(o,function(s){return!!s.matched}).length>0}function gY(o,r){let s=[],l=o;if(!o)return s;o=o.toLowerCase(),r=r.toLowerCase();let u=o.indexOf(r);return u>-1?(u!==0&&s.push({normal:l.substr(0,u)}),s.push({matched:l.substr(u,r.length)}),r.length+u<o.length&&s.push({normal:l.substr(r.length+u,o.length)})):s.push({normal:l}),s}var NOe={__depends__:[LOe],__init__:["dmnSearch"],dmnSearch:["type",XI]};function dm(o){Ns.call(this,o)}ri(dm,Ns),dm.prototype._navigationModules=[xOe,SOe,NOe],dm.prototype._modules=[].concat(dm.prototype._modules,dm.prototype._navigationModules);function KI(o){return o&&o[o.length-1]}function vY(o){return o.y}function yY(o){return o.x}var FOe={left:yY,center:yY,right:function(o){return o.x+o.width},top:vY,middle:vY,bottom:function(o){return o.y+o.height}};function lv(o,r){this._modeling=o,this._rules=r}lv.$inject=["modeling","rules"],lv.prototype._getOrientationDetails=function(o){var r=["top","bottom","middle"],s="x",l="width";return r.indexOf(o)!==-1&&(s="y",l="height"),{axis:s,dimension:l}},lv.prototype._isType=function(o,r){return r.indexOf(o)!==-1},lv.prototype._alignmentPosition=function(o,r){var s=this._getOrientationDetails(o),l=s.axis,u=s.dimension,f={},p={},v=!1,y,x,w;function C(O,T){return Math.round((O[l]+T[l]+T[u])/2)}if(this._isType(o,["left","top"]))f[o]=r[0][l];else if(this._isType(o,["right","bottom"]))w=KI(r),f[o]=w[l]+w[u];else if(this._isType(o,["center","middle"])){if(D(r,function(O){var T=O[l]+Math.round(O[u]/2);p[T]?p[T].elements.push(O):p[T]={elements:[O],center:T}}),y=ee(p,function(O){return O.elements.length>1&&(v=!0),O.elements.length}),v)return f[o]=KI(y).center,f;x=r[0],r=ee(r,function(O){return O[l]+O[u]}),w=KI(r),f[o]=C(x,w)}return f},lv.prototype.trigger=function(o,r){var s=this._modeling,l,u=S(o,function(y){return!(y.waypoints||y.host||y.labelTarget)});if(l=this._rules.allowed("elements.align",{elements:u}),d(l)&&(u=l),!(u.length<2||!l)){var f=FOe[r],p=ee(u,f),v=this._alignmentPosition(r,p);s.alignElements(p,v)}};var BOe={__init__:["alignElements"],alignElements:["type",lv]},jOe=10,bY=50,VOe=250;function xY(o,r,s,l){for(var u;u=HOe(o,s,r);)s=l(r,s,u);return s}function zOe(o){return function(r,s,l){var u={x:s.x,y:s.y};return["x","y"].forEach(function(f){var p=o[f];if(p){var v=f==="x"?"width":"height",y=p.margin,x=p.minDistance;y<0?u[f]=Math.min(l[f]+y-r[v]/2,s[f]-x+y):u[f]=Math.max(l[f]+l[v]+y+r[v]/2,s[f]+x+y)}}),u}}function HOe(o,r,s){var l={x:r.x-s.width/2,y:r.y-s.height/2,width:s.width,height:s.height},u=qOe(o);return _(u,function(f){if(f===s)return!1;var p=Ba(f,l,jOe);return p==="intersect"})}function UOe(o,r){r||(r={});function s(P){return P.source===o?1:-1}var l=r.defaultDistance||bY,u=r.direction||"e",f=r.filter,p=r.getWeight||s,v=r.maxDistance||VOe,y=r.reference||"start";f||(f=QOe);function x(P,N){return u==="n"?y==="start"?$t(P).top-$t(N).bottom:y==="center"?$t(P).top-Qn(N).y:$t(P).top-$t(N).top:u==="w"?y==="start"?$t(P).left-$t(N).right:y==="center"?$t(P).left-Qn(N).x:$t(P).left-$t(N).left:u==="s"?y==="start"?$t(N).top-$t(P).bottom:y==="center"?Qn(N).y-$t(P).bottom:$t(N).bottom-$t(P).bottom:y==="start"?$t(N).left-$t(P).right:y==="center"?Qn(N).x-$t(P).right:$t(N).right-$t(P).right}var w=o.incoming.filter(f).map(function(P){var N=p(P),j=N<0?x(P.source,o):x(o,P.source);return{id:P.source.id,distance:j,weight:N}}),C=o.outgoing.filter(f).map(function(P){var N=p(P),j=N>0?x(o,P.target):x(P.target,o);return{id:P.target.id,distance:j,weight:N}}),O=w.concat(C).reduce(function(P,N){return P[N.id+"__weight_"+N.weight]=N,P},{}),T=k(O,function(P,N){var j=N.distance,q=N.weight;return j<0||j>v||(P[String(j)]||(P[String(j)]=0),P[String(j)]+=1*q,(!P.distance||P[P.distance]<P[String(j)])&&(P.distance=j)),P},{});return T.distance||l}function qOe(o){var r=ZI(o);return o.host&&(r=r.concat(ZI(o.host))),o.attachers&&(r=r.concat(o.attachers.reduce(function(s,l){return s.concat(ZI(l))},[]))),r}function ZI(o){return GOe(o).concat(WOe(o))}function WOe(o){return o.incoming.map(function(r){return r.source})}function GOe(o){return o.outgoing.map(function(r){return r.target})}function QOe(){return!0}var YOe=100;function EY(o,r,s){o.on("autoPlace",YOe,function(l){var u=l.shape,f=l.source;return XOe(f,u)}),o.on("autoPlace.end",function(l){s.scrollToElement(l.shape)}),this.append=function(l,u,f){o.fire("autoPlace.start",{source:l,shape:u});var p=o.fire("autoPlace",{source:l,shape:u}),v=r.appendShape(l,u,p,l.parent,f);return o.fire("autoPlace.end",{source:l,shape:v}),v}}EY.$inject=["eventBus","modeling","canvas"];function XOe(o,r,s){s||(s={});var l=s.defaultDistance||bY,u=Qn(o),f=$t(o);return{x:f.right+l+r.width/2,y:u.y}}function wY(o,r){o.on("autoPlace.end",500,function(s){r.select(s.shape)})}wY.$inject=["eventBus","selection"];var KOe={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",EY],autoPlaceSelectionBehavior:["type",wY]},ZOe={width:135,height:46},_Y={width:180,height:80},JOe={width:125,height:45},e8e={width:100,height:63};function fm(o){qd.call(this),this._drdFactory=o}ri(fm,qd),fm.$inject=["drdFactory"],fm.prototype.baseCreate=qd.prototype.create,fm.prototype.create=function(o,r){return this.createDrdElement(o,r)},fm.prototype.createDrdElement=function(o,r){var s=this._drdFactory,l;r=r||{};var u=r.businessObject;if(!u){if(!r.type)throw new Error("no shape type specified");u=s.create(r.type)}return u.di||(o==="connection"?u.di=s.createDiEdge(u,[]):o==="shape"&&(u.di=s.createDiShape(u,{}))),l=this._getDefaultSize(u),r=xe({businessObject:u,id:u.id},l,r),this.baseCreate(o,r)},fm.prototype._getDefaultSize=function(o){return we(o,"dmn:BusinessKnowledgeModel")?ZOe:we(o,"dmn:Decision")?_Y:we(o,"dmn:InputData")?JOe:we(o,"dmn:KnowledgeSource")?e8e:{width:100,height:80}};var JI="left",CY="right",H_=60,SY=_Y.width;function t8e(o,r){if(we(r,"dmn:TextAnnotation"))return n8e(o,r);if(we(r,"dmn:DRGElement"))return r8e(o,r)}function n8e(o,r){var s=$t(o),l={x:s.right+r.width/2,y:s.top-50-r.height/2},u={y:{margin:-30,minDistance:20}};return xY(o,r,l,zOe(u))}function r8e(o,r){var s=$t(o),l=Qn(o);function u(v){return v.target===o?1:-1}var f=UOe(o,{defaultDistance:180,direction:"s",getWeight:u,filter:i8e,reference:"center"}),p={x:l.x,y:s.bottom+f};return xY(o,r,p,o8e(o))}function i8e(o){return!we(o,"dmn:Association")}function OY(o,r){return Math.abs(r.x-o.x)}function o8e(o){var r=Qn(o),s,l;return function(u,f,p){var v;return s?(f.x<r.x?s=p:l=p,OY(r,Qn(s))<OY(r,Qn(l))?v=JI:v=CY):(s=p,l=p,Qn(p).x-r.x>0?v=JI:v=CY),v===JI?{x:Math.min(Qn(s).x-SY-H_,$t(s).left-H_-u.width/2),y:f.y}:{x:Math.max(Qn(l).x+SY+H_,$t(l).right+H_+u.width/2),y:f.y}}}function DY(o){o.on("autoPlace",function(r){var s=r.shape,l=r.source;return t8e(l,s)})}DY.$inject=["eventBus"];var s8e={__depends__:[KOe],__init__:["dmnAutoPlace"],dmnAutoPlace:["type",DY]},TY=1500;function kY(o,r,s){var l=this,u=s.get("dragging",!1);function f(p){if(!p.hover){var v=p.originalEvent,y=l._findTargetGfx(v),x=y&&o.get(y);y&&x&&(p.stopPropagation(),u.hover({element:x,gfx:y}),u.move(v))}}u&&r.on("drag.start",function(p){r.once("drag.move",TY,function(v){f(v)})}),function(){var p,v;r.on("element.hover",function(y){p=y.gfx,v=y.element}),r.on("element.hover",TY,function(y){v&&r.fire("element.out",{element:v,gfx:p})}),r.on("element.out",function(){p=null,v=null})}(),this._findTargetGfx=function(p){var v,y;if(p instanceof MouseEvent)return v=cm(p),y=document.elementFromPoint(v.x,v.y),a8e(y)}}kY.$inject=["elementRegistry","eventBus","injector"];function a8e(o){return Bo(o,"svg, .djs-element",!0)}var l8e={__init__:["hoverFix"],hoverFix:["type",kY]},cv=Math.round,PY="djs-drag-active";function hm(o){o.preventDefault()}function c8e(o){return typeof TouchEvent<"u"&&o instanceof TouchEvent}function u8e(o){return Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2))}function IY(o,r,s,l){var u={threshold:5,trapClick:!0},f;function p(U){var H=r.viewbox(),X=r._container.getBoundingClientRect();return{x:H.x+(U.x-X.left)/H.scale,y:H.y+(U.y-X.top)/H.scale}}function v(U,H){H=H||f;var X=o.createEvent(xe({},H.payload,H.data,{isTouch:H.isTouch}));return o.fire("drag."+U,X)===!1?!1:o.fire(H.prefix+"."+U,X)}function y(U){var H=U.filter(function(X){return l.get(X.id)});H.length&&s.select(H)}function x(U,H){var X=f.payload,Y=f.displacement,ae=f.globalStart,te=cm(U),ve=av(te,ae),be=f.localStart,Ce=p(te),Te=av(Ce,be);if(!f.active&&(H||u8e(ve)>f.threshold)){if(xe(X,{x:cv(be.x+Y.x),y:cv(be.y+Y.y),dx:0,dy:0},{originalEvent:U}),v("start")===!1)return j();f.active=!0,f.keepSelection||(X.previousSelection=s.get(),s.select(null)),f.cursor&&GI(f.cursor),r.addMarker(r.getRootElement(),PY)}NI(U),f.active&&(xe(X,{x:cv(Ce.x+Y.x),y:cv(Ce.y+Y.y),dx:cv(Te.x),dy:cv(Te.y)},{originalEvent:U}),v("move"))}function w(U){var H,X=!0;f.active&&(U&&(f.payload.originalEvent=U,NI(U)),X=v("end")),X===!1&&v("rejected"),H=q(X!==!0),v("ended",H)}function C(U){Fi("Escape",U)&&(hm(U),j())}function O(U){var H;f.active&&(H=aY(o),setTimeout(H,400),hm(U)),w(U)}function T(U){x(U)}function P(U){var H=f.payload;H.hoverGfx=U.gfx,H.hover=U.element,v("hover")}function N(U){v("out");var H=f.payload;H.hoverGfx=null,H.hover=null}function j(U){var H;if(f){var X=f.active;X&&v("cancel"),H=q(U),X&&v("canceled",H)}}function q(U){var H,X;v("cleanup"),sY(),f.trapClick?X=O:X=w,ft.unbind(document,"mousemove",x),ft.unbind(document,"dragstart",hm),ft.unbind(document,"selectstart",hm),ft.unbind(document,"mousedown",X,!0),ft.unbind(document,"mouseup",X,!0),ft.unbind(document,"keyup",C),ft.unbind(document,"touchstart",T,!0),ft.unbind(document,"touchcancel",j,!0),ft.unbind(document,"touchmove",x,!0),ft.unbind(document,"touchend",w,!0),o.off("element.hover",P),o.off("element.out",N),r.removeMarker(r.getRootElement(),PY);var Y=f.payload.previousSelection;return U!==!1&&Y&&!s.get().length&&y(Y),H=f,f=null,H}function Q(U,H,X,Y){f&&j(!1),typeof H=="string"&&(Y=X,X=H,H=null),Y=xe({},u,Y||{});var ae=Y.data||{},te,ve,be,Ce,Te;Y.trapClick?Ce=O:Ce=w,U?(te=ov(U)||U,ve=cm(U),NI(U),te.type==="dragstart"&&hm(te)):(te=null,ve={x:0,y:0}),be=p(ve),H||(H=be),Te=c8e(te),f=xe({prefix:X,data:ae,payload:{},globalStart:ve,displacement:av(H,be),localStart:be,isTouch:Te},Y),Y.manual||(Te?(ft.bind(document,"touchstart",T,!0),ft.bind(document,"touchcancel",j,!0),ft.bind(document,"touchmove",x,!0),ft.bind(document,"touchend",w,!0)):(ft.bind(document,"mousemove",x),ft.bind(document,"dragstart",hm),ft.bind(document,"selectstart",hm),ft.bind(document,"mousedown",Ce,!0),ft.bind(document,"mouseup",Ce,!0)),ft.bind(document,"keyup",C),o.on("element.hover",P),o.on("element.out",N)),v("init"),Y.autoActivate&&x(U,!0)}o.on("diagram.destroy",j),this.init=Q,this.move=x,this.hover=P,this.out=N,this.end=w,this.cancel=j,this.context=function(){return f},this.setOptions=function(U){xe(u,U)}}IY.$inject=["eventBus","canvas","selection","elementRegistry"];var pm={__depends__:[l8e,Du],dragging:["type",IY]};function uv(o,r,s){this._canvas=s,this._opts=xe({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},o);var l=this;r.on("drag.move",function(u){var f=l._toBorderPoint(u);l.startScroll(f)}),r.on(["drag.cleanup"],function(){l.stopScroll()})}uv.$inject=["config.autoScroll","eventBus","canvas"],uv.prototype.startScroll=function(o){var r=this._canvas,s=this._opts,l=this,u=r.getContainer().getBoundingClientRect(),f=[o.x,o.y,u.width-o.x,u.height-o.y];this.stopScroll();for(var p=0,v=0,y=0;y<4;y++)d8e(f[y],s.scrollThresholdOut[y],s.scrollThresholdIn[y])&&(y===0?p=s.scrollStep:y==1?v=s.scrollStep:y==2?p=-s.scrollStep:y==3&&(v=-s.scrollStep));(p!==0||v!==0)&&(r.scroll({dx:p,dy:v}),this._scrolling=setTimeout(function(){l.startScroll(o)},s.scrollRepeatTimeout))};function d8e(o,r,s){return r<o&&o<s}uv.prototype.stopScroll=function(){clearTimeout(this._scrolling)},uv.prototype.setOptions=function(o){this._opts=xe({},this._opts,o)},uv.prototype._toBorderPoint=function(o){var r=this._canvas._container.getBoundingClientRect(),s=cm(o.originalEvent);return{x:s.x-r.left,y:s.y-r.top}};var f8e={__depends__:[pm],__init__:["autoScroll"],autoScroll:["type",uv]};function eM(o){this._commandStack=o.get("commandStack",!1)}eM.$inject=["injector"],eM.prototype.allowed=function(o,r){var s=!0,l=this._commandStack;return l&&(s=l.canExecute(o,r)),s===void 0?!0:s};var mm={__init__:["rules"],rules:["type",eM]},U_=Math.round,h8e=Math.max;function p8e(o,r){var s=o.x,l=o.y;return[["M",s,l],["m",0,-r],["a",r,r,0,1,1,0,2*r],["a",r,r,0,1,1,0,-2*r],["z"]]}function m8e(o){var r=[];return o.forEach(function(s,l){r.push([l===0?"M":"L",s.x,s.y])}),r}var MY=10;function g8e(o,r){var s,l;for(s=0;l=o[s];s++)if(E_(l,r)<=MY)return{point:o[s],bendpoint:!0,index:s};return null}function v8e(o,r){var s=zG(p8e(r,MY),m8e(o)),l=s[0],u=s[s.length-1],f;return l?l!==u?l.segment2!==u.segment2?(f=h8e(l.segment2,u.segment2)-1,{point:o[f],bendpoint:!0,index:f}):{point:{x:U_(l.x+u.x)/2,y:U_(l.y+u.y)/2},index:l.segment2}:{point:{x:U_(l.x),y:U_(l.y)},index:l.segment2}:null}function y8e(o,r){return g8e(o,r)||v8e(o,r)}function b8e(o){return Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2))}function x8e(o,r,s){var l=[{n:o[0]-s[0],lambda:r[0]},{n:o[1]-s[1],lambda:r[1]}],u=l[0].n*r[0]+l[1].n*r[1],f=l[0].lambda*r[0]+l[1].lambda*r[1];return-u/f}function AY(o,r){var s=r[0],l=r[1],u={x:l.x-s.x,y:l.y-s.y},f=x8e([s.x,s.y],[u.x,u.y],[o.x,o.y]);return{x:s.x+f*u.x,y:s.y+f*u.y}}function E8e(o,r){var s=AY(o,r),l={x:s.x-o.x,y:s.y-o.y};return b8e(l)}var RY="djs-bendpoint",LY="djs-segment-dragger";function w8e(o,r){var s=cm(r),l=o._container.getBoundingClientRect(),u;u={x:l.left,y:l.top};var f=o.viewbox();return{x:f.x+(s.x-u.x)/f.scale,y:f.y+(s.y-u.y)/f.scale}}function tM(o,r,s){var l=w8e(o,s),u=y8e(r,l);return u}function nM(o,r){var s=zt("g");_n(s).add(RY),Qt(o,s);var l=zt("circle");ht(l,{cx:0,cy:0,r:4}),_n(l).add("djs-visual"),Qt(s,l);var u=zt("circle");return ht(u,{cx:0,cy:0,r:10}),_n(u).add("djs-hit"),Qt(s,u),r&&_n(s).add(r),s}function _8e(o,r,s,l){var u=zt("g");Qt(o,u);var f=18,p=6,v=11,y=S8e(r,s,l),x=p+v,w=zt("rect");ht(w,{x:-f/2,y:-p/2,width:f,height:p}),_n(w).add("djs-visual"),Qt(u,w);var C=zt("rect");return ht(C,{x:-y/2,y:-x/2,width:y,height:x}),_n(C).add("djs-hit"),Qt(u,C),R6e(u,l==="v"?90:0),u}function $Y(o,r,s){var l=zt("g"),u=fI(r,s),f=J1(r,s);return Qt(o,l),_8e(l,r,s,f),_n(l).add(LY),_n(l).add(f==="h"?"horizontal":"vertical"),_u(l,u.x,u.y),l}function rM(o){return Math.abs(Math.round(o*2/3))}function C8e(o,r){var s=O8e(o,r);return AY(o,s)}function S8e(o,r,s){var l=r.x-o.x,u=r.y-o.y;return rM(s==="h"?l:u)}function O8e(o,r){for(var s=r.waypoints,l=1/0,u,f=0;f<s.length-1;f++){var p=s[f],v=s[f+1],y=E8e(o,[p,v]);y<l&&(l=y,u=f)}return[s[u],s[u+1]]}function NY(o,r,s,l,u){function f(U,H,X){var Y=U.index,ae=U.point,te,ve,be,Ce,Te,Re;return Y<=0||U.bendpoint?!1:(te=H[Y-1],ve=H[Y],be=fI(te,ve),Ce=J1(te,ve),Te=Math.abs(ae.x-be.x),Re=Math.abs(ae.y-be.y),Ce&&Te<=X&&Re<=X)}function p(U,H){var X=U.waypoints,Y,ae,te,ve;return H.index<=0||H.bendpoint||(Y={start:X[H.index-1],end:X[H.index]},ae=J1(Y.start,Y.end),!ae)?null:(ae==="h"?te=Y.end.x-Y.start.x:te=Y.end.y-Y.start.y,ve=rM(te)/2,ve)}function v(U,H){var X=H.waypoints,Y=tM(r,X,U),ae;if(Y)return ae=p(H,Y),f(Y,X,ae)?u.start(U,H,Y.index):l.start(U,H,Y.index,!Y.bendpoint),!0}function y(U,H,X){ft.bind(U,H,function(Y){s.triggerMouseEvent(H,Y,X),Y.stopPropagation()})}function x(U,H){var X=r.getLayer("overlays"),Y=ln('.djs-bendpoints[data-element-id="'+QI(U.id)+'"]',X);return!Y&&H&&(Y=zt("g"),ht(Y,{"data-element-id":U.id}),_n(Y).add("djs-bendpoints"),Qt(X,Y),y(Y,"mousedown",U),y(Y,"click",U),y(Y,"dblclick",U)),Y}function w(U,H){return ln('.djs-segment-dragger[data-segment-idx="'+U+'"]',H)}function C(U,H){H.waypoints.forEach(function(X,Y){var ae=nM(U);Qt(U,ae),_u(ae,X.x,X.y)}),nM(U,"floating")}function O(U,H){for(var X=H.waypoints,Y,ae,te,ve=1;ve<X.length;ve++)Y=X[ve-1],ae=X[ve],J1(Y,ae)&&(te=$Y(U,Y,ae),ht(te,{"data-segment-idx":ve}),y(te,"mousemove",H))}function T(U){D(bu("."+RY,U),function(H){us(H)})}function P(U){D(bu("."+LY,U),function(H){us(H)})}function N(U){var H=x(U);return H||(H=x(U,!0),C(H,U),O(H,U)),H}function j(U){var H=x(U);H&&(P(H),T(H),O(H,U),C(H,U))}function q(U,H){var X=ln(".floating",U),Y=H.point;X&&_u(X,Y.x,Y.y)}function Q(U,H,X){var Y=w(H.index,U),ae=X[H.index-1],te=X[H.index],ve=H.point,be=fI(ae,te),Ce=J1(ae,te),Te,Re;Y&&(Te=D8e(Y),Re={x:ve.x-be.x,y:ve.y-be.y},Ce==="v"&&(Re={x:Re.y,y:Re.x}),_u(Te,Re.x,Re.y))}o.on("connection.changed",function(U){j(U.element)}),o.on("connection.remove",function(U){var H=x(U.element);H&&us(H)}),o.on("element.marker.update",function(U){var H=U.element,X;H.waypoints&&(X=N(H),U.add?_n(X).add(U.marker):_n(X).remove(U.marker))}),o.on("element.mousemove",function(U){var H=U.element,X=H.waypoints,Y,ae;if(X){if(Y=x(H,!0),ae=tM(r,X,U.originalEvent),!ae)return;q(Y,ae),ae.bendpoint||Q(Y,ae,X)}}),o.on("element.mousedown",function(U){if(Th(U)){var H=U.originalEvent,X=U.element;if(X.waypoints)return v(H,X)}}),o.on("selection.changed",function(U){var H=U.newSelection,X=H[0];X&&X.waypoints&&N(X)}),o.on("element.hover",function(U){var H=U.element;H.waypoints&&(N(H),s.registerEvent(U.gfx,"mousemove","element.mousemove"))}),o.on("element.out",function(U){s.unregisterEvent(U.gfx,"mousemove","element.mousemove")}),o.on("element.updateId",function(U){var H=U.element,X=U.newId;if(H.waypoints){var Y=x(H);Y&&ht(Y,{"data-element-id":X})}}),this.addHandles=N,this.updateHandles=j,this.getBendpointsContainer=x,this.getSegmentDragger=w}NY.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];function D8e(o){return ln(".djs-visual",o)}var FY=Math.round,gm="reconnectStart",vm="reconnectEnd",O3="updateWaypoints";function iM(o,r,s,l,u,f){this._injector=o,this.start=function(p,v,y,x){var w=s.getGraphics(v),C=v.source,O=v.target,T=v.waypoints,P;!x&&y===0?P=gm:!x&&y===T.length-1?P=vm:P=O3;var N=P===O3?"connection.updateWaypoints":"connection.reconnect",j=u.allowed(N,{connection:v,source:C,target:O});j===!1&&(j=u.allowed(N,{connection:v,source:O,target:C})),j!==!1&&l.init(p,"bendpoint.move",{data:{connection:v,connectionGfx:w,context:{allowed:j,bendpointIndex:y,connection:v,source:C,target:O,insert:x,type:P}}})},r.on("bendpoint.move.hover",function(p){var v=p.context,y=v.connection,x=y.source,w=y.target,C=p.hover,O=v.type;v.hover=C;var T;if(C){var P=O===O3?"connection.updateWaypoints":"connection.reconnect";if(T=v.allowed=u.allowed(P,{connection:y,source:O===gm?C:x,target:O===vm?C:w}),T){v.source=O===gm?C:x,v.target=O===vm?C:w;return}T===!1&&(T=v.allowed=u.allowed(P,{connection:y,source:O===vm?C:w,target:O===gm?C:x})),T&&(v.source=O===vm?C:w,v.target=O===gm?C:x)}}),r.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(p){var v=p.context,y=v.type;v.hover=null,v.source=null,v.target=null,y!==O3&&(v.allowed=!1)}),r.on("bendpoint.move.end",function(p){var v=p.context,y=v.allowed,x=v.bendpointIndex,w=v.connection,C=v.insert,O=w.waypoints.slice(),T=v.source,P=v.target,N=v.type,j=v.hints||{},q={x:FY(p.x),y:FY(p.y)};if(!y)return!1;N===O3?(C?O.splice(x,0,q):O[x]=q,j.bendpointMove={insert:C,bendpointIndex:x},O=this.cropWaypoints(w,O),f.updateWaypoints(w,y6e(O),j)):(N===gm?(j.docking="source",q_(v)&&(j.docking="target",j.newWaypoints=O.reverse())):N===vm&&(j.docking="target",q_(v)&&(j.docking="source",j.newWaypoints=O.reverse())),f.reconnect(w,T,P,q,j))},this)}iM.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],iM.prototype.cropWaypoints=function(o,r){var s=this._injector.get("connectionDocking",!1);if(!s)return r;var l=o.waypoints;return o.waypoints=r,o.waypoints=s.getCroppedWaypoints(o),r=o.waypoints,o.waypoints=l,r};function q_(o){var r=o.hover,s=o.source,l=o.target,u=o.type;if(u===gm)return r&&l&&r===l&&s!==l;if(u===vm)return r&&s&&r===s&&s!==l}var T8e="reconnectStart",k8e="reconnectEnd",BY="updateWaypoints",D3="connect-ok",W_="connect-not-ok",jY="connect-hover",VY="djs-updating",zY="djs-dragging",HY=1100;function UY(o,r,s,l){this._injector=r;var u=r.get("connectionPreview",!1);s.on("bendpoint.move.start",function(f){var p=f.context,v=p.bendpointIndex,y=p.connection,x=p.insert,w=y.waypoints,C=w.slice();p.waypoints=w,x&&C.splice(v,0,{x:f.x,y:f.y}),y.waypoints=C;var O=p.draggerGfx=nM(l.getLayer("overlays"));_n(O).add("djs-dragging"),l.addMarker(y,zY),l.addMarker(y,VY)}),s.on("bendpoint.move.hover",function(f){var p=f.context,v=p.allowed,y=p.hover,x=p.type;if(y){if(l.addMarker(y,jY),x===BY)return;v?(l.removeMarker(y,W_),l.addMarker(y,D3)):v===!1&&(l.removeMarker(y,D3),l.addMarker(y,W_))}}),s.on(["bendpoint.move.out","bendpoint.move.cleanup"],HY,function(f){var p=f.context,v=p.hover,y=p.target;v&&(l.removeMarker(v,jY),l.removeMarker(v,y?D3:W_))}),s.on("bendpoint.move.move",function(f){var p=f.context,v=p.allowed,y=p.bendpointIndex,x=p.draggerGfx,w=p.hover,C=p.type,O=p.connection,T=O.source,P=O.target,N=O.waypoints.slice(),j={x:f.x,y:f.y},q=p.hints||{},Q={};u&&(q.connectionStart&&(Q.connectionStart=q.connectionStart),q.connectionEnd&&(Q.connectionEnd=q.connectionEnd),C===T8e?q_(p)?(Q.connectionEnd=Q.connectionEnd||j,Q.source=P,Q.target=w||T,N=N.reverse()):(Q.connectionStart=Q.connectionStart||j,Q.source=w||T,Q.target=P):C===k8e?q_(p)?(Q.connectionStart=Q.connectionStart||j,Q.source=w||P,Q.target=T,N=N.reverse()):(Q.connectionEnd=Q.connectionEnd||j,Q.source=T,Q.target=w||P):(Q.noCropping=!0,Q.noLayout=!0,N[y]=j),C===BY&&(N=o.cropWaypoints(O,N)),Q.waypoints=N,u.drawPreview(p,v,Q)),_u(x,f.x,f.y)},this),s.on(["bendpoint.move.end","bendpoint.move.cancel"],HY,function(f){var p=f.context,v=p.connection,y=p.draggerGfx,x=p.hover,w=p.target,C=p.waypoints;v.waypoints=C,us(y),l.removeMarker(v,VY),l.removeMarker(v,zY),x&&(l.removeMarker(x,D3),l.removeMarker(x,w?D3:W_)),u&&u.cleanUp(p)})}UY.$inject=["bendpointMove","injector","eventBus","canvas"];var qY="connect-hover",WY="djs-updating";function GY(o,r,s){return oM(o,r,o[r]+s)}function oM(o,r,s){return{x:r==="x"?s:o.x,y:r==="y"?s:o.y}}function P8e(o,r,s,l){var u=Math.max(r[l],s[l]),f=Math.min(r[l],s[l]),p=20,v=Math.min(Math.max(f+p,o[l]),u-p);return oM(r,l,v)}function QY(o){return o==="x"?"y":"x"}function YY(o,r,s){var l,u;return o.original?o.original:(l=Qn(r),u=QY(s),oM(o,u,l[u]))}function XY(o,r,s,l,u,f){var p=o.get("connectionDocking",!1);this.start=function(C,O,T){var P,N=s.getGraphics(O),j=T-1,q=T,Q=O.waypoints,U=Q[j],H=Q[q],X=tM(s,Q,C),Y,ae,te;Y=J1(U,H),Y&&(ae=Y==="v"?"x":"y",j===0&&(U=YY(U,O.source,ae)),q===Q.length-1&&(H=YY(H,O.target,ae)),X?te=X.point:te={x:(U.x+H.x)/2,y:(U.y+H.y)/2},P={connection:O,segmentStartIndex:j,segmentEndIndex:q,segmentStart:U,segmentEnd:H,axis:ae,dragPosition:te},l.init(C,te,"connectionSegment.move",{cursor:ae==="x"?"resize-ew":"resize-ns",data:{connection:O,connectionGfx:N,context:P}}))};function v(C,O){if(!p)return O;var T=C.waypoints,P;return C.waypoints=O,P=p.getCroppedWaypoints(C),C.waypoints=T,P}function y(C){u.update("connection",C.connection,C.connectionGfx)}function x(C,O,T){var P=C.newWaypoints,N=C.segmentStartIndex+O,j=P[N],q=C.segmentEndIndex+O,Q=P[q],U=QY(C.axis),H=P8e(T,j,Q,U);_u(C.draggerGfx,H.x,H.y)}function w(C,O){var T=0,P=C.filter(function(N,j){return RG(C[j-1],C[j+1],N)?(T=j<=O?T-1:T,!1):!0});return{waypoints:P,segmentOffset:T}}r.on("connectionSegment.move.start",function(C){var O=C.context,T=C.connection,P=s.getLayer("overlays");O.originalWaypoints=T.waypoints.slice(),O.draggerGfx=$Y(P,O.segmentStart,O.segmentEnd),_n(O.draggerGfx).add("djs-dragging"),s.addMarker(T,WY)}),r.on("connectionSegment.move.move",function(C){var O=C.context,T=O.connection,P=O.segmentStartIndex,N=O.segmentEndIndex,j=O.segmentStart,q=O.segmentEnd,Q=O.axis,U=O.originalWaypoints.slice(),H=GY(j,Q,C["d"+Q]),X=GY(q,Q,C["d"+Q]),Y=U.length,ae=0;U[P]=H,U[N]=X;var te,ve;P<2&&(te=Ba(T.source,H),P===1?te==="intersect"&&(U.shift(),U[0]=H,ae--):te!=="intersect"&&(U.unshift(j),ae++)),N>Y-3&&(ve=Ba(T.target,X),N===Y-2?ve==="intersect"&&(U.pop(),U[U.length-1]=X):ve!=="intersect"&&U.push(q)),O.newWaypoints=T.waypoints=v(T,U),x(O,ae,C),O.newSegmentStartIndex=P+ae,y(C)}),r.on("connectionSegment.move.hover",function(C){C.context.hover=C.hover,s.addMarker(C.hover,qY)}),r.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(C){var O=C.context.hover;O&&s.removeMarker(O,qY)}),r.on("connectionSegment.move.cleanup",function(C){var O=C.context,T=O.connection;O.draggerGfx&&us(O.draggerGfx),s.removeMarker(T,WY)}),r.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(C){var O=C.context,T=O.connection;T.waypoints=O.originalWaypoints,y(C)}),r.on("connectionSegment.move.end",function(C){var O=C.context,T=O.connection,P=O.newWaypoints,N=O.newSegmentStartIndex;P=P.map(function(X){return{original:X.original,x:Math.round(X.x),y:Math.round(X.y)}});var j=w(P,N),q=j.waypoints,Q=v(T,q),U=j.segmentOffset,H={segmentMove:{segmentStartIndex:O.segmentStartIndex,newSegmentStartIndex:N+U}};f.updateWaypoints(T,Q,H)})}XY.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var I8e=Math.abs,KY=Math.round;function M8e(o,r,s){s=s===void 0?10:s;var l,u;for(l=0;l<r.length;l++)if(u=r[l],I8e(u-o)<=s)return u}function A8e(o){return{x:o.x,y:o.y}}function R8e(o){return{x:o.x+o.width,y:o.y+o.height}}function dv(o,r){return!o||isNaN(o.x)||isNaN(o.y)?r:{x:KY(o.x+o.width/2),y:KY(o.y+o.height/2)}}function T3(o,r){var s=o.snapped;return s?typeof r=="string"?s[r]:s.x&&s.y:!1}function ku(o,r,s){if(typeof r!="string")throw new Error("axis must be in [x, y]");if(typeof s!="number"&&s!==!1)throw new Error("value must be Number or false");var l,u=o[r],f=o.snapped=o.snapped||{};return s===!1?f[r]=!1:(f[r]=!0,l=s-u,o[r]+=l,o["d"+r]+=l),u}function ZY(o){return o.children||[]}var L8e=Math.abs,JY=Math.round,sM=10;function eX(o){function r(f,p){if(d(f)){for(var v=f.length;v--;)if(L8e(f[v]-p)<=sM)return f[v]}else{f=+f;var y=p%f;if(y<sM)return p-y;if(y>f-sM)return p-y+f}return p}function s(f,p){if(f.waypoints)return C8e(p,f);if(f.width)return{x:JY(f.width/2+f.x),y:JY(f.height/2+f.y)}}function l(f){var p=f.context,v=p.snapPoints,y=p.connection,x=y.waypoints,w=p.segmentStart,C=p.segmentStartIndex,O=p.segmentEnd,T=p.segmentEndIndex,P=p.axis;if(v)return v;var N=[x[C-1],w,O,x[T+1]];return C<2&&N.unshift(s(y.source,f)),T>x.length-3&&N.unshift(s(y.target,f)),p.snapPoints=v={horizontal:[],vertical:[]},D(N,function(j){j&&(j=j.original||j,P==="y"&&v.horizontal.push(j.y),P==="x"&&v.vertical.push(j.x))}),v}o.on("connectionSegment.move.move",1500,function(f){var p=l(f),v=f.x,y=f.y,x,w;if(p){x=r(p.vertical,v),w=r(p.horizontal,y);var C=v-x,O=y-w;xe(f,{dx:f.dx-C,dy:f.dy-O,x,y:w}),(C||p.vertical.indexOf(v)!==-1)&&ku(f,"x",x),(O||p.horizontal.indexOf(y)!==-1)&&ku(f,"y",w)}});function u(f){var p=f.snapPoints,v=f.connection.waypoints,y=f.bendpointIndex;if(p)return p;var x=[v[y-1],v[y+1]];return f.snapPoints=p={horizontal:[],vertical:[]},D(x,function(w){w&&(w=w.original||w,p.horizontal.push(w.y),p.vertical.push(w.x))}),p}o.on(["connect.hover","connect.move","connect.end"],1500,function(f){var p=f.context,v=p.hover,y=v&&s(v,f);!Ls(v)||!y||!y.x||!y.y||(ku(f,"x",y.x),ku(f,"y",y.y))}),o.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(f){var p=f.context,v=u(p),y=p.hover,x=y&&s(y,f),w=f.x,C=f.y,O,T;if(v){O=r(x?v.vertical.concat([x.x]):v.vertical,w),T=r(x?v.horizontal.concat([x.y]):v.horizontal,C);var P=w-O,N=C-T;xe(f,{dx:f.dx-P,dy:f.dy-N,x:f.x-P,y:f.y-N}),(P||v.vertical.indexOf(w)!==-1)&&ku(f,"x",O),(N||v.horizontal.indexOf(C)!==-1)&&ku(f,"y",T)}})}eX.$inject=["eventBus"];var $8e={__depends__:[pm,mm],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",NY],bendpointMove:["type",iM],bendpointMovePreview:["type",UY],connectionSegmentMove:["type",XY],bendpointSnapping:["type",eX]},N8e="djs-element-hidden",G_=".entry",F8e=1e3,tX=8,B8e=300;function fi(o,r,s){this._canvas=o,this._elementRegistry=r,this._eventBus=s,this._current=null,this._init()}fi.$inject=["canvas","elementRegistry","eventBus"],fi.prototype._init=function(){var o=this;this._eventBus.on("selection.changed",function(r){var s=r.newSelection,l=s.length?s.length===1?s[0]:s:null;l?o.open(l,!0):o.close()}),this._eventBus.on("elements.changed",function(r){var s=r.elements,l=o._current;if(l){var{target:u}=l,f=d(u)?u:[u],p=f.filter(function(y){return nX(s,y)});if(p.length){o.close();var v=f.filter(function(y){return o._elementRegistry.get(y.id)});v.length&&o._updateAndOpen(v.length>1?v:v[0])}}}),this._eventBus.on("canvas.viewbox.changed",()=>{this._updatePosition()}),this._eventBus.on("element.marker.update",function(r){o._updateVisibility()}),this._container=this._createContainer()},fi.prototype._createContainer=function(){let o=Gn('<div class="djs-context-pad-parent"></div>');return this._canvas.getContainer().appendChild(o),o},fi.prototype.registerProvider=function(o,r){r||(r=o,o=F8e),this._eventBus.on("contextPad.getProviders",o,function(s){s.providers.push(r)})},fi.prototype.getEntries=function(o){var r=this._getProviders(),s=d(o)?"getMultiElementContextPadEntries":"getContextPadEntries",l={};return D(r,function(u){if(g(u[s])){var f=u[s](o);g(f)?l=f(l):D(f,function(p,v){l[v]=p})}}),l},fi.prototype.trigger=function(o,r,s){var l,u,f=r.delegateTarget||r.target;if(!f)return r.preventDefault();if(l=cs(f,"data-action"),u=r.originalEvent||r,o==="mouseover"){this._timeout=setTimeout(()=>{this._mouseout=this.triggerEntry(l,"hover",u,s)},B8e);return}else if(o==="mouseout"){clearTimeout(this._timeout),this._mouseout&&(this._mouseout(),this._mouseout=null);return}return this.triggerEntry(l,o,u,s)},fi.prototype.triggerEntry=function(o,r,s,l){if(this.isShown()){var u=this._current.target,f=this._current.entries,p=f[o];if(p){var v=p.action;if(this._eventBus.fire("contextPad.trigger",{entry:p,event:s})!==!1){if(g(v)){if(r==="click")return v(s,u,l)}else if(v[r])return v[r](s,u,l);s.preventDefault()}}}},fi.prototype.open=function(o,r){!r&&this.isOpen(o)||(this.close(),this._updateAndOpen(o))},fi.prototype._getProviders=function(){var o=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(o),o.providers},fi.prototype._updateAndOpen=function(o){var r=this.getEntries(o),s=this._createHtml(o),l;D(r,function(u,f){var p=u.group||"default",v=Gn(u.html||'<div class="entry" draggable="true"></div>'),y;cs(v,"data-action",f),y=ln("[data-group="+QI(p)+"]",s),y||(y=Gn('<div class="group"></div>'),cs(y,"data-group",p),s.appendChild(y)),y.appendChild(v),u.className&&j8e(v,u.className),u.title&&cs(v,"title",u.title),u.imageUrl&&(l=Gn("<img>"),cs(l,"src",u.imageUrl),l.style.width="100%",l.style.height="100%",v.appendChild(l))}),Jt(s).add("open"),this._current={entries:r,html:s,target:o},this._updatePosition(),this._updateVisibility(),this._eventBus.fire("contextPad.open",{current:this._current})},fi.prototype._createHtml=function(o){var r=this,s=Gn('<div class="djs-context-pad"></div>');return Fa.bind(s,G_,"click",function(l){r.trigger("click",l)}),Fa.bind(s,G_,"dragstart",function(l){r.trigger("dragstart",l)}),Fa.bind(s,G_,"mouseover",function(l){r.trigger("mouseover",l)}),Fa.bind(s,G_,"mouseout",function(l){r.trigger("mouseout",l)}),ft.bind(s,"mousedown",function(l){l.stopPropagation()}),this._container.appendChild(s),this._eventBus.fire("contextPad.create",{target:o,pad:s}),s},fi.prototype.getPad=function(o){console.warn(new Error("ContextPad#getPad is deprecated and will be removed in future library versions, cf. https://github.com/bpmn-io/diagram-js/pull/888"));let r;return this.isOpen()&&z8e(this._current.target,o)?r=this._current.html:r=this._createHtml(o),{html:r}},fi.prototype.close=function(){this.isOpen()&&(clearTimeout(this._timeout),this._container.innerHTML="",this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},fi.prototype.isOpen=function(o){var r=this._current;if(!r)return!1;if(!o)return!0;var s=r.target;return d(o)!==d(s)?!1:d(o)?o.length===s.length&&I(o,function(l){return nX(s,l)}):s===o},fi.prototype.isShown=function(){return this.isOpen()&&Jt(this._current.html).has("open")},fi.prototype.show=function(){this.isOpen()&&(Jt(this._current.html).add("open"),this._updatePosition(),this._eventBus.fire("contextPad.show",{current:this._current}))},fi.prototype.hide=function(){this.isOpen()&&(Jt(this._current.html).remove("open"),this._eventBus.fire("contextPad.hide",{current:this._current}))},fi.prototype._getPosition=function(o){if(!d(o)&&Ls(o)){let u=this._canvas.viewbox(),f=V8e(o),p=f.x*u.scale-u.x*u.scale,v=f.y*u.scale-u.y*u.scale;return{left:p+tX*this._canvas.zoom(),top:v}}var r=this._canvas.getContainer(),s=r.getBoundingClientRect(),l=this._getTargetBounds(o);return{left:l.right-s.left+tX*this._canvas.zoom(),top:l.top-s.top}},fi.prototype._updatePosition=function(){if(this.isOpen()){var o=this._current.html,r=this._getPosition(this._current.target);"x"in r&&"y"in r?(o.style.left=r.x+"px",o.style.top=r.y+"px"):["top","right","bottom","left"].forEach(function(s){s in r&&(o.style[s]=r[s]+"px")})}},fi.prototype._updateVisibility=function(){if(this.isOpen()){var o=this,r=this._current.target,s=d(r)?r:[r],l=s.some(function(u){return o._canvas.hasMarker(u,N8e)});l?o.hide():o.show()}},fi.prototype._getTargetBounds=function(o){var r=d(o)?o:[o],s=r.map(l=>this._canvas.getGraphics(l));return s.reduce((l,u)=>{let f=u.getBoundingClientRect();return l.top=Math.min(l.top,f.top),l.right=Math.max(l.right,f.right),l.bottom=Math.max(l.bottom,f.bottom),l.left=Math.min(l.left,f.left),l.x=l.left,l.y=l.top,l.width=l.right-l.left,l.height=l.bottom-l.top,l},{top:1/0,right:-1/0,bottom:-1/0,left:1/0})};function j8e(o,r){var s=Jt(o);r=d(r)?r:r.split(/\s+/g),r.forEach(function(l){s.add(l)})}function nX(o,r){return o.indexOf(r)!==-1}function V8e(o){return o.waypoints[o.waypoints.length-1]}function z8e(o,r){return o=d(o)?o:[o],r=d(r)?r:[r],o.length===r.length&&I(o,function(s){return r.includes(s)})}var H8e={__depends__:[N_,j_],contextPad:["type",fi]};function rX(o,r,s,l){function u(p,v){return l.allowed("connection.create",{source:p,target:v})}function f(p,v){return u(v,p)}o.on("connect.hover",function(p){var v=p.context,y=v.start,x=p.hover,w;if(v.hover=x,w=v.canExecute=u(y,x),!c(w)){if(w!==!1){v.source=y,v.target=x;return}w=v.canExecute=f(y,x),!c(w)&&w!==!1&&(v.source=x,v.target=y)}}),o.on(["connect.out","connect.cleanup"],function(p){var v=p.context;v.hover=null,v.source=null,v.target=null,v.canExecute=!1}),o.on("connect.end",function(p){var v=p.context,y=v.canExecute,x=v.connectionStart,w={x:p.x,y:p.y},C=v.source,O=v.target;if(!y)return!1;var T=null,P={connectionStart:aM(v)?w:x,connectionEnd:aM(v)?x:w};h(y)&&(T=y),v.connection=s.connect(C,O,T,P)}),this.start=function(p,v,y,x){h(y)||(x=y,y=Qn(v)),r.init(p,"connect",{autoActivate:x,data:{shape:v,context:{start:v,connectionStart:y}}})}}rX.$inject=["eventBus","dragging","modeling","rules"];function aM(o){var r=o.hover,s=o.source,l=o.target;return r&&s&&r===s&&s!==l}var U8e=1100,q8e=900,iX="connect-ok",oX="connect-not-ok";function sX(o,r,s){var l=o.get("connectionPreview",!1);l&&r.on("connect.move",function(u){var f=u.context,p=f.canExecute,v=f.hover,y=f.source,x=f.start,w=f.startPosition,C=f.target,O=f.connectionStart||w,T=f.connectionEnd||{x:u.x,y:u.y},P=O,N=T;aM(f)&&(P=T,N=O),l.drawPreview(f,p,{source:y||x,target:C||v,connectionStart:P,connectionEnd:N})}),r.on("connect.hover",q8e,function(u){var f=u.context,p=u.hover,v=f.canExecute;v!==null&&s.addMarker(p,v?iX:oX)}),r.on(["connect.out","connect.cleanup"],U8e,function(u){var f=u.hover;f&&(s.removeMarker(f,iX),s.removeMarker(f,oX))}),l&&r.on("connect.cleanup",function(u){l.cleanUp(u.context)})}sX.$inject=["injector","eventBus","canvas"];var W8e={__depends__:[Du,mm,pm],__init__:["connectPreview"],connect:["type",rX],connectPreview:["type",sX]};let G8e=new zI("ps");var Q8e=["marker-start","marker-mid","marker-end"],Y8e=["circle","ellipse","line","path","polygon","polyline","path","rect"];function kh(o,r,s,l){this._elementRegistry=o,this._canvas=s,this._styles=l}kh.$inject=["elementRegistry","eventBus","canvas","styles"],kh.prototype.cleanUp=function(){console.warn("PreviewSupport#cleanUp is deprecated and will be removed in future versions. You do not need to manually clean up previews anymore. cf. https://github.com/bpmn-io/diagram-js/pull/906")},kh.prototype.getGfx=function(o){return this._elementRegistry.getGraphics(o)},kh.prototype.addDragger=function(o,r,s,l="djs-dragger"){s=s||this.getGfx(o);var u=wG(s),f=s.getBoundingClientRect();return this._cloneMarkers(D_(u),l),ht(u,this._styles.cls(l,[],{x:f.top,y:f.left})),Qt(r,u),ht(u,"data-preview-support-element-id",o.id),u},kh.prototype.addFrame=function(o,r){var s=zt("rect",{class:"djs-resize-overlay",width:o.width,height:o.height,x:o.x,y:o.y});return Qt(r,s),ht(s,"data-preview-support-element-id",o.id),s},kh.prototype._cloneMarkers=function(o,r="djs-dragger",s=o){var l=this;if(o.childNodes)for(var u=0;u<o.childNodes.length;u++)l._cloneMarkers(o.childNodes[u],r,s);J8e(o)&&Q8e.forEach(function(f){if(ht(o,f)){var p=X8e(o,f,l._canvas.getContainer());p&&l._cloneMarker(s,o,p,f,r)}})},kh.prototype._cloneMarker=function(o,r,s,l,u="djs-dragger"){var f=[s.id,u,G8e.next()].join("-"),p=ln("marker#"+s.id,o);o=o||this._canvas._svg;var v=p||wG(s);v.id=f,_n(v).add(u);var y=ln(":scope > defs",o);y||(y=zt("defs"),Qt(o,y)),Qt(y,v);var x=Z8e(v.id);ht(r,l,x)};function X8e(o,r,s){var l=K8e(ht(o,r));return ln("marker#"+l,s||document)}function K8e(o){return o.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}function Z8e(o){return"url(#"+o+")"}function J8e(o){return Y8e.indexOf(o.nodeName)!==-1}var lM={__init__:["previewSupport"],previewSupport:["type",kh]},e7e="drop-ok",aX="drop-not-ok",lX="attach-ok",cX="new-parent",uX="create",t7e=2e3;function dX(o,r,s,l,u){function f(y,x,w,C,O){if(!x)return!1;y=S(y,function(Q){var U=Q.labelTarget;return!Q.parent&&!(tv(Q)&&y.indexOf(U)!==-1)});var T=_(y,function(Q){return!Ls(Q)}),P=!1,N=!1,j=!1;hX(y)&&(P=u.allowed("shape.attach",{position:w,shape:T,target:x})),P||(hX(y)?j=u.allowed("shape.create",{position:w,shape:T,source:C,target:x}):j=u.allowed("elements.create",{elements:y,position:w,target:x}));var q=O.connectionTarget;return j||P?(T&&C&&(N=u.allowed("connection.create",{source:q===C?T:C,target:q===C?C:T,hints:{targetParent:x,targetAttach:P}})),{attach:P,connect:N}):j===null||P===null?null:!1}function p(y,x){[lX,e7e,aX,cX].forEach(function(w){w===x?o.addMarker(y,w):o.removeMarker(y,w)})}s.on(["create.move","create.hover"],function(y){var x=y.context,w=x.elements,C=y.hover,O=x.source,T=x.hints||{};if(!C){x.canExecute=!1,x.target=null;return}fX(y);var P={x:y.x,y:y.y},N=x.canExecute=C&&f(w,C,P,O,T);C&&N!==null&&(x.target=C,N&&N.attach?p(C,lX):p(C,N?cX:aX))}),s.on(["create.end","create.out","create.cleanup"],function(y){var x=y.hover;x&&p(x,null)}),s.on("create.end",function(y){var x=y.context,w=x.source,C=x.shape,O=x.elements,T=x.target,P=x.canExecute,N=P&&P.attach,j=P&&P.connect,q=x.hints||{};if(P===!1||!T)return!1;fX(y);var Q={x:y.x,y:y.y};j?C=l.appendShape(w,C,Q,T,{attach:N,connection:j===!0?{}:j,connectionTarget:q.connectionTarget}):(O=l.createElements(O,Q,T,xe({},q,{attach:N})),C=_(O,function(U){return!Ls(U)})),xe(x,{elements:O,shape:C}),xe(y,{elements:O,shape:C})});function v(){var y=r.context();y&&y.prefix===uX&&r.cancel()}s.on("create.init",function(){s.on("elements.changed",v),s.once(["create.cancel","create.end"],t7e,function(){s.off("elements.changed",v)})}),this.start=function(y,x,w){d(x)||(x=[x]);var C=_(x,function(P){return!Ls(P)});if(C){w=xe({elements:x,hints:{},shape:C},w||{}),D(x,function(P){m(P.x)||(P.x=0),m(P.y)||(P.y=0)});var O=S(x,function(P){return!P.hidden}),T=Ol(O);D(x,function(P){Ls(P)&&(P.waypoints=$(P.waypoints,function(N){return{x:N.x-T.x-T.width/2,y:N.y-T.y-T.height/2}})),xe(P,{x:P.x-T.x-T.width/2,y:P.y-T.y-T.height/2})}),r.init(y,uX,{cursor:"grabbing",autoActivate:!0,data:{shape:C,elements:x,context:w}})}}}dX.$inject=["canvas","dragging","eventBus","modeling","rules"];function fX(o){var r=o.context,s=r.createConstraints;s&&(s.left&&(o.x=Math.max(o.x,s.left)),s.right&&(o.x=Math.min(o.x,s.right)),s.top&&(o.y=Math.max(o.y,s.top)),s.bottom&&(o.y=Math.min(o.y,s.bottom)))}function hX(o){return o&&o.length===1&&!Ls(o[0])}var n7e=750;function pX(o,r,s,l,u){function f(p){var v=zt("g");ht(v,u.cls("djs-drag-group",["no-events"]));var y=zt("g");return p.forEach(function(x){var w;x.hidden||(x.waypoints?(w=s._createContainer("connection",y),s.drawConnection(D_(w),x)):(w=s._createContainer("shape",y),s.drawShape(D_(w),x),_u(w,x.x,x.y)),l.addDragger(x,v,w))}),v}r.on("create.move",n7e,function(p){var v=p.hover,y=p.context,x=y.elements,w=y.dragGroup;w||(w=y.dragGroup=f(x));var C;v?(w.parentNode||(C=o.getActiveLayer(),Qt(C,w)),_u(w,p.x,p.y)):us(w)}),r.on("create.cleanup",function(p){var v=p.context,y=v.dragGroup;y&&us(y)})}pX.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];var mX={__depends__:[pm,lM,mm,Du],__init__:["create","createPreview"],create:["type",dX],createPreview:["type",pX]},Q_,ii,gX,ym,vX,yX,cM,uM,dM,fM,k3={},bX=[],r7e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,hM=Array.isArray;function Ph(o,r){for(var s in r)o[s]=r[s];return o}function xX(o){var r=o.parentNode;r&&r.removeChild(o)}function EX(o,r,s){var l,u,f,p={};for(f in r)f=="key"?l=r[f]:f=="ref"?u=r[f]:p[f]=r[f];if(arguments.length>2&&(p.children=arguments.length>3?Q_.call(arguments,2):s),typeof o=="function"&&o.defaultProps!=null)for(f in o.defaultProps)p[f]===void 0&&(p[f]=o.defaultProps[f]);return Y_(o,p,l,u,null)}function Y_(o,r,s,l,u){var f={type:o,props:r,key:s,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:u??++gX,__i:-1,__u:0};return u==null&&ii.vnode!=null&&ii.vnode(f),f}function X_(o){return o.children}function K_(o,r){this.props=o,this.context=r}function bm(o,r){if(r==null)return o.__?bm(o.__,o.__i+1):null;for(var s;r<o.__k.length;r++)if((s=o.__k[r])!=null&&s.__e!=null)return s.__e;return typeof o.type=="function"?bm(o):null}function wX(o){var r,s;if((o=o.__)!=null&&o.__c!=null){for(o.__e=o.__c.base=null,r=0;r<o.__k.length;r++)if((s=o.__k[r])!=null&&s.__e!=null){o.__e=o.__c.base=s.__e;break}return wX(o)}}function _X(o){(!o.__d&&(o.__d=!0)&&ym.push(o)&&!Z_.__r++||vX!==ii.debounceRendering)&&((vX=ii.debounceRendering)||yX)(Z_)}function Z_(){var o,r,s,l,u,f,p,v;for(ym.sort(cM);o=ym.shift();)o.__d&&(r=ym.length,l=void 0,f=(u=(s=o).__v).__e,p=[],v=[],s.__P&&((l=Ph({},u)).__v=u.__v+1,ii.vnode&&ii.vnode(l),pM(s.__P,l,u,s.__n,s.__P.ownerSVGElement!==void 0,32&u.__u?[f]:null,p,f??bm(u),!!(32&u.__u),v),l.__v=u.__v,l.__.__k[l.__i]=l,TX(p,l,v),l.__e!=f&&wX(l)),ym.length>r&&ym.sort(cM));Z_.__r=0}function CX(o,r,s,l,u,f,p,v,y,x,w){var C,O,T,P,N,j=l&&l.__k||bX,q=r.length;for(s.__d=y,i7e(s,r,j),y=s.__d,C=0;C<q;C++)(T=s.__k[C])!=null&&typeof T!="boolean"&&typeof T!="function"&&(O=T.__i===-1?k3:j[T.__i]||k3,T.__i=C,pM(o,T,O,u,f,p,v,y,x,w),P=T.__e,T.ref&&O.ref!=T.ref&&(O.ref&&mM(O.ref,null,T),w.push(T.ref,T.__c||P,T)),N==null&&P!=null&&(N=P),65536&T.__u||O.__k===T.__k?(y&&!y.isConnected&&(y=bm(O)),y=SX(T,y,o)):typeof T.type=="function"&&T.__d!==void 0?y=T.__d:P&&(y=P.nextSibling),T.__d=void 0,T.__u&=-196609);s.__d=y,s.__e=N}function i7e(o,r,s){var l,u,f,p,v,y=r.length,x=s.length,w=x,C=0;for(o.__k=[],l=0;l<y;l++)p=l+C,(u=o.__k[l]=(u=r[l])==null||typeof u=="boolean"||typeof u=="function"?null:typeof u=="string"||typeof u=="number"||typeof u=="bigint"||u.constructor==String?Y_(null,u,null,null,null):hM(u)?Y_(X_,{children:u},null,null,null):u.constructor===void 0&&u.__b>0?Y_(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u)!=null?(u.__=o,u.__b=o.__b+1,v=o7e(u,s,p,w),u.__i=v,f=null,v!==-1&&(w--,(f=s[v])&&(f.__u|=131072)),f==null||f.__v===null?(v==-1&&C--,typeof u.type!="function"&&(u.__u|=65536)):v!==p&&(v===p+1?C++:v>p?w>y-p?C+=v-p:C--:v<p?v==p-1&&(C=v-p):C=0,v!==l+C&&(u.__u|=65536))):(f=s[p])&&f.key==null&&f.__e&&!(131072&f.__u)&&(f.__e==o.__d&&(o.__d=bm(f)),gM(f,f,!1),s[p]=null,w--);if(w)for(l=0;l<x;l++)(f=s[l])!=null&&!(131072&f.__u)&&(f.__e==o.__d&&(o.__d=bm(f)),gM(f,f))}function SX(o,r,s){var l,u;if(typeof o.type=="function"){for(l=o.__k,u=0;l&&u<l.length;u++)l[u]&&(l[u].__=o,r=SX(l[u],r,s));return r}o.__e!=r&&(s.insertBefore(o.__e,r||null),r=o.__e);do r=r&&r.nextSibling;while(r!=null&&r.nodeType===8);return r}function o7e(o,r,s,l){var u=o.key,f=o.type,p=s-1,v=s+1,y=r[s];if(y===null||y&&u==y.key&&f===y.type&&!(131072&y.__u))return s;if(l>(y!=null&&!(131072&y.__u)?1:0))for(;p>=0||v<r.length;){if(p>=0){if((y=r[p])&&!(131072&y.__u)&&u==y.key&&f===y.type)return p;p--}if(v<r.length){if((y=r[v])&&!(131072&y.__u)&&u==y.key&&f===y.type)return v;v++}}return-1}function OX(o,r,s){r[0]==="-"?o.setProperty(r,s??""):o[r]=s==null?"":typeof s!="number"||r7e.test(r)?s:s+"px"}function J_(o,r,s,l,u){var f;e:if(r==="style")if(typeof s=="string")o.style.cssText=s;else{if(typeof l=="string"&&(o.style.cssText=l=""),l)for(r in l)s&&r in s||OX(o.style,r,"");if(s)for(r in s)l&&s[r]===l[r]||OX(o.style,r,s[r])}else if(r[0]==="o"&&r[1]==="n")f=r!==(r=r.replace(/(PointerCapture)$|Capture$/i,"$1")),r=r.toLowerCase()in o||r==="onFocusOut"||r==="onFocusIn"?r.toLowerCase().slice(2):r.slice(2),o.l||(o.l={}),o.l[r+f]=s,s?l?s.u=l.u:(s.u=uM,o.addEventListener(r,f?fM:dM,f)):o.removeEventListener(r,f?fM:dM,f);else{if(u)r=r.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(r!="width"&&r!="height"&&r!="href"&&r!="list"&&r!="form"&&r!="tabIndex"&&r!="download"&&r!="rowSpan"&&r!="colSpan"&&r!="role"&&r in o)try{o[r]=s??"";break e}catch{}typeof s=="function"||(s==null||s===!1&&r[4]!=="-"?o.removeAttribute(r):o.setAttribute(r,s))}}function DX(o){return function(r){if(this.l){var s=this.l[r.type+o];if(r.t==null)r.t=uM++;else if(r.t<s.u)return;return s(ii.event?ii.event(r):r)}}}function pM(o,r,s,l,u,f,p,v,y,x){var w,C,O,T,P,N,j,q,Q,U,H,X,Y,ae,te,ve=r.type;if(r.constructor!==void 0)return null;128&s.__u&&(y=!!(32&s.__u),f=[v=r.__e=s.__e]),(w=ii.__b)&&w(r);e:if(typeof ve=="function")try{if(q=r.props,Q=(w=ve.contextType)&&l[w.__c],U=w?Q?Q.props.value:w.__:l,s.__c?j=(C=r.__c=s.__c).__=C.__E:("prototype"in ve&&ve.prototype.render?r.__c=C=new ve(q,U):(r.__c=C=new K_(q,U),C.constructor=ve,C.render=a7e),Q&&Q.sub(C),C.props=q,C.state||(C.state={}),C.context=U,C.__n=l,O=C.__d=!0,C.__h=[],C._sb=[]),C.__s==null&&(C.__s=C.state),ve.getDerivedStateFromProps!=null&&(C.__s==C.state&&(C.__s=Ph({},C.__s)),Ph(C.__s,ve.getDerivedStateFromProps(q,C.__s))),T=C.props,P=C.state,C.__v=r,O)ve.getDerivedStateFromProps==null&&C.componentWillMount!=null&&C.componentWillMount(),C.componentDidMount!=null&&C.__h.push(C.componentDidMount);else{if(ve.getDerivedStateFromProps==null&&q!==T&&C.componentWillReceiveProps!=null&&C.componentWillReceiveProps(q,U),!C.__e&&(C.shouldComponentUpdate!=null&&C.shouldComponentUpdate(q,C.__s,U)===!1||r.__v===s.__v)){for(r.__v!==s.__v&&(C.props=q,C.state=C.__s,C.__d=!1),r.__e=s.__e,r.__k=s.__k,r.__k.forEach(function(be){be&&(be.__=r)}),H=0;H<C._sb.length;H++)C.__h.push(C._sb[H]);C._sb=[],C.__h.length&&p.push(C);break e}C.componentWillUpdate!=null&&C.componentWillUpdate(q,C.__s,U),C.componentDidUpdate!=null&&C.__h.push(function(){C.componentDidUpdate(T,P,N)})}if(C.context=U,C.props=q,C.__P=o,C.__e=!1,X=ii.__r,Y=0,"prototype"in ve&&ve.prototype.render){for(C.state=C.__s,C.__d=!1,X&&X(r),w=C.render(C.props,C.state,C.context),ae=0;ae<C._sb.length;ae++)C.__h.push(C._sb[ae]);C._sb=[]}else do C.__d=!1,X&&X(r),w=C.render(C.props,C.state,C.context),C.state=C.__s;while(C.__d&&++Y<25);C.state=C.__s,C.getChildContext!=null&&(l=Ph(Ph({},l),C.getChildContext())),O||C.getSnapshotBeforeUpdate==null||(N=C.getSnapshotBeforeUpdate(T,P)),CX(o,hM(te=w!=null&&w.type===X_&&w.key==null?w.props.children:w)?te:[te],r,s,l,u,f,p,v,y,x),C.base=r.__e,r.__u&=-161,C.__h.length&&p.push(C),j&&(C.__E=C.__=null)}catch(be){r.__v=null,y||f!=null?(r.__e=v,r.__u|=y?160:32,f[f.indexOf(v)]=null):(r.__e=s.__e,r.__k=s.__k),ii.__e(be,r,s)}else f==null&&r.__v===s.__v?(r.__k=s.__k,r.__e=s.__e):r.__e=s7e(s.__e,r,s,l,u,f,p,y,x);(w=ii.diffed)&&w(r)}function TX(o,r,s){r.__d=void 0;for(var l=0;l<s.length;l++)mM(s[l],s[++l],s[++l]);ii.__c&&ii.__c(r,o),o.some(function(u){try{o=u.__h,u.__h=[],o.some(function(f){f.call(u)})}catch(f){ii.__e(f,u.__v)}})}function s7e(o,r,s,l,u,f,p,v,y){var x,w,C,O,T,P,N,j=s.props,q=r.props,Q=r.type;if(Q==="svg"&&(u=!0),f!=null){for(x=0;x<f.length;x++)if((T=f[x])&&"setAttribute"in T==!!Q&&(Q?T.localName===Q:T.nodeType===3)){o=T,f[x]=null;break}}if(o==null){if(Q===null)return document.createTextNode(q);o=u?document.createElementNS("http://www.w3.org/2000/svg",Q):document.createElement(Q,q.is&&q),f=null,v=!1}if(Q===null)j===q||v&&o.data===q||(o.data=q);else{if(f=f&&Q_.call(o.childNodes),j=s.props||k3,!v&&f!=null)for(j={},x=0;x<o.attributes.length;x++)j[(T=o.attributes[x]).name]=T.value;for(x in j)T=j[x],x=="children"||(x=="dangerouslySetInnerHTML"?C=T:x==="key"||x in q||J_(o,x,null,T,u));for(x in q)T=q[x],x=="children"?O=T:x=="dangerouslySetInnerHTML"?w=T:x=="value"?P=T:x=="checked"?N=T:x==="key"||v&&typeof T!="function"||j[x]===T||J_(o,x,T,j[x],u);if(w)v||C&&(w.__html===C.__html||w.__html===o.innerHTML)||(o.innerHTML=w.__html),r.__k=[];else if(C&&(o.innerHTML=""),CX(o,hM(O)?O:[O],r,s,l,u&&Q!=="foreignObject",f,p,f?f[0]:s.__k&&bm(s,0),v,y),f!=null)for(x=f.length;x--;)f[x]!=null&&xX(f[x]);v||(x="value",P!==void 0&&(P!==o[x]||Q==="progress"&&!P||Q==="option"&&P!==j[x])&&J_(o,x,P,j[x],!1),x="checked",N!==void 0&&N!==o[x]&&J_(o,x,N,j[x],!1))}return o}function mM(o,r,s){try{typeof o=="function"?o(r):o.current=r}catch(l){ii.__e(l,s)}}function gM(o,r,s){var l,u;if(ii.unmount&&ii.unmount(o),(l=o.ref)&&(l.current&&l.current!==o.__e||mM(l,null,r)),(l=o.__c)!=null){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(f){ii.__e(f,r)}l.base=l.__P=null}if(l=o.__k)for(u=0;u<l.length;u++)l[u]&&gM(l[u],r,s||typeof o.type!="function");s||o.__e==null||xX(o.__e),o.__c=o.__=o.__e=o.__d=void 0}function a7e(o,r,s){return this.constructor(o,s)}function kX(o,r,s){var l,u,f,p;ii.__&&ii.__(o,r),u=(l=typeof s=="function")?null:r.__k,f=[],p=[],pM(r,o=(!l&&s||r).__k=EX(X_,null,[o]),u||k3,k3,r.ownerSVGElement!==void 0,!l&&s?[s]:u?null:r.firstChild?Q_.call(r.childNodes):null,f,!l&&s?s:u?u.__e:r.firstChild,l,p),TX(f,o,p)}Q_=bX.slice,ii={__e:function(o,r,s,l){for(var u,f,p;r=r.__;)if((u=r.__c)&&!u.__)try{if((f=u.constructor)&&f.getDerivedStateFromError!=null&&(u.setState(f.getDerivedStateFromError(o)),p=u.__d),u.componentDidCatch!=null&&(u.componentDidCatch(o,l||{}),p=u.__d),p)return u.__E=u}catch(v){o=v}throw o}},gX=0,K_.prototype.setState=function(o,r){var s;s=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ph({},this.state),typeof o=="function"&&(o=o(Ph({},s),this.props)),o&&Ph(s,o),o!=null&&this.__v&&(r&&this._sb.push(r),_X(this))},K_.prototype.forceUpdate=function(o){this.__v&&(this.__e=!0,o&&this.__h.push(o),_X(this))},K_.prototype.render=X_,ym=[],yX=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,cM=function(o,r){return o.__v.__b-r.__v.__b},Z_.__r=0,uM=0,dM=DX(!1),fM=DX(!0);var PX=function(o,r,s,l){var u;r[0]=0;for(var f=1;f<r.length;f++){var p=r[f++],v=r[f]?(r[0]|=p?1:2,s[r[f++]]):r[++f];p===3?l[0]=v:p===4?l[1]=Object.assign(l[1]||{},v):p===5?(l[1]=l[1]||{})[r[++f]]=v:p===6?l[1][r[++f]]+=v+"":p?(u=o.apply(v,PX(o,v,s,["",null])),l.push(u),v[0]?r[0]|=2:(r[f-2]=0,r[f]=u)):l.push(v)}return l},IX=new Map;function l7e(o){var r=IX.get(this);return r||(r=new Map,IX.set(this,r)),(r=PX(this,r.get(o)||(r.set(o,r=function(s){for(var l,u,f=1,p="",v="",y=[0],x=function(O){f===1&&(O||(p=p.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?y.push(0,O,p):f===3&&(O||p)?(y.push(3,O,p),f=2):f===2&&p==="..."&&O?y.push(4,O,0):f===2&&p&&!O?y.push(5,0,!0,p):f>=5&&((p||!O&&f===5)&&(y.push(f,0,p,u),f=6),O&&(y.push(f,O,0,u),f=6)),p=""},w=0;w<s.length;w++){w&&(f===1&&x(),x(w));for(var C=0;C<s[w].length;C++)l=s[w][C],f===1?l==="<"?(x(),y=[y],f=3):p+=l:f===4?p==="--"&&l===">"?(f=1,p=""):p=l+p[0]:v?l===v?v="":p+=l:l==='"'||l==="'"?v=l:l===">"?(x(),f=1):f&&(l==="="?(f=5,u=p,p=""):l==="/"&&(f<5||s[w][C+1]===">")?(x(),f===3&&(y=y[0]),f=y,(y=y[0]).push(2,0,f),f=0):l===" "||l==="	"||l===`
`||l==="\r"?(x(),f=2):p+=l),f===3&&p==="!--"&&(f=4,y=y[0])}return x(),y}(o)),r),arguments,[])).length>1?r:r[0]}var oi=l7e.bind(EX),fv,hi,vM,MX,P3=0,AX=[],eC=[],Si=ii,RX=Si.__b,LX=Si.__r,$X=Si.diffed,NX=Si.__c,FX=Si.unmount,BX=Si.__;function tC(o,r){Si.__h&&Si.__h(hi,o,P3||r),P3=0;var s=hi.__H||(hi.__H={__:[],__h:[]});return o>=s.__.length&&s.__.push({__V:eC}),s.__[o]}function yM(o){return P3=1,c7e(zX,o)}function c7e(o,r,s){var l=tC(fv++,2);if(l.t=o,!l.__c&&(l.__=[zX(void 0,r),function(v){var y=l.__N?l.__N[0]:l.__[0],x=l.t(y,v);y!==x&&(l.__N=[x,l.__[1]],l.__c.setState({}))}],l.__c=hi,!hi.u)){var u=function(v,y,x){if(!l.__c.__H)return!0;var w=l.__c.__H.__.filter(function(O){return!!O.__c});if(w.every(function(O){return!O.__N}))return!f||f.call(this,v,y,x);var C=!1;return w.forEach(function(O){if(O.__N){var T=O.__[0];O.__=O.__N,O.__N=void 0,T!==O.__[0]&&(C=!0)}}),!(!C&&l.__c.props===v)&&(!f||f.call(this,v,y,x))};hi.u=!0;var f=hi.shouldComponentUpdate,p=hi.componentWillUpdate;hi.componentWillUpdate=function(v,y,x){if(this.__e){var w=f;f=void 0,u(v,y,x),f=w}p&&p.call(this,v,y,x)},hi.shouldComponentUpdate=u}return l.__N||l.__}function bM(o,r){var s=tC(fv++,3);!Si.__s&&wM(s.__H,r)&&(s.__=o,s.i=r,hi.__H.__h.push(s))}function xM(o,r){var s=tC(fv++,4);!Si.__s&&wM(s.__H,r)&&(s.__=o,s.i=r,hi.__h.push(s))}function jX(o){return P3=5,hv(function(){return{current:o}},[])}function hv(o,r){var s=tC(fv++,7);return wM(s.__H,r)?(s.__V=o(),s.i=r,s.__h=o,s.__V):s.__}function I3(o,r){return P3=8,hv(function(){return o},r)}function u7e(){for(var o;o=AX.shift();)if(o.__P&&o.__H)try{o.__H.__h.forEach(nC),o.__H.__h.forEach(EM),o.__H.__h=[]}catch(r){o.__H.__h=[],Si.__e(r,o.__v)}}Si.__b=function(o){hi=null,RX&&RX(o)},Si.__=function(o,r){o&&r.__k&&r.__k.__m&&(o.__m=r.__k.__m),BX&&BX(o,r)},Si.__r=function(o){LX&&LX(o),fv=0;var r=(hi=o.__c).__H;r&&(vM===hi?(r.__h=[],hi.__h=[],r.__.forEach(function(s){s.__N&&(s.__=s.__N),s.__V=eC,s.__N=s.i=void 0})):(r.__h.forEach(nC),r.__h.forEach(EM),r.__h=[],fv=0)),vM=hi},Si.diffed=function(o){$X&&$X(o);var r=o.__c;r&&r.__H&&(r.__H.__h.length&&(AX.push(r)!==1&&MX===Si.requestAnimationFrame||((MX=Si.requestAnimationFrame)||d7e)(u7e)),r.__H.__.forEach(function(s){s.i&&(s.__H=s.i),s.__V!==eC&&(s.__=s.__V),s.i=void 0,s.__V=eC})),vM=hi=null},Si.__c=function(o,r){r.some(function(s){try{s.__h.forEach(nC),s.__h=s.__h.filter(function(l){return!l.__||EM(l)})}catch(l){r.some(function(u){u.__h&&(u.__h=[])}),r=[],Si.__e(l,s.__v)}}),NX&&NX(o,r)},Si.unmount=function(o){FX&&FX(o);var r,s=o.__c;s&&s.__H&&(s.__H.__.forEach(function(l){try{nC(l)}catch(u){r=u}}),s.__H=void 0,r&&Si.__e(r,s.__v))};var VX=typeof requestAnimationFrame=="function";function d7e(o){var r,s=function(){clearTimeout(l),VX&&cancelAnimationFrame(r),setTimeout(o)},l=setTimeout(s,100);VX&&(r=requestAnimationFrame(s))}function nC(o){var r=hi,s=o.__c;typeof s=="function"&&(o.__c=void 0,s()),hi=r}function EM(o){var r=hi;o.__c=o.__(),hi=r}function wM(o,r){return!o||o.length!==r.length||r.some(function(s,l){return s!==o[l]})}function zX(o,r){return typeof r=="function"?r(o):r}function HX(o){var r,s,l="";if(typeof o=="string"||typeof o=="number")l+=o;else if(typeof o=="object")if(Array.isArray(o)){var u=o.length;for(r=0;r<u;r++)o[r]&&(s=HX(o[r]))&&(l&&(l+=" "),l+=s)}else for(s in o)o[s]&&(l&&(l+=" "),l+=s);return l}function rC(){for(var o,r,s=0,l="",u=arguments.length;s<u;s++)(o=arguments[s])&&(r=HX(o))&&(l&&(l+=" "),l+=r);return l}function f7e(o){let{headerEntries:r,onSelect:s,selectedEntry:l,setSelectedEntry:u,title:f}=o,p=hv(()=>h7e(r),[r]);return oi`
    <div class="djs-popup-header">
      <h3 class="djs-popup-title" title=${f}>${f}</h3>
      ${p.map(v=>oi`
        <ul key=${v.id} class="djs-popup-header-group" data-header-group=${v.id}>

          ${v.entries.map(y=>oi`
            <li key=${y.id}>
              <${y.action?"button":"span"}
                class=${p7e(y,y===l)}
                onClick=${x=>y.action&&s(x,y)}
                title=${y.title||y.label}
                data-id=${y.id}
                onMouseEnter=${()=>y.action&&u(y)}
                onMouseLeave=${()=>y.action&&u(null)}
                onFocus=${()=>y.action&&u(y)}
                onBlur=${()=>y.action&&u(null)}
              >
                ${y.imageUrl&&oi`<img class="djs-popup-entry-icon" src=${y.imageUrl} alt="" />`||y.imageHtml&&oi`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:y.imageHtml}} />`}
                ${y.label?oi`
                  <span class="djs-popup-label">${y.label}</span>
                `:null}
              </${y.action?"button":"span"}>
            </li>
          `)}
        </ul>
      `)}
    </div>
  `}function h7e(o){return o.reduce((r,s)=>{let l=s.group||"default",u=r.find(f=>f.id===l);return u?u.entries.push(s):r.push({id:l,entries:[s]}),r},[])}function p7e(o,r){return rC("entry",o.className,o.active?"active":"",o.disabled?"disabled":"",r?"selected":"")}function m7e(o){let{entry:r,selected:s,onMouseEnter:l,onMouseLeave:u,onAction:f}=o;return oi`
    <li
      class=${rC("entry",{selected:s})}
      data-id=${r.id}
      title=${r.title||r.label}
      tabIndex="0"
      onClick=${f}
      onFocus=${l}
      onBlur=${u}
      onMouseEnter=${l}
      onMouseLeave=${u}
      onDragStart=${p=>f(p,r,"dragstart")}
      aria-role="button"
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${rC("djs-popup-entry-name",r.className)}
        >
          ${r.imageUrl&&oi`<img class="djs-popup-entry-icon" src=${r.imageUrl} alt="" />`||r.imageHtml&&oi`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:r.imageHtml}} />`}

          ${r.label?oi`
            <span class="djs-popup-label">
              ${r.label}
            </span>
          `:null}
        </span>
        ${r.description&&oi`
          <span
            class="djs-popup-entry-description"
            title=${r.description}
          >
            ${r.description}
          </span>
        `}
      </div>
      ${r.documentationRef&&oi`
        <div class="djs-popup-entry-docs">
          <a
            href="${r.documentationRef}"
            onClick=${p=>p.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function g7e(o){let v=o,{selectedEntry:r,setSelectedEntry:s,entries:l}=v,u=Ae(v,["selectedEntry","setSelectedEntry","entries"]),f=jX(),p=hv(()=>v7e(l),[l]);return xM(()=>{let y=f.current;if(!y)return;let x=y.querySelector(".selected");x&&y7e(x)},[r]),oi`
    <div class="djs-popup-results" ref=${f}>
      ${p.map(y=>oi`
        ${y.name&&oi`
          <div key=${y.id} class="entry-header" title=${y.name}>
            ${y.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${y.id}>
          ${y.entries.map(x=>oi`
            <${m7e}
              key=${x.id}
              entry=${x}
              selected=${x===r}
              onMouseEnter=${()=>s(x)}
              onMouseLeave=${()=>s(null)}
              ...${u}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function v7e(o){let r=[],s=f=>r.find(p=>f.id===p.id),l=f=>!!s(f),u=f=>typeof f=="string"?{id:f}:f;return o.forEach(f=>{let p=f.group?u(f.group):{id:"default"};l(p)?s(p).entries.push(f):r.push(Me(se({},p),{entries:[f]}))}),r}function y7e(o){typeof o.scrollIntoViewIfNeeded=="function"?o.scrollIntoViewIfNeeded():o.scrollIntoView({scrollMode:"if-needed",block:"nearest"})}function b7e(o){let{onClose:r,onSelect:s,className:l,headerEntries:u,position:f,title:p,width:v,scale:y,search:x,emptyPlaceholder:w,entries:C,onOpened:O,onClosed:T}=o,P=hv(()=>a(x)?C.length>5:!1,[x,C]),[N,j]=yM(""),q=I3((Ce,Te)=>{if(!P)return Ce;let Re=it=>{if(!Te)return(it.rank||0)>=0;if(it.searchable===!1)return!1;let Er=[it.description||"",it.label||"",it.search||""].map(On=>On.toLowerCase());return Te.toLowerCase().split(/\s/g).every(On=>Er.some(qt=>qt.includes(On)))};return Ce.filter(Re)},[P]),[Q,U]=yM(q(C,N)),[H,X]=yM(Q[0]),Y=I3(Ce=>{(!H||!Ce.includes(H))&&X(Ce[0]),U(Ce)},[H,U,X]);bM(()=>{Y(q(C,N))},[N,C]);let ae=I3(Ce=>{let Re=Q.indexOf(H)+Ce;Re<0&&(Re=Q.length-1),Re>=Q.length&&(Re=0),X(Q[Re])},[Q,H,X]),te=I3(Ce=>{if(Ce.key==="Enter"&&H)return s(Ce,H);if(Ce.key==="ArrowUp")return ae(-1),Ce.preventDefault();if(Ce.key==="ArrowDown")return ae(1),Ce.preventDefault()},[s,H,ae]),ve=I3(Ce=>{Z1(Ce.target,"input")&&j(()=>Ce.target.value)},[j]);bM(()=>(O(),()=>{T()}),[]);let be=hv(()=>p||u.length>0,[p,u]);return oi`
    <${UX}
      onClose=${r}
      onKeyup=${ve}
      onKeydown=${te}
      className=${l}
      position=${f}
      width=${v}
      scale=${y}
    >
      ${be&&oi`
        <${f7e}
          headerEntries=${u}
          onSelect=${s}
          selectedEntry=${H}
          setSelectedEntry=${X}
          title=${p}
        />
      `}
      ${C.length>0&&oi`
        <div class="djs-popup-body">

          ${P&&oi`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input type="text" aria-label="${p}" />
          </div>
          `}

          <${g7e}
            entries=${Q}
            selectedEntry=${H}
            setSelectedEntry=${X}
            onAction=${s}
          />
        </div>
      `}
    ${w&&Q.length===0&&oi`
      <div class="djs-popup-no-results">${g(w)?w(N):w}</div>
    `}
    </${UX}>
  `}function UX(o){let{onClose:r,onKeydown:s,onKeyup:l,className:u,children:f,position:p}=o,v=jX();return xM(()=>{if(typeof p!="function")return;let y=v.current,x=p(y);y.style.left=`${x.x}px`,y.style.top=`${x.y}px`},[v.current,p]),xM(()=>{let y=v.current;if(!y)return;(y.querySelector("input")||y).focus()},[]),bM(()=>{let y=w=>{if(w.key==="Escape")return w.preventDefault(),r()},x=w=>{if(!Bo(w.target,".djs-popup",!0))return r()};return document.documentElement.addEventListener("keydown",y),document.body.addEventListener("click",x),()=>{document.documentElement.removeEventListener("keydown",y),document.body.removeEventListener("click",x)}},[]),oi`
    <div
      class=${rC("djs-popup",u)}
      style=${x7e(o)}
      onKeydown=${s}
      onKeyup=${l}
      ref=${v}
      tabIndex="-1"
    >
      ${f}
    </div>
  `}function x7e(o){return{transform:`scale(${o.scale})`,width:`${o.width}px`,"transform-origin":"top left"}}var E7e="data-id",qX=["contextPad.close","canvas.viewbox.changing","commandStack.changed"],w7e=1e3;function Rr(o,r,s){this._eventBus=r,this._canvas=s,this._current=null;var l=a(o&&o.scale)?o.scale:{min:1,max:1};this._config={scale:l},r.on("diagram.destroy",()=>{this.close()}),r.on("element.changed",u=>{let f=this.isOpen()&&this._current.target;u.element===f&&this.refresh()})}Rr.$inject=["config.popupMenu","eventBus","canvas"],Rr.prototype._render=function(){let{position:o,providerId:r,entries:s,headerEntries:l,emptyPlaceholder:u,options:f}=this._current,p=Object.entries(s).map(([O,T])=>se({id:O},T)),v=Object.entries(l).map(([O,T])=>se({id:O},T)),y=o&&(O=>this._ensureVisible(O,o)),x=this._updateScale(this._current.container);kX(oi`
      <${b7e}
        onClose=${O=>this.close(O)}
        onSelect=${(O,T,P)=>this.trigger(O,T,P)}
        position=${y}
        className=${r}
        entries=${p}
        headerEntries=${v}
        emptyPlaceholder=${u}
        scale=${x}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        ...${se({},f)}
      />
    `,this._current.container)},Rr.prototype.open=function(o,r,s,l){if(!o)throw new Error("target is missing");if(!r)throw new Error("providers for <"+r+"> not found");if(!s)throw new Error("position is missing");this.isOpen()&&this.close();let{entries:u,headerEntries:f,emptyPlaceholder:p}=this._getContext(o,r);this._current={position:s,providerId:r,target:o,entries:u,headerEntries:f,emptyPlaceholder:p,container:this._createContainer({provider:r}),options:l},this._emit("open"),this._bindAutoClose(),this._render()},Rr.prototype.refresh=function(){if(!this.isOpen())return;let{target:o,providerId:r}=this._current,{entries:s,headerEntries:l,emptyPlaceholder:u}=this._getContext(o,r);this._current=Me(se({},this._current),{entries:s,headerEntries:l,emptyPlaceholder:u}),this._emit("refresh"),this._render()},Rr.prototype._getContext=function(o,r){let s=this._getProviders(r);if(!s||!s.length)throw new Error("provider for <"+r+"> not found");let l=this._getEntries(o,s),u=this._getHeaderEntries(o,s),f=this._getEmptyPlaceholder(s);return{entries:l,headerEntries:u,emptyPlaceholder:f,empty:!(Object.keys(l).length||Object.keys(u).length)}},Rr.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._current=null)},Rr.prototype.reset=function(){let o=this._current.container;kX(null,o),As(o)},Rr.prototype._emit=function(o,r){this._eventBus.fire(`popupMenu.${o}`,r)},Rr.prototype._onOpened=function(){this._emit("opened")},Rr.prototype._onClosed=function(){this._emit("closed")},Rr.prototype._createContainer=function(o){var r=this._canvas,s=r.getContainer();let l=Gn(`<div class="djs-popup-parent djs-scrollable" data-popup=${o.provider}></div>`);return s.appendChild(l),l},Rr.prototype._bindAutoClose=function(){this._eventBus.once(qX,this.close,this)},Rr.prototype._unbindAutoClose=function(){this._eventBus.off(qX,this.close,this)},Rr.prototype._updateScale=function(){var o=this._canvas.zoom(),r=this._config.scale,s,l,u=o;return r!==!0&&(r===!1?(s=1,l=1):(s=r.min,l=r.max),a(s)&&o<s&&(u=s),a(l)&&o>l&&(u=l)),u},Rr.prototype._ensureVisible=function(o,r){var s=document.documentElement.getBoundingClientRect(),l=o.getBoundingClientRect(),u={},f=r.x,p=r.y;return r.x+l.width>s.width&&(u.x=!0),r.y+l.height>s.height&&(u.y=!0),u.x&&u.y?(f=r.x-l.width,p=r.y-l.height):u.x?(f=r.x-l.width,p=r.y):u.y&&r.y<l.height?(f=r.x,p=10):u.y&&(f=r.x,p=r.y-l.height),r.y<s.top&&(p=r.y+l.height),{x:f,y:p}},Rr.prototype.isEmpty=function(o,r){if(!o)throw new Error("target is missing");if(!r)throw new Error("provider ID is missing");let s=this._getProviders(r);return!s||!s.length?!0:this._getContext(o,r).empty},Rr.prototype.registerProvider=function(o,r,s){s||(s=r,r=w7e),this._eventBus.on("popupMenu.getProviders."+o,r,function(l){l.providers.push(s)})},Rr.prototype._getProviders=function(o){var r=this._eventBus.createEvent({type:"popupMenu.getProviders."+o,providers:[]});return this._eventBus.fire(r),r.providers},Rr.prototype._getEntries=function(o,r){var s={};return D(r,function(l){if(!l.getPopupMenuEntries){D(l.getEntries(o),function(f){var p=f.id;if(!p)throw new Error("entry ID is missing");s[p]=ne(f,["id"])});return}var u=l.getPopupMenuEntries(o);g(u)?s=u(s):D(u,function(f,p){s[p]=f})}),s},Rr.prototype._getHeaderEntries=function(o,r){var s={};return D(r,function(l){if(!l.getPopupMenuHeaderEntries){if(!l.getHeaderEntries)return;D(l.getHeaderEntries(o),function(f){var p=f.id;if(!p)throw new Error("entry ID is missing");s[p]=ne(f,["id"])});return}var u=l.getPopupMenuHeaderEntries(o);g(u)?s=u(s):D(u,function(f,p){s[p]=f})}),s},Rr.prototype._getEmptyPlaceholder=function(o){let r=o.find(s=>g(s.getEmptyPlaceholder));return r&&r.getEmptyPlaceholder()},Rr.prototype.isOpen=function(){return!!this._current},Rr.prototype.trigger=function(o,r,s="click"){if(o.preventDefault(),!r){let u=Bo(o.delegateTarget||o.target,".entry",!0),f=cs(u,E7e);r=se({id:f},this._getEntry(f))}let l=r.action;if(this._emit("trigger",{entry:r,event:o})!==!1){if(g(l)){if(s==="click")return l(o,r)}else if(l[s])return l[s](o,r)}},Rr.prototype._getEntry=function(o){var r=this._current.entries[o]||this._current.headerEntries[o];if(!r)throw new Error("entry not found");return r};var _7e={__init__:["popupMenu"],popupMenu:["type",Rr]},WX=Math.round;function _M(o,r){this._modeling=o,this._eventBus=r}_M.$inject=["modeling","eventBus"],_M.prototype.replaceElement=function(o,r,s){if(o.waypoints)return null;var l=this._modeling,u=this._eventBus;u.fire("replace.start",{element:o,attrs:r,hints:s});var f=r.width||o.width,p=r.height||o.height,v=r.x||o.x,y=r.y||o.y,x=WX(v+f/2),w=WX(y+p/2),C=l.replaceShape(o,xe({},r,{x,y:w,width:f,height:p}),s);return u.fire("replace.end",{element:o,newElement:C,hints:s}),C};function GX(o,r){r.on("replace.end",500,function(s){let{newElement:l,hints:u={}}=s;u.select!==!1&&o.select(l)})}GX.$inject=["selection","eventBus"];var C7e={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",GX],replace:["type",_M]};function QX(o,r,s,l){function u(f,p,v){v=v||{};var y=p.type,x=f.businessObject,w=o.create(y),C={type:y,businessObject:w};if(C.width=f.width,C.height=f.height,w.name=x.name,p.table){var O=o.create("dmn:DecisionTable");O.$parent=w;var T=o.create("dmn:OutputClause");T.typeRef="string",T.$parent=O,O.output=[T];var P=o.create("dmn:InputClause");P.$parent=O;var N=o.create("dmn:LiteralExpression",{typeRef:"string"});P.inputExpression=N,N.$parent=P,O.input=[P],YX(w,O,o)}if(p.expression){var j=o.create("dmn:LiteralExpression"),q=o.create("dmn:InformationItem");YX(w,j,o,q)}return r.replaceElement(f,C,v)}this.replaceElement=u}QX.$inject=["drdFactory","replace","selection","modeling"];function YX(o,r,s,l){if(we(o,"dmn:Decision"))o.decisionLogic=r,r.$parent=o;else if(we(o,"dmn:BusinessKnowledgeModel")){var u=s.create("dmn:FunctionDefinition",{body:r});o.encapsulatedLogic=u,u.$parent=o,r.$parent=u}l&&(o.variable=l,l.$parent=o)}var S7e={__depends__:[C7e,Du],drdReplace:["type",QX]},XX={DECISION:[{label:"Empty",actionName:"replace-with-empty-decision",className:"dmn-icon-clear",target:{type:"dmn:Decision",table:!1,expression:!1}},{label:"Decision table",actionName:"replace-with-decision-table",className:"dmn-icon-decision-table",target:{type:"dmn:Decision",table:!0,expression:!1}},{label:"Literal expression",actionName:"replace-with-literal-expression",className:"dmn-icon-literal-expression",target:{type:"dmn:Decision",table:!1,expression:!0}}],BKM:[{label:"Empty",actionName:"replace-with-empty",className:"dmn-icon-clear",target:{type:"dmn:BusinessKnowledgeModel",table:!1,expression:!1}},{label:"Literal Expression",actionName:"replace-with-literal-expression",className:"dmn-icon-literal-expression",target:{type:"dmn:BusinessKnowledgeModel",table:!1,expression:!0}}]};function xm(o,r,s,l,u,f){this._popupMenu=o,this._modeling=r,this._moddle=s,this._drdReplace=l,this._rules=u,this._translate=f,this.register()}xm.$inject=["popupMenu","modeling","moddle","drdReplace","rules","translate"],xm.prototype.register=function(){this._popupMenu.registerProvider("dmn-replace",this)},xm.prototype.getEntries=function(o){var r=o.businessObject,s=this._rules,l,u;return s.allowed("shape.replace",{element:o})?we(r,"dmn:Decision")?(u=g_(r),l=S(XX.DECISION,function(f){var p=f.actionName==="replace-with-empty-decision"&&u,v=f.actionName==="replace-with-decision-table"&&!we(u,"dmn:DecisionTable"),y=f.actionName==="replace-with-literal-expression"&&!we(u,"dmn:LiteralExpression");return p||v||y}),this._createEntries(o,l)):we(r,"dmn:BusinessKnowledgeModel")?(u=g_(r),l=S(XX.BKM,function(f){var p=f.actionName==="replace-with-empty"&&u,v=f.actionName==="replace-with-decision-table"&&!we(u,"dmn:DecisionTable"),y=f.actionName==="replace-with-literal-expression"&&!we(u,"dmn:LiteralExpression");return p||v||y}),this._createEntries(o,l)):[]:[]},xm.prototype._createEntries=function(o,r){var s=[],l=this;return D(r,function(u){var f=l._createMenuEntry(u,o);s.push(f)}),s},xm.prototype._createMenuEntry=function(o,r,s){var l=this._drdReplace.replaceElement,u=this._translate,f=function(){return l(r,o.target)};s=s||f;var p={label:u(o.label),className:o.className,id:o.actionName,action:s};return p},xm.prototype.getHeaderEntries=function(o){return[]};var O7e={__depends__:[Ha,_7e,S7e],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",xm]};function CM(o,r,s,l,u,f,p,v,y,x,w,C){w=w||{},r.registerProvider(this),this._contextPad=r,this._modeling=s,this._elementFactory=l,this._connect=u,this._create=f,this._rules=p,this._popupMenu=v,this._canvas=y,this._translate=x,w.autoPlace!==!1&&(this._autoPlace=C.get("autoPlace",!1)),o.on("create.end",250,function(O){var T=O.context.shape;if(FI(O)){var P=r.getEntries(T);P.replace&&P.replace.action.click(O,T)}})}CM.$inject=["eventBus","contextPad","modeling","elementFactory","connect","create","rules","popupMenu","canvas","translate","config.contextPad","injector"],CM.prototype.getContextPadEntries=function(o){var r=this._modeling,s=this._elementFactory,l=this._connect,u=this._create,f=this._popupMenu,p=this._contextPad,v=this._rules,y=this._translate,x=this._autoPlace,w={};if(o.type==="label")return w;var C=o.businessObject;function O(q,Q,U){l.start(q,Q,U)}function T(q){r.removeElements([o])}function P(q){var Q=5,U=p.getPad(q).html,H=U.getBoundingClientRect(),X={x:H.left,y:H.bottom+Q};return X}function N(q,Q,U,H){function X(ae,te){var ve=s.createShape(xe({type:q},H));u.start(ae,ve,{source:te,hints:{connectionTarget:te}})}var Y=x?function(ae,te){var ve=s.createShape(xe({type:q},H));x.append(te,ve,{connectionTarget:te})}:X;return{group:"model",className:Q,title:U,action:{dragstart:X,click:Y}}}we(C,"dmn:Decision")&&xe(w,{"append.decision":N("dmn:Decision","dmn-icon-decision",y("Append decision"))}),Rs(C,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:KnowledgeSource"])&&xe(w,{"append.knowledge-source":N("dmn:KnowledgeSource","dmn-icon-knowledge-source",y("Append knowledge source"))}),Rs(C,["dmn:BusinessKnowledgeModel","dmn:Decision"])&&xe(w,{"append.business-knowledge-model":N("dmn:BusinessKnowledgeModel","dmn-icon-business-knowledge",y("Append business knowledge model"))}),Rs(C,["dmn:Decision","dmn:KnowledgeSource"])&&xe(w,{"append.input-data":N("dmn:InputData","dmn-icon-input-data",y("Append input data"))}),we(C,"dmn:DRGElement")&&xe(w,{"append.text-annotation":N("dmn:TextAnnotation","dmn-icon-text-annotation",y("Add text annotation")),connect:{group:"connect",className:"dmn-icon-connection-multi",title:y("Connect to other element"),action:{click:O,dragstart:O}}}),we(C,"dmn:TextAnnotation")&&xe(w,{connect:{group:"connect",className:"dmn-icon-connection-multi",title:y("Connect to other element"),action:{click:O,dragstart:O}}}),f.isEmpty(o,"dmn-replace")||xe(w,{replace:{group:"edit",className:"dmn-icon-screw-wrench",title:y("Change type"),action:{click:function(q,Q){var U=xe(P(Q),{cursor:{x:q.x,y:q.y}});f.open(Q,"dmn-replace",U)}}}});var j=v.allowed("elements.delete",{elements:[o]});return d(j)&&(j=j[0]===o),j&&xe(w,{delete:{group:"edit",className:"dmn-icon-trash",title:y("Delete"),action:{click:T}}}),w};var D7e={__depends__:[Ha,H8e,Du,W8e,mX,O7e],__init__:["contextPadProvider"],contextPadProvider:["type",CM]},T7e="djs-dragger";function Yd(o,r,s,l){this._canvas=r,this._graphicsFactory=s,this._elementFactory=l,this._connectionDocking=o.get("connectionDocking",!1),this._layouter=o.get("layouter",!1)}Yd.$inject=["injector","canvas","graphicsFactory","elementFactory"],Yd.prototype.drawPreview=function(o,r,s){s=s||{};var l=o.connectionPreviewGfx,u=o.getConnection,f=s.source,p=s.target,v=s.waypoints,y=s.connectionStart,x=s.connectionEnd,w=s.noLayout,C=s.noCropping,O=s.noNoop,T,P=this;if(l||(l=o.connectionPreviewGfx=this.createConnectionPreviewGfx()),iI(l),u||(u=o.getConnection=k7e(function(N,j,q){return P.getConnection(N,j,q)})),r&&(T=u(r,f,p)),!T){!O&&this.drawNoopPreview(l,s);return}T.waypoints=v||[],this._layouter&&!w&&(T.waypoints=this._layouter.layoutConnection(T,{source:f,target:p,connectionStart:y,connectionEnd:x,waypoints:s.waypoints||T.waypoints})),(!T.waypoints||!T.waypoints.length)&&(T.waypoints=[f?Qn(f):y,p?Qn(p):x]),this._connectionDocking&&(f||p)&&!C&&(T.waypoints=this._connectionDocking.getCroppedWaypoints(T,f,p)),this._graphicsFactory.drawConnection(l,T,{stroke:"var(--element-dragger-color)"})},Yd.prototype.drawNoopPreview=function(o,r){var s=r.source,l=r.target,u=r.connectionStart||Qn(s),f=r.connectionEnd||Qn(l),p=this.cropWaypoints(u,f,s,l),v=this.createNoopConnection(p[0],p[1]);Qt(o,v)},Yd.prototype.cropWaypoints=function(o,r,s,l){var u=this._graphicsFactory,f=s&&u.getShapePath(s),p=l&&u.getShapePath(l),v=u.getConnectionPath({waypoints:[o,r]});return o=s&&mI(f,v,!0)||o,r=l&&mI(p,v,!1)||r,[o,r]},Yd.prototype.cleanUp=function(o){o&&o.connectionPreviewGfx&&us(o.connectionPreviewGfx)},Yd.prototype.getConnection=function(o){var r=P7e(o);return this._elementFactory.createConnection(r)},Yd.prototype.createConnectionPreviewGfx=function(){var o=zt("g");return ht(o,{pointerEvents:"none"}),_n(o).add(T7e),Qt(this._canvas.getActiveLayer(),o),o},Yd.prototype.createNoopConnection=function(o,r){return x_([o,r],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};function k7e(o){var r={};return function(s){var l=JSON.stringify(s),u=r[l];return u||(u=r[l]=o.apply(null,arguments)),u}}function P7e(o){return h(o)?o:{}}var I7e={__init__:["connectionPreview"],connectionPreview:["type",Yd]};let M7e=/\s/,A7e=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,R7e=/^[a-z_][\w-.]*$/i,L7e=/\$\{([^}]*)\}/g;function $7e(o,r){let s=o.$model.ids.assigned(r),l=s&&s!==o;return r?l?"Element must have unique ID.":N7e(r):"Element must have ID."}function N7e(o){if(o=B7e(o),F7e(o))return"Id must not contain spaces.";if(!R7e.test(o))return A7e.test(o)?"Id must not contain prefix.":"Id must be a valid QName."}function F7e(o){return M7e.test(o)}function B7e(o){return o.replace(L7e,"$1")}var j7e=300;function pv(o,r,s,l,u){this._eventBus=o,this._modeling=r,this._canvas=s,this._definitionPropertiesView=l,this._translate=u,o.on("definitionIdView.create",function(f){this._container=f.html;var p=ln(".dmn-definitions-name",this._container),v=ln(".dmn-definitions-id",this._container);this._setup(p,"name"),this._setup(v,"id")},this)}pv.$inject=["eventBus","modeling","canvas","definitionPropertiesView","translate"],pv.prototype.update=function(o,r){var s=this._canvas.getRootElement(),l={};if(l[o]=r,o==="id"){var u=$7e(bc(s),r);if(u){this._addErrorMessage(u);return}this._clearErrorMessage()}this._modeling.updateProperties(s,l)},pv.prototype._setup=function(o,r){var s=this;o.setAttribute("contenteditable",!0),o.addEventListener("input",Se(function(l){var u=l.target.value||l.target.textContent;s.update(r,u.trim())},j7e)),o.addEventListener("keydown",function(l){l.keyCode===13&&(o.blur(),window.getSelection().removeAllRanges())}),o.addEventListener("blur",function(){s._clearErrorMessage(),s._definitionPropertiesView.update()})},pv.prototype._addErrorMessage=function(o){let r='<span class="dmn-definitions-error-message">'+this._translate(o)+"</span>";var s=ln(".dmn-definitions-id",this._container);this._clearErrorMessage(),Jt(s).add("dmn-definitions-error"),s.parentElement.appendChild(Gn(r))},pv.prototype._clearErrorMessage=function(){var o=ln(".dmn-definitions-id",this._container);if(Jt(o).has("dmn-definitions-error")){Jt(o).remove("dmn-definitions-error");let r=ln(".dmn-definitions-error-message",this._container);o.parentNode.removeChild(r)}};var V7e={__depends__:[UI],__init__:["definitionPropertiesEdit","definitionPropertiesPaletteAdapter"],definitionPropertiesEdit:["type",pv],definitionPropertiesPaletteAdapter:["type",HI]},z7e={horizontal:["x","width"],vertical:["y","height"]},KX=5;function Xd(o,r){this._modeling=o,this._filters=[],this.registerFilter(function(s){var l=r.allowed("elements.distribute",{elements:s});return d(l)?l:l?s:[]})}Xd.$inject=["modeling","rules"],Xd.prototype.registerFilter=function(o){if(typeof o!="function")throw new Error("the filter has to be a function");this._filters.push(o)},Xd.prototype.trigger=function(o,r){var s=this._modeling,l,u;if(!(o.length<3)&&(this._setOrientation(r),u=this._filterElements(o),l=this._createGroups(u),!(l.length<=2)))return s.distributeElements(l,this._axis,this._dimension),l},Xd.prototype._filterElements=function(o){var r=this._filters,s=this._axis,l=this._dimension,u=[].concat(o);return r.length?(D(r,function(f){u=f(u,s,l)}),u):o},Xd.prototype._createGroups=function(o){var r=[],s=this,l=this._axis,u=this._dimension;if(!l)throw new Error('must have a defined "axis" and "dimension"');var f=ee(o,l);return D(f,function(p,v){var y=s._findRange(p,l,u),x,w=r[r.length-1];w&&s._hasIntersection(w.range,y)?r[r.length-1].elements.push(p):(x={range:y,elements:[p]},r.push(x))}),r},Xd.prototype._setOrientation=function(o){var r=z7e[o];this._axis=r[0],this._dimension=r[1]},Xd.prototype._hasIntersection=function(o,r){return Math.max(o.min,o.max)>=Math.min(r.min,r.max)&&Math.min(o.min,o.max)<=Math.max(r.min,r.max)},Xd.prototype._findRange=function(o){var r=o[this._axis],s=o[this._dimension];return{min:r+KX,max:r+s-KX}};var H7e={__init__:["distributeElements"],distributeElements:["type",Xd]};function ZX(o){o.registerFilter(function(r){return S(r,function(s){var l=Rs(s,["dmn:AuthorityRequirement","dmn:InformationRequirement","dmn:KnowledgeRequirement","dmn:Association","dmn:TextAnnotation"]);return!(s.labelTarget||l)})})}ZX.$inject=["distributeElements"];var U7e={__depends__:[H7e],__init__:["drdDistributeElements"],drdDistributeElements:["type",ZX]},JX="is not a registered action",q7e="is already registered";function kl(o,r){this._actions={};var s=this;o.on("diagram.init",function(){s._registerDefaultActions(r),o.fire("editorActions.init",{editorActions:s})})}kl.$inject=["eventBus","injector"],kl.prototype._registerDefaultActions=function(o){var r=o.get("commandStack",!1),s=o.get("modeling",!1),l=o.get("selection",!1),u=o.get("zoomScroll",!1),f=o.get("copyPaste",!1),p=o.get("canvas",!1),v=o.get("rules",!1),y=o.get("keyboardMove",!1),x=o.get("keyboardMoveSelection",!1);r&&(this.register("undo",function(){r.undo()}),this.register("redo",function(){r.redo()})),f&&l&&this.register("copy",function(){var w=l.get();if(w.length)return f.copy(w)}),f&&this.register("paste",function(){f.paste()}),u&&this.register("stepZoom",function(w){u.stepZoom(w.value)}),p&&this.register("zoom",function(w){p.zoom(w.value)}),s&&l&&v&&this.register("removeSelection",function(){var w=l.get();if(w.length){var C=v.allowed("elements.delete",{elements:w}),O;C!==!1&&(d(C)?O=C:O=w,O.length&&s.removeElements(O.slice()))}}),y&&this.register("moveCanvas",function(w){y.moveCanvas(w)}),x&&this.register("moveSelection",function(w){x.moveSelection(w.direction,w.accelerated)})},kl.prototype.trigger=function(o,r){if(!this._actions[o])throw SM(o,JX);return this._actions[o](r)},kl.prototype.register=function(o,r){var s=this;if(typeof o=="string")return this._registerAction(o,r);D(o,function(l,u){s._registerAction(u,l)})},kl.prototype._registerAction=function(o,r){if(this.isRegistered(o))throw SM(o,q7e);this._actions[o]=r},kl.prototype.unregister=function(o){if(!this.isRegistered(o))throw SM(o,JX);this._actions[o]=void 0},kl.prototype.getActions=function(){return Object.keys(this._actions)},kl.prototype.isRegistered=function(o){return!!this._actions[o]};function SM(o,r){return new Error(o+" "+r)}var W7e={__init__:["editorActions"],editorActions:["type",kl]};function iC(o){o.invoke(kl,this)}ri(iC,kl),iC.$inject=["injector"],iC.prototype._registerDefaultActions=function(o){kl.prototype._registerDefaultActions.call(this,o);let r=o.get("canvas",!1),s=o.get("elementRegistry",!1),l=o.get("selection",!1),u=o.get("lassoTool",!1),f=o.get("handTool",!1),p=o.get("directEditing",!1),v=o.get("distributeElements",!1),y=o.get("alignElements",!1),x=o.get("searchPad",!1);r&&s&&l&&this._registerAction("selectElements",function(){var w=r.getRootElement(),C=s.filter(function(O){return O!==w});return l.select(C),C}),l&&v&&this._registerAction("distributeElements",function(w){var C=l.get(),O=w.type;C.length>2&&v.trigger(C,O)}),l&&y&&this._registerAction("alignElements",function(w){var C=l.get(),O=w.type;C.length>1&&y.trigger(C,O)}),u&&this._registerAction("lassoTool",function(){u.toggle()}),f&&this._registerAction("handTool",function(){f.toggle()}),l&&p&&this._registerAction("directEditing",function(){var w=l.get();w.length&&p.activate(w[0])}),l&&x&&this._registerAction("find",function(){x.toggle()})};var G7e={__depends__:[W7e],editorActions:["type",iC]};function eK(o){return o.dmnDI&&o.dmnDI.diagrams&&o.dmnDI.diagrams[0]}function tK(o,r,s,l){function u(f){var p=f.dmnDI;p||(p=o.create("dmndi:DMNDI"),f.set("dmnDI",p));var v=o.create("dmndi:DMNDiagram");p.set("diagrams",[v]);var y=0;D(f.get("drgElement"),function(x){if(we(x,"dmn:Decision")){var w=r._getDefaultSize(x),C=o.createDiShape(x,{x:150+y*30,y:150+y*30,width:w.width,height:w.height});l.updateDiParent(C,v),y++}})}s.on("import.start",({definitions:f})=>{eK(f)||u(f)})}tK.$inject=["drdFactory","elementFactory","eventBus","drdUpdater"];var Q7e={__init__:["diGenerator"],diGenerator:["type",tK]},oC=10;function OM(o,r,s){return s||(s="round"),Math[s](o/r)*r}var Y7e=1200,X7e=800;function Ih(o,r,s){var l=!s||s.active!==!1;this._eventBus=r;var u=this;r.on("diagram.init",X7e,function(){u.setActive(l)}),r.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],Y7e,function(f){var p=f.originalEvent;if(!(!u.active||p&&Tl(p))){var v=f.context,y=v.gridSnappingContext;y||(y=v.gridSnappingContext={}),["x","y"].forEach(function(x){var w={},C=Z7e(f,x,o);C&&(w.offset=C);var O=K7e(f,x);O&&xe(w,O),T3(f,x)||u.snapEvent(f,x,w)})}})}Ih.prototype.snapEvent=function(o,r,s){var l=this.snapValue(o[r],s);ku(o,r,l)},Ih.prototype.getGridSpacing=function(){return oC},Ih.prototype.snapValue=function(o,r){var s=0;r&&r.offset&&(s=r.offset),o+=s,o=OM(o,oC);var l,u;return r&&r.min&&(l=r.min,m(l)&&(l=OM(l+s,oC,"ceil"),o=Math.max(o,l))),r&&r.max&&(u=r.max,m(u)&&(u=OM(u+s,oC,"floor"),o=Math.min(o,u))),o-=s,o},Ih.prototype.isActive=function(){return this.active},Ih.prototype.setActive=function(o){this.active=o,this._eventBus.fire("gridSnapping.toggle",{active:o})},Ih.prototype.toggleActive=function(){this.setActive(!this.active)},Ih.$inject=["elementRegistry","eventBus","config.gridSnapping"];function K7e(o,r){var s=o.context,l=s.createConstraints,u=s.resizeConstraints||{},f=s.gridSnappingContext,p=f.snapConstraints;if(p&&p[r])return p[r];p||(p=f.snapConstraints={}),p[r]||(p[r]={});var v=s.direction;l&&(sC(r)?(p.x.min=l.left,p.x.max=l.right):(p.y.min=l.top,p.y.max=l.bottom));var y=u.min,x=u.max;return y&&(sC(r)?rK(v)?p.x.max=y.left:p.x.min=y.right:nK(v)?p.y.max=y.top:p.y.min=y.bottom),x&&(sC(r)?rK(v)?p.x.min=x.left:p.x.max=x.right:nK(v)?p.y.min=x.top:p.y.max=x.bottom),p[r]}function Z7e(o,r,s){var l=o.context,u=o.shape,f=l.gridSnappingContext,p=f.snapLocation,v=f.snapOffset;return v&&m(v[r])||(v||(v=f.snapOffset={}),m(v[r])||(v[r]=0),!u)||(s.get(u.id)||(sC(r)?v[r]+=u[r]+u.width/2:v[r]+=u[r]+u.height/2),!p)||(r==="x"?/left/.test(p)?v[r]-=u.width/2:/right/.test(p)&&(v[r]+=u.width/2):/top/.test(p)?v[r]-=u.height/2:/bottom/.test(p)&&(v[r]+=u.height/2)),v[r]}function sC(o){return o==="x"}function nK(o){return o.indexOf("n")!==-1}function rK(o){return o.indexOf("w")!==-1}var J7e=1e3;function er(o){this._eventBus=o}er.$inject=["eventBus"];function eDe(o,r){return function(s){return o.call(r||null,s.context,s.command,s)}}er.prototype.on=function(o,r,s,l,u,f){if((g(r)||m(r))&&(f=u,u=l,l=s,s=r,r=null),g(s)&&(f=u,u=l,l=s,s=J7e),h(u)&&(f=u,u=!1),!g(l))throw new Error("handlerFn must be a function");d(o)||(o=[o]);var p=this._eventBus;D(o,function(v){var y=["commandStack",v,r].filter(function(x){return x}).join(".");p.on(y,s,u?eDe(l,f):l,f)})},er.prototype.canExecute=Kd("canExecute"),er.prototype.preExecute=Kd("preExecute"),er.prototype.preExecuted=Kd("preExecuted"),er.prototype.execute=Kd("execute"),er.prototype.executed=Kd("executed"),er.prototype.postExecute=Kd("postExecute"),er.prototype.postExecuted=Kd("postExecuted"),er.prototype.revert=Kd("revert"),er.prototype.reverted=Kd("reverted");function Kd(o){return function(s,l,u,f,p){(g(s)||m(s))&&(p=f,f=u,u=l,l=s,s=null),this.on(s,o,l,u,f,p)}}function Em(o,r){er.call(this,o),this._gridSnapping=r;var s=this;this.preExecute("shape.resize",function(l){var u=l.context,f=u.hints||{},p=f.autoResize;if(p){var v=u.shape,y=u.newBounds;b(p)?u.newBounds=s.snapComplex(y,p):u.newBounds=s.snapSimple(v,y)}})}Em.$inject=["eventBus","gridSnapping","modeling"],ri(Em,er),Em.prototype.snapSimple=function(o,r){var s=this._gridSnapping;return r.width=s.snapValue(r.width,{min:r.width}),r.height=s.snapValue(r.height,{min:r.height}),r.x=o.x+o.width/2-r.width/2,r.y=o.y+o.height/2-r.height/2,r},Em.prototype.snapComplex=function(o,r){return/w|e/.test(r)&&(o=this.snapHorizontally(o,r)),/n|s/.test(r)&&(o=this.snapVertically(o,r)),o},Em.prototype.snapHorizontally=function(o,r){var s=this._gridSnapping,l=/w/.test(r),u=/e/.test(r),f={};return f.width=s.snapValue(o.width,{min:o.width}),u&&(l?(f.x=s.snapValue(o.x,{max:o.x}),f.width+=s.snapValue(o.x-f.x,{min:o.x-f.x})):o.x=o.x+o.width-f.width),xe(o,f),o},Em.prototype.snapVertically=function(o,r){var s=this._gridSnapping,l=/n/.test(r),u=/s/.test(r),f={};return f.height=s.snapValue(o.height,{min:o.height}),l&&(u?(f.y=s.snapValue(o.y,{max:o.y}),f.height+=s.snapValue(o.y-f.y,{min:o.y-f.y})):o.y=o.y+o.height-f.height),xe(o,f),o};var tDe=2e3;function iK(o,r){o.on(["spaceTool.move","spaceTool.end"],tDe,function(s){var l=s.context;if(l.initialized){var u=l.axis,f;u==="x"?(f=r.snapValue(s.dx),s.x=s.x+f-s.dx,s.dx=f):(f=r.snapValue(s.dy),s.y=s.y+f-s.dy,s.dy=f)}})}iK.$inject=["eventBus","gridSnapping"];var nDe={__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",Em],gridSnappingSpaceToolBehavior:["type",iK]},rDe={__depends__:[nDe],__init__:["gridSnapping"],gridSnapping:["type",Ih]},aC="keyboard.keydown",iDe="keyboard.keyup",oK="input-handle-modified-keys",oDe=1e3;function Co(o,r){var s=this;this._config=o||{},this._eventBus=r,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),r.on("diagram.destroy",function(){s._fire("destroy"),s.unbind()}),r.on("diagram.init",function(){s._fire("init")}),r.on("attach",function(){o&&o.bindTo&&s.bind(o.bindTo)}),r.on("detach",function(){s.unbind()})}Co.$inject=["config.keyboard","eventBus"],Co.prototype._keydownHandler=function(o){this._keyHandler(o,aC)},Co.prototype._keyupHandler=function(o){this._keyHandler(o,iDe)},Co.prototype._keyHandler=function(o,r){var s;if(!this._isEventIgnored(o)){var l={keyEvent:o};s=this._eventBus.fire(r||aC,l),s&&o.preventDefault()}},Co.prototype._isEventIgnored=function(o){return o.defaultPrevented?!0:(sDe(o.target)||aDe(o.target)&&Fi([" ","Enter"],o))&&this._isModifiedKeyIgnored(o)},Co.prototype._isModifiedKeyIgnored=function(o){if(!Tl(o))return!0;var r=this._getAllowedModifiers(o.target);return r.indexOf(o.key)===-1},Co.prototype._getAllowedModifiers=function(o){var r=Bo(o,"["+oK+"]",!0);return!r||this._node&&!this._node.contains(r)?[]:r.getAttribute(oK).split(",")},Co.prototype.bind=function(o){this.unbind(),this._node=o,ft.bind(o,"keydown",this._keydownHandler),ft.bind(o,"keyup",this._keyupHandler),this._fire("bind")},Co.prototype.getBinding=function(){return this._node},Co.prototype.unbind=function(){var o=this._node;o&&(this._fire("unbind"),ft.unbind(o,"keydown",this._keydownHandler),ft.unbind(o,"keyup",this._keyupHandler)),this._node=null},Co.prototype._fire=function(o){this._eventBus.fire("keyboard."+o,{node:this._node})},Co.prototype.addListener=function(o,r,s){g(o)&&(s=r,r=o,o=oDe),this._eventBus.on(s||aC,o,r)},Co.prototype.removeListener=function(o,r){this._eventBus.off(r||aC,o)},Co.prototype.hasModifier=POe,Co.prototype.isCmd=Tl,Co.prototype.isShift=YI,Co.prototype.isKey=Fi;function sDe(o){return o&&(Z1(o,"input, textarea")||o.contentEditable==="true")}function aDe(o){return o&&Z1(o,"button, input[type=submit], input[type=button], a[href], [aria-role=button]")}var lDe=500;function mv(o,r){var s=this;o.on("editorActions.init",lDe,function(l){var u=l.editorActions;s.registerBindings(r,u)})}mv.$inject=["eventBus","keyboard"],mv.prototype.registerBindings=function(o,r){function s(l,u){r.isRegistered(l)&&o.addListener(u)}s("undo",function(l){var u=l.keyEvent;if(dY(u))return r.trigger("undo"),!0}),s("redo",function(l){var u=l.keyEvent;if(fY(u))return r.trigger("redo"),!0}),s("copy",function(l){var u=l.keyEvent;if(IOe(u))return r.trigger("copy"),!0}),s("paste",function(l){var u=l.keyEvent;if(MOe(u))return r.trigger("paste"),!0}),s("stepZoom",function(l){var u=l.keyEvent;if(Fi(["+","Add","="],u)&&Tl(u))return r.trigger("stepZoom",{value:1}),!0}),s("stepZoom",function(l){var u=l.keyEvent;if(Fi(["-","Subtract"],u)&&Tl(u))return r.trigger("stepZoom",{value:-1}),!0}),s("zoom",function(l){var u=l.keyEvent;if(Fi("0",u)&&Tl(u))return r.trigger("zoom",{value:1}),!0}),s("removeSelection",function(l){var u=l.keyEvent;if(Fi(["Backspace","Delete","Del"],u))return r.trigger("removeSelection"),!0})};var lC={__init__:["keyboard","keyboardBindings"],keyboard:["type",Co],keyboardBindings:["type",mv]};function cC(o){o.invoke(mv,this)}ri(cC,mv),cC.$inject=["injector"],cC.prototype.registerBindings=function(o,r){mv.prototype.registerBindings.call(this,o,r);function s(l,u){r.isRegistered(l)&&o.addListener(u)}s("selectElements",function(l){var u=l.keyEvent;if(o.isKey(["a","A"],u)&&o.isCmd(u))return r.trigger("selectElements"),!0}),s("lassoTool",function(l){var u=l.keyEvent;if(!o.hasModifier(u)&&o.isKey(["l","L"],u))return r.trigger("lassoTool"),!0}),s("handTool",function(l){var u=l.keyEvent;if(!o.hasModifier(u)&&o.isKey(["h","H"],u))return r.trigger("handTool"),!0}),s("directEditing",function(l){var u=l.keyEvent;if(!o.hasModifier(u)&&o.isKey(["e","E"],u))return r.trigger("directEditing"),!0}),s("find",function(l){var u=l.keyEvent;if(o.isKey(["f","F"],u)&&o.isCmd(u))return r.trigger("find"),!0})};var cDe={__depends__:[lC],__init__:["keyboardBindings"],keyboardBindings:["type",cC]},uDe={moveSpeed:50,moveSpeedAccelerated:200};function sK(o,r,s){var l=this;this._config=xe({},uDe,o||{}),r.addListener(u);function u(f){var p=f.keyEvent,v=l._config;if(r.isCmd(p)&&r.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],p)){var y=r.isShift(p)?v.moveSpeedAccelerated:v.moveSpeed,x;switch(p.key){case"ArrowLeft":case"Left":x="left";break;case"ArrowUp":case"Up":x="up";break;case"ArrowRight":case"Right":x="right";break;case"ArrowDown":case"Down":x="down";break}return l.moveCanvas({speed:y,direction:x}),!0}}this.moveCanvas=function(f){var p=0,v=0,y=f.speed,x=y/Math.min(Math.sqrt(s.viewbox().scale),1);switch(f.direction){case"left":p=x;break;case"up":v=x;break;case"right":p=-x;break;case"down":v=-x;break}s.scroll({dx:p,dy:v})}}sK.$inject=["config.keyboardMove","keyboard","canvas"];var dDe={__depends__:[lC],__init__:["keyboardMove"],keyboardMove:["type",sK]},fDe={moveSpeed:1,moveSpeedAccelerated:10},hDe=1500,aK="left",lK="up",cK="right",uK="down",pDe={ArrowLeft:aK,Left:aK,ArrowUp:lK,Up:lK,ArrowRight:cK,Right:cK,ArrowDown:uK,Down:uK},mDe={left:function(o){return{x:-o,y:0}},up:function(o){return{x:0,y:-o}},right:function(o){return{x:o,y:0}},down:function(o){return{x:0,y:o}}};function dK(o,r,s,l,u){var f=this;this._config=xe({},fDe,o||{}),r.addListener(hDe,function(p){var v=p.keyEvent,y=pDe[v.key];if(y&&!r.isCmd(v)){var x=r.isShift(v);return f.moveSelection(y,x),!0}}),this.moveSelection=function(p,v){var y=u.get();if(y.length){var x=this._config[v?"moveSpeedAccelerated":"moveSpeed"],w=mDe[p](x),C=l.allowed("elements.move",{shapes:y});C&&s.moveElements(y,w)}}}dK.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];var gDe={__depends__:[lC,Du],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",dK]};function vr(o,r){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=r,this._eventBus=o,this._uid=1,o.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}vr.$inject=["eventBus","injector"],vr.prototype.execute=function(o,r){if(!o)throw new Error("command required");this._currentExecution.trigger="execute";let s={command:o,context:r};this._pushAction(s),this._internalExecute(s),this._popAction()},vr.prototype.canExecute=function(o,r){let s={command:o,context:r},l=this._getHandler(o),u=this._fire(o,"canExecute",s);if(u===void 0){if(!l)return!1;l.canExecute&&(u=l.canExecute(r))}return u},vr.prototype.clear=function(o){this._stack.length=0,this._stackIdx=-1,o!==!1&&this._fire("changed",{trigger:"clear"})},vr.prototype.undo=function(){let o=this._getUndoAction(),r;if(o){for(this._currentExecution.trigger="undo",this._pushAction(o);o&&(this._internalUndo(o),r=this._getUndoAction(),!(!r||r.id!==o.id));)o=r;this._popAction()}},vr.prototype.redo=function(){let o=this._getRedoAction(),r;if(o){for(this._currentExecution.trigger="redo",this._pushAction(o);o&&(this._internalExecute(o,!0),r=this._getRedoAction(),!(!r||r.id!==o.id));)o=r;this._popAction()}},vr.prototype.register=function(o,r){this._setHandler(o,r)},vr.prototype.registerHandler=function(o,r){if(!o||!r)throw new Error("command and handlerCls must be defined");let s=this._injector.instantiate(r);this.register(o,s)},vr.prototype.canUndo=function(){return!!this._getUndoAction()},vr.prototype.canRedo=function(){return!!this._getRedoAction()},vr.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},vr.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},vr.prototype._internalUndo=function(o){let r=o.command,s=o.context,l=this._getHandler(r);this._atomicDo(()=>{this._fire(r,"revert",o),l.revert&&this._markDirty(l.revert(s)),this._revertedAction(o),this._fire(r,"reverted",o)})},vr.prototype._fire=function(o,r,s){arguments.length<3&&(s=r,r=null);let l=r?[o+"."+r,r]:[o],u;s=this._eventBus.createEvent(s);for(let f of l)if(u=this._eventBus.fire("commandStack."+f,s),s.cancelBubble)break;return u},vr.prototype._createId=function(){return this._uid++},vr.prototype._atomicDo=function(o){let r=this._currentExecution;r.atomic=!0;try{o()}finally{r.atomic=!1}},vr.prototype._internalExecute=function(o,r){let s=o.command,l=o.context,u=this._getHandler(s);if(!u)throw new Error("no command handler registered for <"+s+">");this._pushAction(o),r||(this._fire(s,"preExecute",o),u.preExecute&&u.preExecute(l),this._fire(s,"preExecuted",o)),this._atomicDo(()=>{this._fire(s,"execute",o),u.execute&&this._markDirty(u.execute(l)),this._executedAction(o,r),this._fire(s,"executed",o)}),r||(this._fire(s,"postExecute",o),u.postExecute&&u.postExecute(l),this._fire(s,"postExecuted",o)),this._popAction()},vr.prototype._pushAction=function(o){let r=this._currentExecution,s=r.actions,l=s[0];if(r.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+o.command+")");o.id||(o.id=l&&l.id||this._createId()),s.push(o)},vr.prototype._popAction=function(){let o=this._currentExecution,r=o.trigger,s=o.actions,l=o.dirty;s.pop(),s.length||(this._eventBus.fire("elements.changed",{elements:re("id",l.reverse())}),l.length=0,this._fire("changed",{trigger:r}),o.trigger=null)},vr.prototype._markDirty=function(o){let r=this._currentExecution;o&&(o=d(o)?o:[o],r.dirty=r.dirty.concat(o))},vr.prototype._executedAction=function(o,r){let s=++this._stackIdx;r||this._stack.splice(s,this._stack.length,o)},vr.prototype._revertedAction=function(o){this._stackIdx--},vr.prototype._getHandler=function(o){return this._handlerMap[o]},vr.prototype._setHandler=function(o,r){if(!o||!r)throw new Error("command and handler required");if(this._handlerMap[o])throw new Error("overriding handler for command <"+o+">");this._handlerMap[o]=r};var DM={commandStack:["type",vr]};function fK(o,r,s,l){o.on("element.changed",function(u){var f=u.element;(f.parent||f===r.getRootElement())&&(u.gfx=s.getGraphics(f)),u.gfx&&o.fire(IG(f)+".changed",u)}),o.on("elements.changed",function(u){var f=u.elements;f.forEach(function(p){o.fire("element.changed",{element:p})}),l.updateContainments(f)}),o.on("shape.changed",function(u){l.update("shape",u.element,u.gfx)}),o.on("connection.changed",function(u){l.update("connection",u.element,u.gfx)})}fK.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var hK={__init__:["changeSupport"],changeSupport:["type",fK]},pK=Math.min,mK=Math.max;function TM(o){o.preventDefault()}function M3(o){o.stopPropagation()}function vDe(o){return o.nodeType===Node.TEXT_NODE}function yDe(o){return[].slice.call(o)}function _c(o){this.container=o.container,this.parent=Gn('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=ln("[contenteditable]",this.parent),this.keyHandler=o.keyHandler||function(){},this.resizeHandler=o.resizeHandler||function(){},this.autoResize=je(this.autoResize,this),this.handlePaste=je(this.handlePaste,this)}_c.prototype.create=function(o,r,s,l){var u=this,f=this.parent,p=this.content,v=this.container;l=this.options=l||{},r=this.style=r||{};var y=_t(r,["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);xe(f.style,{width:o.width+"px",height:o.height+"px",maxWidth:o.maxWidth+"px",maxHeight:o.maxHeight+"px",minWidth:o.minWidth+"px",minHeight:o.minHeight+"px",left:o.x+"px",top:o.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},y);var x=_t(r,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return xe(p.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},x),l.centerVertically&&xe(p.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},x),p.innerText=s,ft.bind(p,"keydown",this.keyHandler),ft.bind(p,"mousedown",M3),ft.bind(p,"paste",u.handlePaste),l.autoResize&&ft.bind(p,"input",this.autoResize),l.resizable&&this.resizable(r),v.appendChild(f),this.setSelection(p.lastChild,p.lastChild&&p.lastChild.length),f},_c.prototype.handlePaste=function(o){var r=this.options,s=this.style;o.preventDefault();var l;if(o.clipboardData?l=o.clipboardData.getData("text/plain"):l=window.clipboardData.getData("Text"),this.insertText(l),r.autoResize){var u=this.autoResize(s);u&&this.resizeHandler(u)}},_c.prototype.insertText=function(o){o=bDe(o);var r=document.execCommand("insertText",!1,o);r||this._insertTextIE(o)},_c.prototype._insertTextIE=function(o){var r=this.getSelection(),s=r.startContainer,l=r.endContainer,u=r.startOffset,f=r.endOffset,p=r.commonAncestorContainer,v=yDe(p.childNodes),y,x;if(vDe(p)){var w=s.textContent;s.textContent=w.substring(0,u)+o+w.substring(f),y=s,x=u+o.length}else if(s===this.content&&l===this.content){var C=document.createTextNode(o);this.content.insertBefore(C,v[u]),y=C,x=C.textContent.length}else{var O=v.indexOf(s),T=v.indexOf(l);v.forEach(function(P,N){N===O?P.textContent=s.textContent.substring(0,u)+o+l.textContent.substring(f):N>O&&N<=T&&As(P)}),y=s,x=u+o.length}y&&x!==void 0&&setTimeout(function(){self.setSelection(y,x)})},_c.prototype.autoResize=function(){var o=this.parent,r=this.content,s=parseInt(this.style.fontSize)||12;if(r.scrollHeight>o.offsetHeight||r.scrollHeight<o.offsetHeight-s){var l=o.getBoundingClientRect(),u=r.scrollHeight;o.style.height=u+"px",this.resizeHandler({width:l.width,height:l.height,dx:0,dy:u-l.height})}},_c.prototype.resizable=function(){var o=this,r=this.parent,s=this.resizeHandle,l=parseInt(this.style.minWidth)||0,u=parseInt(this.style.minHeight)||0,f=parseInt(this.style.maxWidth)||1/0,p=parseInt(this.style.maxHeight)||1/0;if(!s){s=this.resizeHandle=Gn('<div class="djs-direct-editing-resize-handle"></div>');var v,y,x,w,C=function(P){TM(P),M3(P),v=P.clientX,y=P.clientY;var N=r.getBoundingClientRect();x=N.width,w=N.height,ft.bind(document,"mousemove",O),ft.bind(document,"mouseup",T)},O=function(P){TM(P),M3(P);var N=pK(mK(x+P.clientX-v,l),f),j=pK(mK(w+P.clientY-y,u),p);r.style.width=N+"px",r.style.height=j+"px",o.resizeHandler({width:x,height:w,dx:P.clientX-v,dy:P.clientY-y})},T=function(P){TM(P),M3(P),ft.unbind(document,"mousemove",O,!1),ft.unbind(document,"mouseup",T,!1)};ft.bind(s,"mousedown",C)}xe(s.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),r.appendChild(s)},_c.prototype.destroy=function(){var o=this.parent,r=this.content,s=this.resizeHandle;r.innerText="",o.removeAttribute("style"),r.removeAttribute("style"),ft.unbind(r,"keydown",this.keyHandler),ft.unbind(r,"mousedown",M3),ft.unbind(r,"input",this.autoResize),ft.unbind(r,"paste",this.handlePaste),s&&(s.removeAttribute("style"),As(s)),As(o)},_c.prototype.getValue=function(){return this.content.innerText.trim()},_c.prototype.getSelection=function(){var o=window.getSelection(),r=o.getRangeAt(0);return r},_c.prototype.setSelection=function(o,r){var s=document.createRange();o===null?s.selectNodeContents(this.content):(s.setStart(o,r),s.setEnd(o,r));var l=window.getSelection();l.removeAllRanges(),l.addRange(s)};function bDe(o){return o.replace(/\r\n|\r|\n/g,`
`)}function Pl(o,r){this._eventBus=o,this._providers=[],this._textbox=new _c({container:r.getContainer(),keyHandler:je(this._handleKey,this),resizeHandler:je(this._handleResize,this)})}Pl.$inject=["eventBus","canvas"],Pl.prototype.registerProvider=function(o){this._providers.push(o)},Pl.prototype.isActive=function(o){return!!(this._active&&(!o||this._active.element===o))},Pl.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},Pl.prototype._fire=function(o,r){this._eventBus.fire("directEditing."+o,r||{active:this._active})},Pl.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},Pl.prototype.complete=function(){var o=this._active;if(o){var r,s=o.context.bounds,l=this.$textbox.getBoundingClientRect(),u=this.getValue(),f=o.context.text;(u!==f||l.height!==s.height||l.width!==s.width)&&(r=this._textbox.container.getBoundingClientRect(),o.provider.update(o.element,u,o.context.text,{x:l.left-r.left,y:l.top-r.top,width:l.width,height:l.height})),this._fire("complete"),this.close()}},Pl.prototype.getValue=function(){return this._textbox.getValue()},Pl.prototype._handleKey=function(o){o.stopPropagation();var r=o.keyCode||o.charCode;if(r===27)return o.preventDefault(),this.cancel();if(r===13&&!o.shiftKey)return o.preventDefault(),this.complete()},Pl.prototype._handleResize=function(o){this._fire("resize",o)},Pl.prototype.activate=function(o){this.isActive()&&this.cancel();var r,s=_(this._providers,function(l){return(r=l.activate(o))?l:null});return r&&(this.$textbox=this._textbox.create(r.bounds,r.style,r.text,r.options),this._active={element:o,context:r,provider:s},r.options&&r.options.resizable&&(this.resizable=!0),this._fire("activate")),!!r};var xDe={__depends__:[N_],__init__:["directEditing"],directEditing:["type",Pl]},gK="djs-label-hidden";function A3(o,r,s,l,u){this._canvas=o,this._modeling=l,this._textRenderer=u,this._eventBus=s,r.registerProvider(this),s.on("element.dblclick",function(f){r.activate(f.element)}),s.on(["autoPlace.start","canvas.viewbox.changing","drag.init","drillDown.click","element.mousedown","popupMenu.open","selection.changed"],function(){r.complete()}),s.on(["commandStack.changed"],function(){r.cancel()}),s.on("create.end",500,function(f){var p=f.shape;(we(p,"dmn:Decision")||we(p,"dmn:InputData")||we(p,"dmn:BusinessKnowledgeModel")||we(p,"dmn:KnowledgeSource")||we(p,"dmn:TextAnnotation"))&&r.activate(p)}),s.on("autoPlace.end",500,function(f){r.activate(f.shape)}),this._eventBus.on(["directEditing.complete","directEditing.cancel"],function(f){var p=f.active;if(p){var v=p.element.label||p.element;o.removeMarker(v,gK)}})}A3.$inject=["canvas","directEditing","eventBus","modeling","textRenderer"],A3.prototype.activate=function(o){var r=z_(o);if(a(r)){var s={text:r},l=this.getEditingBBox(o);xe(s,l);var u={},f=s.style||{};return we(o,"dmn:DRGElement")&&(xe(u,{centerVertically:!0}),xe(f,{backgroundColor:null,border:null})),we(o,"dmn:TextAnnotation")&&xe(u,{resizable:!0}),xe(s,{options:u,style:f}),this._canvas.addMarker(o,gK),s}},A3.prototype.getEditingBBox=function(o){var r=this._canvas,s=o.label||o,l=r.getAbsoluteBBox(s),u={x:l.x,y:l.y},f=r.zoom(),p=this._textRenderer.getDefaultStyle(),v=p.fontSize*f,y=p.lineHeight,x={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};return we(o,"dmn:DRGElement")&&(xe(u,{width:l.width,height:l.height}),xe(x,{fontSize:v+"px",lineHeight:y,paddingTop:7*f+"px",paddingBottom:7*f+"px",paddingLeft:5*f+"px",paddingRight:5*f+"px"})),we(o,"dmn:TextAnnotation")&&(xe(u,{width:l.width,height:l.height,minWidth:30*f,minHeight:10*f}),xe(x,{textAlign:"left",paddingTop:5*f+"px",paddingBottom:7*f+"px",paddingLeft:7*f+"px",paddingRight:5*f+"px",fontSize:v+"px",lineHeight:y})),{bounds:u,style:x}},A3.prototype.update=function(o,r,s,l){var u,f;we(o,"dmn:TextAnnotation")&&(f=this._canvas.getAbsoluteBBox(o),u={x:o.x,y:o.y,width:o.width/f.width*l.width,height:o.height/f.height*l.height}),EDe(r)&&(r=null),this._modeling.updateLabel(o,r,u)};function EDe(o){return!o||!o.trim()}var wDe={__depends__:[DM,hK,xDe],__init__:["labelEditingProvider"],labelEditingProvider:["type",A3]};function kM(o,r){r.invoke(er,this),this.preExecute("connection.create",function(s){var l=s.connection,u=l.businessObject,f=s.source,p=s.target,v,y,x;we(l,"dmn:Association")?(y=u.sourceRef=o.create("dmn:DMNElementReference",{href:"#"+f.id}),y.$parent=u,x=u.targetRef=o.create("dmn:DMNElementReference",{href:"#"+p.id}),x.$parent=u):(v=u["required"+_De(f)]=o.create("dmn:DMNElementReference",{href:"#"+f.id}),v.$parent=u)},!0)}kM.$inject=["drdFactory","injector"],ri(kM,er);function _De(o){if(we(o,"dmn:BusinessKnowledgeModel"))return"Knowledge";if(we(o,"dmn:Decision"))return"Decision";if(we(o,"dmn:InputData"))return"Input";if(we(o,"dmn:KnowledgeSource"))return"Authority"}var CDe=500;function PM(o,r,s,l){o.invoke(er,this),this.preExecute(["connection.create","connection.reconnect"],function(f){var p=f.connection,v=f.newSource||f.source,y=f.newTarget||f.target;if(!(we(p,"dmn:InformationRequirement")&&!l.allowed("connection.connect",{connection:p,source:v,target:y}))&&we(p,"dmn:InformationRequirement")){var x=Ba(v,y);f.hints||(f.hints={}),xe(f.hints,SDe(v,y,x))}},!0);function u(f,p,v){p||(p=f.incoming.filter(function(x){return we(x,"dmn:InformationRequirement")}));var y={};v?y[v]=p:y=DDe(f,p),D(y,function(x,w){x=TDe(x,w);var C=ODe(x,f,w);x.forEach((O,T)=>{var P=C[T].start,N=C[T].end,j=r.layoutConnection(O,{connectionStart:P,connectionEnd:N});s.updateWaypoints(O,j)})})}this.postExecuted(["connection.create","connection.delete","connection.reconnect"],function(f){var p=f.connection,v=p.source||f.source,y=p.target||f.target;if(we(p,"dmn:InformationRequirement")){var x=Ba(v,y),w=y.incoming.filter(C=>{var O=Ba(C.source,C.target);return we(C,"dmn:InformationRequirement")&&vK(O,x)});w.length&&u(y,w,x)}},!0),this.preExecute("connection.reconnect",function(f){var p=f.connection,v=p.source,y=p.target;if(we(p,"dmn:InformationRequirement")){var x=Ba(v,y),w=y.incoming.filter(C=>{var O=Ba(C.source,C.target);return C!==p&&we(C,"dmn:InformationRequirement")&&vK(O,x)});w.length&&u(y,w,x)}},!0),this.postExecuted("elements.move",CDe,function(f){var p=f.shapes,v=f.closure,y=v.enclosedConnections;p.forEach(function(x){if(Rs(x,["dmn:Decision","dmn:InputData"])){var w=x.incoming.filter(function(C){return we(C,"dmn:InformationRequirement")&&!y[C.id]});w.length&&u(x,w),x.outgoing.forEach(function(C){!we(C,"dmn:InformationRequirement")||y[C.id]||u(C.target)})}})},!0)}PM.$inject=["injector","layouter","modeling","rules"],ri(PM,er);function SDe(o,r,s){var l=Qn(o),u=Qn(r);return s.includes("bottom")?(l.y=o.y,u.y=r.y+r.height):s.includes("top")?(l.y=o.y+o.height,u.y=r.y):s.includes("right")?(l.x=o.x,u.x=r.x+r.width):(l.x=o.x+o.width,u.x=r.x),{connectionStart:l,connectionEnd:u}}function ODe(o,r,s){return o.map(function(l,u){var f=l.source,p=Qn(f),v=$t(f),y=$t(r),x=o.length;return s.includes("bottom")?{start:{x:p.x,y:v.top},end:{x:y.left+r.width/(x+1)*(u+1),y:y.bottom}}:s.includes("top")?{start:{x:p.x,y:v.bottom},end:{x:y.left+r.width/(x+1)*(u+1),y:y.top}}:s.includes("right")?{start:{x:v.left,y:p.y},end:{x:y.right,y:y.top+r.height/(x+1)*(u+1)}}:{start:{x:v.right,y:p.y},end:{x:y.left,y:y.top+r.height/(x+1)*(u+1)}}})}function DDe(o,r){var s={};return r.forEach(function(l){var u=Ba(l.source,o).split("-").shift();s[u]||(s[u]=[]),s[u].push(l)}),s}function vK(o,r){return o&&r&&o.split("-").shift()===r.split("-").shift()}function TDe(o,r){var s;return r.includes("top")||r.includes("bottom")?s="x":s="y",o.sort(function(l,u){return Qn(l.source)[s]-Qn(u.source)[s]})}function IM(o,r,s){o.invoke(er,this),this.preExecute("connection.reconnect",function(l){var u=l.connection,f=l.newSource||u.source,p=l.newTarget||u.target,v=u.waypoints.slice(),y=s.allowed("connection.reconnect",{connection:u,source:f,target:p});!y||y.type===u.type||(l.connection=r.connect(f,p,{type:y.type,waypoints:v}),r.removeConnection(u))},!0)}ri(IM,er),IM.$inject=["injector","modeling","rules"];function MM(o,r,s){er.call(this,o),this._modeling=r,this.postExecuted(["shape.replace"],1500,function(l){var u=l.context,f=u.oldShape,p=u.newShape;r.unclaimId(f.businessObject.id,f.businessObject),r.updateProperties(p,{id:f.id}),s.select(p)})}ri(MM,er),MM.$inject=["eventBus","modeling","selection"];let yK="id",uC=(()=>{class o extends er{constructor(s){super(s),this.executed("element.updateProperties",this.updateIds.bind(this))}updateIds({context:s}){let{element:l,oldProperties:u,properties:f}=s,p=bc(l);if(this.shouldSkipUpdate(p,u,f))return;let v=PDe(p);v.get("drgElement").forEach(w=>{IDe(w,u.id,f.id)}),v.get("artifact").forEach(w=>{MDe(w,u.id,f.id)})}shouldSkipUpdate(s,l,u){return!kDe(l,u)||!we(s,"dmn:DRGElement")&&!we(s,"dmn:TextAnnotation")}}return o.$inject=["eventBus"],o})();function kDe(o,r){return yK in o&&yK in r}function PDe(o){let r=o;for(;!we(r,"dmn:Definitions");)r=r.$parent;return r}function IDe(o,r,s){D({authorityRequirement:()=>{o.authorityRequirement.forEach(u=>{let{requiredAuthority:f,requiredDecision:p,requiredInput:v}=u;f&&f.href===`#${r}`&&(f.href=`#${s}`),p&&p.href===`#${r}`&&(p.href=`#${s}`),v&&v.href===`#${r}`&&(v.href=`#${s}`)})},informationRequirement:()=>{o.informationRequirement.forEach(u=>{let{requiredDecision:f,requiredInput:p}=u;f&&f.href===`#${r}`&&(f.href=`#${s}`),p&&p.href===`#${r}`&&(p.href=`#${s}`)})},knowledgeRequirement:()=>{o.knowledgeRequirement.forEach(u=>{let{requiredKnowledge:f}=u;f&&f.href===`#${r}`&&(f.href=`#${s}`)})}},(u,f)=>{o[f]&&u()})}function MDe(o,r,s){D({sourceRef:()=>{let{sourceRef:u}=o;u.href===`#${r}`&&(u.href=`#${s}`)},targetRef:()=>{let{targetRef:u}=o;u.href===`#${r}`&&(u.href=`#${s}`)}},(u,f)=>{o[f]&&u()})}var ADe={__init__:["createConnectionBehavior","idChangeBehavior","layoutConnectionBehavior","replaceConnectionBehavior","replaceElementBehavior"],createConnectionBehavior:["type",kM],idChangeBehavior:["type",uC],layoutConnectionBehavior:["type",PM],replaceConnectionBehavior:["type",IM],replaceElementBehavior:["type",MM]};function wm(o){er.call(this,o),this.init()}wm.$inject=["eventBus"],ri(wm,er),wm.prototype.addRule=function(o,r,s){var l=this;typeof o=="string"&&(o=[o]),o.forEach(function(u){l.canExecute(u,r,function(f,p,v){return s(f)},!0)})},wm.prototype.init=function(){};function _m(o){o.invoke(wm,this)}ri(_m,wm),_m.$inject=["injector"],_m.prototype.init=function(){this.addRule("connection.create",function(o){var r=o.source,s=o.target;return AM(r,s)}),this.addRule("connection.reconnect",function(o){o.connection;var r=o.source,s=o.target;return AM(r,s)}),this.addRule("connection.updateWaypoints",function(o){let r=o.connection;return{type:r.type,businessObject:r.businessObject}}),this.addRule("elements.move",function(o){var r=o.target,s=o.shapes;return o.position,xK(s,r)}),this.addRule("shape.create",function(o){var r=o.shape,s=o.target;return bK(r,s)}),this.addRule("shape.resize",function(o){var r=o.shape;return we(r,"dmn:TextAnnotation")})},_m.prototype.canConnect=AM,_m.prototype.canCreate=bK,_m.prototype.canMove=xK;function AM(o,r){if(!o||EK(o)||!r||EK(r))return null;if(o===r)return!1;if(we(o,"dmn:BusinessKnowledgeModel")&&Rs(r,["dmn:BusinessKnowledgeModel","dmn:Decision"]))return{type:"dmn:KnowledgeRequirement"};if(we(o,"dmn:Decision")){if(we(r,"dmn:Decision"))return{type:"dmn:InformationRequirement"};if(we(r,"dmn:KnowledgeSource"))return{type:"dmn:AuthorityRequirement"}}if(we(o,"dmn:Definitions")||we(r,"dmn:Definitions"))return!1;if(we(o,"dmn:InputData")){if(we(r,"dmn:Decision"))return{type:"dmn:InformationRequirement"};if(we(r,"dmn:KnowledgeSource"))return{type:"dmn:AuthorityRequirement"}}return we(o,"dmn:KnowledgeSource")&&Rs(r,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:KnowledgeSource"])?{type:"dmn:AuthorityRequirement"}:we(o,"dmn:TextAnnotation")&&!we(r,"dmn:TextAnnotation")||!we(o,"dmn:TextAnnotation")&&we(r,"dmn:TextAnnotation")?{type:"dmn:Association"}:!1}function bK(o,r){return Rs(o,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:InputData","dmn:KnowledgeSource","dmn:TextAnnotation"])&&we(r,"dmn:Definitions")}function xK(o,r){return d(o)||(o=[o]),!!(!r||I(o,function(s){return Rs(s,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:InputData","dmn:KnowledgeSource","dmn:TextAnnotation","dmn:InformationRequirement","dmn:AuthorityRequirement","dmn:KnowledgeRequirement","dmn:Association"])})&&we(r,"dmn:Definitions"))}function EK(o){return!!o.labelTarget}var RDe={__depends__:[mm],__init__:["drdRules"],drdRules:["type",_m]};function Cc(o){this._model=o}Cc.$inject=["moddle"],Cc.prototype._needsId=function(o){return Rs(o,["dmn:Artifact","dmn:DMNElement","dmn:DRGElement","dmndi:DMNDiagram","dmndi:DMNDiagramElement"])},Cc.prototype._ensureId=function(o){var r=(o.$type||"").replace(/^[^:]*:/g,"")+"_";!o.id&&this._needsId(o)&&(o.id=this._model.ids.nextPrefixed(r,o))},Cc.prototype.create=function(o,r){var s=this._model.create(o,r||{});return this._ensureId(s),s},Cc.prototype.createDiShape=function(o,r,s){return this.create("dmndi:DMNShape",xe({dmnElementRef:o,bounds:this.createDiBounds(r)},s))},Cc.prototype.createDiBounds=function(o){return this.create("dc:Bounds",o)},Cc.prototype.createDiEdge=function(o,r,s){return this.create("dmndi:DMNEdge",{dmnElementRef:o,waypoint:this.createDiWaypoints(r)},s)},Cc.prototype.createDiWaypoints=function(o){var r=this;return o.map(function(s){return r.createDiWaypoint(s)})},Cc.prototype.createDiWaypoint=function(o){return this.create("dc:Point",_t(o,["x","y"]))},Cc.prototype.createExtensionElements=function(){return this.create("dmn:ExtensionElements",{values:[]})};function Mh(o,r,s,l,u){u.invoke(er,this),this._definitionPropertiesView=r,this._drdFactory=s,this._drdRules=l;var f=this;function p(C){var O=C.connection,T=C.cropped;T||(O.waypoints=o.getCroppedWaypoints(O),C.cropped=!0)}this.executed(["connection.create","connection.layout"],p,!0),this.reverted(["connection.layout"],function(C){delete C.cropped},!0);function v(C){var O=C.connection,T=C.parent,P=C.shape;O&&!we(O,"dmn:Association")&&(T=O.target),f.updateParent(P||O,T)}function y(C){var O=C.connection,T=C.shape,P=C.parent||C.newParent;O&&!we(O,"dmn:Association")&&(P=O.target),f.updateParent(T||O,P)}this.executed(["connection.create","connection.delete","connection.move","shape.create","shape.delete"],v,!0),this.reverted(["connection.create","connection.delete","connection.move","shape.create","shape.delete"],y,!0);function x(C){var O=C.shape;(we(O,"dmn:DRGElement")||we(O,"dmn:TextAnnotation"))&&f.updateBounds(O)}this.executed(["shape.create","shape.move","shape.resize"],x,!0),this.reverted(["shape.create","shape.move","shape.resize"],x,!0);function w(C){f.updateConnectionWaypoints(C)}this.executed(["connection.create","connection.layout","connection.move","connection.updateWaypoints"],w,!0),this.reverted(["connection.create","connection.layout","connection.move","connection.updateWaypoints"],w,!0),this.executed("connection.create",function(C){var O=C.connection,T=O.businessObject,P=C.target,N=P.businessObject;we(O,"dmn:Association")?v(C):f.updateSemanticParent(T,N)},!0),this.reverted("connection.create",function(C){y(C)},!0),this.executed("connection.reconnect",function(C){var O=C.connection,T=O.businessObject,P=C.newTarget,N=P.businessObject;we(T,"dmn:Association")||f.updateSemanticParent(T,N)},!0),this.reverted("connection.reconnect",function(C){var O=C.connection,T=O.businessObject,P=C.oldTarget,N=P.businessObject;we(T,"dmn:Association")||f.updateSemanticParent(T,N)},!0),this.executed("element.updateProperties",function(C){r.update()},!0),this.reverted("element.updateProperties",function(C){r.update()},!0)}ri(Mh,er),Mh.$inject=["connectionDocking","definitionPropertiesView","drdFactory","drdRules","injector"],Mh.prototype.updateBounds=function(o){var r=o.businessObject,s=r.di.bounds;xe(s,{x:o.x,y:o.y,width:o.width,height:o.height})},Mh.prototype.updateConnectionWaypoints=function(o){var r=this._drdFactory,s=o.connection,l=s.businessObject,u=l.di;u.waypoint=r.createDiWaypoints(s.waypoints).map(function(f){return f.$parent=u,f})},Mh.prototype.updateParent=function(o,r){var s=o.parent;!we(o,"dmn:DRGElement")&&!we(o,"dmn:Artifact")&&(s=r);var l=o.businessObject,u=s&&s.businessObject;this.updateSemanticParent(l,u),this.updateDiParent(l.di,u&&u.di)},Mh.prototype.updateSemanticParent=function(o,r){var s,l;o.$parent!==r&&(we(o,"dmn:DRGElement")?l="drgElement":we(o,"dmn:Artifact")?l="artifact":we(o,"dmn:InformationRequirement")?l="informationRequirement":we(o,"dmn:AuthorityRequirement")?l="authorityRequirement":we(o,"dmn:KnowledgeRequirement")&&(l="knowledgeRequirement"),o.$parent&&(s=o.$parent.get(l),nm(s,o)),r?(s=r.get(l),s&&(s.push(o),o.$parent=r)):o.$parent=null)},Mh.prototype.updateDiParent=function(o,r){if(o.$parent!==r)if(Rs(o,["dmndi:DMNEdge","dmndi:DMNShape"])){for(var s=r||o;!we(s,"dmndi:DMNDiagram");)s=s.$parent;var l=s.get("diagramElements");r?(o.$parent=s,Ud(l,o)):(o.$parent=null,nm(l,o))}else throw new Error("unsupported")};function dC(o,r){this._modeling=o,this._canvas=r}dC.$inject=["modeling","canvas"],dC.prototype.preExecute=function(o){var r=this._modeling,s=o.elements,l=o.alignment;D(s,function(u){var f={x:0,y:0};a(l.left)?f.x=l.left-u.x:a(l.right)?f.x=l.right-u.width-u.x:a(l.center)?f.x=l.center-Math.round(u.width/2)-u.x:a(l.top)?f.y=l.top-u.y:a(l.bottom)?f.y=l.bottom-u.height-u.y:a(l.middle)&&(f.y=l.middle-Math.round(u.height/2)-u.y),r.moveElements([u],f,u.parent)})},dC.prototype.postExecute=function(o){};function fC(o){this._modeling=o}fC.$inject=["modeling"],fC.prototype.preExecute=function(o){var r=o.source;if(!r)throw new Error("source required");var s=o.target||r.parent,l=o.shape,u=o.hints||{};l=o.shape=this._modeling.createShape(l,o.position,s,{attach:u.attach}),o.shape=l},fC.prototype.postExecute=function(o){var r=o.hints||{};LDe(o.source,o.shape)||(r.connectionTarget===o.source?this._modeling.connect(o.shape,o.source,o.connection):this._modeling.connect(o.source,o.shape,o.connection))};function LDe(o,r){return R(o.outgoing,function(s){return s.target===r})}function hC(o,r){this._canvas=o,this._layouter=r}hC.$inject=["canvas","layouter"],hC.prototype.execute=function(o){var r=o.connection,s=o.source,l=o.target,u=o.parent,f=o.parentIndex,p=o.hints;if(!s||!l)throw new Error("source and target required");if(!u)throw new Error("parent required");return r.source=s,r.target=l,r.waypoints||(r.waypoints=this._layouter.layoutConnection(r,p)),this._canvas.addConnection(r,u,f),r},hC.prototype.revert=function(o){var r=o.connection;return this._canvas.removeConnection(r),r.source=null,r.target=null,r};var pC=Math.round;function RM(o){this._modeling=o}RM.$inject=["modeling"],RM.prototype.preExecute=function(o){var r=o.elements,s=o.parent,l=o.parentIndex,u=o.position,f=o.hints,p=this._modeling;D(r,function(C){m(C.x)||(C.x=0),m(C.y)||(C.y=0)});var v=S(r,function(C){return!C.hidden}),y=Ol(v);D(r,function(C){Ls(C)&&(C.waypoints=$(C.waypoints,function(O){return{x:pC(O.x-y.x-y.width/2+u.x),y:pC(O.y-y.y-y.height/2+u.y)}})),xe(C,{x:pC(C.x-y.x-y.width/2+u.x),y:pC(C.y-y.y-y.height/2+u.y)})});var x=GCe(r),w={};D(r,function(C){if(Ls(C)){w[C.id]=m(l)?p.createConnection(w[C.source.id],w[C.target.id],l,C,C.parent||s,f):p.createConnection(w[C.source.id],w[C.target.id],C,C.parent||s,f);return}var O=xe({},f);x.indexOf(C)===-1&&(O.autoResize=!1),tv(C)&&(O=ne(O,["attach"])),w[C.id]=m(l)?p.createShape(C,_t(C,["x","y","width","height"]),C.parent||s,l,O):p.createShape(C,_t(C,["x","y","width","height"]),C.parent||s,O)}),o.elements=V(w)};var wK=Math.round;function Ah(o){this._canvas=o}Ah.$inject=["canvas"],Ah.prototype.execute=function(o){var r=o.shape,s=o.position,l=o.parent,u=o.parentIndex;if(!l)throw new Error("parent required");if(!s)throw new Error("position required");return s.width!==void 0?xe(r,s):xe(r,{x:s.x-wK(r.width/2),y:s.y-wK(r.height/2)}),this._canvas.addShape(r,l,u),r},Ah.prototype.revert=function(o){var r=o.shape;return this._canvas.removeShape(r),r};function R3(o){Ah.call(this,o)}ri(R3,Ah),R3.$inject=["canvas"];var $De=Ah.prototype.execute;R3.prototype.execute=function(o){var r=o.shape;return FDe(r),r.labelTarget=o.labelTarget,$De.call(this,o)};var NDe=Ah.prototype.revert;R3.prototype.revert=function(o){return o.shape.labelTarget=null,NDe.call(this,o)};function FDe(o){["width","height"].forEach(function(r){typeof o[r]>"u"&&(o[r]=0)})}function L3(o,r){if(typeof r!="function")throw new Error("removeFn iterator must be a function");if(o){for(var s;s=o[0];)r(s);return o}}function $3(o,r){this._canvas=o,this._modeling=r}$3.$inject=["canvas","modeling"],$3.prototype.preExecute=function(o){var r=this._modeling,s=o.connection;L3(s.incoming,function(l){r.removeConnection(l,{nested:!0})}),L3(s.outgoing,function(l){r.removeConnection(l,{nested:!0})})},$3.prototype.execute=function(o){var r=o.connection,s=r.parent;return o.parent=s,o.parentIndex=AG(s.children,r),o.source=r.source,o.target=r.target,this._canvas.removeConnection(r),r.source=null,r.target=null,r},$3.prototype.revert=function(o){var r=o.connection,s=o.parent,l=o.parentIndex;return r.source=o.source,r.target=o.target,Ud(s.children,r,l),this._canvas.addConnection(r,s),r};function LM(o,r){this._modeling=o,this._elementRegistry=r}LM.$inject=["modeling","elementRegistry"],LM.prototype.postExecute=function(o){var r=this._modeling,s=this._elementRegistry,l=o.elements;D(l,function(u){s.get(u.id)&&(u.waypoints?r.removeConnection(u):r.removeShape(u))})};function N3(o,r){this._canvas=o,this._modeling=r}N3.$inject=["canvas","modeling"],N3.prototype.preExecute=function(o){var r=this._modeling,s=o.shape;L3(s.incoming,function(l){r.removeConnection(l,{nested:!0})}),L3(s.outgoing,function(l){r.removeConnection(l,{nested:!0})}),L3(s.children,function(l){Ls(l)?r.removeConnection(l,{nested:!0}):r.removeShape(l,{nested:!0})})},N3.prototype.execute=function(o){var r=this._canvas,s=o.shape,l=s.parent;return o.oldParent=l,o.oldParentIndex=AG(l.children,s),r.removeShape(s),s},N3.prototype.revert=function(o){var r=this._canvas,s=o.shape,l=o.oldParent,u=o.oldParentIndex;return Ud(l.children,s,u),r.addShape(s,l),s};function mC(o){this._modeling=o}mC.$inject=["modeling"];var _K={x:"y",y:"x"};mC.prototype.preExecute=function(o){var r=this._modeling,s=o.groups,l=o.axis,u=o.dimension;function f(j,q){j.range.min=Math.min(q[l],j.range.min),j.range.max=Math.max(q[l]+q[u],j.range.max)}function p(j){return j[l]+j[u]/2}function v(j){return j.length-1}function y(j){return j.max-j.min}function x(j,q){var Q={y:0};Q[l]=j-p(q),Q[l]&&(Q[_K[l]]=0,r.moveElements([q],Q,q.parent))}var w=s[0],C=v(s),O=s[C],T,P,N=0;D(s,function(j,q){var Q,U,H;if(j.elements.length<2){q&&q!==s.length-1&&(f(j,j.elements[0]),N+=y(j.range));return}Q=ee(j.elements,l),U=Q[0],q===C&&(U=Q[v(Q)]),H=p(U),j.range=null,D(Q,function(X){if(x(H,X),j.range===null){j.range={min:X[l],max:X[l]+X[u]};return}f(j,X)}),q&&q!==s.length-1&&(N+=y(j.range))}),P=Math.abs(O.range.min-w.range.max),T=Math.round((P-N)/(s.length-1)),!(T<s.length-1)&&D(s,function(j,q){var Q={},U;j===w||j===O||(U=s[q-1],j.range.max=0,D(j.elements,function(H,X){Q[_K[l]]=0,Q[l]=U.range.max-H[l]+T,j.range.min!==H[l]&&(Q[l]+=H[l]-j.range.min),Q[l]&&r.moveElements([H],Q,H.parent),j.range.max=Math.max(H[l]+H[u],X?j.range.max:0)}))})},mC.prototype.postExecute=function(o){};function gC(o,r){this._layouter=o,this._canvas=r}gC.$inject=["layouter","canvas"],gC.prototype.execute=function(o){var r=o.connection,s=r.waypoints;return xe(o,{oldWaypoints:s}),r.waypoints=this._layouter.layoutConnection(r,o.hints),r},gC.prototype.revert=function(o){var r=o.connection;return r.waypoints=o.oldWaypoints,r};function $M(){}$M.prototype.execute=function(o){var r=o.connection,s=o.delta,l=o.newParent||r.parent,u=o.newParentIndex,f=r.parent;return o.oldParent=f,o.oldParentIndex=nm(f.children,r),Ud(l.children,r,u),r.parent=l,D(r.waypoints,function(p){p.x+=s.x,p.y+=s.y,p.original&&(p.original.x+=s.x,p.original.y+=s.y)}),r},$M.prototype.revert=function(o){var r=o.connection,s=r.parent,l=o.oldParent,u=o.oldParentIndex,f=o.delta;return nm(s.children,r),Ud(l.children,r,u),r.parent=l,D(r.waypoints,function(p){p.x-=f.x,p.y-=f.y,p.original&&(p.original.x-=f.x,p.original.y-=f.y)}),r};function vC(o,r,s){var l=rY(r),u=rY(s),f=av(o,l),p={x:f.x*(s.width/r.width),y:f.y*(s.height/r.height)};return v3({x:u.x+p.x,y:u.y+p.y})}function NM(o,r,s){var l=yC(o),u=SK(l,r),f=l[0];return u.length?u[u.length-1]:vC(f.original||f,s,r)}function FM(o,r,s){var l=yC(o),u=SK(l,r),f=l[l.length-1];return u.length?u[0]:vC(f.original||f,s,r)}function BM(o,r,s){var l=yC(o),u=CK(r,s),f=l[0];return vC(f.original||f,u,r)}function jM(o,r,s){var l=yC(o),u=CK(r,s),f=l[l.length-1];return vC(f.original||f,u,r)}function CK(o,r){return{x:o.x-r.x,y:o.y-r.y,width:o.width,height:o.height}}function yC(o){var r=o.waypoints;if(!r.length)throw new Error("connection#"+o.id+": no waypoints");return r}function SK(o,r){var s=$(o,jDe);return S(s,function(l){return BDe(l,r)})}function BDe(o,r){return Ba(r,o,1)==="intersect"}function jDe(o){return o.original||o}function VM(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}VM.prototype.add=function(o,r){return this.addAll([o],r)},VM.prototype.addAll=function(o,r){var s=XCe(o,!!r,this);return xe(this,s),this};function F3(o){this._modeling=o}F3.prototype.moveRecursive=function(o,r,s){return o?this.moveClosure(this.getClosure(o),r,s):[]},F3.prototype.moveClosure=function(o,r,s,l,u){var f=this._modeling,p=o.allShapes,v=o.allConnections,y=o.enclosedConnections,x=o.topLevel,w=!1;u&&u.parent===s&&(w=!0),D(p,function(C){f.moveShape(C,r,x[C.id]&&!w&&s,{recurse:!1,layout:!1})}),D(v,function(C){var O=!!p[C.source.id],T=!!p[C.target.id];y[C.id]&&O&&T?f.moveConnection(C,r,x[C.id]&&!w&&s):f.layoutConnection(C,{connectionStart:O&&BM(C,C.source,r),connectionEnd:T&&jM(C,C.target,r)})})},F3.prototype.getClosure=function(o){return new VM().addAll(o,!0)};function bC(o){this._helper=new F3(o)}bC.$inject=["modeling"],bC.prototype.preExecute=function(o){o.closure=this._helper.getClosure(o.shapes)},bC.prototype.postExecute=function(o){var r=o.hints,s;r&&r.primaryShape&&(s=r.primaryShape,r.oldParent=s.parent),this._helper.moveClosure(o.closure,o.delta,o.newParent,o.newHost,s)};function Cm(o){this._modeling=o,this._helper=new F3(o)}Cm.$inject=["modeling"],Cm.prototype.execute=function(o){var r=o.shape,s=o.delta,l=o.newParent||r.parent,u=o.newParentIndex,f=r.parent;return o.oldBounds=_t(r,["x","y","width","height"]),o.oldParent=f,o.oldParentIndex=nm(f.children,r),Ud(l.children,r,u),xe(r,{parent:l,x:r.x+s.x,y:r.y+s.y}),r},Cm.prototype.postExecute=function(o){var r=o.shape,s=o.delta,l=o.hints,u=this._modeling;l.layout!==!1&&(D(r.incoming,function(f){u.layoutConnection(f,{connectionEnd:jM(f,r,s)})}),D(r.outgoing,function(f){u.layoutConnection(f,{connectionStart:BM(f,r,s)})})),l.recurse!==!1&&this.moveChildren(o)},Cm.prototype.revert=function(o){var r=o.shape,s=o.oldParent,l=o.oldParentIndex,u=o.delta;return Ud(s.children,r,l),xe(r,{parent:s,x:r.x-u.x,y:r.y-u.y}),r},Cm.prototype.moveChildren=function(o){var r=o.delta,s=o.shape;this._helper.moveRecursive(s.children,r,null)},Cm.prototype.getNewParent=function(o){return o.newParent||o.shape.parent};function B3(o){this._modeling=o}B3.$inject=["modeling"],B3.prototype.execute=function(o){var r=o.newSource,s=o.newTarget,l=o.connection,u=o.dockingOrPoints;if(!r&&!s)throw new Error("newSource or newTarget required");return d(u)&&(o.oldWaypoints=l.waypoints,l.waypoints=u),r&&(o.oldSource=l.source,l.source=r),s&&(o.oldTarget=l.target,l.target=s),l},B3.prototype.postExecute=function(o){var r=o.connection,s=o.newSource,l=o.newTarget,u=o.dockingOrPoints,f=o.hints||{},p={};f.connectionStart&&(p.connectionStart=f.connectionStart),f.connectionEnd&&(p.connectionEnd=f.connectionEnd),f.layoutConnection!==!1&&(s&&(!l||f.docking==="source")&&(p.connectionStart=p.connectionStart||OK(d(u)?u[0]:u)),l&&(!s||f.docking==="target")&&(p.connectionEnd=p.connectionEnd||OK(d(u)?u[u.length-1]:u)),f.newWaypoints&&(p.waypoints=f.newWaypoints),this._modeling.layoutConnection(r,p))},B3.prototype.revert=function(o){var r=o.oldSource,s=o.oldTarget,l=o.oldWaypoints,u=o.connection;return r&&(u.source=r),s&&(u.target=s),l&&(u.waypoints=l),u};function OK(o){return o.original||o}function Zd(o,r){this._modeling=o,this._rules=r}Zd.$inject=["modeling","rules"],Zd.prototype.preExecute=function(o){var r=this,s=this._modeling,l=this._rules,u=o.oldShape,f=o.newData,p=o.hints||{},v;function y(P,N,j){return l.allowed("connection.reconnect",{connection:j,source:P,target:N})}var x={x:f.x,y:f.y},w={x:u.x,y:u.y,width:u.width,height:u.height};v=o.newShape=o.newShape||r.createShape(f,x,u.parent,p),u.host&&s.updateAttachment(v,u.host);var C;p.moveChildren!==!1&&(C=u.children.slice(),s.moveElements(C,{x:0,y:0},v,p));var O=u.incoming.slice(),T=u.outgoing.slice();D(O,function(P){var N=P.source,j=y(N,v,P);j&&r.reconnectEnd(P,v,FM(P,v,w),p)}),D(T,function(P){var N=P.target,j=y(v,N,P);j&&r.reconnectStart(P,v,NM(P,v,w),p)})},Zd.prototype.postExecute=function(o){var r=o.oldShape;this._modeling.removeShape(r)},Zd.prototype.execute=function(o){},Zd.prototype.revert=function(o){},Zd.prototype.createShape=function(o,r,s,l){return this._modeling.createShape(o,r,s,l)},Zd.prototype.reconnectStart=function(o,r,s,l){this._modeling.reconnectStart(o,r,s,l)},Zd.prototype.reconnectEnd=function(o,r,s,l){this._modeling.reconnectEnd(o,r,s,l)};function j3(o){this._modeling=o}j3.$inject=["modeling"],j3.prototype.execute=function(o){var r=o.shape,s=o.newBounds,l=o.minBounds;if(s.x===void 0||s.y===void 0||s.width===void 0||s.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(l&&(s.width<l.width||s.height<l.height))throw new Error("width and height cannot be less than minimum height and width");if(!l&&s.width<10||s.height<10)throw new Error("width and height cannot be less than 10px");return o.oldBounds={width:r.width,height:r.height,x:r.x,y:r.y},xe(r,{width:s.width,height:s.height,x:s.x,y:s.y}),r},j3.prototype.postExecute=function(o){var r=this._modeling,s=o.shape,l=o.oldBounds,u=o.hints||{};u.layout!==!1&&(D(s.incoming,function(f){r.layoutConnection(f,{connectionEnd:FM(f,s,l)})}),D(s.outgoing,function(f){r.layoutConnection(f,{connectionStart:NM(f,s,l)})}))},j3.prototype.revert=function(o){var r=o.shape,s=o.oldBounds;return xe(r,{width:s.width,height:s.height,x:s.x,y:s.y}),r};function VDe(o,r){var s=[];return D(o.concat(r),function(l){var u=l.incoming,f=l.outgoing;D(u.concat(f),function(p){var v=p.source,y=p.target;(V3(o,v)||V3(o,y)||V3(r,v)||V3(r,y))&&(V3(s,p)||s.push(p))})}),s}function V3(o,r){return o.indexOf(r)!==-1}function zDe(o,r,s){var l=o.x,u=o.y,f=o.width,p=o.height,v=s.x,y=s.y;switch(r){case"n":return{x:l,y:u+y,width:f,height:p-y};case"s":return{x:l,y:u,width:f,height:p+y};case"w":return{x:l+v,y:u,width:f-v,height:p};case"e":return{x:l,y:u,width:f+v,height:p};default:throw new Error("unknown direction: "+r)}}function Rh(o){this._modeling=o}Rh.$inject=["modeling"],Rh.prototype.preExecute=function(o){var r=o.delta,s=o.direction,l=o.movingShapes,u=o.resizingShapes,f=o.start,p={};this.moveShapes(l,r),D(u,function(v){p[v.id]=UDe(v)}),this.resizeShapes(u,r,s),this.updateConnectionWaypoints(VDe(l,u),r,s,f,l,u,p)},Rh.prototype.execute=function(){},Rh.prototype.revert=function(){},Rh.prototype.moveShapes=function(o,r){var s=this;D(o,function(l){s._modeling.moveShape(l,r,null,{autoResize:!1,layout:!1,recurse:!1})})},Rh.prototype.resizeShapes=function(o,r,s){var l=this;D(o,function(u){var f=zDe(u,s,r);l._modeling.resizeShape(u,f,null,{attachSupport:!1,autoResize:!1,layout:!1})})},Rh.prototype.updateConnectionWaypoints=function(o,r,s,l,u,f,p){var v=this,y=u.concat(f);D(o,function(x){var w=x.source,C=x.target,O=HDe(x),T=TK(s),P={};Lh(y,w)&&Lh(y,C)?(O=$(O,function(N){return kK(N,l,s)&&(N[T]=N[T]+r[T]),N.original&&kK(N.original,l,s)&&(N.original[T]=N.original[T]+r[T]),N}),v._modeling.updateWaypoints(x,O,{labelBehavior:!1})):(Lh(y,w)||Lh(y,C))&&(Lh(u,w)?P.connectionStart=BM(x,w,r):Lh(u,C)?P.connectionEnd=jM(x,C,r):Lh(f,w)?P.connectionStart=NM(x,w,p[w.id]):Lh(f,C)&&(P.connectionEnd=FM(x,C,p[C.id])),v._modeling.layoutConnection(x,P))})};function DK(o){return xe({},o)}function HDe(o){return $(o.waypoints,function(r){return r=DK(r),r.original&&(r.original=DK(r.original)),r})}function TK(o){switch(o){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function kK(o,r,s){var l=TK(s);if(/e|s/.test(s))return o[l]>r;if(/n|w/.test(s))return o[l]<r}function Lh(o,r){return o.indexOf(r)!==-1}function UDe(o){return{x:o.x,y:o.y,height:o.height,width:o.width}}function xC(o){this._modeling=o}xC.$inject=["modeling"],xC.prototype.execute=function(o){var r=o.shape,s=r.children;o.oldChildrenVisibility=PK(s),r.collapsed=!r.collapsed;var l=IK(s,r.collapsed);return[r].concat(l)},xC.prototype.revert=function(o){var r=o.shape,s=o.oldChildrenVisibility,l=r.children,u=MK(l,s);return r.collapsed=!r.collapsed,[r].concat(u)};function PK(o){var r={};return D(o,function(s){r[s.id]=s.hidden,s.children&&(r=xe({},r,PK(s.children)))}),r}function IK(o,r){var s=[];return D(o,function(l){l.hidden=r,s=s.concat(l),l.children&&(s=s.concat(IK(l.children,l.collapsed||r)))}),s}function MK(o,r){var s=[];return D(o,function(l){l.hidden=r[l.id],s=s.concat(l),l.children&&(s=s.concat(MK(l.children,r)))}),s}function EC(o){this._modeling=o}EC.$inject=["modeling"],EC.prototype.execute=function(o){var r=o.shape,s=o.newHost,l=r.host;return o.oldHost=l,o.attacherIdx=AK(l,r),RK(s,r),r.host=s,r},EC.prototype.revert=function(o){var r=o.shape,s=o.newHost,l=o.oldHost,u=o.attacherIdx;return r.host=l,AK(s,r),RK(l,r,u),r};function AK(o,r){return nm(o&&o.attachers,r)}function RK(o,r,s){if(o){var l=o.attachers;l||(o.attachers=l=[]),Ud(l,r,s)}}function zM(){}zM.prototype.execute=function(o){var r=o.connection,s=o.newWaypoints;return o.oldWaypoints=r.waypoints,r.waypoints=s,r},zM.prototype.revert=function(o){var r=o.connection,s=o.oldWaypoints;return r.waypoints=s,r};function tr(o,r,s){this._eventBus=o,this._elementFactory=r,this._commandStack=s;var l=this;o.on("diagram.init",function(){l.registerHandlers(s)})}tr.$inject=["eventBus","elementFactory","commandStack"],tr.prototype.getHandlers=function(){return{"shape.append":fC,"shape.create":Ah,"shape.delete":N3,"shape.move":Cm,"shape.resize":j3,"shape.replace":Zd,"shape.toggleCollapse":xC,spaceTool:Rh,"label.create":R3,"connection.create":hC,"connection.delete":$3,"connection.move":$M,"connection.layout":gC,"connection.updateWaypoints":zM,"connection.reconnect":B3,"elements.create":RM,"elements.move":bC,"elements.delete":LM,"elements.distribute":mC,"elements.align":dC,"element.updateAttachment":EC}},tr.prototype.registerHandlers=function(o){D(this.getHandlers(),function(r,s){o.registerHandler(s,r)})},tr.prototype.moveShape=function(o,r,s,l,u){typeof l=="object"&&(u=l,l=null);var f={shape:o,delta:r,newParent:s,newParentIndex:l,hints:u||{}};this._commandStack.execute("shape.move",f)},tr.prototype.updateAttachment=function(o,r){var s={shape:o,newHost:r};this._commandStack.execute("element.updateAttachment",s)},tr.prototype.moveElements=function(o,r,s,l){l=l||{};var u=l.attach,f=s,p;u===!0?(p=s,f=s.parent):u===!1&&(p=null);var v={shapes:o,delta:r,newParent:f,newHost:p,hints:l};this._commandStack.execute("elements.move",v)},tr.prototype.moveConnection=function(o,r,s,l,u){typeof l=="object"&&(u=l,l=void 0);var f={connection:o,delta:r,newParent:s,newParentIndex:l,hints:u||{}};this._commandStack.execute("connection.move",f)},tr.prototype.layoutConnection=function(o,r){var s={connection:o,hints:r||{}};this._commandStack.execute("connection.layout",s)},tr.prototype.createConnection=function(o,r,s,l,u,f){typeof s=="object"&&(f=u,u=l,l=s,s=void 0),l=this._create("connection",l);var p={source:o,target:r,parent:u,parentIndex:s,connection:l,hints:f};return this._commandStack.execute("connection.create",p),p.connection},tr.prototype.createShape=function(o,r,s,l,u){typeof l!="number"&&(u=l,l=void 0),u=u||{};var f=u.attach,p,v;o=this._create("shape",o),f?(p=s.parent,v=s):p=s;var y={position:r,shape:o,parent:p,parentIndex:l,host:v,hints:u};return this._commandStack.execute("shape.create",y),y.shape},tr.prototype.createElements=function(o,r,s,l,u){d(o)||(o=[o]),typeof l!="number"&&(u=l,l=void 0),u=u||{};var f={position:r,elements:o,parent:s,parentIndex:l,hints:u};return this._commandStack.execute("elements.create",f),f.elements},tr.prototype.createLabel=function(o,r,s,l){s=this._create("label",s);var u={labelTarget:o,position:r,parent:l||o.parent,shape:s};return this._commandStack.execute("label.create",u),u.shape},tr.prototype.appendShape=function(o,r,s,l,u){u=u||{},r=this._create("shape",r);var f={source:o,position:s,target:l,shape:r,connection:u.connection,connectionParent:u.connectionParent,hints:u};return this._commandStack.execute("shape.append",f),f.shape},tr.prototype.removeElements=function(o){var r={elements:o};this._commandStack.execute("elements.delete",r)},tr.prototype.distributeElements=function(o,r,s){var l={groups:o,axis:r,dimension:s};this._commandStack.execute("elements.distribute",l)},tr.prototype.removeShape=function(o,r){var s={shape:o,hints:r||{}};this._commandStack.execute("shape.delete",s)},tr.prototype.removeConnection=function(o,r){var s={connection:o,hints:r||{}};this._commandStack.execute("connection.delete",s)},tr.prototype.replaceShape=function(o,r,s){var l={oldShape:o,newData:r,hints:s||{}};return this._commandStack.execute("shape.replace",l),l.newShape},tr.prototype.alignElements=function(o,r){var s={elements:o,alignment:r};this._commandStack.execute("elements.align",s)},tr.prototype.resizeShape=function(o,r,s,l){var u={shape:o,newBounds:r,minBounds:s,hints:l};this._commandStack.execute("shape.resize",u)},tr.prototype.createSpace=function(o,r,s,l,u){var f={delta:s,direction:l,movingShapes:o,resizingShapes:r,start:u};this._commandStack.execute("spaceTool",f)},tr.prototype.updateWaypoints=function(o,r,s){var l={connection:o,newWaypoints:r,hints:s||{}};this._commandStack.execute("connection.updateWaypoints",l)},tr.prototype.reconnect=function(o,r,s,l,u){var f={connection:o,newSource:r,newTarget:s,dockingOrPoints:l,hints:u||{}};this._commandStack.execute("connection.reconnect",f)},tr.prototype.reconnectStart=function(o,r,s,l){l||(l={}),this.reconnect(o,r,o.target,s,xe(l,{docking:"source"}))},tr.prototype.reconnectEnd=function(o,r,s,l){l||(l={}),this.reconnect(o,o.source,r,s,xe(l,{docking:"target"}))},tr.prototype.connect=function(o,r,s,l){return this.createConnection(o,r,s||{},o.parent,l)},tr.prototype._create=function(o,r){return I6e(r)?r:this._elementFactory.create(o,r)},tr.prototype.toggleCollapse=function(o,r){var s={shape:o,hints:r||{}};this._commandStack.execute("shape.toggleCollapse",s)};function wC(o){this._moddle=o}wC.$inject=["moddle"],wC.prototype.execute=function(o){var r=this._moddle.ids,s=o.id,l=o.element,u=o.claiming;u?r.claim(s,l):r.unclaim(s)},wC.prototype.revert=function(o){var r=this._moddle.ids,s=o.id,l=o.element,u=o.claiming;u?r.unclaim(s):r.claim(s,l)};function qDe(){function o(l,u){var f=l.label||l,p=l.labelTarget||l;return $Oe(f,u,p!==f),[f,p]}function r(l){return l.oldLabel=z_(l.element),o(l.element,l.newLabel)}function s(l){return o(l.element,l.oldLabel)}this.execute=r,this.revert=s}var WDe="name",Jd="id";function _C(o,r){this._elementRegistry=o,this._moddle=r}_C.$inject=["elementRegistry","moddle"],_C.prototype.execute=function(o){var r=o.element,s=[r];if(!r)throw new Error("element required");var l=this._elementRegistry,u=this._moddle.ids,f=r.businessObject,p=o.properties,v=o.oldProperties||GDe(f,F(p));return LK(p,f)&&(u.unclaim(f[Jd]),l.updateId(r,p[Jd]),u.claim(p[Jd],f)),WDe in p&&r.label&&s.push(r.label),$K(f,p),o.oldProperties=v,o.changed=s,s},_C.prototype.revert=function(o){var r=o.element,s=o.properties,l=o.oldProperties,u=r.businessObject,f=this._elementRegistry,p=this._moddle.ids;return $K(u,l),LK(s,u)&&(p.unclaim(s[Jd]),f.updateId(r,l[Jd]),p.claim(l[Jd],u)),o.changed};function LK(o,r){return Jd in o&&o[Jd]!==r[Jd]}function GDe(o,r){return k(r,function(s,l){return s[l]=o.get(l),s},{})}function $K(o,r){D(r,function(s,l){o.set(l,s)})}function CC(o){this._elementRegistry=o}CC.$inject=["elementRegistry"],CC.prototype.execute=function(o){var r=o.element,s=o.moddleElement,l=o.properties;if(!s)throw new Error("<moddleElement> required");var u=o.changed||[r],f=o.oldProperties||QDe(s,F(l));return NK(s,l),o.oldProperties=f,o.changed=u,u},CC.prototype.revert=function(o){var r=o.oldProperties,s=o.moddleElement,l=o.changed;return NK(s,r),l};function QDe(o,r){return k(r,function(s,l){return s[l]=o.get(l),s},{})}function NK(o,r){D(r,function(s,l){o.set(l,s)})}function Pu(o,r,s){this._canvas=o,this._drdRules=r,s.invoke(tr,this)}ri(Pu,tr),Pu.$inject=["canvas","drdRules","injector"],Pu.prototype.claimId=function(o,r){this._commandStack.execute("id.updateClaim",{id:o,element:r,claiming:!0})},Pu.prototype.connect=function(o,r,s,l){var u=this._drdRules,f=this._canvas.getRootElement();return s||(s=u.canConnect(o,r)||{type:"dmn:Association"}),this.createConnection(o,r,s,f,l)},Pu.prototype.getHandlers=function(){var o=tr.prototype.getHandlers.call(this);return o["id.updateClaim"]=wC,o["element.updateLabel"]=qDe,o["element.updateProperties"]=_C,o["element.updateModdleProperties"]=CC,o},Pu.prototype.unclaimId=function(o,r){this._commandStack.execute("id.updateClaim",{id:o,element:r})},Pu.prototype.updateModdleProperties=function(o,r,s){this._commandStack.execute("element.updateModdleProperties",{element:o,moddleElement:r,properties:s})},Pu.prototype.updateProperties=function(o,r){this._commandStack.execute("element.updateProperties",{element:o,properties:r})},Pu.prototype.updateLabel=function(o,r,s,l){this._commandStack.execute("element.updateLabel",{element:o,newLabel:r,newBounds:s,hints:l||{}})};function FK(){}FK.prototype.layoutConnection=function(o,r){return r=r||{},[r.connectionStart||Qn(r.source||o.source),r.connectionEnd||Qn(r.target||o.target)]};var SC=20;function OC(o){this._connectionDocking=o}ri(OC,FK),OC.$inject=["connectionDocking"],OC.prototype.layoutConnection=function(o,r){var s=this._connectionDocking;r||(r={});var l=r.source||o.source,u=r.target||o.target,f=r.waypoints||o.waypoints||[],p=r.connectionStart,v=r.connectionEnd,y=Ba(l,u);if(p||(p=BK(f[0],l)),v||(v=BK(f[f.length-1],u)),we(o,"dmn:InformationRequirement")){f=[p,v];var x=s.getCroppedWaypoints(xe({},o,{waypoints:f}),l,u);v=x.pop();var w={x:v.x,y:v.y};return y.includes("bottom")?w.y+=SC:y.includes("top")?w.y-=SC:y.includes("right")?w.x+=SC:w.x-=SC,f=x.concat([w,v]),f}return[p,v]};function BK(o,r){return o?o.original||o:Qn(r)}function jK(o){return xe({original:o.point.original||o.point},o.actual)}function $h(o,r){this._elementRegistry=o,this._graphicsFactory=r}$h.$inject=["elementRegistry","graphicsFactory"],$h.prototype.getCroppedWaypoints=function(o,r,s){r=r||o.source,s=s||o.target;var l=this.getDockingPoint(o,r,!0),u=this.getDockingPoint(o,s),f=o.waypoints.slice(l.idx+1,u.idx);return f.unshift(jK(l)),f.push(jK(u)),f},$h.prototype.getDockingPoint=function(o,r,s){var l=o.waypoints,u,f,p;return u=s?0:l.length-1,f=l[u],p=this._getIntersection(r,o,s),{point:f,actual:p||f,idx:u}},$h.prototype._getIntersection=function(o,r,s){var l=this._getShapePath(o),u=this._getConnectionPath(r);return mI(l,u,s)},$h.prototype._getConnectionPath=function(o){return this._graphicsFactory.getConnectionPath(o)},$h.prototype._getShapePath=function(o){return this._graphicsFactory.getShapePath(o)},$h.prototype._getGfx=function(o){return this._elementRegistry.getGraphics(o)};var YDe={__init__:["modeling","drdUpdater"],__depends__:[ADe,RDe,UI,DM,Du,hK],drdFactory:["type",Cc],drdUpdater:["type",Mh],elementFactory:["type",fm],modeling:["type",Pu],layouter:["type",OC],connectionDocking:["type",$h]},XDe=500,KDe=1250,ZDe=1500,DC=Math.round;function JDe(o){return{x:o.x+DC(o.width/2),y:o.y+DC(o.height/2)}}function VK(o,r,s,l,u){function f(v,y,x,w){return u.allowed("elements.move",{shapes:v,delta:y,position:x,target:w})}o.on("shape.move.start",ZDe,function(v){var y=v.context,x=v.shape,w=l.get().slice();w.indexOf(x)===-1&&(w=[x]),w=eTe(w),xe(y,{shapes:w,validatedShapes:w,shape:x})}),o.on("shape.move.start",KDe,function(v){var y=v.context,x=y.validatedShapes,w;if(w=y.canExecute=f(x),!w)return!1}),o.on("shape.move.move",XDe,function(v){var y=v.context,x=y.validatedShapes,w=v.hover,C={x:v.dx,y:v.dy},O={x:v.x,y:v.y},T;if(T=f(x,C,O,w),y.delta=C,y.canExecute=T,T===null){y.target=null;return}y.target=w}),o.on("shape.move.end",function(v){var y=v.context,x=y.delta,w=y.canExecute,C=w==="attach",O=y.shapes;if(w===!1)return!1;x.x=DC(x.x),x.y=DC(x.y),!(x.x===0&&x.y===0)&&s.moveElements(O,x,y.target,{primaryShape:y.shape,attach:C})}),o.on("element.mousedown",function(v){if(Th(v)){var y=ov(v);if(!y)throw new Error("must supply DOM mousedown event");return p(y,v.element)}});function p(v,y,x,w){if(h(x)&&(w=x,x=!1),!(y.waypoints||!y.parent)&&!_n(v.target).has("djs-hit-no-move")){var C=JDe(y);return r.init(v,C,"shape.move",{cursor:"grabbing",autoActivate:x,data:{shape:y,context:w||{}}}),!0}}this.start=p}VK.$inject=["eventBus","dragging","modeling","selection","rules"];function eTe(o){var r=G(o,"id");return S(o,function(s){for(;s=s.parent;)if(r[s.id])return!1;return!0})}var zK=499,HM="djs-dragging",HK="drop-ok",UK="drop-not-ok",qK="new-parent",WK="attach-ok";function GK(o,r,s,l){function u(y){var x=f(y),w=tTe(x);return w}function f(y){var x=YCe(y,!0),w=x.flatMap(T=>(T.incoming||[]).concat(T.outgoing||[])),C=x.concat(w),O=[...new Set(C)];return O}function p(y,x){[WK,HK,UK,qK].forEach(function(w){w===x?r.addMarker(y,w):r.removeMarker(y,w)})}function v(y,x,w){l.addDragger(x,y.dragGroup),w&&r.addMarker(x,HM),y.allDraggedElements?y.allDraggedElements.push(x):y.allDraggedElements=[x]}o.on("shape.move.start",zK,function(y){var x=y.context,w=x.shapes,C=x.allDraggedElements,O=u(w);if(!x.dragGroup){var T=zt("g");ht(T,s.cls("djs-drag-group",["no-events"]));var P=r.getActiveLayer();Qt(P,T),x.dragGroup=T}O.forEach(function(N){l.addDragger(N,x.dragGroup)}),C?C=t([C,f(w)]):C=f(w),D(C,function(N){r.addMarker(N,HM)}),x.allDraggedElements=C,x.differentParents=nTe(w)}),o.on("shape.move.move",zK,function(y){var x=y.context,w=x.dragGroup,C=x.target,O=x.shape.parent,T=x.canExecute;C&&(T==="attach"?p(C,WK):x.canExecute&&O&&C.id!==O.id?p(C,qK):p(C,x.canExecute?HK:UK)),_u(w,y.dx,y.dy)}),o.on(["shape.move.out","shape.move.cleanup"],function(y){var x=y.context,w=x.target;w&&p(w,null)}),o.on("shape.move.cleanup",function(y){var x=y.context,w=x.allDraggedElements,C=x.dragGroup;D(w,function(O){r.removeMarker(O,HM)}),C&&us(C)}),this.makeDraggable=v}GK.$inject=["eventBus","canvas","styles","previewSupport"];function tTe(o){var r=S(o,function(s){return Ls(s)?_(o,oe({id:s.source.id}))&&_(o,oe({id:s.target.id})):!0});return r}function nTe(o){return L(G(o,function(r){return r.parent&&r.parent.id}))!==1}var rTe={__depends__:[N_,Du,jI,mm,pm,lM],__init__:["move","movePreview"],move:["type",VK],movePreview:["type",GK]};let iTe=`
M2.45221 16.0068L18.7175 1.74436L18.0615 0.996331L18.7175 1.74436C19.2646 1.26455 19.9676 
1 20.6953 1H140.926C142.583 1 143.926 2.34295 143.926 3.99967L143.93 37.5457C143.93 
38.3668 143.593 39.152 142.999 39.7183L143.689 40.4424L142.999 39.7183L127.299 
54.6723C126.741 55.2036 126 55.5 125.23 55.5H4.53787C2.88599 55.5 1.54491 54.1646 1.5379 
52.5127L1.43066 27.229L1.43065 27.2248L1.4301 18.2626C1.43005 
17.3986 1.80255 16.5765 2.45221 16.0068Z
`,oTe=`
M1.79494 63.0032L1.2941 63.6423L1.79493 63.0032C1.71778 62.9427 1.6428 62.8741 1.57288 
62.8L1.01736 63.3241L1.57288 62.8C1.20495 62.41 1 61.8941 1 61.3579V2.65067C1 1.74066 
1.73867 1.00345 2.64868 1.00526L108.006 1.2145C109.66 1.21778 111 2.55996 111 
4.21449V21.7015V61.6762C111 63.3188 109.679 64.656 108.037 64.676L107.06 64.6879C106.66 
64.6927 106.26 64.6165 105.89 64.4652C105.04 64.1176 104.222 63.78 103.43 
63.4531C93.4866 59.3517 87.6891 56.9603 76.3991 58.1057C71.7035 58.5821 66.8747 60.74 
61.5721 63.1744C61.3243 63.2881 61.0753 63.4026 60.825 63.5177C55.6712 65.8868 49.9696 
68.5077 43.2365 70.3468C31.101 73.6617 15.2135 73.5179 1.79494 63.0032Z
`,sTe={width:135,height:46},aTe={width:100,height:63};function QK(o,r,s){return zt("path",se({d:o,strokeWidth:2,transform:`translate(${r.x}, ${r.y})`},s))}let TC=5;function kC(o,r){this._styles=r,o.registerProvider(this)}kC.$inject=["outline","styles"],kC.prototype.getOutline=function(o){let r=this._styles.cls("djs-outline",["no-fill"]);var s;return we(o,"dmn:InputData")?(s=zt("rect"),ht(s,xe({x:-TC,y:-TC,rx:27,width:o.width+TC*2,height:o.height+TC*2},r))):we(o,"dmn:BusinessKnowledgeModel")&&YK(o,"dmn:BusinessKnowledgeModel")?s=QK(iTe,{x:-6,y:-6},r):we(o,"dmn:KnowledgeSource")&&YK(o,"dmn:KnowledgeSource")&&(s=QK(oTe,{x:-6,y:-1.5},r)),s},kC.prototype.updateOutline=function(o){return!!Rs(o,["dmn:InputData","dmn:BusinessKnowledgeModel","dmn:KnowledgeSource"])};function YK(o,r){var s;return r==="dmn:BusinessKnowledgeModel"?s=sTe:r==="dmn:KnowledgeSource"&&(s=aTe),o.width===s.width&&o.height===s.height}var lTe={__depends__:[jI],__init__:["outlineProvider"],outlineProvider:["type",kC]},XK=".djs-palette-toggle",KK=".entry",cTe=XK+", "+KK,UM="djs-palette-",uTe="shown",qM="open",ZK="two-column",dTe=1e3;function pi(o,r){this._eventBus=o,this._canvas=r;var s=this;o.on("tool-manager.update",function(l){var u=l.tool;s.updateToolHighlight(u)}),o.on("i18n.changed",function(){s._update()}),o.on("diagram.init",function(){s._diagramInitialized=!0,s._rebuild()})}pi.$inject=["eventBus","canvas"],pi.prototype.registerProvider=function(o,r){r||(r=o,o=dTe),this._eventBus.on("palette.getProviders",o,function(s){s.providers.push(r)}),this._rebuild()},pi.prototype.getEntries=function(){var o=this._getProviders();return o.reduce(hTe,{})},pi.prototype._rebuild=function(){if(this._diagramInitialized){var o=this._getProviders();o.length&&(this._container||this._init(),this._update())}},pi.prototype._init=function(){var o=this,r=this._eventBus,s=this._getParentContainer(),l=this._container=Gn(pi.HTML_MARKUP);s.appendChild(l),Jt(s).add(UM+uTe),Fa.bind(l,cTe,"click",function(u){var f=u.delegateTarget;if(Z1(f,XK))return o.toggle();o.trigger("click",u)}),ft.bind(l,"mousedown",function(u){u.stopPropagation()}),Fa.bind(l,KK,"dragstart",function(u){o.trigger("dragstart",u)}),r.on("canvas.resized",this._layoutChanged,this),r.fire("palette.create",{container:l})},pi.prototype._getProviders=function(o){var r=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(r),r.providers},pi.prototype._toggleState=function(o){o=o||{};var r=this._getParentContainer(),s=this._container,l=this._eventBus,u,f=Jt(s),p=Jt(r);"twoColumn"in o?u=o.twoColumn:u=this._needsCollapse(r.clientHeight,this._entries||{}),f.toggle(ZK,u),p.toggle(UM+ZK,u),"open"in o&&(f.toggle(qM,o.open),p.toggle(UM+qM,o.open)),l.fire("palette.changed",{twoColumn:u,open:this.isOpen()})},pi.prototype._update=function(){var o=ln(".djs-palette-entries",this._container),r=this._entries=this.getEntries();u_(o),D(r,function(s,l){var u=s.group||"default",f=ln("[data-group="+QI(u)+"]",o);f||(f=Gn('<div class="group"></div>'),cs(f,"data-group",u),o.appendChild(f));var p=s.html||(s.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),v=Gn(p);if(f.appendChild(v),!s.separator&&(cs(v,"data-action",l),s.title&&cs(v,"title",s.title),s.className&&fTe(v,s.className),s.imageUrl)){var y=Gn("<img>");cs(y,"src",s.imageUrl),v.appendChild(y)}}),this.open()},pi.prototype.trigger=function(o,r,s){var l,u,f=r.delegateTarget||r.target;return f?(l=cs(f,"data-action"),u=r.originalEvent||r,this.triggerEntry(l,o,u,s)):r.preventDefault()},pi.prototype.triggerEntry=function(o,r,s,l){var u=this._entries,f,p;if(f=u[o],!!f&&(p=f.action,this._eventBus.fire("palette.trigger",{entry:f,event:s})!==!1)){if(g(p)){if(r==="click")return p(s,l)}else if(p[r])return p[r](s,l);s.preventDefault()}},pi.prototype._layoutChanged=function(){this._toggleState({})},pi.prototype._needsCollapse=function(o,r){var s=50,l=Object.keys(r).length*46;return o<l+s},pi.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},pi.prototype.open=function(){this._toggleState({open:!0})},pi.prototype.toggle=function(){this.isOpen()?this.close():this.open()},pi.prototype.isActiveTool=function(o){return o&&this._activeTool===o},pi.prototype.updateToolHighlight=function(o){var r,s;this._toolsContainer||(r=ln(".djs-palette-entries",this._container),this._toolsContainer=ln("[data-group=tools]",r)),s=this._toolsContainer,D(s.children,function(l){var u=l.getAttribute("data-action");if(u){var f=Jt(l);u=u.replace("-tool",""),f.contains("entry")&&u===o?f.add("highlighted-entry"):f.remove("highlighted-entry")}})},pi.prototype.isOpen=function(){return Jt(this._container).has(qM)},pi.prototype._getParentContainer=function(){return this._canvas.getContainer()},pi.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';function fTe(o,r){var s=Jt(o),l=d(r)?r:r.split(/\s+/g);l.forEach(function(u){s.add(u)})}function hTe(o,r){var s=r.getPaletteEntries();return g(s)?s(o):(D(s,function(l,u){o[u]=l}),o)}var pTe={__init__:["palette"],palette:["type",pi]},mTe=250;function Sm(o){this._eventBus=o,this._tools=[],this._active=null}Sm.$inject=["eventBus"],Sm.prototype.registerTool=function(o,r){var s=this._tools;if(!r)throw new Error(`A tool has to be registered with it's "events"`);s.push(o),this.bindEvents(o,r)},Sm.prototype.isActive=function(o){return o&&this._active===o},Sm.prototype.length=function(o){return this._tools.length},Sm.prototype.setActive=function(o){var r=this._eventBus;this._active!==o&&(this._active=o,r.fire("tool-manager.update",{tool:o}))},Sm.prototype.bindEvents=function(o,r){var s=this._eventBus,l=[];s.on(r.tool+".init",function(u){var f=u.context;if(!f.reactivate&&this.isActive(o)){this.setActive(null);return}this.setActive(o)},this),D(r,function(u){l.push(u+".ended"),l.push(u+".canceled")}),s.on(l,mTe,function(u){this._active&&(gTe(u)||this.setActive(null))},this)};function gTe(o){var r=o.originalEvent&&o.originalEvent.target;return r&&Bo(r,'.group[data-group="tools"]')}var JK={__depends__:[pm],__init__:["toolManager"],toolManager:["type",Sm]};function WM(o){var r=this;this._lastMoveEvent=null;function s(l){r._lastMoveEvent=l}o.on("canvas.init",function(l){var u=r._svg=l.svg;u.addEventListener("mousemove",s)}),o.on("canvas.destroy",function(){r._lastMouseEvent=null,r._svg.removeEventListener("mousemove",s)})}WM.$inject=["eventBus"],WM.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||vTe(0,0)};function vTe(o,r){var s=document.createEvent("MouseEvent"),l=o,u=r,f=o,p=r;return s.initMouseEvent&&s.initMouseEvent("mousemove",!0,!0,window,0,l,u,f,p,!1,!1,!1,!1,0,null),s}var eZ={__init__:["mouse"],mouse:["type",WM]},tZ="crosshair";function Om(o,r,s,l,u,f,p){this._selection=u,this._dragging=s,this._mouse=p;var v=this,y={create:function(x){var w=r.getActiveLayer(),C;C=x.frame=zt("rect"),ht(C,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),Qt(w,C)},update:function(x){var w=x.frame,C=x.bbox;ht(w,{x:C.x,y:C.y,width:C.width,height:C.height})},remove:function(x){x.frame&&us(x.frame)}};f.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),o.on("lasso.selection.end",function(x){var w=x.originalEvent.target;!x.hover&&!(w instanceof SVGElement)||o.once("lasso.selection.ended",function(){v.activateLasso(x.originalEvent,!0)})}),o.on("lasso.end",0,function(x){var w=x.context,C=GM(x),O=l.filter(function(P){return P}),T=BI(x);v.select(O,C,T?w.selection:[])}),o.on("lasso.start",function(x){var w=x.context;w.bbox=GM(x),y.create(w),w.selection=u.get()}),o.on("lasso.move",function(x){var w=x.context;w.bbox=GM(x),y.update(w)}),o.on("lasso.cleanup",function(x){var w=x.context;y.remove(w)}),o.on("element.mousedown",1500,function(x){if(BI(x))return v.activateLasso(x.originalEvent),!0})}Om.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],Om.prototype.activateLasso=function(o,r){this._dragging.init(o,"lasso",{autoActivate:r,cursor:tZ,data:{context:{}}})},Om.prototype.activateSelection=function(o,r){this._dragging.init(o,"lasso.selection",{trapClick:!1,autoActivate:r,cursor:tZ,data:{context:{}},keepSelection:!0})},Om.prototype.select=function(o,r,s=[]){var l=KCe(o,r);this._selection.select([...s,...V(l)])},Om.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var o=this._mouse.getLastMoveEvent();this.activateSelection(o,!!o)},Om.prototype.isActive=function(){var o=this._dragging.context();return o&&/^lasso/.test(o.prefix)};function GM(o){var r={x:o.x-o.dx,y:o.y-o.dy},s={x:o.x,y:o.y},l;return r.x<=s.x&&r.y<s.y||r.x<s.x&&r.y<=s.y?l={x:r.x,y:r.y,width:s.x-r.x,height:s.y-r.y}:r.x>=s.x&&r.y<s.y||r.x>s.x&&r.y<=s.y?l={x:s.x,y:r.y,width:r.x-s.x,height:s.y-r.y}:r.x<=s.x&&r.y>s.y||r.x<s.x&&r.y>=s.y?l={x:r.x,y:s.y,width:s.x-r.x,height:r.y-s.y}:r.x>=s.x&&r.y>s.y||r.x>s.x&&r.y>=s.y?l={x:s.x,y:s.y,width:r.x-s.x,height:r.y-s.y}:l={x:s.x,y:s.y,width:0,height:0},l}var yTe={__depends__:[JK,eZ],__init__:["lassoTool"],lassoTool:["type",Om]},QM=1500,nZ="grab";function gv(o,r,s,l,u,f){this._dragging=s,this._mouse=f;var p=this,v=l.get("keyboard",!1);u.registerTool("hand",{tool:"hand",dragging:"hand.move"}),o.on("element.mousedown",QM,function(y){if(FI(y))return p.activateMove(y.originalEvent,!0),!1}),v&&v.addListener(QM,function(y){if(!(!rZ(y.keyEvent)||p.isActive())){var x=p._mouse.getLastMoveEvent();p.activateMove(x,!!x)}},"keyboard.keydown"),v&&v.addListener(QM,function(y){!rZ(y.keyEvent)||!p.isActive()||p.toggle()},"keyboard.keyup"),o.on("hand.end",function(y){var x=y.originalEvent.target;if(!y.hover&&!(x instanceof SVGElement))return!1;o.once("hand.ended",function(){p.activateMove(y.originalEvent,{reactivate:!0})})}),o.on("hand.move.move",function(y){var x=r.viewbox().scale;r.scroll({dx:y.dx*x,dy:y.dy*x})}),o.on("hand.move.end",function(y){var x=y.context,w=x.reactivate;return!FI(y)&&w&&o.once("hand.move.ended",function(C){p.activateHand(C.originalEvent,!0,!0)}),!1})}gv.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],gv.prototype.activateMove=function(o,r,s){typeof r=="object"&&(s=r,r=!1),this._dragging.init(o,"hand.move",{autoActivate:r,cursor:nZ,data:{context:s||{}}})},gv.prototype.activateHand=function(o,r,s){this._dragging.init(o,"hand",{trapClick:!1,autoActivate:r,cursor:nZ,data:{context:{reactivate:s}}})},gv.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var o=this._mouse.getLastMoveEvent();this.activateHand(o,!!o)},gv.prototype.isActive=function(){var o=this._dragging.context();return o?/^(hand|hand\.move)$/.test(o.prefix):!1};function rZ(o){return Fi("Space",o)}var bTe={__depends__:[JK,eZ],__init__:["handTool"],handTool:["type",gv]};function YM(o,r,s,l,u,f){this._palette=o,this._create=r,this._elementFactory=s,this._handTool=l,this._lassoTool=u,this._translate=f,o.registerProvider(this)}YM.$inject=["palette","create","elementFactory","handTool","lassoTool","translate"],YM.prototype.getPaletteEntries=function(o){var r={},s=this._create,l=this._elementFactory,u=this._handTool,f=this._lassoTool,p=this._translate;function v(y,x,w,C,O){function T(P){var N=l.createShape(xe({type:y},O));s.start(P,N)}return{group:x,className:w,title:C,action:{dragstart:T,click:T}}}return xe(r,{"hand-tool":{group:"tools",className:"dmn-icon-hand-tool",title:p("Activate hand tool"),action:{click:function(y){u.activateHand(y)}}},"lasso-tool":{group:"tools",className:"dmn-icon-lasso-tool",title:p("Activate lasso tool"),action:{click:function(y){f.activateSelection(y)}}},"tool-separator":{group:"tools",separator:!0},"create.decision":v("dmn:Decision","drd","dmn-icon-decision",p("Create decision")),"create.input-data":v("dmn:InputData","drd","dmn-icon-input-data",p("Create input data")),"create.knowledge-source":v("dmn:KnowledgeSource","drd","dmn-icon-knowledge-source",p("Create knowledge source")),"create.business-knowledge-model":v("dmn:BusinessKnowledgeModel","drd","dmn-icon-business-knowledge",p("Create knowledge model"))}),r};var xTe={__depends__:[Ha,pTe,mX,yTe,bTe],__init__:["paletteProvider"],paletteProvider:["type",YM]},PC=Math.max,IC=Math.min,ETe=20;function wTe(o,r,s){var l=s.x,u=s.y,f={x:o.x,y:o.y,width:o.width,height:o.height};return r.indexOf("n")!==-1?(f.y=o.y+u,f.height=o.height-u):r.indexOf("s")!==-1&&(f.height=o.height+u),r.indexOf("e")!==-1?f.width=o.width+l:r.indexOf("w")!==-1&&(f.x=o.x+l,f.width=o.width-l),f}function MC(o,r,s){var l=r[o],u=s.min&&s.min[o],f=s.max&&s.max[o];return m(u)&&(l=(/top|left/.test(o)?IC:PC)(l,u)),m(f)&&(l=(/top|left/.test(o)?PC:IC)(l,f)),l}function _Te(o,r){if(!r)return o;var s=$t(o);return GG({top:MC("top",s,r),right:MC("right",s,r),bottom:MC("bottom",s,r),left:MC("left",s,r)})}function CTe(o,r,s,l){var u=$t(r),f={top:/n/.test(o)?u.bottom-s.height:u.top,left:/w/.test(o)?u.right-s.width:u.left,bottom:/s/.test(o)?u.top+s.height:u.bottom,right:/e/.test(o)?u.left+s.width:u.right},p=l?$t(l):f,v={top:IC(f.top,p.top),left:IC(f.left,p.left),bottom:PC(f.bottom,p.bottom),right:PC(f.right,p.right)};return GG(v)}function z3(o,r){return typeof o<"u"?o:ETe}function STe(o,r){var s,l,u,f;return typeof r=="object"?(s=z3(r.left),l=z3(r.right),u=z3(r.top),f=z3(r.bottom)):s=l=u=f=z3(r),{x:o.x-s,y:o.y-u,width:o.width+s+l,height:o.height+u+f}}function OTe(o){return!(o.waypoints||o.type==="label")}function DTe(o,r){var s;if(o.length===void 0?s=S(o.children,OTe):s=o,s.length)return STe(Ol(s),r)}var iZ=10;function H3(o,r,s,l){this._dragging=l,this._rules=r;var u=this;function f(y,x){var w=y.shape,C=y.direction,O=y.resizeConstraints,T;y.delta=x,T=wTe(w,C,x),y.newBounds=_Te(T,O),y.canExecute=u.canResize(y)}function p(y){var x=y.resizeConstraints,w=y.minBounds;x===void 0&&(w===void 0&&(w=u.computeMinResizeBox(y)),y.resizeConstraints={min:$t(w)})}function v(y){var x=y.shape,w=y.canExecute,C=y.newBounds;if(w){if(C=p6e(C),!TTe(x,C))return;s.resizeShape(x,C)}}o.on("resize.start",function(y){p(y.context)}),o.on("resize.move",function(y){var x={x:y.dx,y:y.dy};f(y.context,x)}),o.on("resize.end",function(y){v(y.context)})}H3.prototype.canResize=function(o){var r=this._rules,s=_t(o,["newBounds","shape","delta","direction"]);return r.allowed("shape.resize",s)},H3.prototype.activate=function(o,r,s){var l=this._dragging,u,f;if(typeof s=="string"&&(s={direction:s}),u=xe({shape:r},s),f=u.direction,!f)throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");l.init(o,oZ(r,f),"resize",{autoActivate:!0,cursor:kTe(f),data:{shape:r,context:u}})},H3.prototype.computeMinResizeBox=function(o){var r=o.shape,s=o.direction,l,u;return l=o.minDimensions||{width:iZ,height:iZ},u=DTe(r,o.childrenBoxPadding),CTe(s,r,l,u)},H3.$inject=["eventBus","rules","modeling","dragging"];function TTe(o,r){return o.x!==r.x||o.y!==r.y||o.width!==r.width||o.height!==r.height}function oZ(o,r){var s=Qn(o),l=$t(o),u={x:s.x,y:s.y};return r.indexOf("n")!==-1?u.y=l.top:r.indexOf("s")!==-1&&(u.y=l.bottom),r.indexOf("e")!==-1?u.x=l.right:r.indexOf("w")!==-1&&(u.x=l.left),u}function kTe(o){var r="resize-";return o==="n"||o==="s"?r+"ns":o==="e"||o==="w"?r+"ew":o==="nw"||o==="se"?r+"nwse":r+"nesw"}var sZ="djs-resizing",aZ="resize-not-ok",PTe=500;function lZ(o,r,s){function l(f){var p=f.shape,v=f.newBounds,y=f.frame;y||(y=f.frame=s.addFrame(p,r.getActiveLayer()),r.addMarker(p,sZ)),v.width>5&&ht(y,{x:v.x,width:v.width}),v.height>5&&ht(y,{y:v.y,height:v.height}),f.canExecute?_n(y).remove(aZ):_n(y).add(aZ)}function u(f){var p=f.shape,v=f.frame;v&&us(f.frame),r.removeMarker(p,sZ)}o.on("resize.move",PTe,function(f){l(f.context)}),o.on("resize.cleanup",function(f){u(f.context)})}lZ.$inject=["eventBus","canvas","previewSupport"];var AC=-6,RC=8,LC=20,U3="djs-resizer",ITe=["n","w","s","e","nw","ne","se","sw"];function Nh(o,r,s,l){this._resize=l,this._canvas=r;var u=this;o.on("selection.changed",function(f){var p=f.newSelection;u.removeResizers(),p.length===1&&D(p,je(u.addResizer,u))}),o.on("shape.changed",function(f){var p=f.element;s.isSelected(p)&&(u.removeResizers(),u.addResizer(p))})}Nh.prototype.makeDraggable=function(o,r,s){var l=this._resize;function u(f){Th(f)&&l.activate(f,o,s)}ft.bind(r,"mousedown",u),ft.bind(r,"touchstart",u)},Nh.prototype._createResizer=function(o,r,s,l){var u=this._getResizersParent(),f=MTe(l),p=zt("g");_n(p).add(U3),_n(p).add(U3+"-"+o.id),_n(p).add(U3+"-"+l),Qt(u,p);var v=zt("rect");ht(v,{x:-RC/2+f.x,y:-RC/2+f.y,width:RC,height:RC}),_n(v).add(U3+"-visual"),Qt(p,v);var y=zt("rect");return ht(y,{x:-LC/2+f.x,y:-LC/2+f.y,width:LC,height:LC}),_n(y).add(U3+"-hit"),Qt(p,y),A6e(p,r,s),p},Nh.prototype.createResizer=function(o,r){var s=oZ(o,r),l=this._createResizer(o,s.x,s.y,r);this.makeDraggable(o,l,r)},Nh.prototype.addResizer=function(o){var r=this;Ls(o)||!this._resize.canResize({shape:o})||D(ITe,function(s){r.createResizer(o,s)})},Nh.prototype.removeResizers=function(){var o=this._getResizersParent();iI(o)},Nh.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},Nh.$inject=["eventBus","canvas","selection","resize"];function MTe(o){var r={x:0,y:0};return o.indexOf("e")!==-1?r.x=-AC:o.indexOf("w")!==-1&&(r.x=AC),o.indexOf("s")!==-1?r.y=-AC:o.indexOf("n")!==-1&&(r.y=AC),r}var ATe={__depends__:[mm,pm,lM],__init__:["resize","resizePreview","resizeHandles"],resize:["type",H3],resizePreview:["type",lZ],resizeHandles:["type",Nh]},RTe="reconnectStart",LTe="reconnectEnd",$Te=2e3;function cZ(o){o.on(["bendpoint.move.move","bendpoint.move.end"],$Te,function(r){var s=r.context,l=s.allowed,u=s.hover,f=s.source,p=s.target,v=s.type;if(s.hints||(s.hints={}),delete s.hints.connectionStart,delete s.hints.connectionEnd,!(l&&l.type!=="dmn:InformationRequirement")&&!(!u||!Rs(u,["dmn:Decision","dmn:InputData"]))&&f!==p){var y=v===RTe||v===LTe,x=Ba(f,p);y&&u===f?(NTe(r,x),s.hints.connectionEnd=dZ(p,x)):y&&u===p&&(s.hints.connectionStart=uZ(f,x),FTe(r,x))}})}cZ.$inject=["eventBus"];function uZ(o,r){var s=$t(o),l=Qn(o);return r.includes("bottom")?l.y=s.top:r.includes("top")?l.y=s.bottom:r.includes("right")?l.x=s.left:l.x=s.right,l}function dZ(o,r){var s=$t(o),l=Qn(o);return r.includes("bottom")?l.y=s.bottom:r.includes("top")?l.y=s.top:r.includes("right")?l.x=s.right:l.x=s.left,l}function NTe(o,r){var s=o.context,l=s.source,u=uZ(l,r),f=o.x-u.x,p=o.y-u.y;o.x-=f,o.y-=p,o.dx-=f,o.dy-=p}function FTe(o,r){var s=o.context,l=s.target,u=dZ(l,r),f=0,p=0;r.includes("top")||r.includes("bottom")?p=o.y-u.y:f=o.x-u.x,o.x-=f,o.y-=p,o.dx-=f,o.dy-=p}var BTe=250;function fZ(o){o.on(["connect.hover","connect.move","connect.end"],BTe,function(r){var s=r.context,l=s.canExecute,u=s.hover,f=s.source,p=s.target;if(l&&l.type==="dmn:InformationRequirement"){var v=Ba(f,p);s.connectionStart=Qn(f),u===f?s.connectionEnd=Qn(p):s.connectionEnd={x:r.x,y:r.y},v.includes("bottom")?(s.connectionStart.y=$t(f).top,s.connectionEnd.y=$t(p).bottom):v.includes("top")?(s.connectionStart.y=$t(f).bottom,s.connectionEnd.y=$t(p).top):v.includes("right")?(s.connectionStart.x=$t(f).left,s.connectionEnd.x=$t(p).right):(s.connectionStart.x=$t(f).right,s.connectionEnd.x=$t(p).left)}else delete s.connectionStart,delete s.connectionEnd})}fZ.$inject=["eventBus"];function Fh(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}Fh.prototype.getSnapOrigin=function(o){return this._snapOrigins[o]},Fh.prototype.setSnapOrigin=function(o,r){this._snapOrigins[o]=r,this._snapLocations.indexOf(o)===-1&&this._snapLocations.push(o)},Fh.prototype.addDefaultSnap=function(o,r){var s=this._defaultSnaps[o];s||(s=this._defaultSnaps[o]=[]),s.push(r)},Fh.prototype.getSnapLocations=function(){return this._snapLocations},Fh.prototype.setSnapLocations=function(o){this._snapLocations=o},Fh.prototype.pointsForTarget=function(o){var r=o.id||o,s=this._targets[r];return s||(s=this._targets[r]=new $C,s.initDefaults(this._defaultSnaps)),s};function $C(){this._snapValues={}}$C.prototype.add=function(o,r){var s=this._snapValues[o];s||(s=this._snapValues[o]={x:[],y:[]}),s.x.indexOf(r.x)===-1&&s.x.push(r.x),s.y.indexOf(r.y)===-1&&s.y.push(r.y)},$C.prototype.snap=function(o,r,s,l){var u=this._snapValues[r];return u&&M8e(o[s],u[s],l)},$C.prototype.initDefaults=function(o){var r=this;D(o||{},function(s,l){D(s,function(u){r.add(l,u)})})};var jTe=1250;function q3(o,r,s){var l=this;this._elementRegistry=o,r.on(["create.start","shape.move.start"],function(u){l.initSnap(u)}),r.on(["create.move","create.end","shape.move.move","shape.move.end"],jTe,function(u){var f=u.context,p=f.shape,v=f.snapContext,y=f.target;if(!(u.originalEvent&&Tl(u.originalEvent))&&!(T3(u)||!y)){var x=v.pointsForTarget(y);x.initialized||(x=l.addSnapTargetPoints(x,p,y),x.initialized=!0),s.snap(u,x)}}),r.on(["create.cleanup","shape.move.cleanup"],function(){s.hide()})}q3.$inject=["elementRegistry","eventBus","snapping"],q3.prototype.initSnap=function(o){var r=this._elementRegistry,s=o.context,l=s.shape,u=s.snapContext;u||(u=s.snapContext=new Fh);var f;r.get(l.id)?f=dv(l,o):f={x:o.x+dv(l).x,y:o.y+dv(l).y};var p={x:f.x-l.width/2,y:f.y-l.height/2},v={x:f.x+l.width/2,y:f.y+l.height/2};return u.setSnapOrigin("mid",{x:f.x-o.x,y:f.y-o.y}),tv(l)||(u.setSnapOrigin("top-left",{x:p.x-o.x,y:p.y-o.y}),u.setSnapOrigin("bottom-right",{x:v.x-o.x,y:v.y-o.y})),u},q3.prototype.addSnapTargetPoints=function(o,r,s){var l=this.getSnapTargets(r,s);return D(l,function(u){if(tv(u)){tv(r)&&o.add("mid",dv(u));return}if(Ls(u)){if(u.waypoints.length<3)return;var f=u.waypoints.slice(1,-1);D(f,function(p){o.add("mid",p)});return}o.add("mid",dv(u))}),!m(r.x)||!m(r.y)||this._elementRegistry.get(r.id)&&o.add("mid",dv(r)),o},q3.prototype.getSnapTargets=function(o,r){return ZY(r).filter(function(s){return!VTe(s)})};function VTe(o){return!!o.hidden}var zTe=1250;function W3(o,r){var s=this;o.on(["resize.start"],function(l){s.initSnap(l)}),o.on(["resize.move","resize.end"],zTe,function(l){var u=l.context,f=u.shape,p=f.parent,v=u.direction,y=u.snapContext;if(!(l.originalEvent&&Tl(l.originalEvent))&&!T3(l)){var x=y.pointsForTarget(p);x.initialized||(x=s.addSnapTargetPoints(x,f,p,v),x.initialized=!0),qTe(v)&&ku(l,"x",l.x),WTe(v)&&ku(l,"y",l.y),r.snap(l,x)}}),o.on(["resize.cleanup"],function(){r.hide()})}W3.prototype.initSnap=function(o){var r=o.context,s=r.shape,l=r.direction,u=r.snapContext;u||(u=r.snapContext=new Fh);var f=hZ(s,l);return u.setSnapOrigin("corner",{x:f.x-o.x,y:f.y-o.y}),u},W3.prototype.addSnapTargetPoints=function(o,r,s,l){var u=this.getSnapTargets(r,s);return D(u,function(f){o.add("corner",R8e(f)),o.add("corner",A8e(f))}),o.add("corner",hZ(r,l)),o},W3.$inject=["eventBus","snapping"],W3.prototype.getSnapTargets=function(o,r){return ZY(r).filter(function(s){return!HTe(s,o)&&!Ls(s)&&!UTe(s)&&!tv(s)})};function hZ(o,r){var s=Qn(o),l=$t(o),u={x:s.x,y:s.y};return r.indexOf("n")!==-1?u.y=l.top:r.indexOf("s")!==-1&&(u.y=l.bottom),r.indexOf("e")!==-1?u.x=l.right:r.indexOf("w")!==-1&&(u.x=l.left),u}function HTe(o,r){return o.host===r}function UTe(o){return!!o.hidden}function qTe(o){return o==="n"||o==="s"}function WTe(o){return o==="e"||o==="w"}var GTe=7,QTe=1e3;function Bh(o){this._canvas=o,this._asyncHide=Se(je(this.hide,this),QTe)}Bh.$inject=["canvas"],Bh.prototype.snap=function(o,r){var s=o.context,l=s.snapContext,u=l.getSnapLocations(),f={x:T3(o,"x"),y:T3(o,"y")};D(u,function(p){var v=l.getSnapOrigin(p),y={x:o.x+v.x,y:o.y+v.y};if(D(["x","y"],function(x){var w;f[x]||(w=r.snap(y,p,x,GTe),w!==void 0&&(f[x]={value:w,originValue:w-v[x]}))}),f.x&&f.y)return!1}),this.showSnapLine("vertical",f.x&&f.x.value),this.showSnapLine("horizontal",f.y&&f.y.value),D(["x","y"],function(p){var v=f[p];h(v)&&ku(o,p,v.originValue)})},Bh.prototype._createLine=function(o){var r=this._canvas.getLayer("snap"),s=zt("path");return ht(s,{d:"M0,0 L0,0"}),_n(s).add("djs-snap-line"),Qt(r,s),{update:function(l){m(l)?o==="horizontal"?ht(s,{d:"M-100000,"+l+" L+100000,"+l,display:""}):ht(s,{d:"M "+l+",-100000 L "+l+", +100000",display:""}):ht(s,{display:"none"})}}},Bh.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},Bh.prototype.showSnapLine=function(o,r){var s=this.getSnapLine(o);s&&s.update(r),this._asyncHide()},Bh.prototype.getSnapLine=function(o){return this._snapLines||this._createSnapLines(),this._snapLines[o]},Bh.prototype.hide=function(){D(this._snapLines,function(o){o.update()})};var YTe={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",q3],resizeSnapping:["type",W3],snapping:["type",Bh]},XTe={__depends__:[YTe],__init__:["bendpointSnapping","connectSnapping"],bendpointSnapping:["type",cZ],connectSnapping:["type",fZ]};function vv(o){dm.call(this,o)}ri(vv,dm),vv.prototype._modelingModules=[BOe,s8e,f8e,$8e,D7e,I7e,V7e,U7e,G7e,Q7e,rDe,cDe,dDe,gDe,wDe,YDe,rTe,lTe,xTe,ATe,XTe],vv.prototype._modules=[].concat(vv.prototype._modules,vv.prototype._modelingModules);function KTe(o){let r={variables:[],rootElement:fke(o)};for(let s=o;s;s=s.$parent)ZTe(s,r);return r.variables}function ZTe(o,r){yv(o,"dmn:Decision")?JTe(o,r):yv(o,"dmn:BusinessKnowledgeModel")?eke(o,r):yv(o,"dmn:Expression")&&cke(o,r)}function JTe(o,r){for(let s of o.get("informationRequirement"))tke(s,r);for(let s of o.get("knowledgeRequirement"))mZ(s,r)}function eke(o,r){for(let s of o.get("knowledgeRequirement"))mZ(s,r)}function tke(o,r){let s=o.get("requiredInput");s&&nke(s,r);let l=o.get("requiredDecision");l&&rke(l,r)}function nke(o,r){let s=XM(o,r.rootElement);if(!s)return;let l=s.get("name");l&&r.variables.push({name:l,origin:s})}function rke(o,r){let s=XM(o,r.rootElement);if(!s)return;let l=s.get("name");if(!l)return;let u={name:l,origin:s},f=s.get("decisionLogic");f&&ike(f,u),r.variables.push(u)}function ike(o,r,s){if(yv(o,"dmn:DecisionTable")){let l=o.get("output");oke(l,r)}}function oke(o,r,s){if(o.length===1){let u=Me(se({},pZ(o[0])),{name:r.name});Object.assign(r,u);return}let l=o.map(pZ);r.entries=l.filter(u=>!!u.name)}function pZ(o){let r={name:o.name};return o.typeRef&&(r.detail=o.typeRef),r}function mZ(o,r){let s=o.get("requiredKnowledge");s&&ske(s,r)}function ske(o,r){let s=XM(o,r.rootElement);s&&yv(s,"dmn:BusinessKnowledgeModel")&&ake(s,r)}function ake(o,r){let s=o.get("name");if(!s)return;let l={name:s,origin:o},u=o.get("encapsulatedLogic");u&&lke(u,l),r.variables.push(l)}function lke(o,r,s){let u=o.get("formalParameter").map((f,p)=>{let v={name:f.get("name")||`param ${p+1}`,type:f.get("typeRef")};return v.type||delete v.type,v});Object.assign(r,{type:"function",params:u})}function cke(o,r){yv(o,"dmn:FunctionDefinition")&&uke(o,r)}function uke(o,r){let s=o.get("formalParameter");for(let l of s)dke(l,r)}function dke(o,r){let s=o.get("name");if(!s)return;let l={name:s,origin:o};o.get("typeRef")&&(l.detail=o.get("typeRef")),r.variables.push(l)}function fke(o){let r=o;for(;r.$parent;)r=r.$parent;return r}function XM(o,r){let s=o.get("href");if(!s||!s.startsWith("#"))return;let l=s.slice(1);return r.get("drgElement").find(f=>f.get("id")===l)}function yv(o,r){return o.$instanceOf(r)}let hke=(()=>{class o{constructor(s){s.registerProvider(this)}getVariables(s,l){return s.concat(KTe(l))}}return o.$inject=["variableResolver"],o})();class pke{constructor(){this._providers=[]}registerProvider(r){this._providers.push(r)}getVariables(r){return this._providers.reduce((s,l)=>l.getVariables(s,r),[])}}let KM={__init__:["dmnVariableProvider"],dmnVariableProvider:["type",hke],variableResolver:["type",pke]};class G3{constructor(r){xe(this,r),ef(this,"businessObject",{writable:!0})}}class mke extends G3{constructor(r){super(r),ef(this,"rows",{enumerable:!0,value:this.rows||[]}),ef(this,"cols",{enumerable:!0,value:this.cols||[]})}}class aa extends G3{constructor(r){super(r),ef(this,"root",{writable:!0}),ef(this,"cells",{enumerable:!0,value:this.cells||[]})}}class la extends G3{constructor(r){super(r),ef(this,"root",{writable:!0}),ef(this,"cells",{enumerable:!0,value:this.cells||[]})}}class NC extends G3{constructor(r){super(r),ef(this,"row",{writable:!0}),ef(this,"col",{writable:!0})}}let gke={root:mke,row:aa,col:la,cell:NC};function vke(o,r){let s=gke[o];if(!s)throw new Error("unknown type "+o);return new s(r)}function ef(o,r,s){Object.defineProperty(o,r,s)}let gZ=class{constructor(){this._uid=12}create(r,s={}){return s.id||(s.id=r+"_"+this._uid++),vke(r,s)}createRoot(r){return this.create("root",r)}createRow(r){return this.create("row",r)}createCol(r){return this.create("col",r)}createCell(r){return this.create("cell",r)}},vZ=class{constructor(r){this._eventBus=r,this._elements={},r.on("table.clear",this.clear.bind(this))}add(r,s){let{id:l}=r;this._elements[l]=r}remove(r){let s=r.id||r;delete this._elements[s]}get(r){return this._elements[r]}getAll(){return ZM(this._elements)}forEach(r){ZM(this._elements).forEach(s=>r(s))}filter(r){return ZM(this._elements).filter(s=>r(s))}clear(){this._elements={}}updateId(r,s){this._validateId(s),typeof r=="string"&&(r=this.get(r)),this._eventBus.fire("element.updateId",{element:r,newId:s}),this.remove(r),r.id=s,this.add(r)}_validateId(r){if(!r)throw new Error("element must have an id");if(this._elements[r])throw new Error("element with id "+r+" already added")}};vZ.$inject=["eventBus"];function ZM(o){return Object.keys(o).map(function(r){return o[r]})}let yZ=class{constructor(r){this._listeners={},r.on("elements.changed",({elements:s})=>{this.elementsChanged(s)}),r.on("root.remove",s=>{let l=s.root.id;this._listeners[l]&&r.once("root.add",u=>{let f=u.root.id;this.updateId(l,f)})}),r.on("element.updateId",({element:s,newId:l})=>{this.updateId(s.id,l)})}elementsChanged(r){let s={},l=r.length;for(let u=0;u<l;u++){let{id:f}=r[u];if(s[f])return;s[f]=!0;let p=this._listeners[f]&&this._listeners[f].length;if(p)for(let v=0;v<p;v++)this._listeners[f][v]&&this._listeners[f][v]()}}onElementsChanged(r,s){this._listeners[r]||(this._listeners[r]=[]),this._listeners[r][this._listeners[r].length]=s}offElementsChanged(r,s){if(this._listeners[r])if(s){let l=this._listeners[r].indexOf(s);l!==-1&&this._listeners[r].splice(l,1)}else this._listeners[r].length=0}updateId(r,s){this._listeners[r]&&(this._listeners[s]=this._listeners[r],delete this._listeners[r])}};yZ.$inject=["eventBus"];let yke=1e3,bke=class{constructor(){this._listeners={}}getComponent(r,s){let l=this._listeners[r];if(!l)return;let u;for(let f=0;f<l.length&&(u=l[f].callback(s),!u);f++);return u}getComponents(r,s){let l=this._listeners[r],u=[];if(!l)return u;for(let f=0;f<l.length;f++){let p=l[f].callback(s);p&&u.push(p)}return u.length,u}onGetComponent(r,s,l){if(g(s)&&(l=s,s=yke),!m(s))throw new Error("priority must be a number");let u=this._getListeners(r),f,p,v={priority:s,callback:l};for(p=0;f=u[p];p++)if(f.priority<s){u.splice(p,0,v);return}u.push(v)}offGetComponent(r,s){let l=this._getListeners(r),u,f,p;if(s)for(p=l.length-1;u=l[p];p--)f=u.callback,f===s&&l.splice(p,1);else l.length=0}_getListeners(r){let s=this._listeners[r];return s||(this._listeners[r]=s=[]),s}};var JM="$NO_OP",xke="a runtime error occured! Use Inferno in development environment to find the error.",bZ=!!(typeof window<"u"&&window.document),Dm=Array.isArray;function bv(o){var r=typeof o;return r==="string"||r==="number"}function tn(o){return FC(o)||Lr(o)}function Iu(o){return Lr(o)||o===!1||Eke(o)||FC(o)}function Cn(o){return typeof o=="function"}function tf(o){return typeof o=="string"}function eA(o){return typeof o=="number"}function Lr(o){return o===null}function Eke(o){return o===!0}function FC(o){return o===void 0}function wke(o){return typeof o=="object"}function Bi(o){throw o||(o=xke),new Error("Inferno Error: "+o)}function BC(o){console.error(o)}function Q3(o,r){var s={};if(o)for(var l in o)s[l]=o[l];if(r)for(var u in r)s[u]=r[u];return s}function nf(o){var r;if(Dm(o)){var s=o.length>3?o.slice(0,3).toString()+",...":o.toString();r="Array("+s+")"}else if(bv(o))r="Text("+o+")";else if(Iu(o))r="InvalidVNode("+o+")";else{var l=o.flags;if(l&481)r="<"+o.type+(o.className?' class="'+o.className+'"':"")+">";else if(l&16)r="Text("+o.children+")";else if(l&1024)r="Portal*";else{var u=o.type,f=u.name||u.displayName||u.constructor.name||(u.toString().match(/^function\s*([^\s(]+)/)||[])[1];r="<"+f+" />"}}return">> "+r+`
`}function tA(o,r){for(var s={},l=0,u=o.length;l<u;l++){var f=o[l];if(Dm(f))return`Encountered ARRAY in mount, array must be flattened, or normalize used. Location: 
`+nf(f);if(Iu(f)){if(r)return`Encountered invalid node when preparing to keyed algorithm. Location: 
`+nf(f);if(Object.keys(s).length!==0)return`Encountered invalid node with mixed keys. Location: 
`+nf(f);continue}typeof f=="object"&&(f.isValidated=!0);var p=f.key;if(!tn(p)&&!bv(p))return`Encountered child vNode where key property is not string or number. Location: 
`+nf(f);var v=f.children,y=f.childFlags;if(!Iu(v)){var x=void 0;if(y&12?x=tA(v,f.childFlags&8):y===2&&(x=tA([v],f.childFlags&8)),x)return x+=nf(f),x}if(r&&tn(p))return`Encountered child without key during keyed algorithm. If this error points to Array make sure children is flat list. Location: 
`+nf(f);if(!r&&tn(p)){if(Object.keys(s).length!==0)return`Encountered children with key missing. Location: 
`+nf(f);continue}if(s[p])return"Encountered two children with same key: {"+p+`}. Location: 
`+nf(f);s[p]=!0}}function xZ(o){{if(o.childFlags&1)return;if(o.flags&64&&Bi("input elements can't have children."),o.flags&128&&Bi("textarea elements can't have children."),o.flags&481){var r=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],s=o.type.toLowerCase();s==="media"&&Bi("media elements can't have children.");var l=r.indexOf(s);l!==-1&&Bi(r[l]+" elements can't have children.")}}}function EZ(o){{if(o.isValidated===!1&&o.children&&o.flags&481){var r=tA(Array.isArray(o.children)?o.children:[o.children],(o.childFlags&8)>0);r&&Bi(r+nf(o))}o.isValidated=!0}}var Y3="$";function nA(o,r,s,l,u,f,p,v){return{childFlags:o,children:r,className:s,dom:null,flags:l,isValidated:!1,key:u===void 0?null:u,parentVNode:null,props:f===void 0?null:f,ref:p===void 0?null:p,type:v}}function xv(o,r,s,l,u,f,p,v){o&14&&Bi("Creating Component vNodes using createVNode is not allowed. Use Inferno.createComponentVNode method.");var y=u===void 0?1:u,x=nA(y,l,s,o,p,f,v,r),w=Il.createVNode;return typeof w=="function"&&w(x),y===0&&CZ(x,x.children),xZ(x),x}function rf(o,r,s,l,u){o&1&&Bi("Creating element vNodes using createComponentVNode is not allowed. Use Inferno.createVNode method."),(o&2)>0&&(o=r.prototype&&Cn(r.prototype.render)?4:8);var f=r.defaultProps;if(!tn(f)){s||(s={});for(var p in f)FC(s[p])&&(s[p]=f[p])}if((o&8)>0){var v=r.defaultHooks;if(!tn(v))if(!u)u=v;else for(var y in v)FC(u[y])&&(u[y]=v[y])}var x=nA(1,null,null,o,l,s,u,r),w=Il.createVNode;return Cn(w)&&w(x),x}function Tm(o,r){return nA(1,tn(o)?"":o,null,16,r,null,null,null)}function _ke(o){var r=o.props;if(r){var s=o.flags;s&481&&(r.children!==void 0&&tn(o.children)&&CZ(o,r.children),r.className!==void 0&&(o.className=r.className||null,r.className=void 0)),r.key!==void 0&&(o.key=r.key,r.key=void 0),r.ref!==void 0&&(s&8?o.ref=Q3(o.ref,r.ref):o.ref=r.ref,r.ref=void 0)}return o}function fs(o){var r,s=o.flags;if(s&14){var l,u=o.props;if(!Lr(u)){l={};for(var f in u)l[f]=u[f]}r=rf(s,o.type,l,o.key,o.ref)}else s&481?r=xv(s,o.type,o.className,o.children,o.childFlags,o.props,o.key,o.ref):s&16?r=Tm(o.children,o.key):s&1024&&(r=o);return r}function wZ(){return Tm("",null)}function _Z(o,r,s,l){for(var u=o.length;s<u;s++){var f=o[s];if(!Iu(f)){var p=l+Y3+s;if(Dm(f))_Z(f,r,0,p);else{if(bv(f))f=Tm(f,p);else{var v=f.key,y=tf(v)&&v[0]===Y3;(!Lr(f.dom)||y)&&(f=fs(f)),Lr(v)||y?f.key=p:f.key=l+v}r.push(f)}}}}function CZ(o,r){var s,l=1;if(Iu(r))s=r;else if(tf(r))l=2,s=Tm(r);else if(eA(r))l=2,s=Tm(r+"");else if(Dm(r)){var u=r.length;if(u===0)s=null,l=1;else{(Object.isFrozen(r)||r.$===!0)&&(r=r.slice()),l=8;for(var f=0;f<u;f++){var p=r[f];if(Iu(p)||Dm(p)){s=s||r.slice(0,f),_Z(r,s,f,"");break}else if(bv(p))s=s||r.slice(0,f),s.push(Tm(p,Y3+f));else{var v=p.key,y=Lr(p.dom),x=Lr(v),w=!x&&tf(v)&&v[0]===Y3;!y||x||w?(s=s||r.slice(0,f),(!y||w)&&(p=fs(p)),(x||w)&&(p.key=Y3+f),s.push(p)):s&&s.push(p)}}s=s||r,s.$=!0}}else s=r,Lr(r.dom)||(s=fs(r)),l=2;return o.children=s,o.childFlags=l,xZ(o),o}var Il={afterRender:null,beforeRender:null,createVNode:null,renderComplete:null},km="http://www.w3.org/1999/xlink",rA="http://www.w3.org/XML/1998/namespace",Cke="http://www.w3.org/2000/svg",SZ={"xlink:actuate":km,"xlink:arcrole":km,"xlink:href":km,"xlink:role":km,"xlink:show":km,"xlink:title":km,"xlink:type":km,"xml:base":rA,"xml:lang":rA,"xml:space":rA},oo={},Mu=[];Object.freeze(oo);function jC(o,r){o.appendChild(r)}function VC(o,r,s){tn(s)?jC(o,r):o.insertBefore(r,s)}function Ske(o,r){return r?document.createElementNS(Cke,o):document.createElement(o)}function iA(o,r,s){o.replaceChild(r,s)}function Oke(o,r){o.removeChild(r)}function oA(o){for(var r;(r=o.shift())!==void 0;)r()}var zC={},sA={};function OZ(o,r,s){var l=zC[o],u=s.$EV;r?(l||(sA[o]=kke(o),zC[o]=0),u||(u=s.$EV={}),u[o]||zC[o]++,u[o]=r):u&&u[o]&&(zC[o]--,l===1&&(document.removeEventListener(DZ(o),sA[o]),sA[o]=null),u[o]=r)}function Dke(o,r,s,l,u){for(var f=r;!Lr(f);){if(s&&f.disabled)return;var p=f.$EV;if(p){var v=p[l];if(v&&(u.dom=f,v.event?v.event(v.data,o):v(o),o.cancelBubble))return}f=f.parentNode}}function DZ(o){return o.substr(2).toLowerCase()}function Tke(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function kke(o){var r=function(s){var l=s.type,u=l==="click"||l==="dblclick";if(u&&s.button!==0)return s.stopPropagation(),!1;s.stopPropagation=Tke;var f={dom:document};Object.defineProperty(s,"currentTarget",{configurable:!0,get:function(){return f.dom}}),Dke(s,s.target,u,o,f)};return document.addEventListener(DZ(o),r),r}function TZ(o,r){var s=document.createElement("i");return s.innerHTML=r,s.innerHTML===o.innerHTML}function Pke(o,r){return!!(r&&r.dangerouslySetInnerHTML&&r.dangerouslySetInnerHTML.__html&&TZ(o,r.dangerouslySetInnerHTML.__html))}function kZ(o,r,s){if(o[r]){var l=o[r];l.event?l.event(l.data,s):l(s)}else{var u=r.toLowerCase();o[u]&&o[u](s)}}function X3(o,r){var s=function(l){l.stopPropagation();var u=this.$V;if(u){var f=u.props||oo,p=u.dom;if(tf(o))kZ(f,o,l);else for(var v=0;v<o.length;v++)kZ(f,o[v],l);if(Cn(r)){var y=this.$V,x=y.props||oo;r(x,p,!1,y)}}};return Object.defineProperty(s,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),s}function aA(o){return o==="checkbox"||o==="radio"}var Ike=X3("onInput",lA),Mke=X3(["onClick","onChange"],lA);function PZ(o){o.stopPropagation()}PZ.wrapped=!0;function Ake(o,r){aA(r.type)?(o.onchange=Mke,o.onclick=PZ):o.oninput=Ike}function lA(o,r){var s=o.type,l=o.value,u=o.checked,f=o.multiple,p=o.defaultValue,v=!tn(l);s&&s!==r.type&&r.setAttribute("type",s),!tn(f)&&f!==r.multiple&&(r.multiple=f),!tn(p)&&!v&&(r.defaultValue=p+""),aA(s)?(v&&(r.value=l),tn(u)||(r.checked=u)):v&&r.value!==l?(r.defaultValue=l,r.value=l):tn(u)||(r.checked=u)}function IZ(o,r){var s=o.type;if(s==="optgroup"){var l=o.children,u=o.childFlags;if(u&12)for(var f=0,p=l.length;f<p;f++)cA(l[f],r);else u===2&&cA(l,r)}else cA(o,r)}function cA(o,r){var s=o.props||oo,l=o.dom;l.value=s.value,Dm(r)&&r.indexOf(s.value)!==-1||s.value===r?l.selected=!0:(!tn(r)||!tn(s.selected))&&(l.selected=s.selected||!1)}var Rke=X3("onChange",MZ);function Lke(o){o.onchange=Rke}function MZ(o,r,s,l){var u=!!o.multiple;!tn(o.multiple)&&u!==r.multiple&&(r.multiple=u);var f=l.childFlags;if(!(f&1)){var p=l.children,v=o.value;if(s&&tn(v)&&(v=o.defaultValue),f&12)for(var y=0,x=p.length;y<x;y++)IZ(p[y],v);else f===2&&IZ(p,v)}}var $ke=X3("onInput",AZ),Nke=X3("onChange");function Fke(o,r){o.oninput=$ke,r.onChange&&(o.onchange=Nke)}function AZ(o,r,s){var l=o.value,u=r.value;if(tn(l)){if(s){var f=o.defaultValue;!tn(f)&&f!==u&&(r.defaultValue=f,r.value=f)}}else u!==l&&(r.defaultValue=l,r.value=l)}function RZ(o,r,s,l,u,f){o&64?lA(l,s):o&256?MZ(l,s,u,r):o&128&&AZ(l,s,u),f&&(s.$V=r)}function Bke(o,r,s){o&64?Ake(r,s):o&256?Lke(r):o&128&&Fke(r,s)}function LZ(o){return o.type&&aA(o.type)?!tn(o.checked):!tn(o.value)}function Ml(o,r){Pm(o),r&&o.dom&&(Oke(r,o.dom),o.dom=null)}function Pm(o){var r=o.flags;if(r&481){var s=o.ref,l=o.props;Cn(s)&&s(null);var u=o.children,f=o.childFlags;if(f&12?uA(u):f===2&&Pm(u),!Lr(l))for(var p in l)switch(p){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":OZ(p,null,o.dom);break}}else{var v=o.children;if(v)if(r&14){var y=o.ref;r&4?(Cn(v.componentWillUnmount)&&v.componentWillUnmount(),Cn(y)&&y(null),v.$UN=!0,v.$LI&&Pm(v.$LI)):(!tn(y)&&Cn(y.onComponentWillUnmount)&&y.onComponentWillUnmount(o.dom,o.props||oo),Pm(v))}else r&1024&&Ml(v,o.type)}}function uA(o){for(var r=0,s=o.length;r<s;r++)Pm(o[r])}function HC(o,r){uA(r),o.textContent=""}function jke(o,r){return function(s){o(r.data,s)}}function Vke(o,r,s){var l=o.toLowerCase();if(!Cn(r)&&!tn(r)){var u=r.event;u&&Cn(u)?s[l]=jke(u,r):Bi('an event on a VNode "'+o+'". was not a function or a valid linkEvent.')}else{var f=s[l];(!f||!f.wrapped)&&(s[l]=r)}}function $Z(o,r){switch(o){case"animationIterationCount":case"borderImageOutset":case"borderImageSlice":case"borderImageWidth":case"boxFlex":case"boxFlexGroup":case"boxOrdinalGroup":case"columnCount":case"fillOpacity":case"flex":case"flexGrow":case"flexNegative":case"flexOrder":case"flexPositive":case"flexShrink":case"floodOpacity":case"fontWeight":case"gridColumn":case"gridRow":case"lineClamp":case"lineHeight":case"opacity":case"order":case"orphans":case"stopOpacity":case"strokeDasharray":case"strokeDashoffset":case"strokeMiterlimit":case"strokeOpacity":case"strokeWidth":case"tabSize":case"widows":case"zIndex":case"zoom":return r;default:return r+"px"}}function zke(o,r,s){var l=s.style,u,f;if(tf(r)){l.cssText=r;return}if(!tn(o)&&!tf(o)){for(u in r)f=r[u],f!==o[u]&&(l[u]=eA(f)?$Z(u,f):f);for(u in o)tn(r[u])&&(l[u]="")}else for(u in r)f=r[u],l[u]=eA(f)?$Z(u,f):f}function dA(o,r,s,l,u,f,p){switch(o){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":OZ(o,s,l);break;case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":break;case"autoFocus":l.autofocus=!!s;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":l[o]=!!s;break;case"defaultChecked":case"value":case"volume":if(f&&o==="value")return;var v=tn(s)?"":s;l[o]!==v&&(l[o]=v);break;case"dangerouslySetInnerHTML":var y=r&&r.__html||"",x=s&&s.__html||"";y!==x&&!tn(x)&&!TZ(l,x)&&(Lr(p)||(p.childFlags&12?uA(p.children):p.childFlags===2&&Pm(p.children),p.children=null,p.childFlags=1),l.innerHTML=x);break;default:o[0]==="o"&&o[1]==="n"?Vke(o,s,l):tn(s)?l.removeAttribute(o):o==="style"?zke(r,s,l):u&&SZ[o]?l.setAttributeNS(SZ[o],o,s):l.setAttribute(o,s);break}}function NZ(o,r,s,l,u){var f=!1,p=(r&448)>0;p&&(f=LZ(s),f&&Bke(r,l,s));for(var v in s)dA(v,null,s[v],l,u,f,null);p&&RZ(r,o,l,s,!0,f)}function FZ(o,r,s,l){var u=new r(s,l);if(o.children=u,u.$V=o,u.$BS=!1,u.context=l,u.props===oo&&(u.props=s),u.$UN=!1,Cn(u.componentWillMount)){if(u.$BR=!0,u.componentWillMount(),u.$PSS){var f=u.state,p=u.$PS;if(Lr(f))u.state=p;else for(var v in p)f[v]=p[v];u.$PSS=!1,u.$PS=null}u.$BR=!1}Cn(Il.beforeRender)&&Il.beforeRender(u);var y=K3(u.render(s,u.state,l),o),x;return Cn(u.getChildContext)&&(x=u.getChildContext()),tn(x)?u.$CX=l:u.$CX=Q3(l,x),Cn(Il.afterRender)&&Il.afterRender(u),u.$LI=y,u}function K3(o,r){return Dm(o)&&Bi("a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object."),Iu(o)?o=wZ():bv(o)?o=Tm(o,null):(o.dom&&(o=fs(o)),o.flags&14&&(o.parentVNode=r)),o}function Fs(o,r,s,l){var u=o.flags;if(u&481)return BZ(o,r,s,l);if(u&14)return Hke(o,r,s,l,(u&4)>0);if(u&512||u&16)return fA(o,r);if(u&1024)return Fs(o.children,o.type,s,!1),o.dom=fA(wZ(),r);Bi(typeof o=="object"?`mount() received an object that's not a valid VNode, you should stringify it first, fix createVNode flags or call normalizeChildren. Object: "`+JSON.stringify(o)+'".':'mount() expects a valid VNode, instead it received an object with the type "'+typeof o+'".')}function fA(o,r){var s=o.dom=document.createTextNode(o.children);return Lr(r)||jC(r,s),s}function BZ(o,r,s,l){var u=o.flags,f=o.children,p=o.props,v=o.className,y=o.ref,x=o.childFlags;l=l||(u&32)>0;var w=Ske(o.type,l);if(o.dom=w,!tn(v)&&v!==""&&(l?w.setAttribute("class",v):w.className=v),EZ(o),Lr(r)||jC(r,w),!(x&1)){var C=l===!0&&o.type!=="foreignObject";x===2?Fs(f,w,s,C):x&12&&Z3(f,w,s,C)}return Lr(p)||NZ(o,u,p,w,l),tf(y)&&Bi('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.'),Cn(y)&&hA(w,y),w}function Z3(o,r,s,l){for(var u=0,f=o.length;u<f;u++){var p=o[u];Lr(p.dom)||(o[u]=p=fs(p)),Fs(p,r,s,l)}}function Hke(o,r,s,l,u){var f,p=o.type,v=o.props||oo,y=o.ref;if(u){var x=FZ(o,p,v,s);o.dom=f=Fs(x.$LI,null,x.$CX,l),jZ(o,y,x),x.$UPD=!1}else{var w=K3(p(v,s),o);o.children=w,o.dom=f=Fs(w,null,s,l),VZ(v,y,f)}return Lr(r)||jC(r,f),f}function Uke(o){return function(){o.$UPD=!0,o.componentDidMount(),o.$UPD=!1}}function jZ(o,r,s){Cn(r)?r(s):bv(r)?Bi('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.'):!tn(r)&&wke(r)&&o.flags&4&&Bi("functional component lifecycle events are not supported on ES2015 class components."),Cn(s.componentDidMount)&&Mu.push(Uke(s))}function qke(o,r,s){return function(){return o.onComponentDidMount(r,s)}}function VZ(o,r,s){tn(r)||(Cn(r.onComponentWillMount)&&r.onComponentWillMount(o),Cn(r.onComponentDidMount)&&Mu.push(qke(r,s,o)))}function hA(o,r){Mu.push(function(){return r(o)})}function Wke(o,r,s,l,u){var f=o.type,p=o.ref,v=o.props||oo;if(u){var y=FZ(o,f,v,s),x=y.$LI;J3(x,r,y.$CX,l),o.dom=x.dom,jZ(o,p,y),y.$UPD=!1}else{var w=K3(f(v,s),o);J3(w,r,s,l),o.children=w,o.dom=w.dom,VZ(v,p,r)}}function Gke(o,r,s,l){var u=o.children,f=o.props,p=o.className,v=o.flags,y=o.ref;if(l=l||(v&32)>0,r.nodeType!==1||r.tagName.toLowerCase()!==o.type){BC("Inferno hydration: Server-side markup doesn't match client-side markup or Initial render target is not empty");var x=BZ(o,null,s,l);o.dom=x,iA(r.parentNode,x,r)}else{o.dom=r;var w=r.firstChild,C=o.childFlags;if(C&1)!Lr(r.firstChild)&&!Pke(r,f)&&(r.textContent="",v&448&&(r.defaultValue=""));else{for(var O=null;w;)O=w.nextSibling,w.nodeType===8&&(w.data==="!"?r.replaceChild(document.createTextNode(""),w):r.removeChild(w)),w=O;if(w=r.firstChild,C===2)Lr(w)?Fs(u,r,s,l):(O=w.nextSibling,J3(u,w,s,l),w=O);else if(C&12)for(var T=0,P=u.length;T<P;T++){var N=u[T];Lr(w)?Fs(N,r,s,l):(O=w.nextSibling,J3(N,w,s,l),w=O)}for(;w;)O=w.nextSibling,r.removeChild(w),w=O}Lr(f)||NZ(o,v,f,r,l),tn(p)?r.className!==""&&r.removeAttribute("class"):l?r.setAttribute("class",p):r.className=p,Cn(y)?hA(r,y):tf(y)&&Bi('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.')}}function Qke(o,r){if(r.nodeType!==3){var s=fA(o,null);o.dom=s,iA(r.parentNode,s,r)}else{var l=o.children;r.nodeValue!==l&&(r.nodeValue=l),o.dom=r}}function J3(o,r,s,l){var u=o.flags;u&14?Wke(o,r,s,l,(u&4)>0):u&481?Gke(o,r,s,l):u&16?Qke(o,r):u&512?o.dom=r:(Bi('hydrate() expects a valid VNode, instead it received an object with the type "'+typeof o+'".'),Bi())}function Yke(o,r,s){var l=r.firstChild;if(!Lr(l))for(Iu(o)||J3(o,l,oo,!1),l=r.firstChild;l=l.nextSibling;)r.removeChild(l);Mu.length>0&&oA(Mu),r.$V=o,Cn(s)&&s()}function pA(o,r,s,l,u){Pm(o),iA(s,Fs(r,null,l,u),o.dom)}function of(o,r,s,l,u){var f=r.flags|0;o.flags!==f||f&2048?pA(o,r,s,l,u):f&481?Zke(o,r,s,l,u,f):f&14?Jke(o,r,s,l,u,(f&4)>0):f&16?ePe(o,r):f&512?r.dom=o.dom:Kke(o,r,l)}function Xke(o,r){o.textContent!==r.children&&(o.textContent=r.children)}function Kke(o,r,s){var l=o.type,u=r.type,f=r.children;if(zZ(o.childFlags,r.childFlags,o.children,f,l,s,!1),r.dom=o.dom,l!==u&&!Iu(f)){var p=f.dom;l.removeChild(p),u.appendChild(p)}}function Zke(o,r,s,l,u,f){var p=r.type;if(o.type!==p)pA(o,r,s,l,u);else{var v=o.dom,y=o.props,x=r.props,w=!1,C=!1,O;if(r.dom=v,u=u||(f&32)>0,y!==x){var T=y||oo;if(O=x||oo,O!==oo){w=(f&448)>0,w&&(C=LZ(O));for(var P in O){var N=T[P],j=O[P];N!==j&&dA(P,N,j,v,u,C,o)}}if(T!==oo)for(var q in T)!O.hasOwnProperty(q)&&!tn(T[q])&&dA(q,T[q],null,v,u,C,o)}var Q=o.children,U=r.children,H=r.ref,X=o.className,Y=r.className;EZ(r),f&4096?Xke(v,U):zZ(o.childFlags,r.childFlags,Q,U,v,l,u&&p!=="foreignObject"),w&&RZ(f,r,v,O,!1,C),X!==Y&&(tn(Y)?v.removeAttribute("class"):u?v.setAttribute("class",Y):v.className=Y),Cn(H)&&o.ref!==H?hA(v,H):tf(H)&&Bi('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.')}}function zZ(o,r,s,l,u,f,p){switch(o){case 2:switch(r){case 2:of(s,l,u,f,p);break;case 1:Ml(s,u);break;default:Ml(s,u),Z3(l,u,f,p);break}break;case 1:switch(r){case 2:Fs(l,u,f,p);break;case 1:break;default:Z3(l,u,f,p);break}break;default:if(r&12){var v=s.length,y=l.length;v===0?y>0&&Z3(l,u,f,p):y===0?HC(u,s):r===8&&o===8?nPe(s,l,u,f,p,v,y):tPe(s,l,u,f,p,v,y)}else r===1?HC(u,s):r===2&&(HC(u,s),Fs(l,u,f,p));break}}function HZ(o,r,s,l,u,f,p,v,y){var x=o.state,w=o.props;s.children=o;var C;if(o.$UN){BC("Inferno Error: Can only update a mounted or mounting component. This usually means you called setState() or forceUpdate() on an unmounted component. This is a no-op.");return}if(w!==l||l===oo){if(!y&&Cn(o.componentWillReceiveProps)){if(o.$BR=!0,o.componentWillReceiveProps(l,f),o.$UN)return;o.$BR=!1}o.$PSS&&(r=Q3(r,o.$PS),o.$PSS=!1,o.$PS=null)}var O=!!o.shouldComponentUpdate;if(v||!O||O&&o.shouldComponentUpdate(l,r,f)){Cn(o.componentWillUpdate)&&(o.$BS=!0,o.componentWillUpdate(l,r,f),o.$BS=!1),o.props=l,o.state=r,o.context=f,Cn(Il.beforeRender)&&Il.beforeRender(o),C=o.render(l,r,f),Cn(Il.afterRender)&&Il.afterRender(o);var T=C!==JM,P;if(Cn(o.getChildContext)&&(P=o.getChildContext()),tn(P)?P=f:P=Q3(f,P),o.$CX=P,T){var N=o.$LI,j=K3(C,s);of(N,j,u,P,p),o.$LI=j,Cn(o.componentDidUpdate)&&o.componentDidUpdate(w,x)}}else o.props=l,o.state=r,o.context=f;s.dom=o.$LI.dom}function Jke(o,r,s,l,u,f){var p=r.type,v=o.key,y=r.key;if(o.type!==p||v!==y)pA(o,r,s,l,u);else{var x=r.props||oo;if(f){var w=o.children;w.$UPD=!0,w.$V=r,HZ(w,w.state,r,x,s,l,u,!1,!1),w.$UPD=!1}else{var C=!0,O=o.props,T=r.ref,P=!tn(T),N=o.children;if(r.dom=o.dom,r.children=N,P&&Cn(T.onComponentShouldUpdate)&&(C=T.onComponentShouldUpdate(O,x)),C!==!1){P&&Cn(T.onComponentWillUpdate)&&T.onComponentWillUpdate(O,x);var j=p(x,l);j!==JM&&(j=K3(j,r),of(N,j,s,l,u),r.children=j,r.dom=j.dom,P&&Cn(T.onComponentDidUpdate)&&T.onComponentDidUpdate(O,x))}else N.flags&14&&(N.parentVNode=r)}}}function ePe(o,r){var s=r.children,l=o.dom;s!==o.children&&(l.nodeValue=s),r.dom=l}function tPe(o,r,s,l,u,f,p){for(var v=f>p?p:f,y=0,x,w;y<v;y++)x=r[y],w=o[y],x.dom&&(x=r[y]=fs(x)),of(w,x,s,l,u),o[y]=x;if(f<p)for(y=v;y<p;y++)x=r[y],x.dom&&(x=r[y]=fs(x)),Fs(x,s,l,u);else if(f>p)for(y=v;y<f;y++)Ml(o[y],s)}function nPe(o,r,s,l,u,f,p){var v=f-1,y=p-1,x,w=0,C=o[w],O=r[w],T;e:{for(;C.key===O.key;){if(O.dom&&(r[w]=O=fs(O)),of(C,O,s,l,u),o[w]=O,w++,w>v||w>y)break e;C=o[w],O=r[w]}for(C=o[v],O=r[y];C.key===O.key;){if(O.dom&&(r[y]=O=fs(O)),of(C,O,s,l,u),o[v]=O,v--,y--,w>v||w>y)break e;C=o[v],O=r[y]}}if(w>v){if(w<=y){T=y+1;for(var P=T<p?r[T].dom:null;w<=y;)O=r[w],O.dom&&(r[w]=O=fs(O)),w++,VC(s,Fs(O,null,l,u),P)}}else if(w>y)for(;w<=v;)Ml(o[w++],s);else{var N=w,j=w,q=v-w+1,Q=y-w+1,U=[];for(x=0;x<Q;x++)U.push(0);var H=q===f,X=!1,Y=0,ae=0;if(p<4||(q|Q)<32)for(x=N;x<=v;x++)if(C=o[x],ae<Q){for(w=j;w<=y;w++)if(O=r[w],C.key===O.key){if(U[w-j]=x+1,H)for(H=!1;x>N;)Ml(o[N++],s);Y>w?X=!0:Y=w,O.dom&&(r[w]=O=fs(O)),of(C,O,s,l,u),ae++;break}!H&&w>y&&Ml(C,s)}else H||Ml(C,s);else{var te={};for(x=j;x<=y;x++)te[r[x].key]=x;for(x=N;x<=v;x++)if(C=o[x],ae<Q)if(w=te[C.key],w!==void 0){if(H)for(H=!1;x>N;)Ml(o[N++],s);O=r[w],U[w-j]=x+1,Y>w?X=!0:Y=w,O.dom&&(r[w]=O=fs(O)),of(C,O,s,l,u),ae++}else H||Ml(C,s);else H||Ml(C,s)}if(H)HC(s,o),Z3(r,s,l,u);else if(X){var ve=rPe(U);for(w=ve.length-1,x=Q-1;x>=0;x--)U[x]===0?(Y=x+j,O=r[Y],O.dom&&(r[Y]=O=fs(O)),T=Y+1,VC(s,Fs(O,null,l,u),T<p?r[T].dom:null)):w<0||x!==ve[w]?(Y=x+j,O=r[Y],T=Y+1,VC(s,O.dom,T<p?r[T].dom:null)):w--}else if(ae!==Q)for(x=Q-1;x>=0;x--)U[x]===0&&(Y=x+j,O=r[Y],O.dom&&(r[Y]=O=fs(O)),T=Y+1,VC(s,Fs(O,null,l,u),T<p?r[T].dom:null))}}function rPe(o){var r=o.slice(),s=[0],l,u,f,p,v,y=o.length;for(l=0;l<y;l++){var x=o[l];if(x!==0){if(u=s[s.length-1],o[u]<x){r[l]=u,s.push(l);continue}for(f=0,p=s.length-1;f<p;)v=(f+p)/2|0,o[s[v]]<x?f=v+1:p=v;x<o[s[f]]&&(f>0&&(r[l]=s[f-1]),s[f]=l)}}for(f=s.length,p=s[f-1];f-- >0;)s[f]=p,p=r[p];return s}bZ&&document.body===null&&BC('Inferno warning: you cannot initialize inferno without "document.body". Wait on "DOMContentLoaded" event, add script to bottom of body, or use async/defer attributes on script tag.');var iPe=bZ?document.body:null;function UZ(o,r,s){if(iPe===r&&Bi('you cannot render() to the "document.body". Use an empty element as a container instead.'),o!==JM){var l=r.$V;if(tn(l)?Iu(o)||(o.dom&&(o=fs(o)),Lr(r.firstChild)?(Fs(o,r,oo,!1),r.$V=o):Yke(o,r),l=o):tn(o)?(Ml(l,r),r.$V=null):(o.dom&&(o=fs(o)),of(l,o,r,oo,!1),l=r.$V=o),Mu.length>0&&oA(Mu),Cn(s)&&s(),Cn(Il.renderComplete)&&Il.renderComplete(l),l&&l.flags&14)return l.children}}var qZ=typeof Promise>"u"?null:Promise.resolve(),oPe=typeof requestAnimationFrame>"u"?setTimeout:requestAnimationFrame.bind(window);function sPe(o){return qZ?qZ.then(o):oPe(o)}function WZ(o,r,s,l){Cn(r)&&(r=r(o.state,o.props,o.context));var u=o.$PS;if(tn(u))o.$PS=r;else for(var f in r)u[f]=r[f];if(!o.$PSS&&!o.$BR)if(!o.$UPD)o.$PSS=!0,o.$UPD=!0,GZ(o,l,s),o.$UPD=!1;else{var p=o.$QU;Lr(p)&&(p=o.$QU=[],sPe(aPe(o,p))),Cn(s)&&p.push(s)}else o.$PSS=!0,o.$BR&&Cn(s)&&Mu.push(s.bind(o))}function aPe(o,r){return function(){o.$QU=null,o.$UPD=!0,GZ(o,!1,function(){for(var s=0,l=r.length;s<l;s++)r[s].call(o)}),o.$UPD=!1}}function GZ(o,r,s){if(!o.$UN){if(r||!o.$BR){o.$PSS=!1;var l=o.$PS,u=o.state,f=Q3(u,l),p=o.props,v=o.context;o.$PS=null;var y=o.$V,x=o.$LI,w=x.dom&&x.dom.parentNode;if(HZ(o,f,y,p,w,v,(y.flags&32)>0,r,!0),o.$UN)return;if(!(o.$LI.flags&1024))for(var C=o.$LI.dom;!Lr(y=y.parentVNode);)(y.flags&14)>0&&(y.dom=C);Mu.length>0&&oA(Mu)}else o.state=o.$PS,o.$PS=null;Cn(s)&&s.call(o)}}var Im=function(r,s){this.state=null,this.$BR=!1,this.$BS=!0,this.$PSS=!1,this.$PS=null,this.$LI=null,this.$V=null,this.$UN=!1,this.$CX=null,this.$UPD=!0,this.$QU=null,this.props=r||oo,this.context=s||oo};Im.prototype.forceUpdate=function(r){this.$UN||WZ(this,{},r,!0)},Im.prototype.setState=function(r,s){if(!this.$UN)if(!this.$BS)WZ(this,r,s,!1);else{Bi("cannot update state via setState() in componentWillUpdate() or constructor.");return}},Im.prototype.render=function(r,s,l){};{var QZ=function(){};console.info("Inferno is in development mode."),(QZ.name||QZ.toString()).indexOf("testFn")===-1&&BC("It looks like you're using a minified copy of the development build of Inferno. When deploying Inferno apps to production, make sure to use the production build which skips development warnings and is faster. See http://infernojs.org for more details.")}class lPe extends Im{constructor(r){super(r);let s=this._injector=r.injector;this._sheet=s.get("sheet"),this._changeSupport=s.get("changeSupport"),this._components=s.get("components"),this._eventBus=s.get("eventBus");let l=s.get("throttle");this.onElementsChanged=this.onElementsChanged.bind(this),this.onScroll=l(this.onScroll.bind(this))}onElementsChanged(){this.forceUpdate()}onScroll(){this._eventBus.fire("sheet.scroll")}getChildContext(){return{changeSupport:this._changeSupport,components:this._components,injector:this._injector}}componentWillMount(){let{id:r}=this._sheet.getRoot();this._changeSupport.onElementsChanged(r,this.onElementsChanged)}componentWillUnmount(){let{id:r}=this._sheet.getRoot();this._changeSupport.offElementsChanged(r,this.onElementsChanged)}render(){let{rows:r,cols:s}=this._sheet.getRoot(),l=this._components.getComponents("table.before"),u=this._components.getComponents("table.after"),f=this._components.getComponent("table.head"),p=this._components.getComponent("table.body"),v=this._components.getComponent("table.foot");return xv(1,"div","tjs-container",[l&&l.map((y,x)=>rf(2,y,null,x)),xv(1,"div","tjs-table-container",xv(1,"table","tjs-table",[f&&rf(2,f,{rows:r,cols:s}),p&&rf(2,p,{rows:r,cols:s}),v&&rf(2,v,{rows:r,cols:s})],0),2,{onScroll:this.onScroll}),u&&u.map((y,x)=>rf(2,y,null,x))],0)}}let YZ=class{constructor(r,s,l,u,f){let{container:p}=l;this._container=p,u.on("root.added",()=>{UZ(rf(2,lPe,{injector:f}),p)}),u.on("root.remove",()=>{UZ(null,p)})}getContainer(){return this._container}};YZ.$inject=["changeSupport","components","config.renderer","eventBus","injector"];var XZ={__init__:["changeSupport","components","renderer"],changeSupport:["type",yZ],components:["type",bke],renderer:["type",YZ]};let cPe=(()=>{class o{constructor(s,l){this._elementRegistry=s,this._eventBus=l,this._root=null,l.on("table.clear",()=>{this.setRoot(null)})}setRoot(s){if(this._root){let l=this._root;this._eventBus.fire("root.remove",{root:l}),this._root=null,this._eventBus.fire("root.removed",{root:l})}s&&this._eventBus.fire("root.add",{root:s}),this._root=s,s&&this._eventBus.fire("root.added",{root:s})}getRoot(){return this._root||this.setRoot({id:"__implicitroot",rows:[],cols:[]}),this._root}addRow(s,l){let u=this.getRoot();if(u.cols.length!=s.cells.length)throw new Error("number of cells is not equal to number of cols");return typeof l>"u"&&(l=u.rows.length),UC(l,u.rows,s),s.root=u,this._elementRegistry.add(s),s.cells.forEach((f,p)=>{this._elementRegistry.add(f),f.row=s,f.col=u.cols[p],UC(l,u.cols[p].cells,f)}),this._eventBus.fire("row.add",{row:s}),s}removeRow(s){let l=this.getRoot();typeof s=="string"&&(s=this._elementRegistry.get(s));let u=l.rows.indexOf(s);u!==-1&&(qC(u,l.rows),s.root=void 0,this._elementRegistry.remove(s),s.cells.forEach((f,p)=>{this._elementRegistry.remove(f),f.col=void 0,qC(u,l.cols[p].cells)}),this._eventBus.fire("row.remove",{row:s}))}addCol(s,l){let u=this.getRoot();if(this._elementRegistry.add(s),u.rows.length!=s.cells.length)throw new Error("number of cells is not equal to number of rows");return typeof l>"u"&&(l=u.cols.length),UC(l,u.cols,s),s.root=u,s.cells.forEach((f,p)=>{this._elementRegistry.add(f),f.col=s,f.row=u.rows[p],UC(l,u.rows[p].cells,f)}),this._eventBus.fire("col.add",{col:s}),s}removeCol(s){let l=this.getRoot();typeof s=="string"&&(s=this._elementRegistry.get(s));let u=l.cols.indexOf(s);u!==-1&&(qC(u,l.cols),s.root=void 0,this._elementRegistry.remove(s),s.cells.forEach((f,p)=>{this._elementRegistry.remove(f),f.row=void 0,qC(u,l.rows[p].cells)}),this._eventBus.fire("col.remove",{col:s}))}resized(){this._eventBus.fire("sheet.resized")}}return o.$inject=["elementRegistry","eventBus"],o})();function UC(o,r,s){return r.splice(o,0,s)}function qC(o,r){return r.splice(o,1)}function KZ(o=!0){let r=typeof o=="number"?o:o?300:0;return r?s=>Qe(s,r):s=>s}KZ.$inject=["config.throttle"];var uPe={__depends__:[XZ],__init__:["elementFactory","sheet"],elementFactory:["type",gZ],elementRegistry:["type",vZ],eventBus:["type",de],sheet:["type",cPe],throttle:["factory",KZ]};class dPe{constructor(r={}){let{injector:s}=r;if(!s){let{modules:l,config:u}=this._init(r);s=fPe(u,l)}this.get=s.get,this.invoke=s.invoke,this.get("eventBus").fire("table.init"),this.get("eventBus").fire("diagram.init")}_init(r){let u=r,{modules:s}=u,l=Ae(u,["modules"]);return{modules:s,config:l}}destroy(){let r=this.get("eventBus");r.fire("table.destroy"),r.fire("diagram.destroy")}clear(){let r=this.get("eventBus");r.fire("table.clear"),r.fire("diagram.clear")}}function fPe(o,r){let s=[{config:["value",o]},uPe].concat(r||[]),l=new y_(s);return l.init(),l}function mA(o){if(!o)return"<null>";let r=o.id?` id="${o.id}"`:"";return`<${o.$type}${r} />`}function hPe(o,r){function s(y,x,w){var C=y.gfx;if(C)throw new Error(`already rendered ${mA(y)}`);return o.element(y,x,w)}function l(y){return o.table(y)}function u(y){y.id||(y.id="decision");let x=y.decisionLogic;if(x){if(!x.output)throw new Error(`missing output for ${mA(x)}`);let w=l(x);x.input&&f(x.input,w,x),f(x.output,w,x),p(x.rule,w,x)}else throw new Error(`no table for ${mA(y)}`)}function f(y,x,w){D(y,function(C){s(C,x,w)})}function p(y,x,w){D(y,function(C){s(C,x,w),v(C.inputEntry,C),v(C.outputEntry,C)})}function v(y,x,w){D(y,function(C){s(C,x,w)})}return{handleDecision:u}}function pPe(o,r,s){let l=o.get("tableImporter"),u=o.get("eventBus"),f=o.get("sheet");o.get("modeling",!1);let p,v=[];function y(x){let w={create(O,T,P,N){return l.create(O,T,P,N)},table(O){return l.add(O)},element(O,T,P){return l.add(O,T,P)},error(O,T){v.push({message:O,context:T})}};new hPe(w).handleDecision(x)}u.fire("import.render.start",{decision:r});try{y(r)}catch(x){p=x}u.fire("import.render.complete",{error:p,warnings:v}),u.fire("elements.changed",{elements:[f.getRoot()]}),s(p,v)}var ZZ="$NO_OP",mPe="a runtime error occured! Use Inferno in development environment to find the error.",gPe=!!(typeof window<"u"&&window.document),Mm=Array.isArray;function Ev(o){var r=typeof o;return r==="string"||r==="number"}function gn(o){return WC(o)||so(o)}function jh(o){return so(o)||o===!1||vPe(o)||WC(o)}function jn(o){return typeof o=="function"}function Vh(o){return typeof o=="string"}function gA(o){return typeof o=="number"}function so(o){return o===null}function vPe(o){return o===!0}function WC(o){return o===void 0}function yPe(o){return typeof o=="object"}function hs(o){throw o||(o=mPe),new Error("Inferno Error: "+o)}function vA(o){console.error(o)}function ex(o,r){var s={};if(o)for(var l in o)s[l]=o[l];if(r)for(var u in r)s[u]=r[u];return s}function sf(o){var r;if(Mm(o)){var s=o.length>3?o.slice(0,3).toString()+",...":o.toString();r="Array("+s+")"}else if(Ev(o))r="Text("+o+")";else if(jh(o))r="InvalidVNode("+o+")";else{var l=o.flags;if(l&481)r="<"+o.type+(o.className?' class="'+o.className+'"':"")+">";else if(l&16)r="Text("+o.children+")";else if(l&1024)r="Portal*";else{var u=o.type,f=u.name||u.displayName||u.constructor.name||(u.toString().match(/^function\s*([^\s(]+)/)||[])[1];r="<"+f+" />"}}return">> "+r+`
`}function yA(o,r){for(var s={},l=0,u=o.length;l<u;l++){var f=o[l];if(Mm(f))return`Encountered ARRAY in mount, array must be flattened, or normalize used. Location: 
`+sf(f);if(jh(f)){if(r)return`Encountered invalid node when preparing to keyed algorithm. Location: 
`+sf(f);if(Object.keys(s).length!==0)return`Encountered invalid node with mixed keys. Location: 
`+sf(f);continue}typeof f=="object"&&(f.isValidated=!0);var p=f.key;if(!gn(p)&&!Ev(p))return`Encountered child vNode where key property is not string or number. Location: 
`+sf(f);var v=f.children,y=f.childFlags;if(!jh(v)){var x=void 0;if(y&12?x=yA(v,f.childFlags&8):y===2&&(x=yA([v],f.childFlags&8)),x)return x+=sf(f),x}if(r&&gn(p))return`Encountered child without key during keyed algorithm. If this error points to Array make sure children is flat list. Location: 
`+sf(f);if(!r&&gn(p)){if(Object.keys(s).length!==0)return`Encountered children with key missing. Location: 
`+sf(f);continue}if(s[p])return"Encountered two children with same key: {"+p+`}. Location: 
`+sf(f);s[p]=!0}}function JZ(o){{if(o.childFlags&1)return;if(o.flags&64&&hs("input elements can't have children."),o.flags&128&&hs("textarea elements can't have children."),o.flags&481){var r=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],s=o.type.toLowerCase();s==="media"&&hs("media elements can't have children.");var l=r.indexOf(s);l!==-1&&hs(r[l]+" elements can't have children.")}}}function eJ(o){{if(o.isValidated===!1&&o.children&&o.flags&481){var r=yA(Array.isArray(o.children)?o.children:[o.children],(o.childFlags&8)>0);r&&hs(r+sf(o))}o.isValidated=!0}}var tx="$";function bA(o,r,s,l,u,f,p,v){return{childFlags:o,children:r,className:s,dom:null,flags:l,isValidated:!1,key:u===void 0?null:u,parentVNode:null,props:f===void 0?null:f,ref:p===void 0?null:p,type:v}}function me(o,r,s,l,u,f,p,v){o&14&&hs("Creating Component vNodes using createVNode is not allowed. Use Inferno.createComponentVNode method.");var y=u===void 0?1:u,x=bA(y,l,s,o,p,f,v,r);return y===0&&iJ(x,x.children),JZ(x),x}function mt(o,r,s,l,u){o&1&&hs("Creating element vNodes using createComponentVNode is not allowed. Use Inferno.createVNode method."),(o&2)>0&&(o=r.prototype&&jn(r.prototype.render)?4:8);var f=r.defaultProps;if(!gn(f)){s||(s={});for(var p in f)WC(s[p])&&(s[p]=f[p])}if((o&8)>0){var v=r.defaultHooks;if(!gn(v))if(!u)u=v;else for(var y in v)WC(u[y])&&(u[y]=v[y])}var x=bA(1,null,null,o,l,s,u,r),w=af.createVNode;return jn(w)&&w(x),x}function Wr(o,r){return bA(1,gn(o)?"":o,null,16,r,null,null,null)}function tJ(o){var r=o.props;if(r){var s=o.flags;s&481&&(r.children!==void 0&&gn(o.children)&&iJ(o,r.children),r.className!==void 0&&(o.className=r.className||null,r.className=void 0)),r.key!==void 0&&(o.key=r.key,r.key=void 0),r.ref!==void 0&&(s&8?o.ref=ex(o.ref,r.ref):o.ref=r.ref,r.ref=void 0)}return o}function ca(o){var r,s=o.flags;if(s&14){var l,u=o.props;if(!so(u)){l={};for(var f in u)l[f]=u[f]}r=mt(s,o.type,l,o.key,o.ref)}else s&481?r=me(s,o.type,o.className,o.children,o.childFlags,o.props,o.key,o.ref):s&16?r=Wr(o.children,o.key):s&1024&&(r=o);return r}function nJ(){return Wr("",null)}function rJ(o,r,s,l){for(var u=o.length;s<u;s++){var f=o[s];if(!jh(f)){var p=l+tx+s;if(Mm(f))rJ(f,r,0,p);else{if(Ev(f))f=Wr(f,p);else{var v=f.key,y=Vh(v)&&v[0]===tx;(!so(f.dom)||y)&&(f=ca(f)),so(v)||y?f.key=p:f.key=l+v}r.push(f)}}}}function iJ(o,r){var s,l=1;if(jh(r))s=r;else if(Vh(r))l=2,s=Wr(r);else if(gA(r))l=2,s=Wr(r+"");else if(Mm(r)){var u=r.length;if(u===0)s=null,l=1;else{(Object.isFrozen(r)||r.$===!0)&&(r=r.slice()),l=8;for(var f=0;f<u;f++){var p=r[f];if(jh(p)||Mm(p)){s=s||r.slice(0,f),rJ(r,s,f,"");break}else if(Ev(p))s=s||r.slice(0,f),s.push(Wr(p,tx+f));else{var v=p.key,y=so(p.dom),x=so(v),w=!x&&Vh(v)&&v[0]===tx;!y||x||w?(s=s||r.slice(0,f),(!y||w)&&(p=ca(p)),(x||w)&&(p.key=tx+f),s.push(p)):s&&s.push(p)}}s=s||r,s.$=!0}}else s=r,so(r.dom)||(s=ca(r)),l=2;return o.children=s,o.childFlags=l,JZ(o),o}var af={afterRender:null,beforeRender:null,createVNode:null,renderComplete:null},Am="http://www.w3.org/1999/xlink",xA="http://www.w3.org/XML/1998/namespace",bPe="http://www.w3.org/2000/svg",oJ={"xlink:actuate":Am,"xlink:arcrole":Am,"xlink:href":Am,"xlink:role":Am,"xlink:show":Am,"xlink:title":Am,"xlink:type":Am,"xml:base":xA,"xml:lang":xA,"xml:space":xA},Bs={},wv=[];Object.freeze(Bs);function GC(o,r){o.appendChild(r)}function QC(o,r,s){gn(s)?GC(o,r):o.insertBefore(r,s)}function xPe(o,r){return r?document.createElementNS(bPe,o):document.createElement(o)}function EPe(o,r,s){o.replaceChild(r,s)}function wPe(o,r){o.removeChild(r)}function _Pe(o){for(var r;(r=o.shift())!==void 0;)r()}var YC={},EA={};function sJ(o,r,s){var l=YC[o],u=s.$EV;r?(l||(EA[o]=DPe(o),YC[o]=0),u||(u=s.$EV={}),u[o]||YC[o]++,u[o]=r):u&&u[o]&&(YC[o]--,l===1&&(document.removeEventListener(aJ(o),EA[o]),EA[o]=null),u[o]=r)}function CPe(o){return jn(o.composedPath)?o.composedPath()[0]:o.target}function SPe(o,r,s,l){for(var u=CPe(o);!so(u);){if(r&&u.disabled)return;var f=u.$EV;if(f){var p=f[s];if(p&&(l.dom=u,p.event?p.event(p.data,o):p(o),o.cancelBubble))return}u=u.parentNode}}function aJ(o){return o.substr(2).toLowerCase()}function OPe(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function DPe(o){var r=function(l){var u=l.type,f=u==="click"||u==="dblclick";if(f&&l.button!==0)return l.stopPropagation(),!1;l.stopPropagation=OPe;var p={dom:document};Object.defineProperty(l,"currentTarget",{configurable:!0,get:function(){return p.dom}}),SPe(l,f,o,p)};return document.addEventListener(aJ(o),r),r}function TPe(o,r){var s=document.createElement("i");return s.innerHTML=r,s.innerHTML===o.innerHTML}function lJ(o,r,s){if(o[r]){var l=o[r];l.event?l.event(l.data,s):l(s)}else{var u=r.toLowerCase();o[u]&&o[u](s)}}function nx(o,r){var s=function(u){u.stopPropagation();var f=this.$V;if(f){var p=f.props||Bs,v=f.dom;if(Vh(o))lJ(p,o,u);else for(var y=0;y<o.length;y++)lJ(p,o[y],u);if(jn(r)){var x=this.$V,w=x.props||Bs;r(w,v,!1,x)}}};return Object.defineProperty(s,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),s}function wA(o){return o==="checkbox"||o==="radio"}var kPe=nx("onInput",_A),PPe=nx(["onClick","onChange"],_A);function cJ(o){o.stopPropagation()}cJ.wrapped=!0;function IPe(o,r){wA(r.type)?(o.onchange=PPe,o.onclick=cJ):o.oninput=kPe}function _A(o,r){var s=o.type,l=o.value,u=o.checked,f=o.multiple,p=o.defaultValue,v=!gn(l);s&&s!==r.type&&r.setAttribute("type",s),!gn(f)&&f!==r.multiple&&(r.multiple=f),!gn(p)&&!v&&(r.defaultValue=p+""),wA(s)?(v&&(r.value=l),gn(u)||(r.checked=u)):v&&r.value!==l?(r.defaultValue=l,r.value=l):gn(u)||(r.checked=u)}function uJ(o,r){var s=o.type;if(s==="optgroup"){var l=o.children,u=o.childFlags;if(u&12)for(var f=0,p=l.length;f<p;f++)CA(l[f],r);else u===2&&CA(l,r)}else CA(o,r)}function CA(o,r){var s=o.props||Bs,l=o.dom;l.value=s.value,Mm(r)&&r.indexOf(s.value)!==-1||s.value===r?l.selected=!0:(!gn(r)||!gn(s.selected))&&(l.selected=s.selected||!1)}var MPe=nx("onChange",dJ);function APe(o){o.onchange=MPe}function dJ(o,r,s,l){var u=!!o.multiple;!gn(o.multiple)&&u!==r.multiple&&(r.multiple=u);var f=l.childFlags;if(!(f&1)){var p=l.children,v=o.value;if(s&&gn(v)&&(v=o.defaultValue),f&12)for(var y=0,x=p.length;y<x;y++)uJ(p[y],v);else f===2&&uJ(p,v)}}var RPe=nx("onInput",fJ),LPe=nx("onChange");function $Pe(o,r){o.oninput=RPe,r.onChange&&(o.onchange=LPe)}function fJ(o,r,s){var l=o.value,u=r.value;if(gn(l)){if(s){var f=o.defaultValue;!gn(f)&&f!==u&&(r.defaultValue=f,r.value=f)}}else u!==l&&(r.defaultValue=l,r.value=l)}function hJ(o,r,s,l,u,f){o&64?_A(l,s):o&256?dJ(l,s,u,r):o&128&&fJ(l,s,u),f&&(s.$V=r)}function NPe(o,r,s){o&64?IPe(r,s):o&256?APe(r):o&128&&$Pe(r,s)}function pJ(o){return o.type&&wA(o.type)?!gn(o.checked):!gn(o.value)}function Sc(o,r){Rm(o),r&&o.dom&&(wPe(r,o.dom),o.dom=null)}function Rm(o){var r=o.flags;if(r&481){var s=o.ref,l=o.props;jn(s)&&s(null);var u=o.children,f=o.childFlags;if(f&12?SA(u):f===2&&Rm(u),!so(l))for(var p in l)switch(p){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":sJ(p,null,o.dom);break}}else{var v=o.children;if(v)if(r&14){var y=o.ref;r&4?(jn(v.componentWillUnmount)&&v.componentWillUnmount(),jn(y)&&y(null),v.$UN=!0,v.$LI&&Rm(v.$LI)):(!gn(y)&&jn(y.onComponentWillUnmount)&&y.onComponentWillUnmount(o.dom,o.props||Bs),Rm(v))}else r&1024&&Sc(v,o.type)}}function SA(o){for(var r=0,s=o.length;r<s;r++)Rm(o[r])}function XC(o,r){SA(r),o.textContent=""}function FPe(o,r){return function(s){o(r.data,s)}}function BPe(o,r,s){var l=o.toLowerCase();if(!jn(r)&&!gn(r)){var u=r.event;u&&jn(u)?s[l]=FPe(u,r):hs('an event on a VNode "'+o+'". was not a function or a valid linkEvent.')}else{var f=s[l];(!f||!f.wrapped)&&(s[l]=r)}}function mJ(o,r){switch(o){case"animationIterationCount":case"borderImageOutset":case"borderImageSlice":case"borderImageWidth":case"boxFlex":case"boxFlexGroup":case"boxOrdinalGroup":case"columnCount":case"fillOpacity":case"flex":case"flexGrow":case"flexNegative":case"flexOrder":case"flexPositive":case"flexShrink":case"floodOpacity":case"fontWeight":case"gridColumn":case"gridRow":case"lineClamp":case"lineHeight":case"opacity":case"order":case"orphans":case"stopOpacity":case"strokeDasharray":case"strokeDashoffset":case"strokeMiterlimit":case"strokeOpacity":case"strokeWidth":case"tabSize":case"widows":case"zIndex":case"zoom":return r;default:return r+"px"}}function jPe(o,r,s){var l=s.style,u,f;if(Vh(r)){l.cssText=r;return}if(!gn(o)&&!Vh(o)){for(u in r)f=r[u],f!==o[u]&&(l[u]=gA(f)?mJ(u,f):f);for(u in o)gn(r[u])&&(l[u]="")}else for(u in r)f=r[u],l[u]=gA(f)?mJ(u,f):f}function OA(o,r,s,l,u,f,p){switch(o){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":sJ(o,s,l);break;case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":break;case"autoFocus":l.autofocus=!!s;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":l[o]=!!s;break;case"defaultChecked":case"value":case"volume":if(f&&o==="value")return;var v=gn(s)?"":s;l[o]!==v&&(l[o]=v);break;case"dangerouslySetInnerHTML":var y=r&&r.__html||"",x=s&&s.__html||"";y!==x&&!gn(x)&&!TPe(l,x)&&(so(p)||(p.childFlags&12?SA(p.children):p.childFlags===2&&Rm(p.children),p.children=null,p.childFlags=1),l.innerHTML=x);break;default:o[0]==="o"&&o[1]==="n"?BPe(o,s,l):gn(s)?l.removeAttribute(o):o==="style"?jPe(r,s,l):u&&oJ[o]?l.setAttributeNS(oJ[o],o,s):l.setAttribute(o,s);break}}function VPe(o,r,s,l,u){var f=!1,p=(r&448)>0;p&&(f=pJ(s),f&&NPe(r,l,s));for(var v in s)OA(v,null,s[v],l,u,f,null);p&&hJ(r,o,l,s,!0,f)}function zPe(o,r,s,l){var u=new r(s,l);if(o.children=u,u.$V=o,u.$BS=!1,u.context=l,u.props===Bs&&(u.props=s),u.$UN=!1,jn(u.componentWillMount)){if(u.$BR=!0,u.componentWillMount(),u.$PSS){var f=u.state,p=u.$PS;if(so(f))u.state=p;else for(var v in p)f[v]=p[v];u.$PSS=!1,u.$PS=null}u.$BR=!1}jn(af.beforeRender)&&af.beforeRender(u);var y=KC(u.render(s,u.state,l),o),x;return jn(u.getChildContext)&&(x=u.getChildContext()),gn(x)?u.$CX=l:u.$CX=ex(l,x),jn(af.afterRender)&&af.afterRender(u),u.$LI=y,u}function KC(o,r){return Mm(o)&&hs("a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object."),jh(o)?o=nJ():Ev(o)?o=Wr(o,null):(o.dom&&(o=ca(o)),o.flags&14&&(o.parentVNode=r)),o}function Al(o,r,s,l){var u=o.flags;if(u&481)return HPe(o,r,s,l);if(u&14)return UPe(o,r,s,l,(u&4)>0);if(u&512||u&16)return gJ(o,r);if(u&1024)return Al(o.children,o.type,s,!1),o.dom=gJ(nJ(),r);hs(typeof o=="object"?`mount() received an object that's not a valid VNode, you should stringify it first, fix createVNode flags or call normalizeChildren. Object: "`+JSON.stringify(o)+'".':'mount() expects a valid VNode, instead it received an object with the type "'+typeof o+'".')}function gJ(o,r){var s=o.dom=document.createTextNode(o.children);return so(r)||GC(r,s),s}function HPe(o,r,s,l){var u=o.flags,f=o.children,p=o.props,v=o.className,y=o.ref,x=o.childFlags;l=l||(u&32)>0;var w=xPe(o.type,l);if(o.dom=w,!gn(v)&&v!==""&&(l?w.setAttribute("class",v):w.className=v),eJ(o),so(r)||GC(r,w),!(x&1)){var C=l===!0&&o.type!=="foreignObject";x===2?Al(f,w,s,C):x&12&&rx(f,w,s,C)}return so(p)||VPe(o,u,p,w,l),Vh(y)&&hs('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.'),jn(y)&&vJ(w,y),w}function rx(o,r,s,l){for(var u=0,f=o.length;u<f;u++){var p=o[u];so(p.dom)||(o[u]=p=ca(p)),Al(p,r,s,l)}}function UPe(o,r,s,l,u){var f,p=o.type,v=o.props||Bs,y=o.ref;if(u){var x=zPe(o,p,v,s);o.dom=f=Al(x.$LI,null,x.$CX,l),WPe(o,y,x),x.$UPD=!1}else{var w=KC(p(v,s),o);o.children=w,o.dom=f=Al(w,null,s,l),QPe(v,y,f)}return so(r)||GC(r,f),f}function qPe(o){return function(){o.$UPD=!0,o.componentDidMount(),o.$UPD=!1}}function WPe(o,r,s){jn(r)?r(s):Ev(r)?hs('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.'):!gn(r)&&yPe(r)&&o.flags&4&&hs("functional component lifecycle events are not supported on ES2015 class components."),jn(s.componentDidMount)&&wv.push(qPe(s))}function GPe(o,r,s){return function(){return o.onComponentDidMount(r,s)}}function QPe(o,r,s){gn(r)||(jn(r.onComponentWillMount)&&r.onComponentWillMount(o),jn(r.onComponentDidMount)&&wv.push(GPe(r,s,o)))}function vJ(o,r){wv.push(function(){return r(o)})}function DA(o,r,s,l,u){Rm(o),EPe(s,Al(r,null,l,u),o.dom)}function zh(o,r,s,l,u){var f=r.flags|0;o.flags!==f||f&2048?DA(o,r,s,l,u):f&481?KPe(o,r,s,l,u,f):f&14?ZPe(o,r,s,l,u,(f&4)>0):f&16?JPe(o,r):f&512?r.dom=o.dom:XPe(o,r,l)}function YPe(o,r){o.textContent!==r.children&&(o.textContent=r.children)}function XPe(o,r,s){var l=o.type,u=r.type,f=r.children;if(yJ(o.childFlags,r.childFlags,o.children,f,l,s,!1),r.dom=o.dom,l!==u&&!jh(f)){var p=f.dom;l.removeChild(p),u.appendChild(p)}}function KPe(o,r,s,l,u,f){var p=r.type;if(o.type!==p)DA(o,r,s,l,u);else{var v=o.dom,y=o.props,x=r.props,w=!1,C=!1,O;if(r.dom=v,u=u||(f&32)>0,y!==x){var T=y||Bs;if(O=x||Bs,O!==Bs){w=(f&448)>0,w&&(C=pJ(O));for(var P in O){var N=T[P],j=O[P];N!==j&&OA(P,N,j,v,u,C,o)}}if(T!==Bs)for(var q in T)!O.hasOwnProperty(q)&&!gn(T[q])&&OA(q,T[q],null,v,u,C,o)}var Q=o.children,U=r.children,H=r.ref,X=o.className,Y=r.className;eJ(r),f&4096?YPe(v,U):yJ(o.childFlags,r.childFlags,Q,U,v,l,u&&p!=="foreignObject"),w&&hJ(f,r,v,O,!1,C),X!==Y&&(gn(Y)?v.removeAttribute("class"):u?v.setAttribute("class",Y):v.className=Y),jn(H)&&o.ref!==H?vJ(v,H):Vh(H)&&hs('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.')}}function yJ(o,r,s,l,u,f,p){switch(o){case 2:switch(r){case 2:zh(s,l,u,f,p);break;case 1:Sc(s,u);break;default:Sc(s,u),rx(l,u,f,p);break}break;case 1:switch(r){case 2:Al(l,u,f,p);break;case 1:break;default:rx(l,u,f,p);break}break;default:if(r&12){var v=s.length,y=l.length;v===0?y>0&&rx(l,u,f,p):y===0?XC(u,s):r===8&&o===8?tIe(s,l,u,f,p,v,y):eIe(s,l,u,f,p,v,y)}else r===1?XC(u,s):r===2&&(XC(u,s),Al(l,u,f,p));break}}function bJ(o,r,s,l,u,f,p,v,y){var x=o.state,w=o.props;s.children=o;var C;if(o.$UN){vA("Inferno Error: Can only update a mounted or mounting component. This usually means you called setState() or forceUpdate() on an unmounted component. This is a no-op.");return}if(w!==l||l===Bs){if(!y&&jn(o.componentWillReceiveProps)){if(o.$BR=!0,o.componentWillReceiveProps(l,f),o.$UN)return;o.$BR=!1}o.$PSS&&(r=ex(r,o.$PS),o.$PSS=!1,o.$PS=null)}var O=!!o.shouldComponentUpdate;if(v||!O||O&&o.shouldComponentUpdate(l,r,f)){jn(o.componentWillUpdate)&&(o.$BS=!0,o.componentWillUpdate(l,r,f),o.$BS=!1),o.props=l,o.state=r,o.context=f,jn(af.beforeRender)&&af.beforeRender(o),C=o.render(l,r,f),jn(af.afterRender)&&af.afterRender(o);var T=C!==ZZ,P;if(jn(o.getChildContext)&&(P=o.getChildContext()),gn(P)?P=f:P=ex(f,P),o.$CX=P,T){var N=o.$LI,j=KC(C,s);zh(N,j,u,P,p),o.$LI=j,jn(o.componentDidUpdate)&&o.componentDidUpdate(w,x)}}else o.props=l,o.state=r,o.context=f;s.dom=o.$LI.dom}function ZPe(o,r,s,l,u,f){var p=r.type,v=o.key,y=r.key;if(o.type!==p||v!==y)DA(o,r,s,l,u);else{var x=r.props||Bs;if(f){var w=o.children;w.$UPD=!0,w.$V=r,bJ(w,w.state,r,x,s,l,u,!1,!1),w.$UPD=!1}else{var C=!0,O=o.props,T=r.ref,P=!gn(T),N=o.children;if(r.dom=o.dom,r.children=N,P&&jn(T.onComponentShouldUpdate)&&(C=T.onComponentShouldUpdate(O,x)),C!==!1){P&&jn(T.onComponentWillUpdate)&&T.onComponentWillUpdate(O,x);var j=p(x,l);j!==ZZ&&(j=KC(j,r),zh(N,j,s,l,u),r.children=j,r.dom=j.dom,P&&jn(T.onComponentDidUpdate)&&T.onComponentDidUpdate(O,x))}else N.flags&14&&(N.parentVNode=r)}}}function JPe(o,r){var s=r.children,l=o.dom;s!==o.children&&(l.nodeValue=s),r.dom=l}function eIe(o,r,s,l,u,f,p){for(var v=f>p?p:f,y=0,x,w;y<v;y++)x=r[y],w=o[y],x.dom&&(x=r[y]=ca(x)),zh(w,x,s,l,u),o[y]=x;if(f<p)for(y=v;y<p;y++)x=r[y],x.dom&&(x=r[y]=ca(x)),Al(x,s,l,u);else if(f>p)for(y=v;y<f;y++)Sc(o[y],s)}function tIe(o,r,s,l,u,f,p){var v=f-1,y=p-1,x,w=0,C=o[w],O=r[w],T;e:{for(;C.key===O.key;){if(O.dom&&(r[w]=O=ca(O)),zh(C,O,s,l,u),o[w]=O,w++,w>v||w>y)break e;C=o[w],O=r[w]}for(C=o[v],O=r[y];C.key===O.key;){if(O.dom&&(r[y]=O=ca(O)),zh(C,O,s,l,u),o[v]=O,v--,y--,w>v||w>y)break e;C=o[v],O=r[y]}}if(w>v){if(w<=y){T=y+1;for(var P=T<p?r[T].dom:null;w<=y;)O=r[w],O.dom&&(r[w]=O=ca(O)),w++,QC(s,Al(O,null,l,u),P)}}else if(w>y)for(;w<=v;)Sc(o[w++],s);else{var N=w,j=w,q=v-w+1,Q=y-w+1,U=[];for(x=0;x<Q;x++)U.push(0);var H=q===f,X=!1,Y=0,ae=0;if(p<4||(q|Q)<32)for(x=N;x<=v;x++)if(C=o[x],ae<Q){for(w=j;w<=y;w++)if(O=r[w],C.key===O.key){if(U[w-j]=x+1,H)for(H=!1;x>N;)Sc(o[N++],s);Y>w?X=!0:Y=w,O.dom&&(r[w]=O=ca(O)),zh(C,O,s,l,u),ae++;break}!H&&w>y&&Sc(C,s)}else H||Sc(C,s);else{var te={};for(x=j;x<=y;x++)te[r[x].key]=x;for(x=N;x<=v;x++)if(C=o[x],ae<Q)if(w=te[C.key],w!==void 0){if(H)for(H=!1;x>N;)Sc(o[N++],s);O=r[w],U[w-j]=x+1,Y>w?X=!0:Y=w,O.dom&&(r[w]=O=ca(O)),zh(C,O,s,l,u),ae++}else H||Sc(C,s);else H||Sc(C,s)}if(H)XC(s,o),rx(r,s,l,u);else if(X){var ve=nIe(U);for(w=ve.length-1,x=Q-1;x>=0;x--)U[x]===0?(Y=x+j,O=r[Y],O.dom&&(r[Y]=O=ca(O)),T=Y+1,QC(s,Al(O,null,l,u),T<p?r[T].dom:null)):w<0||x!==ve[w]?(Y=x+j,O=r[Y],T=Y+1,QC(s,O.dom,T<p?r[T].dom:null)):w--}else if(ae!==Q)for(x=Q-1;x>=0;x--)U[x]===0&&(Y=x+j,O=r[Y],O.dom&&(r[Y]=O=ca(O)),T=Y+1,QC(s,Al(O,null,l,u),T<p?r[T].dom:null))}}function nIe(o){var r=o.slice(),s=[0],l,u,f,p,v,y=o.length;for(l=0;l<y;l++){var x=o[l];if(x!==0){if(u=s[s.length-1],o[u]<x){r[l]=u,s.push(l);continue}for(f=0,p=s.length-1;f<p;)v=(f+p)/2|0,o[s[v]]<x?f=v+1:p=v;x<o[s[f]]&&(f>0&&(r[l]=s[f-1]),s[f]=l)}}for(f=s.length,p=s[f-1];f-- >0;)s[f]=p,p=r[p];return s}gPe&&document.body===null&&vA('Inferno warning: you cannot initialize inferno without "document.body". Wait on "DOMContentLoaded" event, add script to bottom of body, or use async/defer attributes on script tag.');var xJ=typeof Promise>"u"?null:Promise.resolve(),rIe=typeof requestAnimationFrame>"u"?setTimeout:requestAnimationFrame.bind(window);function iIe(o){return xJ?xJ.then(o):rIe(o)}function EJ(o,r,s,l){jn(r)&&(r=r(o.state,o.props,o.context));var u=o.$PS;if(gn(u))o.$PS=r;else for(var f in r)u[f]=r[f];if(!o.$PSS&&!o.$BR)if(!o.$UPD)o.$PSS=!0,o.$UPD=!0,wJ(o,l,s),o.$UPD=!1;else{var p=o.$QU;so(p)&&(p=o.$QU=[],iIe(oIe(o,p))),jn(s)&&p.push(s)}else o.$PSS=!0,o.$BR&&jn(s)&&wv.push(s.bind(o))}function oIe(o,r){return function(){o.$QU=null,o.$UPD=!0,wJ(o,!1,function(){for(var s=0,l=r.length;s<l;s++)r[s].call(o)}),o.$UPD=!1}}function wJ(o,r,s){if(!o.$UN){if(r||!o.$BR){o.$PSS=!1;var l=o.$PS,u=o.state,f=ex(u,l),p=o.props,v=o.context;o.$PS=null;var y=o.$V,x=o.$LI,w=x.dom&&x.dom.parentNode;if(bJ(o,f,y,p,w,v,(y.flags&32)>0,r,!0),o.$UN)return;if(!(o.$LI.flags&1024))for(var C=o.$LI.dom;!so(y=y.parentVNode);)(y.flags&14)>0&&(y.dom=C);wv.length>0&&_Pe(wv)}else o.state=o.$PS,o.$PS=null;jn(s)&&s.call(o)}}var Nt=function(){function o(s,l){this.state=null,this.props=void 0,this.context=void 0,this.refs=void 0,this.$BR=!1,this.$BS=!0,this.$PSS=!1,this.$PS=null,this.$LI=null,this.$V=null,this.$UN=!1,this.$CX=null,this.$UPD=!0,this.$QU=null,this.props=s||Bs,this.context=l||Bs}var r=o.prototype;return r.forceUpdate=function(l){this.$UN||EJ(this,{},l,!0)},r.setState=function(l,u){if(!this.$UN)if(!this.$BS)EJ(this,l,u,!1);else{hs("cannot update state via setState() in componentWillUpdate() or constructor.");return}},r.render=function(l,u,f){},o}();Nt.defaultProps=void 0;{var _J=function(){};console.info("Inferno is in development mode."),(_J.name||_J.toString()).indexOf("testFn")===-1&&vA("It looks like you're using a minified copy of the development build of Inferno. When deploying Inferno apps to production, make sure to use the production build which skips development warnings and is faster. See http://infernojs.org for more details.")}function sIe(){return{elements:[],index:{}}}function CJ(o,r){let{elements:s,index:l}=o;return l[r]?o:{elements:[...s,r],index:Me(se({},l),{[r]:!0})}}function aIe(o,r){return o.elements.join(r)}function TA(...o){let r=sIe();return o.forEach(function(s){let l=typeof s;l==="string"&&s.length>0?r=CJ(r,s):l==="object"&&s!==null&&Object.keys(s).forEach(function(u){s[u]&&(r=CJ(r,u))})}),aIe(r," ")}function jo(o){let r=o.constructor;return SJ(r,o)}function SJ(o,r){let s=o.$inject;if(!s)return;let{injector:l}=r.context,u=[...s,function(...f){for(let p in f){let v=s[p],y=f[p];r[v]=y}}];l.invoke(u)}function lIe(o,...r){return(function(...s){let l;return r.forEach(function(u){if(l=u.call(o,...s),typeof l<"u")return!1}),l}).bind(o)}function Lm(o,r){Object.keys(r).forEach(function(s){if(s==="$inject"||s==="__init")return;let l=r[s];s==="constructor"&&l.call(o,o.props,o.context);let u=o[s];if(typeof u<"u"){if(typeof u!="function")throw new Error(`failed to mixin <${s}>: cannot combine with non-fn component value`);o[s]=lIe(o,u,l)}else o[s]=l.bind(o)}),"$inject"in r&&SJ(r,o),"__init"in r&&r.__init.call(o,o.props,o.context)}let kA={getSelectionClasses(){let{selected:o,selectedSecondary:r,focussed:s}=this.state;return TA({selected:o,"selected-secondary":r,focussed:s})},selectionChanged(o){this.setState(o)},componentWillUpdate(o){o.elementId!==this.props.elementId&&this.updateSelectionSubscription(!1)},componentDidUpdate(o){o.elementId!==this.props.elementId&&this.updateSelectionSubscription(!0)},componentDidMount(){this.updateSelectionSubscription(!0)},componentWillUnmount(){this.updateSelectionSubscription(!1)},updateSelectionSubscription(o){let{elementId:r}=this.props;r&&r&&this.eventBus[o?"on":"off"](`selection.${r}.changed`,this.selectionChanged)}};kA.$inject=["eventBus"];class cIe extends Im{constructor(r,s){super(r,s),Lm(this,kA),jo(this)}getRenderProps(...r){let v=this.props,{className:s,elementId:l,coords:u}=v,f=Ae(v,["className","elementId","coords"]),p={className:TA(...r,this.getSelectionClasses(),s)};return l&&(p["data-element-id"]=l),u&&(p["data-coords"]=u),se(se({},p),f)}}class ix extends cIe{constructor(r,s){super(r,s),this.state={}}render(){let{children:r}=this.props,s=this.getRenderProps("cell");return _ke(xv(1,"td",null,r,0,se({},s)))}}let _v={slotFill(o,r){let p=o,{type:s,context:l}=p,u=Ae(p,["type","context"]),f=this.components.getComponent(s,l)||r;return f?uQ(om(2,f,se(se({},l),u))):null},slotFills(o){let f=o,{type:r,context:s}=f,l=Ae(f,["type","context"]);return this.components.getComponents(r,s).map(p=>uQ(om(2,p,se(se({},s),l))))}};_v.$inject=["components"];let OJ=400,DJ=(()=>{class o extends Nt{constructor(s,l){super(s,l),Lm(this,_v),jo(this)}componentDidMount(){this.changeSupport.onElementsChanged(this.getRoot(),this.onElementsChanged)}componentWillUnmount(){this.changeSupport.offElementsChanged(this.getRoot(),this.onElementsChanged)}onElementsChanged=()=>{this.forceUpdate()};getRoot(){return this.sheet.getRoot()}render(){let u=(this.getRoot().businessObject.get("annotationsWidth")||OJ)+"px";return me(1,"th","annotation header",[this.slotFills({type:"cell-inner",context:{cellType:"annotations",col:this.sheet.getRoot(),minWidth:OJ}}),this.translate("Annotations")],0,{style:{width:u}})}}return o.$inject=["changeSupport","sheet","translate"],o})();function uIe(o){let{row:r}=o,{id:s,description:l}=r.businessObject;return mt(2,ix,{className:"annotation",elementId:s,children:l||"-"})}function TJ(o){o.onGetComponent("cell",({cellType:r})=>{if(r==="after-label-cells")return DJ;if(r==="after-rule-cells")return uIe})}TJ.$inject=["components"];var dIe={__init__:["annotationsProvider"],annotationsProvider:["type",TJ]};function ox(o,r){return xe({id:o.id,type:o.$type,businessObject:o},r)}var fIe={__depends__:[Ha],tableImporter:["type",(()=>{class o{constructor(s,l,u){this._elementFactory=s,this._eventBus=l,this._sheet=u}add(s){let l;if(we(s,"dmn:DecisionTable"))l=this._elementFactory.createRoot(ox(s)),this._sheet.setRoot(l);else if(we(s,"dmn:InputClause"))l=this._elementFactory.createCol(ox(s)),this._sheet.addCol(l);else if(we(s,"dmn:OutputClause"))l=this._elementFactory.createCol(ox(s)),this._sheet.addCol(l);else if(we(s,"dmn:DecisionRule")){s.inputEntry||(s.inputEntry=[]),s.outputEntry||(s.outputEntry=[]);let u=[...s.inputEntry,...s.outputEntry].map(f=>this._elementFactory.createCell(ox(f)));l=this._elementFactory.createRow(xe(ox(s),{cells:u})),this._sheet.addRow(l)}return this._eventBus.fire("dmnElement.added",{element:l}),l}}return o.$inject=["elementFactory","eventBus","sheet"],o})()]},hIe={__depends__:[fIe,XZ]};class pIe extends Nt{constructor(r,s){super(r,s),Lm(this,_v),this._sheet=s.injector.get("sheet"),this._changeSupport=s.changeSupport}onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){let r=this._sheet.getRoot();this._changeSupport.onElementsChanged(r.id,this.onElementsChanged)}componentWillUnmount(){let r=this._sheet.getRoot();this._changeSupport.offElementsChanged(r.id,this.onElementsChanged)}render(){let r=this._sheet.getRoot();if(!we(r,"dmn:DMNElement"))return null;let s=bc(r),l=s.input,u=s.output;return me(1,"thead",null,me(1,"tr",null,[me(1,"th","index-column"),this.slotFills({type:"cell",context:{cellType:"before-label-cells"}}),l&&l.map((f,p)=>{let v=f.width||"192px";return this.slotFill({type:"cell",context:{cellType:"input-header",input:f,index:p,inputsLength:l.length,width:v},key:f.id},mIe)}),u.map((f,p)=>this.slotFill({type:"cell",context:{cellType:"output-header",output:f,index:p,outputsLength:u.length},key:f.id},gIe)),this.slotFills({type:"cell",context:{cellType:"after-label-cells"}})],0),2)}}function mIe(o,r){let{input:s,className:l,index:u}=o,{label:f,inputExpression:p,inputValues:v}=s,y=r.injector.get("translate"),x=(l||"")+" input-cell";return me(1,"th",x,[me(1,"div","clause",y(u===0?"When":"And"),0),f?me(1,"div","input-label",f,0,{title:y("Input label: ")+f}):me(1,"div","input-expression",p.text,0,{title:y("Input expression: ")+p.text}),me(1,"div","input-variable",v&&v.text||p.typeRef,0,{title:v&&v.text?y("Input values"):y("Input type")})],0,{"data-col-id":s.id},s.id)}function gIe(o,r){let{output:s,className:l,index:u}=o,{label:f,name:p,outputValues:v,typeRef:y}=s,x=r.injector.get("translate"),w=(l||"")+" output-cell";return me(1,"th",w,[me(1,"div","clause",x(u===0?"Then":"And"),0),f?me(1,"div","output-label",f,0,{title:x("Output label")}):me(1,"div","output-name",p,0,{title:x("Output name")}),me(1,"div","output-variable",v&&v.text||y,0,{title:v&&v.text?x("Output values"):x("Output type")})],0,null,s.id)}function kJ(o){o.onGetComponent("table.head",()=>pIe)}kJ.$inject=["components"];var vIe={__init__:["decisionTableHeadProvider"],decisionTableHeadProvider:["type",kJ]};let PJ=class extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),jo(this)}render(){let r=this.sheet.getRoot();if(!we(r,"dmn:DMNElement"))return null;let{name:s}=r.businessObject.$parent,l=this.components.getComponent("hit-policy")||yIe;return me(1,"div","decision-table-properties",[me(1,"div","decision-table-name",s,0,{title:this._translate("Decision name: ")+s}),me(1,"div","decision-table-header-separator"),mt(2,l)],4)}};PJ.$inject=["sheet","components"];function yIe(){return null}let bIe=500,IJ=class{constructor(r){r.onGetComponent("table.before",bIe,()=>PJ)}};IJ.$inject=["components"];var xIe={__init__:["decisionTableProperties"],decisionTableProperties:["type",IJ]};class EIe extends Nt{render(){let{row:r,rowIndex:s}=this.props,{components:l}=this.context,u=l.getComponents("cell-inner",{cellType:"rule-index",row:r,rowIndex:s});return me(1,"td","rule-index",[u&&u.map(f=>mt(2,f,{row:r,rowIndex:s})),s+1],0,{"data-element-id":r.id,"data-row-id":r.id})}}var wIe={__init__:["decisionRuleIndices"],decisionRuleIndices:["type",(()=>{class o{constructor(s){s.onGetComponent("cell",({cellType:l})=>{if(l==="before-rule-cells")return EIe})}}return o.$inject=["components"],o})()]};let _Ie=[{label:"FEEL",value:"feel"}];var Hh={__init__:["expressionLanguages"],expressionLanguages:["type",(()=>{class o{constructor(s){this._injector=s;let l=s.get("config.expressionLanguages")||{};this._config={options:_Ie,defaults:{editor:"feel"}},l.options&&(this._config.options=l.options);let u=this._getLegacyDefaults();xe(this._config.defaults,u,l.defaults)}getDefault(s){let{defaults:l}=this._config,u=l[s]||l.editor;return this._getLanguageByValue(u)||this.getAll()[0]}getLabel(s){let l=this._getLanguageByValue(s);return l?l.label:s}getAll(){return this._config.options}_getLegacyDefaults(){let s={},l=this._injector,u=l.get("config.defaultInputExpressionLanguage"),f=l.get("config.defaultOutputExpressionLanguage");return u&&(s.inputCell=u),f&&(s.outputCell=f),s}_getLanguageByValue(s){return _(this.getAll(),l=>s===l.value)}}return o.$inject=["injector"],o})()]};class CIe extends Nt{render({rows:r,cols:s}){let{components:l}=this.context;return me(1,"tbody",null,r.map((u,f)=>{let p=l.getComponent("row",{rowType:"rule"});return p&&mt(2,p,{row:u,rowIndex:f,cols:s},u.id)}),0)}}class SIe extends Nt{constructor(r,s){super(r,s),Lm(this,_v)}render(){let{row:r,rowIndex:s,cols:l}=this.props,{cells:u}=r;return me(1,"tr",null,[this.slotFills({type:"cell",context:{cellType:"before-rule-cells",row:r,rowIndex:s}}),u.map((f,p)=>this.slotFill({type:"cell",context:{cellType:"rule",cell:f,rowIndex:s,colIndex:p},key:f.id,row:r,col:l[p]})),this.slotFills({type:"cell",context:{cellType:"after-rule-cells",row:r,rowIndex:s}})],0)}}class OIe extends Nt{render(){let{cell:r,row:s,col:l}=this.props;return we(r,"dmn:UnaryTests")?mt(2,ix,{className:"input-cell",elementId:r.id,"data-row-id":s.id,"data-col-id":l.id,children:r.businessObject.text}):mt(2,ix,{className:"output-cell",elementId:r.id,"data-row-id":s.id,"data-col-id":l.id,children:r.businessObject.text})}}let MJ=class{constructor(r){r.onGetComponent("table.body",()=>CIe),r.onGetComponent("row",({rowType:s})=>{if(s==="rule")return SIe}),r.onGetComponent("cell",({cellType:s})=>{if(s==="rule")return OIe})}};MJ.$inject=["components"];var AJ={__depends__:[Hh],__init__:["decisionRules"],decisionRules:["type",MJ]};let PA=[{label:"Unique",value:{hitPolicy:"UNIQUE",aggregation:void 0},explanation:"No overlap is possible and all rules are disjoint. Only a single rule can be matched"},{label:"First",value:{hitPolicy:"FIRST",aggregation:void 0},explanation:"Rules may overlap. The first matching rule will be chosen"},{label:"Priority",value:{hitPolicy:"PRIORITY",aggregation:void 0},explanation:"Rules may overlap. The one with the highest priority will be chosen"},{label:"Any",value:{hitPolicy:"ANY",aggregation:void 0},explanation:"Rules may overlap. Their output have to match"},{label:"Collect",value:{hitPolicy:"COLLECT",aggregation:void 0},explanation:"Collects the values of all matching rules"},{label:"Collect (Sum)",value:{hitPolicy:"COLLECT",aggregation:"SUM"},explanation:"Collects the values of all matching rules and sums up to a single value"},{label:"Collect (Min)",value:{hitPolicy:"COLLECT",aggregation:"MIN"},explanation:"Collects the values of all matching rules and uses the lowest value"},{label:"Collect (Max)",value:{hitPolicy:"COLLECT",aggregation:"MAX"},explanation:"Collects the values of all matching rules and uses the highest value"},{label:"Collect (Count)",value:{hitPolicy:"COLLECT",aggregation:"COUNT"},explanation:"Collects the values of all matching rules and counts the number of them"},{label:"Rule order",value:{hitPolicy:"RULE ORDER",aggregation:void 0},explanation:"Collects the values of all matching rules in rule order"},{label:"Output order",value:{hitPolicy:"OUTPUT ORDER",aggregation:void 0},explanation:"Collects the values of all matching rules in decreasing output priority order"}],DIe=(()=>{class o extends Nt{constructor(s,l){super(s,l),this._translate=l.injector.get("translate"),jo(this)}getRoot(){return this.sheet.getRoot()}render(){let s=this.getRoot(),l=s.businessObject,{aggregation:u,hitPolicy:f}=l,p=_(PA,v=>TIe(v.value,{aggregation:u,hitPolicy:f}));return me(1,"div","hit-policy header",[me(1,"label","dms-label",this._translate("Hit policy:"),0),me(1,"span","hit-policy-value",this._translate(p.label),0)],4,{title:this._translate(p.explanation)})}}return o.$inject=["sheet"],o})();function TIe(o,r){return o.hitPolicy===r.hitPolicy&&o.aggregation===r.aggregation}function RJ(o){o.onGetComponent("hit-policy",()=>DIe)}RJ.$inject=["components"];var kIe={__init__:["hitPolicyProvider"],hitPolicyProvider:["type",RJ]};let PIe=class extends Nt{constructor(r,s){super(r,s);let{injector:l}=s;this._translate=l.get("translate"),this._eventBus=l.get("eventBus")}onClick=()=>{this._eventBus.fire("showDrd")};render(){return me(1,"div","view-drd",me(1,"button","view-drd-button",this._translate("View DRD"),0,{type:"button",onClick:this.onClick}),2,null,null,r=>this.node=r)}},LJ=class{constructor(r,s,l,u){this._injector=l,this._sheet=u,r.onGetComponent("table.before",()=>{if(this.canViewDrd())return PIe}),s.on("showDrd",()=>{let f=l.get("_parent",!1),p=u.getRoot(),v=$J(p);if(!v)return;let y=f.getView(v);f.open(y)})}canViewDrd(){let r=this._injector.get("_parent",!1);if(!r)return!1;let s=this._sheet.getRoot(),l=$J(s);return!!r.getView(l)}};LJ.$inject=["components","eventBus","injector","sheet"];function $J(o){let{businessObject:r}=o;return r?r.$parent.$parent:void 0}var IIe={__init__:["viewDrd"],viewDrd:["type",LJ]};let NJ=class{constructor(r){r.onGetComponent("table.before",()=>AI)}};NJ.$inject=["components"];var MIe={__init__:["poweredBy"],poweredBy:["type",NJ]};let FJ=class Bj extends dPe{constructor(r={}){let s=Bj._createContainer();super(xe(r,{renderer:{container:s}})),this._container=s}open(r){var s=this;return new Promise((l,u)=>{var f;try{return s._decision&&s.clear(),s._decision=r,pPe(s,r,function(p,v){p?(p.warnings=v||[],u(p)):l({warnings:v||[]})})}catch(p){f=p}f?(f.warnings=f.warnings||[],u(f)):l({warnings:[]})})}_init(r){let x=r,{modules:s,additionalModules:l}=x,u=Ae(x,["modules","additionalModules"]),f=s||this.getModules(),p=l||[],v=[{decisionTable:["value",this]}];return{modules:[MIe,...f,...p,...v],config:u}}on(r,s,l,u){return this.get("eventBus").on(r,s,l,u)}off(r,s){this.get("eventBus").off(r,s)}_emit(r,s){return this.get("eventBus").fire(r,s)}attachTo(r){if(!r)throw new Error("parentNode required");this.detach();let s=this._container;r.appendChild(s),this._emit("attach",{})}detach(){let r=this._container;r.parentNode&&(this._emit("detach",{}),As(r))}destroy(){super.destroy(),this.detach()}getModules(){return Bj._getModules()}static _getModules(){return[dIe,hIe,Ha,vIe,xIe,wIe,AJ,kIe,IIe]}static _createContainer(){return Gn('<div class="dmn-decision-table-container"></div>')}},AIe=(()=>{class o extends Nt{constructor(s,l){super(s,l),jo(this),this.addRule=this.addRule.bind(this)}componentWillMount(){this._eventBus=this.context.injector.get("eventBus")}handleClick=s=>{s.stopPropagation(),this.addRule(s.target.dataset.colIndex)};addRule(s){this._eventBus.fire("addRule",{colIndex:s})}render(){let{cols:s}=this.props,l=[me(1,"td","add-rule-add",me(1,"button","dmn-icon-plus action-icon",null,1,{title:this.translate("Add rule")}),2)],{businessObject:u}=this.sheet.getRoot();(!u.input||!u.input.length)&&l.push(me(1,"td","input-cell",Wr("-"),2));for(let f=0;f<s.length+1;f++){let p="add-rule",v=s[f]&&s[f].businessObject,y="";v?(v.$instanceOf("dmn:InputClause")&&(p+=" input-cell",y="-"),v.$instanceOf("dmn:OutputClause")&&(p+=" output-cell")):p+=" annotation",l.push(me(1,"td",p,y,0,{"data-col-index":f}))}return me(1,"tfoot","actionable add-rule",me(1,"tr",null,l,0),2,{onClick:this.handleClick})}}return o.$inject=["sheet","translate"],o})(),RIe=(()=>{class o{constructor(s,l,u,f){s.onGetComponent("table.foot",()=>AIe),u.on("addRule",(p,v)=>{let y=l.trigger("addRule"),x=v.colIndex;y.cells[x]?f.select(y.cells[x]):f.select(y.cells[0])})}}return o.$inject=["components","editorActions","eventBus","selection"],o})();var ZC={__init__:["selection","selectionBehavior"],selection:["type",(()=>{class o{constructor(s,l,u){this._elementRegistry=s,this._eventBus=l,this._renderer=u,this._selection=void 0,l.on("diagram.clear",()=>{this._selection=void 0})}select(s){b(s)&&(s=this._elementRegistry.get(s));let l=this._selection;l!==s&&(this._selection=s,this._eventBus.fire("selection.changed",{oldSelection:l,selection:s}))}deselect(){let s=this._selection;this._selection=void 0,this._eventBus.fire("selection.changed",{oldSelection:s,selection:this._selection})}get(){return this._selection}hasSelection(){return!!this._selection}}return o.$inject=["elementRegistry","eventBus","renderer"],o})()],selectionBehavior:["type",(()=>{class o{constructor(s,l,u,f){this._elementRegistry=s,this._renderer=u,this._selection=f,l.on(["cell.click","cell.contextmenu"],({id:p})=>{let v=s.get(p);v&&f.select(v)}),l.on("row.remove",({row:p})=>{let v=f.get();v&&p===v.row&&f.deselect()}),l.on("col.remove",({col:p})=>{let v=f.get();v&&p===v.col&&f.deselect()})}}return o.$inject=["elementRegistry","eventBus","renderer","selection"],o})()]};function LIe(o,r,s){return r in o?Object.defineProperty(o,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[r]=s,o}let BJ=["click","dblclick","contextmenu","mousedown","mouseup","mouseenter","mouseleave","mouseout","mouseover","mousemove","focusin","focusout","drag","dragstart","dragend","dragover","dragenter","dragleave","drop"],$Ie=(()=>{class o{constructor(s,l){LIe(this,"_handleEvent",u=>{let{target:f,type:p}=u,v=NIe(f);if(!v)return;let y=v.getAttribute("data-element-id");if(y){let x=this._eventBus.createEvent({id:y,event:u,node:v,target:v});this._eventBus.fire(`cell.${p}`,x),x.defaultPrevented&&u.preventDefault(),x.cancelBubble&&u.stopPropagation()}}),this._eventBus=l,this._container=s.container,l.on("table.init",()=>{this._addEventListeners(BJ)}),l.on("table.destroy",()=>{this._removeEventListeners(BJ)})}_addEventListeners(s){let l=this._container;s.forEach(u=>{l.addEventListener(u,this._handleEvent)})}_removeEventListeners(s){let l=this._container;s.forEach(u=>{l.removeEventListener(u,this._handleEvent)})}}return o.$inject=["config.renderer","eventBus"],o})();function NIe(o){return Bo(o,"[data-element-id]",!0)}var IA={__init__:["interactionEvents"],interactionEvents:["type",$Ie]},MA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function AA(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var jJ={exports:{}};(function(o,r){(function(s,l){o.exports=l(s)})(MA,function(s){if(s.CSS&&s.CSS.escape)return s.CSS.escape;var l=function(u){if(arguments.length==0)throw new TypeError("`CSS.escape` requires an argument.");for(var f=String(u),p=f.length,v=-1,y,x="",w=f.charCodeAt(0);++v<p;){if(y=f.charCodeAt(v),y==0){x+="\uFFFD";continue}if(y>=1&&y<=31||y==127||v==0&&y>=48&&y<=57||v==1&&y>=48&&y<=57&&w==45){x+="\\"+y.toString(16)+" ";continue}if(v==0&&p==1&&y==45){x+="\\"+f.charAt(v);continue}if(y>=128||y==45||y==95||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122){x+=f.charAt(v);continue}x+="\\"+f.charAt(v)}return x};return s.CSS||(s.CSS={}),s.CSS.escape=l,l})})(jJ);var FIe=jJ.exports,VJ=AA(FIe),zJ=BIe;function BIe(o,r){return o^r}var jIe=/\b(Array|Date|Object|Math|JSON)\b/g,VIe=function(o,r){var s=UIe(zIe(o));return r&&typeof r=="string"&&(r=qIe(r)),r?HIe(o,s,r):s};function zIe(o){return o.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(jIe,"").match(/[a-zA-Z_]\w*/g)||[]}function HIe(o,r,s){var l=/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g;return o.replace(l,function(u){return u[u.length-1]=="("||~r.indexOf(u)?s(u):u})}function UIe(o){for(var r=[],s=0;s<o.length;s++)~r.indexOf(o[s])||r.push(o[s]);return r}function qIe(o){return function(r){return o+r}}var HJ=Oi;function Oi(o,r){if(!(this instanceof Oi))return new Oi(o,r);if(this.node=this.start=this.peeked=o,this.root=r,this.closingTag=!1,this._revisit=!0,this._selects=[],this._rejects=[],o&&this.higher(o))throw new Error("root must be a parent or ancestor to node")}Oi.prototype.reset=function(o){return this.node=o||this.start,this},Oi.prototype.revisit=function(o){return this._revisit=o??!0,this},Oi.prototype.opening=function(){return this.node.nodeType==1&&(this.closingTag=!1),this},Oi.prototype.atOpening=function(){return!this.closingTag},Oi.prototype.closing=function(){return this.node.nodeType==1&&(this.closingTag=!0),this},Oi.prototype.atClosing=function(){return this.closingTag},Oi.prototype.next=UJ("nextSibling","firstChild"),Oi.prototype.previous=Oi.prototype.prev=UJ("previousSibling","lastChild");function UJ(o,r){var s=o=="nextSibling";return function(u,f,p){u=this.compile(u),f=f&&f>0?f:1;for(var v=this.node,y=this.closingTag,x=this._revisit;v;){if(zJ(s,y)&&v[r])v=v[r],y=!s;else if(v.nodeType==1&&!v[r]&&zJ(s,y)){if(y=s,!x)continue}else if(v[o])v=v[o],y=!s;else if(v=v.parentNode,y=s,!x)continue;if(!v||this.higher(v,this.root))break;if(u(v)&&this.selects(v,p)&&this.rejects(v,p)){if(--f)continue;return p||(this.node=v),this.closingTag=y,v}}return null}}Oi.prototype.select=function(o){return o=this.compile(o),this._selects.push(o),this},Oi.prototype.selects=function(o,r){var s=this._selects,l=s.length;if(!l)return!0;for(var u=0;u<l;u++)if(s[u].call(this,o,r))return!0;return!1},Oi.prototype.reject=function(o){return o=this.compile(o),this._rejects.push(o),this},Oi.prototype.rejects=function(o,r){var s=this._rejects,l=s.length;if(!l)return!0;for(var u=0;u<l;u++)if(s[u].call(this,o,r))return!1;return!0},Oi.prototype.higher=function(o){var r=this.root;if(!r)return!1;for(o=o.parentNode;o&&o!=r;)o=o.parentNode;return o!=r},Oi.prototype.compile=function(o){switch(typeof o){case"number":return function(r){return o==r.nodeType};case"string":return new Function("node","return "+VIe(o,"node."));case"function":return o;default:return function(){return!0}}},Oi.prototype.peak=Oi.prototype.peek=function(o,r){return arguments.length==1&&(r=o,o=!0),r=r??1,r?r>0?this.next(o,r,!0):this.prev(o,Math.abs(r),!0):this.node},Oi.prototype.use=function(o){return o(this),this};var Cv=window.getSelection();function qJ(o){Cv.removeAllRanges(),Cv.addRange(o)}function WIe(){return Cv}function GIe(o){if(!Cv.rangeCount)return null;var r=Cv.focusNode;return JC(r)&&(r=r.parentNode),o==r||o.contains(r)}function WJ(o,r){var s=QIe(o,r);qJ(s)}function RA(o){if(!GIe(o))return null;var r=Cv.getRangeAt(0),s=r.startContainer,l=r.endContainer,u=r.startOffset,f=r.endOffset,p=HJ(o.firstChild,o),v=p.node,y,x=!1,w,C=0;function O(P,N){return arguments.length===1&&(N=P),P.parentNode===l&&N==l.childNodes[f]}function T(P,N){return arguments.length===1&&(N=P),P.parentNode===s&&N==s.childNodes[u]}for(;v&&(T(v)&&(w=C),!O(v));){if(x||(GJ(v)||y&&y.nextSibling==v&&(QJ(v)||YJ(v)))&&C++,JC(v)){if(s===v&&(w=C+u),l===v){C+=f;break}C+=v.textContent.length}if((JC(v)||x)&&(T(v,v.nextSibling)&&(w=C),O(v,v.nextSibling)))break;y=v,v=p.next(),x=p.closingTag}return{start:typeof w>"u"?C:w,end:C}}function QIe(o,r){for(var s=r.start,l=r.end,u=document.createRange(),f=HJ(o.firstChild,o),p=f.node,v=!1,y=0,x;p;){if(y===s&&(v?u.setStartAfter(p):u.setStartBefore(p)),y===l)return v?u.setEndAfter(p):u.setEndBefore(p),u;if(v||(GJ(p)||p.previousSibling&&(QJ(p)||YJ(p)))&&y++,JC(p)){if(x=p.textContent.length,y<=s&&y+x>s&&u.setStart(p,s-y),y+x>l)return u.setEnd(p,l-y),u;y+=x}p=f.next(),v=f.closingTag}return y<=s&&(o.lastChild?u.setStartAfter(o.lastChild):u.setStart(o,0)),o.lastChild?u.setEndAfter(o.lastChild):u.setEnd(o,0),u}function JC(o){return o.nodeType===3}function GJ(o){return o.nodeType===1&&o.nodeName==="BR"}function QJ(o){return o.nodeType===1&&o.nodeName==="DIV"}function YJ(o){return o.nodeType===1&&o.nodeName==="P"}let YIe="[contenteditable]",XIe="[data-element-id]";function e6(o){return o.getAttribute("data-element-id")}function KIe(o){let r=o.getAttribute("data-coords");if(!r)return null;let[s,l]=r.split(":");return{row:s,col:l}}function ZIe(o,r){let s=`${o.row}:${o.col}`;return ln(`[data-coords="${VJ(s)}"]`,r)}function Sv(o,r){return ln(`[data-element-id="${VJ(o)}"]`,r)}function JIe(o){return Bo(o,".no-deselect",!0)}function LA(o){return Bo(o,XIe,!0)}function XJ(o){let r=YIe;return Z1(o,r)?o:ln(r,o)}function eMe(o){let r=XJ(o);if(!r||!document.body.contains(r)||document.activeElement===r)return;r.focus();let s=RA(r);(!s||s.end===0)&&window.getSelection().setPosition(r.firstChild,r.firstChild.length)}let $A=500,tMe={above:!0,below:!0,right:!0,left:!0};function KJ(o,r,s,l,u){let{container:f}=o,p=null;function v(O,T){r.fire("selection."+O+".changed",T),r.fire("cellSelection.changed",{elementId:O,selection:T})}function y(O){let T=O.target;if(JIe(T))return;let P=LA(T),N=P&&e6(P),j=!O.defaultPrevented;C(N,j)}function x(O){let T=e6(O.target),P=!O.defaultPrevented;return O.stopPropagation(),C(T,P)}function w(O){let T=e6(O.target);v(T,{focussed:!1})}function C(O,T=!0){p!==O&&v(p,{selected:!1,focussed:!1}),p=O,O&&v(O,{selected:!0,focussed:T}),O?l.select(O):l.deselect()}r.on("cell.click",$A,y),r.on("cell.focusin",$A,x),r.on("cell.focusout",$A,w),r.on("cellSelection.changed",function(O){let{elementId:T,selection:P}=O,N=Sv(T,f);P.focussed&&N&&eMe(N)}),r.on("selection.changed",function(O){let{selection:T,oldSelection:P}=O;var N=T&&T.id,j=P&&P.id;N&&N!==p?C(T.id):j&&j===p&&C()}),this.isCellSelected=function(){return!!p},this.getCellSelection=function(){return p},this.selectCell=function(O){if(!p)return;if(!(O in tMe))throw new Error("direction must be any of { above, below, left, right }");var T=Sv(p,f);let P=KIe(T);if(!P)return!1;let N=nMe(P,O),j=ZIe(N,f);if(!j)return!1;let q=e6(j);return q&&C(q,{focussed:!0,selected:!0}),!0},r.on("contextMenu.close",function(){if(p)return C(p)})}KJ.$inject=["config.renderer","eventBus","sheet","selection","elementRegistry"];function nMe(o,r){let{row:s,col:l}=o;if(r==="above"||r==="below"){let u=parseInt(s,10);if(isNaN(u))return o;let f=r==="above"?u-1:u+1;return{col:l,row:f}}if(r==="left"||r==="right"){let u=parseInt(l,10);if(isNaN(u))return o;let f=r==="left"?u-1:u+1;return{row:s,col:f}}throw new Error("invalid direction <"+r+">")}var t6={__depends__:[IA,ZC],__init__:["cellSelection"],cellSelection:["type",KJ]};function sx(){}sx.prototype.get=function(){return this._data},sx.prototype.set=function(o){this._data=o},sx.prototype.clear=function(){var o=this._data;return delete this._data,o},sx.prototype.isEmpty=function(){return!this._data};var ZJ={clipboard:["type",sx]};let NA=2e3,rMe=(()=>{class o extends wm{constructor(s,l){super(s),this._sheet=l}init(){this.addRule("col.move",NA,({col:s,index:l})=>{let{businessObject:u}=this._sheet.getRoot(),{input:f}=u;return Rn(s)?l<f.length:l>=f.length}),this.addRule("col.remove",NA,({col:s})=>{let{cols:l}=this._sheet.getRoot();return _o(s)?l.filter(u=>_o(u)).length>1:!0}),this.addRule("paste",NA,({data:s,target:l})=>{if(!s||!l)return!1;let{root:u}=s;return l instanceof aa?this.canPasteRows(u):l instanceof la?this.canPasteCols(u,l):!1})}canPasteRows(s){let{cols:l}=this._sheet.getRoot();return I(s,u=>u.type!=="row"||u.cells.length!==l.length?!1:I(u.cells,(f,p)=>Rn(l[p])?f.businessObject.$type==="dmn:UnaryTests":f.businessObject.$type==="dmn:LiteralExpression"))}canPasteCols(s,l){let{rows:u}=this._sheet.getRoot();return I(s,f=>f.type!=="col"||f.cells.length!==u.length?!1:Rn(l)?f.businessObject.$type==="dmn:InputClause":f.businessObject.$type==="dmn:OutputClause")}}return o.$inject=["eventBus","sheet"],o})();var iMe={__depends__:[mm]},FA={__depends__:[iMe],__init__:["decisionTableModelingRules"],decisionTableModelingRules:["type",rMe]};let oMe=(()=>{class o{constructor(s,l,u){this._clipboard=s,this._modeling=l,this._sheet=u}execute(s){let{data:l}=s;return s.oldData=this._clipboard.get(),this._clipboard.set(l),this._sheet.getRoot()}postExecute(s){let{elements:l}=s;l.forEach(u=>{u instanceof aa?this._modeling.removeRow(u):u instanceof la&&this._modeling.removeCol(u)})}revert(s){let{oldData:l}=s;return this._clipboard.set(l),this._sheet.getRoot()}}return o.$inject=["clipboard","modeling","sheet"],o})(),sMe=[uMe,dMe],aMe=[gMe,mMe];function BA(o,r,s){return s=s||sMe,r=r||{},d(o)?lMe(o,r,s):JJ(o,r,s)}function lMe(o,r,s){return k(o,(l,u)=>{var f=l.descriptorCache,p=l.root;let{root:v,descriptorCache:y}=JJ(u,f,s);return{root:[...p,v],descriptorCache:se(se({},f),y)}},{root:[],descriptorCache:r})}function JJ(o,r,s){var l=o.id,u={id:l},f=r.elements||{},p=f[l];if(p)return{root:p,descriptorCache:r};let v=cMe(o,u,s,Me(se({},r),{elements:f}));return{root:v.root,descriptorCache:Me(se({},v.descriptorCache),{elements:Me(se({},v.descriptorCache.elements),{[l]:v.root})})}}function cMe(o,r,s,l){function u(f,p){return BA(f,p,s)}return k(s,function(f,p){return p(o,f.root,f.descriptorCache,u)},{root:r,descriptorCache:l})}function uMe(o,r,s,l){var u=s,f=Me(se({},r),{type:fMe(o)});if(o instanceof aa||o instanceof la){let p=l(o.cells,u);f.cells=p.root,u=p.descriptorCache}return{root:f,descriptorCache:u}}function dMe(o,r,s){var l=o.businessObject;if(!l)return{root:r,descriptorCache:s};var u=jA(l,s);return{root:Me(se({},r),{businessObject:u.root}),descriptorCache:u.descriptorCache}}function fMe(o){if(o instanceof aa)return"row";if(o instanceof la)return"col";if(o instanceof NC)return"cell";throw new Error("cannot deduce element type: #"+o.id)}function jA(o,r){var s,l,u=o.id;if(u&&(s=r.boCache||{},l=s[u],l))return{root:l,descriptorCache:r};var f={$type:o.$type};return u&&(f.id=u,s=Me(se({},s),{[u]:f}),r=Me(se({},r),{boCache:s})),o.$descriptor.properties.forEach(function(p){var v=o[p.name];if(v){if(d(v)&&(v=v.map(y=>{var x=jA(y,r);return r=x.descriptorCache,x.root})),v.$type){let y=jA(v,r);r=y.descriptorCache,v=y.root}f[p.name]=v}}),{root:f,descriptorCache:r}}function eee(o,r,s){return s=s||aMe,r=r||{},d(o.root)?hMe(o,r,s):tee(o,r,s)}function hMe(o,r,s){let l=o.root,u=o.descriptorCache;return k(l,(f,p)=>{var v=f.reviveCache,y=f.root;let{root:x,reviveCache:w}=tee({root:p,descriptorCache:u},v,s);return{root:[...y,x],reviveCache:w}},{root:[],reviveCache:r})}function tee(o,r,s){var l=o.root,u=l.id,f=r.elements||{},p=f[u];if(p)return{root:p,reviveCache:r};var v={id:u};let y=pMe(o,v,s,Me(se({},r),{elements:f}));return{root:y.root,reviveCache:Me(se({},y.reviveCache),{elements:Me(se({},y.reviveCache.elements),{[u]:y.root})})}}function pMe(o,r,s,l){function u(f,p){return eee(f,p,s)}return k(s,function(f,p){return p(o,f.root,f.reviveCache,u)},{root:r,reviveCache:l})}function mMe(o,r,s,l){var u=o.root,f=o.descriptorCache,p=se({},r);if(r.businessObject&&r.businessObject.id&&(p.id=r.businessObject.id),u.type==="row"||u.type==="col"){let x=l({root:u.cells,descriptorCache:f},s);p.cells=x.root,s=x.reviveCache}var v=vMe(u),y=new v(p);return y instanceof aa?y.cells.forEach(x=>{x.row=y}):y instanceof la&&y.cells.forEach(x=>{x.col=y}),{root:y,reviveCache:s}}function gMe(o,r,s){var l=o.root.businessObject;if(!l)return{root:r,reviveCache:s};var u=VA({root:l,descriptorCache:o.descriptorCache},s);return{root:Me(se({},r),{businessObject:u.root}),reviveCache:u.reviveCache}}function vMe(o){switch(o.type){case"row":return aa;case"cell":return NC;case"col":return la;default:throw new Error("unknown element type: #"+o.type)}}function VA(o,r){var s=o.root,l=s.id;let u,f;if(l&&(u=r.boCache||{},f=u[l],f))return{root:f,reviveCache:r};var p={};F(s).forEach(x=>{let w,C;s[x].$type?(C=VA({root:s[x]},r),w=C.root,r=C.reviveCache,u=r.boCache||{}):d(s[x])?w=s[x].map(O=>(C=VA({root:O},r),r=C.reviveCache,u=r.boCache||{},C.root)):w=s[x],p[x]=w});let v=p.$type;delete p.$type,(!r._keepIds||r._model.ids.assigned(p.id))&&delete p.id;var y=r._dmnFactory.create(v,p);return D(p,x=>{x.$type&&(x.$parent=y),d(x)&&x.forEach(w=>w.$parent=y)}),l&&(u=Me(se({},u),{[l]:y}),r=Me(se({},r),{boCache:u})),{root:y,reviveCache:r}}let yMe=(()=>{class o{constructor(s,l,u,f,p,v,y,x){this._clipboard=s,this._dmnFactory=l,this._elementFactory=u,this._elementRegistry=f,this._eventBus=p,this._model=v,this._modeling=y,this._sheet=x}postExecute(s){let{element:l,after:u}=s,f=this._clipboard.get();if(!f)throw new Error("missing clipboard data");let p=this._sheet.getRoot(),v=eee(f.elements,{_dmnFactory:this._dmnFactory,_keepIds:f.keepIds,_model:this._model}).root;if(l instanceof aa){let y=p.rows.indexOf(l);if(y===-1)return;v.forEach(x=>{u&&y++,this._modeling.addRow(x,y)})}else if(l instanceof la){let y=p.cols.indexOf(l);if(y===-1)return;v.forEach(x=>{u&&y++,this._modeling.addCol(x,y)})}return s.oldElements=this._clipboard.get(),this._sheet.getRoot()}revert(s){}}return o.$inject=["clipboard","dmnFactory","elementFactory","elementRegistry","eventBus","moddle","modeling","sheet"],o})();var nee={__depends__:[ZJ,FA],__init__:["copyCutPaste"],copyCutPaste:["type",(()=>{class o{constructor(s,l,u,f,p,v){this._clipboard=s,this._commandStack=l,this._eventBus=u,this._modeling=f,this._sheet=p,this._rules=v,l.registerHandler("cut",oMe),l.registerHandler("paste",yMe)}copy(s){d(s)||(s=[s]);let l={elements:BA(s)};this._eventBus.fire("copyCutPaste.copy",{data:l}),this._clipboard.set(l)}cut(s){d(s)||(s=[s]);let l={elements:BA(s),keepIds:!0},u={elements:s,data:l};this._eventBus.fire("copyCutPaste.cut",{data:l}),this._commandStack.execute("cut",u)}pasteBefore(s){return this._paste(s,{before:!0})}pasteAfter(s){return this._paste(s,{after:!0})}_paste(s,l){let u=this._clipboard.get();return u?this._rules.allowed("paste",{data:u.elements,target:s})?(this._commandStack.execute("paste",se({element:s},l)),this._clipboard.clear(),!0):!1:void 0}pasteAt(s){}}return o.$inject=["clipboard","commandStack","eventBus","modeling","sheet","rules"],o})()]};let bMe=(()=>{class o{constructor(s,l,u,f,p,v){let y={addRule(){return u.addRow({type:"dmn:DecisionRule"})},addRuleAbove(x){let w=x&&x.rule;if(!w&&!f.hasSelection())return;w=w||f.get().row;let C=v.getRoot(),O=C.rows.indexOf(w);if(O!==-1)return u.addRow({type:"dmn:DecisionRule"},O)},addRuleBelow(x){let w=x&&x.rule;if(!w&&!f.hasSelection())return;w=w||f.get().row;let C=v.getRoot(),O=C.rows.indexOf(w);if(O!==-1)return u.addRow({type:"dmn:DecisionRule"},O+1)},removeRule(x){let w=x&&x.rule;!w&&!f.hasSelection()||(w=w||f.get().row,u.removeRow(w))},addInput(){let x=v.getRoot(),w=x.businessObject,{input:C}=w;return u.addCol({type:"dmn:InputClause"},C?C.length:0)},addInputLeft(x){let w=x&&x.input;if(!w&&!f.hasSelection())return;w=w||f.get().col;let C=v.getRoot(),O=C.cols.indexOf(w);if(O!==-1)return u.addCol({type:"dmn:InputClause"},O)},addInputRight(x){let w=x&&x.input;if(!w&&!f.hasSelection())return;w=w||f.get().col;let C=v.getRoot(),O=C.cols.indexOf(w);if(O!==-1)return u.addCol({type:"dmn:InputClause"},O+1)},removeInput(x){let w=x&&x.input;!w&&!f.hasSelection()||(w=w||f.get().col,u.removeCol(w))},addOutput(){let x=v.getRoot(),w=x.businessObject,C=w.get("input"),O=w.get("output");return u.addCol({type:"dmn:OutputClause"},C.length+O.length)},addOutputLeft(x){let w=x&&x.output;if(!w&&!f.hasSelection())return;w=w||f.get().col;let C=v.getRoot(),O=C.cols.indexOf(w);if(O!==-1)return u.addCol({type:"dmn:OutputClause"},O)},addOutputRight(x){let w=x&&x.output;if(!w&&!f.hasSelection())return;w=w||f.get().col;let C=v.getRoot(),O=C.cols.indexOf(w);if(O!==-1)return u.addCol({type:"dmn:OutputClause"},O+1)},removeOutput(x){let w=x&&x.output;!w&&!f.hasSelection()||(w=w||f.get().col,u.removeCol(w))},addClause(){if(!f.hasSelection())return;let x=f.get().col;if(we(x,"dmn:InputClause"))return y.addInput({input:x});if(we(x,"dmn:OutputClause"))return y.addOutput({output:x})},addClauseLeft(){if(!f.hasSelection())return;let x=f.get().col;if(we(x,"dmn:InputClause"))return y.addInputLeft({input:x});if(we(x,"dmn:OutputClause"))return y.addOutputLeft({output:x})},addClauseRight(){if(!f.hasSelection())return;let x=f.get().col;if(we(x,"dmn:InputClause"))return y.addInputRight({input:x});if(we(x,"dmn:OutputClause"))return y.addOutputRight({output:x})},removeClause(){if(!f.hasSelection())return;let x=f.get().col;if(we(x,"dmn:InputClause"))return y.removeInput({input:x});if(we(x,"dmn:OutputClause"))return y.removeOutput({output:x})},selectCellAbove(){return p.selectCell("above")},selectCellBelow(){return p.selectCell("below")},copy({element:x}){s.copy(x)},cut({element:x}){s.cut(x)},pasteBefore({element:x}){return s.pasteBefore(x)},pasteAfter({element:x}){return s.pasteAfter(x)}};l.register(y)}}return o.$inject=["copyCutPaste","editorActions","modeling","selection","cellSelection","sheet"],o})(),ree="is not a registered action",xMe="is already registered",iee=class{constructor(r,s,l,u){this._actions={undo(){r.undo()},redo(){r.redo()},select({cell:f}){u.select(f)},deselect(){u.deselect()},addRow({attrs:f,index:p}){l.addRow(f,p)},removeRow({row:f}){l.removeRow(f)},moveRow({row:f,index:p}){l.moveRow(f,p)},addCol({attrs:f,index:p}){l.addCol(f,p)},removeCol({col:f}){l.removeCol(f)},moveCol({col:f,index:p}){l.moveCol(f,p)}}}trigger(r,s){if(!this._actions[r])throw zA(r,ree);return this._actions[r](s)}register(r,s){if(typeof r=="string")return this._registerAction(r,s);D(r,(l,u)=>{this._registerAction(u,l)})}_registerAction(r,s){if(this.isRegistered(r))throw zA(r,xMe);this._actions[r]=s}unregister(r){if(!this.isRegistered(r))throw zA(r,ree);this._actions[r]=void 0}isRegistered(r){return!!this._actions[r]}};iee.$inject=["commandStack","eventBus","modeling","selection"];function zA(o,r){return new Error(o+" "+r)}var oee={__depends__:[ZC],__init__:["editorActions"],editorActions:["type",iee]},Ov={__depends__:[t6,nee,oee,ZC],__init__:["decisionTableEditorActions"],decisionTableEditorActions:["type",bMe]},EMe={__depends__:[Ov],__init__:["addRule"],addRule:["type",RIe]};var wMe=/["'&<>]/,_Me=CMe;function CMe(o){var r=""+o,s=wMe.exec(r);if(!s)return r;var l,u="",f=0,p=0;for(f=s.index;f<r.length;f++){switch(r.charCodeAt(f)){case 34:l="&quot;";break;case 38:l="&amp;";break;case 39:l="&#39;";break;case 60:l="&lt;";break;case 62:l="&gt;";break;default:continue}p!==f&&(u+=r.substring(p,f)),p=f+1,u+=l}return p!==f?u+r.substring(p,f):u}var SMe=AA(_Me),HA={exports:{}};function OMe(o,r,s){var l=o.start,u=l,p=s.length-r.length;s.length-r.length;var f=r.substring(l);s.lastIndexOf(f)===s.length-f.length&&(r=r.substring(0,r.length-f.length),s=s.substring(0,s.length-f.length));var p=DMe(r,s);return p&&(p.type==="remove"?u=p.newStart:u=p.newEnd),see(u)}HA.exports=OMe;function DMe(o,r){var s,l,u,f=0,p,v,y=0;for(r.length>o.length?(l=r,p=o):(l=o,p=r);f<l.length;)u=l.charAt(f),v=p.charAt(y),u!==v?(s||(s={l_start:f,s_start:y}),f++):(s&&!s.complete&&(s.l_end=f,s.s_end=y,s.complete=!0),y++,f++);if(s&&!s.complete&&(s.complete=!0,s.s_end=p.length,s.l_end=l.length),!!s)return r.length>o.length?{newStart:s.l_start,newEnd:s.l_end,type:"add"}:{newStart:s.s_start,newEnd:s.s_end,type:r.length<o.length?"remove":"replace"}}function see(o,r){return{start:o,end:r===void 0?o:r}}HA.exports.range=see;var TMe=HA.exports,kMe=AA(TMe);class Dv extends Su{constructor(r,s){super(r,s),this.state={},MMe()&&(this.onInputIEPolyfill=l=>{var u=this.node.innerHTML;setTimeout(()=>{var f=this.node.innerHTML;u!==f&&this.onInput(l)},0)})}componentWillUpdate(r,s){var l=this.node,u=s.focussed&&RA(l);this.selected=u&&{range:u,text:n6(l)}}componentDidUpdate(){var r=this.selected;if(!r)return;let s=r.range,l=r.text,u=this.node,f=n6(u),p=f!==l?kMe(s,l,f):s;WJ(u,p)}onFocus=r=>{var s=this.props.onFocus;this.setState({focussed:!0}),typeof s=="function"&&s(r)};onBlur=r=>{let{onBlur:s,onChange:l,value:u}=this.props;if(this.setState({focussed:!1}),typeof l=="function"&&this.node){let f=n6(this.node);f!==u&&l(f)}typeof s=="function"&&s(r)};onKeydown=r=>{if(r.which===13){if(r.preventDefault(),this.props.ctrlForNewline&&!AMe(r)||this.props.singleLine)return;r.stopPropagation(),IMe(),this.onInput(r)}};onInput=r=>{var s=this.props.onInput;if(typeof s=="function"){var l=n6(this.node);s(l)}};onKeyPress=r=>{this.onInputIEPolyfill&&this.onInputIEPolyfill(r)};onPaste=r=>{if(this.onInputIEPolyfill&&this.onInputIEPolyfill(r),this.props.singleLine){let s=(r.clipboardData||window.clipboardData).getData("text");document.execCommand("insertText",!1,s.replace(/\n/g," ")),r.preventDefault()}};getClassName(){let{className:r,placeholder:s,value:l}=this.props;return[r||"","content-editable",!l&&s?"placeholder":""].join(" ")}render(r){var{label:s,value:l,placeholder:u}=r;return l=SMe(l).replace(/\r?\n/g,"<br/>")+"<br/>",di(1,"div",this.getClassName(),null,1,{"aria-label":s,role:"textbox","aria-multiline":!this.props.singleLine,tabIndex:"0",contentEditable:"true",spellcheck:"false","data-placeholder":u||"",onInput:this.onInput,onKeypress:this.onKeypress,onPaste:this.onPaste,onFocus:this.onFocus,onBlur:this.onBlur,onKeydown:this.onKeydown,dangerouslySetInnerHTML:{__html:l}},null,f=>this.node=f)}}function PMe(){return document.createElement("br")}function n6(o){return o.innerText.replace(/\n$/,"")}function IMe(){var o=WIe(),r=o.getRangeAt(0);if(r){var s=r.cloneRange(),l=PMe();s.deleteContents(),s.insertNode(l),s.setStartAfter(l),s.setEndAfter(l),qJ(s)}}function MMe(){var o=window.navigator.userAgent;return o.indexOf("MSIE ")>0||o.indexOf("Trident/")>0}function AMe(o){return o.metaKey||o.ctrlKey}class Tv extends Su{constructor(r,s){super(r,s),this.state={changing:!1,focussed:!1};let{injector:l}=s,u=l.get("debounceInput");this.inputChanged=u(f=>{let{onChange:p}=this.props;typeof p=="function"&&p(f);let v=this.state.changing;this.setState({changing:v===f?!1:v})}),this.onInput=f=>{var p=this.props.validate||function(){},v=p(f);this.setState({changing:f,invalid:v}),v||this.inputChanged(f)}}onFocus=r=>{this.setState({focussed:!0});var{onFocus:s}=this.props;typeof s=="function"&&s(r)};onBlur=r=>{this.setState({focussed:!1});let{invalid:s}=this.state;s&&this.setState({changing:!1,invalid:!1});let{onBlur:l}=this.props;typeof l=="function"&&l(r)};getClassName(){var{className:r,value:s}=this.props,{changing:l,focussed:u,invalid:f}=this.state;return r+=" editable",u&&(r+=" focussed"),f&&(r+=" invalid"),!s&&!l&&(r+=" empty"),r}getDisplayValue(){var{value:r,placeholder:s}=this.props,{focussed:l,changing:u}=this.state;return typeof u=="string"&&(r=u),r||(r=l?"":s||""),r}getEditor(r={}){return om(2,Dv,{className:r.className,ctrlForNewline:this.props.ctrlForNewline,label:this.props.label,onFocus:this.onFocus,onBlur:this.onBlur,onInput:this.onInput,value:this.getDisplayValue()})}}let RMe=(()=>{class o extends Nt{constructor(s,l){super(s,l),jo(this)}componentWillMount(){let{row:s}=this.props;this.changeSupport.onElementsChanged(s.id,this.onElementsChanged)}componentWillUnmount(){let{row:s}=this.props;this.changeSupport.offElementsChanged(s.id,this.onElementsChanged)}onElementsChanged=()=>{this.forceUpdate()};setAnnotationValue=s=>{let{row:l}=this.props;this.modeling.editAnnotation(l.businessObject,s)};render(){let{row:s,rowIndex:l}=this.props,{description:u,id:f}=s.businessObject;return mt(2,ix,{className:"annotation",onChange:this.setAnnotationValue,coords:`${l}:annotation`,value:u,elementId:f,"data-row-id":s.id,children:mt(2,LMe,{label:this.translate("Annotation"),ctrlForNewline:!0,className:"annotation-editor",onChange:this.setAnnotationValue,value:u})})}}return o.$inject=["changeSupport","modeling","translate"],o})();class LMe extends Tv{render(){return me(1,"div",this.getClassName(),this.getEditor(),0)}}function aee(o){o.onGetComponent("cell",({cellType:r})=>{if(r==="after-label-cells")return DJ;if(r==="after-rule-cells")return RMe})}aee.$inject=["components"];let $Me=300;function lee(o){return function(s){if(o!==!1){var l=m(o)?o:$Me;return Se(s,l)}else return s}}lee.$inject=["config.debounceInput"];var Uh={debounceInput:["factory",lee]},NMe={__depends__:[Uh],__init__:["annotationsProvider"],annotationsProvider:["type",aee]};function $m(o,r,s){return r in o?Object.defineProperty(o,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[r]=s,o}let FMe={position:"absolute"},BMe=(()=>{class o extends Im{constructor(s,l){super(s,l),$m(this,"open",({position:u,context:f})=>{this.close(),this.setState({isOpen:!0,position:u||{x:0,y:0},context:f||{}})}),$m(this,"close",()=>{this.state.isOpen&&this.setState({context:void 0,isOpen:!1,position:{x:0,y:0}})}),$m(this,"triggerClose",()=>{this.eventBus.fire("contextMenu.close")}),this.state={isOpen:!1,position:{x:0,y:0}},jo(this)}componentDidMount(){this.eventBus.on("contextMenu.open",this.open),this.eventBus.on("contextMenu.close",this.close)}componentWillUnmount(){this.eventBus.off("contextMenu.open",this.open),this.eventBus.off("contextMenu.close",this.close)}render(){let{isOpen:s,context:l,position:u}=this.state;if(!s)return null;let f=this.components.getComponents("context-menu",l);return f.length?rf(2,cee,{className:"context-menu no-deselect",context:l,position:u,offset:l.offset||{x:0,y:0},autoFocus:l.autoFocus!==!1,autoClose:l.autoClose!==!1,components:f,onClose:this.triggerClose}):null}}return o.$inject=["eventBus","components"],o})(),cee=class extends Im{constructor(r,s){super(r,s),$m(this,"onGlobalMouseDown",l=>{this.checkClose(l.target)}),$m(this,"onGlobalKey",l=>{var u=l.which;(u===13||u===27)&&(l.stopPropagation(),l.preventDefault(),this.close())}),$m(this,"onFocusChanged",l=>{this.checkClose(l.target)}),$m(this,"setNode",l=>{this.node=l;let{autoFocus:u}=this.props;l&&(this.updatePosition(),u&&VMe(l))}),jo(this)}close(){let{onClose:r}=this.props;g(r)&&r()}checkClose(r){let{autoClose:s}=this.props;if(s){var l=this.node;l&&l!==r&&(l.contains(r)||this.close())}}componentDidMount(){document.addEventListener("focusin",this.onFocusChanged),document.addEventListener("keydown",this.onGlobalKey),document.addEventListener("mousedown",this.onGlobalMouseDown)}componentWillUnmount(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("keydown",this.onGlobalKey),document.removeEventListener("mousedown",this.onGlobalMouseDown)}updatePosition(){let{position:r,offset:s}=this.props,{node:l}=this,u=l.getBoundingClientRect();r.width||(r.width=0),r.height||(r.height=0);let f=this.renderer.getContainer(),p=f.getBoundingClientRect();p.width>p.height?(this.node.classList.add("horizontal"),this.node.classList.remove("vertical")):(this.node.classList.add("vertical"),this.node.classList.remove("horizontal"));let{scrollLeft:v,scrollTop:y}=zMe(l),x={},w;r.align&&(w=r.align.split("-"));let C,O;(w&&w[1]||(r.x+r.width/2>p.width/2?"left":"right"))==="left"?(C=r.x-p.left-u.width+s.x+v,l.classList.remove("right"),l.classList.add("left")):(C=-p.left+r.x+r.width-s.x+v,l.classList.remove("left"),l.classList.add("right")),C=w?C:uee(C,0+v,p.width-u.width+v),x.left=C+"px",(w&&w[0]||(r.y+r.height/2>p.height/2?"top":"bottom"))==="top"?(O=r.y-p.top-u.height+s.y+y,l.classList.remove("bottom"),l.classList.add("top")):(O=-p.top+r.y-s.y+y,l.classList.remove("top"),l.classList.add("bottom")),O=w?O:uee(O,0+y,p.height-u.height+y),x.top=O+"px",x.overflowY="auto",x.maxHeight=p.height-O+y+"px",xe(this.node.style,FMe,x)}render(){let{context:r,components:s,className:l}=this.props;return xv(1,"div",l,s.map((u,f)=>rf(2,u,{context:r},f)),0,{onContextMenu:u=>u.preventDefault()},null,this.setNode)}};cee.$inject=["renderer"];function uee(o,r,s){return Math.max(r,Math.min(s,o))}let jMe=`
  input[type=text],
  input[type=number],
  input[type=button],
  input[type=submit],
  [contenteditable],
  [tabindex],
  a[href],
  textarea,
  button
`;function VMe(o){var r=ln(jMe,o);r&&(r.focus(),r.selectionStart&&r.type==="text"?r.selectionStart=1e5:"contentEditable"in r&&WJ(r,{start:1e5,end:1e5}))}function zMe(o){let r=Bo(o,".tjs-container");if(!r)return{scrollTop:0,scrollLeft:0};let{scrollLeft:s,scrollTop:l}=r;return{scrollTop:l,scrollLeft:s}}let dee=class{constructor(r,s,l){this._eventBus=s,r.onGetComponent("table.before",()=>BMe)}open(r,s){this._eventBus.fire("contextMenu.open",{position:r,context:s})}close(){this._eventBus.fire("contextMenu.close")}};dee.$inject=["components","eventBus","renderer"];var qh={__init__:["contextMenu"],contextMenu:["type",dee]};function Nm(o){return o.altKey?!1:o.ctrlKey||o.metaKey}function Fm(o){return o.shiftKey}var HMe={__depends__:[ZJ,t6],__init__:["copyCutPasteKeyBindings"],copyCutPasteKeyBindings:["type",(()=>{class o{constructor(s,l,u,f,p,v,y){this._clipboard=u,this._cellSelection=f,this._elementRegistry=p,this._editorActions=v,this._keyboard=s.get("keyboard",!1),this._renderer=y,this._keyboard&&(l.on("keyboard.init",this._registerBindings),l.on("keyboard.bind",()=>{ft.bind(document,"copy",this._clearClipboard,!0),ft.bind(document,"cut",this._clearClipboard,!0)}),l.on("keyboard.unbind",()=>{ft.unbind(document,"copy",this._clearClipboard,!0),ft.unbind(document,"cut",this._clearClipboard,!0)}))}_clearClipboard=()=>{this._clipboard.clear()};_getSelectedCell(){let s=this._cellSelection.getCellSelection();if(!s)return;let l=this._elementRegistry.get(s);if(!l)return;let u=this._renderer.getContainer(),f=Sv(s,u),p=XJ(f);if(document.activeElement!==p)return;let v=RA(f);if(!(v&&v.start!==v.end))return l}_registerBindings=()=>{[(f,p)=>{if(Nm(p)&&f===67){let v=this._getSelectedCell();return v?(Fm(p)?this._editorActions.trigger("copy",{element:v.col}):this._editorActions.trigger("copy",{element:v.row}),!0):void 0}},(f,p)=>{if(Nm(p)&&f===88){let v=this._getSelectedCell();return v?(Fm(p)?this._editorActions.trigger("cut",{element:v.col}):this._editorActions.trigger("cut",{element:v.row}),!0):void 0}},(f,p)=>{let v;if(Nm(p)&&f===86){let y=this._getSelectedCell();if(!y)return;Fm(p)?(v=this._editorActions.trigger("pasteAfter",{element:y.col}),v&&this._cellSelection.selectCell("right")):(v=this._editorActions.trigger("pasteAfter",{element:y.row}),v&&this._cellSelection.selectCell("below"))}return typeof v<"u"}].forEach(f=>{this._keyboard.addListener(f)})}}return o.$inject=["injector","eventBus","clipboard","cellSelection","elementRegistry","editorActions","renderer"],o})()]};let UMe=(()=>{class o extends Nt{constructor(s,l){super(s,l),jo(this)}onClick=s=>{this.editorActions.trigger("addInput")};render(){return me(1,"th","input-cell create-inputs header actionable",[this.translate("Input"),Wr(" "),me(1,"button","add-input dmn-icon-plus action-icon",null,1,{title:this.translate("Add input")})],0,{onClick:this.onClick,title:this.translate("Add input")})}}return o.$inject=["editorActions","translate"],o})(),qMe=(()=>{class o extends Nt{constructor(s,l){super(s,l),jo(this)}onClick=s=>{this.editorActions.trigger("addInput")};render(){return me(1,"td","input-cell create-inputs",Wr("-"),2,{onClick:this.onClick,title:this.translate("Add input")})}}return o.$inject=["editorActions","translate"],o})(),WMe=500;var GMe={__depends__:[Ov],__init__:["createInputsProvider"],createInputsProvider:["type",(()=>{class o{constructor(s,l){s.onGetComponent("cell",WMe,({cellType:u})=>{let{businessObject:f}=l.getRoot();if(!(f.input&&f.input.length)){if(u==="before-label-cells")return UMe;if(u==="before-rule-cells")return qMe}})}}return o.$inject=["components","sheet"],o})()]};let QMe=["string","boolean","number","date","time","dateTime","dayTimeDuration","yearMonthDuration","Any"],fee=(()=>{class o{constructor(s){this._dataTypes=s||QMe}getAll(){return this._dataTypes}}return o.$inject=["config.dataTypes"],o})();var r6={__init__:["dataTypes"],dataTypes:["type",fee]};let YMe=(()=>{class o{constructor(s,l,u,f,p,v,y,x,w,C,O){this._contextMenu=l,this._clipboard=u,this._editorActions=f,this._elementRegistry=v,this._eventBus=p,this._modeling=y,this._selection=x,this._sheet=w,this._rules=C,this._translate=O,this._getEntries=this._getEntries.bind(this),s.onGetComponent("context-menu",(T={})=>{if(T.contextMenuType&&T.contextMenuType==="context-menu"){let P=this._getEntries(T),N=this._elementRegistry.get(T.id),j=XMe(N)&&s.getComponents("context-menu-cell-additional",T);if(j&&j.length){let q=me(1,"div","context-menu-group context-menu-group-cell",j,0,{role:"presentation"});P.push(q)}return()=>me(1,"div","context-menu-flex",P,0,{tabIndex:0,role:"menu","aria-label":"Decision table context menu"})}}),p.on("cell.contextmenu",({event:T,id:P,node:N})=>{T.preventDefault(),l.open({x:T.pageX,y:T.pageY},{contextMenuType:"context-menu",event:T,id:P})})}_getEntries(s){let l={addRuleAbove:x=>{let w=x.cells.map(O=>O.id).indexOf(s.id),C=this._editorActions.trigger("addRuleAbove",{rule:x});C.cells[w]?this._selection.select(C.cells[w]):this._selection.select(C.cells[0]),this._contextMenu.close()},addRuleBelow:x=>{let w=x.cells.map(O=>O.id).indexOf(s.id),C=this._editorActions.trigger("addRuleBelow",{rule:x});C.cells[w]?this._selection.select(C.cells[w]):this._selection.select(C.cells[0]),this._contextMenu.close()},removeRule:x=>{this._editorActions.trigger("removeRule",{rule:x}),this._contextMenu.close()},addInputLeft:x=>{this._editorActions.trigger("addInputLeft",{input:x}),this._contextMenu.close()},addInputRight:x=>{this._editorActions.trigger("addInputRight",{input:x}),this._contextMenu.close()},removeInput:x=>{this._editorActions.trigger("removeInput",{input:x}),this._contextMenu.close()},addOutputLeft:x=>{this._editorActions.trigger("addOutputLeft",{output:x}),this._contextMenu.close()},addOutputRight:x=>{this._editorActions.trigger("addOutputRight",{output:x}),this._contextMenu.close()},removeOutput:x=>{this._editorActions.trigger("removeOutput",{output:x}),this._contextMenu.close()},copy:x=>{this._editorActions.trigger("copy",{element:x}),this._contextMenu.close()},cut:x=>{this._editorActions.trigger("cut",{element:x}),this._contextMenu.close()},pasteBefore:x=>{this._editorActions.trigger("pasteBefore",{element:x}),this._contextMenu.close()},pasteAfter:x=>{this._editorActions.trigger("pasteAfter",{element:x}),this._contextMenu.close()}},u=s&&s.id;if(!u)return null;let f=this._elementRegistry.get(u);if(!f)return null;let p=this._clipboard.get()||{},v=[],y=f.row||f;if(we(y,"dmn:DecisionRule")){let x=this._rules.allowed("paste",{data:p.elements,target:y});v.push(me(1,"div","context-menu-group",[me(1,"div","context-menu-group-entry context-menu-entry-copy-rule",this._translate("Copy rule"),0,{onClick:()=>l.copy(y),tabIndex:"-1",role:"menuitem"}),me(1,"div","context-menu-group-entry context-menu-entry-cut-rule",this._translate("Cut rule"),0,{onClick:()=>l.cut(y),tabIndex:"-1",role:"menuitem"}),me(1,"div",`context-menu-group-entry ${x?"":"disabled"} context-menu-entry-paste-rule-above`,this._translate("Paste rule above"),0,{onClick:()=>l.pasteBefore(y),tabIndex:"-1",role:"menuitem","aria-disabled":!x}),me(1,"div",`context-menu-group-entry ${x?"":"disabled"} context-menu-entry-paste-rule-below`,this._translate("Paste rule below"),0,{onClick:()=>l.pasteAfter(y),tabIndex:"-1",role:"menuitem","aria-disabled":!x})],4,{role:"presentation"}),me(1,"div","context-menu-group",[me(1,"div","context-menu-group-entry context-menu-entry-add-rule-above",this._translate("Add rule above"),0,{onClick:()=>l.addRuleAbove(y),tabIndex:"-1",role:"menuitem"}),me(1,"div","context-menu-group-entry context-menu-entry-add-rule-below",this._translate("Add rule below"),0,{onClick:()=>l.addRuleBelow(y),tabIndex:"-1",role:"menuitem"}),me(1,"div","context-menu-group-entry context-menu-entry-remove-rule",this._translate("Remove rule"),0,{onClick:()=>l.removeRule(y),tabIndex:"-1",role:"menuitem"})],4,{role:"presentation"}))}else if(we(f,"dmn:InputClause")){let x=we(f,"dmn:InputClause")?f:f.col,w=this._rules.allowed("col.remove",{col:f.col||f}),C=this._rules.allowed("paste",{data:p.elements,target:f.col||f});v.push(me(1,"div","context-menu-group",[me(1,"div","context-menu-group-entry context-menu-entry-copy-input",this._translate("Copy input column"),0,{onClick:()=>l.copy(x),tabIndex:"-1",role:"menuitem"}),me(1,"div",`context-menu-group-entry ${w?"":"disabled"} context-menu-entry-cut-input`,this._translate("Cut input column"),0,{onClick:()=>l.cut(x),tabIndex:"-1",role:"menuitem","aria-disabled":!w}),me(1,"div",`context-menu-group-entry ${C?"":"disabled"} context-menu-entry-paste-input-left`,this._translate("Paste input column left"),0,{onClick:()=>l.pasteBefore(x),tabIndex:"-1",role:"menuitem","aria-disabled":!C}),me(1,"div",`context-menu-group-entry ${C?"":"disabled"} context-menu-entry-paste-input-right`,this._translate("Paste input column right"),0,{onClick:()=>l.pasteAfter(x),tabIndex:"-1",role:"menuitem","aria-disabled":!C})],4,{role:"presentation"}),me(1,"div","context-menu-group",[me(1,"div","context-menu-group-entry context-menu-entry-add-input-left",this._translate("Add input column left"),0,{onClick:()=>l.addInputLeft(x),tabIndex:"-1",role:"menuitem"}),me(1,"div","context-menu-group-entry context-menu-entry-add-input-right",this._translate("Add input column right"),0,{onClick:()=>l.addInputRight(x),tabIndex:"-1",role:"menuitem"}),me(1,"div",`context-menu-group-entry ${w?"":"disabled"} context-menu-entry-remove-input`,this._translate("Remove input column"),0,{onClick:()=>l.removeInput(x),tabIndex:"-1",role:"menuitem","aria-disabled":!w})],4,{role:"presentation"}))}else if(we(f,"dmn:OutputClause")||we(f.col,"dmn:OutputClause")){let x=we(f,"dmn:OutputClause")?f:f.col,w=this._rules.allowed("col.remove",{col:f.col||f}),C=this._rules.allowed("paste",{data:p.elements,target:f.col||f});v.push(me(1,"div","context-menu-group",[me(1,"div","context-menu-group-entry context-menu-entry-copy-output",this._translate("Copy output column"),0,{onClick:()=>l.copy(x),tabIndex:"-1",role:"menuitem"}),me(1,"div",`context-menu-group-entry ${w?"":"disabled"} context-menu-entry-cut-output`,this._translate("Cut output column"),0,{onClick:()=>l.cut(x),tabIndex:"-1",role:"menuitem","aria-disabled":!w}),me(1,"div",`context-menu-group-entry ${C?"":"disabled"} context-menu-entry-paste-output-left`,this._translate("Paste output column left"),0,{onClick:()=>l.pasteBefore(x),tabIndex:"-1",role:"menuitem","aria-disabled":!C}),me(1,"div",`context-menu-group-entry ${C?"":"disabled"} context-menu-entry-paste-output-right`,this._translate("Paste output column right"),0,{onClick:()=>l.pasteAfter(x),tabIndex:"-1",role:"menuitem","aria-disabled":!C})],4,{role:"presentation"}),me(1,"div","context-menu-group",[me(1,"div","context-menu-group-entry context-menu-entry-add-output-left",this._translate("Add output column left"),0,{onClick:()=>l.addOutputLeft(x),tabIndex:"-1",role:"menuitem"}),me(1,"div","context-menu-group-entry context-menu-entry-add-output-right",this._translate("Add output column right"),0,{onClick:()=>l.addOutputRight(x),tabIndex:"-1",role:"menuitem"}),me(1,"div",`context-menu-group-entry ${w?"":"disabled"} context-menu-entry-remove-output`,this._translate("Remove output column"),0,{onClick:()=>l.removeOutput(x),tabIndex:"-1",role:"menuitem","aria-disabled":!w})],4,{role:"presentation"}))}return v}}return o.$inject=["components","contextMenu","clipboard","editorActions","eventBus","elementRegistry","modeling","selection","sheet","rules","translate"],o})();function XMe(o){return o instanceof NC}let KMe=["row.add","row.remove","col.add","col.remove"],ZMe=(()=>{class o{constructor(s,l){l.on("commandStack.executed",({command:u})=>{KMe.indexOf(u)!==-1&&s.close()}),l.on("commandStack.reverted",()=>{s.close()})}}return o.$inject=["contextMenu","eventBus"],o})(),JMe=(()=>{class o{constructor(s){s.on("contextMenu.open",()=>this.addEventListeners()),s.on("contextMenu.close",()=>this.removeEventListeners()),s.on("commandStack.executed",()=>this.removeEventListeners())}addEventListeners=()=>{document.addEventListener("keydown",this.handleKeyEvent),document.addEventListener("mouseover",this.handleMouseOver)};removeEventListeners=()=>{document.removeEventListener("keydown",this.handleKeyEvent),document.removeEventListener("mouseover",this.handleMouseOver)};handleKeyEvent=s=>{s.key==="ArrowUp"?(s.preventDefault(),this.move(s.target,-1)):s.key==="ArrowDown"?(s.preventDefault(),this.move(s.target,1)):s.key==="Enter"&&(s.preventDefault(),this.clickCurrentEntry())};handleMouseOver=()=>{this.getEntries().forEach(u=>tAe(u));let{focused:l}=this.getActiveEntries(document);l&&Jt(l).remove("focused")};getEntries=()=>Array.from(bu(".context-menu-group-entry")).filter(s=>!Jt(s).has("disabled"));getActiveEntries=s=>{let l=ln(".context-menu-group-entry:hover",s),u=ln(".context-menu-group-entry.focused",s);return{hover:l,focused:u,current:u||l}};move=(s,l)=>{let u=this.getEntries(),{current:f,hover:p}=this.getActiveEntries(s);if(!f){let x=u[0];Jt(x).add("focused");return}let v=u.indexOf(f)+l,y=u[v];v<0&&(y=u[u.length-1]),v>=u.length&&(y=u[0]),p&&eAe(p),Jt(f).remove("focused"),Jt(y).add("focused"),y.style.removeProperty("background-color")};clickCurrentEntry=()=>{let{current:s}=this.getActiveEntries(document);s&&s.click()}}return o.$inject=["eventBus"],o})();function eAe(o){o.style.setProperty("pointer-events","none"),o.style.setProperty("background-color","transparent")}function tAe(o){o.style.removeProperty("background-color"),o.style.removeProperty("pointer-events")}var nAe={__depends__:[Ov,qh,FA],__init__:["decisionTableContextMenu","contextMenuCloseBehavior","contextMenuKeyboard"],decisionTableContextMenu:["type",YMe],contextMenuCloseBehavior:["type",ZMe],contextMenuKeyboard:["type",JMe]};class rAe extends Nt{constructor(r,s){super(r,s),Lm(this,_v),this._translate=s.injector.get("translate")}onClick=r=>{let{output:s}=this.props;this._eventBus.fire("output.edit",{event:r,output:s})};onContextmenu=r=>{let{id:s}=this.props.output;this._eventBus.fire("cell.contextmenu",{event:r,id:s})};onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){let{injector:r}=this.context;this._changeSupport=this.context.changeSupport,this._eventBus=r.get("eventBus"),this._elementRegistry=r.get("elementRegistry");let{output:s}=this.props;this._changeSupport.onElementsChanged(s.id,this.onElementsChanged)}componentWillUnmount(){let{output:r}=this.props;this._changeSupport.offElementsChanged(r.id,this.onElementsChanged)}render(){let{output:r,index:s,outputsLength:l}=this.props,{label:u,name:f,outputValues:p,typeRef:v}=r,y=r.width?r.width+"px":"192px";return me(1,"th","output-cell output-editor",[this.slotFills({type:"cell-inner",context:{cellType:"output-cell",col:this._elementRegistry.get(r.id),index:s,outputsLength:l},col:r}),me(1,"div","clause",s===0?this._translate("Then"):this._translate("And"),0),u?me(1,"div","output-label",u,0,{title:this._translate("Output label: ")+u}):me(1,"div","output-name",f,0,{title:this._translate("Output name: ")+f}),me(1,"div","output-variable",p&&p.text||this._translate(v||""),0,{title:p&&p.text?this._translate("Output values"):this._translate("Output type")})],0,{"data-col-id":r.id,onDblClick:this.onClick,onContextmenu:this.onContextmenu,style:{width:y}})}}class lf extends Su{constructor(r,s){super(r,s),this.state={value:r.value}}onInput=r=>{let{onInput:s}=this.props,l=r.target.value;this.setState({value:l},()=>{typeof s=="function"&&s(l)})};onChange=r=>{let{onChange:s}=this.props;typeof s=="function"&&s(r.target.value)};onKeyDown=r=>{let{onKeyDown:s}=this.props;typeof s=="function"&&s(r)};onKeyUp=r=>{let{onKeyUp:s}=this.props;typeof s=="function"&&s(r)};componentDidUpdate(r){let{value:s}=this.props;s!==r.value&&s!==this.state.value&&this.setState({value:s})}render(){let{className:r,label:s,id:l,placeholder:u,type:f}=this.props,{value:p}=this.state;return di(64,"input",[r||"","dms-input"].join(" "),null,1,{"aria-label":s,placeholder:u||"",onChange:this.onChange,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,spellcheck:"false",type:f||"text",value:p,id:l})}}class iAe extends Nt{constructor(r,s){super(r,s),this.translate=s.injector?s.injector.get("translate"):oAe,this.setName=l=>{l=l||void 0,this.handleChange({name:l})},this.setLabel=l=>{l=l||void 0,this.handleChange({label:l})}}handleChange(r){var{onChange:s}=this.props;typeof s=="function"&&s(r)}render(){let{name:r,label:s}=this.props;return me(1,"div","context-menu-container ref-output-editor output-edit",[me(1,"div","dms-form-control",mt(2,Dv,{label:this.translate("Output label"),className:"dms-output-label",value:s||"",placeholder:this.translate("Output"),singleLine:!0,onInput:this.setLabel}),2),me(1,"div","dms-form-control",[me(1,"label","dms-label",this.translate("Output name"),0),mt(2,lf,{label:this.translate("Output name"),className:"ref-output-name",value:r||"",onInput:this.setName})],4)],4)}}function oAe(o){return o}let sAe=(()=>{class o extends Nt{constructor(s,l){super(s,l),this.state={},jo(this),this.persistChanges=this.debounceInput(this.persistChanges)}persistChanges=()=>{let{output:s}=this.props.context,{unsaved:l}=this.state;l&&(this.modeling.updateProperties(s,l),this.setState({unsaved:!1}))};handleChange=s=>{this.setState({unsaved:se(se({},this.state.unsaved),s)},this.persistChanges)};getValue(s){let{output:l}=this.props.context,{unsaved:u}=this.state;return u&&s in u?u[s]:l.get(s)}render(){return mt(2,iAe,{name:this.getValue("name"),label:this.getValue("label"),onChange:this.handleChange})}}return o.$inject=["debounceInput","modeling"],o})();class aAe extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._eventBus=s.injector.get("eventBus")}onClick=r=>{let{col:s}=this.props;this._eventBus.fire("output.edit",{event:r,output:s})};render(){return me(1,"button","edit-button dmn-icon-edit",null,1,{"aria-label":this._translate("Edit output"),type:"button",onClick:this.onClick})}}let lAe=(()=>{class o{constructor(s,l,u,f){s.onGetComponent("cell",({cellType:p})=>{if(p==="output-header")return rAe}),s.onGetComponent("context-menu",(p={})=>{if(p.contextMenuType==="output-edit")return sAe}),s.onGetComponent("cell-inner",(p={})=>{let{cellType:v}=p;if(v==="output-cell")return aAe}),u.on("output.edit",({event:p,output:v})=>{let{target:y}=p,x=Bo(y,"th",!0),{left:w,top:C}=x.getBoundingClientRect(),O=cAe(x);l.open({x:w,y:C,align:"bottom-right"},{contextMenuType:"output-edit",output:v,offset:O})})}}return o.$inject=["components","contextMenu","eventBus","renderer"],o})();function cAe(o){if(!Z1(o,".output-cell + .output-cell"))return{x:-1,y:0}}class uAe extends Nt{constructor(r,s){super(r,s),Lm(this,_v),this._translate=s.injector.get("translate")}onClick=r=>{let{input:s}=this.props;this._eventBus.fire("input.edit",{event:r,input:s})};onContextmenu=r=>{let{id:s}=this.props.input;this._eventBus.fire("cell.contextmenu",{event:r,id:s})};onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){let{injector:r}=this.context;this._changeSupport=this.context.changeSupport,this._sheet=r.get("sheet"),this._eventBus=r.get("eventBus"),this._elementRegistry=r.get("elementRegistry");let s=this._sheet.getRoot(),{input:l}=this.props;this._changeSupport.onElementsChanged(s.id,this.onElementsChanged),this._changeSupport.onElementsChanged(l.id,this.onElementsChanged)}componentWillUnmount(){let r=this._sheet.getRoot(),{input:s}=this.props;this._changeSupport.offElementsChanged(r.id,this.onElementsChanged),this._changeSupport.offElementsChanged(s.id,this.onElementsChanged)}render(){let{input:r,index:s,inputsLength:l}=this.props,{inputExpression:u,inputValues:f}=r,p=r.get("label"),v=r.width?r.width+"px":"192px";return me(1,"th","input-cell input-editor",[this.slotFills({type:"cell-inner",context:{cellType:"input-cell",col:this._elementRegistry.get(r.id),index:s,inputsLength:l},col:r}),me(1,"div","clause",s===0?this._translate("When"):this._translate("And"),0),p?me(1,"div","input-label",p,0,{title:this._translate("Input label: ")+p}):me(1,"div","input-expression",u.text,0,{title:this._translate("Input expression: ")+u.text}),me(1,"div","input-variable",f&&f.text||this._translate(u.typeRef||""),0,{title:f&&f.text?this._translate("Input values"):this._translate("Input type")})],0,{"data-col-id":r.id,onDblClick:this.onClick,onContextmenu:this.onContextmenu,style:{width:v}})}}class Vn{lineAt(r){if(r<0||r>this.length)throw new RangeError(`Invalid position ${r} in document of length ${this.length}`);return this.lineInner(r,!1,1,0)}line(r){if(r<1||r>this.lines)throw new RangeError(`Invalid line number ${r} in ${this.lines}-line document`);return this.lineInner(r,!0,1,0)}replace(r,s,l){[r,s]=kv(this,r,s);let u=[];return this.decompose(0,r,u,2),l.length&&l.decompose(0,l.length,u,3),this.decompose(s,this.length,u,1),Au.from(u,this.length-(s-r)+l.length)}append(r){return this.replace(this.length,this.length,r)}slice(r,s=this.length){[r,s]=kv(this,r,s);let l=[];return this.decompose(r,s,l,0),Au.from(l,s-r)}eq(r){if(r==this)return!0;if(r.length!=this.length||r.lines!=this.lines)return!1;let s=this.scanIdentical(r,1),l=this.length-this.scanIdentical(r,-1),u=new ax(this),f=new ax(r);for(let p=s,v=s;;){if(u.next(p),f.next(p),p=0,u.lineBreak!=f.lineBreak||u.done!=f.done||u.value!=f.value)return!1;if(v+=u.value.length,u.done||v>=l)return!0}}iter(r=1){return new ax(this,r)}iterRange(r,s=this.length){return new pee(this,r,s)}iterLines(r,s){let l;if(r==null)l=this.iter();else{s==null&&(s=this.lines+1);let u=this.line(r).from;l=this.iterRange(u,Math.max(u,s==this.lines+1?this.length:s<=1?0:this.line(s-1).to))}return new mee(l)}toString(){return this.sliceString(0)}toJSON(){let r=[];return this.flatten(r),r}constructor(){}static of(r){if(r.length==0)throw new RangeError("A document must have at least one line");return r.length==1&&!r[0]?Vn.empty:r.length<=32?new Di(r):Au.from(Di.split(r,[]))}}class Di extends Vn{constructor(r,s=dAe(r)){super(),this.text=r,this.length=s}get lines(){return this.text.length}get children(){return null}lineInner(r,s,l,u){for(let f=0;;f++){let p=this.text[f],v=u+p.length;if((s?l:v)>=r)return new fAe(u,v,l,p);u=v+1,l++}}decompose(r,s,l,u){let f=r<=0&&s>=this.length?this:new Di(hee(this.text,r,s),Math.min(s,this.length)-Math.max(0,r));if(u&1){let p=l.pop(),v=i6(f.text,p.text.slice(),0,f.length);if(v.length<=32)l.push(new Di(v,p.length+f.length));else{let y=v.length>>1;l.push(new Di(v.slice(0,y)),new Di(v.slice(y)))}}else l.push(f)}replace(r,s,l){if(!(l instanceof Di))return super.replace(r,s,l);[r,s]=kv(this,r,s);let u=i6(this.text,i6(l.text,hee(this.text,0,r)),s),f=this.length+l.length-(s-r);return u.length<=32?new Di(u,f):Au.from(Di.split(u,[]),f)}sliceString(r,s=this.length,l=`
`){[r,s]=kv(this,r,s);let u="";for(let f=0,p=0;f<=s&&p<this.text.length;p++){let v=this.text[p],y=f+v.length;f>r&&p&&(u+=l),r<y&&s>f&&(u+=v.slice(Math.max(0,r-f),s-f)),f=y+1}return u}flatten(r){for(let s of this.text)r.push(s)}scanIdentical(){return 0}static split(r,s){let l=[],u=-1;for(let f of r)l.push(f),u+=f.length+1,l.length==32&&(s.push(new Di(l,u)),l=[],u=-1);return u>-1&&s.push(new Di(l,u)),s}}class Au extends Vn{constructor(r,s){super(),this.children=r,this.length=s,this.lines=0;for(let l of r)this.lines+=l.lines}lineInner(r,s,l,u){for(let f=0;;f++){let p=this.children[f],v=u+p.length,y=l+p.lines-1;if((s?y:v)>=r)return p.lineInner(r,s,l,u);u=v+1,l=y+1}}decompose(r,s,l,u){for(let f=0,p=0;p<=s&&f<this.children.length;f++){let v=this.children[f],y=p+v.length;if(r<=y&&s>=p){let x=u&((p<=r?1:0)|(y>=s?2:0));p>=r&&y<=s&&!x?l.push(v):v.decompose(r-p,s-p,l,x)}p=y+1}}replace(r,s,l){if([r,s]=kv(this,r,s),l.lines<this.lines)for(let u=0,f=0;u<this.children.length;u++){let p=this.children[u],v=f+p.length;if(r>=f&&s<=v){let y=p.replace(r-f,s-f,l),x=this.lines-p.lines+y.lines;if(y.lines<x>>4&&y.lines>x>>6){let w=this.children.slice();return w[u]=y,new Au(w,this.length-(s-r)+l.length)}return super.replace(f,v,y)}f=v+1}return super.replace(r,s,l)}sliceString(r,s=this.length,l=`
`){[r,s]=kv(this,r,s);let u="";for(let f=0,p=0;f<this.children.length&&p<=s;f++){let v=this.children[f],y=p+v.length;p>r&&f&&(u+=l),r<y&&s>p&&(u+=v.sliceString(r-p,s-p,l)),p=y+1}return u}flatten(r){for(let s of this.children)s.flatten(r)}scanIdentical(r,s){if(!(r instanceof Au))return 0;let l=0,[u,f,p,v]=s>0?[0,0,this.children.length,r.children.length]:[this.children.length-1,r.children.length-1,-1,-1];for(;;u+=s,f+=s){if(u==p||f==v)return l;let y=this.children[u],x=r.children[f];if(y!=x)return l+y.scanIdentical(x,s);l+=y.length+1}}static from(r,s=r.reduce((l,u)=>l+u.length+1,-1)){let l=0;for(let T of r)l+=T.lines;if(l<32){let T=[];for(let P of r)P.flatten(T);return new Di(T,s)}let u=Math.max(32,l>>5),f=u<<1,p=u>>1,v=[],y=0,x=-1,w=[];function C(T){let P;if(T.lines>f&&T instanceof Au)for(let N of T.children)C(N);else T.lines>p&&(y>p||!y)?(O(),v.push(T)):T instanceof Di&&y&&(P=w[w.length-1])instanceof Di&&T.lines+P.lines<=32?(y+=T.lines,x+=T.length+1,w[w.length-1]=new Di(P.text.concat(T.text),P.length+1+T.length)):(y+T.lines>u&&O(),y+=T.lines,x+=T.length+1,w.push(T))}function O(){y!=0&&(v.push(w.length==1?w[0]:Au.from(w,x)),x=-1,y=w.length=0)}for(let T of r)C(T);return O(),v.length==1?v[0]:new Au(v,s)}}Vn.empty=new Di([""],0);function dAe(o){let r=-1;for(let s of o)r+=s.length+1;return r}function i6(o,r,s=0,l=1e9){for(let u=0,f=0,p=!0;f<o.length&&u<=l;f++){let v=o[f],y=u+v.length;y>=s&&(y>l&&(v=v.slice(0,l-u)),u<s&&(v=v.slice(s-u)),p?(r[r.length-1]+=v,p=!1):r.push(v)),u=y+1}return r}function hee(o,r,s){return i6(o,[""],r,s)}class ax{constructor(r,s=1){this.dir=s,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[r],this.offsets=[s>0?1:(r instanceof Di?r.text.length:r.children.length)<<1]}nextInner(r,s){for(this.done=this.lineBreak=!1;;){let l=this.nodes.length-1,u=this.nodes[l],f=this.offsets[l],p=f>>1,v=u instanceof Di?u.text.length:u.children.length;if(p==(s>0?v:0)){if(l==0)return this.done=!0,this.value="",this;s>0&&this.offsets[l-1]++,this.nodes.pop(),this.offsets.pop()}else if((f&1)==(s>0?0:1)){if(this.offsets[l]+=s,r==0)return this.lineBreak=!0,this.value=`
`,this;r--}else if(u instanceof Di){let y=u.text[p+(s<0?-1:0)];if(this.offsets[l]+=s,y.length>Math.max(0,r))return this.value=r==0?y:s>0?y.slice(r):y.slice(0,y.length-r),this;r-=y.length}else{let y=u.children[p+(s<0?-1:0)];r>y.length?(r-=y.length,this.offsets[l]+=s):(s<0&&this.offsets[l]--,this.nodes.push(y),this.offsets.push(s>0?1:(y instanceof Di?y.text.length:y.children.length)<<1))}}}next(r=0){return r<0&&(this.nextInner(-r,-this.dir),r=this.value.length),this.nextInner(r,this.dir)}}class pee{constructor(r,s,l){this.value="",this.done=!1,this.cursor=new ax(r,s>l?-1:1),this.pos=s>l?r.length:0,this.from=Math.min(s,l),this.to=Math.max(s,l)}nextInner(r,s){if(s<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;r+=Math.max(0,s<0?this.pos-this.to:this.from-this.pos);let l=s<0?this.pos-this.from:this.to-this.pos;r>l&&(r=l),l-=r;let{value:u}=this.cursor.next(r);return this.pos+=(u.length+r)*s,this.value=u.length<=l?u:s<0?u.slice(u.length-l):u.slice(0,l),this.done=!this.value,this}next(r=0){return r<0?r=Math.max(r,this.from-this.pos):r>0&&(r=Math.min(r,this.to-this.pos)),this.nextInner(r,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class mee{constructor(r){this.inner=r,this.afterBreak=!0,this.value="",this.done=!1}next(r=0){let{done:s,lineBreak:l,value:u}=this.inner.next(r);return s&&this.afterBreak?(this.value="",this.afterBreak=!1):s?(this.done=!0,this.value=""):l?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=u,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Vn.prototype[Symbol.iterator]=function(){return this.iter()},ax.prototype[Symbol.iterator]=pee.prototype[Symbol.iterator]=mee.prototype[Symbol.iterator]=function(){return this});class fAe{constructor(r,s,l,u){this.from=r,this.to=s,this.number=l,this.text=u}get length(){return this.to-this.from}}function kv(o,r,s){return r=Math.max(0,Math.min(o.length,r)),[r,Math.max(r,Math.min(o.length,s))]}let Pv="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(o=>o?parseInt(o,36):1);for(let o=1;o<Pv.length;o++)Pv[o]+=Pv[o-1];function hAe(o){for(let r=1;r<Pv.length;r+=2)if(Pv[r]>o)return Pv[r-1]<=o;return!1}function gee(o){return o>=127462&&o<=127487}let vee=8205;function js(o,r,s=!0,l=!0){return(s?yee:pAe)(o,r,l)}function yee(o,r,s){if(r==o.length)return r;r&&bee(o.charCodeAt(r))&&xee(o.charCodeAt(r-1))&&r--;let l=Ua(o,r);for(r+=Ru(l);r<o.length;){let u=Ua(o,r);if(l==vee||u==vee||s&&hAe(u))r+=Ru(u),l=u;else if(gee(u)){let f=0,p=r-2;for(;p>=0&&gee(Ua(o,p));)f++,p-=2;if(f%2==0)break;r+=2}else break}return r}function pAe(o,r,s){for(;r>0;){let l=yee(o,r-2,s);if(l<r)return l;r--}return 0}function bee(o){return o>=56320&&o<57344}function xee(o){return o>=55296&&o<56320}function Ua(o,r){let s=o.charCodeAt(r);if(!xee(s)||r+1==o.length)return s;let l=o.charCodeAt(r+1);return bee(l)?(s-55296<<10)+(l-56320)+65536:s}function Eee(o){return o<=65535?String.fromCharCode(o):(o-=65536,String.fromCharCode((o>>10)+55296,(o&1023)+56320))}function Ru(o){return o<65536?1:2}let UA=/\r\n?|\n/;var Vo=function(o){return o[o.Simple=0]="Simple",o[o.TrackDel=1]="TrackDel",o[o.TrackBefore=2]="TrackBefore",o[o.TrackAfter=3]="TrackAfter",o}(Vo||(Vo={}));class cf{constructor(r){this.sections=r}get length(){let r=0;for(let s=0;s<this.sections.length;s+=2)r+=this.sections[s];return r}get newLength(){let r=0;for(let s=0;s<this.sections.length;s+=2){let l=this.sections[s+1];r+=l<0?this.sections[s]:l}return r}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(r){for(let s=0,l=0,u=0;s<this.sections.length;){let f=this.sections[s++],p=this.sections[s++];p<0?(r(l,u,f),u+=f):u+=p,l+=f}}iterChangedRanges(r,s=!1){qA(this,r,s)}get invertedDesc(){let r=[];for(let s=0;s<this.sections.length;){let l=this.sections[s++],u=this.sections[s++];u<0?r.push(l,u):r.push(u,l)}return new cf(r)}composeDesc(r){return this.empty?r:r.empty?this:wee(this,r)}mapDesc(r,s=!1){return r.empty?this:WA(this,r,s)}mapPos(r,s=-1,l=Vo.Simple){let u=0,f=0;for(let p=0;p<this.sections.length;){let v=this.sections[p++],y=this.sections[p++],x=u+v;if(y<0){if(x>r)return f+(r-u);f+=v}else{if(l!=Vo.Simple&&x>=r&&(l==Vo.TrackDel&&u<r&&x>r||l==Vo.TrackBefore&&u<r||l==Vo.TrackAfter&&x>r))return null;if(x>r||x==r&&s<0&&!v)return r==u||s<0?f:f+y;f+=y}u=x}if(r>u)throw new RangeError(`Position ${r} is out of range for changeset of length ${u}`);return f}touchesRange(r,s=r){for(let l=0,u=0;l<this.sections.length&&u<=s;){let f=this.sections[l++],p=this.sections[l++],v=u+f;if(p>=0&&u<=s&&v>=r)return u<r&&v>s?"cover":!0;u=v}return!1}toString(){let r="";for(let s=0;s<this.sections.length;){let l=this.sections[s++],u=this.sections[s++];r+=(r?" ":"")+l+(u>=0?":"+u:"")}return r}toJSON(){return this.sections}static fromJSON(r){if(!Array.isArray(r)||r.length%2||r.some(s=>typeof s!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new cf(r)}static create(r){return new cf(r)}}class So extends cf{constructor(r,s){super(r),this.inserted=s}apply(r){if(this.length!=r.length)throw new RangeError("Applying change set to a document with the wrong length");return qA(this,(s,l,u,f,p)=>r=r.replace(u,u+(l-s),p),!1),r}mapDesc(r,s=!1){return WA(this,r,s,!0)}invert(r){let s=this.sections.slice(),l=[];for(let u=0,f=0;u<s.length;u+=2){let p=s[u],v=s[u+1];if(v>=0){s[u]=v,s[u+1]=p;let y=u>>1;for(;l.length<y;)l.push(Vn.empty);l.push(p?r.slice(f,f+p):Vn.empty)}f+=p}return new So(s,l)}compose(r){return this.empty?r:r.empty?this:wee(this,r,!0)}map(r,s=!1){return r.empty?this:WA(this,r,s,!0)}iterChanges(r,s=!1){qA(this,r,s)}get desc(){return cf.create(this.sections)}filter(r){let s=[],l=[],u=[],f=new lx(this);e:for(let p=0,v=0;;){let y=p==r.length?1e9:r[p++];for(;v<y||v==y&&f.len==0;){if(f.done)break e;let w=Math.min(f.len,y-v);ps(u,w,-1);let C=f.ins==-1?-1:f.off==0?f.ins:0;ps(s,w,C),C>0&&Wh(l,s,f.text),f.forward(w),v+=w}let x=r[p++];for(;v<x;){if(f.done)break e;let w=Math.min(f.len,x-v);ps(s,w,-1),ps(u,w,f.ins==-1?-1:f.off==0?f.ins:0),f.forward(w),v+=w}}return{changes:new So(s,l),filtered:cf.create(u)}}toJSON(){let r=[];for(let s=0;s<this.sections.length;s+=2){let l=this.sections[s],u=this.sections[s+1];u<0?r.push(l):u==0?r.push([l]):r.push([l].concat(this.inserted[s>>1].toJSON()))}return r}static of(r,s,l){let u=[],f=[],p=0,v=null;function y(w=!1){if(!w&&!u.length)return;p<s&&ps(u,s-p,-1);let C=new So(u,f);v=v?v.compose(C.map(v)):C,u=[],f=[],p=0}function x(w){if(Array.isArray(w))for(let C of w)x(C);else if(w instanceof So){if(w.length!=s)throw new RangeError(`Mismatched change set length (got ${w.length}, expected ${s})`);y(),v=v?v.compose(w.map(v)):w}else{let{from:C,to:O=C,insert:T}=w;if(C>O||C<0||O>s)throw new RangeError(`Invalid change range ${C} to ${O} (in doc of length ${s})`);let P=T?typeof T=="string"?Vn.of(T.split(l||UA)):T:Vn.empty,N=P.length;if(C==O&&N==0)return;C<p&&y(),C>p&&ps(u,C-p,-1),ps(u,O-C,N),Wh(f,u,P),p=O}}return x(r),y(!v),v}static empty(r){return new So(r?[r,-1]:[],[])}static fromJSON(r){if(!Array.isArray(r))throw new RangeError("Invalid JSON representation of ChangeSet");let s=[],l=[];for(let u=0;u<r.length;u++){let f=r[u];if(typeof f=="number")s.push(f,-1);else{if(!Array.isArray(f)||typeof f[0]!="number"||f.some((p,v)=>v&&typeof p!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(f.length==1)s.push(f[0],0);else{for(;l.length<u;)l.push(Vn.empty);l[u]=Vn.of(f.slice(1)),s.push(f[0],l[u].length)}}}return new So(s,l)}static createSet(r,s){return new So(r,s)}}function ps(o,r,s,l=!1){if(r==0&&s<=0)return;let u=o.length-2;u>=0&&s<=0&&s==o[u+1]?o[u]+=r:r==0&&o[u]==0?o[u+1]+=s:l?(o[u]+=r,o[u+1]+=s):o.push(r,s)}function Wh(o,r,s){if(s.length==0)return;let l=r.length-2>>1;if(l<o.length)o[o.length-1]=o[o.length-1].append(s);else{for(;o.length<l;)o.push(Vn.empty);o.push(s)}}function qA(o,r,s){let l=o.inserted;for(let u=0,f=0,p=0;p<o.sections.length;){let v=o.sections[p++],y=o.sections[p++];if(y<0)u+=v,f+=v;else{let x=u,w=f,C=Vn.empty;for(;x+=v,w+=y,y&&l&&(C=C.append(l[p-2>>1])),!(s||p==o.sections.length||o.sections[p+1]<0);)v=o.sections[p++],y=o.sections[p++];r(u,x,f,w,C),u=x,f=w}}}function WA(o,r,s,l=!1){let u=[],f=l?[]:null,p=new lx(o),v=new lx(r);for(let y=-1;;)if(p.ins==-1&&v.ins==-1){let x=Math.min(p.len,v.len);ps(u,x,-1),p.forward(x),v.forward(x)}else if(v.ins>=0&&(p.ins<0||y==p.i||p.off==0&&(v.len<p.len||v.len==p.len&&!s))){let x=v.len;for(ps(u,v.ins,-1);x;){let w=Math.min(p.len,x);p.ins>=0&&y<p.i&&p.len<=w&&(ps(u,0,p.ins),f&&Wh(f,u,p.text),y=p.i),p.forward(w),x-=w}v.next()}else if(p.ins>=0){let x=0,w=p.len;for(;w;)if(v.ins==-1){let C=Math.min(w,v.len);x+=C,w-=C,v.forward(C)}else if(v.ins==0&&v.len<w)w-=v.len,v.next();else break;ps(u,x,y<p.i?p.ins:0),f&&y<p.i&&Wh(f,u,p.text),y=p.i,p.forward(p.len-w)}else{if(p.done&&v.done)return f?So.createSet(u,f):cf.create(u);throw new Error("Mismatched change set lengths")}}function wee(o,r,s=!1){let l=[],u=s?[]:null,f=new lx(o),p=new lx(r);for(let v=!1;;){if(f.done&&p.done)return u?So.createSet(l,u):cf.create(l);if(f.ins==0)ps(l,f.len,0,v),f.next();else if(p.len==0&&!p.done)ps(l,0,p.ins,v),u&&Wh(u,l,p.text),p.next();else{if(f.done||p.done)throw new Error("Mismatched change set lengths");{let y=Math.min(f.len2,p.len),x=l.length;if(f.ins==-1){let w=p.ins==-1?-1:p.off?0:p.ins;ps(l,y,w,v),u&&w&&Wh(u,l,p.text)}else p.ins==-1?(ps(l,f.off?0:f.len,y,v),u&&Wh(u,l,f.textBit(y))):(ps(l,f.off?0:f.len,p.off?0:p.ins,v),u&&!p.off&&Wh(u,l,p.text));v=(f.ins>y||p.ins>=0&&p.len>y)&&(v||l.length>x),f.forward2(y),p.forward(y)}}}}class lx{constructor(r){this.set=r,this.i=0,this.next()}next(){let{sections:r}=this.set;this.i<r.length?(this.len=r[this.i++],this.ins=r[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:r}=this.set,s=this.i-2>>1;return s>=r.length?Vn.empty:r[s]}textBit(r){let{inserted:s}=this.set,l=this.i-2>>1;return l>=s.length&&!r?Vn.empty:s[l].slice(this.off,r==null?void 0:this.off+r)}forward(r){r==this.len?this.next():(this.len-=r,this.off+=r)}forward2(r){this.ins==-1?this.forward(r):r==this.ins?this.next():(this.ins-=r,this.off+=r)}}class Bm{constructor(r,s,l){this.from=r,this.to=s,this.flags=l}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let r=this.flags&7;return r==7?null:r}get goalColumn(){let r=this.flags>>6;return r==16777215?void 0:r}map(r,s=-1){let l,u;return this.empty?l=u=r.mapPos(this.from,s):(l=r.mapPos(this.from,1),u=r.mapPos(this.to,-1)),l==this.from&&u==this.to?this:new Bm(l,u,this.flags)}extend(r,s=r){if(r<=this.anchor&&s>=this.anchor)return Be.range(r,s);let l=Math.abs(r-this.anchor)>Math.abs(s-this.anchor)?r:s;return Be.range(this.anchor,l)}eq(r,s=!1){return this.anchor==r.anchor&&this.head==r.head&&(!s||!this.empty||this.assoc==r.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(r){if(!r||typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Be.range(r.anchor,r.head)}static create(r,s,l){return new Bm(r,s,l)}}class Be{constructor(r,s){this.ranges=r,this.mainIndex=s}map(r,s=-1){return r.empty?this:Be.create(this.ranges.map(l=>l.map(r,s)),this.mainIndex)}eq(r,s=!1){if(this.ranges.length!=r.ranges.length||this.mainIndex!=r.mainIndex)return!1;for(let l=0;l<this.ranges.length;l++)if(!this.ranges[l].eq(r.ranges[l],s))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Be([this.main],0)}addRange(r,s=!0){return Be.create([r].concat(this.ranges),s?0:this.mainIndex+1)}replaceRange(r,s=this.mainIndex){let l=this.ranges.slice();return l[s]=r,Be.create(l,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(r=>r.toJSON()),main:this.mainIndex}}static fromJSON(r){if(!r||!Array.isArray(r.ranges)||typeof r.main!="number"||r.main>=r.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Be(r.ranges.map(s=>Bm.fromJSON(s)),r.main)}static single(r,s=r){return new Be([Be.range(r,s)],0)}static create(r,s=0){if(r.length==0)throw new RangeError("A selection needs at least one range");for(let l=0,u=0;u<r.length;u++){let f=r[u];if(f.empty?f.from<=l:f.from<l)return Be.normalized(r.slice(),s);l=f.to}return new Be(r,s)}static cursor(r,s=0,l,u){return Bm.create(r,r,(s==0?0:s<0?8:16)|(l==null?7:Math.min(6,l))|(u??16777215)<<6)}static range(r,s,l,u){let f=(l??16777215)<<6|(u==null?7:Math.min(6,u));return s<r?Bm.create(s,r,48|f):Bm.create(r,s,(s>r?8:0)|f)}static normalized(r,s=0){let l=r[s];r.sort((u,f)=>u.from-f.from),s=r.indexOf(l);for(let u=1;u<r.length;u++){let f=r[u],p=r[u-1];if(f.empty?f.from<=p.to:f.from<p.to){let v=p.from,y=Math.max(f.to,p.to);u<=s&&s--,r.splice(--u,2,f.anchor>f.head?Be.range(y,v):Be.range(v,y))}}return new Be(r,s)}}function _ee(o,r){for(let s of o.ranges)if(s.to>r)throw new RangeError("Selection points outside of document")}let GA=0;class xt{constructor(r,s,l,u,f){this.combine=r,this.compareInput=s,this.compare=l,this.isStatic=u,this.id=GA++,this.default=r([]),this.extensions=typeof f=="function"?f(this):f}get reader(){return this}static define(r={}){return new xt(r.combine||(s=>s),r.compareInput||((s,l)=>s===l),r.compare||(r.combine?(s,l)=>s===l:QA),!!r.static,r.enables)}of(r){return new o6([],this,0,r)}compute(r,s){if(this.isStatic)throw new Error("Can't compute a static facet");return new o6(r,this,1,s)}computeN(r,s){if(this.isStatic)throw new Error("Can't compute a static facet");return new o6(r,this,2,s)}from(r,s){return s||(s=l=>l),this.compute([r],l=>s(l.field(r)))}}function QA(o,r){return o==r||o.length==r.length&&o.every((s,l)=>s===r[l])}class o6{constructor(r,s,l,u){this.dependencies=r,this.facet=s,this.type=l,this.value=u,this.id=GA++}dynamicSlot(r){var s;let l=this.value,u=this.facet.compareInput,f=this.id,p=r[f]>>1,v=this.type==2,y=!1,x=!1,w=[];for(let C of this.dependencies)C=="doc"?y=!0:C=="selection"?x=!0:((s=r[C.id])!==null&&s!==void 0?s:1)&1||w.push(r[C.id]);return{create(C){return C.values[p]=l(C),1},update(C,O){if(y&&O.docChanged||x&&(O.docChanged||O.selection)||YA(C,w)){let T=l(C);if(v?!Cee(T,C.values[p],u):!u(T,C.values[p]))return C.values[p]=T,1}return 0},reconfigure:(C,O)=>{let T,P=O.config.address[f];if(P!=null){let N=a6(O,P);if(this.dependencies.every(j=>j instanceof xt?O.facet(j)===C.facet(j):j instanceof qa?O.field(j,!1)==C.field(j,!1):!0)||(v?Cee(T=l(C),N,u):u(T=l(C),N)))return C.values[p]=N,0}else T=l(C);return C.values[p]=T,1}}}}function Cee(o,r,s){if(o.length!=r.length)return!1;for(let l=0;l<o.length;l++)if(!s(o[l],r[l]))return!1;return!0}function YA(o,r){let s=!1;for(let l of r)ux(o,l)&1&&(s=!0);return s}function mAe(o,r,s){let l=s.map(y=>o[y.id]),u=s.map(y=>y.type),f=l.filter(y=>!(y&1)),p=o[r.id]>>1;function v(y){let x=[];for(let w=0;w<l.length;w++){let C=a6(y,l[w]);if(u[w]==2)for(let O of C)x.push(O);else x.push(C)}return r.combine(x)}return{create(y){for(let x of l)ux(y,x);return y.values[p]=v(y),1},update(y,x){if(!YA(y,f))return 0;let w=v(y);return r.compare(w,y.values[p])?0:(y.values[p]=w,1)},reconfigure(y,x){let w=YA(y,l),C=x.config.facets[r.id],O=x.facet(r);if(C&&!w&&QA(s,C))return y.values[p]=O,0;let T=v(y);return r.compare(T,O)?(y.values[p]=O,0):(y.values[p]=T,1)}}}let See=xt.define({static:!0});class qa{constructor(r,s,l,u,f){this.id=r,this.createF=s,this.updateF=l,this.compareF=u,this.spec=f,this.provides=void 0}static define(r){let s=new qa(GA++,r.create,r.update,r.compare||((l,u)=>l===u),r);return r.provide&&(s.provides=r.provide(s)),s}create(r){let s=r.facet(See).find(l=>l.field==this);return(s?.create||this.createF)(r)}slot(r){let s=r[this.id]>>1;return{create:l=>(l.values[s]=this.create(l),1),update:(l,u)=>{let f=l.values[s],p=this.updateF(f,u);return this.compareF(f,p)?0:(l.values[s]=p,1)},reconfigure:(l,u)=>u.config.address[this.id]!=null?(l.values[s]=u.field(this),0):(l.values[s]=this.create(l),1)}}init(r){return[this,See.of({field:this,create:r})]}get extension(){return this}}let jm={lowest:4,low:3,default:2,high:1,highest:0};function cx(o){return r=>new Oee(r,o)}let Iv={highest:cx(jm.highest),high:cx(jm.high),default:cx(jm.default),low:cx(jm.low),lowest:cx(jm.lowest)};class Oee{constructor(r,s){this.inner=r,this.prec=s}}class Mv{of(r){return new XA(this,r)}reconfigure(r){return Mv.reconfigure.of({compartment:this,extension:r})}get(r){return r.config.compartments.get(this)}}class XA{constructor(r,s){this.compartment=r,this.inner=s}}class s6{constructor(r,s,l,u,f,p){for(this.base=r,this.compartments=s,this.dynamicSlots=l,this.address=u,this.staticValues=f,this.facets=p,this.statusTemplate=[];this.statusTemplate.length<l.length;)this.statusTemplate.push(0)}staticFacet(r){let s=this.address[r.id];return s==null?r.default:this.staticValues[s>>1]}static resolve(r,s,l){let u=[],f=Object.create(null),p=new Map;for(let O of gAe(r,s,p))O instanceof qa?u.push(O):(f[O.facet.id]||(f[O.facet.id]=[])).push(O);let v=Object.create(null),y=[],x=[];for(let O of u)v[O.id]=x.length<<1,x.push(T=>O.slot(T));let w=l?.config.facets;for(let O in f){let T=f[O],P=T[0].facet,N=w&&w[O]||[];if(T.every(j=>j.type==0))if(v[P.id]=y.length<<1|1,QA(N,T))y.push(l.facet(P));else{let j=P.combine(T.map(q=>q.value));y.push(l&&P.compare(j,l.facet(P))?l.facet(P):j)}else{for(let j of T)j.type==0?(v[j.id]=y.length<<1|1,y.push(j.value)):(v[j.id]=x.length<<1,x.push(q=>j.dynamicSlot(q)));v[P.id]=x.length<<1,x.push(j=>mAe(j,P,T))}}let C=x.map(O=>O(v));return new s6(r,p,C,v,y,f)}}function gAe(o,r,s){let l=[[],[],[],[],[]],u=new Map;function f(p,v){let y=u.get(p);if(y!=null){if(y<=v)return;let x=l[y].indexOf(p);x>-1&&l[y].splice(x,1),p instanceof XA&&s.delete(p.compartment)}if(u.set(p,v),Array.isArray(p))for(let x of p)f(x,v);else if(p instanceof XA){if(s.has(p.compartment))throw new RangeError("Duplicate use of compartment in extensions");let x=r.get(p.compartment)||p.inner;s.set(p.compartment,x),f(x,v)}else if(p instanceof Oee)f(p.inner,p.prec);else if(p instanceof qa)l[v].push(p),p.provides&&f(p.provides,v);else if(p instanceof o6)l[v].push(p),p.facet.extensions&&f(p.facet.extensions,jm.default);else{let x=p.extension;if(!x)throw new Error(`Unrecognized extension value in extension set (${p}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);f(x,v)}}return f(o,jm.default),l.reduce((p,v)=>p.concat(v))}function ux(o,r){if(r&1)return 2;let s=r>>1,l=o.status[s];if(l==4)throw new Error("Cyclic dependency between fields and/or facets");if(l&2)return l;o.status[s]=4;let u=o.computeSlot(o,o.config.dynamicSlots[s]);return o.status[s]=2|u}function a6(o,r){return r&1?o.config.staticValues[r>>1]:o.values[r>>1]}let Dee=xt.define(),KA=xt.define({combine:o=>o.some(r=>r),static:!0}),Tee=xt.define({combine:o=>o.length?o[0]:void 0,static:!0}),kee=xt.define(),Pee=xt.define(),Iee=xt.define(),Mee=xt.define({combine:o=>o.length?o[0]:!1});class Vm{constructor(r,s){this.type=r,this.value=s}static define(){return new vAe}}class vAe{of(r){return new Vm(this,r)}}class yAe{constructor(r){this.map=r}of(r){return new yr(this,r)}}let yr=(()=>{class o{constructor(s,l){this.type=s,this.value=l}map(s){let l=this.type.map(this.value,s);return l===void 0?void 0:l==this.value?this:new o(this.type,l)}is(s){return this.type==s}static define(s={}){return new yAe(s.map||(l=>l))}static mapEffects(s,l){if(!s.length)return s;let u=[];for(let f of s){let p=f.map(l);p&&u.push(p)}return u}}return o.reconfigure=o.define(),o.appendConfig=o.define(),o})(),Gh=(()=>{class o{constructor(s,l,u,f,p,v){this.startState=s,this.changes=l,this.selection=u,this.effects=f,this.annotations=p,this.scrollIntoView=v,this._doc=null,this._state=null,u&&_ee(u,l.newLength),p.some(y=>y.type==o.time)||(this.annotations=p.concat(o.time.of(Date.now())))}static create(s,l,u,f,p,v){return new o(s,l,u,f,p,v)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(s){for(let l of this.annotations)if(l.type==s)return l.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(s){let l=this.annotation(o.userEvent);return!!(l&&(l==s||l.length>s.length&&l.slice(0,s.length)==s&&l[s.length]=="."))}}return o.time=Vm.define(),o.userEvent=Vm.define(),o.addToHistory=Vm.define(),o.remote=Vm.define(),o})();function bAe(o,r){let s=[];for(let l=0,u=0;;){let f,p;if(l<o.length&&(u==r.length||r[u]>=o[l]))f=o[l++],p=o[l++];else if(u<r.length)f=r[u++],p=r[u++];else return s;!s.length||s[s.length-1]<f?s.push(f,p):s[s.length-1]<p&&(s[s.length-1]=p)}}function Aee(o,r,s){var l;let u,f,p;return s?(u=r.changes,f=So.empty(r.changes.length),p=o.changes.compose(r.changes)):(u=r.changes.map(o.changes),f=o.changes.mapDesc(r.changes,!0),p=o.changes.compose(u)),{changes:p,selection:r.selection?r.selection.map(f):(l=o.selection)===null||l===void 0?void 0:l.map(u),effects:yr.mapEffects(o.effects,u).concat(yr.mapEffects(r.effects,f)),annotations:o.annotations.length?o.annotations.concat(r.annotations):r.annotations,scrollIntoView:o.scrollIntoView||r.scrollIntoView}}function ZA(o,r,s){let l=r.selection,u=Av(r.annotations);return r.userEvent&&(u=u.concat(Gh.userEvent.of(r.userEvent))),{changes:r.changes instanceof So?r.changes:So.of(r.changes||[],s,o.facet(Tee)),selection:l&&(l instanceof Be?l:Be.single(l.anchor,l.head)),effects:Av(r.effects),annotations:u,scrollIntoView:!!r.scrollIntoView}}function Ree(o,r,s){let l=ZA(o,r.length?r[0]:{},o.doc.length);r.length&&r[0].filter===!1&&(s=!1);for(let f=1;f<r.length;f++){r[f].filter===!1&&(s=!1);let p=!!r[f].sequential;l=Aee(l,ZA(o,r[f],p?l.changes.newLength:o.doc.length),p)}let u=Gh.create(o,l.changes,l.selection,l.effects,l.annotations,l.scrollIntoView);return EAe(s?xAe(u):u)}function xAe(o){let r=o.startState,s=!0;for(let u of r.facet(kee)){let f=u(o);if(f===!1){s=!1;break}Array.isArray(f)&&(s=s===!0?f:bAe(s,f))}if(s!==!0){let u,f;if(s===!1)f=o.changes.invertedDesc,u=So.empty(r.doc.length);else{let p=o.changes.filter(s);u=p.changes,f=p.filtered.mapDesc(p.changes).invertedDesc}o=Gh.create(r,u,o.selection&&o.selection.map(f),yr.mapEffects(o.effects,f),o.annotations,o.scrollIntoView)}let l=r.facet(Pee);for(let u=l.length-1;u>=0;u--){let f=l[u](o);f instanceof Gh?o=f:Array.isArray(f)&&f.length==1&&f[0]instanceof Gh?o=f[0]:o=Ree(r,Av(f),!1)}return o}function EAe(o){let r=o.startState,s=r.facet(Iee),l=o;for(let u=s.length-1;u>=0;u--){let f=s[u](o);f&&Object.keys(f).length&&(l=Aee(l,ZA(r,f,o.changes.newLength),!0))}return l==o?o:Gh.create(r,o.changes,o.selection,l.effects,l.annotations,l.scrollIntoView)}let wAe=[];function Av(o){return o==null?wAe:Array.isArray(o)?o:[o]}var Rl=function(o){return o[o.Word=0]="Word",o[o.Space=1]="Space",o[o.Other=2]="Other",o}(Rl||(Rl={}));let _Ae=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,JA;try{JA=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function CAe(o){if(JA)return JA.test(o);for(let r=0;r<o.length;r++){let s=o[r];if(/\w/.test(s)||s>"\x80"&&(s.toUpperCase()!=s.toLowerCase()||_Ae.test(s)))return!0}return!1}function SAe(o){return r=>{if(!/\S/.test(r))return Rl.Space;if(CAe(r))return Rl.Word;for(let s=0;s<o.length;s++)if(r.indexOf(o[s])>-1)return Rl.Word;return Rl.Other}}let Oc=(()=>{class o{constructor(s,l,u,f,p,v){this.config=s,this.doc=l,this.selection=u,this.values=f,this.status=s.statusTemplate.slice(),this.computeSlot=p,v&&(v._state=this);for(let y=0;y<this.config.dynamicSlots.length;y++)ux(this,y<<1);this.computeSlot=null}field(s,l=!0){let u=this.config.address[s.id];if(u==null){if(l)throw new RangeError("Field is not present in this state");return}return ux(this,u),a6(this,u)}update(...s){return Ree(this,s,!0)}applyTransaction(s){let l=this.config,{base:u,compartments:f}=l;for(let y of s.effects)y.is(Mv.reconfigure)?(l&&(f=new Map,l.compartments.forEach((x,w)=>f.set(w,x)),l=null),f.set(y.value.compartment,y.value.extension)):y.is(yr.reconfigure)?(l=null,u=y.value):y.is(yr.appendConfig)&&(l=null,u=Av(u).concat(y.value));let p;l?p=s.startState.values.slice():(l=s6.resolve(u,f,this),p=new o(l,this.doc,this.selection,l.dynamicSlots.map(()=>null),(x,w)=>w.reconfigure(x,this),null).values);let v=s.startState.facet(KA)?s.newSelection:s.newSelection.asSingle();new o(l,s.newDoc,v,p,(y,x)=>x.update(y,s),s)}replaceSelection(s){return typeof s=="string"&&(s=this.toText(s)),this.changeByRange(l=>({changes:{from:l.from,to:l.to,insert:s},range:Be.cursor(l.from+s.length)}))}changeByRange(s){let l=this.selection,u=s(l.ranges[0]),f=this.changes(u.changes),p=[u.range],v=Av(u.effects);for(let y=1;y<l.ranges.length;y++){let x=s(l.ranges[y]),w=this.changes(x.changes),C=w.map(f);for(let T=0;T<y;T++)p[T]=p[T].map(C);let O=f.mapDesc(w,!0);p.push(x.range.map(O)),f=f.compose(C),v=yr.mapEffects(v,C).concat(yr.mapEffects(Av(x.effects),O))}return{changes:f,selection:Be.create(p,l.mainIndex),effects:v}}changes(s=[]){return s instanceof So?s:So.of(s,this.doc.length,this.facet(o.lineSeparator))}toText(s){return Vn.of(s.split(this.facet(o.lineSeparator)||UA))}sliceDoc(s=0,l=this.doc.length){return this.doc.sliceString(s,l,this.lineBreak)}facet(s){let l=this.config.address[s.id];return l==null?s.default:(ux(this,l),a6(this,l))}toJSON(s){let l={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(s)for(let u in s){let f=s[u];f instanceof qa&&this.config.address[f.id]!=null&&(l[u]=f.spec.toJSON(this.field(s[u]),this))}return l}static fromJSON(s,l={},u){if(!s||typeof s.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let f=[];if(u){for(let p in u)if(Object.prototype.hasOwnProperty.call(s,p)){let v=u[p],y=s[p];f.push(v.init(x=>v.spec.fromJSON(y,x)))}}return o.create({doc:s.doc,selection:Be.fromJSON(s.selection),extensions:l.extensions?f.concat([l.extensions]):f})}static create(s={}){let l=s6.resolve(s.extensions||[],new Map),u=s.doc instanceof Vn?s.doc:Vn.of((s.doc||"").split(l.staticFacet(o.lineSeparator)||UA)),f=s.selection?s.selection instanceof Be?s.selection:Be.single(s.selection.anchor,s.selection.head):Be.single(0);return _ee(f,u.length),l.staticFacet(KA)||(f=f.asSingle()),new o(l,u,f,l.dynamicSlots.map(()=>null),(p,v)=>v.create(p),null)}get tabSize(){return this.facet(o.tabSize)}get lineBreak(){return this.facet(o.lineSeparator)||`
`}get readOnly(){return this.facet(Mee)}phrase(s,...l){for(let u of this.facet(o.phrases))if(Object.prototype.hasOwnProperty.call(u,s)){s=u[s];break}return l.length&&(s=s.replace(/\$(\$|\d*)/g,(u,f)=>{if(f=="$")return"$";let p=+(f||1);return!p||p>l.length?u:l[p-1]})),s}languageDataAt(s,l,u=-1){let f=[];for(let p of this.facet(Dee))for(let v of p(this,l,u))Object.prototype.hasOwnProperty.call(v,s)&&f.push(v[s]);return f}charCategorizer(s){return SAe(this.languageDataAt("wordChars",s).join(""))}wordAt(s){let{text:l,from:u,length:f}=this.doc.lineAt(s),p=this.charCategorizer(s),v=s-u,y=s-u;for(;v>0;){let x=js(l,v,!1);if(p(l.slice(x,v))!=Rl.Word)break;v=x}for(;y<f;){let x=js(l,y);if(p(l.slice(y,x))!=Rl.Word)break;y=x}return v==y?null:Be.range(v+u,y+u)}}return o.allowMultipleSelections=KA,o.tabSize=xt.define({combine:r=>r.length?r[0]:4}),o.lineSeparator=Tee,o.readOnly=Mee,o.phrases=xt.define({compare(r,s){let l=Object.keys(r),u=Object.keys(s);return l.length==u.length&&l.every(f=>r[f]==s[f])}}),o.languageData=Dee,o.changeFilter=kee,o.transactionFilter=Pee,o.transactionExtender=Iee,o})();Mv.reconfigure=yr.define();function eR(o,r,s={}){let l={};for(let u of o)for(let f of Object.keys(u)){let p=u[f],v=l[f];if(v===void 0)l[f]=p;else if(!(v===p||p===void 0))if(Object.hasOwnProperty.call(s,f))l[f]=s[f](v,p);else throw new Error("Config merge conflict for field "+f)}for(let u in r)l[u]===void 0&&(l[u]=r[u]);return l}class zm{eq(r){return this==r}range(r,s=r){return tR.create(r,s,this)}}zm.prototype.startSide=zm.prototype.endSide=0,zm.prototype.point=!1,zm.prototype.mapMode=Vo.TrackDel;let tR=class B1e{constructor(r,s,l){this.from=r,this.to=s,this.value=l}static create(r,s,l){return new B1e(r,s,l)}};function nR(o,r){return o.from-r.from||o.value.startSide-r.value.startSide}class rR{constructor(r,s,l,u){this.from=r,this.to=s,this.value=l,this.maxPoint=u}get length(){return this.to[this.to.length-1]}findIndex(r,s,l,u=0){let f=l?this.to:this.from;for(let p=u,v=f.length;;){if(p==v)return p;let y=p+v>>1,x=f[y]-r||(l?this.value[y].endSide:this.value[y].startSide)-s;if(y==p)return x>=0?p:v;x>=0?v=y:p=y+1}}between(r,s,l,u){for(let f=this.findIndex(s,-1e9,!0),p=this.findIndex(l,1e9,!1,f);f<p;f++)if(u(this.from[f]+r,this.to[f]+r,this.value[f])===!1)return!1}map(r,s){let l=[],u=[],f=[],p=-1,v=-1;for(let y=0;y<this.value.length;y++){let x=this.value[y],w=this.from[y]+r,C=this.to[y]+r,O,T;if(w==C){let P=s.mapPos(w,x.startSide,x.mapMode);if(P==null||(O=T=P,x.startSide!=x.endSide&&(T=s.mapPos(w,x.endSide),T<O)))continue}else if(O=s.mapPos(w,x.startSide),T=s.mapPos(C,x.endSide),O>T||O==T&&x.startSide>0&&x.endSide<=0)continue;(T-O||x.endSide-x.startSide)<0||(p<0&&(p=O),x.point&&(v=Math.max(v,T-O)),l.push(x),u.push(O-p),f.push(T-p))}return{mapped:l.length?new rR(u,f,l,v):null,pos:p}}}let Vs=(()=>{class o{constructor(s,l,u,f){this.chunkPos=s,this.chunk=l,this.nextLayer=u,this.maxPoint=f}static create(s,l,u,f){return new o(s,l,u,f)}get length(){let s=this.chunk.length-1;return s<0?0:Math.max(this.chunkEnd(s),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let s=this.nextLayer.size;for(let l of this.chunk)s+=l.value.length;return s}chunkEnd(s){return this.chunkPos[s]+this.chunk[s].length}update(s){let{add:l=[],sort:u=!1,filterFrom:f=0,filterTo:p=this.length}=s,v=s.filter;if(l.length==0&&!v)return this;if(u&&(l=l.slice().sort(nR)),this.isEmpty)return l.length?o.of(l):this;let y=new $ee(this,null,-1).goto(0),x=0,w=[],C=new dx;for(;y.value||x<l.length;)if(x<l.length&&(y.from-l[x].from||y.startSide-l[x].value.startSide)>=0){let O=l[x++];C.addInner(O.from,O.to,O.value)||w.push(O)}else y.rangeIndex==1&&y.chunkIndex<this.chunk.length&&(x==l.length||this.chunkEnd(y.chunkIndex)<l[x].from)&&(!v||f>this.chunkEnd(y.chunkIndex)||p<this.chunkPos[y.chunkIndex])&&C.addChunk(this.chunkPos[y.chunkIndex],this.chunk[y.chunkIndex])?y.nextChunk():((!v||f>y.to||p<y.from||v(y.from,y.to,y.value))&&(C.addInner(y.from,y.to,y.value)||w.push(tR.create(y.from,y.to,y.value))),y.next());return C.finishInner(this.nextLayer.isEmpty&&!w.length?o.empty:this.nextLayer.update({add:w,filter:v,filterFrom:f,filterTo:p}))}map(s){if(s.empty||this.isEmpty)return this;let l=[],u=[],f=-1;for(let v=0;v<this.chunk.length;v++){let y=this.chunkPos[v],x=this.chunk[v],w=s.touchesRange(y,y+x.length);if(w===!1)f=Math.max(f,x.maxPoint),l.push(x),u.push(s.mapPos(y));else if(w===!0){let{mapped:C,pos:O}=x.map(y,s);C&&(f=Math.max(f,C.maxPoint),l.push(C),u.push(O))}}let p=this.nextLayer.map(s);return l.length==0?p:new o(u,l,p||o.empty,f)}between(s,l,u){if(!this.isEmpty){for(let f=0;f<this.chunk.length;f++){let p=this.chunkPos[f],v=this.chunk[f];if(l>=p&&s<=p+v.length&&v.between(p,s-p,l-p,u)===!1)return}this.nextLayer.between(s,l,u)}}iter(s=0){return fx.from([this]).goto(s)}get isEmpty(){return this.nextLayer==this}static iter(s,l=0){return fx.from(s).goto(l)}static compare(s,l,u,f,p=-1){let v=s.filter(O=>O.maxPoint>0||!O.isEmpty&&O.maxPoint>=p),y=l.filter(O=>O.maxPoint>0||!O.isEmpty&&O.maxPoint>=p),x=Lee(v,y,u),w=new hx(v,x,p),C=new hx(y,x,p);u.iterGaps((O,T,P)=>Nee(w,O,C,T,P,f)),u.empty&&u.length==0&&Nee(w,0,C,0,0,f)}static eq(s,l,u=0,f){f==null&&(f=999999999);let p=s.filter(C=>!C.isEmpty&&l.indexOf(C)<0),v=l.filter(C=>!C.isEmpty&&s.indexOf(C)<0);if(p.length!=v.length)return!1;if(!p.length)return!0;let y=Lee(p,v),x=new hx(p,y,0).goto(u),w=new hx(v,y,0).goto(u);for(;;){if(x.to!=w.to||!oR(x.active,w.active)||x.point&&(!w.point||!x.point.eq(w.point)))return!1;if(x.to>f)return!0;x.next(),w.next()}}static spans(s,l,u,f,p=-1){let v=new hx(s,null,p).goto(l),y=l,x=v.openStart;for(;;){let w=Math.min(v.to,u);if(v.point){let C=v.activeForPoint(v.to),O=v.pointFrom<l?C.length+1:v.point.startSide<0?C.length:Math.min(C.length,x);f.point(y,w,v.point,C,O,v.pointRank),x=Math.min(v.openEnd(w),C.length)}else w>y&&(f.span(y,w,v.active,x),x=v.openEnd(w));if(v.to>u)return x+(v.point&&v.to>u?1:0);y=v.to,v.next()}}static of(s,l=!1){let u=new dx;for(let f of s instanceof tR?[s]:l?OAe(s):s)u.add(f.from,f.to,f.value);return u.finish()}static join(s){if(!s.length)return o.empty;let l=s[s.length-1];for(let u=s.length-2;u>=0;u--)for(let f=s[u];f!=o.empty;f=f.nextLayer)l=new o(f.chunkPos,f.chunk,l,Math.max(f.maxPoint,l.maxPoint));return l}}return o.empty=new o([],[],null,-1),o})();function OAe(o){if(o.length>1)for(let r=o[0],s=1;s<o.length;s++){let l=o[s];if(nR(r,l)>0)return o.slice().sort(nR);r=l}return o}Vs.empty.nextLayer=Vs.empty;class dx{finishChunk(r){this.chunks.push(new rR(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,r&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(r,s,l){this.addInner(r,s,l)||(this.nextLayer||(this.nextLayer=new dx)).add(r,s,l)}addInner(r,s,l){let u=r-this.lastTo||l.startSide-this.last.endSide;if(u<=0&&(r-this.lastFrom||l.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return u<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=r),this.from.push(r-this.chunkStart),this.to.push(s-this.chunkStart),this.last=l,this.lastFrom=r,this.lastTo=s,this.value.push(l),l.point&&(this.maxPoint=Math.max(this.maxPoint,s-r)),!0)}addChunk(r,s){if((r-this.lastTo||s.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,s.maxPoint),this.chunks.push(s),this.chunkPos.push(r);let l=s.value.length-1;return this.last=s.value[l],this.lastFrom=s.from[l]+r,this.lastTo=s.to[l]+r,!0}finish(){return this.finishInner(Vs.empty)}finishInner(r){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return r;let s=Vs.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(r):r,this.setMaxPoint);return this.from=null,s}}function Lee(o,r,s){let l=new Map;for(let f of o)for(let p=0;p<f.chunk.length;p++)f.chunk[p].maxPoint<=0&&l.set(f.chunk[p],f.chunkPos[p]);let u=new Set;for(let f of r)for(let p=0;p<f.chunk.length;p++){let v=l.get(f.chunk[p]);v!=null&&(s?s.mapPos(v):v)==f.chunkPos[p]&&!s?.touchesRange(v,v+f.chunk[p].length)&&u.add(f.chunk[p])}return u}class $ee{constructor(r,s,l,u=0){this.layer=r,this.skip=s,this.minPoint=l,this.rank=u}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(r,s=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(r,s,!1),this}gotoInner(r,s,l){for(;this.chunkIndex<this.layer.chunk.length;){let u=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(u)||this.layer.chunkEnd(this.chunkIndex)<r||u.maxPoint<this.minPoint))break;this.chunkIndex++,l=!1}if(this.chunkIndex<this.layer.chunk.length){let u=this.layer.chunk[this.chunkIndex].findIndex(r-this.layer.chunkPos[this.chunkIndex],s,!0);(!l||this.rangeIndex<u)&&this.setRangeIndex(u)}this.next()}forward(r,s){(this.to-r||this.endSide-s)<0&&this.gotoInner(r,s,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let r=this.layer.chunkPos[this.chunkIndex],s=this.layer.chunk[this.chunkIndex],l=r+s.from[this.rangeIndex];if(this.from=l,this.to=r+s.to[this.rangeIndex],this.value=s.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(r){if(r==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=r}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(r){return this.from-r.from||this.startSide-r.startSide||this.rank-r.rank||this.to-r.to||this.endSide-r.endSide}}class fx{constructor(r){this.heap=r}static from(r,s=null,l=-1){let u=[];for(let f=0;f<r.length;f++)for(let p=r[f];!p.isEmpty;p=p.nextLayer)p.maxPoint>=l&&u.push(new $ee(p,s,l,f));return u.length==1?u[0]:new fx(u)}get startSide(){return this.value?this.value.startSide:0}goto(r,s=-1e9){for(let l of this.heap)l.goto(r,s);for(let l=this.heap.length>>1;l>=0;l--)iR(this.heap,l);return this.next(),this}forward(r,s){for(let l of this.heap)l.forward(r,s);for(let l=this.heap.length>>1;l>=0;l--)iR(this.heap,l);(this.to-r||this.value.endSide-s)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let r=this.heap[0];this.from=r.from,this.to=r.to,this.value=r.value,this.rank=r.rank,r.value&&r.next(),iR(this.heap,0)}}}function iR(o,r){for(let s=o[r];;){let l=(r<<1)+1;if(l>=o.length)break;let u=o[l];if(l+1<o.length&&u.compare(o[l+1])>=0&&(u=o[l+1],l++),s.compare(u)<0)break;o[l]=s,o[r]=u,r=l}}class hx{constructor(r,s,l){this.minPoint=l,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=fx.from(r,s,l)}goto(r,s=-1e9){return this.cursor.goto(r,s),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=r,this.endSide=s,this.openStart=-1,this.next(),this}forward(r,s){for(;this.minActive>-1&&(this.activeTo[this.minActive]-r||this.active[this.minActive].endSide-s)<0;)this.removeActive(this.minActive);this.cursor.forward(r,s)}removeActive(r){l6(this.active,r),l6(this.activeTo,r),l6(this.activeRank,r),this.minActive=Fee(this.active,this.activeTo)}addActive(r){let s=0,{value:l,to:u,rank:f}=this.cursor;for(;s<this.activeRank.length&&(f-this.activeRank[s]||u-this.activeTo[s])>0;)s++;c6(this.active,s,l),c6(this.activeTo,s,u),c6(this.activeRank,s,f),r&&c6(r,s,this.cursor.from),this.minActive=Fee(this.active,this.activeTo)}next(){let r=this.to,s=this.point;this.point=null;let l=this.openStart<0?[]:null;for(;;){let u=this.minActive;if(u>-1&&(this.activeTo[u]-this.cursor.from||this.active[u].endSide-this.cursor.startSide)<0){if(this.activeTo[u]>r){this.to=this.activeTo[u],this.endSide=this.active[u].endSide;break}this.removeActive(u),l&&l6(l,u)}else if(this.cursor.value)if(this.cursor.from>r){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let f=this.cursor.value;if(!f.point)this.addActive(l),this.cursor.next();else if(s&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=f,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=f.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(l){this.openStart=0;for(let u=l.length-1;u>=0&&l[u]<r;u--)this.openStart++}}activeForPoint(r){if(!this.active.length)return this.active;let s=[];for(let l=this.active.length-1;l>=0&&!(this.activeRank[l]<this.pointRank);l--)(this.activeTo[l]>r||this.activeTo[l]==r&&this.active[l].endSide>=this.point.endSide)&&s.push(this.active[l]);return s.reverse()}openEnd(r){let s=0;for(let l=this.activeTo.length-1;l>=0&&this.activeTo[l]>r;l--)s++;return s}}function Nee(o,r,s,l,u,f){o.goto(r),s.goto(l);let p=l+u,v=l,y=l-r;for(;;){let x=o.to+y-s.to||o.endSide-s.endSide,w=x<0?o.to+y:s.to,C=Math.min(w,p);if(o.point||s.point?o.point&&s.point&&(o.point==s.point||o.point.eq(s.point))&&oR(o.activeForPoint(o.to),s.activeForPoint(s.to))||f.comparePoint(v,C,o.point,s.point):C>v&&!oR(o.active,s.active)&&f.compareRange(v,C,o.active,s.active),w>p)break;v=w,x<=0&&o.next(),x>=0&&s.next()}}function oR(o,r){if(o.length!=r.length)return!1;for(let s=0;s<o.length;s++)if(o[s]!=r[s]&&!o[s].eq(r[s]))return!1;return!0}function l6(o,r){for(let s=r,l=o.length-1;s<l;s++)o[s]=o[s+1];o.pop()}function c6(o,r,s){for(let l=o.length-1;l>=r;l--)o[l+1]=o[l];o[r]=s}function Fee(o,r){let s=-1,l=1e9;for(let u=0;u<r.length;u++)(r[u]-l||o[u].endSide-o[s].endSide)<0&&(s=u,l=r[u]);return s}function u6(o,r,s=o.length){let l=0;for(let u=0;u<s;)o.charCodeAt(u)==9?(l+=r-l%r,u++):(l++,u=js(o,u));return l}function DAe(o,r,s,l){for(let u=0,f=0;;){if(f>=r)return u;if(u==o.length)break;f+=o.charCodeAt(u)==9?s-f%s:1,u=js(o,u)}return l===!0?-1:o.length}let sR="\u037C",Bee=typeof Symbol>"u"?"__"+sR:Symbol.for(sR),aR=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),jee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Qh{constructor(r,s){this.rules=[];let{finish:l}=s||{};function u(p){return/^@/.test(p)?[p]:p.split(/,\s*/)}function f(p,v,y,x){let w=[],C=/^@(\w+)\b/.exec(p[0]),O=C&&C[1]=="keyframes";if(C&&v==null)return y.push(p[0]+";");for(let T in v){let P=v[T];if(/&/.test(T))f(T.split(/,\s*/).map(N=>p.map(j=>N.replace(/&/,j))).reduce((N,j)=>N.concat(j)),P,y);else if(P&&typeof P=="object"){if(!C)throw new RangeError("The value of a property ("+T+") should be a primitive value.");f(u(T),P,w,O)}else P!=null&&w.push(T.replace(/_.*/,"").replace(/[A-Z]/g,N=>"-"+N.toLowerCase())+": "+P+";")}(w.length||O)&&y.push((l&&!C&&!x?p.map(l):p).join(", ")+" {"+w.join(" ")+"}")}for(let p in r)f(u(p),r[p],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let r=jee[Bee]||1;return jee[Bee]=r+1,sR+r.toString(36)}static mount(r,s,l){let u=r[aR],f=l&&l.nonce;u?f&&u.setNonce(f):u=new TAe(r,f),u.mount(Array.isArray(s)?s:[s],r)}}let Vee=new Map;class TAe{constructor(r,s){let l=r.ownerDocument||r,u=l.defaultView;if(!r.head&&r.adoptedStyleSheets&&u.CSSStyleSheet){let f=Vee.get(l);if(f)return r[aR]=f;this.sheet=new u.CSSStyleSheet,Vee.set(l,this)}else this.styleTag=l.createElement("style"),s&&this.styleTag.setAttribute("nonce",s);this.modules=[],r[aR]=this}mount(r,s){let l=this.sheet,u=0,f=0;for(let p=0;p<r.length;p++){let v=r[p],y=this.modules.indexOf(v);if(y<f&&y>-1&&(this.modules.splice(y,1),f--,y=-1),y==-1){if(this.modules.splice(f++,0,v),l)for(let x=0;x<v.rules.length;x++)l.insertRule(v.rules[x],u++)}else{for(;f<y;)u+=this.modules[f++].rules.length;u+=v.rules.length,f++}}if(l)s.adoptedStyleSheets.indexOf(this.sheet)<0&&(s.adoptedStyleSheets=[this.sheet,...s.adoptedStyleSheets]);else{let p="";for(let y=0;y<this.modules.length;y++)p+=this.modules[y].getRules()+`
`;this.styleTag.textContent=p;let v=s.head||s;this.styleTag.parentNode!=v&&v.insertBefore(this.styleTag,v.firstChild)}}setNonce(r){this.styleTag&&this.styleTag.getAttribute("nonce")!=r&&this.styleTag.setAttribute("nonce",r)}}for(var Yh={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},px={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},kAe=typeof navigator<"u"&&/Mac/.test(navigator.platform),PAe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),zo=0;zo<10;zo++)Yh[48+zo]=Yh[96+zo]=String(zo);for(var zo=1;zo<=24;zo++)Yh[zo+111]="F"+zo;for(var zo=65;zo<=90;zo++)Yh[zo]=String.fromCharCode(zo+32),px[zo]=String.fromCharCode(zo);for(var lR in Yh)px.hasOwnProperty(lR)||(px[lR]=Yh[lR]);function IAe(o){var r=kAe&&o.metaKey&&o.shiftKey&&!o.ctrlKey&&!o.altKey||PAe&&o.shiftKey&&o.key&&o.key.length==1||o.key=="Unidentified",s=!r&&o.key||(o.shiftKey?px:Yh)[o.keyCode]||o.key||"Unidentified";return s=="Esc"&&(s="Escape"),s=="Del"&&(s="Delete"),s=="Left"&&(s="ArrowLeft"),s=="Up"&&(s="ArrowUp"),s=="Right"&&(s="ArrowRight"),s=="Down"&&(s="ArrowDown"),s}function mx(o){let r;return o.nodeType==11?r=o.getSelection?o:o.ownerDocument:r=o,r.getSelection()}function cR(o,r){return r?o==r||o.contains(r.nodeType!=1?r.parentNode:r):!1}function MAe(o){let r=o.activeElement;for(;r&&r.shadowRoot;)r=r.shadowRoot.activeElement;return r}function d6(o,r){if(!r.anchorNode)return!1;try{return cR(o,r.anchorNode)}catch{return!1}}function Rv(o){return o.nodeType==3?Um(o,0,o.nodeValue.length).getClientRects():o.nodeType==1?o.getClientRects():[]}function gx(o,r,s,l){return s?zee(o,r,s,l,-1)||zee(o,r,s,l,1):!1}function Hm(o){for(var r=0;;r++)if(o=o.previousSibling,!o)return r}function f6(o){return o.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(o.nodeName)}function zee(o,r,s,l,u){for(;;){if(o==s&&r==l)return!0;if(r==(u<0?0:uf(o))){if(o.nodeName=="DIV")return!1;let f=o.parentNode;if(!f||f.nodeType!=1)return!1;r=Hm(o)+(u<0?0:1),o=f}else if(o.nodeType==1){if(o=o.childNodes[r+(u<0?-1:0)],o.nodeType==1&&o.contentEditable=="false")return!1;r=u<0?uf(o):0}else return!1}}function uf(o){return o.nodeType==3?o.nodeValue.length:o.childNodes.length}function vx(o,r){let s=r?o.left:o.right;return{left:s,right:s,top:o.top,bottom:o.bottom}}function AAe(o){let r=o.visualViewport;return r?{left:0,right:r.width,top:0,bottom:r.height}:{left:0,right:o.innerWidth,top:0,bottom:o.innerHeight}}function Hee(o,r){let s=r.width/o.offsetWidth,l=r.height/o.offsetHeight;return(s>.995&&s<1.005||!isFinite(s)||Math.abs(r.width-o.offsetWidth)<1)&&(s=1),(l>.995&&l<1.005||!isFinite(l)||Math.abs(r.height-o.offsetHeight)<1)&&(l=1),{scaleX:s,scaleY:l}}function RAe(o,r,s,l,u,f,p,v){let y=o.ownerDocument,x=y.defaultView||window;for(let w=o,C=!1;w&&!C;)if(w.nodeType==1){let O,T=w==y.body,P=1,N=1;if(T)O=AAe(x);else{if(/^(fixed|sticky)$/.test(getComputedStyle(w).position)&&(C=!0),w.scrollHeight<=w.clientHeight&&w.scrollWidth<=w.clientWidth){w=w.assignedSlot||w.parentNode;continue}let Q=w.getBoundingClientRect();({scaleX:P,scaleY:N}=Hee(w,Q)),O={left:Q.left,right:Q.left+w.clientWidth*P,top:Q.top,bottom:Q.top+w.clientHeight*N}}let j=0,q=0;if(u=="nearest")r.top<O.top?(q=-(O.top-r.top+p),s>0&&r.bottom>O.bottom+q&&(q=r.bottom-O.bottom+q+p)):r.bottom>O.bottom&&(q=r.bottom-O.bottom+p,s<0&&r.top-q<O.top&&(q=-(O.top+q-r.top+p)));else{let Q=r.bottom-r.top,U=O.bottom-O.top;q=(u=="center"&&Q<=U?r.top+Q/2-U/2:u=="start"||u=="center"&&s<0?r.top-p:r.bottom-U+p)-O.top}if(l=="nearest"?r.left<O.left?(j=-(O.left-r.left+f),s>0&&r.right>O.right+j&&(j=r.right-O.right+j+f)):r.right>O.right&&(j=r.right-O.right+f,s<0&&r.left<O.left+j&&(j=-(O.left+j-r.left+f))):j=(l=="center"?r.left+(r.right-r.left)/2-(O.right-O.left)/2:l=="start"==v?r.left-f:r.right-(O.right-O.left)+f)-O.left,j||q)if(T)x.scrollBy(j,q);else{let Q=0,U=0;if(q){let H=w.scrollTop;w.scrollTop+=q/N,U=(w.scrollTop-H)*N}if(j){let H=w.scrollLeft;w.scrollLeft+=j/P,Q=(w.scrollLeft-H)*P}r={left:r.left-Q,top:r.top-U,right:r.right-Q,bottom:r.bottom-U},Q&&Math.abs(Q-j)<1&&(l="nearest"),U&&Math.abs(U-q)<1&&(u="nearest")}if(T)break;w=w.assignedSlot||w.parentNode}else if(w.nodeType==11)w=w.host;else break}function LAe(o){let r=o.ownerDocument,s,l;for(let u=o.parentNode;u&&!(u==r.body||s&&l);)if(u.nodeType==1)!l&&u.scrollHeight>u.clientHeight&&(l=u),!s&&u.scrollWidth>u.clientWidth&&(s=u),u=u.assignedSlot||u.parentNode;else if(u.nodeType==11)u=u.host;else break;return{x:s,y:l}}class $Ae{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(r){return this.anchorNode==r.anchorNode&&this.anchorOffset==r.anchorOffset&&this.focusNode==r.focusNode&&this.focusOffset==r.focusOffset}setRange(r){let{anchorNode:s,focusNode:l}=r;this.set(s,Math.min(r.anchorOffset,s?uf(s):0),l,Math.min(r.focusOffset,l?uf(l):0))}set(r,s,l,u){this.anchorNode=r,this.anchorOffset=s,this.focusNode=l,this.focusOffset=u}}let Lv=null;function Uee(o){if(o.setActive)return o.setActive();if(Lv)return o.focus(Lv);let r=[];for(let s=o;s&&(r.push(s,s.scrollTop,s.scrollLeft),s!=s.ownerDocument);s=s.parentNode);if(o.focus(Lv==null?{get preventScroll(){return Lv={preventScroll:!0},!0}}:void 0),!Lv){Lv=!1;for(let s=0;s<r.length;){let l=r[s++],u=r[s++],f=r[s++];l.scrollTop!=u&&(l.scrollTop=u),l.scrollLeft!=f&&(l.scrollLeft=f)}}}let qee;function Um(o,r,s=r){let l=qee||(qee=document.createRange());return l.setEnd(o,s),l.setStart(o,r),l}function $v(o,r,s,l){let u={key:r,code:r,keyCode:s,which:s,cancelable:!0};l&&({altKey:u.altKey,ctrlKey:u.ctrlKey,shiftKey:u.shiftKey,metaKey:u.metaKey}=l);let f=new KeyboardEvent("keydown",u);f.synthetic=!0,o.dispatchEvent(f);let p=new KeyboardEvent("keyup",u);return p.synthetic=!0,o.dispatchEvent(p),f.defaultPrevented||p.defaultPrevented}function NAe(o){for(;o;){if(o&&(o.nodeType==9||o.nodeType==11&&o.host))return o;o=o.assignedSlot||o.parentNode}return null}function Wee(o){for(;o.attributes.length;)o.removeAttributeNode(o.attributes[0])}function FAe(o,r){let s=r.focusNode,l=r.focusOffset;if(!s||r.anchorNode!=s||r.anchorOffset!=l)return!1;for(l=Math.min(l,uf(s));;)if(l){if(s.nodeType!=1)return!1;let u=s.childNodes[l-1];u.contentEditable=="false"?l--:(s=u,l=uf(s))}else{if(s==o)return!0;l=Hm(s),s=s.parentNode}}function Gee(o){return o.scrollTop>Math.max(1,o.scrollHeight-o.clientHeight-4)}function Qee(o,r){for(let s=o,l=r;;){if(s.nodeType==3&&l>0)return{node:s,offset:l};if(s.nodeType==1&&l>0){if(s.contentEditable=="false")return null;s=s.childNodes[l-1],l=uf(s)}else if(s.parentNode&&!f6(s))l=Hm(s),s=s.parentNode;else return null}}function Yee(o,r){for(let s=o,l=r;;){if(s.nodeType==3&&l<s.nodeValue.length)return{node:s,offset:l};if(s.nodeType==1&&l<s.childNodes.length){if(s.contentEditable=="false")return null;s=s.childNodes[l],l=0}else if(s.parentNode&&!f6(s))l=Hm(s)+1,s=s.parentNode;else return null}}class ms{constructor(r,s,l=!0){this.node=r,this.offset=s,this.precise=l}static before(r,s){return new ms(r.parentNode,Hm(r),s)}static after(r,s){return new ms(r.parentNode,Hm(r)+1,s)}}let uR=[];class br{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(r){let s=this.posAtStart;for(let l of this.children){if(l==r)return s;s+=l.length+l.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(r){return this.posBefore(r)+r.length}sync(r,s){if(this.flags&2){let l=this.dom,u=null,f;for(let p of this.children){if(p.flags&7){if(!p.dom&&(f=u?u.nextSibling:l.firstChild)){let v=br.get(f);(!v||!v.parent&&v.canReuseDOM(p))&&p.reuseDOM(f)}p.sync(r,s),p.flags&=-8}if(f=u?u.nextSibling:l.firstChild,s&&!s.written&&s.node==l&&f!=p.dom&&(s.written=!0),p.dom.parentNode==l)for(;f&&f!=p.dom;)f=Xee(f);else l.insertBefore(p.dom,f);u=p.dom}for(f=u?u.nextSibling:l.firstChild,f&&s&&s.node==l&&(s.written=!0);f;)f=Xee(f)}else if(this.flags&1)for(let l of this.children)l.flags&7&&(l.sync(r,s),l.flags&=-8)}reuseDOM(r){}localPosFromDOM(r,s){let l;if(r==this.dom)l=this.dom.childNodes[s];else{let u=uf(r)==0?0:s==0?-1:1;for(;;){let f=r.parentNode;if(f==this.dom)break;u==0&&f.firstChild!=f.lastChild&&(r==f.firstChild?u=-1:u=1),r=f}u<0?l=r:l=r.nextSibling}if(l==this.dom.firstChild)return 0;for(;l&&!br.get(l);)l=l.nextSibling;if(!l)return this.length;for(let u=0,f=0;;u++){let p=this.children[u];if(p.dom==l)return f;f+=p.length+p.breakAfter}}domBoundsAround(r,s,l=0){let u=-1,f=-1,p=-1,v=-1;for(let y=0,x=l,w=l;y<this.children.length;y++){let C=this.children[y],O=x+C.length;if(x<r&&O>s)return C.domBoundsAround(r,s,x);if(O>=r&&u==-1&&(u=y,f=x),x>s&&C.dom.parentNode==this.dom){p=y,v=w;break}w=O,x=O+C.breakAfter}return{from:f,to:v<0?l+this.length:v,startDOM:(u?this.children[u-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:p<this.children.length&&p>=0?this.children[p].dom:null}}markDirty(r=!1){this.flags|=2,this.markParentsDirty(r)}markParentsDirty(r){for(let s=this.parent;s;s=s.parent){if(r&&(s.flags|=2),s.flags&1)return;s.flags|=1,r=!1}}setParent(r){this.parent!=r&&(this.parent=r,this.flags&7&&this.markParentsDirty(!0))}setDOM(r){this.dom!=r&&(this.dom&&(this.dom.cmView=null),this.dom=r,r.cmView=this)}get rootView(){for(let r=this;;){let s=r.parent;if(!s)return r;r=s}}replaceChildren(r,s,l=uR){this.markDirty();for(let u=r;u<s;u++){let f=this.children[u];f.parent==this&&l.indexOf(f)<0&&f.destroy()}this.children.splice(r,s-r,...l);for(let u=0;u<l.length;u++)l[u].setParent(this)}ignoreMutation(r){return!1}ignoreEvent(r){return!1}childCursor(r=this.length){return new Kee(this.children,r,this.children.length)}childPos(r,s=1){return this.childCursor().findPos(r,s)}toString(){let r=this.constructor.name.replace("View","");return r+(this.children.length?"("+this.children.join()+")":this.length?"["+(r=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(r){return r.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(r,s,l,u,f,p){return!1}become(r){return!1}canReuseDOM(r){return r.constructor==this.constructor&&!((this.flags|r.flags)&8)}getSide(){return 0}destroy(){for(let r of this.children)r.parent==this&&r.destroy();this.parent=null}}br.prototype.breakAfter=0;function Xee(o){let r=o.nextSibling;return o.parentNode.removeChild(o),r}class Kee{constructor(r,s,l){this.children=r,this.pos=s,this.i=l,this.off=0}findPos(r,s=1){for(;;){if(r>this.pos||r==this.pos&&(s>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=r-this.pos,this;let l=this.children[--this.i];this.pos-=l.length+l.breakAfter}}}function Zee(o,r,s,l,u,f,p,v,y){let{children:x}=o,w=x.length?x[r]:null,C=f.length?f[f.length-1]:null,O=C?C.breakAfter:p;if(!(r==l&&w&&!p&&!O&&f.length<2&&w.merge(s,u,f.length?C:null,s==0,v,y))){if(l<x.length){let T=x[l];T&&(u<T.length||T.breakAfter&&C?.breakAfter)?(r==l&&(T=T.split(u),u=0),!O&&C&&T.merge(0,u,C,!0,0,y)?f[f.length-1]=T:((u||T.children.length&&!T.children[0].length)&&T.merge(0,u,null,!1,0,y),f.push(T))):T?.breakAfter&&(C?C.breakAfter=1:p=1),l++}for(w&&(w.breakAfter=p,s>0&&(!p&&f.length&&w.merge(s,w.length,f[0],!1,v,0)?w.breakAfter=f.shift().breakAfter:(s<w.length||w.children.length&&w.children[w.children.length-1].length==0)&&w.merge(s,w.length,null,!1,v,0),r++));r<l&&f.length;)if(x[l-1].become(f[f.length-1]))l--,f.pop(),y=f.length?0:v;else if(x[r].become(f[0]))r++,f.shift(),v=f.length?0:y;else break;!f.length&&r&&l<x.length&&!x[r-1].breakAfter&&x[l].merge(0,0,x[r-1],!1,v,y)&&r--,(r<l||f.length)&&o.replaceChildren(r,l,f)}}function Jee(o,r,s,l,u,f){let p=o.childCursor(),{i:v,off:y}=p.findPos(s,1),{i:x,off:w}=p.findPos(r,-1),C=r-s;for(let O of l)C+=O.length;o.length+=C,Zee(o,x,w,v,y,l,0,u,f)}let ua=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},dR=typeof document<"u"?document:{documentElement:{style:{}}},fR=/Edge\/(\d+)/.exec(ua.userAgent),ete=/MSIE \d/.test(ua.userAgent),hR=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ua.userAgent),h6=!!(ete||hR||fR),tte=!h6&&/gecko\/(\d+)/i.test(ua.userAgent),pR=!h6&&/Chrome\/(\d+)/.exec(ua.userAgent),nte="webkitFontSmoothing"in dR.documentElement.style,rte=!h6&&/Apple Computer/.test(ua.vendor),ite=rte&&(/Mobile\/\w+/.test(ua.userAgent)||ua.maxTouchPoints>2);var ut={mac:ite||/Mac/.test(ua.platform),windows:/Win/.test(ua.platform),linux:/Linux|X11/.test(ua.platform),ie:h6,ie_version:ete?dR.documentMode||6:hR?+hR[1]:fR?+fR[1]:0,gecko:tte,gecko_version:tte?+(/Firefox\/(\d+)/.exec(ua.userAgent)||[0,0])[1]:0,chrome:!!pR,chrome_version:pR?+pR[1]:0,ios:ite,android:/Android\b/.test(ua.userAgent),webkit:nte,safari:rte,webkit_version:nte?+(/\bAppleWebKit\/(\d+)/.exec(ua.userAgent)||[0,0])[1]:0,tabSize:dR.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};let BAe=256;class Dc extends br{constructor(r){super(),this.text=r}get length(){return this.text.length}createDOM(r){this.setDOM(r||document.createTextNode(this.text))}sync(r,s){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(s&&s.node==this.dom&&(s.written=!0),this.dom.nodeValue=this.text)}reuseDOM(r){r.nodeType==3&&this.createDOM(r)}merge(r,s,l){return this.flags&8||l&&(!(l instanceof Dc)||this.length-(s-r)+l.length>BAe||l.flags&8)?!1:(this.text=this.text.slice(0,r)+(l?l.text:"")+this.text.slice(s),this.markDirty(),!0)}split(r){let s=new Dc(this.text.slice(r));return this.text=this.text.slice(0,r),this.markDirty(),s.flags|=this.flags&8,s}localPosFromDOM(r,s){return r==this.dom?s:s?this.text.length:0}domAtPos(r){return new ms(this.dom,r)}domBoundsAround(r,s,l){return{from:l,to:l+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(r,s){return jAe(this.dom,r,s)}}class df extends br{constructor(r,s=[],l=0){super(),this.mark=r,this.children=s,this.length=l;for(let u of s)u.setParent(this)}setAttrs(r){if(Wee(r),this.mark.class&&(r.className=this.mark.class),this.mark.attrs)for(let s in this.mark.attrs)r.setAttribute(s,this.mark.attrs[s]);return r}canReuseDOM(r){return super.canReuseDOM(r)&&!((this.flags|r.flags)&8)}reuseDOM(r){r.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(r),this.flags|=6)}sync(r,s){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(r,s)}merge(r,s,l,u,f,p){return l&&(!(l instanceof df&&l.mark.eq(this.mark))||r&&f<=0||s<this.length&&p<=0)?!1:(Jee(this,r,s,l?l.children.slice():[],f-1,p-1),this.markDirty(),!0)}split(r){let s=[],l=0,u=-1,f=0;for(let v of this.children){let y=l+v.length;y>r&&s.push(l<r?v.split(r-l):v),u<0&&l>=r&&(u=f),l=y,f++}let p=this.length-r;return this.length=r,u>-1&&(this.children.length=u,this.markDirty()),new df(this.mark,s,p)}domAtPos(r){return ote(this,r)}coordsAt(r,s){return ate(this,r,s)}}function jAe(o,r,s){let l=o.nodeValue.length;r>l&&(r=l);let u=r,f=r,p=0;r==0&&s<0||r==l&&s>=0?ut.chrome||ut.gecko||(r?(u--,p=1):f<l&&(f++,p=-1)):s<0?u--:f<l&&f++;let v=Um(o,u,f).getClientRects();if(!v.length)return null;let y=v[(p?p<0:s>=0)?0:v.length-1];return ut.safari&&!p&&y.width==0&&(y=Array.prototype.find.call(v,x=>x.width)||y),p?vx(y,p<0):y||null}class Xh extends br{static create(r,s,l){return new Xh(r,s,l)}constructor(r,s,l){super(),this.widget=r,this.length=s,this.side=l,this.prevWidget=null}split(r){let s=Xh.create(this.widget,this.length-r,this.side);return this.length-=r,s}sync(r){(!this.dom||!this.widget.updateDOM(this.dom,r))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(r)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(r,s,l,u,f,p){return l&&(!(l instanceof Xh)||!this.widget.compare(l.widget)||r>0&&f<=0||s<this.length&&p<=0)?!1:(this.length=r+(l?l.length:0)+(this.length-s),!0)}become(r){return r instanceof Xh&&r.side==this.side&&this.widget.constructor==r.widget.constructor?(this.widget.compare(r.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=r.widget,this.length=r.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(r){return this.widget.ignoreEvent(r)}get overrideDOMText(){if(this.length==0)return Vn.empty;let r=this;for(;r.parent;)r=r.parent;let{view:s}=r,l=s&&s.state.doc,u=this.posAtStart;return l?l.slice(u,u+this.length):Vn.empty}domAtPos(r){return(this.length?r==0:this.side>0)?ms.before(this.dom):ms.after(this.dom,r==this.length)}domBoundsAround(){return null}coordsAt(r,s){let l=this.widget.coordsAt(this.dom,r,s);if(l)return l;let u=this.dom.getClientRects(),f=null;if(!u.length)return null;let p=this.side?this.side<0:r>0;for(let v=p?u.length-1:0;f=u[v],!(r>0?v==0:v==u.length-1||f.top<f.bottom);v+=p?-1:1);return vx(f,!p)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Nv extends br{constructor(r){super(),this.side=r}get length(){return 0}merge(){return!1}become(r){return r instanceof Nv&&r.side==this.side}split(){return new Nv(this.side)}sync(){if(!this.dom){let r=document.createElement("img");r.className="cm-widgetBuffer",r.setAttribute("aria-hidden","true"),this.setDOM(r)}}getSide(){return this.side}domAtPos(r){return this.side>0?ms.before(this.dom):ms.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(r){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Vn.empty}get isHidden(){return!0}}Dc.prototype.children=Xh.prototype.children=Nv.prototype.children=uR;function ote(o,r){let s=o.dom,{children:l}=o,u=0;for(let f=0;u<l.length;u++){let p=l[u],v=f+p.length;if(!(v==f&&p.getSide()<=0)){if(r>f&&r<v&&p.dom.parentNode==s)return p.domAtPos(r-f);if(r<=f)break;f=v}}for(let f=u;f>0;f--){let p=l[f-1];if(p.dom.parentNode==s)return p.domAtPos(p.length)}for(let f=u;f<l.length;f++){let p=l[f];if(p.dom.parentNode==s)return p.domAtPos(0)}return new ms(s,0)}function ste(o,r,s){let l,{children:u}=o;s>0&&r instanceof df&&u.length&&(l=u[u.length-1])instanceof df&&l.mark.eq(r.mark)?ste(l,r.children[0],s-1):(u.push(r),r.setParent(o)),o.length+=r.length}function ate(o,r,s){let l=null,u=-1,f=null,p=-1;function v(x,w){for(let C=0,O=0;C<x.children.length&&O<=w;C++){let T=x.children[C],P=O+T.length;P>=w&&(T.children.length?v(T,w-O):(!f||f.isHidden&&s>0)&&(P>w||O==P&&T.getSide()>0)?(f=T,p=w-O):(O<w||O==P&&T.getSide()<0&&!T.isHidden)&&(l=T,u=w-O)),O=P}}v(o,r);let y=(s<0?l:f)||l||f;return y?y.coordsAt(Math.max(0,y==l?u:p),s):VAe(o)}function VAe(o){let r=o.dom.lastChild;if(!r)return o.dom.getBoundingClientRect();let s=Rv(r);return s[s.length-1]||null}function mR(o,r){for(let s in o)s=="class"&&r.class?r.class+=" "+o.class:s=="style"&&r.style?r.style+=";"+o.style:r[s]=o[s];return r}let lte=Object.create(null);function p6(o,r,s){if(o==r)return!0;o||(o=lte),r||(r=lte);let l=Object.keys(o),u=Object.keys(r);if(l.length-(s&&l.indexOf(s)>-1?1:0)!=u.length-(s&&u.indexOf(s)>-1?1:0))return!1;for(let f of l)if(f!=s&&(u.indexOf(f)==-1||o[f]!==r[f]))return!1;return!0}function gR(o,r,s){let l=!1;if(r)for(let u in r)s&&u in s||(l=!0,u=="style"?o.style.cssText="":o.removeAttribute(u));if(s)for(let u in s)r&&r[u]==s[u]||(l=!0,u=="style"?o.style.cssText=s[u]:o.setAttribute(u,s[u]));return l}function zAe(o){let r=Object.create(null);for(let s=0;s<o.attributes.length;s++){let l=o.attributes[s];r[l.name]=l.value}return r}class Fv{eq(r){return!1}updateDOM(r,s){return!1}compare(r){return this==r||this.constructor==r.constructor&&this.eq(r)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(r){return!0}coordsAt(r,s,l){return null}get isHidden(){return!1}get editable(){return!1}destroy(r){}}var Lu=function(o){return o[o.Text=0]="Text",o[o.WidgetBefore=1]="WidgetBefore",o[o.WidgetAfter=2]="WidgetAfter",o[o.WidgetRange=3]="WidgetRange",o}(Lu||(Lu={}));class vn extends zm{constructor(r,s,l,u){super(),this.startSide=r,this.endSide=s,this.widget=l,this.spec=u}get heightRelevant(){return!1}static mark(r){return new yx(r)}static widget(r){let s=Math.max(-1e4,Math.min(1e4,r.side||0)),l=!!r.block;return s+=l&&!r.inlineOrder?s>0?3e8:-4e8:s>0?1e8:-1e8,new Kh(r,s,s,l,r.widget||null,!1)}static replace(r){let s=!!r.block,l,u;if(r.isBlockGap)l=-5e8,u=4e8;else{let{start:f,end:p}=cte(r,s);l=(f?s?-3e8:-1:5e8)-1,u=(p?s?2e8:1:-6e8)+1}return new Kh(r,l,u,s,r.widget||null,!0)}static line(r){return new bx(r)}static set(r,s=!1){return Vs.of(r,s)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}vn.none=Vs.empty;class yx extends vn{constructor(r){let{start:s,end:l}=cte(r);super(s?-1:5e8,l?1:-6e8,null,r),this.tagName=r.tagName||"span",this.class=r.class||"",this.attrs=r.attributes||null}eq(r){var s,l;return this==r||r instanceof yx&&this.tagName==r.tagName&&(this.class||((s=this.attrs)===null||s===void 0?void 0:s.class))==(r.class||((l=r.attrs)===null||l===void 0?void 0:l.class))&&p6(this.attrs,r.attrs,"class")}range(r,s=r){if(r>=s)throw new RangeError("Mark decorations may not be empty");return super.range(r,s)}}yx.prototype.point=!1;class bx extends vn{constructor(r){super(-2e8,-2e8,null,r)}eq(r){return r instanceof bx&&this.spec.class==r.spec.class&&p6(this.spec.attributes,r.spec.attributes)}range(r,s=r){if(s!=r)throw new RangeError("Line decoration ranges must be zero-length");return super.range(r,s)}}bx.prototype.mapMode=Vo.TrackBefore,bx.prototype.point=!0;class Kh extends vn{constructor(r,s,l,u,f,p){super(s,l,f,r),this.block=u,this.isReplace=p,this.mapMode=u?s<=0?Vo.TrackBefore:Vo.TrackAfter:Vo.TrackDel}get type(){return this.startSide!=this.endSide?Lu.WidgetRange:this.startSide<=0?Lu.WidgetBefore:Lu.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(r){return r instanceof Kh&&HAe(this.widget,r.widget)&&this.block==r.block&&this.startSide==r.startSide&&this.endSide==r.endSide}range(r,s=r){if(this.isReplace&&(r>s||r==s&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&s!=r)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(r,s)}}Kh.prototype.point=!0;function cte(o,r=!1){let{inclusiveStart:s,inclusiveEnd:l}=o;return s==null&&(s=o.inclusive),l==null&&(l=o.inclusive),{start:s??r,end:l??r}}function HAe(o,r){return o==r||!!(o&&r&&o.compare(r))}function vR(o,r,s,l=0){let u=s.length-1;u>=0&&s[u]+l>=o?s[u]=Math.max(s[u],r):s.push(o,r)}class ji extends br{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(r,s,l,u,f,p){if(l){if(!(l instanceof ji))return!1;this.dom||l.transferDOM(this)}return u&&this.setDeco(l?l.attrs:null),Jee(this,r,s,l?l.children.slice():[],f,p),!0}split(r){let s=new ji;if(s.breakAfter=this.breakAfter,this.length==0)return s;let{i:l,off:u}=this.childPos(r);u&&(s.append(this.children[l].split(u),0),this.children[l].merge(u,this.children[l].length,null,!1,0,0),l++);for(let f=l;f<this.children.length;f++)s.append(this.children[f],0);for(;l>0&&this.children[l-1].length==0;)this.children[--l].destroy();return this.children.length=l,this.markDirty(),this.length=r,s}transferDOM(r){this.dom&&(this.markDirty(),r.setDOM(this.dom),r.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(r){p6(this.attrs,r)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=r)}append(r,s){ste(this,r,s)}addLineDeco(r){let s=r.spec.attributes,l=r.spec.class;s&&(this.attrs=mR(s,this.attrs||{})),l&&(this.attrs=mR({class:l},this.attrs||{}))}domAtPos(r){return ote(this,r)}reuseDOM(r){r.nodeName=="DIV"&&(this.setDOM(r),this.flags|=6)}sync(r,s){var l;this.dom?this.flags&4&&(Wee(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(gR(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(r,s);let u=this.dom.lastChild;for(;u&&br.get(u)instanceof df;)u=u.lastChild;if(!u||!this.length||u.nodeName!="BR"&&((l=br.get(u))===null||l===void 0?void 0:l.isEditable)==!1&&(!ut.ios||!this.children.some(f=>f instanceof Dc))){let f=document.createElement("BR");f.cmIgnore=!0,this.dom.appendChild(f)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let r=0,s;for(let l of this.children){if(!(l instanceof Dc)||/[^ -~]/.test(l.text))return null;let u=Rv(l.dom);if(u.length!=1)return null;r+=u[0].width,s=u[0].height}return r?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:r/this.length,textHeight:s}:null}coordsAt(r,s){let l=ate(this,r,s);if(!this.children.length&&l&&this.parent){let{heightOracle:u}=this.parent.view.viewState,f=l.bottom-l.top;if(Math.abs(f-u.lineHeight)<2&&u.textHeight<f){let p=(f-u.textHeight)/2;return{top:l.top+p,bottom:l.bottom-p,left:l.left,right:l.left}}}return l}become(r){return r instanceof ji&&this.children.length==0&&r.children.length==0&&p6(this.attrs,r.attrs)&&this.breakAfter==r.breakAfter}covers(){return!0}static find(r,s){for(let l=0,u=0;l<r.children.length;l++){let f=r.children[l],p=u+f.length;if(p>=s){if(f instanceof ji)return f;if(p>s)break}u=p+f.breakAfter}return null}}class ff extends br{constructor(r,s,l){super(),this.widget=r,this.length=s,this.deco=l,this.breakAfter=0,this.prevWidget=null}merge(r,s,l,u,f,p){return l&&(!(l instanceof ff)||!this.widget.compare(l.widget)||r>0&&f<=0||s<this.length&&p<=0)?!1:(this.length=r+(l?l.length:0)+(this.length-s),!0)}domAtPos(r){return r==0?ms.before(this.dom):ms.after(this.dom,r==this.length)}split(r){let s=this.length-r;this.length=r;let l=new ff(this.widget,s,this.deco);return l.breakAfter=this.breakAfter,l}get children(){return uR}sync(r){(!this.dom||!this.widget.updateDOM(this.dom,r))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(r)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Vn.empty}domBoundsAround(){return null}become(r){return r instanceof ff&&r.widget.constructor==this.widget.constructor?(r.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=r.widget,this.length=r.length,this.deco=r.deco,this.breakAfter=r.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(r){return this.widget.ignoreEvent(r)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(r,s){let l=this.widget.coordsAt(this.dom,r,s);return l||(this.widget instanceof yR?null:vx(this.dom.getBoundingClientRect(),this.length?r==0:s<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(r){let{startSide:s,endSide:l}=this.deco;return s==l?!1:r<0?s<0:l>0}}class yR extends Fv{constructor(r){super(),this.height=r}toDOM(){let r=document.createElement("div");return r.className="cm-gap",this.updateDOM(r),r}eq(r){return r.height==this.height}updateDOM(r){return r.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class xx{constructor(r,s,l,u){this.doc=r,this.pos=s,this.end=l,this.disallowBlockEffectsFor=u,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=r.iter(),this.skip=s}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let r=this.content[this.content.length-1];return!(r.breakAfter||r instanceof ff&&r.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ji),this.atCursorPos=!0),this.curLine}flushBuffer(r=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(m6(new Nv(-1),r),r.length),this.pendingBuffer=0)}addBlockWidget(r){this.flushBuffer(),this.curLine=null,this.content.push(r)}finish(r){this.pendingBuffer&&r<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(r&&this.content.length&&this.content[this.content.length-1]instanceof ff)&&this.getLine()}buildText(r,s,l){for(;r>0;){if(this.textOff==this.text.length){let{value:f,lineBreak:p,done:v}=this.cursor.next(this.skip);if(this.skip=0,v)throw new Error("Ran out of text content when drawing inline views");if(p){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,r--;continue}else this.text=f,this.textOff=0}let u=Math.min(this.text.length-this.textOff,r,512);this.flushBuffer(s.slice(s.length-l)),this.getLine().append(m6(new Dc(this.text.slice(this.textOff,this.textOff+u)),s),l),this.atCursorPos=!0,this.textOff+=u,r-=u,l=0}}span(r,s,l,u){this.buildText(s-r,l,u),this.pos=s,this.openStart<0&&(this.openStart=u)}point(r,s,l,u,f,p){if(this.disallowBlockEffectsFor[p]&&l instanceof Kh){if(l.block)throw new RangeError("Block decorations may not be specified via plugins");if(s>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let v=s-r;if(l instanceof Kh)if(l.block)l.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ff(l.widget||ute.block,v,l));else{let y=Xh.create(l.widget||ute.inline,v,v?0:l.startSide),x=this.atCursorPos&&!y.isEditable&&f<=u.length&&(r<s||l.startSide>0),w=!y.isEditable&&(r<s||f>u.length||l.startSide<=0),C=this.getLine();this.pendingBuffer==2&&!x&&!y.isEditable&&(this.pendingBuffer=0),this.flushBuffer(u),x&&(C.append(m6(new Nv(1),u),f),f=u.length+Math.max(0,f-u.length)),C.append(m6(y,u),f),this.atCursorPos=w,this.pendingBuffer=w?r<s||f>u.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=u.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(l);v&&(this.textOff+v<=this.text.length?this.textOff+=v:(this.skip+=v-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=s),this.openStart<0&&(this.openStart=f)}static build(r,s,l,u,f){let p=new xx(r,s,l,f);return p.openEnd=Vs.spans(u,s,l,p),p.openStart<0&&(p.openStart=p.openEnd),p.finish(p.openEnd),p}}function m6(o,r){for(let s of r)o=new df(s,[o],o.length);return o}let ute=(()=>{class o extends Fv{constructor(s){super(),this.tag=s}eq(s){return s.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(s){return s.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}return o.inline=new o("span"),o.block=new o("div"),o})();var Ti=function(o){return o[o.LTR=0]="LTR",o[o.RTL=1]="RTL",o}(Ti||(Ti={}));let qm=Ti.LTR,bR=Ti.RTL;function dte(o){let r=[];for(let s=0;s<o.length;s++)r.push(1<<+o[s]);return r}let UAe=dte("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),qAe=dte("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),xR=Object.create(null),$u=[];for(let o of["()","[]","{}"]){let r=o.charCodeAt(0),s=o.charCodeAt(1);xR[r]=s,xR[s]=-r}function fte(o){return o<=247?UAe[o]:1424<=o&&o<=1524?2:1536<=o&&o<=1785?qAe[o-1536]:1774<=o&&o<=2220?4:8192<=o&&o<=8204?256:64336<=o&&o<=65023?4:1}let WAe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Zh{get dir(){return this.level%2?bR:qm}constructor(r,s,l){this.from=r,this.to=s,this.level=l}side(r,s){return this.dir==s==r?this.to:this.from}forward(r,s){return r==(this.dir==s)}static find(r,s,l,u){let f=-1;for(let p=0;p<r.length;p++){let v=r[p];if(v.from<=s&&v.to>=s){if(v.level==l)return p;(f<0||(u!=0?u<0?v.from<s:v.to>s:r[f].level>v.level))&&(f=p)}}if(f<0)throw new RangeError("Index out of range");return f}}function hte(o,r){if(o.length!=r.length)return!1;for(let s=0;s<o.length;s++){let l=o[s],u=r[s];if(l.from!=u.from||l.to!=u.to||l.direction!=u.direction||!hte(l.inner,u.inner))return!1}return!0}let xr=[];function GAe(o,r,s,l,u){for(let f=0;f<=l.length;f++){let p=f?l[f-1].to:r,v=f<l.length?l[f].from:s,y=f?256:u;for(let x=p,w=y,C=y;x<v;x++){let O=fte(o.charCodeAt(x));O==512?O=w:O==8&&C==4&&(O=16),xr[x]=O==4?2:O,O&7&&(C=O),w=O}for(let x=p,w=y,C=y;x<v;x++){let O=xr[x];if(O==128)x<v-1&&w==xr[x+1]&&w&24?O=xr[x]=w:xr[x]=256;else if(O==64){let T=x+1;for(;T<v&&xr[T]==64;)T++;let P=x&&w==8||T<s&&xr[T]==8?C==1?1:8:256;for(let N=x;N<T;N++)xr[N]=P;x=T-1}else O==8&&C==1&&(xr[x]=1);w=O,O&7&&(C=O)}}}function QAe(o,r,s,l,u){let f=u==1?2:1;for(let p=0,v=0,y=0;p<=l.length;p++){let x=p?l[p-1].to:r,w=p<l.length?l[p].from:s;for(let C=x,O,T,P;C<w;C++)if(T=xR[O=o.charCodeAt(C)])if(T<0){for(let N=v-3;N>=0;N-=3)if($u[N+1]==-T){let j=$u[N+2],q=j&2?u:j&4?j&1?f:u:0;q&&(xr[C]=xr[$u[N]]=q),v=N;break}}else{if($u.length==189)break;$u[v++]=C,$u[v++]=O,$u[v++]=y}else if((P=xr[C])==2||P==1){let N=P==u;y=N?0:1;for(let j=v-3;j>=0;j-=3){let q=$u[j+2];if(q&2)break;if(N)$u[j+2]|=2;else{if(q&4)break;$u[j+2]|=4}}}}}function YAe(o,r,s,l){for(let u=0,f=l;u<=s.length;u++){let p=u?s[u-1].to:o,v=u<s.length?s[u].from:r;for(let y=p;y<v;){let x=xr[y];if(x==256){let w=y+1;for(;;)if(w==v){if(u==s.length)break;w=s[u++].to,v=u<s.length?s[u].from:r}else if(xr[w]==256)w++;else break;let C=f==1,O=(w<r?xr[w]:l)==1,T=C==O?C?1:2:l;for(let P=w,N=u,j=N?s[N-1].to:o;P>y;)P==j&&(P=s[--N].from,j=N?s[N-1].to:o),xr[--P]=T;y=w}else f=x,y++}}}function ER(o,r,s,l,u,f,p){let v=l%2?2:1;if(l%2==u%2)for(let y=r,x=0;y<s;){let w=!0,C=!1;if(x==f.length||y<f[x].from){let N=xr[y];N!=v&&(w=!1,C=N==16)}let O=!w&&v==1?[]:null,T=w?l:l+1,P=y;e:for(;;)if(x<f.length&&P==f[x].from){if(C)break e;let N=f[x];if(!w)for(let j=N.to,q=x+1;;){if(j==s)break e;if(q<f.length&&f[q].from==j)j=f[q++].to;else{if(xr[j]==v)break e;break}}if(x++,O)O.push(N);else{N.from>y&&p.push(new Zh(y,N.from,T));let j=N.direction==qm!=!(T%2);wR(o,j?l+1:l,u,N.inner,N.from,N.to,p),y=N.to}P=N.to}else{if(P==s||(w?xr[P]!=v:xr[P]==v))break;P++}O?ER(o,y,P,l+1,u,O,p):y<P&&p.push(new Zh(y,P,T)),y=P}else for(let y=s,x=f.length;y>r;){let w=!0,C=!1;if(!x||y>f[x-1].to){let N=xr[y-1];N!=v&&(w=!1,C=N==16)}let O=!w&&v==1?[]:null,T=w?l:l+1,P=y;e:for(;;)if(x&&P==f[x-1].to){if(C)break e;let N=f[--x];if(!w)for(let j=N.from,q=x;;){if(j==r)break e;if(q&&f[q-1].to==j)j=f[--q].from;else{if(xr[j-1]==v)break e;break}}if(O)O.push(N);else{N.to<y&&p.push(new Zh(N.to,y,T));let j=N.direction==qm!=!(T%2);wR(o,j?l+1:l,u,N.inner,N.from,N.to,p),y=N.from}P=N.from}else{if(P==r||(w?xr[P-1]!=v:xr[P-1]==v))break;P--}O?ER(o,P,y,l+1,u,O,p):P<y&&p.push(new Zh(P,y,T)),y=P}}function wR(o,r,s,l,u,f,p){let v=r%2?2:1;GAe(o,u,f,l,v),QAe(o,u,f,l,v),YAe(u,f,l,v),ER(o,u,f,r,s,l,p)}function XAe(o,r,s){if(!o)return[new Zh(0,0,r==bR?1:0)];if(r==qm&&!s.length&&!WAe.test(o))return pte(o.length);if(s.length)for(;o.length>xr.length;)xr[xr.length]=256;let l=[],u=r==qm?0:1;return wR(o,u,u,s,0,o.length,l),l}function pte(o){return[new Zh(0,o,0)]}let mte="";function KAe(o,r,s,l,u){var f;let p=l.head-o.from,v=Zh.find(r,p,(f=l.bidiLevel)!==null&&f!==void 0?f:-1,l.assoc),y=r[v],x=y.side(u,s);if(p==x){let O=v+=u?1:-1;if(O<0||O>=r.length)return null;y=r[v=O],p=y.side(!u,s),x=y.side(u,s)}let w=js(o.text,p,y.forward(u,s));(w<y.from||w>y.to)&&(w=x),mte=o.text.slice(Math.min(p,w),Math.max(p,w));let C=v==(u?r.length-1:0)?null:r[v+(u?1:-1)];return C&&w==x&&C.level+(u?0:1)<y.level?Be.cursor(C.side(!u,s)+o.from,C.forward(u,s)?1:-1,C.level):Be.cursor(w+o.from,y.forward(u,s)?-1:1,y.level)}function ZAe(o,r,s){for(let l=r;l<s;l++){let u=fte(o.charCodeAt(l));if(u==1)return qm;if(u==2||u==4)return bR}return qm}let gte=xt.define(),vte=xt.define(),yte=xt.define(),bte=xt.define(),_R=xt.define(),xte=xt.define(),Ete=xt.define(),CR=xt.define(),SR=xt.define(),wte=xt.define({combine:o=>o.some(r=>r)}),JAe=xt.define({combine:o=>o.some(r=>r)}),_te=xt.define();class Bv{constructor(r,s="nearest",l="nearest",u=5,f=5,p=!1){this.range=r,this.y=s,this.x=l,this.yMargin=u,this.xMargin=f,this.isSnapshot=p}map(r){return r.empty?this:new Bv(this.range.map(r),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(r){return this.range.to<=r.doc.length?this:new Bv(Be.cursor(r.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}let g6=yr.define({map:(o,r)=>o.map(r)}),Cte=yr.define();function zs(o,r,s){let l=o.facet(bte);l.length?l[0](r):window.onerror?window.onerror(String(r),s,void 0,void 0,r):s?console.error(s+":",r):console.error(r)}let Jh=xt.define({combine:o=>o.length?o[0]:!0}),eRe=0,Ex=xt.define();class Wa{constructor(r,s,l,u,f){this.id=r,this.create=s,this.domEventHandlers=l,this.domEventObservers=u,this.extension=f(this)}static define(r,s){let{eventHandlers:l,eventObservers:u,provide:f,decorations:p}=s||{};return new Wa(eRe++,r,l,u,v=>{let y=[Ex.of(v)];return p&&y.push(wx.of(x=>{let w=x.plugin(v);return w?p(w):vn.none})),f&&y.push(f(v)),y})}static fromClass(r,s){return Wa.define(l=>new r(l),s)}}class OR{constructor(r){this.spec=r,this.mustUpdate=null,this.value=null}update(r){if(this.value){if(this.mustUpdate){let s=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(s)}catch(l){if(zs(s.state,l,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(r)}catch(s){zs(r.state,s,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(r){var s;if(!((s=this.value)===null||s===void 0)&&s.destroy)try{this.value.destroy()}catch(l){zs(r.state,l,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}let Ste=xt.define(),DR=xt.define(),wx=xt.define(),Ote=xt.define(),TR=xt.define(),Dte=xt.define();function Tte(o,r){let s=o.state.facet(Dte);if(!s.length)return s;let l=s.map(f=>f instanceof Function?f(o):f),u=[];return Vs.spans(l,r.from,r.to,{point(){},span(f,p,v,y){let x=f-r.from,w=p-r.from,C=u;for(let O=v.length-1;O>=0;O--,y--){let T=v[O].spec.bidiIsolate,P;if(T==null&&(T=ZAe(r.text,x,w)),y>0&&C.length&&(P=C[C.length-1]).to==x&&P.direction==T)P.to=w,C=P.inner;else{let N={from:x,to:w,direction:T,inner:[]};C.push(N),C=N.inner}}}}),u}let kte=xt.define();function Pte(o){let r=0,s=0,l=0,u=0;for(let f of o.state.facet(kte)){let p=f(o);p&&(p.left!=null&&(r=Math.max(r,p.left)),p.right!=null&&(s=Math.max(s,p.right)),p.top!=null&&(l=Math.max(l,p.top)),p.bottom!=null&&(u=Math.max(u,p.bottom)))}return{left:r,right:s,top:l,bottom:u}}let _x=xt.define();class Ll{constructor(r,s,l,u){this.fromA=r,this.toA=s,this.fromB=l,this.toB=u}join(r){return new Ll(Math.min(this.fromA,r.fromA),Math.max(this.toA,r.toA),Math.min(this.fromB,r.fromB),Math.max(this.toB,r.toB))}addToSet(r){let s=r.length,l=this;for(;s>0;s--){let u=r[s-1];if(!(u.fromA>l.toA)){if(u.toA<l.fromA)break;l=l.join(u),r.splice(s-1,1)}}return r.splice(s,0,l),r}static extendWithRanges(r,s){if(s.length==0)return r;let l=[];for(let u=0,f=0,p=0,v=0;;u++){let y=u==r.length?null:r[u],x=p-v,w=y?y.fromB:1e9;for(;f<s.length&&s[f]<w;){let C=s[f],O=s[f+1],T=Math.max(v,C),P=Math.min(w,O);if(T<=P&&new Ll(T+x,P+x,T,P).addToSet(l),O>w)break;f+=2}if(!y)return l;new Ll(y.fromA,y.toA,y.fromB,y.toB).addToSet(l),p=y.toA,v=y.toB}}}class v6{constructor(r,s,l){this.view=r,this.state=s,this.transactions=l,this.flags=0,this.startState=r.state,this.changes=So.empty(this.startState.doc.length);for(let f of l)this.changes=this.changes.compose(f.changes);let u=[];this.changes.iterChangedRanges((f,p,v,y)=>u.push(new Ll(f,p,v,y))),this.changedRanges=u}static create(r,s,l){return new v6(r,s,l)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(r=>r.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Ite extends br{get length(){return this.view.state.doc.length}constructor(r){super(),this.view=r,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=vn.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(r.contentDOM),this.children=[new ji],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ll(0,0,0,r.state.doc.length)],0,null)}update(r){var s;let l=r.changedRanges;this.minWidth>0&&l.length&&(l.every(({fromA:x,toA:w})=>w<this.minWidthFrom||x>this.minWidthTo)?(this.minWidthFrom=r.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=r.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(r);let u=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((s=this.domChanged)===null||s===void 0)&&s.newSel?u=this.domChanged.newSel.head:!aRe(r.changes,this.hasComposition)&&!r.selectionSet&&(u=r.state.selection.main.head));let f=u>-1?nRe(this.view,r.changes,u):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:x,to:w}=this.hasComposition;l=new Ll(x,w,r.changes.mapPos(x,-1),r.changes.mapPos(w,1)).addToSet(l.slice())}this.hasComposition=f?{from:f.range.fromB,to:f.range.toB}:null,(ut.ie||ut.chrome)&&!f&&r&&r.state.doc.lines!=r.startState.doc.lines&&(this.forceSelection=!0);let p=this.decorations,v=this.updateDeco(),y=oRe(p,v,r.changes);return l=Ll.extendWithRanges(l,y),!(this.flags&7)&&l.length==0?!1:(this.updateInner(l,r.startState.doc.length,f),r.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(r,s,l){this.view.viewState.mustMeasureContent=!0,this.updateChildren(r,s,l);let{observer:u}=this.view;u.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let p=ut.chrome||ut.ios?{node:u.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,p),this.flags&=-8,p&&(p.written||u.selectionRange.focusNode!=p.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(p=>p.flags&=-9);let f=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let p of this.children)p instanceof ff&&p.widget instanceof yR&&f.push(p.dom);u.updateGaps(f)}updateChildren(r,s,l){let u=l?l.range.addToSet(r.slice()):r,f=this.childCursor(s);for(let p=u.length-1;;p--){let v=p>=0?u[p]:null;if(!v)break;let{fromA:y,toA:x,fromB:w,toB:C}=v,O,T,P,N;if(l&&l.range.fromB<C&&l.range.toB>w){let H=xx.build(this.view.state.doc,w,l.range.fromB,this.decorations,this.dynamicDecorationMap),X=xx.build(this.view.state.doc,l.range.toB,C,this.decorations,this.dynamicDecorationMap);T=H.breakAtStart,P=H.openStart,N=X.openEnd;let Y=this.compositionView(l);X.breakAtStart?Y.breakAfter=1:X.content.length&&Y.merge(Y.length,Y.length,X.content[0],!1,X.openStart,0)&&(Y.breakAfter=X.content[0].breakAfter,X.content.shift()),H.content.length&&Y.merge(0,0,H.content[H.content.length-1],!0,0,H.openEnd)&&H.content.pop(),O=H.content.concat(Y).concat(X.content)}else({content:O,breakAtStart:T,openStart:P,openEnd:N}=xx.build(this.view.state.doc,w,C,this.decorations,this.dynamicDecorationMap));let{i:j,off:q}=f.findPos(x,1),{i:Q,off:U}=f.findPos(y,-1);Zee(this,Q,U,j,q,O,T,P,N)}l&&this.fixCompositionDOM(l)}updateEditContextFormatting(r){this.editContextFormatting=this.editContextFormatting.map(r.changes);for(let s of r.transactions)for(let l of s.effects)l.is(Cte)&&(this.editContextFormatting=l.value)}compositionView(r){let s=new Dc(r.text.nodeValue);s.flags|=8;for(let{deco:u}of r.marks)s=new df(u,[s],s.length);let l=new ji;return l.append(s,0),l}fixCompositionDOM(r){let s=(f,p)=>{p.flags|=8|(p.children.some(y=>y.flags&7)?1:0),this.markedForComposition.add(p);let v=br.get(f);v&&v!=p&&(v.dom=null),p.setDOM(f)},l=this.childPos(r.range.fromB,1),u=this.children[l.i];s(r.line,u);for(let f=r.marks.length-1;f>=-1;f--)l=u.childPos(l.off,1),u=u.children[l.i],s(f>=0?r.marks[f].node:r.text,u)}updateSelection(r=!1,s=!1){(r||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let l=this.view.root.activeElement,u=l==this.dom,f=!u&&d6(this.dom,this.view.observer.selectionRange)&&!(l&&this.dom.contains(l));if(!(u||s||f))return;let p=this.forceSelection;this.forceSelection=!1;let v=this.view.state.selection.main,y=this.moveToLine(this.domAtPos(v.anchor)),x=v.empty?y:this.moveToLine(this.domAtPos(v.head));if(ut.gecko&&v.empty&&!this.hasComposition&&tRe(y)){let C=document.createTextNode("");this.view.observer.ignore(()=>y.node.insertBefore(C,y.node.childNodes[y.offset]||null)),y=x=new ms(C,0),p=!0}let w=this.view.observer.selectionRange;(p||!w.focusNode||(!gx(y.node,y.offset,w.anchorNode,w.anchorOffset)||!gx(x.node,x.offset,w.focusNode,w.focusOffset))&&!this.suppressWidgetCursorChange(w,v))&&(this.view.observer.ignore(()=>{ut.android&&ut.chrome&&this.dom.contains(w.focusNode)&&sRe(w.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let C=mx(this.view.root);if(C)if(v.empty){if(ut.gecko){let O=rRe(y.node,y.offset);if(O&&O!=3){let T=(O==1?Qee:Yee)(y.node,y.offset);T&&(y=new ms(T.node,T.offset))}}C.collapse(y.node,y.offset),v.bidiLevel!=null&&C.caretBidiLevel!==void 0&&(C.caretBidiLevel=v.bidiLevel)}else if(C.extend){C.collapse(y.node,y.offset);try{C.extend(x.node,x.offset)}catch{}}else{let O=document.createRange();v.anchor>v.head&&([y,x]=[x,y]),O.setEnd(x.node,x.offset),O.setStart(y.node,y.offset),C.removeAllRanges(),C.addRange(O)}f&&this.view.root.activeElement==this.dom&&(this.dom.blur(),l&&l.focus())}),this.view.observer.setSelectionRange(y,x)),this.impreciseAnchor=y.precise?null:new ms(w.anchorNode,w.anchorOffset),this.impreciseHead=x.precise?null:new ms(w.focusNode,w.focusOffset)}suppressWidgetCursorChange(r,s){return this.hasComposition&&s.empty&&gx(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)&&this.posFromDOM(r.focusNode,r.focusOffset)==s.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:r}=this,s=r.state.selection.main,l=mx(r.root),{anchorNode:u,anchorOffset:f}=r.observer.selectionRange;if(!l||!s.empty||!s.assoc||!l.modify)return;let p=ji.find(this,s.head);if(!p)return;let v=p.posAtStart;if(s.head==v||s.head==v+p.length)return;let y=this.coordsAt(s.head,-1),x=this.coordsAt(s.head,1);if(!y||!x||y.bottom>x.top)return;let w=this.domAtPos(s.head+s.assoc);l.collapse(w.node,w.offset),l.modify("move",s.assoc<0?"forward":"backward","lineboundary"),r.observer.readSelectionRange();let C=r.observer.selectionRange;r.docView.posFromDOM(C.anchorNode,C.anchorOffset)!=s.from&&l.collapse(u,f)}moveToLine(r){let s=this.dom,l;if(r.node!=s)return r;for(let u=r.offset;!l&&u<s.childNodes.length;u++){let f=br.get(s.childNodes[u]);f instanceof ji&&(l=f.domAtPos(0))}for(let u=r.offset-1;!l&&u>=0;u--){let f=br.get(s.childNodes[u]);f instanceof ji&&(l=f.domAtPos(f.length))}return l?new ms(l.node,l.offset,!0):r}nearest(r){for(let s=r;s;){let l=br.get(s);if(l&&l.rootView==this)return l;s=s.parentNode}return null}posFromDOM(r,s){let l=this.nearest(r);if(!l)throw new RangeError("Trying to find position for a DOM position outside of the document");return l.localPosFromDOM(r,s)+l.posAtStart}domAtPos(r){let{i:s,off:l}=this.childCursor().findPos(r,-1);for(;s<this.children.length-1;){let u=this.children[s];if(l<u.length||u instanceof ji)break;s++,l=0}return this.children[s].domAtPos(l)}coordsAt(r,s){let l=null,u=0;for(let f=this.length,p=this.children.length-1;p>=0;p--){let v=this.children[p],y=f-v.breakAfter,x=y-v.length;if(y<r)break;if(x<=r&&(x<r||v.covers(-1))&&(y>r||v.covers(1))&&(!l||v instanceof ji&&!(l instanceof ji&&s>=0)))l=v,u=x;else if(l&&x==r&&y==r&&v instanceof ff&&Math.abs(s)<2){if(v.deco.startSide<0)break;p&&(l=null)}f=x}return l?l.coordsAt(r-u,s):null}coordsForChar(r){let{i:s,off:l}=this.childPos(r,1),u=this.children[s];if(!(u instanceof ji))return null;for(;u.children.length;){let{i:v,off:y}=u.childPos(l,1);for(;;v++){if(v==u.children.length)return null;if((u=u.children[v]).length)break}l=y}if(!(u instanceof Dc))return null;let f=js(u.text,l);if(f==l)return null;let p=Um(u.dom,l,f).getClientRects();for(let v=0;v<p.length;v++){let y=p[v];if(v==p.length-1||y.top<y.bottom&&y.left<y.right)return y}return null}measureVisibleLineHeights(r){let s=[],{from:l,to:u}=r,f=this.view.contentDOM.clientWidth,p=f>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,v=-1,y=this.view.textDirection==Ti.LTR;for(let x=0,w=0;w<this.children.length;w++){let C=this.children[w],O=x+C.length;if(O>u)break;if(x>=l){let T=C.dom.getBoundingClientRect();if(s.push(T.height),p){let P=C.dom.lastChild,N=P?Rv(P):[];if(N.length){let j=N[N.length-1],q=y?j.right-T.left:T.right-j.left;q>v&&(v=q,this.minWidth=f,this.minWidthFrom=x,this.minWidthTo=O)}}}x=O+C.breakAfter}return s}textDirectionAt(r){let{i:s}=this.childPos(r,1);return getComputedStyle(this.children[s].dom).direction=="rtl"?Ti.RTL:Ti.LTR}measureTextSize(){for(let f of this.children)if(f instanceof ji){let p=f.measureTextSize();if(p)return p}let r=document.createElement("div"),s,l,u;return r.className="cm-line",r.style.width="99999px",r.style.position="absolute",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(r);let f=Rv(r.firstChild)[0];s=r.getBoundingClientRect().height,l=f?f.width/27:7,u=f?f.height:s,r.remove()}),{lineHeight:s,charWidth:l,textHeight:u}}childCursor(r=this.length){let s=this.children.length;return s&&(r-=this.children[--s].length),new Kee(this.children,r,s)}computeBlockGapDeco(){let r=[],s=this.view.viewState;for(let l=0,u=0;;u++){let f=u==s.viewports.length?null:s.viewports[u],p=f?f.from-1:this.length;if(p>l){let v=(s.lineBlockAt(p).bottom-s.lineBlockAt(l).top)/this.view.scaleY;r.push(vn.replace({widget:new yR(v),block:!0,inclusive:!0,isBlockGap:!0}).range(l,p))}if(!f)break;l=f.to+1}return vn.set(r)}updateDeco(){let r=1,s=this.view.state.facet(wx).map(f=>(this.dynamicDecorationMap[r++]=typeof f=="function")?f(this.view):f),l=!1,u=this.view.state.facet(Ote).map((f,p)=>{let v=typeof f=="function";return v&&(l=!0),v?f(this.view):f});for(u.length&&(this.dynamicDecorationMap[r++]=l,s.push(Vs.join(u))),this.decorations=[this.editContextFormatting,...s,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];r<this.decorations.length;)this.dynamicDecorationMap[r++]=!1;return this.decorations}scrollIntoView(r){if(r.isSnapshot){let x=this.view.viewState.lineBlockAt(r.range.head);this.view.scrollDOM.scrollTop=x.top-r.yMargin,this.view.scrollDOM.scrollLeft=r.xMargin;return}for(let x of this.view.state.facet(_te))try{if(x(this.view,r.range,r))return!0}catch(w){zs(this.view.state,w,"scroll handler")}let{range:s}=r,l=this.coordsAt(s.head,s.empty?s.assoc:s.head>s.anchor?-1:1),u;if(!l)return;!s.empty&&(u=this.coordsAt(s.anchor,s.anchor>s.head?-1:1))&&(l={left:Math.min(l.left,u.left),top:Math.min(l.top,u.top),right:Math.max(l.right,u.right),bottom:Math.max(l.bottom,u.bottom)});let f=Pte(this.view),p={left:l.left-f.left,top:l.top-f.top,right:l.right+f.right,bottom:l.bottom+f.bottom},{offsetWidth:v,offsetHeight:y}=this.view.scrollDOM;RAe(this.view.scrollDOM,p,s.head<s.anchor?-1:1,r.x,r.y,Math.max(Math.min(r.xMargin,v),-v),Math.max(Math.min(r.yMargin,y),-y),this.view.textDirection==Ti.LTR)}}function tRe(o){return o.node.nodeType==1&&o.node.firstChild&&(o.offset==0||o.node.childNodes[o.offset-1].contentEditable=="false")&&(o.offset==o.node.childNodes.length||o.node.childNodes[o.offset].contentEditable=="false")}function Mte(o,r){let s=o.observer.selectionRange;if(!s.focusNode)return null;let l=Qee(s.focusNode,s.focusOffset),u=Yee(s.focusNode,s.focusOffset),f=l||u;if(u&&l&&u.node!=l.node){let v=br.get(u.node);if(!v||v instanceof Dc&&v.text!=u.node.nodeValue)f=u;else if(o.docView.lastCompositionAfterCursor){let y=br.get(l.node);!y||y instanceof Dc&&y.text!=l.node.nodeValue||(f=u)}}if(o.docView.lastCompositionAfterCursor=f!=l,!f)return null;let p=r-f.offset;return{from:p,to:p+f.node.nodeValue.length,node:f.node}}function nRe(o,r,s){let l=Mte(o,s);if(!l)return null;let{node:u,from:f,to:p}=l,v=u.nodeValue;if(/[\n\r]/.test(v)||o.state.doc.sliceString(l.from,l.to)!=v)return null;let y=r.invertedDesc,x=new Ll(y.mapPos(f),y.mapPos(p),f,p),w=[];for(let C=u.parentNode;;C=C.parentNode){let O=br.get(C);if(O instanceof df)w.push({node:C,deco:O.mark});else{if(O instanceof ji||C.nodeName=="DIV"&&C.parentNode==o.contentDOM)return{range:x,text:u,marks:w,line:C};if(C!=o.contentDOM)w.push({node:C,deco:new yx({inclusive:!0,attributes:zAe(C),tagName:C.tagName.toLowerCase()})});else return null}}}function rRe(o,r){return o.nodeType!=1?0:(r&&o.childNodes[r-1].contentEditable=="false"?1:0)|(r<o.childNodes.length&&o.childNodes[r].contentEditable=="false"?2:0)}let iRe=class{constructor(){this.changes=[]}compareRange(r,s){vR(r,s,this.changes)}comparePoint(r,s){vR(r,s,this.changes)}};function oRe(o,r,s){let l=new iRe;return Vs.compare(o,r,s,l),l.changes}function sRe(o,r){for(let s=o;s&&s!=r;s=s.assignedSlot||s.parentNode)if(s.nodeType==1&&s.contentEditable=="false")return!0;return!1}function aRe(o,r){let s=!1;return r&&o.iterChangedRanges((l,u)=>{l<r.to&&u>r.from&&(s=!0)}),s}function lRe(o,r,s=1){let l=o.charCategorizer(r),u=o.doc.lineAt(r),f=r-u.from;if(u.length==0)return Be.cursor(r);f==0?s=1:f==u.length&&(s=-1);let p=f,v=f;s<0?p=js(u.text,f,!1):v=js(u.text,f);let y=l(u.text.slice(p,v));for(;p>0;){let x=js(u.text,p,!1);if(l(u.text.slice(x,p))!=y)break;p=x}for(;v<u.length;){let x=js(u.text,v);if(l(u.text.slice(v,x))!=y)break;v=x}return Be.range(p+u.from,v+u.from)}function cRe(o,r){return r.left>o?r.left-o:Math.max(0,o-r.right)}function uRe(o,r){return r.top>o?r.top-o:Math.max(0,o-r.bottom)}function kR(o,r){return o.top<r.bottom-1&&o.bottom>r.top+1}function Ate(o,r){return r<o.top?{top:r,left:o.left,right:o.right,bottom:o.bottom}:o}function Rte(o,r){return r>o.bottom?{top:o.top,left:o.left,right:o.right,bottom:r}:o}function PR(o,r,s){let l,u,f,p,v=!1,y,x,w,C;for(let P=o.firstChild;P;P=P.nextSibling){let N=Rv(P);for(let j=0;j<N.length;j++){let q=N[j];u&&kR(u,q)&&(q=Ate(Rte(q,u.bottom),u.top));let Q=cRe(r,q),U=uRe(s,q);if(Q==0&&U==0)return P.nodeType==3?Lte(P,r,s):PR(P,r,s);if(!l||p>U||p==U&&f>Q){l=P,u=q,f=Q,p=U;let H=U?s<q.top?-1:1:Q?r<q.left?-1:1:0;v=!H||(H>0?j<N.length-1:j>0)}Q==0?s>q.bottom&&(!w||w.bottom<q.bottom)?(y=P,w=q):s<q.top&&(!C||C.top>q.top)&&(x=P,C=q):w&&kR(w,q)?w=Rte(w,q.bottom):C&&kR(C,q)&&(C=Ate(C,q.top))}}if(w&&w.bottom>=s?(l=y,u=w):C&&C.top<=s&&(l=x,u=C),!l)return{node:o,offset:0};let O=Math.max(u.left,Math.min(u.right,r));if(l.nodeType==3)return Lte(l,O,s);if(v&&l.contentEditable!="false")return PR(l,O,s);let T=Array.prototype.indexOf.call(o.childNodes,l)+(r>=(u.left+u.right)/2?1:0);return{node:o,offset:T}}function Lte(o,r,s){let l=o.nodeValue.length,u=-1,f=1e9,p=0;for(let v=0;v<l;v++){let y=Um(o,v,v+1).getClientRects();for(let x=0;x<y.length;x++){let w=y[x];if(w.top==w.bottom)continue;p||(p=r-w.left);let C=(w.top>s?w.top-s:s-w.bottom)-1;if(w.left-1<=r&&w.right+1>=r&&C<f){let O=r>=(w.left+w.right)/2,T=O;if((ut.chrome||ut.gecko)&&Um(o,v).getBoundingClientRect().left==w.right&&(T=!O),C<=0)return{node:o,offset:v+(T?1:0)};u=v+(T?1:0),f=C}}}return{node:o,offset:u>-1?u:p>0?o.nodeValue.length:0}}function $te(o,r,s,l=-1){var u,f;let p=o.contentDOM.getBoundingClientRect(),v=p.top+o.viewState.paddingTop,y,{docHeight:x}=o.viewState,{x:w,y:C}=r,O=C-v;if(O<0)return 0;if(O>x)return o.state.doc.length;for(let H=o.viewState.heightOracle.textHeight/2,X=!1;y=o.elementAtHeight(O),y.type!=Lu.Text;)for(;O=l>0?y.bottom+H:y.top-H,!(O>=0&&O<=x);){if(X)return s?null:0;X=!0,l=-l}C=v+O;let T=y.from;if(T<o.viewport.from)return o.viewport.from==0?0:s?null:Nte(o,p,y,w,C);if(T>o.viewport.to)return o.viewport.to==o.state.doc.length?o.state.doc.length:s?null:Nte(o,p,y,w,C);let P=o.dom.ownerDocument,N=o.root.elementFromPoint?o.root:P,j=N.elementFromPoint(w,C);j&&!o.contentDOM.contains(j)&&(j=null),j||(w=Math.max(p.left+1,Math.min(p.right-1,w)),j=N.elementFromPoint(w,C),j&&!o.contentDOM.contains(j)&&(j=null));let q,Q=-1;if(j&&((u=o.docView.nearest(j))===null||u===void 0?void 0:u.isEditable)!=!1){if(P.caretPositionFromPoint){let H=P.caretPositionFromPoint(w,C);H&&({offsetNode:q,offset:Q}=H)}else if(P.caretRangeFromPoint){let H=P.caretRangeFromPoint(w,C);H&&({startContainer:q,startOffset:Q}=H,(!o.contentDOM.contains(q)||ut.safari&&dRe(q,Q,w)||ut.chrome&&fRe(q,Q,w))&&(q=void 0))}}if(!q||!o.docView.dom.contains(q)){let H=ji.find(o.docView,T);if(!H)return O>y.top+y.height/2?y.to:y.from;({node:q,offset:Q}=PR(H.dom,w,C))}let U=o.docView.nearest(q);if(!U)return null;if(U.isWidget&&((f=U.dom)===null||f===void 0?void 0:f.nodeType)==1){let H=U.dom.getBoundingClientRect();return r.y<H.top||r.y<=H.bottom&&r.x<=(H.left+H.right)/2?U.posAtStart:U.posAtEnd}else return U.localPosFromDOM(q,Q)+U.posAtStart}function Nte(o,r,s,l,u){let f=Math.round((l-r.left)*o.defaultCharacterWidth);if(o.lineWrapping&&s.height>o.defaultLineHeight*1.5){let v=o.viewState.heightOracle.textHeight,y=Math.floor((u-s.top-(o.defaultLineHeight-v)*.5)/v);f+=y*o.viewState.heightOracle.lineLength}let p=o.state.sliceDoc(s.from,s.to);return s.from+DAe(p,f,o.state.tabSize)}function dRe(o,r,s){let l;if(o.nodeType!=3||r!=(l=o.nodeValue.length))return!1;for(let u=o.nextSibling;u;u=u.nextSibling)if(u.nodeType!=1||u.nodeName!="BR")return!1;return Um(o,l-1,l).getBoundingClientRect().left>s}function fRe(o,r,s){if(r!=0)return!1;for(let u=o;;){let f=u.parentNode;if(!f||f.nodeType!=1||f.firstChild!=u)return!1;if(f.classList.contains("cm-line"))break;u=f}let l=o.nodeType==1?o.getBoundingClientRect():Um(o,0,Math.max(o.nodeValue.length,1)).getBoundingClientRect();return s-l.left>5}function hRe(o,r){let s=o.lineBlockAt(r);if(Array.isArray(s.type)){for(let l of s.type)if(l.to>r||l.to==r&&(l.to==s.to||l.type==Lu.Text))return l}return s}function pRe(o,r,s,l){let u=hRe(o,r.head),f=!l||u.type!=Lu.Text||!(o.lineWrapping||u.widgetLineBreaks)?null:o.coordsAtPos(r.assoc<0&&r.head>u.from?r.head-1:r.head);if(f){let p=o.dom.getBoundingClientRect(),v=o.textDirectionAt(u.from),y=o.posAtCoords({x:s==(v==Ti.LTR)?p.right-1:p.left+1,y:(f.top+f.bottom)/2});if(y!=null)return Be.cursor(y,s?-1:1)}return Be.cursor(s?u.to:u.from,s?-1:1)}function Fte(o,r,s,l){let u=o.state.doc.lineAt(r.head),f=o.bidiSpans(u),p=o.textDirectionAt(u.from);for(let v=r,y=null;;){let x=KAe(u,f,p,v,s),w=mte;if(!x){if(u.number==(s?o.state.doc.lines:1))return v;w=`
`,u=o.state.doc.line(u.number+(s?1:-1)),f=o.bidiSpans(u),x=o.visualLineSide(u,!s)}if(y){if(!y(w))return v}else{if(!l)return x;y=l(w)}v=x}}function mRe(o,r,s){let l=o.state.charCategorizer(r),u=l(s);return f=>{let p=l(f);return u==Rl.Space&&(u=p),u==p}}function gRe(o,r,s,l){let u=r.head,f=s?1:-1;if(u==(s?o.state.doc.length:0))return Be.cursor(u,r.assoc);let p=r.goalColumn,v,y=o.contentDOM.getBoundingClientRect(),x=o.coordsAtPos(u,r.assoc||-1),w=o.documentTop;if(x)p==null&&(p=x.left-y.left),v=f<0?x.top:x.bottom;else{let T=o.viewState.lineBlockAt(u);p==null&&(p=Math.min(y.right-y.left,o.defaultCharacterWidth*(u-T.from))),v=(f<0?T.top:T.bottom)+w}let C=y.left+p,O=l??o.viewState.heightOracle.textHeight>>1;for(let T=0;;T+=10){let P=v+(O+T)*f,N=$te(o,{x:C,y:P},!1,f);if(P<y.top||P>y.bottom||(f<0?N<u:N>u)){let j=o.docView.coordsForChar(N),q=!j||P<j.top?-1:1;return Be.cursor(N,q,void 0,p)}}}function y6(o,r,s){for(;;){let l=0;for(let u of o)u.between(r-1,r+1,(f,p,v)=>{if(r>f&&r<p){let y=l||s||(r-f<p-r?-1:1);r=y<0?f:p,l=y}});if(!l)return r}}function IR(o,r,s){let l=y6(o.state.facet(TR).map(u=>u(o)),s.from,r.head>s.from?-1:1);return l==s.from?s:Be.cursor(l,l<s.from?1:-1)}let Cx="\uFFFF";class vRe{constructor(r,s){this.points=r,this.text="",this.lineSeparator=s.facet(Oc.lineSeparator)}append(r){this.text+=r}lineBreak(){this.text+=Cx}readRange(r,s){if(!r)return this;let l=r.parentNode;for(let u=r;;){this.findPointBefore(l,u);let f=this.text.length;this.readNode(u);let p=u.nextSibling;if(p==s)break;let v=br.get(u),y=br.get(p);(v&&y?v.breakAfter:(v?v.breakAfter:f6(u))||f6(p)&&(u.nodeName!="BR"||u.cmIgnore)&&this.text.length>f)&&this.lineBreak(),u=p}return this.findPointBefore(l,s),this}readTextNode(r){let s=r.nodeValue;for(let l of this.points)l.node==r&&(l.pos=this.text.length+Math.min(l.offset,s.length));for(let l=0,u=this.lineSeparator?null:/\r\n?|\n/g;;){let f=-1,p=1,v;if(this.lineSeparator?(f=s.indexOf(this.lineSeparator,l),p=this.lineSeparator.length):(v=u.exec(s))&&(f=v.index,p=v[0].length),this.append(s.slice(l,f<0?s.length:f)),f<0)break;if(this.lineBreak(),p>1)for(let y of this.points)y.node==r&&y.pos>this.text.length&&(y.pos-=p-1);l=f+p}}readNode(r){if(r.cmIgnore)return;let s=br.get(r),l=s&&s.overrideDOMText;if(l!=null){this.findPointInside(r,l.length);for(let u=l.iter();!u.next().done;)u.lineBreak?this.lineBreak():this.append(u.value)}else r.nodeType==3?this.readTextNode(r):r.nodeName=="BR"?r.nextSibling&&this.lineBreak():r.nodeType==1&&this.readRange(r.firstChild,null)}findPointBefore(r,s){for(let l of this.points)l.node==r&&r.childNodes[l.offset]==s&&(l.pos=this.text.length)}findPointInside(r,s){for(let l of this.points)(r.nodeType==3?l.node==r:r.contains(l.node))&&(l.pos=this.text.length+(yRe(r,l.node,l.offset)?s:0))}}function yRe(o,r,s){for(;;){if(!r||s<uf(r))return!1;if(r==o)return!0;s=Hm(r)+1,r=r.parentNode}}class Bte{constructor(r,s){this.node=r,this.offset=s,this.pos=-1}}class bRe{constructor(r,s,l,u){this.typeOver=u,this.bounds=null,this.text="",this.domChanged=s>-1;let{impreciseHead:f,impreciseAnchor:p}=r.docView;if(r.state.readOnly&&s>-1)this.newSel=null;else if(s>-1&&(this.bounds=r.docView.domBoundsAround(s,l,0))){let v=f||p?[]:wRe(r),y=new vRe(v,r.state);y.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=y.text,this.newSel=_Re(v,this.bounds.from)}else{let v=r.observer.selectionRange,y=f&&f.node==v.focusNode&&f.offset==v.focusOffset||!cR(r.contentDOM,v.focusNode)?r.state.selection.main.head:r.docView.posFromDOM(v.focusNode,v.focusOffset),x=p&&p.node==v.anchorNode&&p.offset==v.anchorOffset||!cR(r.contentDOM,v.anchorNode)?r.state.selection.main.anchor:r.docView.posFromDOM(v.anchorNode,v.anchorOffset),w=r.viewport;if((ut.ios||ut.chrome)&&r.state.selection.main.empty&&y!=x&&(w.from>0||w.to<r.state.doc.length)){let C=Math.min(y,x),O=Math.max(y,x),T=w.from-C,P=w.to-O;(T==0||T==1||C==0)&&(P==0||P==-1||O==r.state.doc.length)&&(y=0,x=r.state.doc.length)}this.newSel=Be.single(x,y)}}}function jte(o,r){let s,{newSel:l}=r,u=o.state.selection.main,f=o.inputState.lastKeyTime>Date.now()-100?o.inputState.lastKeyCode:-1;if(r.bounds){let{from:p,to:v}=r.bounds,y=u.from,x=null;(f===8||ut.android&&r.text.length<v-p)&&(y=u.to,x="end");let w=ERe(o.state.doc.sliceString(p,v,Cx),r.text,y-p,x);w&&(ut.chrome&&f==13&&w.toB==w.from+2&&r.text.slice(w.from,w.toB)==Cx+Cx&&w.toB--,s={from:p+w.from,to:p+w.toA,insert:Vn.of(r.text.slice(w.from,w.toB).split(Cx))})}else l&&(!o.hasFocus&&o.state.facet(Jh)||l.main.eq(u))&&(l=null);if(!s&&!l)return!1;if(!s&&r.typeOver&&!u.empty&&l&&l.main.empty?s={from:u.from,to:u.to,insert:o.state.doc.slice(u.from,u.to)}:s&&s.from>=u.from&&s.to<=u.to&&(s.from!=u.from||s.to!=u.to)&&u.to-u.from-(s.to-s.from)<=4?s={from:u.from,to:u.to,insert:o.state.doc.slice(u.from,s.from).append(s.insert).append(o.state.doc.slice(s.to,u.to))}:(ut.mac||ut.android)&&s&&s.from==s.to&&s.from==u.head-1&&/^\. ?$/.test(s.insert.toString())&&o.contentDOM.getAttribute("autocorrect")=="off"?(l&&s.insert.length==2&&(l=Be.single(l.main.anchor-1,l.main.head-1)),s={from:u.from,to:u.to,insert:Vn.of([" "])}):ut.chrome&&s&&s.from==s.to&&s.from==u.head&&s.insert.toString()==`
 `&&o.lineWrapping&&(l&&(l=Be.single(l.main.anchor-1,l.main.head-1)),s={from:u.from,to:u.to,insert:Vn.of([" "])}),s)return MR(o,s,l,f);if(l&&!l.main.eq(u)){let p=!1,v="select";return o.inputState.lastSelectionTime>Date.now()-50&&(o.inputState.lastSelectionOrigin=="select"&&(p=!0),v=o.inputState.lastSelectionOrigin),o.dispatch({selection:l,scrollIntoView:p,userEvent:v}),!0}else return!1}function MR(o,r,s,l=-1){if(ut.ios&&o.inputState.flushIOSKey(r))return!0;let u=o.state.selection.main;if(ut.android&&(r.to==u.to&&(r.from==u.from||r.from==u.from-1&&o.state.sliceDoc(r.from,u.from)==" ")&&r.insert.length==1&&r.insert.lines==2&&$v(o.contentDOM,"Enter",13)||(r.from==u.from-1&&r.to==u.to&&r.insert.length==0||l==8&&r.insert.length<r.to-r.from&&r.to>u.head)&&$v(o.contentDOM,"Backspace",8)||r.from==u.from&&r.to==u.to+1&&r.insert.length==0&&$v(o.contentDOM,"Delete",46)))return!0;let f=r.insert.toString();o.inputState.composing>=0&&o.inputState.composing++;let p,v=()=>p||(p=xRe(o,r,s));return o.state.facet(xte).some(y=>y(o,r.from,r.to,f,v))||o.dispatch(v()),!0}function xRe(o,r,s){let l,u=o.state,f=u.selection.main;if(r.from>=f.from&&r.to<=f.to&&r.to-r.from>=(f.to-f.from)/3&&(!s||s.main.empty&&s.main.from==r.from+r.insert.length)&&o.inputState.composing<0){let v=f.from<r.from?u.sliceDoc(f.from,r.from):"",y=f.to>r.to?u.sliceDoc(r.to,f.to):"";l=u.replaceSelection(o.state.toText(v+r.insert.sliceString(0,void 0,o.state.lineBreak)+y))}else{let v=u.changes(r),y=s&&s.main.to<=v.newLength?s.main:void 0;if(u.selection.ranges.length>1&&o.inputState.composing>=0&&r.to<=f.to&&r.to>=f.to-10){let x=o.state.sliceDoc(r.from,r.to),w,C=s&&Mte(o,s.main.head);if(C){let P=r.insert.length-(r.to-r.from);w={from:C.from,to:C.to-P}}else w=o.state.doc.lineAt(f.head);let O=f.to-r.to,T=f.to-f.from;l=u.changeByRange(P=>{if(P.from==f.from&&P.to==f.to)return{changes:v,range:y||P.map(v)};let N=P.to-O,j=N-x.length;if(P.to-P.from!=T||o.state.sliceDoc(j,N)!=x||P.to>=w.from&&P.from<=w.to)return{range:P};let q=u.changes({from:j,to:N,insert:r.insert}),Q=P.to-f.to;return{changes:q,range:y?Be.range(Math.max(0,y.anchor+Q),Math.max(0,y.head+Q)):P.map(q)}})}else l={changes:v,selection:y&&u.selection.replaceRange(y)}}let p="input.type";return(o.composing||o.inputState.compositionPendingChange&&o.inputState.compositionEndedAt>Date.now()-50)&&(o.inputState.compositionPendingChange=!1,p+=".compose",o.inputState.compositionFirstChange&&(p+=".start",o.inputState.compositionFirstChange=!1)),u.update(l,{userEvent:p,scrollIntoView:!0})}function ERe(o,r,s,l){let u=Math.min(o.length,r.length),f=0;for(;f<u&&o.charCodeAt(f)==r.charCodeAt(f);)f++;if(f==u&&o.length==r.length)return null;let p=o.length,v=r.length;for(;p>0&&v>0&&o.charCodeAt(p-1)==r.charCodeAt(v-1);)p--,v--;if(l=="end"){let y=Math.max(0,f-Math.min(p,v));s-=p+y-f}if(p<f&&o.length<r.length){let y=s<=f&&s>=p?f-s:0;f-=y,v=f+(v-p),p=f}else if(v<f){let y=s<=f&&s>=v?f-s:0;f-=y,p=f+(p-v),v=f}return{from:f,toA:p,toB:v}}function wRe(o){let r=[];if(o.root.activeElement!=o.contentDOM)return r;let{anchorNode:s,anchorOffset:l,focusNode:u,focusOffset:f}=o.observer.selectionRange;return s&&(r.push(new Bte(s,l)),(u!=s||f!=l)&&r.push(new Bte(u,f))),r}function _Re(o,r){if(o.length==0)return null;let s=o[0].pos,l=o.length==2?o[1].pos:s;return s>-1&&l>-1?Be.single(s+r,l+r):null}class CRe{setSelectionOrigin(r){this.lastSelectionOrigin=r,this.lastSelectionTime=Date.now()}constructor(r){this.view=r,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=r.hasFocus,ut.safari&&r.contentDOM.addEventListener("input",()=>null),ut.gecko&&jRe(r.contentDOM.ownerDocument)}handleEvent(r){!MRe(this.view,r)||this.ignoreDuringComposition(r)||r.type=="keydown"&&this.keydown(r)||this.runHandlers(r.type,r)}runHandlers(r,s){let l=this.handlers[r];if(l){for(let u of l.observers)u(this.view,s);for(let u of l.handlers){if(s.defaultPrevented)break;if(u(this.view,s)){s.preventDefault();break}}}}ensureHandlers(r){let s=SRe(r),l=this.handlers,u=this.view.contentDOM;for(let f in s)if(f!="scroll"){let p=!s[f].handlers.length,v=l[f];v&&p!=!v.handlers.length&&(u.removeEventListener(f,this.handleEvent),v=null),v||u.addEventListener(f,this.handleEvent,{passive:p})}for(let f in l)f!="scroll"&&!s[f]&&u.removeEventListener(f,this.handleEvent);this.handlers=s}keydown(r){if(this.lastKeyCode=r.keyCode,this.lastKeyTime=Date.now(),r.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&r.keyCode!=27&&Hte.indexOf(r.keyCode)<0&&(this.tabFocusMode=-1),ut.android&&ut.chrome&&!r.synthetic&&(r.keyCode==13||r.keyCode==8))return this.view.observer.delayAndroidKey(r.key,r.keyCode),!0;let s;return ut.ios&&!r.synthetic&&!r.altKey&&!r.metaKey&&((s=zte.find(l=>l.keyCode==r.keyCode))&&!r.ctrlKey||ORe.indexOf(r.key)>-1&&r.ctrlKey&&!r.shiftKey)?(this.pendingIOSKey=s||r,setTimeout(()=>this.flushIOSKey(),250),!0):(r.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(r){let s=this.pendingIOSKey;return!s||s.key=="Enter"&&r&&r.from<r.to&&/^\S+$/.test(r.insert.toString())?!1:(this.pendingIOSKey=void 0,$v(this.view.contentDOM,s.key,s.keyCode,s instanceof KeyboardEvent?s:void 0))}ignoreDuringComposition(r){return/^key/.test(r.type)?this.composing>0?!0:ut.safari&&!ut.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(r){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=r}update(r){this.view.observer.update(r),this.mouseSelection&&this.mouseSelection.update(r),this.draggedContent&&r.docChanged&&(this.draggedContent=this.draggedContent.map(r.changes)),r.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Vte(o,r){return(s,l)=>{try{return r.call(o,l,s)}catch(u){zs(s.state,u)}}}function SRe(o){let r=Object.create(null);function s(l){return r[l]||(r[l]={observers:[],handlers:[]})}for(let l of o){let u=l.spec;if(u&&u.domEventHandlers)for(let f in u.domEventHandlers){let p=u.domEventHandlers[f];p&&s(f).handlers.push(Vte(l.value,p))}if(u&&u.domEventObservers)for(let f in u.domEventObservers){let p=u.domEventObservers[f];p&&s(f).observers.push(Vte(l.value,p))}}for(let l in Tc)s(l).handlers.push(Tc[l]);for(let l in $l)s(l).observers.push($l[l]);return r}let zte=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],ORe="dthko",Hte=[16,17,18,20,91,92,224,225],b6=6;function x6(o){return Math.max(0,o)*.7+8}function DRe(o,r){return Math.max(Math.abs(o.clientX-r.clientX),Math.abs(o.clientY-r.clientY))}class TRe{constructor(r,s,l,u){this.view=r,this.startEvent=s,this.style=l,this.mustSelect=u,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=s,this.scrollParents=LAe(r.contentDOM),this.atoms=r.state.facet(TR).map(p=>p(r));let f=r.contentDOM.ownerDocument;f.addEventListener("mousemove",this.move=this.move.bind(this)),f.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=s.shiftKey,this.multiple=r.state.facet(Oc.allowMultipleSelections)&&kRe(r,s),this.dragging=IRe(r,s)&&Zte(s)==1?null:!1}start(r){this.dragging===!1&&this.select(r)}move(r){if(r.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&DRe(this.startEvent,r)<10)return;this.select(this.lastEvent=r);let s=0,l=0,u=0,f=0,p=this.view.win.innerWidth,v=this.view.win.innerHeight;this.scrollParents.x&&({left:u,right:p}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:f,bottom:v}=this.scrollParents.y.getBoundingClientRect());let y=Pte(this.view);r.clientX-y.left<=u+b6?s=-x6(u-r.clientX):r.clientX+y.right>=p-b6&&(s=x6(r.clientX-p)),r.clientY-y.top<=f+b6?l=-x6(f-r.clientY):r.clientY+y.bottom>=v-b6&&(l=x6(r.clientY-v)),this.setScrollSpeed(s,l)}up(r){this.dragging==null&&this.select(this.lastEvent),this.dragging||r.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let r=this.view.contentDOM.ownerDocument;r.removeEventListener("mousemove",this.move),r.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(r,s){this.scrollSpeed={x:r,y:s},r||s?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:r,y:s}=this.scrollSpeed;r&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=r,r=0),s&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=s,s=0),(r||s)&&this.view.win.scrollBy(r,s),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(r){let s=null;for(let l=0;l<r.ranges.length;l++){let u=r.ranges[l],f=null;if(u.empty){let p=y6(this.atoms,u.from,0);p!=u.from&&(f=Be.cursor(p,-1))}else{let p=y6(this.atoms,u.from,-1),v=y6(this.atoms,u.to,1);(p!=u.from||v!=u.to)&&(f=Be.range(u.from==u.anchor?p:v,u.from==u.head?p:v))}f&&(s||(s=r.ranges.slice()),s[l]=f)}return s?Be.create(s,r.mainIndex):r}select(r){let{view:s}=this,l=this.skipAtoms(this.style.get(r,this.extend,this.multiple));(this.mustSelect||!l.eq(s.state.selection,this.dragging===!1))&&this.view.dispatch({selection:l,userEvent:"select.pointer"}),this.mustSelect=!1}update(r){r.transactions.some(s=>s.isUserEvent("input.type"))?this.destroy():this.style.update(r)&&setTimeout(()=>this.select(this.lastEvent),20)}}function kRe(o,r){let s=o.state.facet(gte);return s.length?s[0](r):ut.mac?r.metaKey:r.ctrlKey}function PRe(o,r){let s=o.state.facet(vte);return s.length?s[0](r):ut.mac?!r.altKey:!r.ctrlKey}function IRe(o,r){let{main:s}=o.state.selection;if(s.empty)return!1;let l=mx(o.root);if(!l||l.rangeCount==0)return!0;let u=l.getRangeAt(0).getClientRects();for(let f=0;f<u.length;f++){let p=u[f];if(p.left<=r.clientX&&p.right>=r.clientX&&p.top<=r.clientY&&p.bottom>=r.clientY)return!0}return!1}function MRe(o,r){if(!r.bubbles)return!0;if(r.defaultPrevented)return!1;for(let s=r.target,l;s!=o.contentDOM;s=s.parentNode)if(!s||s.nodeType==11||(l=br.get(s))&&l.ignoreEvent(r))return!1;return!0}let Tc=Object.create(null),$l=Object.create(null),Ute=ut.ie&&ut.ie_version<15||ut.ios&&ut.webkit_version<604;function ARe(o){let r=o.dom.parentNode;if(!r)return;let s=r.appendChild(document.createElement("textarea"));s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus(),setTimeout(()=>{o.focus(),s.remove(),qte(o,s.value)},50)}function E6(o,r,s){for(let l of o.facet(r))s=l(s,o);return s}function qte(o,r){r=E6(o.state,CR,r);let{state:s}=o,l,u=1,f=s.toText(r),p=f.lines==s.selection.ranges.length;if(AR!=null&&s.selection.ranges.every(y=>y.empty)&&AR==f.toString()){let y=-1;l=s.changeByRange(x=>{let w=s.doc.lineAt(x.from);if(w.from==y)return{range:x};y=w.from;let C=s.toText((p?f.line(u++).text:r)+s.lineBreak);return{changes:{from:w.from,insert:C},range:Be.cursor(x.from+C.length)}})}else p?l=s.changeByRange(y=>{let x=f.line(u++);return{changes:{from:y.from,to:y.to,insert:x.text},range:Be.cursor(y.from+x.length)}}):l=s.replaceSelection(f);o.dispatch(l,{userEvent:"input.paste",scrollIntoView:!0})}$l.scroll=o=>{o.inputState.lastScrollTop=o.scrollDOM.scrollTop,o.inputState.lastScrollLeft=o.scrollDOM.scrollLeft},Tc.keydown=(o,r)=>(o.inputState.setSelectionOrigin("select"),r.keyCode==27&&o.inputState.tabFocusMode!=0&&(o.inputState.tabFocusMode=Date.now()+2e3),!1),$l.touchstart=(o,r)=>{o.inputState.lastTouchTime=Date.now(),o.inputState.setSelectionOrigin("select.pointer")},$l.touchmove=o=>{o.inputState.setSelectionOrigin("select.pointer")},Tc.mousedown=(o,r)=>{if(o.observer.flush(),o.inputState.lastTouchTime>Date.now()-2e3)return!1;let s=null;for(let l of o.state.facet(yte))if(s=l(o,r),s)break;if(!s&&r.button==0&&(s=$Re(o,r)),s){let l=!o.hasFocus;o.inputState.startMouseSelection(new TRe(o,r,s,l)),l&&o.observer.ignore(()=>{Uee(o.contentDOM);let f=o.root.activeElement;f&&!f.contains(o.contentDOM)&&f.blur()});let u=o.inputState.mouseSelection;if(u)return u.start(r),u.dragging===!1}return!1};function Wte(o,r,s,l){if(l==1)return Be.cursor(r,s);if(l==2)return lRe(o.state,r,s);{let u=ji.find(o.docView,r),f=o.state.doc.lineAt(u?u.posAtEnd:r),p=u?u.posAtStart:f.from,v=u?u.posAtEnd:f.to;return v<o.state.doc.length&&v==f.to&&v++,Be.range(p,v)}}let Gte=(o,r,s)=>r>=s.top&&r<=s.bottom&&o>=s.left&&o<=s.right;function RRe(o,r,s,l){let u=ji.find(o.docView,r);if(!u)return 1;let f=r-u.posAtStart;if(f==0)return 1;if(f==u.length)return-1;let p=u.coordsAt(f,-1);if(p&&Gte(s,l,p))return-1;let v=u.coordsAt(f,1);return v&&Gte(s,l,v)?1:p&&p.bottom>=l?-1:1}function Qte(o,r){let s=o.posAtCoords({x:r.clientX,y:r.clientY},!1);return{pos:s,bias:RRe(o,s,r.clientX,r.clientY)}}let LRe=ut.ie&&ut.ie_version<=11,Yte=null,Xte=0,Kte=0;function Zte(o){if(!LRe)return o.detail;let r=Yte,s=Kte;return Yte=o,Kte=Date.now(),Xte=!r||s>Date.now()-400&&Math.abs(r.clientX-o.clientX)<2&&Math.abs(r.clientY-o.clientY)<2?(Xte+1)%3:1}function $Re(o,r){let s=Qte(o,r),l=Zte(r),u=o.state.selection;return{update(f){f.docChanged&&(s.pos=f.changes.mapPos(s.pos),u=u.map(f.changes))},get(f,p,v){let y=Qte(o,f),x,w=Wte(o,y.pos,y.bias,l);if(s.pos!=y.pos&&!p){let C=Wte(o,s.pos,s.bias,l),O=Math.min(C.from,w.from),T=Math.max(C.to,w.to);w=O<w.from?Be.range(O,T):Be.range(T,O)}return p?u.replaceRange(u.main.extend(w.from,w.to)):v&&l==1&&u.ranges.length>1&&(x=NRe(u,y.pos))?x:v?u.addRange(w):Be.create([w])}}}function NRe(o,r){for(let s=0;s<o.ranges.length;s++){let{from:l,to:u}=o.ranges[s];if(l<=r&&u>=r)return Be.create(o.ranges.slice(0,s).concat(o.ranges.slice(s+1)),o.mainIndex==s?0:o.mainIndex-(o.mainIndex>s?1:0))}return null}Tc.dragstart=(o,r)=>{let{selection:{main:s}}=o.state;if(r.target.draggable){let u=o.docView.nearest(r.target);if(u&&u.isWidget){let f=u.posAtStart,p=f+u.length;(f>=s.to||p<=s.from)&&(s=Be.range(f,p))}}let{inputState:l}=o;return l.mouseSelection&&(l.mouseSelection.dragging=!0),l.draggedContent=s,r.dataTransfer&&(r.dataTransfer.setData("Text",E6(o.state,SR,o.state.sliceDoc(s.from,s.to))),r.dataTransfer.effectAllowed="copyMove"),!1},Tc.dragend=o=>(o.inputState.draggedContent=null,!1);function Jte(o,r,s,l){if(s=E6(o.state,CR,s),!s)return;let u=o.posAtCoords({x:r.clientX,y:r.clientY},!1),{draggedContent:f}=o.inputState,p=l&&f&&PRe(o,r)?{from:f.from,to:f.to}:null,v={from:u,insert:s},y=o.state.changes(p?[p,v]:v);o.focus(),o.dispatch({changes:y,selection:{anchor:y.mapPos(u,-1),head:y.mapPos(u,1)},userEvent:p?"move.drop":"input.drop"}),o.inputState.draggedContent=null}Tc.drop=(o,r)=>{if(!r.dataTransfer)return!1;if(o.state.readOnly)return!0;let s=r.dataTransfer.files;if(s&&s.length){let l=Array(s.length),u=0,f=()=>{++u==s.length&&Jte(o,r,l.filter(p=>p!=null).join(o.state.lineBreak),!1)};for(let p=0;p<s.length;p++){let v=new FileReader;v.onerror=f,v.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(v.result)||(l[p]=v.result),f()},v.readAsText(s[p])}return!0}else{let l=r.dataTransfer.getData("Text");if(l)return Jte(o,r,l,!0),!0}return!1},Tc.paste=(o,r)=>{if(o.state.readOnly)return!0;o.observer.flush();let s=Ute?null:r.clipboardData;return s?(qte(o,s.getData("text/plain")||s.getData("text/uri-list")),!0):(ARe(o),!1)};function FRe(o,r){let s=o.dom.parentNode;if(!s)return;let l=s.appendChild(document.createElement("textarea"));l.style.cssText="position: fixed; left: -10000px; top: 10px",l.value=r,l.focus(),l.selectionEnd=r.length,l.selectionStart=0,setTimeout(()=>{l.remove(),o.focus()},50)}function BRe(o){let r=[],s=[],l=!1;for(let u of o.selection.ranges)u.empty||(r.push(o.sliceDoc(u.from,u.to)),s.push(u));if(!r.length){let u=-1;for(let{from:f}of o.selection.ranges){let p=o.doc.lineAt(f);p.number>u&&(r.push(p.text),s.push({from:p.from,to:Math.min(o.doc.length,p.to+1)})),u=p.number}l=!0}return{text:E6(o,SR,r.join(o.lineBreak)),ranges:s,linewise:l}}let AR=null;Tc.copy=Tc.cut=(o,r)=>{let{text:s,ranges:l,linewise:u}=BRe(o.state);if(!s&&!u)return!1;AR=u?s:null,r.type=="cut"&&!o.state.readOnly&&o.dispatch({changes:l,scrollIntoView:!0,userEvent:"delete.cut"});let f=Ute?null:r.clipboardData;return f?(f.clearData(),f.setData("text/plain",s),!0):(FRe(o,s),!1)};let ene=Vm.define();function tne(o,r){let s=[];for(let l of o.facet(Ete)){let u=l(o,r);u&&s.push(u)}return s?o.update({effects:s,annotations:ene.of(!0)}):null}function nne(o){setTimeout(()=>{let r=o.hasFocus;if(r!=o.inputState.notifiedFocused){let s=tne(o.state,r);s?o.dispatch(s):o.update([])}},10)}$l.focus=o=>{o.inputState.lastFocusTime=Date.now(),!o.scrollDOM.scrollTop&&(o.inputState.lastScrollTop||o.inputState.lastScrollLeft)&&(o.scrollDOM.scrollTop=o.inputState.lastScrollTop,o.scrollDOM.scrollLeft=o.inputState.lastScrollLeft),nne(o)},$l.blur=o=>{o.observer.clearSelectionRange(),nne(o)},$l.compositionstart=$l.compositionupdate=o=>{o.observer.editContext||(o.inputState.compositionFirstChange==null&&(o.inputState.compositionFirstChange=!0),o.inputState.composing<0&&(o.inputState.composing=0))},$l.compositionend=o=>{o.observer.editContext||(o.inputState.composing=-1,o.inputState.compositionEndedAt=Date.now(),o.inputState.compositionPendingKey=!0,o.inputState.compositionPendingChange=o.observer.pendingRecords().length>0,o.inputState.compositionFirstChange=null,ut.chrome&&ut.android?o.observer.flushSoon():o.inputState.compositionPendingChange?Promise.resolve().then(()=>o.observer.flush()):setTimeout(()=>{o.inputState.composing<0&&o.docView.hasComposition&&o.update([])},50))},$l.contextmenu=o=>{o.inputState.lastContextMenu=Date.now()},Tc.beforeinput=(o,r)=>{var s,l;if(r.inputType=="insertReplacementText"&&o.observer.editContext){let f=(s=r.dataTransfer)===null||s===void 0?void 0:s.getData("text/plain"),p=r.getTargetRanges();if(f&&p.length){let v=p[0],y=o.posAtDOM(v.startContainer,v.startOffset),x=o.posAtDOM(v.endContainer,v.endOffset);return MR(o,{from:y,to:x,insert:o.state.toText(f)},null),!0}}let u;if(ut.chrome&&ut.android&&(u=zte.find(f=>f.inputType==r.inputType))&&(o.observer.delayAndroidKey(u.key,u.keyCode),u.key=="Backspace"||u.key=="Delete")){let f=((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0;setTimeout(()=>{var p;(((p=window.visualViewport)===null||p===void 0?void 0:p.height)||0)>f+10&&o.hasFocus&&(o.contentDOM.blur(),o.focus())},100)}return ut.ios&&r.inputType=="deleteContentForward"&&o.observer.flushSoon(),ut.safari&&r.inputType=="insertText"&&o.inputState.composing>=0&&setTimeout(()=>$l.compositionend(o,r),20),!1};let rne=new Set;function jRe(o){rne.has(o)||(rne.add(o),o.addEventListener("copy",()=>{}),o.addEventListener("cut",()=>{}))}let ine=["pre-wrap","normal","pre-line","break-spaces"],jv=!1;function one(){jv=!1}class VRe{constructor(r){this.lineWrapping=r,this.doc=Vn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(r,s){let l=this.doc.lineAt(s).number-this.doc.lineAt(r).number+1;return this.lineWrapping&&(l+=Math.max(0,Math.ceil((s-r-l*this.lineLength*.5)/this.lineLength))),this.lineHeight*l}heightForLine(r){return this.lineWrapping?(1+Math.max(0,Math.ceil((r-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(r){return this.doc=r,this}mustRefreshForWrapping(r){return ine.indexOf(r)>-1!=this.lineWrapping}mustRefreshForHeights(r){let s=!1;for(let l=0;l<r.length;l++){let u=r[l];u<0?l++:this.heightSamples[Math.floor(u*10)]||(s=!0,this.heightSamples[Math.floor(u*10)]=!0)}return s}refresh(r,s,l,u,f,p){let v=ine.indexOf(r)>-1,y=Math.round(s)!=Math.round(this.lineHeight)||this.lineWrapping!=v;if(this.lineWrapping=v,this.lineHeight=s,this.charWidth=l,this.textHeight=u,this.lineLength=f,y){this.heightSamples={};for(let x=0;x<p.length;x++){let w=p[x];w<0?x++:this.heightSamples[Math.floor(w*10)]=!0}}return y}}class zRe{constructor(r,s){this.from=r,this.heights=s,this.index=0}get more(){return this.index<this.heights.length}}class Nu{constructor(r,s,l,u,f){this.from=r,this.length=s,this.top=l,this.height=u,this._content=f}get type(){return typeof this._content=="number"?Lu.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Kh?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(r){let s=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(r._content)?r._content:[r]);return new Nu(this.from,this.length+r.length,this.top,this.height+r.height,s)}}var $r=function(o){return o[o.ByPos=0]="ByPos",o[o.ByHeight=1]="ByHeight",o[o.ByPosNoHeight=2]="ByPosNoHeight",o}($r||($r={}));let w6=.001;class Hs{constructor(r,s,l=2){this.length=r,this.height=s,this.flags=l}get outdated(){return(this.flags&2)>0}set outdated(r){this.flags=(r?2:0)|this.flags&-3}setHeight(r){this.height!=r&&(Math.abs(this.height-r)>w6&&(jv=!0),this.height=r)}replace(r,s,l){return Hs.of(l)}decomposeLeft(r,s){s.push(this)}decomposeRight(r,s){s.push(this)}applyChanges(r,s,l,u){let f=this,p=l.doc;for(let v=u.length-1;v>=0;v--){let{fromA:y,toA:x,fromB:w,toB:C}=u[v],O=f.lineAt(y,$r.ByPosNoHeight,l.setDoc(s),0,0),T=O.to>=x?O:f.lineAt(x,$r.ByPosNoHeight,l,0,0);for(C+=T.to-x,x=T.to;v>0&&O.from<=u[v-1].toA;)y=u[v-1].fromA,w=u[v-1].fromB,v--,y<O.from&&(O=f.lineAt(y,$r.ByPosNoHeight,l,0,0));w+=O.from-y,y=O.from;let P=RR.build(l.setDoc(p),r,w,C);f=_6(f,f.replace(y,x,P))}return f.updateHeight(l,0)}static empty(){return new Ga(0,0)}static of(r){if(r.length==1)return r[0];let s=0,l=r.length,u=0,f=0;for(;;)if(s==l)if(u>f*2){let v=r[s-1];v.break?r.splice(--s,1,v.left,null,v.right):r.splice(--s,1,v.left,v.right),l+=1+v.break,u-=v.size}else if(f>u*2){let v=r[l];v.break?r.splice(l,1,v.left,null,v.right):r.splice(l,1,v.left,v.right),l+=2+v.break,f-=v.size}else break;else if(u<f){let v=r[s++];v&&(u+=v.size)}else{let v=r[--l];v&&(f+=v.size)}let p=0;return r[s-1]==null?(p=1,s--):r[s]==null&&(p=1,l++),new HRe(Hs.of(r.slice(0,s)),p,Hs.of(r.slice(l)))}}function _6(o,r){return o==r?o:(o.constructor!=r.constructor&&(jv=!0),r)}Hs.prototype.size=1;class sne extends Hs{constructor(r,s,l){super(r,s),this.deco=l}blockAt(r,s,l,u){return new Nu(u,this.length,l,this.height,this.deco||0)}lineAt(r,s,l,u,f){return this.blockAt(0,l,u,f)}forEachLine(r,s,l,u,f,p){r<=f+this.length&&s>=f&&p(this.blockAt(0,l,u,f))}updateHeight(r,s=0,l=!1,u){return u&&u.from<=s&&u.more&&this.setHeight(u.heights[u.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ga extends sne{constructor(r,s){super(r,s,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(r,s,l,u){return new Nu(u,this.length,l,this.height,this.breaks)}replace(r,s,l){let u=l[0];return l.length==1&&(u instanceof Ga||u instanceof Ho&&u.flags&4)&&Math.abs(this.length-u.length)<10?(u instanceof Ho?u=new Ga(u.length,this.height):u.height=this.height,this.outdated||(u.outdated=!1),u):Hs.of(l)}updateHeight(r,s=0,l=!1,u){return u&&u.from<=s&&u.more?this.setHeight(u.heights[u.index++]):(l||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,r.heightForLine(this.length-this.collapsed))+this.breaks*r.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ho extends Hs{constructor(r){super(r,0)}heightMetrics(r,s){let l=r.doc.lineAt(s).number,u=r.doc.lineAt(s+this.length).number,f=u-l+1,p,v=0;if(r.lineWrapping){let y=Math.min(this.height,r.lineHeight*f);p=y/f,this.length>f+1&&(v=(this.height-y)/(this.length-f-1))}else p=this.height/f;return{firstLine:l,lastLine:u,perLine:p,perChar:v}}blockAt(r,s,l,u){let{firstLine:f,lastLine:p,perLine:v,perChar:y}=this.heightMetrics(s,u);if(s.lineWrapping){let x=u+(r<s.lineHeight?0:Math.round(Math.max(0,Math.min(1,(r-l)/this.height))*this.length)),w=s.doc.lineAt(x),C=v+w.length*y,O=Math.max(l,r-C/2);return new Nu(w.from,w.length,O,C,0)}else{let x=Math.max(0,Math.min(p-f,Math.floor((r-l)/v))),{from:w,length:C}=s.doc.line(f+x);return new Nu(w,C,l+v*x,v,0)}}lineAt(r,s,l,u,f){if(s==$r.ByHeight)return this.blockAt(r,l,u,f);if(s==$r.ByPosNoHeight){let{from:T,to:P}=l.doc.lineAt(r);return new Nu(T,P-T,0,0,0)}let{firstLine:p,perLine:v,perChar:y}=this.heightMetrics(l,f),x=l.doc.lineAt(r),w=v+x.length*y,C=x.number-p,O=u+v*C+y*(x.from-f-C);return new Nu(x.from,x.length,Math.max(u,Math.min(O,u+this.height-w)),w,0)}forEachLine(r,s,l,u,f,p){r=Math.max(r,f),s=Math.min(s,f+this.length);let{firstLine:v,perLine:y,perChar:x}=this.heightMetrics(l,f);for(let w=r,C=u;w<=s;){let O=l.doc.lineAt(w);if(w==r){let P=O.number-v;C+=y*P+x*(r-f-P)}let T=y+x*O.length;p(new Nu(O.from,O.length,C,T,0)),C+=T,w=O.to+1}}replace(r,s,l){let u=this.length-s;if(u>0){let f=l[l.length-1];f instanceof Ho?l[l.length-1]=new Ho(f.length+u):l.push(null,new Ho(u-1))}if(r>0){let f=l[0];f instanceof Ho?l[0]=new Ho(r+f.length):l.unshift(new Ho(r-1),null)}return Hs.of(l)}decomposeLeft(r,s){s.push(new Ho(r-1),null)}decomposeRight(r,s){s.push(null,new Ho(this.length-r-1))}updateHeight(r,s=0,l=!1,u){let f=s+this.length;if(u&&u.from<=s+this.length&&u.more){let p=[],v=Math.max(s,u.from),y=-1;for(u.from>s&&p.push(new Ho(u.from-s-1).updateHeight(r,s));v<=f&&u.more;){let w=r.doc.lineAt(v).length;p.length&&p.push(null);let C=u.heights[u.index++];y==-1?y=C:Math.abs(C-y)>=w6&&(y=-2);let O=new Ga(w,C);O.outdated=!1,p.push(O),v+=w+1}v<=f&&p.push(null,new Ho(f-v).updateHeight(r,v));let x=Hs.of(p);return(y<0||Math.abs(x.height-this.height)>=w6||Math.abs(y-this.heightMetrics(r,s).perLine)>=w6)&&(jv=!0),_6(this,x)}else(l||this.outdated)&&(this.setHeight(r.heightForGap(s,s+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HRe extends Hs{constructor(r,s,l){super(r.length+s+l.length,r.height+l.height,s|(r.outdated||l.outdated?2:0)),this.left=r,this.right=l,this.size=r.size+l.size}get break(){return this.flags&1}blockAt(r,s,l,u){let f=l+this.left.height;return r<f?this.left.blockAt(r,s,l,u):this.right.blockAt(r,s,f,u+this.left.length+this.break)}lineAt(r,s,l,u,f){let p=u+this.left.height,v=f+this.left.length+this.break,y=s==$r.ByHeight?r<p:r<v,x=y?this.left.lineAt(r,s,l,u,f):this.right.lineAt(r,s,l,p,v);if(this.break||(y?x.to<v:x.from>v))return x;let w=s==$r.ByPosNoHeight?$r.ByPosNoHeight:$r.ByPos;return y?x.join(this.right.lineAt(v,w,l,p,v)):this.left.lineAt(v,w,l,u,f).join(x)}forEachLine(r,s,l,u,f,p){let v=u+this.left.height,y=f+this.left.length+this.break;if(this.break)r<y&&this.left.forEachLine(r,s,l,u,f,p),s>=y&&this.right.forEachLine(r,s,l,v,y,p);else{let x=this.lineAt(y,$r.ByPos,l,u,f);r<x.from&&this.left.forEachLine(r,x.from-1,l,u,f,p),x.to>=r&&x.from<=s&&p(x),s>x.to&&this.right.forEachLine(x.to+1,s,l,v,y,p)}}replace(r,s,l){let u=this.left.length+this.break;if(s<u)return this.balanced(this.left.replace(r,s,l),this.right);if(r>this.left.length)return this.balanced(this.left,this.right.replace(r-u,s-u,l));let f=[];r>0&&this.decomposeLeft(r,f);let p=f.length;for(let v of l)f.push(v);if(r>0&&ane(f,p-1),s<this.length){let v=f.length;this.decomposeRight(s,f),ane(f,v)}return Hs.of(f)}decomposeLeft(r,s){let l=this.left.length;if(r<=l)return this.left.decomposeLeft(r,s);s.push(this.left),this.break&&(l++,r>=l&&s.push(null)),r>l&&this.right.decomposeLeft(r-l,s)}decomposeRight(r,s){let l=this.left.length,u=l+this.break;if(r>=u)return this.right.decomposeRight(r-u,s);r<l&&this.left.decomposeRight(r,s),this.break&&r<u&&s.push(null),s.push(this.right)}balanced(r,s){return r.size>2*s.size||s.size>2*r.size?Hs.of(this.break?[r,null,s]:[r,s]):(this.left=_6(this.left,r),this.right=_6(this.right,s),this.setHeight(r.height+s.height),this.outdated=r.outdated||s.outdated,this.size=r.size+s.size,this.length=r.length+this.break+s.length,this)}updateHeight(r,s=0,l=!1,u){let{left:f,right:p}=this,v=s+f.length+this.break,y=null;return u&&u.from<=s+f.length&&u.more?y=f=f.updateHeight(r,s,l,u):f.updateHeight(r,s,l),u&&u.from<=v+p.length&&u.more?y=p=p.updateHeight(r,v,l,u):p.updateHeight(r,v,l),y?this.balanced(f,p):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ane(o,r){let s,l;o[r]==null&&(s=o[r-1])instanceof Ho&&(l=o[r+1])instanceof Ho&&o.splice(r-1,3,new Ho(s.length+1+l.length))}let URe=5;class RR{constructor(r,s){this.pos=r,this.oracle=s,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=r}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(r,s){if(this.lineStart>-1){let l=Math.min(s,this.lineEnd),u=this.nodes[this.nodes.length-1];u instanceof Ga?u.length+=l-this.pos:(l>this.pos||!this.isCovered)&&this.nodes.push(new Ga(l-this.pos,-1)),this.writtenTo=l,s>l&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=s}point(r,s,l){if(r<s||l.heightRelevant){let u=l.widget?l.widget.estimatedHeight:0,f=l.widget?l.widget.lineBreaks:0;u<0&&(u=this.oracle.lineHeight);let p=s-r;l.block?this.addBlock(new sne(p,u,l)):(p||f||u>=URe)&&this.addLineDeco(u,f,p)}else s>r&&this.span(r,s);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:r,to:s}=this.oracle.doc.lineAt(this.pos);this.lineStart=r,this.lineEnd=s,this.writtenTo<r&&((this.writtenTo<r-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,r-1)),this.nodes.push(null)),this.pos>r&&this.nodes.push(new Ga(this.pos-r,-1)),this.writtenTo=this.pos}blankContent(r,s){let l=new Ho(s-r);return this.oracle.doc.lineAt(r).to==s&&(l.flags|=4),l}ensureLine(){this.enterLine();let r=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(r instanceof Ga)return r;let s=new Ga(0,-1);return this.nodes.push(s),s}addBlock(r){this.enterLine();let s=r.deco;s&&s.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(r),this.writtenTo=this.pos=this.pos+r.length,s&&s.endSide>0&&(this.covering=r)}addLineDeco(r,s,l){let u=this.ensureLine();u.length+=l,u.collapsed+=l,u.widgetHeight=Math.max(u.widgetHeight,r),u.breaks+=s,this.writtenTo=this.pos=this.pos+l}finish(r){let s=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(s instanceof Ga)&&!this.isCovered?this.nodes.push(new Ga(0,-1)):(this.writtenTo<this.pos||s==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let l=r;for(let u of this.nodes)u instanceof Ga&&u.updateHeight(this.oracle,l),l+=u?u.length:1;return this.nodes}static build(r,s,l,u){let f=new RR(l,r);return Vs.spans(s,l,u,f,0),f.finish(l)}}function qRe(o,r,s){let l=new WRe;return Vs.compare(o,r,s,l,0),l.changes}class WRe{constructor(){this.changes=[]}compareRange(){}comparePoint(r,s,l,u){(r<s||l&&l.heightRelevant||u&&u.heightRelevant)&&vR(r,s,this.changes,5)}}function GRe(o,r){let s=o.getBoundingClientRect(),l=o.ownerDocument,u=l.defaultView||window,f=Math.max(0,s.left),p=Math.min(u.innerWidth,s.right),v=Math.max(0,s.top),y=Math.min(u.innerHeight,s.bottom);for(let x=o.parentNode;x&&x!=l.body;)if(x.nodeType==1){let w=x,C=window.getComputedStyle(w);if((w.scrollHeight>w.clientHeight||w.scrollWidth>w.clientWidth)&&C.overflow!="visible"){let O=w.getBoundingClientRect();f=Math.max(f,O.left),p=Math.min(p,O.right),v=Math.max(v,O.top),y=Math.min(x==o.parentNode?u.innerHeight:y,O.bottom)}x=C.position=="absolute"||C.position=="fixed"?w.offsetParent:w.parentNode}else if(x.nodeType==11)x=x.host;else break;return{left:f-s.left,right:Math.max(f,p)-s.left,top:v-(s.top+r),bottom:Math.max(v,y)-(s.top+r)}}function QRe(o,r){let s=o.getBoundingClientRect();return{left:0,right:s.right-s.left,top:r,bottom:s.bottom-(s.top+r)}}class LR{constructor(r,s,l){this.from=r,this.to=s,this.size=l}static same(r,s){if(r.length!=s.length)return!1;for(let l=0;l<r.length;l++){let u=r[l],f=s[l];if(u.from!=f.from||u.to!=f.to||u.size!=f.size)return!1}return!0}draw(r,s){return vn.replace({widget:new YRe(this.size*(s?r.scaleY:r.scaleX),s)}).range(this.from,this.to)}}class YRe extends Fv{constructor(r,s){super(),this.size=r,this.vertical=s}eq(r){return r.size==this.size&&r.vertical==this.vertical}toDOM(){let r=document.createElement("div");return this.vertical?r.style.height=this.size+"px":(r.style.width=this.size+"px",r.style.height="2px",r.style.display="inline-block"),r}get estimatedHeight(){return this.vertical?this.size:-1}}class lne{constructor(r){this.state=r,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=cne,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ti.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let s=r.facet(DR).some(l=>typeof l!="function"&&l.class=="cm-lineWrapping");this.heightOracle=new VRe(s),this.stateDeco=r.facet(wx).filter(l=>typeof l!="function"),this.heightMap=Hs.empty().applyChanges(this.stateDeco,Vn.empty,this.heightOracle.setDoc(r.doc),[new Ll(0,0,0,r.doc.length)]);for(let l=0;l<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());l++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=vn.set(this.lineGaps.map(l=>l.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let r=[this.viewport],{main:s}=this.state.selection;for(let l=0;l<=1;l++){let u=l?s.head:s.anchor;if(!r.some(({from:f,to:p})=>u>=f&&u<=p)){let{from:f,to:p}=this.lineBlockAt(u);r.push(new C6(f,p))}}return this.viewports=r.sort((l,u)=>l.from-u.from),this.updateScaler()}updateScaler(){let r=this.scaler;return this.scaler=this.heightMap.height<=7e6?cne:new $R(this.heightOracle,this.heightMap,this.viewports),r.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,r=>{this.viewportLines.push(Sx(r,this.scaler))})}update(r,s=null){this.state=r.state;let l=this.stateDeco;this.stateDeco=this.state.facet(wx).filter(w=>typeof w!="function");let u=r.changedRanges,f=Ll.extendWithRanges(u,qRe(l,this.stateDeco,r?r.changes:So.empty(this.state.doc.length))),p=this.heightMap.height,v=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);one(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,r.startState.doc,this.heightOracle.setDoc(this.state.doc),f),(this.heightMap.height!=p||jv)&&(r.flags|=2),v?(this.scrollAnchorPos=r.changes.mapPos(v.from,-1),this.scrollAnchorHeight=v.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let y=f.length?this.mapViewport(this.viewport,r.changes):this.viewport;(s&&(s.range.head<y.from||s.range.head>y.to)||!this.viewportIsAppropriate(y))&&(y=this.getViewport(0,s));let x=y.from!=this.viewport.from||y.to!=this.viewport.to;this.viewport=y,r.flags|=this.updateForViewport(),(x||!r.changes.empty||r.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,r.changes))),r.flags|=this.computeVisibleRanges(),s&&(this.scrollTarget=s),!this.mustEnforceCursorAssoc&&r.selectionSet&&r.view.lineWrapping&&r.state.selection.main.empty&&r.state.selection.main.assoc&&!r.state.facet(JAe)&&(this.mustEnforceCursorAssoc=!0)}measure(r){let s=r.contentDOM,l=window.getComputedStyle(s),u=this.heightOracle,f=l.whiteSpace;this.defaultTextDirection=l.direction=="rtl"?Ti.RTL:Ti.LTR;let p=this.heightOracle.mustRefreshForWrapping(f),v=s.getBoundingClientRect(),y=p||this.mustMeasureContent||this.contentDOMHeight!=v.height;this.contentDOMHeight=v.height,this.mustMeasureContent=!1;let x=0,w=0;if(v.width&&v.height){let{scaleX:H,scaleY:X}=Hee(s,v);(H>.005&&Math.abs(this.scaleX-H)>.005||X>.005&&Math.abs(this.scaleY-X)>.005)&&(this.scaleX=H,this.scaleY=X,x|=8,p=y=!0)}let C=(parseInt(l.paddingTop)||0)*this.scaleY,O=(parseInt(l.paddingBottom)||0)*this.scaleY;(this.paddingTop!=C||this.paddingBottom!=O)&&(this.paddingTop=C,this.paddingBottom=O,x|=10),this.editorWidth!=r.scrollDOM.clientWidth&&(u.lineWrapping&&(y=!0),this.editorWidth=r.scrollDOM.clientWidth,x|=8);let T=r.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=T&&(this.scrollAnchorHeight=-1,this.scrollTop=T),this.scrolledToBottom=Gee(r.scrollDOM);let P=(this.printing?QRe:GRe)(s,this.paddingTop),N=P.top-this.pixelViewport.top,j=P.bottom-this.pixelViewport.bottom;this.pixelViewport=P;let q=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(q!=this.inView&&(this.inView=q,q&&(y=!0)),!this.inView&&!this.scrollTarget)return 0;let Q=v.width;if((this.contentDOMWidth!=Q||this.editorHeight!=r.scrollDOM.clientHeight)&&(this.contentDOMWidth=v.width,this.editorHeight=r.scrollDOM.clientHeight,x|=8),y){let H=r.docView.measureVisibleLineHeights(this.viewport);if(u.mustRefreshForHeights(H)&&(p=!0),p||u.lineWrapping&&Math.abs(Q-this.contentDOMWidth)>u.charWidth){let{lineHeight:X,charWidth:Y,textHeight:ae}=r.docView.measureTextSize();p=X>0&&u.refresh(f,X,Y,ae,Q/Y,H),p&&(r.docView.minWidth=0,x|=8)}N>0&&j>0?w=Math.max(N,j):N<0&&j<0&&(w=Math.min(N,j)),one();for(let X of this.viewports){let Y=X.from==this.viewport.from?H:r.docView.measureVisibleLineHeights(X);this.heightMap=(p?Hs.empty().applyChanges(this.stateDeco,Vn.empty,this.heightOracle,[new Ll(0,0,0,r.state.doc.length)]):this.heightMap).updateHeight(u,0,p,new zRe(X.from,Y))}jv&&(x|=2)}let U=!this.viewportIsAppropriate(this.viewport,w)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return U&&(x&2&&(x|=this.updateScaler()),this.viewport=this.getViewport(w,this.scrollTarget),x|=this.updateForViewport()),(x&2||U)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(p?[]:this.lineGaps,r)),x|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,r.docView.enforceCursorAssoc()),x}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(r,s){let l=.5-Math.max(-.5,Math.min(.5,r/1e3/2)),u=this.heightMap,f=this.heightOracle,{visibleTop:p,visibleBottom:v}=this,y=new C6(u.lineAt(p-l*1e3,$r.ByHeight,f,0,0).from,u.lineAt(v+(1-l)*1e3,$r.ByHeight,f,0,0).to);if(s){let{head:x}=s.range;if(x<y.from||x>y.to){let w=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),C=u.lineAt(x,$r.ByPos,f,0,0),O;s.y=="center"?O=(C.top+C.bottom)/2-w/2:s.y=="start"||s.y=="nearest"&&x<y.from?O=C.top:O=C.bottom-w,y=new C6(u.lineAt(O-1e3/2,$r.ByHeight,f,0,0).from,u.lineAt(O+w+1e3/2,$r.ByHeight,f,0,0).to)}}return y}mapViewport(r,s){let l=s.mapPos(r.from,-1),u=s.mapPos(r.to,1);return new C6(this.heightMap.lineAt(l,$r.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(u,$r.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:r,to:s},l=0){if(!this.inView)return!0;let{top:u}=this.heightMap.lineAt(r,$r.ByPos,this.heightOracle,0,0),{bottom:f}=this.heightMap.lineAt(s,$r.ByPos,this.heightOracle,0,0),{visibleTop:p,visibleBottom:v}=this;return(r==0||u<=p-Math.max(10,Math.min(-l,250)))&&(s==this.state.doc.length||f>=v+Math.max(10,Math.min(l,250)))&&u>p-2*1e3&&f<v+2*1e3}mapLineGaps(r,s){if(!r.length||s.empty)return r;let l=[];for(let u of r)s.touchesRange(u.from,u.to)||l.push(new LR(s.mapPos(u.from),s.mapPos(u.to),u.size));return l}ensureLineGaps(r,s){let l=this.heightOracle.lineWrapping,u=l?1e4:2e3,f=u>>1,p=u<<1;if(this.defaultTextDirection!=Ti.LTR&&!l)return[];let v=[],y=(w,C,O,T)=>{if(C-w<f)return;let P=this.state.selection.main,N=[P.from];P.empty||N.push(P.to);for(let q of N)if(q>w&&q<C){y(w,q-10,O,T),y(q+10,C,O,T);return}let j=KRe(r,q=>q.from>=O.from&&q.to<=O.to&&Math.abs(q.from-w)<f&&Math.abs(q.to-C)<f&&!N.some(Q=>q.from<Q&&q.to>Q));if(!j){if(C<O.to&&s&&l&&s.visibleRanges.some(q=>q.from<=C&&q.to>=C)){let q=s.moveToLineBoundary(Be.cursor(C),!1,!0).head;q>w&&(C=q)}j=new LR(w,C,this.gapSize(O,w,C,T))}v.push(j)},x=w=>{if(w.length<p||w.type!=Lu.Text)return;let C=XRe(w.from,w.to,this.stateDeco);if(C.total<p)return;let O=this.scrollTarget?this.scrollTarget.range.head:null,T,P;if(l){let N=u/this.heightOracle.lineLength*this.heightOracle.lineHeight,j,q;if(O!=null){let Q=O6(C,O),U=((this.visibleBottom-this.visibleTop)/2+N)/w.height;j=Q-U,q=Q+U}else j=(this.visibleTop-w.top-N)/w.height,q=(this.visibleBottom-w.top+N)/w.height;T=S6(C,j),P=S6(C,q)}else{let N=C.total*this.heightOracle.charWidth,j=u*this.heightOracle.charWidth,q,Q;if(O!=null){let U=O6(C,O),H=((this.pixelViewport.right-this.pixelViewport.left)/2+j)/N;q=U-H,Q=U+H}else q=(this.pixelViewport.left-j)/N,Q=(this.pixelViewport.right+j)/N;T=S6(C,q),P=S6(C,Q)}T>w.from&&y(w.from,T,w,C),P<w.to&&y(P,w.to,w,C)};for(let w of this.viewportLines)Array.isArray(w.type)?w.type.forEach(x):x(w);return v}gapSize(r,s,l,u){let f=O6(u,l)-O6(u,s);return this.heightOracle.lineWrapping?r.height*f:u.total*this.heightOracle.charWidth*f}updateLineGaps(r){LR.same(r,this.lineGaps)||(this.lineGaps=r,this.lineGapDeco=vn.set(r.map(s=>s.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let r=this.stateDeco;this.lineGaps.length&&(r=r.concat(this.lineGapDeco));let s=[];Vs.spans(r,this.viewport.from,this.viewport.to,{span(u,f){s.push({from:u,to:f})},point(){}},20);let l=s.length!=this.visibleRanges.length||this.visibleRanges.some((u,f)=>u.from!=s[f].from||u.to!=s[f].to);return this.visibleRanges=s,l?4:0}lineBlockAt(r){return r>=this.viewport.from&&r<=this.viewport.to&&this.viewportLines.find(s=>s.from<=r&&s.to>=r)||Sx(this.heightMap.lineAt(r,$r.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(r){return r>=this.viewportLines[0].top&&r<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(s=>s.top<=r&&s.bottom>=r)||Sx(this.heightMap.lineAt(this.scaler.fromDOM(r),$r.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(r){let s=this.lineBlockAtHeight(r+8);return s.from>=this.viewport.from||this.viewportLines[0].top-r>200?s:this.viewportLines[0]}elementAtHeight(r){return Sx(this.heightMap.blockAt(this.scaler.fromDOM(r),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class C6{constructor(r,s){this.from=r,this.to=s}}function XRe(o,r,s){let l=[],u=o,f=0;return Vs.spans(s,o,r,{span(){},point(p,v){p>u&&(l.push({from:u,to:p}),f+=p-u),u=v}},20),u<r&&(l.push({from:u,to:r}),f+=r-u),{total:f,ranges:l}}function S6({total:o,ranges:r},s){if(s<=0)return r[0].from;if(s>=1)return r[r.length-1].to;let l=Math.floor(o*s);for(let u=0;;u++){let{from:f,to:p}=r[u],v=p-f;if(l<=v)return f+l;l-=v}}function O6(o,r){let s=0;for(let{from:l,to:u}of o.ranges){if(r<=u){s+=r-l;break}s+=u-l}return s/o.total}function KRe(o,r){for(let s of o)if(r(s))return s}let cne={toDOM(o){return o},fromDOM(o){return o},scale:1,eq(o){return o==this}};class $R{constructor(r,s,l){let u=0,f=0,p=0;this.viewports=l.map(({from:v,to:y})=>{let x=s.lineAt(v,$r.ByPos,r,0,0).top,w=s.lineAt(y,$r.ByPos,r,0,0).bottom;return u+=w-x,{from:v,to:y,top:x,bottom:w,domTop:0,domBottom:0}}),this.scale=(7e6-u)/(s.height-u);for(let v of this.viewports)v.domTop=p+(v.top-f)*this.scale,p=v.domBottom=v.domTop+(v.bottom-v.top),f=v.bottom}toDOM(r){for(let s=0,l=0,u=0;;s++){let f=s<this.viewports.length?this.viewports[s]:null;if(!f||r<f.top)return u+(r-l)*this.scale;if(r<=f.bottom)return f.domTop+(r-f.top);l=f.bottom,u=f.domBottom}}fromDOM(r){for(let s=0,l=0,u=0;;s++){let f=s<this.viewports.length?this.viewports[s]:null;if(!f||r<f.domTop)return l+(r-u)/this.scale;if(r<=f.domBottom)return f.top+(r-f.domTop);l=f.bottom,u=f.domBottom}}eq(r){return r instanceof $R?this.scale==r.scale&&this.viewports.length==r.viewports.length&&this.viewports.every((s,l)=>s.from==r.viewports[l].from&&s.to==r.viewports[l].to):!1}}function Sx(o,r){if(r.scale==1)return o;let s=r.toDOM(o.top),l=r.toDOM(o.bottom);return new Nu(o.from,o.length,s,l-s,Array.isArray(o._content)?o._content.map(u=>Sx(u,r)):o._content)}let D6=xt.define({combine:o=>o.join(" ")}),NR=xt.define({combine:o=>o.indexOf(!0)>-1}),FR=Qh.newName(),une=Qh.newName(),dne=Qh.newName(),fne={"&light":"."+une,"&dark":"."+dne};function BR(o,r,s){return new Qh(r,{finish(l){return/&/.test(l)?l.replace(/&\w*/,u=>{if(u=="&")return o;if(!s||!s[u])throw new RangeError(`Unsupported selector: ${u}`);return s[u]}):o+" "+l}})}let ZRe=BR("."+FR,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},fne),JRe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},jR=ut.ie&&ut.ie_version<=11;class e9e{constructor(r){this.view=r,this.active=!1,this.editContext=null,this.selectionRange=new $Ae,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=r.contentDOM,this.observer=new MutationObserver(s=>{for(let l of s)this.queue.push(l);(ut.ie&&ut.ie_version<=11||ut.ios&&r.composing)&&s.some(l=>l.type=="childList"&&l.removedNodes.length||l.type=="characterData"&&l.oldValue.length>l.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&r.constructor.EDIT_CONTEXT!==!1&&!(ut.chrome&&ut.chrome_version<126)&&(this.editContext=new n9e(r),r.state.facet(Jh)&&(r.contentDOM.editContext=this.editContext.editContext)),jR&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var s;((s=this.view.docView)===null||s===void 0?void 0:s.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(r.scrollDOM)),this.addWindowListeners(this.win=r.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(s=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),s.length>0&&s[s.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(s=>{s.length>0&&s[s.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(r){this.view.inputState.runHandlers("scroll",r),this.intersecting&&this.view.measure()}onScroll(r){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(r)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(r){(r.type=="change"||!r.type)&&!r.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(r){if(this.gapIntersection&&(r.length!=this.gaps.length||this.gaps.some((s,l)=>s!=r[l]))){this.gapIntersection.disconnect();for(let s of r)this.gapIntersection.observe(s);this.gaps=r}}onSelectionChange(r){let s=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:l}=this,u=this.selectionRange;if(l.state.facet(Jh)?l.root.activeElement!=this.dom:!d6(l.dom,u))return;let f=u.anchorNode&&l.docView.nearest(u.anchorNode);if(f&&f.ignoreEvent(r)){s||(this.selectionChanged=!1);return}(ut.ie&&ut.ie_version<=11||ut.android&&ut.chrome)&&!l.state.selection.main.empty&&u.focusNode&&gx(u.focusNode,u.focusOffset,u.anchorNode,u.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:r}=this,s=mx(r.root);if(!s)return!1;let l=ut.safari&&r.root.nodeType==11&&MAe(this.dom.ownerDocument)==this.dom&&t9e(this.view,s)||s;if(!l||this.selectionRange.eq(l))return!1;let u=d6(this.dom,l);return u&&!this.selectionChanged&&r.inputState.lastFocusTime>Date.now()-200&&r.inputState.lastTouchTime<Date.now()-300&&FAe(this.dom,l)?(this.view.inputState.lastFocusTime=0,r.docView.updateSelection(),!1):(this.selectionRange.setRange(l),u&&(this.selectionChanged=!0),!0)}setSelectionRange(r,s){this.selectionRange.set(r.node,r.offset,s.node,s.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let r=0,s=null;for(let l=this.dom;l;)if(l.nodeType==1)!s&&r<this.scrollTargets.length&&this.scrollTargets[r]==l?r++:s||(s=this.scrollTargets.slice(0,r)),s&&s.push(l),l=l.assignedSlot||l.parentNode;else if(l.nodeType==11)l=l.host;else break;if(r<this.scrollTargets.length&&!s&&(s=this.scrollTargets.slice(0,r)),s){for(let l of this.scrollTargets)l.removeEventListener("scroll",this.onScroll);for(let l of this.scrollTargets=s)l.addEventListener("scroll",this.onScroll)}}ignore(r){if(!this.active)return r();try{return this.stop(),r()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,JRe),jR&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),jR&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(r,s){var l;if(!this.delayedAndroidKey){let u=()=>{let f=this.delayedAndroidKey;f&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=f.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&f.force&&$v(this.dom,f.key,f.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(u)}(!this.delayedAndroidKey||r=="Enter")&&(this.delayedAndroidKey={key:r,keyCode:s,force:this.lastChange<Date.now()-50||!!(!((l=this.delayedAndroidKey)===null||l===void 0)&&l.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let r of this.observer.takeRecords())this.queue.push(r);return this.queue}processRecords(){let r=this.pendingRecords();r.length&&(this.queue=[]);let s=-1,l=-1,u=!1;for(let f of r){let p=this.readMutation(f);p&&(p.typeOver&&(u=!0),s==-1?{from:s,to:l}=p:(s=Math.min(p.from,s),l=Math.max(p.to,l)))}return{from:s,to:l,typeOver:u}}readChange(){let{from:r,to:s,typeOver:l}=this.processRecords(),u=this.selectionChanged&&d6(this.dom,this.selectionRange);if(r<0&&!u)return null;r>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let f=new bRe(this.view,r,s,l);return this.view.docView.domChanged={newSel:f.newSel?f.newSel.main:null},f}flush(r=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;r&&this.readSelectionRange();let s=this.readChange();if(!s)return this.view.requestMeasure(),!1;let l=this.view.state,u=jte(this.view,s);return this.view.state==l&&(s.domChanged||s.newSel&&!s.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),u}readMutation(r){let s=this.view.docView.nearest(r.target);if(!s||s.ignoreMutation(r))return null;if(s.markDirty(r.type=="attributes"),r.type=="attributes"&&(s.flags|=4),r.type=="childList"){let l=hne(s,r.previousSibling||r.target.previousSibling,-1),u=hne(s,r.nextSibling||r.target.nextSibling,1);return{from:l?s.posAfter(l):s.posAtStart,to:u?s.posBefore(u):s.posAtEnd,typeOver:!1}}else return r.type=="characterData"?{from:s.posAtStart,to:s.posAtEnd,typeOver:r.target.nodeValue==r.oldValue}:null}setWindow(r){r!=this.win&&(this.removeWindowListeners(this.win),this.win=r,this.addWindowListeners(this.win))}addWindowListeners(r){r.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):r.addEventListener("beforeprint",this.onPrint),r.addEventListener("scroll",this.onScroll),r.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(r){r.removeEventListener("scroll",this.onScroll),r.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):r.removeEventListener("beforeprint",this.onPrint),r.document.removeEventListener("selectionchange",this.onSelectionChange)}update(r){this.editContext&&(this.editContext.update(r),r.startState.facet(Jh)!=r.state.facet(Jh)&&(r.view.contentDOM.editContext=r.state.facet(Jh)?this.editContext.editContext:null))}destroy(){var r,s,l;this.stop(),(r=this.intersection)===null||r===void 0||r.disconnect(),(s=this.gapIntersection)===null||s===void 0||s.disconnect(),(l=this.resizeScroll)===null||l===void 0||l.disconnect();for(let u of this.scrollTargets)u.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function hne(o,r,s){for(;r;){let l=br.get(r);if(l&&l.parent==o)return l;let u=r.parentNode;r=u!=o.dom?u:s>0?r.nextSibling:r.previousSibling}return null}function pne(o,r){let s=r.startContainer,l=r.startOffset,u=r.endContainer,f=r.endOffset,p=o.docView.domAtPos(o.state.selection.main.anchor);return gx(p.node,p.offset,u,f)&&([s,l,u,f]=[u,f,s,l]),{anchorNode:s,anchorOffset:l,focusNode:u,focusOffset:f}}function t9e(o,r){if(r.getComposedRanges){let u=r.getComposedRanges(o.root)[0];if(u)return pne(o,u)}let s=null;function l(u){u.preventDefault(),u.stopImmediatePropagation(),s=u.getTargetRanges()[0]}return o.contentDOM.addEventListener("beforeinput",l,!0),o.dom.ownerDocument.execCommand("indent"),o.contentDOM.removeEventListener("beforeinput",l,!0),s?pne(o,s):null}class n9e{constructor(r){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(r.state);let s=this.editContext=new window.EditContext({text:r.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,r.state.selection.main.anchor))),selectionEnd:this.toContextPos(r.state.selection.main.head)});this.handlers.textupdate=l=>{let{anchor:u}=r.state.selection.main,f={from:this.toEditorPos(l.updateRangeStart),to:this.toEditorPos(l.updateRangeEnd),insert:Vn.of(l.text.split(`
`))};f.from==this.from&&u<this.from?f.from=u:f.to==this.to&&u>this.to&&(f.to=u),!(f.from==f.to&&!f.insert.length)&&(this.pendingContextChange=f,r.state.readOnly||MR(r,f,Be.single(this.toEditorPos(l.selectionStart),this.toEditorPos(l.selectionEnd))),this.pendingContextChange&&(this.revertPending(r.state),this.setSelection(r.state)))},this.handlers.characterboundsupdate=l=>{let u=[],f=null;for(let p=this.toEditorPos(l.rangeStart),v=this.toEditorPos(l.rangeEnd);p<v;p++){let y=r.coordsForChar(p);f=y&&new DOMRect(y.left,y.top,y.right-y.left,y.bottom-y.top)||f||new DOMRect,u.push(f)}s.updateCharacterBounds(l.rangeStart,u)},this.handlers.textformatupdate=l=>{let u=[];for(let f of l.getTextFormats()){let p=f.underlineStyle,v=f.underlineThickness;if(p!="None"&&v!="None"){let y=`text-decoration: underline ${p=="Dashed"?"dashed ":p=="Squiggle"?"wavy ":""}${v=="Thin"?1:2}px`;u.push(vn.mark({attributes:{style:y}}).range(this.toEditorPos(f.rangeStart),this.toEditorPos(f.rangeEnd)))}}r.dispatch({effects:Cte.of(vn.set(u))})},this.handlers.compositionstart=()=>{r.inputState.composing<0&&(r.inputState.composing=0,r.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{r.inputState.composing=-1,r.inputState.compositionFirstChange=null};for(let l in this.handlers)s.addEventListener(l,this.handlers[l]);this.measureReq={read:l=>{this.editContext.updateControlBounds(l.contentDOM.getBoundingClientRect());let u=mx(l.root);u&&u.rangeCount&&this.editContext.updateSelectionBounds(u.getRangeAt(0).getBoundingClientRect())}}}applyEdits(r){let s=0,l=!1,u=this.pendingContextChange;return r.changes.iterChanges((f,p,v,y,x)=>{if(l)return;let w=x.length-(p-f);if(u&&p>=u.to)if(u.from==f&&u.to==p&&u.insert.eq(x)){u=this.pendingContextChange=null,s+=w,this.to+=w;return}else u=null,this.revertPending(r.state);if(f+=s,p+=s,p<=this.from)this.from+=w,this.to+=w;else if(f<this.to){if(f<this.from||p>this.to||this.to-this.from+x.length>3e4){l=!0;return}this.editContext.updateText(this.toContextPos(f),this.toContextPos(p),x.toString()),this.to+=w}s+=w}),u&&!l&&this.revertPending(r.state),!l}update(r){let s=this.pendingContextChange;!this.applyEdits(r)||!this.rangeIsValid(r.state)?(this.pendingContextChange=null,this.resetRange(r.state),this.editContext.updateText(0,this.editContext.text.length,r.state.doc.sliceString(this.from,this.to)),this.setSelection(r.state)):(r.docChanged||r.selectionSet||s)&&this.setSelection(r.state),(r.geometryChanged||r.docChanged||r.selectionSet)&&r.view.requestMeasure(this.measureReq)}resetRange(r){let{head:s}=r.selection.main;this.from=Math.max(0,s-1e4),this.to=Math.min(r.doc.length,s+1e4)}revertPending(r){let s=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(s.from),this.toContextPos(s.from+s.insert.length),r.doc.sliceString(s.from,s.to))}setSelection(r){let{main:s}=r.selection,l=this.toContextPos(Math.max(this.from,Math.min(this.to,s.anchor))),u=this.toContextPos(s.head);(this.editContext.selectionStart!=l||this.editContext.selectionEnd!=u)&&this.editContext.updateSelection(l,u)}rangeIsValid(r){let{head:s}=r.selection.main;return!(this.from>0&&s-this.from<500||this.to<r.doc.length&&this.to-s<500||this.to-this.from>1e4*3)}toEditorPos(r){return r+this.from}toContextPos(r){return r-this.from}destroy(){for(let r in this.handlers)this.editContext.removeEventListener(r,this.handlers[r])}}let Yn=(()=>{class o{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(s={}){var l;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),s.parent&&s.parent.appendChild(this.dom);let{dispatch:u}=s;this.dispatchTransactions=s.dispatchTransactions||u&&(f=>f.forEach(p=>u(p,this)))||(f=>this.update(f)),this.dispatch=this.dispatch.bind(this),this._root=s.root||NAe(s.parent)||document,this.viewState=new lne(s.state||Oc.create(s)),s.scrollTo&&s.scrollTo.is(g6)&&(this.viewState.scrollTarget=s.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Ex).map(f=>new OR(f));for(let f of this.plugins)f.update(this);this.observer=new e9e(this),this.inputState=new CRe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Ite(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((l=document.fonts)===null||l===void 0)&&l.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...s){let l=s.length==1&&s[0]instanceof Gh?s:s.length==1&&Array.isArray(s[0])?s[0]:[this.state.update(...s)];this.dispatchTransactions(l,this)}update(s){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let l=!1,u=!1,f,p=this.state;for(let T of s){if(T.startState!=p)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");p=T.state}if(this.destroyed){this.viewState.state=p;return}let v=this.hasFocus,y=0,x=null;s.some(T=>T.annotation(ene))?(this.inputState.notifiedFocused=v,y=1):v!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=v,x=tne(p,v),x||(y=1));let w=this.observer.delayedAndroidKey,C=null;if(w?(this.observer.clearDelayedAndroidKey(),C=this.observer.readChange(),(C&&!this.state.doc.eq(p.doc)||!this.state.selection.eq(p.selection))&&(C=null)):this.observer.clear(),p.facet(Oc.phrases)!=this.state.facet(Oc.phrases))return this.setState(p);f=v6.create(this,p,s),f.flags|=y;let O=this.viewState.scrollTarget;try{this.updateState=2;for(let T of s){if(O&&(O=O.map(T.changes)),T.scrollIntoView){let{main:P}=T.state.selection;O=new Bv(P.empty?P:Be.cursor(P.head,P.head>P.anchor?-1:1))}for(let P of T.effects)P.is(g6)&&(O=P.value.clip(this.state))}this.viewState.update(f,O),this.bidiCache=T6.update(this.bidiCache,f.changes),f.empty||(this.updatePlugins(f),this.inputState.update(f)),l=this.docView.update(f),this.state.facet(_x)!=this.styleModules&&this.mountStyles(),u=this.updateAttrs(),this.showAnnouncements(s),this.docView.updateSelection(l,s.some(T=>T.isUserEvent("select.pointer")))}finally{this.updateState=0}if(f.startState.facet(D6)!=f.state.facet(D6)&&(this.viewState.mustMeasureContent=!0),(l||u||O||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),l&&this.docViewUpdate(),!f.empty)for(let T of this.state.facet(_R))try{T(f)}catch(P){zs(this.state,P,"update listener")}(x||C)&&Promise.resolve().then(()=>{x&&this.state==x.startState&&this.dispatch(x),C&&!jte(this,C)&&w.force&&$v(this.contentDOM,w.key,w.keyCode)})}setState(s){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=s;return}this.updateState=2;let l=this.hasFocus;try{for(let u of this.plugins)u.destroy(this);this.viewState=new lne(s),this.plugins=s.facet(Ex).map(u=>new OR(u)),this.pluginMap.clear();for(let u of this.plugins)u.update(this);this.docView.destroy(),this.docView=new Ite(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}l&&this.focus(),this.requestMeasure()}updatePlugins(s){let l=s.startState.facet(Ex),u=s.state.facet(Ex);if(l!=u){let f=[];for(let p of u){let v=l.indexOf(p);if(v<0)f.push(new OR(p));else{let y=this.plugins[v];y.mustUpdate=s,f.push(y)}}for(let p of this.plugins)p.mustUpdate!=s&&p.destroy(this);this.plugins=f,this.pluginMap.clear()}else for(let f of this.plugins)f.mustUpdate=s;for(let f=0;f<this.plugins.length;f++)this.plugins[f].update(this);l!=u&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let s of this.plugins){let l=s.value;if(l&&l.docViewUpdate)try{l.docViewUpdate(this)}catch(u){zs(this.state,u,"doc view update listener")}}}measure(s=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,s&&this.observer.forceFlush();let l=null,u=this.scrollDOM,f=u.scrollTop*this.scaleY,{scrollAnchorPos:p,scrollAnchorHeight:v}=this.viewState;Math.abs(f-this.viewState.scrollTop)>1&&(v=-1),this.viewState.scrollAnchorHeight=-1;try{for(let y=0;;y++){if(v<0)if(Gee(u))p=-1,v=this.viewState.heightMap.height;else{let P=this.viewState.scrollAnchorAt(f);p=P.from,v=P.top}this.updateState=1;let x=this.viewState.measure(this);if(!x&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(y>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let w=[];x&4||([this.measureRequests,w]=[w,this.measureRequests]);let C=w.map(P=>{try{return P.read(this)}catch(N){return zs(this.state,N),mne}}),O=v6.create(this,this.state,[]),T=!1;O.flags|=x,l?l.flags|=x:l=O,this.updateState=2,O.empty||(this.updatePlugins(O),this.inputState.update(O),this.updateAttrs(),T=this.docView.update(O),T&&this.docViewUpdate());for(let P=0;P<w.length;P++)if(C[P]!=mne)try{let N=w[P];N.write&&N.write(C[P],this)}catch(N){zs(this.state,N)}if(T&&this.docView.updateSelection(!0),!O.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,v=-1;continue}else{let N=(p<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(p).top)-v;if(N>1||N<-1){f=f+N,u.scrollTop=f/this.scaleY,v=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(l&&!l.empty)for(let y of this.state.facet(_R))y(l)}get themeClasses(){return FR+" "+(this.state.facet(NR)?dne:une)+" "+this.state.facet(D6)}updateAttrs(){let s=gne(this,Ste,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),l={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Jh)?"true":"false",class:"cm-content",style:`${ut.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(l["aria-readonly"]="true"),gne(this,DR,l);let u=this.observer.ignore(()=>{let f=gR(this.contentDOM,this.contentAttrs,l),p=gR(this.dom,this.editorAttrs,s);return f||p});return this.editorAttrs=s,this.contentAttrs=l,u}showAnnouncements(s){let l=!0;for(let u of s)for(let f of u.effects)if(f.is(o.announce)){l&&(this.announceDOM.textContent=""),l=!1;let p=this.announceDOM.appendChild(document.createElement("div"));p.textContent=f.value}}mountStyles(){this.styleModules=this.state.facet(_x);let s=this.state.facet(o.cspNonce);Qh.mount(this.root,this.styleModules.concat(ZRe).reverse(),s?{nonce:s}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(s){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),s){if(this.measureRequests.indexOf(s)>-1)return;if(s.key!=null){for(let l=0;l<this.measureRequests.length;l++)if(this.measureRequests[l].key===s.key){this.measureRequests[l]=s;return}}this.measureRequests.push(s)}}plugin(s){let l=this.pluginMap.get(s);return(l===void 0||l&&l.spec!=s)&&this.pluginMap.set(s,l=this.plugins.find(u=>u.spec==s)||null),l&&l.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(s){return this.readMeasured(),this.viewState.elementAtHeight(s)}lineBlockAtHeight(s){return this.readMeasured(),this.viewState.lineBlockAtHeight(s)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(s){return this.viewState.lineBlockAt(s)}get contentHeight(){return this.viewState.contentHeight}moveByChar(s,l,u){return IR(this,s,Fte(this,s,l,u))}moveByGroup(s,l){return IR(this,s,Fte(this,s,l,u=>mRe(this,s.head,u)))}visualLineSide(s,l){let u=this.bidiSpans(s),f=this.textDirectionAt(s.from),p=u[l?u.length-1:0];return Be.cursor(p.side(l,f)+s.from,p.forward(!l,f)?1:-1)}moveToLineBoundary(s,l,u=!0){return pRe(this,s,l,u)}moveVertically(s,l,u){return IR(this,s,gRe(this,s,l,u))}domAtPos(s){return this.docView.domAtPos(s)}posAtDOM(s,l=0){return this.docView.posFromDOM(s,l)}posAtCoords(s,l=!0){return this.readMeasured(),$te(this,s,l)}coordsAtPos(s,l=1){this.readMeasured();let u=this.docView.coordsAt(s,l);if(!u||u.left==u.right)return u;let f=this.state.doc.lineAt(s),p=this.bidiSpans(f),v=p[Zh.find(p,s-f.from,-1,l)];return vx(u,v.dir==Ti.LTR==l>0)}coordsForChar(s){return this.readMeasured(),this.docView.coordsForChar(s)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(s){return!this.state.facet(wte)||s<this.viewport.from||s>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(s))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(s){if(s.length>r9e)return pte(s.length);let l=this.textDirectionAt(s.from),u;for(let p of this.bidiCache)if(p.from==s.from&&p.dir==l&&(p.fresh||hte(p.isolates,u=Tte(this,s))))return p.order;u||(u=Tte(this,s));let f=XAe(s.text,l,u);return this.bidiCache.push(new T6(s.from,s.to,l,u,!0,f)),f}get hasFocus(){var s;return(this.dom.ownerDocument.hasFocus()||ut.safari&&((s=this.inputState)===null||s===void 0?void 0:s.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Uee(this.contentDOM),this.docView.updateSelection()})}setRoot(s){this._root!=s&&(this._root=s,this.observer.setWindow((s.nodeType==9?s:s.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let s of this.plugins)s.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(s,l={}){return g6.of(new Bv(typeof s=="number"?Be.cursor(s):s,l.y,l.x,l.yMargin,l.xMargin))}scrollSnapshot(){let{scrollTop:s,scrollLeft:l}=this.scrollDOM,u=this.viewState.scrollAnchorAt(s);return g6.of(new Bv(Be.cursor(u.from),"start","start",u.top-s,l,!0))}setTabFocusMode(s){s==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof s=="boolean"?this.inputState.tabFocusMode=s?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+s)}static domEventHandlers(s){return Wa.define(()=>({}),{eventHandlers:s})}static domEventObservers(s){return Wa.define(()=>({}),{eventObservers:s})}static theme(s,l){let u=Qh.newName(),f=[D6.of(u),_x.of(BR(`.${u}`,s))];return l&&l.dark&&f.push(NR.of(!0)),f}static baseTheme(s){return Iv.lowest(_x.of(BR("."+FR,s,fne)))}static findFromDOM(s){var l;let u=s.querySelector(".cm-content"),f=u&&br.get(u)||br.get(s);return((l=f?.rootView)===null||l===void 0?void 0:l.view)||null}}return o.styleModule=_x,o.inputHandler=xte,o.clipboardInputFilter=CR,o.clipboardOutputFilter=SR,o.scrollHandler=_te,o.focusChangeEffect=Ete,o.perLineTextDirection=wte,o.exceptionSink=bte,o.updateListener=_R,o.editable=Jh,o.mouseSelectionStyle=yte,o.dragMovesSelection=vte,o.clickAddsSelectionRange=gte,o.decorations=wx,o.outerDecorations=Ote,o.atomicRanges=TR,o.bidiIsolatedRanges=Dte,o.scrollMargins=kte,o.darkTheme=NR,o.cspNonce=xt.define({combine:r=>r.length?r[0]:""}),o.contentAttributes=DR,o.editorAttributes=Ste,o.lineWrapping=o.contentAttributes.of({class:"cm-lineWrapping"}),o.announce=yr.define(),o})(),r9e=4096,mne={};class T6{constructor(r,s,l,u,f,p){this.from=r,this.to=s,this.dir=l,this.isolates=u,this.fresh=f,this.order=p}static update(r,s){if(s.empty&&!r.some(f=>f.fresh))return r;let l=[],u=r.length?r[r.length-1].dir:Ti.LTR;for(let f=Math.max(0,r.length-10);f<r.length;f++){let p=r[f];p.dir==u&&!s.touchesRange(p.from,p.to)&&l.push(new T6(s.mapPos(p.from,1),s.mapPos(p.to,-1),p.dir,p.isolates,!1,p.order))}return l}}function gne(o,r,s){for(let l=o.state.facet(r),u=l.length-1;u>=0;u--){let f=l[u],p=typeof f=="function"?f(o):f;p&&mR(p,s)}return s}let i9e=ut.mac?"mac":ut.windows?"win":ut.linux?"linux":"key";function o9e(o,r){let s=o.split(/-(?!$)/),l=s[s.length-1];l=="Space"&&(l=" ");let u,f,p,v;for(let y=0;y<s.length-1;++y){let x=s[y];if(/^(cmd|meta|m)$/i.test(x))v=!0;else if(/^a(lt)?$/i.test(x))u=!0;else if(/^(c|ctrl|control)$/i.test(x))f=!0;else if(/^s(hift)?$/i.test(x))p=!0;else if(/^mod$/i.test(x))r=="mac"?v=!0:f=!0;else throw new Error("Unrecognized modifier name: "+x)}return u&&(l="Alt-"+l),f&&(l="Ctrl-"+l),v&&(l="Meta-"+l),p&&(l="Shift-"+l),l}function k6(o,r,s){return r.altKey&&(o="Alt-"+o),r.ctrlKey&&(o="Ctrl-"+o),r.metaKey&&(o="Meta-"+o),s!==!1&&r.shiftKey&&(o="Shift-"+o),o}let s9e=Iv.default(Yn.domEventHandlers({keydown(o,r){return u9e(a9e(r.state),o,r,"editor")}})),P6=xt.define({enables:s9e}),vne=new WeakMap;function a9e(o){let r=o.facet(P6),s=vne.get(r);return s||vne.set(r,s=c9e(r.reduce((l,u)=>l.concat(u),[]))),s}let ep=null,l9e=4e3;function c9e(o,r=i9e){let s=Object.create(null),l=Object.create(null),u=(p,v)=>{let y=l[p];if(y==null)l[p]=v;else if(y!=v)throw new Error("Key binding "+p+" is used both as a regular binding and as a multi-stroke prefix")},f=(p,v,y,x,w)=>{var C,O;let T=s[p]||(s[p]=Object.create(null)),P=v.split(/ (?!$)/).map(q=>o9e(q,r));for(let q=1;q<P.length;q++){let Q=P.slice(0,q).join(" ");u(Q,!0),T[Q]||(T[Q]={preventDefault:!0,stopPropagation:!1,run:[U=>{let H=ep={view:U,prefix:Q,scope:p};return setTimeout(()=>{ep==H&&(ep=null)},l9e),!0}]})}let N=P.join(" ");u(N,!1);let j=T[N]||(T[N]={preventDefault:!1,stopPropagation:!1,run:((O=(C=T._any)===null||C===void 0?void 0:C.run)===null||O===void 0?void 0:O.slice())||[]});y&&j.run.push(y),x&&(j.preventDefault=!0),w&&(j.stopPropagation=!0)};for(let p of o){let v=p.scope?p.scope.split(" "):["editor"];if(p.any)for(let x of v){let w=s[x]||(s[x]=Object.create(null));w._any||(w._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:C}=p;for(let O in w)w[O].run.push(T=>C(T,VR))}let y=p[r]||p.key;if(y)for(let x of v)f(x,y,p.run,p.preventDefault,p.stopPropagation),p.shift&&f(x,"Shift-"+y,p.shift,p.preventDefault,p.stopPropagation)}return s}let VR=null;function u9e(o,r,s,l){VR=r;let u=IAe(r),f=Ua(u,0),p=Ru(f)==u.length&&u!=" ",v="",y=!1,x=!1,w=!1;ep&&ep.view==s&&ep.scope==l&&(v=ep.prefix+" ",Hte.indexOf(r.keyCode)<0&&(x=!0,ep=null));let C=new Set,O=j=>{if(j){for(let q of j.run)if(!C.has(q)&&(C.add(q),q(s)))return j.stopPropagation&&(w=!0),!0;j.preventDefault&&(j.stopPropagation&&(w=!0),x=!0)}return!1},T=o[l],P,N;return T&&(O(T[v+k6(u,r,!p)])?y=!0:p&&(r.altKey||r.metaKey||r.ctrlKey)&&!(ut.windows&&r.ctrlKey&&r.altKey)&&(P=Yh[r.keyCode])&&P!=u?(O(T[v+k6(P,r,!0)])||r.shiftKey&&(N=px[r.keyCode])!=u&&N!=P&&O(T[v+k6(N,r,!1)]))&&(y=!0):p&&r.shiftKey&&O(T[v+k6(u,r,!0)])&&(y=!0),!y&&O(T._any)&&(y=!0)),x&&(y=!0),y&&w&&r.stopPropagation(),VR=null,y}let d9e=!ut.ios,yne={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};d9e&&(yne[".cm-line"].caretColor=yne[".cm-content"].caretColor="transparent !important");class f9e extends Fv{constructor(r){super(),this.content=r}toDOM(){let r=document.createElement("span");return r.className="cm-placeholder",r.style.pointerEvents="none",r.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?r.setAttribute("aria-label","placeholder "+this.content):r.setAttribute("aria-hidden","true"),r}coordsAt(r){let s=r.firstChild?Rv(r.firstChild):[];if(!s.length)return null;let l=window.getComputedStyle(r.parentNode),u=vx(s[0],l.direction!="rtl"),f=parseInt(l.lineHeight);return u.bottom-u.top>f*1.5?{left:u.left,right:u.right,top:u.top,bottom:u.top+f}:u}ignoreEvent(){return!1}}function bne(o){return Wa.fromClass(class{constructor(r){this.view=r,this.placeholder=o?vn.set([vn.widget({widget:new f9e(o),side:1}).range(0)]):vn.none}get decorations(){return this.view.state.doc.length?vn.none:this.placeholder}},{decorations:r=>r.decorations})}let Ox="-10000px";class xne{constructor(r,s,l,u){this.facet=s,this.createTooltipView=l,this.removeTooltipView=u,this.input=r.state.facet(s),this.tooltips=this.input.filter(p=>p);let f=null;this.tooltipViews=this.tooltips.map(p=>f=l(p,f))}update(r,s){var l;let u=r.state.facet(this.facet),f=u.filter(y=>y);if(u===this.input){for(let y of this.tooltipViews)y.update&&y.update(r);return!1}let p=[],v=s?[]:null;for(let y=0;y<f.length;y++){let x=f[y],w=-1;if(x){for(let C=0;C<this.tooltips.length;C++){let O=this.tooltips[C];O&&O.create==x.create&&(w=C)}if(w<0)p[y]=this.createTooltipView(x,y?p[y-1]:null),v&&(v[y]=!!x.above);else{let C=p[y]=this.tooltipViews[w];v&&(v[y]=s[w]),C.update&&C.update(r)}}}for(let y of this.tooltipViews)p.indexOf(y)<0&&(this.removeTooltipView(y),(l=y.destroy)===null||l===void 0||l.call(y));return s&&(v.forEach((y,x)=>s[x]=y),s.length=v.length),this.input=u,this.tooltips=f,this.tooltipViews=p,!0}}function h9e(o={}){return I6.of(o)}function p9e(o){let{win:r}=o;return{top:0,left:0,bottom:r.innerHeight,right:r.innerWidth}}let I6=xt.define({combine:o=>{var r,s,l;return{position:ut.ios?"absolute":((r=o.find(u=>u.position))===null||r===void 0?void 0:r.position)||"fixed",parent:((s=o.find(u=>u.parent))===null||s===void 0?void 0:s.parent)||null,tooltipSpace:((l=o.find(u=>u.tooltipSpace))===null||l===void 0?void 0:l.tooltipSpace)||p9e}}}),Ene=new WeakMap,zR=Wa.fromClass(class{constructor(o){this.view=o,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let r=o.state.facet(I6);this.position=r.position,this.parent=r.parent,this.classes=o.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new xne(o,HR,(s,l)=>this.createTooltip(s,l),s=>{this.resizeObserver&&this.resizeObserver.unobserve(s.dom),s.dom.remove()}),this.above=this.manager.tooltips.map(s=>!!s.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(s=>{Date.now()>this.lastTransaction-50&&s.length>0&&s[s.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),o.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let o of this.manager.tooltipViews)this.intersectionObserver.observe(o.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(o){o.transactions.length&&(this.lastTransaction=Date.now());let r=this.manager.update(o,this.above);r&&this.observeIntersection();let s=r||o.geometryChanged,l=o.state.facet(I6);if(l.position!=this.position&&!this.madeAbsolute){this.position=l.position;for(let u of this.manager.tooltipViews)u.dom.style.position=this.position;s=!0}if(l.parent!=this.parent){this.parent&&this.container.remove(),this.parent=l.parent,this.createContainer();for(let u of this.manager.tooltipViews)this.container.appendChild(u.dom);s=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);s&&this.maybeMeasure()}createTooltip(o,r){let s=o.create(this.view),l=r?r.dom:null;if(s.dom.classList.add("cm-tooltip"),o.arrow&&!s.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let u=document.createElement("div");u.className="cm-tooltip-arrow",s.dom.appendChild(u)}return s.dom.style.position=this.position,s.dom.style.top=Ox,s.dom.style.left="0px",this.container.insertBefore(s.dom,l),s.mount&&s.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(s.dom),s}destroy(){var o,r,s;this.view.win.removeEventListener("resize",this.measureSoon);for(let l of this.manager.tooltipViews)l.dom.remove(),(o=l.destroy)===null||o===void 0||o.call(l);this.parent&&this.container.remove(),(r=this.resizeObserver)===null||r===void 0||r.disconnect(),(s=this.intersectionObserver)===null||s===void 0||s.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let o=this.view.dom.getBoundingClientRect(),r=1,s=1,l=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:u}=this.manager.tooltipViews[0];if(ut.gecko)l=u.offsetParent!=this.container.ownerDocument.body;else if(u.style.top==Ox&&u.style.left=="0px"){let f=u.getBoundingClientRect();l=Math.abs(f.top+1e4)>1||Math.abs(f.left)>1}}if(l||this.position=="absolute")if(this.parent){let u=this.parent.getBoundingClientRect();u.width&&u.height&&(r=u.width/this.parent.offsetWidth,s=u.height/this.parent.offsetHeight)}else({scaleX:r,scaleY:s}=this.view.viewState);return{editor:o,parent:this.parent?this.container.getBoundingClientRect():o,pos:this.manager.tooltips.map((u,f)=>{let p=this.manager.tooltipViews[f];return p.getCoords?p.getCoords(u.pos):this.view.coordsAtPos(u.pos)}),size:this.manager.tooltipViews.map(({dom:u})=>u.getBoundingClientRect()),space:this.view.state.facet(I6).tooltipSpace(this.view),scaleX:r,scaleY:s,makeAbsolute:l}}writeMeasure(o){var r;if(o.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let v of this.manager.tooltipViews)v.dom.style.position="absolute"}let{editor:s,space:l,scaleX:u,scaleY:f}=o,p=[];for(let v=0;v<this.manager.tooltips.length;v++){let y=this.manager.tooltips[v],x=this.manager.tooltipViews[v],{dom:w}=x,C=o.pos[v],O=o.size[v];if(!C||C.bottom<=Math.max(s.top,l.top)||C.top>=Math.min(s.bottom,l.bottom)||C.right<Math.max(s.left,l.left)-.1||C.left>Math.min(s.right,l.right)+.1){w.style.top=Ox;continue}let T=y.arrow?x.dom.querySelector(".cm-tooltip-arrow"):null,P=T?7:0,N=O.right-O.left,j=(r=Ene.get(x))!==null&&r!==void 0?r:O.bottom-O.top,q=x.offset||g9e,Q=this.view.textDirection==Ti.LTR,U=O.width>l.right-l.left?Q?l.left:l.right-O.width:Q?Math.max(l.left,Math.min(C.left-(T?14:0)+q.x,l.right-N)):Math.min(Math.max(l.left,C.left-N+(T?14:0)-q.x),l.right-N),H=this.above[v];!y.strictSide&&(H?C.top-(O.bottom-O.top)-q.y<l.top:C.bottom+(O.bottom-O.top)+q.y>l.bottom)&&H==l.bottom-C.bottom>C.top-l.top&&(H=this.above[v]=!H);let X=(H?C.top-l.top:l.bottom-C.bottom)-P;if(X<j&&x.resize!==!1){if(X<this.view.defaultLineHeight){w.style.top=Ox;continue}Ene.set(x,j),w.style.height=(j=X)/f+"px"}else w.style.height&&(w.style.height="");let Y=H?C.top-j-P-q.y:C.bottom+P+q.y,ae=U+N;if(x.overlap!==!0)for(let te of p)te.left<ae&&te.right>U&&te.top<Y+j&&te.bottom>Y&&(Y=H?te.top-j-2-P:te.bottom+P+2);if(this.position=="absolute"?(w.style.top=(Y-o.parent.top)/f+"px",w.style.left=(U-o.parent.left)/u+"px"):(w.style.top=Y/f+"px",w.style.left=U/u+"px"),T){let te=C.left+(Q?q.x:-q.x)-(U+14-7);T.style.left=te/u+"px"}x.overlap!==!0&&p.push({left:U,top:Y,right:ae,bottom:Y+j}),w.classList.toggle("cm-tooltip-above",H),w.classList.toggle("cm-tooltip-below",!H),x.positioned&&x.positioned(o.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let o of this.manager.tooltipViews)o.dom.style.top=Ox}},{eventObservers:{scroll(){this.maybeMeasure()}}}),m9e=Yn.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),g9e={x:0,y:0},HR=xt.define({enables:[zR,m9e]}),M6=xt.define({combine:o=>o.reduce((r,s)=>r.concat(s),[])});class A6{static create(r){return new A6(r)}constructor(r){this.view=r,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new xne(r,M6,(s,l)=>this.createHostedView(s,l),s=>s.dom.remove())}createHostedView(r,s){let l=r.create(this.view);return l.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(l.dom,s?s.dom.nextSibling:this.dom.firstChild),this.mounted&&l.mount&&l.mount(this.view),l}mount(r){for(let s of this.manager.tooltipViews)s.mount&&s.mount(r);this.mounted=!0}positioned(r){for(let s of this.manager.tooltipViews)s.positioned&&s.positioned(r)}update(r){this.manager.update(r)}destroy(){var r;for(let s of this.manager.tooltipViews)(r=s.destroy)===null||r===void 0||r.call(s)}passProp(r){let s;for(let l of this.manager.tooltipViews){let u=l[r];if(u!==void 0){if(s===void 0)s=u;else if(s!==u)return}}return s}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}let v9e=HR.compute([M6],o=>{let r=o.facet(M6);return r.length===0?null:{pos:Math.min(...r.map(s=>s.pos)),end:Math.max(...r.map(s=>{var l;return(l=s.end)!==null&&l!==void 0?l:s.pos})),create:A6.create,above:r[0].above,arrow:r.some(s=>s.arrow)}});class y9e{constructor(r,s,l,u,f){this.view=r,this.source=s,this.field=l,this.setHover=u,this.hoverTime=f,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:r.dom,time:0},this.checkHover=this.checkHover.bind(this),r.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),r.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let r=Date.now()-this.lastMove.time;r<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-r):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:r,lastMove:s}=this,l=r.docView.nearest(s.target);if(!l)return;let u,f=1;if(l instanceof Xh)u=l.posAtStart;else{if(u=r.posAtCoords(s),u==null)return;let v=r.coordsAtPos(u);if(!v||s.y<v.top||s.y>v.bottom||s.x<v.left-r.defaultCharacterWidth||s.x>v.right+r.defaultCharacterWidth)return;let y=r.bidiSpans(r.state.doc.lineAt(u)).find(w=>w.from<=u&&w.to>=u),x=y&&y.dir==Ti.RTL?-1:1;f=s.x<v.left?-x:x}let p=this.source(r,u,f);if(p?.then){let v=this.pending={pos:u};p.then(y=>{this.pending==v&&(this.pending=null,y&&!(Array.isArray(y)&&!y.length)&&r.dispatch({effects:this.setHover.of(Array.isArray(y)?y:[y])}))},y=>zs(r.state,y,"hover tooltip"))}else p&&!(Array.isArray(p)&&!p.length)&&r.dispatch({effects:this.setHover.of(Array.isArray(p)?p:[p])})}get tooltip(){let r=this.view.plugin(zR),s=r?r.manager.tooltips.findIndex(l=>l.create==A6.create):-1;return s>-1?r.manager.tooltipViews[s]:null}mousemove(r){var s,l;this.lastMove={x:r.clientX,y:r.clientY,target:r.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:u,tooltip:f}=this;if(u.length&&f&&!b9e(f.dom,r)||this.pending){let{pos:p}=u[0]||this.pending,v=(l=(s=u[0])===null||s===void 0?void 0:s.end)!==null&&l!==void 0?l:p;(p==v?this.view.posAtCoords(this.lastMove)!=p:!x9e(this.view,p,v,r.clientX,r.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(r){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:s}=this;if(s.length){let{tooltip:l}=this;l&&l.dom.contains(r.relatedTarget)?this.watchTooltipLeave(l.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(r){let s=l=>{r.removeEventListener("mouseleave",s),this.active.length&&!this.view.dom.contains(l.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};r.addEventListener("mouseleave",s)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}let R6=4;function b9e(o,r){let{left:s,right:l,top:u,bottom:f}=o.getBoundingClientRect(),p;if(p=o.querySelector(".cm-tooltip-arrow")){let v=p.getBoundingClientRect();u=Math.min(v.top,u),f=Math.max(v.bottom,f)}return r.clientX>=s-R6&&r.clientX<=l+R6&&r.clientY>=u-R6&&r.clientY<=f+R6}function x9e(o,r,s,l,u,f){let p=o.scrollDOM.getBoundingClientRect(),v=o.documentTop+o.documentPadding.top+o.contentHeight;if(p.left>l||p.right<l||p.top>u||Math.min(p.bottom,v)<u)return!1;let y=o.posAtCoords({x:l,y:u},!1);return y>=r&&y<=s}function E9e(o,r={}){let s=yr.define(),l=qa.define({create(){return[]},update(u,f){if(u.length&&(r.hideOnChange&&(f.docChanged||f.selection)?u=[]:r.hideOn&&(u=u.filter(p=>!r.hideOn(f,p))),f.docChanged)){let p=[];for(let v of u){let y=f.changes.mapPos(v.pos,-1,Vo.TrackDel);if(y!=null){let x=Object.assign(Object.create(null),v);x.pos=y,x.end!=null&&(x.end=f.changes.mapPos(x.end)),p.push(x)}}u=p}for(let p of f.effects)p.is(s)&&(u=p.value),p.is(w9e)&&(u=[]);return u},provide:u=>M6.from(u)});return{active:l,extension:[l,Wa.define(u=>new y9e(u,o,l,s,r.hoverTime||300)),v9e]}}function wne(o,r){let s=o.plugin(zR);if(!s)return null;let l=s.manager.tooltips.indexOf(r);return l<0?null:s.manager.tooltipViews[l]}let w9e=yr.define(),_ne=xt.define({combine(o){let r,s;for(let l of o)r=r||l.topContainer,s=s||l.bottomContainer;return{topContainer:r,bottomContainer:s}}}),_9e=Wa.fromClass(class{constructor(o){this.input=o.state.facet(UR),this.specs=this.input.filter(s=>s),this.panels=this.specs.map(s=>s(o));let r=o.state.facet(_ne);this.top=new L6(o,!0,r.topContainer),this.bottom=new L6(o,!1,r.bottomContainer),this.top.sync(this.panels.filter(s=>s.top)),this.bottom.sync(this.panels.filter(s=>!s.top));for(let s of this.panels)s.dom.classList.add("cm-panel"),s.mount&&s.mount()}update(o){let r=o.state.facet(_ne);this.top.container!=r.topContainer&&(this.top.sync([]),this.top=new L6(o.view,!0,r.topContainer)),this.bottom.container!=r.bottomContainer&&(this.bottom.sync([]),this.bottom=new L6(o.view,!1,r.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let s=o.state.facet(UR);if(s!=this.input){let l=s.filter(y=>y),u=[],f=[],p=[],v=[];for(let y of l){let x=this.specs.indexOf(y),w;x<0?(w=y(o.view),v.push(w)):(w=this.panels[x],w.update&&w.update(o)),u.push(w),(w.top?f:p).push(w)}this.specs=l,this.panels=u,this.top.sync(f),this.bottom.sync(p);for(let y of v)y.dom.classList.add("cm-panel"),y.mount&&y.mount()}else for(let l of this.panels)l.update&&l.update(o)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:o=>Yn.scrollMargins.of(r=>{let s=r.plugin(o);return s&&{top:s.top.scrollMargin(),bottom:s.bottom.scrollMargin()}})});class L6{constructor(r,s,l){this.view=r,this.top=s,this.container=l,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(r){for(let s of this.panels)s.destroy&&r.indexOf(s)<0&&s.destroy();this.panels=r,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let s=this.container||this.view.dom;s.insertBefore(this.dom,this.top?s.firstChild:null)}let r=this.dom.firstChild;for(let s of this.panels)if(s.dom.parentNode==this.dom){for(;r!=s.dom;)r=Cne(r);r=r.nextSibling}else this.dom.insertBefore(s.dom,r);for(;r;)r=Cne(r)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let r of this.classes.split(" "))r&&this.container.classList.remove(r);for(let r of(this.classes=this.view.themeClasses).split(" "))r&&this.container.classList.add(r)}}}function Cne(o){let r=o.nextSibling;return o.remove(),r}let UR=xt.define({enables:_9e});class Vv extends zm{compare(r){return this==r||this.constructor==r.constructor&&this.eq(r)}eq(r){return!1}destroy(r){}}Vv.prototype.elementClass="",Vv.prototype.toDOM=void 0,Vv.prototype.mapMode=Vo.TrackBefore,Vv.prototype.startSide=Vv.prototype.endSide=-1,Vv.prototype.point=!0;let Sne=1024,C9e=0;class qR{constructor(r,s){this.from=r,this.to=s}}class cn{constructor(r={}){this.id=C9e++,this.perNode=!!r.perNode,this.deserialize=r.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(r){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof r!="function"&&(r=da.match(r)),s=>{let l=r(s);return l===void 0?null:[this,l]}}}cn.closedBy=new cn({deserialize:o=>o.split(" ")}),cn.openedBy=new cn({deserialize:o=>o.split(" ")}),cn.group=new cn({deserialize:o=>o.split(" ")}),cn.isolate=new cn({deserialize:o=>{if(o&&o!="rtl"&&o!="ltr"&&o!="auto")throw new RangeError("Invalid value for isolate: "+o);return o||"auto"}}),cn.contextHash=new cn({perNode:!0}),cn.lookAhead=new cn({perNode:!0}),cn.mounted=new cn({perNode:!0});class $6{constructor(r,s,l){this.tree=r,this.overlay=s,this.parser=l}static get(r){return r&&r.props&&r.props[cn.mounted.id]}}let S9e=Object.create(null);class da{constructor(r,s,l,u=0){this.name=r,this.props=s,this.id=l,this.flags=u}static define(r){let s=r.props&&r.props.length?Object.create(null):S9e,l=(r.top?1:0)|(r.skipped?2:0)|(r.error?4:0)|(r.name==null?8:0),u=new da(r.name||"",s,r.id,l);if(r.props){for(let f of r.props)if(Array.isArray(f)||(f=f(u)),f){if(f[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");s[f[0].id]=f[1]}}return u}prop(r){return this.props[r.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(r){if(typeof r=="string"){if(this.name==r)return!0;let s=this.prop(cn.group);return s?s.indexOf(r)>-1:!1}return this.id==r}static match(r){let s=Object.create(null);for(let l in r)for(let u of l.split(" "))s[u]=r[l];return l=>{for(let u=l.prop(cn.group),f=-1;f<(u?u.length:0);f++){let p=s[f<0?l.name:u[f]];if(p)return p}}}}da.none=new da("",Object.create(null),0,8);class WR{constructor(r){this.types=r;for(let s=0;s<r.length;s++)if(r[s].id!=s)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...r){let s=[];for(let l of this.types){let u=null;for(let f of r){let p=f(l);p&&(u||(u=Object.assign({},l.props)),u[p[0].id]=p[1])}s.push(u?new da(l.name,u,l.id,l.flags):l)}return new WR(s)}}let N6=new WeakMap,One=new WeakMap;var Uo=function(o){return o[o.ExcludeBuffers=1]="ExcludeBuffers",o[o.IncludeAnonymous=2]="IncludeAnonymous",o[o.IgnoreMounts=4]="IgnoreMounts",o[o.IgnoreOverlays=8]="IgnoreOverlays",o}(Uo||{});class Vi{constructor(r,s,l,u,f){if(this.type=r,this.children=s,this.positions=l,this.length=u,this.props=null,f&&f.length){this.props=Object.create(null);for(let[p,v]of f)this.props[typeof p=="number"?p:p.id]=v}}toString(){let r=$6.get(this);if(r&&!r.overlay)return r.tree.toString();let s="";for(let l of this.children){let u=l.toString();u&&(s&&(s+=","),s+=u)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(s.length?"("+s+")":""):s}cursor(r=0){return new YR(this.topNode,r)}cursorAt(r,s=0,l=0){let u=N6.get(this)||this.topNode,f=new YR(u);return f.moveTo(r,s),N6.set(this,f._tree),f}get topNode(){return new Nl(this,0,0,null)}resolve(r,s=0){let l=Dx(N6.get(this)||this.topNode,r,s,!1);return N6.set(this,l),l}resolveInner(r,s=0){let l=Dx(One.get(this)||this.topNode,r,s,!0);return One.set(this,l),l}resolveStack(r,s=0){return T9e(this,r,s)}iterate(r){let{enter:s,leave:l,from:u=0,to:f=this.length}=r,p=r.mode||0,v=(p&Uo.IncludeAnonymous)>0;for(let y=this.cursor(p|Uo.IncludeAnonymous);;){let x=!1;if(y.from<=f&&y.to>=u&&(!v&&y.type.isAnonymous||s(y)!==!1)){if(y.firstChild())continue;x=!0}for(;x&&l&&(v||!y.type.isAnonymous)&&l(y),!y.nextSibling();){if(!y.parent())return;x=!0}}}prop(r){return r.perNode?this.props?this.props[r.id]:void 0:this.type.prop(r)}get propValues(){let r=[];if(this.props)for(let s in this.props)r.push([+s,this.props[s]]);return r}balance(r={}){return this.children.length<=8?this:KR(da.none,this.children,this.positions,0,this.children.length,0,this.length,(s,l,u)=>new Vi(this.type,s,l,u,this.propValues),r.makeTree||((s,l,u)=>new Vi(da.none,s,l,u)))}static build(r){return k9e(r)}}Vi.empty=new Vi(da.none,[],[],0);class GR{constructor(r,s){this.buffer=r,this.index=s}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new GR(this.buffer,this.index)}}class tp{constructor(r,s,l){this.buffer=r,this.length=s,this.set=l}get type(){return da.none}toString(){let r=[];for(let s=0;s<this.buffer.length;)r.push(this.childString(s)),s=this.buffer[s+3];return r.join(",")}childString(r){let s=this.buffer[r],l=this.buffer[r+3],u=this.set.types[s],f=u.name;if(/\W/.test(f)&&!u.isError&&(f=JSON.stringify(f)),r+=4,l==r)return f;let p=[];for(;r<l;)p.push(this.childString(r)),r=this.buffer[r+3];return f+"("+p.join(",")+")"}findChild(r,s,l,u,f){let{buffer:p}=this,v=-1;for(let y=r;y!=s&&!(Dne(f,u,p[y+1],p[y+2])&&(v=y,l>0));y=p[y+3]);return v}slice(r,s,l){let u=this.buffer,f=new Uint16Array(s-r),p=0;for(let v=r,y=0;v<s;){f[y++]=u[v++],f[y++]=u[v++]-l;let x=f[y++]=u[v++]-l;f[y++]=u[v++]-r,p=Math.max(p,x)}return new tp(f,p,this.set)}}function Dne(o,r,s,l){switch(o){case-2:return s<r;case-1:return l>=r&&s<r;case 0:return s<r&&l>r;case 1:return s<=r&&l>r;case 2:return l>r;case 4:return!0}}function Dx(o,r,s,l){for(var u;o.from==o.to||(s<1?o.from>=r:o.from>r)||(s>-1?o.to<=r:o.to<r);){let p=!l&&o instanceof Nl&&o.index<0?null:o.parent;if(!p)return o;o=p}let f=l?0:Uo.IgnoreOverlays;if(l)for(let p=o,v=p.parent;v;p=v,v=p.parent)p instanceof Nl&&p.index<0&&((u=v.enter(r,s,f))===null||u===void 0?void 0:u.from)!=p.from&&(o=v);for(;;){let p=o.enter(r,s,f);if(!p)return o;o=p}}class Tne{cursor(r=0){return new YR(this,r)}getChild(r,s=null,l=null){let u=kne(this,r,s,l);return u.length?u[0]:null}getChildren(r,s=null,l=null){return kne(this,r,s,l)}resolve(r,s=0){return Dx(this,r,s,!1)}resolveInner(r,s=0){return Dx(this,r,s,!0)}matchContext(r){return QR(this,r)}enterUnfinishedNodesBefore(r){let s=this.childBefore(r),l=this;for(;s;){let u=s.lastChild;if(!u||u.to!=s.to)break;u.type.isError&&u.from==u.to?(l=s,s=u.prevSibling):s=u}return l}get node(){return this}get next(){return this.parent}}class Nl extends Tne{constructor(r,s,l,u){super(),this._tree=r,this.from=s,this.index=l,this._parent=u}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(r,s,l,u,f=0){for(let p=this;;){for(let{children:v,positions:y}=p._tree,x=s>0?v.length:-1;r!=x;r+=s){let w=v[r],C=y[r]+p.from;if(Dne(u,l,C,C+w.length)){if(w instanceof tp){if(f&Uo.ExcludeBuffers)continue;let O=w.findChild(0,w.buffer.length,s,l-C,u);if(O>-1)return new np(new O9e(p,w,r,C),null,O)}else if(f&Uo.IncludeAnonymous||!w.type.isAnonymous||XR(w)){let O;if(!(f&Uo.IgnoreMounts)&&(O=$6.get(w))&&!O.overlay)return new Nl(O.tree,C,r,p);let T=new Nl(w,C,r,p);return f&Uo.IncludeAnonymous||!T.type.isAnonymous?T:T.nextChild(s<0?w.children.length-1:0,s,l,u)}}}if(f&Uo.IncludeAnonymous||!p.type.isAnonymous||(p.index>=0?r=p.index+s:r=s<0?-1:p._parent._tree.children.length,p=p._parent,!p))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(r){return this.nextChild(0,1,r,2)}childBefore(r){return this.nextChild(this._tree.children.length-1,-1,r,-2)}enter(r,s,l=0){let u;if(!(l&Uo.IgnoreOverlays)&&(u=$6.get(this._tree))&&u.overlay){let f=r-this.from;for(let{from:p,to:v}of u.overlay)if((s>0?p<=f:p<f)&&(s<0?v>=f:v>f))return new Nl(u.tree,u.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,r,s,l)}nextSignificantParent(){let r=this;for(;r.type.isAnonymous&&r._parent;)r=r._parent;return r}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function kne(o,r,s,l){let u=o.cursor(),f=[];if(!u.firstChild())return f;if(s!=null){for(let p=!1;!p;)if(p=u.type.is(s),!u.nextSibling())return f}for(;;){if(l!=null&&u.type.is(l))return f;if(u.type.is(r)&&f.push(u.node),!u.nextSibling())return l==null?f:[]}}function QR(o,r,s=r.length-1){for(let l=o.parent;s>=0;l=l.parent){if(!l)return!1;if(!l.type.isAnonymous){if(r[s]&&r[s]!=l.name)return!1;s--}}return!0}class O9e{constructor(r,s,l,u){this.parent=r,this.buffer=s,this.index=l,this.start=u}}class np extends Tne{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(r,s,l){super(),this.context=r,this._parent=s,this.index=l,this.type=r.buffer.set.types[r.buffer.buffer[l]]}child(r,s,l){let{buffer:u}=this.context,f=u.findChild(this.index+4,u.buffer[this.index+3],r,s-this.context.start,l);return f<0?null:new np(this.context,this,f)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(r){return this.child(1,r,2)}childBefore(r){return this.child(-1,r,-2)}enter(r,s,l=0){if(l&Uo.ExcludeBuffers)return null;let{buffer:u}=this.context,f=u.findChild(this.index+4,u.buffer[this.index+3],s>0?1:-1,r-this.context.start,s);return f<0?null:new np(this.context,this,f)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(r){return this._parent?null:this.context.parent.nextChild(this.context.index+r,r,0,4)}get nextSibling(){let{buffer:r}=this.context,s=r.buffer[this.index+3];return s<(this._parent?r.buffer[this._parent.index+3]:r.buffer.length)?new np(this.context,this._parent,s):this.externalSibling(1)}get prevSibling(){let{buffer:r}=this.context,s=this._parent?this._parent.index+4:0;return this.index==s?this.externalSibling(-1):new np(this.context,this._parent,r.findChild(s,this.index,-1,0,4))}get tree(){return null}toTree(){let r=[],s=[],{buffer:l}=this.context,u=this.index+4,f=l.buffer[this.index+3];if(f>u){let p=l.buffer[this.index+1];r.push(l.slice(u,f,p)),s.push(0)}return new Vi(this.type,r,s,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Pne(o){if(!o.length)return null;let r=0,s=o[0];for(let f=1;f<o.length;f++){let p=o[f];(p.from>s.from||p.to<s.to)&&(s=p,r=f)}let l=s instanceof Nl&&s.index<0?null:s.parent,u=o.slice();return l?u[r]=l:u.splice(r,1),new D9e(u,s)}class D9e{constructor(r,s){this.heads=r,this.node=s}get next(){return Pne(this.heads)}}function T9e(o,r,s){let l=o.resolveInner(r,s),u=null;for(let f=l instanceof Nl?l:l.context.parent;f;f=f.parent)if(f.index<0){let p=f.parent;(u||(u=[l])).push(p.resolve(r,s)),f=p}else{let p=$6.get(f.tree);if(p&&p.overlay&&p.overlay[0].from<=r&&p.overlay[p.overlay.length-1].to>=r){let v=new Nl(p.tree,p.overlay[0].from+f.from,-1,f);(u||(u=[l])).push(Dx(v,r,s,!1))}}return u?Pne(u):l}class YR{get name(){return this.type.name}constructor(r,s=0){if(this.mode=s,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,r instanceof Nl)this.yieldNode(r);else{this._tree=r.context.parent,this.buffer=r.context;for(let l=r._parent;l;l=l._parent)this.stack.unshift(l.index);this.bufferNode=r,this.yieldBuf(r.index)}}yieldNode(r){return r?(this._tree=r,this.type=r.type,this.from=r.from,this.to=r.to,!0):!1}yieldBuf(r,s){this.index=r;let{start:l,buffer:u}=this.buffer;return this.type=s||u.set.types[u.buffer[r]],this.from=l+u.buffer[r+1],this.to=l+u.buffer[r+2],!0}yield(r){return r?r instanceof Nl?(this.buffer=null,this.yieldNode(r)):(this.buffer=r.context,this.yieldBuf(r.index,r.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(r,s,l){if(!this.buffer)return this.yield(this._tree.nextChild(r<0?this._tree._tree.children.length-1:0,r,s,l,this.mode));let{buffer:u}=this.buffer,f=u.findChild(this.index+4,u.buffer[this.index+3],r,s-this.buffer.start,l);return f<0?!1:(this.stack.push(this.index),this.yieldBuf(f))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(r){return this.enterChild(1,r,2)}childBefore(r){return this.enterChild(-1,r,-2)}enter(r,s,l=this.mode){return this.buffer?l&Uo.ExcludeBuffers?!1:this.enterChild(1,r,s):this.yield(this._tree.enter(r,s,l))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Uo.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let r=this.mode&Uo.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(r)}sibling(r){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+r,r,0,4,this.mode)):!1;let{buffer:s}=this.buffer,l=this.stack.length-1;if(r<0){let u=l<0?0:this.stack[l]+4;if(this.index!=u)return this.yieldBuf(s.findChild(u,this.index,-1,0,4))}else{let u=s.buffer[this.index+3];if(u<(l<0?s.buffer.length:s.buffer[this.stack[l]+3]))return this.yieldBuf(u)}return l<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+r,r,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(r){let s,l,{buffer:u}=this;if(u){if(r>0){if(this.index<u.buffer.buffer.length)return!1}else for(let f=0;f<this.index;f++)if(u.buffer.buffer[f+3]<this.index)return!1;({index:s,parent:l}=u)}else({index:s,_parent:l}=this._tree);for(;l;{index:s,_parent:l}=l)if(s>-1)for(let f=s+r,p=r<0?-1:l._tree.children.length;f!=p;f+=r){let v=l._tree.children[f];if(this.mode&Uo.IncludeAnonymous||v instanceof tp||!v.type.isAnonymous||XR(v))return!1}return!0}move(r,s){if(s&&this.enterChild(r,0,4))return!0;for(;;){if(this.sibling(r))return!0;if(this.atLastNode(r)||!this.parent())return!1}}next(r=!0){return this.move(1,r)}prev(r=!0){return this.move(-1,r)}moveTo(r,s=0){for(;(this.from==this.to||(s<1?this.from>=r:this.from>r)||(s>-1?this.to<=r:this.to<r))&&this.parent(););for(;this.enterChild(1,r,s););return this}get node(){if(!this.buffer)return this._tree;let r=this.bufferNode,s=null,l=0;if(r&&r.context==this.buffer)e:for(let u=this.index,f=this.stack.length;f>=0;){for(let p=r;p;p=p._parent)if(p.index==u){if(u==this.index)return p;s=p,l=f+1;break e}u=this.stack[--f]}for(let u=l;u<this.stack.length;u++)s=new np(this.buffer,s,this.stack[u]);return this.bufferNode=new np(this.buffer,s,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(r,s){for(let l=0;;){let u=!1;if(this.type.isAnonymous||r(this)!==!1){if(this.firstChild()){l++;continue}this.type.isAnonymous||(u=!0)}for(;u&&s&&s(this),u=this.type.isAnonymous,!this.nextSibling();){if(!l)return;this.parent(),l--,u=!0}}}matchContext(r){if(!this.buffer)return QR(this.node,r);let{buffer:s}=this.buffer,{types:l}=s.set;for(let u=r.length-1,f=this.stack.length-1;u>=0;f--){if(f<0)return QR(this.node,r,u);let p=l[s.buffer[this.stack[f]]];if(!p.isAnonymous){if(r[u]&&r[u]!=p.name)return!1;u--}}return!0}}function XR(o){return o.children.some(r=>r instanceof tp||!r.type.isAnonymous||XR(r))}function k9e(o){var r;let{buffer:s,nodeSet:l,maxBufferLength:u=Sne,reused:f=[],minRepeatType:p=l.types.length}=o,v=Array.isArray(s)?new GR(s,s.length):s,y=l.types,x=0,w=0;function C(X,Y,ae,te,ve,be){let{id:Ce,start:Te,end:Re,size:it}=v,Er=w;for(;it<0;)if(v.next(),it==-1){let ur=f[Ce];ae.push(ur),te.push(Te-X);return}else if(it==-3){x=Ce;return}else if(it==-4){w=Ce;return}else throw new RangeError(`Unrecognized record size: ${it}`);let On=y[Ce],qt,bs,Ac=Te-X;if(Re-Te<=u&&(bs=j(v.pos-Y,ve))){let ur=new Uint16Array(bs.size-bs.skip),si=v.pos-bs.size,Wo=ur.length;for(;v.pos>si;)Wo=q(bs.start,ur,Wo);qt=new tp(ur,Re-bs.start,l),Ac=bs.start-X}else{let ur=v.pos-it;v.next();let si=[],Wo=[],ma=Ce>=p?Ce:-1,Xa=0,zi=Re;for(;v.pos>ur;)ma>=0&&v.id==ma&&v.size>=0?(v.end<=zi-u&&(P(si,Wo,Te,Xa,v.end,zi,ma,Er),Xa=si.length,zi=v.end),v.next()):be>2500?O(Te,ur,si,Wo):C(Te,ur,si,Wo,ma,be+1);if(ma>=0&&Xa>0&&Xa<si.length&&P(si,Wo,Te,Xa,Te,zi,ma,Er),si.reverse(),Wo.reverse(),ma>-1&&Xa>0){let yp=T(On);qt=KR(On,si,Wo,0,si.length,0,Re-Te,yp,yp)}else qt=N(On,si,Wo,Re-Te,Er-Re)}ae.push(qt),te.push(Ac)}function O(X,Y,ae,te){let ve=[],be=0,Ce=-1;for(;v.pos>Y;){let{id:Te,start:Re,end:it,size:Er}=v;if(Er>4)v.next();else{if(Ce>-1&&Re<Ce)break;Ce<0&&(Ce=it-u),ve.push(Te,Re,it),be++,v.next()}}if(be){let Te=new Uint16Array(be*4),Re=ve[ve.length-2];for(let it=ve.length-3,Er=0;it>=0;it-=3)Te[Er++]=ve[it],Te[Er++]=ve[it+1]-Re,Te[Er++]=ve[it+2]-Re,Te[Er++]=Er;ae.push(new tp(Te,ve[2]-Re,l)),te.push(Re-X)}}function T(X){return(Y,ae,te)=>{let ve=0,be=Y.length-1,Ce,Te;if(be>=0&&(Ce=Y[be])instanceof Vi){if(!be&&Ce.type==X&&Ce.length==te)return Ce;(Te=Ce.prop(cn.lookAhead))&&(ve=ae[be]+Ce.length+Te)}return N(X,Y,ae,te,ve)}}function P(X,Y,ae,te,ve,be,Ce,Te){let Re=[],it=[];for(;X.length>te;)Re.push(X.pop()),it.push(Y.pop()+ae-ve);X.push(N(l.types[Ce],Re,it,be-ve,Te-be)),Y.push(ve-ae)}function N(X,Y,ae,te,ve=0,be){if(x){let Ce=[cn.contextHash,x];be=be?[Ce].concat(be):[Ce]}if(ve>25){let Ce=[cn.lookAhead,ve];be=be?[Ce].concat(be):[Ce]}return new Vi(X,Y,ae,te,be)}function j(X,Y){let ae=v.fork(),te=0,ve=0,be=0,Ce=ae.end-u,Te={size:0,start:0,skip:0};e:for(let Re=ae.pos-X;ae.pos>Re;){let it=ae.size;if(ae.id==Y&&it>=0){Te.size=te,Te.start=ve,Te.skip=be,be+=4,te+=4,ae.next();continue}let Er=ae.pos-it;if(it<0||Er<Re||ae.start<Ce)break;let On=ae.id>=p?4:0,qt=ae.start;for(ae.next();ae.pos>Er;){if(ae.size<0)if(ae.size==-3)On+=4;else break e;else ae.id>=p&&(On+=4);ae.next()}ve=qt,te+=it,be+=On}return(Y<0||te==X)&&(Te.size=te,Te.start=ve,Te.skip=be),Te.size>4?Te:void 0}function q(X,Y,ae){let{id:te,start:ve,end:be,size:Ce}=v;if(v.next(),Ce>=0&&te<p){let Te=ae;if(Ce>4){let Re=v.pos-(Ce-4);for(;v.pos>Re;)ae=q(X,Y,ae)}Y[--ae]=Te,Y[--ae]=be-X,Y[--ae]=ve-X,Y[--ae]=te}else Ce==-3?x=te:Ce==-4&&(w=te);return ae}let Q=[],U=[];for(;v.pos>0;)C(o.start||0,o.bufferStart||0,Q,U,-1,0);let H=(r=o.length)!==null&&r!==void 0?r:Q.length?U[0]+Q[0].length:0;return new Vi(y[o.topID],Q.reverse(),U.reverse(),H)}let Ine=new WeakMap;function F6(o,r){if(!o.isAnonymous||r instanceof tp||r.type!=o)return 1;let s=Ine.get(r);if(s==null){s=1;for(let l of r.children){if(l.type!=o||!(l instanceof Vi)){s=1;break}s+=F6(o,l)}Ine.set(r,s)}return s}function KR(o,r,s,l,u,f,p,v,y){let x=0;for(let P=l;P<u;P++)x+=F6(o,r[P]);let w=Math.ceil(x*1.5/8),C=[],O=[];function T(P,N,j,q,Q){for(let U=j;U<q;){let H=U,X=N[U],Y=F6(o,P[U]);for(U++;U<q;U++){let ae=F6(o,P[U]);if(Y+ae>=w)break;Y+=ae}if(U==H+1){if(Y>w){let ae=P[H];T(ae.children,ae.positions,0,ae.children.length,N[H]+Q);continue}C.push(P[H])}else{let ae=N[U-1]+P[U-1].length-X;C.push(KR(o,P,N,H,U,X,ae,null,y))}O.push(X+Q-f)}}return T(r,s,l,u,0),(v||y)(C,O,p)}class Wm{constructor(r,s,l,u,f=!1,p=!1){this.from=r,this.to=s,this.tree=l,this.offset=u,this.open=(f?1:0)|(p?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(r,s=[],l=!1){let u=[new Wm(0,r.length,r,0,!1,l)];for(let f of s)f.to>r.length&&u.push(f);return u}static applyChanges(r,s,l=128){if(!s.length)return r;let u=[],f=1,p=r.length?r[0]:null;for(let v=0,y=0,x=0;;v++){let w=v<s.length?s[v]:null,C=w?w.fromA:1e9;if(C-y>=l)for(;p&&p.from<C;){let O=p;if(y>=O.from||C<=O.to||x){let T=Math.max(O.from,y)-x,P=Math.min(O.to,C)-x;O=T>=P?null:new Wm(T,P,O.tree,O.offset+x,v>0,!!w)}if(O&&u.push(O),p.to>C)break;p=f<r.length?r[f++]:null}if(!w)break;y=w.toA,x=w.toA-w.toB}return u}}class Mne{startParse(r,s,l){return typeof r=="string"&&(r=new P9e(r)),l=l?l.length?l.map(u=>new qR(u.from,u.to)):[new qR(0,0)]:[new qR(0,r.length)],this.createParse(r,s||[],l)}parse(r,s,l){let u=this.startParse(r,s,l);for(;;){let f=u.advance();if(f)return f}}}class P9e{constructor(r){this.string=r}get length(){return this.string.length}chunk(r){return this.string.slice(r)}get lineChunks(){return!1}read(r,s){return this.string.slice(r,s)}}new cn({perNode:!0});let I9e=0;class Fl{constructor(r,s,l,u){this.name=r,this.set=s,this.base=l,this.modified=u,this.id=I9e++}toString(){let{name:r}=this;for(let s of this.modified)s.name&&(r=`${s.name}(${r})`);return r}static define(r,s){let l=typeof r=="string"?r:"?";if(r instanceof Fl&&(s=r),s?.base)throw new Error("Can not derive from a modified tag");let u=new Fl(l,[],null,[]);if(u.set.push(u),s)for(let f of s.set)u.set.push(f);return u}static defineModifier(r){let s=new B6(r);return l=>l.modified.indexOf(s)>-1?l:B6.get(l.base||l,l.modified.concat(s).sort((u,f)=>u.id-f.id))}}let M9e=0;class B6{constructor(r){this.name=r,this.instances=[],this.id=M9e++}static get(r,s){if(!s.length)return r;let l=s[0].instances.find(v=>v.base==r&&A9e(s,v.modified));if(l)return l;let u=[],f=new Fl(r.name,u,r,s);for(let v of s)v.instances.push(f);let p=R9e(s);for(let v of r.set)if(!v.modified.length)for(let y of p)u.push(B6.get(v,y));return f}}function A9e(o,r){return o.length==r.length&&o.every((s,l)=>s==r[l])}function R9e(o){let r=[[]];for(let s=0;s<o.length;s++)for(let l=0,u=r.length;l<u;l++)r.push(r[l].concat(o[s]));return r.sort((s,l)=>l.length-s.length)}function Ane(o){let r=Object.create(null);for(let s in o){let l=o[s];Array.isArray(l)||(l=[l]);for(let u of s.split(" "))if(u){let f=[],p=2,v=u;for(let C=0;;){if(v=="..."&&C>0&&C+3==u.length){p=1;break}let O=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(v);if(!O)throw new RangeError("Invalid path: "+u);if(f.push(O[0]=="*"?"":O[0][0]=='"'?JSON.parse(O[0]):O[0]),C+=O[0].length,C==u.length)break;let T=u[C++];if(C==u.length&&T=="!"){p=0;break}if(T!="/")throw new RangeError("Invalid path: "+u);v=u.slice(C)}let y=f.length-1,x=f[y];if(!x)throw new RangeError("Invalid path: "+u);let w=new j6(l,p,y>0?f.slice(0,y):null);r[x]=w.sort(r[x])}}return Rne.add(r)}let Rne=new cn;class j6{constructor(r,s,l,u){this.tags=r,this.mode=s,this.context=l,this.next=u}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(r){return!r||r.depth<this.depth?(this.next=r,this):(r.next=this.sort(r.next),r)}get depth(){return this.context?this.context.length:0}}j6.empty=new j6([],2,null);function Lne(o,r){let s=Object.create(null);for(let f of o)if(!Array.isArray(f.tag))s[f.tag.id]=f.class;else for(let p of f.tag)s[p.id]=f.class;let{scope:l,all:u=null}=r||{};return{style:f=>{let p=u;for(let v of f)for(let y of v.set){let x=s[y.id];if(x){p=p?p+" "+x:x;break}}return p},scope:l}}function L9e(o,r){let s=null;for(let l of o){let u=l.style(r);u&&(s=s?s+" "+u:u)}return s}function $9e(o,r,s,l=0,u=o.length){let f=new N9e(l,Array.isArray(r)?r:[r],s);f.highlightRange(o.cursor(),l,u,"",f.highlighters),f.flush(u)}class N9e{constructor(r,s,l){this.at=r,this.highlighters=s,this.span=l,this.class=""}startSpan(r,s){s!=this.class&&(this.flush(r),r>this.at&&(this.at=r),this.class=s)}flush(r){r>this.at&&this.class&&this.span(this.at,r,this.class)}highlightRange(r,s,l,u,f){let{type:p,from:v,to:y}=r;if(v>=l||y<=s)return;p.isTop&&(f=this.highlighters.filter(T=>!T.scope||T.scope(p)));let x=u,w=F9e(r)||j6.empty,C=L9e(f,w.tags);if(C&&(x&&(x+=" "),x+=C,w.mode==1&&(u+=(u?" ":"")+C)),this.startSpan(Math.max(s,v),x),w.opaque)return;let O=r.tree&&r.tree.prop(cn.mounted);if(O&&O.overlay){let T=r.node.enter(O.overlay[0].from+v,1),P=this.highlighters.filter(j=>!j.scope||j.scope(O.tree.type)),N=r.firstChild();for(let j=0,q=v;;j++){let Q=j<O.overlay.length?O.overlay[j]:null,U=Q?Q.from+v:y,H=Math.max(s,q),X=Math.min(l,U);if(H<X&&N)for(;r.from<X&&(this.highlightRange(r,H,X,u,f),this.startSpan(Math.min(X,r.to),x),!(r.to>=U||!r.nextSibling())););if(!Q||U>l)break;q=Q.to+v,q>s&&(this.highlightRange(T.cursor(),Math.max(s,Q.from+v),Math.min(l,q),"",P),this.startSpan(Math.min(l,q),x))}N&&r.parent()}else if(r.firstChild()){O&&(u="");do if(!(r.to<=s)){if(r.from>=l)break;this.highlightRange(r,s,l,u,f),this.startSpan(Math.min(l,r.to),x)}while(r.nextSibling());r.parent()}}}function F9e(o){let r=o.type.prop(Rne);for(;r&&r.context&&!o.matchContext(r.context);)r=r.next;return r||null}let Ye=Fl.define,V6=Ye(),rp=Ye(),$ne=Ye(rp),Nne=Ye(rp),ip=Ye(),z6=Ye(ip),ZR=Ye(ip),Fu=Ye(),Gm=Ye(Fu),Bu=Ye(),ju=Ye(),JR=Ye(),Tx=Ye(JR),H6=Ye(),Pe={comment:V6,lineComment:Ye(V6),blockComment:Ye(V6),docComment:Ye(V6),name:rp,variableName:Ye(rp),typeName:$ne,tagName:Ye($ne),propertyName:Nne,attributeName:Ye(Nne),className:Ye(rp),labelName:Ye(rp),namespace:Ye(rp),macroName:Ye(rp),literal:ip,string:z6,docString:Ye(z6),character:Ye(z6),attributeValue:Ye(z6),number:ZR,integer:Ye(ZR),float:Ye(ZR),bool:Ye(ip),regexp:Ye(ip),escape:Ye(ip),color:Ye(ip),url:Ye(ip),keyword:Bu,self:Ye(Bu),null:Ye(Bu),atom:Ye(Bu),unit:Ye(Bu),modifier:Ye(Bu),operatorKeyword:Ye(Bu),controlKeyword:Ye(Bu),definitionKeyword:Ye(Bu),moduleKeyword:Ye(Bu),operator:ju,derefOperator:Ye(ju),arithmeticOperator:Ye(ju),logicOperator:Ye(ju),bitwiseOperator:Ye(ju),compareOperator:Ye(ju),updateOperator:Ye(ju),definitionOperator:Ye(ju),typeOperator:Ye(ju),controlOperator:Ye(ju),punctuation:JR,separator:Ye(JR),bracket:Tx,angleBracket:Ye(Tx),squareBracket:Ye(Tx),paren:Ye(Tx),brace:Ye(Tx),content:Fu,heading:Gm,heading1:Ye(Gm),heading2:Ye(Gm),heading3:Ye(Gm),heading4:Ye(Gm),heading5:Ye(Gm),heading6:Ye(Gm),contentSeparator:Ye(Fu),list:Ye(Fu),quote:Ye(Fu),emphasis:Ye(Fu),strong:Ye(Fu),link:Ye(Fu),monospace:Ye(Fu),strikethrough:Ye(Fu),inserted:Ye(),deleted:Ye(),changed:Ye(),invalid:Ye(),meta:H6,documentMeta:Ye(H6),annotation:Ye(H6),processingInstruction:Ye(H6),definition:Fl.defineModifier("definition"),constant:Fl.defineModifier("constant"),function:Fl.defineModifier("function"),standard:Fl.defineModifier("standard"),local:Fl.defineModifier("local"),special:Fl.defineModifier("special")};for(let o in Pe){let r=Pe[o];r instanceof Fl&&(r.name=o)}Lne([{tag:Pe.link,class:"tok-link"},{tag:Pe.heading,class:"tok-heading"},{tag:Pe.emphasis,class:"tok-emphasis"},{tag:Pe.strong,class:"tok-strong"},{tag:Pe.keyword,class:"tok-keyword"},{tag:Pe.atom,class:"tok-atom"},{tag:Pe.bool,class:"tok-bool"},{tag:Pe.url,class:"tok-url"},{tag:Pe.labelName,class:"tok-labelName"},{tag:Pe.inserted,class:"tok-inserted"},{tag:Pe.deleted,class:"tok-deleted"},{tag:Pe.literal,class:"tok-literal"},{tag:Pe.string,class:"tok-string"},{tag:Pe.number,class:"tok-number"},{tag:[Pe.regexp,Pe.escape,Pe.special(Pe.string)],class:"tok-string2"},{tag:Pe.variableName,class:"tok-variableName"},{tag:Pe.local(Pe.variableName),class:"tok-variableName tok-local"},{tag:Pe.definition(Pe.variableName),class:"tok-variableName tok-definition"},{tag:Pe.special(Pe.variableName),class:"tok-variableName2"},{tag:Pe.definition(Pe.propertyName),class:"tok-propertyName tok-definition"},{tag:Pe.typeName,class:"tok-typeName"},{tag:Pe.namespace,class:"tok-namespace"},{tag:Pe.className,class:"tok-className"},{tag:Pe.macroName,class:"tok-macroName"},{tag:Pe.propertyName,class:"tok-propertyName"},{tag:Pe.operator,class:"tok-operator"},{tag:Pe.comment,class:"tok-comment"},{tag:Pe.meta,class:"tok-meta"},{tag:Pe.invalid,class:"tok-invalid"},{tag:Pe.punctuation,class:"tok-punctuation"}]);var e9;let zv=new cn;function B9e(o){return xt.define({combine:o?r=>r.concat(o):void 0})}let j9e=new cn,Vu=(()=>{class o{constructor(s,l,u=[],f=""){this.data=s,this.name=f,Oc.prototype.hasOwnProperty("tree")||Object.defineProperty(Oc.prototype,"tree",{get(){return Oo(this)}}),this.parser=l,this.extension=[Uv.of(this),Oc.languageData.of((p,v,y)=>{let x=Fne(p,v,y),w=x.type.prop(zv);if(!w)return[];let C=p.facet(w),O=x.type.prop(j9e);if(O){let T=x.resolve(v-x.from,y);for(let P of O)if(P.test(T,p)){let N=p.facet(P.facet);return P.type=="replace"?N:N.concat(C)}}return C})].concat(u)}isActiveAt(s,l,u=-1){return Fne(s,l,u).type.prop(zv)==this.data}findRegions(s){let l=s.facet(Uv);if(l?.data==this.data)return[{from:0,to:s.doc.length}];if(!l||!l.allowsNesting)return[];let u=[],f=(p,v)=>{if(p.prop(zv)==this.data){u.push({from:v,to:v+p.length});return}let y=p.prop(cn.mounted);if(y){if(y.tree.prop(zv)==this.data){if(y.overlay)for(let x of y.overlay)u.push({from:x.from+v,to:x.to+v});else u.push({from:v,to:v+p.length});return}else if(y.overlay){let x=u.length;if(f(y.tree,y.overlay[0].from+v),u.length>x)return}}for(let x=0;x<p.children.length;x++){let w=p.children[x];w instanceof Vi&&f(w,p.positions[x]+v)}};return f(Oo(s),0),u}get allowsNesting(){return!0}}return o.setState=yr.define(),o})();function Fne(o,r,s){let l=o.facet(Uv),u=Oo(o).topNode;if(!l||l.allowsNesting)for(let f=u;f;f=f.enter(r,s,Uo.ExcludeBuffers))f.type.isTop&&(u=f);return u}class U6 extends Vu{constructor(r,s,l){super(r,s,[],l),this.parser=s}static define(r){let s=B9e(r.languageData);return new U6(s,r.parser.configure({props:[zv.add(l=>l.isTop?s:void 0)]}),r.name)}configure(r,s){return new U6(this.data,this.parser.configure(r),s||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Oo(o){let r=o.field(Vu.state,!1);return r?r.tree:Vi.empty}class V9e{constructor(r){this.doc=r,this.cursorPos=0,this.string="",this.cursor=r.iter()}get length(){return this.doc.length}syncTo(r){return this.string=this.cursor.next(r-this.cursorPos).value,this.cursorPos=r+this.string.length,this.cursorPos-this.string.length}chunk(r){return this.syncTo(r),this.string}get lineChunks(){return!0}read(r,s){let l=this.cursorPos-this.string.length;return r<l||s>=this.cursorPos?this.doc.sliceString(r,s):this.string.slice(r-l,s-l)}}let kx=null;class q6{constructor(r,s,l=[],u,f,p,v,y){this.parser=r,this.state=s,this.fragments=l,this.tree=u,this.treeLen=f,this.viewport=p,this.skipped=v,this.scheduleOn=y,this.parse=null,this.tempSkipped=[]}static create(r,s,l){return new q6(r,s,[],Vi.empty,0,l,[],null)}startParse(){return this.parser.startParse(new V9e(this.state.doc),this.fragments)}work(r,s){return s!=null&&s>=this.state.doc.length&&(s=void 0),this.tree!=Vi.empty&&this.isDone(s??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var l;if(typeof r=="number"){let u=Date.now()+r;r=()=>Date.now()>u}for(this.parse||(this.parse=this.startParse()),s!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>s)&&s<this.state.doc.length&&this.parse.stopAt(s);;){let u=this.parse.advance();if(u)if(this.fragments=this.withoutTempSkipped(Wm.addTree(u,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(l=this.parse.stoppedAt)!==null&&l!==void 0?l:this.state.doc.length,this.tree=u,this.parse=null,this.treeLen<(s??this.state.doc.length))this.parse=this.startParse();else return!0;if(r())return!1}})}takeTree(){let r,s;this.parse&&(r=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&this.parse.stopAt(r),this.withContext(()=>{for(;!(s=this.parse.advance()););}),this.treeLen=r,this.tree=s,this.fragments=this.withoutTempSkipped(Wm.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(r){let s=kx;kx=this;try{return r()}finally{kx=s}}withoutTempSkipped(r){for(let s;s=this.tempSkipped.pop();)r=Bne(r,s.from,s.to);return r}changes(r,s){let{fragments:l,tree:u,treeLen:f,viewport:p,skipped:v}=this;if(this.takeTree(),!r.empty){let y=[];if(r.iterChangedRanges((x,w,C,O)=>y.push({fromA:x,toA:w,fromB:C,toB:O})),l=Wm.applyChanges(l,y),u=Vi.empty,f=0,p={from:r.mapPos(p.from,-1),to:r.mapPos(p.to,1)},this.skipped.length){v=[];for(let x of this.skipped){let w=r.mapPos(x.from,1),C=r.mapPos(x.to,-1);w<C&&v.push({from:w,to:C})}}}return new q6(this.parser,s,l,u,f,p,v,this.scheduleOn)}updateViewport(r){if(this.viewport.from==r.from&&this.viewport.to==r.to)return!1;this.viewport=r;let s=this.skipped.length;for(let l=0;l<this.skipped.length;l++){let{from:u,to:f}=this.skipped[l];u<r.to&&f>r.from&&(this.fragments=Bne(this.fragments,u,f),this.skipped.splice(l--,1))}return this.skipped.length>=s?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(r,s){this.skipped.push({from:r,to:s})}static getSkippingParser(r){return new class extends Mne{createParse(s,l,u){let f=u[0].from,p=u[u.length-1].to;return{parsedPos:f,advance(){let y=kx;if(y){for(let x of u)y.tempSkipped.push(x);r&&(y.scheduleOn=y.scheduleOn?Promise.all([y.scheduleOn,r]):r)}return this.parsedPos=p,new Vi(da.none,[],[],p-f)},stoppedAt:null,stopAt(){}}}}}isDone(r){r=Math.min(r,this.state.doc.length);let s=this.fragments;return this.treeLen>=r&&s.length&&s[0].from==0&&s[0].to>=r}static get(){return kx}}function Bne(o,r,s){return Wm.applyChanges(o,[{fromA:r,toA:s,fromB:r,toB:s}])}class Hv{constructor(r){this.context=r,this.tree=r.tree}apply(r){if(!r.docChanged&&this.tree==this.context.tree)return this;let s=this.context.changes(r.changes,r.state),l=this.context.treeLen==r.startState.doc.length?void 0:Math.max(r.changes.mapPos(this.context.treeLen),s.viewport.to);return s.work(20,l)||s.takeTree(),new Hv(s)}static init(r){let s=Math.min(3e3,r.doc.length),l=q6.create(r.facet(Uv).parser,r,{from:0,to:s});return l.work(20,s)||l.takeTree(),new Hv(l)}}Vu.state=qa.define({create:Hv.init,update(o,r){for(let s of r.effects)if(s.is(Vu.setState))return s.value;return r.startState.facet(Uv)!=r.state.facet(Uv)?Hv.init(r.state):o.apply(r)}});let jne=o=>{let r=setTimeout(()=>o(),500);return()=>clearTimeout(r)};typeof requestIdleCallback<"u"&&(jne=o=>{let r=-1,s=setTimeout(()=>{r=requestIdleCallback(o,{timeout:400})},100);return()=>r<0?clearTimeout(s):cancelIdleCallback(r)});let t9=typeof navigator<"u"&&(!((e9=navigator.scheduling)===null||e9===void 0)&&e9.isInputPending)?()=>navigator.scheduling.isInputPending():null,z9e=Wa.fromClass(class{constructor(r){this.view=r,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(r){let s=this.view.state.field(Vu.state).context;(s.updateViewport(r.view.viewport)||this.view.viewport.to>s.treeLen)&&this.scheduleWork(),(r.docChanged||r.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(s)}scheduleWork(){if(this.working)return;let{state:r}=this.view,s=r.field(Vu.state);(s.tree!=s.context.tree||!s.context.isDone(r.doc.length))&&(this.working=jne(this.work))}work(r){this.working=null;let s=Date.now();if(this.chunkEnd<s&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=s+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:l,viewport:{to:u}}=this.view,f=l.field(Vu.state);if(f.tree==f.context.tree&&f.context.isDone(u+1e5))return;let p=Date.now()+Math.min(this.chunkBudget,100,r&&!t9?Math.max(25,r.timeRemaining()-5):1e9),v=f.context.treeLen<u&&l.doc.length>u+1e3,y=f.context.work(()=>t9&&t9()||Date.now()>p,u+(v?0:1e5));this.chunkBudget-=Date.now()-s,(y||this.chunkBudget<=0)&&(f.context.takeTree(),this.view.dispatch({effects:Vu.setState.of(new Hv(f.context))})),this.chunkBudget>0&&!(y&&!v)&&this.scheduleWork(),this.checkAsyncSchedule(f.context)}checkAsyncSchedule(r){r.scheduleOn&&(this.workScheduled++,r.scheduleOn.then(()=>this.scheduleWork()).catch(s=>zs(this.view.state,s)).then(()=>this.workScheduled--),r.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Uv=xt.define({combine(o){return o.length?o[0]:null},enables:o=>[Vu.state,z9e,Yn.contentAttributes.compute([o],r=>{let s=r.facet(o);return s&&s.name?{"data-language":s.name}:{}})]});class H9e{constructor(r,s=[]){this.language=r,this.support=s,this.extension=[r,s]}}let U9e=xt.define(),W6=xt.define({combine:o=>{if(!o.length)return"  ";let r=o[0];if(!r||/\S/.test(r)||Array.from(r).some(s=>s!=r[0]))throw new Error("Invalid indent unit: "+JSON.stringify(o[0]));return r}});function G6(o){let r=o.facet(W6);return r.charCodeAt(0)==9?o.tabSize*r.length:r.length}function Px(o,r){let s="",l=o.tabSize,u=o.facet(W6)[0];if(u=="	"){for(;r>=l;)s+="	",r-=l;u=" "}for(let f=0;f<r;f++)s+=u;return s}function n9(o,r){o instanceof Oc&&(o=new Q6(o));for(let l of o.state.facet(U9e)){let u=l(o,r);if(u!==void 0)return u}let s=Oo(o.state);return s.length>=r?q9e(o,s,r):null}class Q6{constructor(r,s={}){this.state=r,this.options=s,this.unit=G6(r)}lineAt(r,s=1){let l=this.state.doc.lineAt(r),{simulateBreak:u,simulateDoubleBreak:f}=this.options;return u!=null&&u>=l.from&&u<=l.to?f&&u==r?{text:"",from:r}:(s<0?u<r:u<=r)?{text:l.text.slice(u-l.from),from:u}:{text:l.text.slice(0,u-l.from),from:l.from}:l}textAfterPos(r,s=1){if(this.options.simulateDoubleBreak&&r==this.options.simulateBreak)return"";let{text:l,from:u}=this.lineAt(r,s);return l.slice(r-u,Math.min(l.length,r+100-u))}column(r,s=1){let{text:l,from:u}=this.lineAt(r,s),f=this.countColumn(l,r-u),p=this.options.overrideIndentation?this.options.overrideIndentation(u):-1;return p>-1&&(f+=p-this.countColumn(l,l.search(/\S|$/))),f}countColumn(r,s=r.length){return u6(r,this.state.tabSize,s)}lineIndent(r,s=1){let{text:l,from:u}=this.lineAt(r,s),f=this.options.overrideIndentation;if(f){let p=f(u);if(p>-1)return p}return this.countColumn(l,l.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}let Vne=new cn;function q9e(o,r,s){let l=r.resolveStack(s),u=l.node.enterUnfinishedNodesBefore(s);if(u!=l.node){let f=[];for(let p=u;p!=l.node;p=p.parent)f.push(p);for(let p=f.length-1;p>=0;p--)l={node:f[p],next:l}}return zne(l,o,s)}function zne(o,r,s){for(let l=o;l;l=l.next){let u=G9e(l.node);if(u)return u(r9.create(r,s,l))}return 0}function W9e(o){return o.pos==o.options.simulateBreak&&o.options.simulateDoubleBreak}function G9e(o){let r=o.type.prop(Vne);if(r)return r;let s=o.firstChild,l;if(s&&(l=s.type.prop(cn.closedBy))){let u=o.lastChild,f=u&&l.indexOf(u.name)>-1;return p=>Une(p,!0,1,void 0,f&&!W9e(p)?u.from:void 0)}return o.parent==null?Q9e:null}function Q9e(){return 0}class r9 extends Q6{constructor(r,s,l){super(r.state,r.options),this.base=r,this.pos=s,this.context=l}get node(){return this.context.node}static create(r,s,l){return new r9(r,s,l)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(r){let s=this.state.doc.lineAt(r.from);for(;;){let l=r.resolve(s.from);for(;l.parent&&l.parent.from==l.from;)l=l.parent;if(Y9e(l,r))break;s=this.state.doc.lineAt(l.from)}return this.lineIndent(s.from)}continue(){return zne(this.context.next,this.base,this.pos)}}function Y9e(o,r){for(let s=r;s;s=s.parent)if(o==s)return!0;return!1}function X9e(o){let r=o.node,s=r.childAfter(r.from),l=r.lastChild;if(!s)return null;let u=o.options.simulateBreak,f=o.state.doc.lineAt(s.from),p=u==null||u<=f.from?f.to:Math.min(f.to,u);for(let v=s.to;;){let y=r.childAfter(v);if(!y||y==l)return null;if(!y.type.isSkipped)return y.from<p?s:null;v=y.to}}function Hne({closing:o,align:r=!0,units:s=1}){return l=>Une(l,r,s,o)}function Une(o,r,s,l,u){let f=o.textAfter,p=f.match(/^\s*/)[0].length,v=l&&f.slice(p,p+l.length)==l||u==o.pos+p,y=r?X9e(o):null;return y?v?o.column(y.from):o.column(y.to):o.baseIndent+(v?0:o.unit*s)}function i9({except:o,units:r=1}={}){return s=>{let l=o&&o.test(s.textAfter);return s.baseIndent+(l?0:r*s.unit)}}let K9e=200;function Z9e(){return Oc.transactionFilter.of(o=>{if(!o.docChanged||!o.isUserEvent("input.type")&&!o.isUserEvent("input.complete"))return o;let r=o.startState.languageDataAt("indentOnInput",o.startState.selection.main.head);if(!r.length)return o;let s=o.newDoc,{head:l}=o.newSelection.main,u=s.lineAt(l);if(l>u.from+K9e)return o;let f=s.sliceString(u.from,l);if(!r.some(x=>x.test(f)))return o;let{state:p}=o,v=-1,y=[];for(let{head:x}of p.selection.ranges){let w=p.doc.lineAt(x);if(w.from==v)continue;v=w.from;let C=n9(p,w.from);if(C==null)continue;let O=/^\s*/.exec(w.text)[0],T=Px(p,C);O!=T&&y.push({from:w.from,to:w.from+O.length,insert:T})}return y.length?[o,{changes:y,sequential:!0}]:o})}let J9e=new cn;function o9(o){let r=o.firstChild,s=o.lastChild;return r&&r.to<s.from?{from:r.to,to:s.type.isError?o.to:s.from}:null}class Ix{constructor(r,s){this.specs=r;let l;function u(v){let y=Qh.newName();return(l||(l=Object.create(null)))["."+y]=v,y}let f=typeof s.all=="string"?s.all:s.all?u(s.all):void 0,p=s.scope;this.scope=p instanceof Vu?v=>v.prop(zv)==p.data:p?v=>v==p:void 0,this.style=Lne(r.map(v=>({tag:v.tag,class:v.class||u(Object.assign({},v,{tag:null}))})),{all:f}).style,this.module=l?new Qh(l):null,this.themeType=s.themeType}static define(r,s){return new Ix(r,s||{})}}let s9=xt.define(),eLe=xt.define({combine(o){return o.length?[o[0]]:null}});function a9(o){let r=o.facet(s9);return r.length?r:o.facet(eLe)}function tLe(o,r){let s=[rLe],l;return o instanceof Ix&&(o.module&&s.push(Yn.styleModule.of(o.module)),l=o.themeType),l?s.push(s9.computeN([Yn.darkTheme],u=>u.facet(Yn.darkTheme)==(l=="dark")?[o]:[])):s.push(s9.of(o)),s}class nLe{constructor(r){this.markCache=Object.create(null),this.tree=Oo(r.state),this.decorations=this.buildDeco(r,a9(r.state)),this.decoratedTo=r.viewport.to}update(r){let s=Oo(r.state),l=a9(r.state),u=l!=a9(r.startState),{viewport:f}=r.view,p=r.changes.mapPos(this.decoratedTo,1);s.length<f.to&&!u&&s.type==this.tree.type&&p>=f.to?(this.decorations=this.decorations.map(r.changes),this.decoratedTo=p):(s!=this.tree||r.viewportChanged||u)&&(this.tree=s,this.decorations=this.buildDeco(r.view,l),this.decoratedTo=f.to)}buildDeco(r,s){if(!s||!this.tree.length)return vn.none;let l=new dx;for(let{from:u,to:f}of r.visibleRanges)$9e(this.tree,s,(p,v,y)=>{l.add(p,v,this.markCache[y]||(this.markCache[y]=vn.mark({class:y})))},u,f);return l.finish()}}let rLe=Iv.high(Wa.fromClass(nLe,{decorations:o=>o.decorations}));Pe.meta,Pe.link,Pe.heading,Pe.emphasis,Pe.strong,Pe.strikethrough,Pe.keyword,Pe.atom,Pe.bool,Pe.url,Pe.contentSeparator,Pe.labelName,Pe.literal,Pe.inserted,Pe.string,Pe.deleted,Pe.regexp,Pe.escape,Pe.string,Pe.variableName,Pe.variableName,Pe.typeName,Pe.namespace,Pe.className,Pe.variableName,Pe.macroName,Pe.propertyName,Pe.comment,Pe.invalid;let iLe=Yn.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),qne=1e4,Wne="()[]{}",Gne=xt.define({combine(o){return eR(o,{afterCursor:!0,brackets:Wne,maxScanDistance:qne,renderMatch:aLe})}}),oLe=vn.mark({class:"cm-matchingBracket"}),sLe=vn.mark({class:"cm-nonmatchingBracket"});function aLe(o){let r=[],s=o.matched?oLe:sLe;return r.push(s.range(o.start.from,o.start.to)),o.end&&r.push(s.range(o.end.from,o.end.to)),r}let lLe=[qa.define({create(){return vn.none},update(o,r){if(!r.docChanged&&!r.selection)return o;let s=[],l=r.state.facet(Gne);for(let u of r.state.selection.ranges){if(!u.empty)continue;let f=zu(r.state,u.head,-1,l)||u.head>0&&zu(r.state,u.head-1,1,l)||l.afterCursor&&(zu(r.state,u.head,1,l)||u.head<r.state.doc.length&&zu(r.state,u.head+1,-1,l));f&&(s=s.concat(l.renderMatch(f,r.state)))}return vn.set(s,!0)},provide:o=>Yn.decorations.from(o)}),iLe];function cLe(o={}){return[Gne.of(o),lLe]}let uLe=new cn;function l9(o,r,s){let l=o.prop(r<0?cn.openedBy:cn.closedBy);if(l)return l;if(o.name.length==1){let u=s.indexOf(o.name);if(u>-1&&u%2==(r<0?1:0))return[s[u+r]]}return null}function c9(o){let r=o.type.prop(uLe);return r?r(o.node):o}function zu(o,r,s,l={}){let u=l.maxScanDistance||qne,f=l.brackets||Wne,p=Oo(o),v=p.resolveInner(r,s);for(let y=v;y;y=y.parent){let x=l9(y.type,s,f);if(x&&y.from<y.to){let w=c9(y);if(w&&(s>0?r>=w.from&&r<w.to:r>w.from&&r<=w.to))return dLe(o,r,s,y,w,x,f)}}return fLe(o,r,s,p,v.type,u,f)}function dLe(o,r,s,l,u,f,p){let v=l.parent,y={from:u.from,to:u.to},x=0,w=v?.cursor();if(w&&(s<0?w.childBefore(l.from):w.childAfter(l.to)))do if(s<0?w.to<=l.from:w.from>=l.to){if(x==0&&f.indexOf(w.type.name)>-1&&w.from<w.to){let C=c9(w);return{start:y,end:C?{from:C.from,to:C.to}:void 0,matched:!0}}else if(l9(w.type,s,p))x++;else if(l9(w.type,-s,p)){if(x==0){let C=c9(w);return{start:y,end:C&&C.from<C.to?{from:C.from,to:C.to}:void 0,matched:!1}}x--}}while(s<0?w.prevSibling():w.nextSibling());return{start:y,matched:!1}}function fLe(o,r,s,l,u,f,p){let v=s<0?o.sliceDoc(r-1,r):o.sliceDoc(r,r+1),y=p.indexOf(v);if(y<0||y%2==0!=s>0)return null;let x={from:s<0?r-1:r,to:s>0?r+1:r},w=o.doc.iterRange(r,s>0?o.doc.length:0),C=0;for(let O=0;!w.next().done&&O<=f;){let T=w.value;s<0&&(O+=T.length);let P=r+O*s;for(let N=s>0?0:T.length-1,j=s>0?T.length:-1;N!=j;N+=s){let q=p.indexOf(T[N]);if(!(q<0||l.resolveInner(P+N,1).type!=u))if(q%2==0==s>0)C++;else{if(C==1)return{start:x,end:{from:P+N,to:P+N+1},matched:q>>1==y>>1};C--}}s>0&&(O+=T.length)}return w.done?{start:x,matched:!1}:null}let hLe=Object.create(null),Qne=[da.none],Yne=[],Xne=Object.create(null),pLe=Object.create(null);for(let[o,r]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])pLe[o]=mLe(hLe,r);function u9(o,r){Yne.indexOf(o)>-1||(Yne.push(o),console.warn(r))}function mLe(o,r){let s=[];for(let v of r.split(" ")){let y=[];for(let x of v.split(".")){let w=o[x]||Pe[x];w?typeof w=="function"?y.length?y=y.map(w):u9(x,`Modifier ${x} used at start of tag`):y.length?u9(x,`Tag ${x} used as modifier`):y=Array.isArray(w)?w:[w]:u9(x,`Unknown highlighting tag ${x}`)}for(let x of y)s.push(x)}if(!s.length)return 0;let l=r.replace(/ /g,"_"),u=l+" "+s.map(v=>v.id),f=Xne[u];if(f)return f.id;let p=Xne[u]=da.define({id:Qne.length,name:l,props:[Ane({[l]:s})]});return Qne.push(p),p.id}Ti.RTL,Ti.LTR;class Kne{constructor(r,s,l,u){this.state=r,this.pos=s,this.explicit=l,this.view=u,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(r){let s=Oo(this.state).resolveInner(this.pos,-1);for(;s&&r.indexOf(s.name)<0;)s=s.parent;return s?{from:s.from,to:this.pos,text:this.state.sliceDoc(s.from,this.pos),type:s.type}:null}matchBefore(r){let s=this.state.doc.lineAt(this.pos),l=Math.max(s.from,this.pos-250),u=s.text.slice(l-s.from,this.pos-s.from),f=u.search(ere(r,!1));return f<0?null:{from:l+f,to:this.pos,text:u.slice(f)}}get aborted(){return this.abortListeners==null}addEventListener(r,s,l){r=="abort"&&this.abortListeners&&(this.abortListeners.push(s),l&&l.onDocChange&&(this.abortOnDocChange=!0))}}function Zne(o){let r=Object.keys(o).join(""),s=/\w/.test(r);return s&&(r=r.replace(/\w/g,"")),`[${s?"\\w":""}${r.replace(/[^\w\s]/g,"\\$&")}]`}function gLe(o){let r=Object.create(null),s=Object.create(null);for(let{label:u}of o){r[u[0]]=!0;for(let f=1;f<u.length;f++)s[u[f]]=!0}let l=Zne(r)+Zne(s)+"*$";return[new RegExp("^"+l),new RegExp(l)]}function d9(o){let r=o.map(u=>typeof u=="string"?{label:u}:u),[s,l]=r.every(u=>/^\w+$/.test(u.label))?[/\w*$/,/\w+$/]:gLe(r);return u=>{let f=u.matchBefore(l);return f||u.explicit?{from:f?f.from:u.pos,options:r,validFor:s}:null}}function vLe(o,r){return s=>{for(let l=Oo(s.state).resolveInner(s.pos,-1);l;l=l.parent){if(o.indexOf(l.name)>-1)return null;if(l.type.isTop)break}return r(s)}}class Jne{constructor(r,s,l,u){this.completion=r,this.source=s,this.match=l,this.score=u}}function op(o){return o.selection.main.from}function ere(o,r){var s;let{source:l}=o,u=r&&l[0]!="^",f=l[l.length-1]!="$";return!u&&!f?o:new RegExp(`${u?"^":""}(?:${l})${f?"$":""}`,(s=o.flags)!==null&&s!==void 0?s:o.ignoreCase?"i":"")}let f9=Vm.define();function yLe(o,r,s,l){let{main:u}=o.selection,f=s-u.from,p=l-u.from;return Object.assign(Object.assign({},o.changeByRange(v=>v!=u&&s!=l&&o.sliceDoc(v.from+f,v.from+p)!=o.sliceDoc(s,l)?{range:v}:{changes:{from:v.from+f,to:l==u.from?v.to:v.from+p,insert:r},range:Be.cursor(v.from+f+r.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}let tre=new WeakMap;function bLe(o){if(!Array.isArray(o))return o;let r=tre.get(o);return r||tre.set(o,r=d9(o)),r}let Y6=yr.define(),Mx=yr.define();class xLe{constructor(r){this.pattern=r,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let s=0;s<r.length;){let l=Ua(r,s),u=Ru(l);this.chars.push(l);let f=r.slice(s,s+u),p=f.toUpperCase();this.folded.push(Ua(p==f?f.toLowerCase():p,0)),s+=u}this.astral=r.length!=this.chars.length}ret(r,s){return this.score=r,this.matched=s,this}match(r){if(this.pattern.length==0)return this.ret(-100,[]);if(r.length<this.pattern.length)return null;let{chars:s,folded:l,any:u,precise:f,byWord:p}=this;if(s.length==1){let Q=Ua(r,0),U=Ru(Q),H=U==r.length?0:-100;if(Q!=s[0])if(Q==l[0])H+=-200;else return null;return this.ret(H,[0,U])}let v=r.indexOf(this.pattern);if(v==0)return this.ret(r.length==this.pattern.length?0:-100,[0,this.pattern.length]);let y=s.length,x=0;if(v<0){for(let Q=0,U=Math.min(r.length,200);Q<U&&x<y;){let H=Ua(r,Q);(H==s[x]||H==l[x])&&(u[x++]=Q),Q+=Ru(H)}if(x<y)return null}let w=0,C=0,O=!1,T=0,P=-1,N=-1,j=/[a-z]/.test(r),q=!0;for(let Q=0,U=Math.min(r.length,200),H=0;Q<U&&C<y;){let X=Ua(r,Q);v<0&&(w<y&&X==s[w]&&(f[w++]=Q),T<y&&(X==s[T]||X==l[T]?(T==0&&(P=Q),N=Q+1,T++):T=0));let Y,ae=X<255?X>=48&&X<=57||X>=97&&X<=122?2:X>=65&&X<=90?1:0:(Y=Eee(X))!=Y.toLowerCase()?1:Y!=Y.toUpperCase()?2:0;(!Q||ae==1&&j||H==0&&ae!=0)&&(s[C]==X||l[C]==X&&(O=!0)?p[C++]=Q:p.length&&(q=!1)),H=ae,Q+=Ru(X)}return C==y&&p[0]==0&&q?this.result(-100+(O?-200:0),p,r):T==y&&P==0?this.ret(-200-r.length+(N==r.length?0:-100),[0,N]):v>-1?this.ret(-700-r.length,[v,v+this.pattern.length]):T==y?this.ret(-900-r.length,[P,N]):C==y?this.result(-100+(O?-200:0)+-700+(q?0:-1100),p,r):s.length==2?null:this.result((u[0]?-700:0)+-200+-1100,u,r)}result(r,s,l){let u=[],f=0;for(let p of s){let v=p+(this.astral?Ru(Ua(l,p)):1);f&&u[f-1]==p?u[f-1]=v:(u[f++]=p,u[f++]=v)}return this.ret(r-l.length,u)}}class ELe{constructor(r){this.pattern=r,this.matched=[],this.score=0,this.folded=r.toLowerCase()}match(r){if(r.length<this.pattern.length)return null;let s=r.slice(0,this.pattern.length),l=s==this.pattern?0:s.toLowerCase()==this.folded?-200:null;return l==null?null:(this.matched=[0,s.length],this.score=l+(r.length==this.pattern.length?0:-100),this)}}let qo=xt.define({combine(o){return eR(o,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:wLe,filterStrict:!1,compareCompletions:(r,s)=>r.label.localeCompare(s.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(r,s)=>r&&s,closeOnBlur:(r,s)=>r&&s,icons:(r,s)=>r&&s,tooltipClass:(r,s)=>l=>nre(r(l),s(l)),optionClass:(r,s)=>l=>nre(r(l),s(l)),addToOptions:(r,s)=>r.concat(s),filterStrict:(r,s)=>r||s})}});function nre(o,r){return o?r?o+" "+r:o:r}function wLe(o,r,s,l,u,f){let p=o.textDirection==Ti.RTL,v=p,y=!1,x="top",w,C,O=r.left-u.left,T=u.right-r.right,P=l.right-l.left,N=l.bottom-l.top;if(v&&O<Math.min(P,T)?v=!1:!v&&T<Math.min(P,O)&&(v=!0),P<=(v?O:T))w=Math.max(u.top,Math.min(s.top,u.bottom-N))-r.top,C=Math.min(400,v?O:T);else{y=!0,C=Math.min(400,(p?r.right:u.right-r.left)-30);let Q=u.bottom-r.bottom;Q>=N||Q>r.top?w=s.bottom-r.top:(x="bottom",w=r.bottom-s.top)}let j=(r.bottom-r.top)/f.offsetHeight,q=(r.right-r.left)/f.offsetWidth;return{style:`${x}: ${w/j}px; max-width: ${C/q}px`,class:"cm-completionInfo-"+(y?p?"left-narrow":"right-narrow":v?"left":"right")}}function _Le(o){let r=o.addToOptions.slice();return o.icons&&r.push({render(s){let l=document.createElement("div");return l.classList.add("cm-completionIcon"),s.type&&l.classList.add(...s.type.split(/\s+/g).map(u=>"cm-completionIcon-"+u)),l.setAttribute("aria-hidden","true"),l},position:20}),r.push({render(s,l,u,f){let p=document.createElement("span");p.className="cm-completionLabel";let v=s.displayLabel||s.label,y=0;for(let x=0;x<f.length;){let w=f[x++],C=f[x++];w>y&&p.appendChild(document.createTextNode(v.slice(y,w)));let O=p.appendChild(document.createElement("span"));O.appendChild(document.createTextNode(v.slice(w,C))),O.className="cm-completionMatchedText",y=C}return y<v.length&&p.appendChild(document.createTextNode(v.slice(y))),p},position:50},{render(s){if(!s.detail)return null;let l=document.createElement("span");return l.className="cm-completionDetail",l.textContent=s.detail,l},position:80}),r.sort((s,l)=>s.position-l.position).map(s=>s.render)}function h9(o,r,s){if(o<=s)return{from:0,to:o};if(r<0&&(r=0),r<=o>>1){let u=Math.floor(r/s);return{from:u*s,to:(u+1)*s}}let l=Math.floor((o-r)/s);return{from:o-(l+1)*s,to:o-l*s}}class CLe{constructor(r,s,l){this.view=r,this.stateField=s,this.applyCompletion=l,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:y=>this.placeInfo(y),key:this},this.space=null,this.currentClass="";let u=r.state.field(s),{options:f,selected:p}=u.open,v=r.state.facet(qo);this.optionContent=_Le(v),this.optionClass=v.optionClass,this.tooltipClass=v.tooltipClass,this.range=h9(f.length,p,v.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(r.state),this.dom.addEventListener("mousedown",y=>{let{options:x}=r.state.field(s).open;for(let w=y.target,C;w&&w!=this.dom;w=w.parentNode)if(w.nodeName=="LI"&&(C=/-(\d+)$/.exec(w.id))&&+C[1]<x.length){this.applyCompletion(r,x[+C[1]]),y.preventDefault();return}}),this.dom.addEventListener("focusout",y=>{let x=r.state.field(this.stateField,!1);x&&x.tooltip&&r.state.facet(qo).closeOnBlur&&y.relatedTarget!=r.contentDOM&&r.dispatch({effects:Mx.of(null)})}),this.showOptions(f,u.id)}mount(){this.updateSel()}showOptions(r,s){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(r,s,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(r){var s;let l=r.state.field(this.stateField),u=r.startState.field(this.stateField);if(this.updateTooltipClass(r.state),l!=u){let{options:f,selected:p,disabled:v}=l.open;(!u.open||u.open.options!=f)&&(this.range=h9(f.length,p,r.state.facet(qo).maxRenderedOptions),this.showOptions(f,l.id)),this.updateSel(),v!=((s=u.open)===null||s===void 0?void 0:s.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!v)}}updateTooltipClass(r){let s=this.tooltipClass(r);if(s!=this.currentClass){for(let l of this.currentClass.split(" "))l&&this.dom.classList.remove(l);for(let l of s.split(" "))l&&this.dom.classList.add(l);this.currentClass=s}}positioned(r){this.space=r,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let r=this.view.state.field(this.stateField),s=r.open;if((s.selected>-1&&s.selected<this.range.from||s.selected>=this.range.to)&&(this.range=h9(s.options.length,s.selected,this.view.state.facet(qo).maxRenderedOptions),this.showOptions(s.options,r.id)),this.updateSelectedOption(s.selected)){this.destroyInfo();let{completion:l}=s.options[s.selected],{info:u}=l;if(!u)return;let f=typeof u=="string"?document.createTextNode(u):u(l);if(!f)return;"then"in f?f.then(p=>{p&&this.view.state.field(this.stateField,!1)==r&&this.addInfoPane(p,l)}).catch(p=>zs(this.view.state,p,"completion info")):this.addInfoPane(f,l)}}addInfoPane(r,s){this.destroyInfo();let l=this.info=document.createElement("div");if(l.className="cm-tooltip cm-completionInfo",r.nodeType!=null)l.appendChild(r),this.infoDestroy=null;else{let{dom:u,destroy:f}=r;l.appendChild(u),this.infoDestroy=f||null}this.dom.appendChild(l),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(r){let s=null;for(let l=this.list.firstChild,u=this.range.from;l;l=l.nextSibling,u++)l.nodeName!="LI"||!l.id?u--:u==r?l.hasAttribute("aria-selected")||(l.setAttribute("aria-selected","true"),s=l):l.hasAttribute("aria-selected")&&l.removeAttribute("aria-selected");return s&&OLe(this.list,s),s}measureInfo(){let r=this.dom.querySelector("[aria-selected]");if(!r||!this.info)return null;let s=this.dom.getBoundingClientRect(),l=this.info.getBoundingClientRect(),u=r.getBoundingClientRect(),f=this.space;if(!f){let p=this.dom.ownerDocument.defaultView||window;f={left:0,top:0,right:p.innerWidth,bottom:p.innerHeight}}return u.top>Math.min(f.bottom,s.bottom)-10||u.bottom<Math.max(f.top,s.top)+10?null:this.view.state.facet(qo).positionInfo(this.view,s,u,l,f,this.dom)}placeInfo(r){this.info&&(r?(r.style&&(this.info.style.cssText=r.style),this.info.className="cm-tooltip cm-completionInfo "+(r.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(r,s,l){let u=document.createElement("ul");u.id=s,u.setAttribute("role","listbox"),u.setAttribute("aria-expanded","true"),u.setAttribute("aria-label",this.view.state.phrase("Completions"));let f=null;for(let p=l.from;p<l.to;p++){let{completion:v,match:y}=r[p],{section:x}=v;if(x){let O=typeof x=="string"?x:x.name;if(O!=f&&(p>l.from||l.from==0))if(f=O,typeof x!="string"&&x.header)u.appendChild(x.header(x));else{let T=u.appendChild(document.createElement("completion-section"));T.textContent=O}}let w=u.appendChild(document.createElement("li"));w.id=s+"-"+p,w.setAttribute("role","option");let C=this.optionClass(v);C&&(w.className=C);for(let O of this.optionContent){let T=O(v,this.view.state,this.view,y);T&&w.appendChild(T)}}return l.from&&u.classList.add("cm-completionListIncompleteTop"),l.to<r.length&&u.classList.add("cm-completionListIncompleteBottom"),u}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function SLe(o,r){return s=>new CLe(s,o,r)}function OLe(o,r){let s=o.getBoundingClientRect(),l=r.getBoundingClientRect(),u=s.height/o.offsetHeight;l.top<s.top?o.scrollTop-=(s.top-l.top)/u:l.bottom>s.bottom&&(o.scrollTop+=(l.bottom-s.bottom)/u)}function rre(o){return(o.boost||0)*100+(o.apply?10:0)+(o.info?5:0)+(o.type?1:0)}function DLe(o,r){let s=[],l=null,u=x=>{s.push(x);let{section:w}=x.completion;if(w){l||(l=[]);let C=typeof w=="string"?w:w.name;l.some(O=>O.name==C)||l.push(typeof w=="string"?{name:C}:w)}},f=r.facet(qo);for(let x of o)if(x.hasResult()){let w=x.result.getMatch;if(x.result.filter===!1)for(let C of x.result.options)u(new Jne(C,x.source,w?w(C):[],1e9-s.length));else{let C=r.sliceDoc(x.from,x.to),O,T=f.filterStrict?new ELe(C):new xLe(C);for(let P of x.result.options)if(O=T.match(P.label)){let N=P.displayLabel?w?w(P,O.matched):[]:O.matched;u(new Jne(P,x.source,N,O.score+(P.boost||0)))}}}if(l){let x=Object.create(null),w=0,C=(O,T)=>{var P,N;return((P=O.rank)!==null&&P!==void 0?P:1e9)-((N=T.rank)!==null&&N!==void 0?N:1e9)||(O.name<T.name?-1:1)};for(let O of l.sort(C))w-=1e5,x[O.name]=w;for(let O of s){let{section:T}=O.completion;T&&(O.score+=x[typeof T=="string"?T:T.name])}}let p=[],v=null,y=f.compareCompletions;for(let x of s.sort((w,C)=>C.score-w.score||y(w.completion,C.completion))){let w=x.completion;!v||v.label!=w.label||v.detail!=w.detail||v.type!=null&&w.type!=null&&v.type!=w.type||v.apply!=w.apply||v.boost!=w.boost?p.push(x):rre(x.completion)>rre(v)&&(p[p.length-1]=x),v=x.completion}return p}class qv{constructor(r,s,l,u,f,p){this.options=r,this.attrs=s,this.tooltip=l,this.timestamp=u,this.selected=f,this.disabled=p}setSelected(r,s){return r==this.selected||r>=this.options.length?this:new qv(this.options,ire(s,r),this.tooltip,this.timestamp,r,this.disabled)}static build(r,s,l,u,f){let p=DLe(r,s);if(!p.length)return u&&r.some(y=>y.state==1)?new qv(u.options,u.attrs,u.tooltip,u.timestamp,u.selected,!0):null;let v=s.facet(qo).selectOnOpen?0:-1;if(u&&u.selected!=v&&u.selected!=-1){let y=u.options[u.selected].completion;for(let x=0;x<p.length;x++)if(p[x].completion==y){v=x;break}}return new qv(p,ire(l,v),{pos:r.reduce((y,x)=>x.hasResult()?Math.min(y,x.from):y,1e8),create:ALe,above:f.aboveCursor},u?u.timestamp:Date.now(),v,!1)}map(r){return new qv(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:r.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class X6{constructor(r,s,l){this.active=r,this.id=s,this.open=l}static start(){return new X6(ILe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(r){let{state:s}=r,l=s.facet(qo),f=(l.override||s.languageDataAt("autocomplete",op(s)).map(bLe)).map(v=>(this.active.find(x=>x.source==v)||new Qa(v,this.active.some(x=>x.state!=0)?1:0)).update(r,l));f.length==this.active.length&&f.every((v,y)=>v==this.active[y])&&(f=this.active);let p=this.open;p&&r.docChanged&&(p=p.map(r.changes)),r.selection||f.some(v=>v.hasResult()&&r.changes.touchesRange(v.from,v.to))||!TLe(f,this.active)?p=qv.build(f,s,this.id,p,l):p&&p.disabled&&!f.some(v=>v.state==1)&&(p=null),!p&&f.every(v=>v.state!=1)&&f.some(v=>v.hasResult())&&(f=f.map(v=>v.hasResult()?new Qa(v.source,0):v));for(let v of r.effects)v.is(are)&&(p=p&&p.setSelected(v.value,this.id));return f==this.active&&p==this.open?this:new X6(f,this.id,p)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?kLe:PLe}}function TLe(o,r){if(o==r)return!0;for(let s=0,l=0;;){for(;s<o.length&&!o[s].hasResult;)s++;for(;l<r.length&&!r[l].hasResult;)l++;let u=s==o.length,f=l==r.length;if(u||f)return u==f;if(o[s++].result!=r[l++].result)return!1}}let kLe={"aria-autocomplete":"list"},PLe={};function ire(o,r){let s={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":o};return r>-1&&(s["aria-activedescendant"]=o+"-"+r),s}let ILe=[];function ore(o,r){if(o.isUserEvent("input.complete")){let l=o.annotation(f9);if(l&&r.activateOnCompletion(l))return 12}let s=o.isUserEvent("input.type");return s&&r.activateOnTyping?5:s?1:o.isUserEvent("delete.backward")?2:o.selection?8:o.docChanged?16:0}class Qa{constructor(r,s,l=-1){this.source=r,this.state=s,this.explicitPos=l}hasResult(){return!1}update(r,s){let l=ore(r,s),u=this;(l&8||l&16&&this.touches(r))&&(u=new Qa(u.source,0)),l&4&&u.state==0&&(u=new Qa(this.source,1)),u=u.updateFor(r,l);for(let f of r.effects)if(f.is(Y6))u=new Qa(u.source,1,f.value?op(r.state):-1);else if(f.is(Mx))u=new Qa(u.source,0);else if(f.is(sre))for(let p of f.value)p.source==u.source&&(u=p);return u}updateFor(r,s){return this.map(r.changes)}map(r){return r.empty||this.explicitPos<0?this:new Qa(this.source,this.state,r.mapPos(this.explicitPos))}touches(r){return r.changes.touchesRange(op(r.state))}}class Wv extends Qa{constructor(r,s,l,u,f){super(r,2,s),this.result=l,this.from=u,this.to=f}hasResult(){return!0}updateFor(r,s){var l;if(!(s&3))return this.map(r.changes);let u=this.result;u.map&&!r.changes.empty&&(u=u.map(u,r.changes));let f=r.changes.mapPos(this.from),p=r.changes.mapPos(this.to,1),v=op(r.state);if((this.explicitPos<0?v<=f:v<this.from)||v>p||!u||s&2&&op(r.startState)==this.from)return new Qa(this.source,s&4?1:0);let y=this.explicitPos<0?-1:r.changes.mapPos(this.explicitPos);return MLe(u.validFor,r.state,f,p)?new Wv(this.source,y,u,f,p):u.update&&(u=u.update(u,f,p,new Kne(r.state,v,y>=0)))?new Wv(this.source,y,u,u.from,(l=u.to)!==null&&l!==void 0?l:op(r.state)):new Qa(this.source,1,y)}map(r){return r.empty?this:(this.result.map?this.result.map(this.result,r):this.result)?new Wv(this.source,this.explicitPos<0?-1:r.mapPos(this.explicitPos),this.result,r.mapPos(this.from),r.mapPos(this.to,1)):new Qa(this.source,0)}touches(r){return r.changes.touchesRange(this.from,this.to)}}function MLe(o,r,s,l){if(!o)return!1;let u=r.sliceDoc(s,l);return typeof o=="function"?o(u,s,l,r):ere(o,!0).test(u)}let sre=yr.define({map(o,r){return o.map(s=>s.map(r))}}),are=yr.define(),fa=qa.define({create(){return X6.start()},update(o,r){return o.update(r)},provide:o=>[HR.from(o,r=>r.tooltip),Yn.contentAttributes.from(o,r=>r.attrs)]});function p9(o,r){let s=r.completion.apply||r.completion.label,l=o.state.field(fa).active.find(u=>u.source==r.source);return l instanceof Wv?(typeof s=="string"?o.dispatch(Object.assign(Object.assign({},yLe(o.state,s,l.from,l.to)),{annotations:f9.of(r.completion)})):s(o,r.completion,l.from,l.to),!0):!1}let ALe=SLe(fa,p9);function K6(o,r="option"){return s=>{let l=s.state.field(fa,!1);if(!l||!l.open||l.open.disabled||Date.now()-l.open.timestamp<s.state.facet(qo).interactionDelay)return!1;let u=1,f;r=="page"&&(f=wne(s,l.open.tooltip))&&(u=Math.max(2,Math.floor(f.dom.offsetHeight/f.dom.querySelector("li").offsetHeight)-1));let{length:p}=l.open.options,v=l.open.selected>-1?l.open.selected+u*(o?1:-1):o?0:p-1;return v<0?v=r=="page"?0:p-1:v>=p&&(v=r=="page"?p-1:0),s.dispatch({effects:are.of(v)}),!0}}let RLe=o=>{let r=o.state.field(fa,!1);return o.state.readOnly||!r||!r.open||r.open.selected<0||r.open.disabled||Date.now()-r.open.timestamp<o.state.facet(qo).interactionDelay?!1:p9(o,r.open.options[r.open.selected])},LLe=o=>o.state.field(fa,!1)?(o.dispatch({effects:Y6.of(!0)}),!0):!1,$Le=o=>{let r=o.state.field(fa,!1);return!r||!r.active.some(s=>s.state!=0)?!1:(o.dispatch({effects:Mx.of(null)}),!0)};class NLe{constructor(r,s){this.active=r,this.context=s,this.time=Date.now(),this.updates=[],this.done=void 0}}let FLe=50,BLe=1e3,jLe=Wa.fromClass(class{constructor(o){this.view=o,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let r of o.state.field(fa).active)r.state==1&&this.startQuery(r)}update(o){let r=o.state.field(fa),s=o.state.facet(qo);if(!o.selectionSet&&!o.docChanged&&o.startState.field(fa)==r)return;let l=o.transactions.some(f=>{let p=ore(f,s);return p&8||(f.selection||f.docChanged)&&!(p&3)});for(let f=0;f<this.running.length;f++){let p=this.running[f];if(l||p.context.abortOnDocChange&&o.docChanged||p.updates.length+o.transactions.length>FLe&&Date.now()-p.time>BLe){for(let v of p.context.abortListeners)try{v()}catch(y){zs(this.view.state,y)}p.context.abortListeners=null,this.running.splice(f--,1)}else p.updates.push(...o.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),o.transactions.some(f=>f.effects.some(p=>p.is(Y6)))&&(this.pendingStart=!0);let u=this.pendingStart?50:s.activateOnTypingDelay;if(this.debounceUpdate=r.active.some(f=>f.state==1&&!this.running.some(p=>p.active.source==f.source))?setTimeout(()=>this.startUpdate(),u):-1,this.composing!=0)for(let f of o.transactions)f.isUserEvent("input.type")?this.composing=2:this.composing==2&&f.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:o}=this.view,r=o.field(fa);for(let s of r.active)s.state==1&&!this.running.some(l=>l.active.source==s.source)&&this.startQuery(s)}startQuery(o){let{state:r}=this.view,s=op(r),l=new Kne(r,s,o.explicitPos==s,this.view),u=new NLe(o,l);this.running.push(u),Promise.resolve(o.source(l)).then(f=>{u.context.aborted||(u.done=f||null,this.scheduleAccept())},f=>{this.view.dispatch({effects:Mx.of(null)}),zs(this.view.state,f)})}scheduleAccept(){this.running.every(o=>o.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(qo).updateSyncTime))}accept(){var o;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let r=[],s=this.view.state.facet(qo);for(let l=0;l<this.running.length;l++){let u=this.running[l];if(u.done===void 0)continue;if(this.running.splice(l--,1),u.done){let p=new Wv(u.active.source,u.active.explicitPos,u.done,u.done.from,(o=u.done.to)!==null&&o!==void 0?o:op(u.updates.length?u.updates[0].startState:this.view.state));for(let v of u.updates)p=p.update(v,s);if(p.hasResult()){r.push(p);continue}}let f=this.view.state.field(fa).active.find(p=>p.source==u.active.source);if(f&&f.state==1)if(u.done==null){let p=new Qa(u.active.source,0);for(let v of u.updates)p=p.update(v,s);p.state!=1&&r.push(p)}else this.startQuery(f)}r.length&&this.view.dispatch({effects:sre.of(r)})}},{eventHandlers:{blur(o){let r=this.view.state.field(fa,!1);if(r&&r.tooltip&&this.view.state.facet(qo).closeOnBlur){let s=r.open&&wne(this.view,r.open.tooltip);(!s||!s.dom.contains(o.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Mx.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Y6.of(!1)}),20),this.composing=0}}}),VLe=typeof navigator=="object"&&/Win/.test(navigator.platform),zLe=Iv.highest(Yn.domEventHandlers({keydown(o,r){let s=r.state.field(fa,!1);if(!s||!s.open||s.open.disabled||s.open.selected<0||o.key.length>1||o.ctrlKey&&!(VLe&&o.altKey)||o.metaKey)return!1;let l=s.open.options[s.open.selected],u=s.active.find(p=>p.source==l.source),f=l.completion.commitCharacters||u.result.commitCharacters;return f&&f.indexOf(o.key)>-1&&p9(r,l),!1}})),lre=Yn.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class HLe{constructor(r,s,l,u){this.field=r,this.line=s,this.from=l,this.to=u}}class m9{constructor(r,s,l){this.field=r,this.from=s,this.to=l}map(r){let s=r.mapPos(this.from,-1,Vo.TrackDel),l=r.mapPos(this.to,1,Vo.TrackDel);return s==null||l==null?null:new m9(this.field,s,l)}}class g9{constructor(r,s){this.lines=r,this.fieldPositions=s}instantiate(r,s){let l=[],u=[s],f=r.doc.lineAt(s),p=/^\s*/.exec(f.text)[0];for(let y of this.lines){if(l.length){let x=p,w=/^\t*/.exec(y)[0].length;for(let C=0;C<w;C++)x+=r.facet(W6);u.push(s+x.length-w),y=x+y.slice(w)}l.push(y),s+=y.length+1}let v=this.fieldPositions.map(y=>new m9(y.field,u[y.line]+y.from,u[y.line]+y.to));return{text:l,ranges:v}}static parse(r){let s=[],l=[],u=[],f;for(let p of r.split(/\r\n?|\n/)){for(;f=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(p);){let v=f[1]?+f[1]:null,y=f[2]||f[3]||"",x=-1,w=y.replace(/\\[{}]/g,C=>C[1]);for(let C=0;C<s.length;C++)(v!=null?s[C].seq==v:w&&s[C].name==w)&&(x=C);if(x<0){let C=0;for(;C<s.length&&(v==null||s[C].seq!=null&&s[C].seq<v);)C++;s.splice(C,0,{seq:v,name:w}),x=C;for(let O of u)O.field>=x&&O.field++}u.push(new HLe(x,l.length,f.index,f.index+w.length)),p=p.slice(0,f.index)+y+p.slice(f.index+f[0].length)}p=p.replace(/\\([{}])/g,(v,y,x)=>{for(let w of u)w.line==l.length&&w.from>x&&(w.from--,w.to--);return y}),l.push(p)}return new g9(l,u)}}let ULe=vn.widget({widget:new class extends Fv{toDOM(){let o=document.createElement("span");return o.className="cm-snippetFieldPosition",o}ignoreEvent(){return!1}}}),qLe=vn.mark({class:"cm-snippetField"});class Gv{constructor(r,s){this.ranges=r,this.active=s,this.deco=vn.set(r.map(l=>(l.from==l.to?ULe:qLe).range(l.from,l.to)))}map(r){let s=[];for(let l of this.ranges){let u=l.map(r);if(!u)return null;s.push(u)}return new Gv(s,this.active)}selectionInsideField(r){return r.ranges.every(s=>this.ranges.some(l=>l.field==this.active&&l.from<=s.from&&l.to>=s.to))}}let Ax=yr.define({map(o,r){return o&&o.map(r)}}),WLe=yr.define(),Rx=qa.define({create(){return null},update(o,r){for(let s of r.effects){if(s.is(Ax))return s.value;if(s.is(WLe)&&o)return new Gv(o.ranges,s.value)}return o&&r.docChanged&&(o=o.map(r.changes)),o&&r.selection&&!o.selectionInsideField(r.selection)&&(o=null),o},provide:o=>Yn.decorations.from(o,r=>r?r.deco:vn.none)});function v9(o,r){return Be.create(o.filter(s=>s.field==r).map(s=>Be.range(s.from,s.to)))}function GLe(o){let r=g9.parse(o);return(s,l,u,f)=>{let{text:p,ranges:v}=r.instantiate(s.state,u),y={changes:{from:u,to:f,insert:Vn.of(p)},scrollIntoView:!0,annotations:l?[f9.of(l),Gh.userEvent.of("input.complete")]:void 0};if(v.length&&(y.selection=v9(v,0)),v.some(x=>x.field>0)){let x=new Gv(v,0),w=y.effects=[Ax.of(x)];s.state.field(Rx,!1)===void 0&&w.push(yr.appendConfig.of([Rx,YLe,XLe,lre]))}s.dispatch(s.state.update(y))}}function cre(o){return({state:r,dispatch:s})=>{let l=r.field(Rx,!1);if(!l||o<0&&l.active==0)return!1;let u=l.active+o,f=o>0&&!l.ranges.some(p=>p.field==u+o);return s(r.update({selection:v9(l.ranges,u),effects:Ax.of(f?null:new Gv(l.ranges,u)),scrollIntoView:!0})),!0}}let QLe=[{key:"Tab",run:cre(1),shift:cre(-1)},{key:"Escape",run:({state:o,dispatch:r})=>o.field(Rx,!1)?(r(o.update({effects:Ax.of(null)})),!0):!1}],ure=xt.define({combine(o){return o.length?o[0]:QLe}}),YLe=Iv.highest(P6.compute([ure],o=>o.facet(ure)));function Qm(o,r){return Object.assign(Object.assign({},r),{apply:GLe(o)})}let XLe=Yn.domEventHandlers({mousedown(o,r){let s=r.state.field(Rx,!1),l;if(!s||(l=r.posAtCoords({x:o.clientX,y:o.clientY}))==null)return!1;let u=s.ranges.find(f=>f.from<=l&&f.to>=l);return!u||u.field==s.active?!1:(r.dispatch({selection:v9(s.ranges,u.field),effects:Ax.of(s.ranges.some(f=>f.field>u.field)?new Gv(s.ranges,u.field):null),scrollIntoView:!0}),!0)}}),Z6={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Ym=yr.define({map(o,r){let s=r.mapPos(o,-1,Vo.TrackAfter);return s??void 0}}),y9=new class extends zm{};y9.startSide=1,y9.endSide=-1;let dre=qa.define({create(){return Vs.empty},update(o,r){if(o=o.map(r.changes),r.selection){let s=r.state.doc.lineAt(r.selection.main.head);o=o.update({filter:l=>l>=s.from&&l<=s.to})}for(let s of r.effects)s.is(Ym)&&(o=o.update({add:[y9.range(s.value,s.value+1)]}));return o}});function KLe(){return[t$e,dre]}let b9="()[]{}<>";function ZLe(o){for(let r=0;r<b9.length;r+=2)if(b9.charCodeAt(r)==o)return b9.charAt(r+1);return Eee(o<128?o:o+1)}function JLe(o,r){return o.languageDataAt("closeBrackets",r)[0]||Z6}let e$e=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),t$e=Yn.inputHandler.of((o,r,s,l)=>{if((e$e?o.composing:o.compositionStarted)||o.state.readOnly)return!1;let u=o.state.selection.main;if(l.length>2||l.length==2&&Ru(Ua(l,0))==1||r!=u.from||s!=u.to)return!1;let f=n$e(o.state,l);return f?(o.dispatch(f),!0):!1});function n$e(o,r){let s=JLe(o,o.selection.main.head),l=s.brackets||Z6.brackets;for(let u of l){let f=ZLe(Ua(u,0));if(r==u)return f==u?o$e(o,u,l.indexOf(u+u+u)>-1,s):r$e(o,u,f,s.before||Z6.before);if(r==f&&fre(o,o.selection.main.from))return i$e(o,u,f)}return null}function fre(o,r){let s=!1;return o.field(dre).between(0,o.doc.length,l=>{l==r&&(s=!0)}),s}function x9(o,r){let s=o.sliceString(r,r+2);return s.slice(0,Ru(Ua(s,0)))}function r$e(o,r,s,l){let u=null,f=o.changeByRange(p=>{if(!p.empty)return{changes:[{insert:r,from:p.from},{insert:s,from:p.to}],effects:Ym.of(p.to+r.length),range:Be.range(p.anchor+r.length,p.head+r.length)};let v=x9(o.doc,p.head);return!v||/\s/.test(v)||l.indexOf(v)>-1?{changes:{insert:r+s,from:p.head},effects:Ym.of(p.head+r.length),range:Be.cursor(p.head+r.length)}:{range:u=p}});return u?null:o.update(f,{scrollIntoView:!0,userEvent:"input.type"})}function i$e(o,r,s){let l=null,u=o.changeByRange(f=>f.empty&&x9(o.doc,f.head)==s?{changes:{from:f.head,to:f.head+s.length,insert:s},range:Be.cursor(f.head+s.length)}:l={range:f});return l?null:o.update(u,{scrollIntoView:!0,userEvent:"input.type"})}function o$e(o,r,s,l){let u=l.stringPrefixes||Z6.stringPrefixes,f=null,p=o.changeByRange(v=>{if(!v.empty)return{changes:[{insert:r,from:v.from},{insert:r,from:v.to}],effects:Ym.of(v.to+r.length),range:Be.range(v.anchor+r.length,v.head+r.length)};let y=v.head,x=x9(o.doc,y),w;if(x==r){if(hre(o,y))return{changes:{insert:r+r,from:y},effects:Ym.of(y+r.length),range:Be.cursor(y+r.length)};if(fre(o,y)){let O=s&&o.sliceDoc(y,y+r.length*3)==r+r+r?r+r+r:r;return{changes:{from:y,to:y+O.length,insert:O},range:Be.cursor(y+O.length)}}}else{if(s&&o.sliceDoc(y-2*r.length,y)==r+r&&(w=pre(o,y-2*r.length,u))>-1&&hre(o,w))return{changes:{insert:r+r+r+r,from:y},effects:Ym.of(y+r.length),range:Be.cursor(y+r.length)};if(o.charCategorizer(y)(x)!=Rl.Word&&pre(o,y,u)>-1&&!s$e(o,y,r,u))return{changes:{insert:r+r,from:y},effects:Ym.of(y+r.length),range:Be.cursor(y+r.length)}}return{range:f=v}});return f?null:o.update(p,{scrollIntoView:!0,userEvent:"input.type"})}function hre(o,r){let s=Oo(o).resolveInner(r+1);return s.parent&&s.from==r}function s$e(o,r,s,l){let u=Oo(o).resolveInner(r,-1),f=l.reduce((p,v)=>Math.max(p,v.length),0);for(let p=0;p<5;p++){let v=o.sliceDoc(u.from,Math.min(u.to,u.from+s.length+f)),y=v.indexOf(s);if(!y||y>-1&&l.indexOf(v.slice(0,y))>-1){let w=u.firstChild;for(;w&&w.from==u.from&&w.to-w.from>s.length+y;){if(o.sliceDoc(w.to-s.length,w.to)==s)return!1;w=w.firstChild}return!0}let x=u.to==r&&u.parent;if(!x)break;u=x}return!1}function pre(o,r,s){let l=o.charCategorizer(r);if(l(o.sliceDoc(r-1,r))!=Rl.Word)return r;for(let u of s){let f=r-u.length;if(o.sliceDoc(f,r)==u&&l(o.sliceDoc(f-1,f))!=Rl.Word)return f}return-1}function a$e(o={}){return[zLe,fa,qo.of(o),jLe,c$e,lre]}let l$e=[{key:"Ctrl-Space",run:LLe},{key:"Escape",run:$Le},{key:"ArrowDown",run:K6(!0)},{key:"ArrowUp",run:K6(!1)},{key:"PageDown",run:K6(!0,"page")},{key:"PageUp",run:K6(!1,"page")},{key:"Enter",run:RLe}],c$e=Iv.highest(P6.computeN([qo],o=>o.facet(qo).defaultKeymap?[l$e]:[])),u$e=o=>{let{state:r}=o,s=r.doc.lineAt(r.selection.main.from),l=w9(o.state,s.from);return l.line?d$e(o):l.block?h$e(o):!1};function E9(o,r){return({state:s,dispatch:l})=>{if(s.readOnly)return!1;let u=o(r,s);return u?(l(s.update(u)),!0):!1}}let d$e=E9(g$e,0),f$e=E9(mre,0),h$e=E9((o,r)=>mre(o,r,m$e(r)),0);function w9(o,r){let s=o.languageDataAt("commentTokens",r);return s.length?s[0]:{}}let Lx=50;function p$e(o,{open:r,close:s},l,u){let f=o.sliceDoc(l-Lx,l),p=o.sliceDoc(u,u+Lx),v=/\s*$/.exec(f)[0].length,y=/^\s*/.exec(p)[0].length,x=f.length-v;if(f.slice(x-r.length,x)==r&&p.slice(y,y+s.length)==s)return{open:{pos:l-v,margin:v&&1},close:{pos:u+y,margin:y&&1}};let w,C;u-l<=2*Lx?w=C=o.sliceDoc(l,u):(w=o.sliceDoc(l,l+Lx),C=o.sliceDoc(u-Lx,u));let O=/^\s*/.exec(w)[0].length,T=/\s*$/.exec(C)[0].length,P=C.length-T-s.length;return w.slice(O,O+r.length)==r&&C.slice(P,P+s.length)==s?{open:{pos:l+O+r.length,margin:/\s/.test(w.charAt(O+r.length))?1:0},close:{pos:u-T-s.length,margin:/\s/.test(C.charAt(P-1))?1:0}}:null}function m$e(o){let r=[];for(let s of o.selection.ranges){let l=o.doc.lineAt(s.from),u=s.to<=l.to?l:o.doc.lineAt(s.to),f=r.length-1;f>=0&&r[f].to>l.from?r[f].to=u.to:r.push({from:l.from+/^\s*/.exec(l.text)[0].length,to:u.to})}return r}function mre(o,r,s=r.selection.ranges){let l=s.map(f=>w9(r,f.from).block);if(!l.every(f=>f))return null;let u=s.map((f,p)=>p$e(r,l[p],f.from,f.to));if(o!=2&&!u.every(f=>f))return{changes:r.changes(s.map((f,p)=>u[p]?[]:[{from:f.from,insert:l[p].open+" "},{from:f.to,insert:" "+l[p].close}]))};if(o!=1&&u.some(f=>f)){let f=[];for(let p=0,v;p<u.length;p++)if(v=u[p]){let y=l[p],{open:x,close:w}=v;f.push({from:x.pos-y.open.length,to:x.pos+x.margin},{from:w.pos-w.margin,to:w.pos+y.close.length})}return{changes:f}}return null}function g$e(o,r,s=r.selection.ranges){let l=[],u=-1;for(let{from:f,to:p}of s){let v=l.length,y=1e9,x=w9(r,f).line;if(x){for(let w=f;w<=p;){let C=r.doc.lineAt(w);if(C.from>u&&(f==p||p>C.from)){u=C.from;let O=/^\s*/.exec(C.text)[0].length,T=O==C.length,P=C.text.slice(O,O+x.length)==x?O:-1;O<C.text.length&&O<y&&(y=O),l.push({line:C,comment:P,token:x,indent:O,empty:T,single:!1})}w=C.to+1}if(y<1e9)for(let w=v;w<l.length;w++)l[w].indent<l[w].line.text.length&&(l[w].indent=y);l.length==v+1&&(l[v].single=!0)}}if(o!=2&&l.some(f=>f.comment<0&&(!f.empty||f.single))){let f=[];for(let{line:v,token:y,indent:x,empty:w,single:C}of l)(C||!w)&&f.push({from:v.from+x,insert:y+" "});let p=r.changes(f);return{changes:p,selection:r.selection.map(p,1)}}else if(o!=1&&l.some(f=>f.comment>=0)){let f=[];for(let{line:p,comment:v,token:y}of l)if(v>=0){let x=p.from+v,w=x+y.length;p.text[w-p.from]==" "&&w++,f.push({from:x,to:w})}return{changes:f}}return null}function Qv(o,r){return Be.create(o.ranges.map(r),o.mainIndex)}function Hu(o,r){return o.update({selection:r,scrollIntoView:!0,userEvent:"select"})}function kc({state:o,dispatch:r},s){let l=Qv(o.selection,s);return l.eq(o.selection,!0)?!1:(r(Hu(o,l)),!0)}function J6(o,r){return Be.cursor(r?o.to:o.from)}function gre(o,r){return kc(o,s=>s.empty?o.moveByChar(s,r):J6(s,r))}function gs(o){return o.textDirectionAt(o.state.selection.main.head)==Ti.LTR}let vre=o=>gre(o,!gs(o)),yre=o=>gre(o,gs(o));function bre(o,r){return kc(o,s=>s.empty?o.moveByGroup(s,r):J6(s,r))}let v$e=o=>bre(o,!gs(o)),y$e=o=>bre(o,gs(o));function b$e(o,r,s){if(r.type.prop(s))return!0;let l=r.to-r.from;return l&&(l>2||/[^\s,.;:]/.test(o.sliceDoc(r.from,r.to)))||r.firstChild}function eS(o,r,s){let l=Oo(o).resolveInner(r.head),u=s?cn.closedBy:cn.openedBy;for(let y=r.head;;){let x=s?l.childAfter(y):l.childBefore(y);if(!x)break;b$e(o,x,u)?l=x:y=s?x.to:x.from}let f=l.type.prop(u),p,v;return f&&(p=s?zu(o,l.from,1):zu(o,l.to,-1))&&p.matched?v=s?p.end.to:p.end.from:v=s?l.to:l.from,Be.cursor(v,s?-1:1)}let x$e=o=>kc(o,r=>eS(o.state,r,!gs(o))),E$e=o=>kc(o,r=>eS(o.state,r,gs(o)));function xre(o,r){return kc(o,s=>{if(!s.empty)return J6(s,r);let l=o.moveVertically(s,r);return l.head!=s.head?l:o.moveToLineBoundary(s,r)})}let Ere=o=>xre(o,!1),wre=o=>xre(o,!0);function _re(o){let r=o.scrollDOM.clientHeight<o.scrollDOM.scrollHeight-2,s=0,l=0,u;if(r){for(let f of o.state.facet(Yn.scrollMargins)){let p=f(o);p?.top&&(s=Math.max(p?.top,s)),p?.bottom&&(l=Math.max(p?.bottom,l))}u=o.scrollDOM.clientHeight-s-l}else u=(o.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:s,marginBottom:l,selfScroll:r,height:Math.max(o.defaultLineHeight,u-5)}}function Cre(o,r){let s=_re(o),{state:l}=o,u=Qv(l.selection,p=>p.empty?o.moveVertically(p,r,s.height):J6(p,r));if(u.eq(l.selection))return!1;let f;if(s.selfScroll){let p=o.coordsAtPos(l.selection.main.head),v=o.scrollDOM.getBoundingClientRect(),y=v.top+s.marginTop,x=v.bottom-s.marginBottom;p&&p.top>y&&p.bottom<x&&(f=Yn.scrollIntoView(u.main.head,{y:"start",yMargin:p.top-y}))}return o.dispatch(Hu(l,u),{effects:f}),!0}let Sre=o=>Cre(o,!1),_9=o=>Cre(o,!0);function sp(o,r,s){let l=o.lineBlockAt(r.head),u=o.moveToLineBoundary(r,s);if(u.head==r.head&&u.head!=(s?l.to:l.from)&&(u=o.moveToLineBoundary(r,s,!1)),!s&&u.head==l.from&&l.length){let f=/^\s*/.exec(o.state.sliceDoc(l.from,Math.min(l.from+100,l.to)))[0].length;f&&r.head!=l.from+f&&(u=Be.cursor(l.from+f))}return u}let w$e=o=>kc(o,r=>sp(o,r,!0)),_$e=o=>kc(o,r=>sp(o,r,!1)),C$e=o=>kc(o,r=>sp(o,r,!gs(o))),S$e=o=>kc(o,r=>sp(o,r,gs(o))),O$e=o=>kc(o,r=>Be.cursor(o.lineBlockAt(r.head).from,1)),D$e=o=>kc(o,r=>Be.cursor(o.lineBlockAt(r.head).to,-1));function T$e(o,r,s){let l=!1,u=Qv(o.selection,f=>{let p=zu(o,f.head,-1)||zu(o,f.head,1)||f.head>0&&zu(o,f.head-1,1)||f.head<o.doc.length&&zu(o,f.head+1,-1);if(!p||!p.end)return f;l=!0;let v=p.start.from==f.head?p.end.to:p.end.from;return Be.cursor(v)});return l?(r(Hu(o,u)),!0):!1}let k$e=({state:o,dispatch:r})=>T$e(o,r);function Bl(o,r){let s=Qv(o.state.selection,l=>{let u=r(l);return Be.range(l.anchor,u.head,u.goalColumn,u.bidiLevel||void 0)});return s.eq(o.state.selection)?!1:(o.dispatch(Hu(o.state,s)),!0)}function Ore(o,r){return Bl(o,s=>o.moveByChar(s,r))}let Dre=o=>Ore(o,!gs(o)),Tre=o=>Ore(o,gs(o));function kre(o,r){return Bl(o,s=>o.moveByGroup(s,r))}let P$e=o=>kre(o,!gs(o)),I$e=o=>kre(o,gs(o)),M$e=o=>Bl(o,r=>eS(o.state,r,!gs(o))),A$e=o=>Bl(o,r=>eS(o.state,r,gs(o)));function Pre(o,r){return Bl(o,s=>o.moveVertically(s,r))}let Ire=o=>Pre(o,!1),Mre=o=>Pre(o,!0);function Are(o,r){return Bl(o,s=>o.moveVertically(s,r,_re(o).height))}let Rre=o=>Are(o,!1),Lre=o=>Are(o,!0),R$e=o=>Bl(o,r=>sp(o,r,!0)),L$e=o=>Bl(o,r=>sp(o,r,!1)),$$e=o=>Bl(o,r=>sp(o,r,!gs(o))),N$e=o=>Bl(o,r=>sp(o,r,gs(o))),F$e=o=>Bl(o,r=>Be.cursor(o.lineBlockAt(r.head).from)),B$e=o=>Bl(o,r=>Be.cursor(o.lineBlockAt(r.head).to)),$re=({state:o,dispatch:r})=>(r(Hu(o,{anchor:0})),!0),Nre=({state:o,dispatch:r})=>(r(Hu(o,{anchor:o.doc.length})),!0),Fre=({state:o,dispatch:r})=>(r(Hu(o,{anchor:o.selection.main.anchor,head:0})),!0),Bre=({state:o,dispatch:r})=>(r(Hu(o,{anchor:o.selection.main.anchor,head:o.doc.length})),!0),j$e=({state:o,dispatch:r})=>(r(o.update({selection:{anchor:0,head:o.doc.length},userEvent:"select"})),!0),V$e=({state:o,dispatch:r})=>{let s=nS(o).map(({from:l,to:u})=>Be.range(l,Math.min(u+1,o.doc.length)));return r(o.update({selection:Be.create(s),userEvent:"select"})),!0},z$e=({state:o,dispatch:r})=>{let s=Qv(o.selection,l=>{var u;let f=Oo(o).resolveStack(l.from,1);for(let p=f;p;p=p.next){let{node:v}=p;if((v.from<l.from&&v.to>=l.to||v.to>l.to&&v.from<=l.from)&&(!((u=v.parent)===null||u===void 0)&&u.parent))return Be.range(v.to,v.from)}return l});return r(Hu(o,s)),!0},H$e=({state:o,dispatch:r})=>{let s=o.selection,l=null;return s.ranges.length>1?l=Be.create([s.main]):s.main.empty||(l=Be.create([Be.cursor(s.main.head)])),l?(r(Hu(o,l)),!0):!1};function $x(o,r){if(o.state.readOnly)return!1;let s="delete.selection",{state:l}=o,u=l.changeByRange(f=>{let{from:p,to:v}=f;if(p==v){let y=r(f);y<p?(s="delete.backward",y=tS(o,y,!1)):y>p&&(s="delete.forward",y=tS(o,y,!0)),p=Math.min(p,y),v=Math.max(v,y)}else p=tS(o,p,!1),v=tS(o,v,!0);return p==v?{range:f}:{changes:{from:p,to:v},range:Be.cursor(p,p<f.head?-1:1)}});return u.changes.empty?!1:(o.dispatch(l.update(u,{scrollIntoView:!0,userEvent:s,effects:s=="delete.selection"?Yn.announce.of(l.phrase("Selection deleted")):void 0})),!0)}function tS(o,r,s){if(o instanceof Yn)for(let l of o.state.facet(Yn.atomicRanges).map(u=>u(o)))l.between(r,r,(u,f)=>{u<r&&f>r&&(r=s?f:u)});return r}let jre=(o,r,s)=>$x(o,l=>{let u=l.from,{state:f}=o,p=f.doc.lineAt(u),v,y;if(s&&!r&&u>p.from&&u<p.from+200&&!/[^ \t]/.test(v=p.text.slice(0,u-p.from))){if(v[v.length-1]=="	")return u-1;let x=u6(v,f.tabSize),w=x%G6(f)||G6(f);for(let C=0;C<w&&v[v.length-1-C]==" ";C++)u--;y=u}else y=js(p.text,u-p.from,r,r)+p.from,y==u&&p.number!=(r?f.doc.lines:1)?y+=r?1:-1:!r&&/[\ufe00-\ufe0f]/.test(p.text.slice(y-p.from,u-p.from))&&(y=js(p.text,y-p.from,!1,!1)+p.from);return y}),C9=o=>jre(o,!1,!0),Vre=o=>jre(o,!0,!1),zre=(o,r)=>$x(o,s=>{let l=s.head,{state:u}=o,f=u.doc.lineAt(l),p=u.charCategorizer(l);for(let v=null;;){if(l==(r?f.to:f.from)){l==s.head&&f.number!=(r?u.doc.lines:1)&&(l+=r?1:-1);break}let y=js(f.text,l-f.from,r)+f.from,x=f.text.slice(Math.min(l,y)-f.from,Math.max(l,y)-f.from),w=p(x);if(v!=null&&w!=v)break;(x!=" "||l!=s.head)&&(v=w),l=y}return l}),Hre=o=>zre(o,!1),U$e=o=>zre(o,!0),q$e=o=>$x(o,r=>{let s=o.lineBlockAt(r.head).to;return r.head<s?s:Math.min(o.state.doc.length,r.head+1)}),W$e=o=>$x(o,r=>{let s=o.moveToLineBoundary(r,!1).head;return r.head>s?s:Math.max(0,r.head-1)}),G$e=o=>$x(o,r=>{let s=o.moveToLineBoundary(r,!0).head;return r.head<s?s:Math.min(o.state.doc.length,r.head+1)}),Q$e=({state:o,dispatch:r})=>{if(o.readOnly)return!1;let s=o.changeByRange(l=>({changes:{from:l.from,to:l.to,insert:Vn.of(["",""])},range:Be.cursor(l.from)}));return r(o.update(s,{scrollIntoView:!0,userEvent:"input"})),!0},Y$e=({state:o,dispatch:r})=>{if(o.readOnly)return!1;let s=o.changeByRange(l=>{if(!l.empty||l.from==0||l.from==o.doc.length)return{range:l};let u=l.from,f=o.doc.lineAt(u),p=u==f.from?u-1:js(f.text,u-f.from,!1)+f.from,v=u==f.to?u+1:js(f.text,u-f.from,!0)+f.from;return{changes:{from:p,to:v,insert:o.doc.slice(u,v).append(o.doc.slice(p,u))},range:Be.cursor(v)}});return s.changes.empty?!1:(r(o.update(s,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function nS(o){let r=[],s=-1;for(let l of o.selection.ranges){let u=o.doc.lineAt(l.from),f=o.doc.lineAt(l.to);if(!l.empty&&l.to==f.from&&(f=o.doc.lineAt(l.to-1)),s>=u.number){let p=r[r.length-1];p.to=f.to,p.ranges.push(l)}else r.push({from:u.from,to:f.to,ranges:[l]});s=f.number+1}return r}function Ure(o,r,s){if(o.readOnly)return!1;let l=[],u=[];for(let f of nS(o)){if(s?f.to==o.doc.length:f.from==0)continue;let p=o.doc.lineAt(s?f.to+1:f.from-1),v=p.length+1;if(s){l.push({from:f.to,to:p.to},{from:f.from,insert:p.text+o.lineBreak});for(let y of f.ranges)u.push(Be.range(Math.min(o.doc.length,y.anchor+v),Math.min(o.doc.length,y.head+v)))}else{l.push({from:p.from,to:f.from},{from:f.to,insert:o.lineBreak+p.text});for(let y of f.ranges)u.push(Be.range(y.anchor-v,y.head-v))}}return l.length?(r(o.update({changes:l,scrollIntoView:!0,selection:Be.create(u,o.selection.mainIndex),userEvent:"move.line"})),!0):!1}let X$e=({state:o,dispatch:r})=>Ure(o,r,!1),K$e=({state:o,dispatch:r})=>Ure(o,r,!0);function qre(o,r,s){if(o.readOnly)return!1;let l=[];for(let u of nS(o))s?l.push({from:u.from,insert:o.doc.slice(u.from,u.to)+o.lineBreak}):l.push({from:u.to,insert:o.lineBreak+o.doc.slice(u.from,u.to)});return r(o.update({changes:l,scrollIntoView:!0,userEvent:"input.copyline"})),!0}let Z$e=({state:o,dispatch:r})=>qre(o,r,!1),J$e=({state:o,dispatch:r})=>qre(o,r,!0),eNe=o=>{if(o.state.readOnly)return!1;let{state:r}=o,s=r.changes(nS(r).map(({from:u,to:f})=>(u>0?u--:f<r.doc.length&&f++,{from:u,to:f}))),l=Qv(r.selection,u=>{let f;if(o.lineWrapping){let p=o.lineBlockAt(u.head),v=o.coordsAtPos(u.head,u.assoc||1);v&&(f=p.bottom+o.documentTop-v.bottom+o.defaultLineHeight/2)}return o.moveVertically(u,!0,f)}).map(s);return o.dispatch({changes:s,selection:l,scrollIntoView:!0,userEvent:"delete.line"}),!0};function tNe(o,r){if(/\(\)|\[\]|\{\}/.test(o.sliceDoc(r-1,r+1)))return{from:r,to:r};let s=Oo(o).resolveInner(r),l=s.childBefore(r),u=s.childAfter(r),f;return l&&u&&l.to<=r&&u.from>=r&&(f=l.type.prop(cn.closedBy))&&f.indexOf(u.name)>-1&&o.doc.lineAt(l.to).from==o.doc.lineAt(u.from).from&&!/\S/.test(o.sliceDoc(l.to,u.from))?{from:l.to,to:u.from}:null}let nNe=Wre(!1),rNe=Wre(!0);function Wre(o){return({state:r,dispatch:s})=>{if(r.readOnly)return!1;let l=r.changeByRange(u=>{let{from:f,to:p}=u,v=r.doc.lineAt(f),y=!o&&f==p&&tNe(r,f);o&&(f=p=(p<=v.to?v:r.doc.lineAt(p)).to);let x=new Q6(r,{simulateBreak:f,simulateDoubleBreak:!!y}),w=n9(x,f);for(w==null&&(w=u6(/^\s*/.exec(r.doc.lineAt(f).text)[0],r.tabSize));p<v.to&&/\s/.test(v.text[p-v.from]);)p++;y?{from:f,to:p}=y:f>v.from&&f<v.from+100&&!/\S/.test(v.text.slice(0,f))&&(f=v.from);let C=["",Px(r,w)];return y&&C.push(Px(r,x.lineIndent(v.from,-1))),{changes:{from:f,to:p,insert:Vn.of(C)},range:Be.cursor(f+1+C[1].length)}});return s(r.update(l,{scrollIntoView:!0,userEvent:"input"})),!0}}function S9(o,r){let s=-1;return o.changeByRange(l=>{let u=[];for(let p=l.from;p<=l.to;){let v=o.doc.lineAt(p);v.number>s&&(l.empty||l.to>v.from)&&(r(v,u,l),s=v.number),p=v.to+1}let f=o.changes(u);return{changes:u,range:Be.range(f.mapPos(l.anchor,1),f.mapPos(l.head,1))}})}let iNe=({state:o,dispatch:r})=>{if(o.readOnly)return!1;let s=Object.create(null),l=new Q6(o,{overrideIndentation:f=>{let p=s[f];return p??-1}}),u=S9(o,(f,p,v)=>{let y=n9(l,f.from);if(y==null)return;/\S/.test(f.text)||(y=0);let x=/^\s*/.exec(f.text)[0],w=Px(o,y);(x!=w||v.from<f.from+x.length)&&(s[f.from]=y,p.push({from:f.from,to:f.from+x.length,insert:w}))});return u.changes.empty||r(o.update(u,{userEvent:"indent"})),!0},oNe=({state:o,dispatch:r})=>o.readOnly?!1:(r(o.update(S9(o,(s,l)=>{l.push({from:s.from,insert:o.facet(W6)})}),{userEvent:"input.indent"})),!0),sNe=({state:o,dispatch:r})=>o.readOnly?!1:(r(o.update(S9(o,(s,l)=>{let u=/^\s*/.exec(s.text)[0];if(!u)return;let f=u6(u,o.tabSize),p=0,v=Px(o,Math.max(0,f-G6(o)));for(;p<u.length&&p<v.length&&u.charCodeAt(p)==v.charCodeAt(p);)p++;l.push({from:s.from+p,to:s.from+u.length,insert:v.slice(p)})}),{userEvent:"delete.dedent"})),!0),aNe=o=>(o.setTabFocusMode(),!0),lNe=[{key:"Ctrl-b",run:vre,shift:Dre,preventDefault:!0},{key:"Ctrl-f",run:yre,shift:Tre},{key:"Ctrl-p",run:Ere,shift:Ire},{key:"Ctrl-n",run:wre,shift:Mre},{key:"Ctrl-a",run:O$e,shift:F$e},{key:"Ctrl-e",run:D$e,shift:B$e},{key:"Ctrl-d",run:Vre},{key:"Ctrl-h",run:C9},{key:"Ctrl-k",run:q$e},{key:"Ctrl-Alt-h",run:Hre},{key:"Ctrl-o",run:Q$e},{key:"Ctrl-t",run:Y$e},{key:"Ctrl-v",run:_9}],cNe=[{key:"ArrowLeft",run:vre,shift:Dre,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:v$e,shift:P$e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:C$e,shift:$$e,preventDefault:!0},{key:"ArrowRight",run:yre,shift:Tre,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:y$e,shift:I$e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:S$e,shift:N$e,preventDefault:!0},{key:"ArrowUp",run:Ere,shift:Ire,preventDefault:!0},{mac:"Cmd-ArrowUp",run:$re,shift:Fre},{mac:"Ctrl-ArrowUp",run:Sre,shift:Rre},{key:"ArrowDown",run:wre,shift:Mre,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Nre,shift:Bre},{mac:"Ctrl-ArrowDown",run:_9,shift:Lre},{key:"PageUp",run:Sre,shift:Rre},{key:"PageDown",run:_9,shift:Lre},{key:"Home",run:_$e,shift:L$e,preventDefault:!0},{key:"Mod-Home",run:$re,shift:Fre},{key:"End",run:w$e,shift:R$e,preventDefault:!0},{key:"Mod-End",run:Nre,shift:Bre},{key:"Enter",run:nNe},{key:"Mod-a",run:j$e},{key:"Backspace",run:C9,shift:C9},{key:"Delete",run:Vre},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Hre},{key:"Mod-Delete",mac:"Alt-Delete",run:U$e},{mac:"Mod-Backspace",run:W$e},{mac:"Mod-Delete",run:G$e}].concat(lNe.map(o=>({mac:o.key,run:o.run,shift:o.shift}))),uNe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:x$e,shift:M$e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:E$e,shift:A$e},{key:"Alt-ArrowUp",run:X$e},{key:"Shift-Alt-ArrowUp",run:Z$e},{key:"Alt-ArrowDown",run:K$e},{key:"Shift-Alt-ArrowDown",run:J$e},{key:"Escape",run:H$e},{key:"Mod-Enter",run:rNe},{key:"Alt-l",mac:"Ctrl-l",run:V$e},{key:"Mod-i",run:z$e,preventDefault:!0},{key:"Mod-[",run:sNe},{key:"Mod-]",run:oNe},{key:"Mod-Alt-\\",run:iNe},{key:"Shift-Mod-k",run:eNe},{key:"Shift-Mod-\\",run:k$e},{key:"Mod-/",run:u$e},{key:"Alt-A",run:f$e},{key:"Ctrl-m",mac:"Shift-Alt-m",run:aNe}].concat(cNe);function Uu(){var o=arguments[0];typeof o=="string"&&(o=document.createElement(o));var r=1,s=arguments[1];if(s&&typeof s=="object"&&s.nodeType==null&&!Array.isArray(s)){for(var l in s)if(Object.prototype.hasOwnProperty.call(s,l)){var u=s[l];typeof u=="string"?o.setAttribute(l,u):u!=null&&(o[l]=u)}r++}for(;r<arguments.length;r++)Gre(o,arguments[r]);return o}function Gre(o,r){if(typeof r=="string")o.appendChild(document.createTextNode(r));else if(r!=null)if(r.nodeType!=null)o.appendChild(r);else if(Array.isArray(r))for(var s=0;s<r.length;s++)Gre(o,r[s]);else throw new RangeError("Unsupported child node: "+r)}class dNe{constructor(r,s,l){this.from=r,this.to=s,this.diagnostic=l}}class Xm{constructor(r,s,l){this.diagnostics=r,this.panel=s,this.selected=l}static init(r,s,l){let u=r,f=l.facet(qu).markerFilter;f&&(u=f(u,l));let p=vn.set(u.map(v=>v.from==v.to||v.from==v.to-1&&l.doc.lineAt(v.from).to==v.from?vn.widget({widget:new xNe(v),diagnostic:v}).range(v.from):vn.mark({attributes:{class:"cm-lintRange cm-lintRange-"+v.severity+(v.markClass?" "+v.markClass:"")},diagnostic:v}).range(v.from,v.to)),!0);return new Xm(p,s,Yv(p))}}function Yv(o,r=null,s=0){let l=null;return o.between(s,1e9,(u,f,{spec:p})=>{if(!(r&&p.diagnostic!=r))return l=new dNe(u,f,p.diagnostic),!1}),l}function fNe(o,r){let s=r.pos,l=r.end||s,u=o.state.facet(qu).hideOn(o,s,l);if(u!=null)return u;let f=o.startState.doc.lineAt(r.pos);return!!(o.effects.some(p=>p.is(rS))||o.changes.touchesRange(f.from,Math.max(f.to,l)))}function hNe(o,r){return o.field(Pc,!1)?r:r.concat(yr.appendConfig.of(eie))}function pNe(o,r){return{effects:hNe(o,[rS.of(r)])}}let rS=yr.define(),Qre=yr.define(),Yre=yr.define(),Pc=qa.define({create(){return new Xm(vn.none,null,null)},update(o,r){if(r.docChanged&&o.diagnostics.size){let s=o.diagnostics.map(r.changes),l=null,u=o.panel;if(o.selected){let f=r.changes.mapPos(o.selected.from,1);l=Yv(s,o.selected.diagnostic,f)||Yv(s,null,f)}!s.size&&u&&r.state.facet(qu).autoPanel&&(u=null),o=new Xm(s,u,l)}for(let s of r.effects)if(s.is(rS)){let l=r.state.facet(qu).autoPanel?s.value.length?iS.open:null:o.panel;o=Xm.init(s.value,l,r.state)}else s.is(Qre)?o=new Xm(o.diagnostics,s.value?iS.open:null,o.selected):s.is(Yre)&&(o=new Xm(o.diagnostics,o.panel,s.value));return o},provide:o=>[UR.from(o,r=>r.panel),Yn.decorations.from(o,r=>r.diagnostics)]}),mNe=vn.mark({class:"cm-lintRange cm-lintRange-active"});function gNe(o,r,s){let{diagnostics:l}=o.state.field(Pc),u=[],f=2e8,p=0;l.between(r-(s<0?1:0),r+(s>0?1:0),(y,x,{spec:w})=>{r>=y&&r<=x&&(y==x||(r>y||s>0)&&(r<x||s<0))&&(u.push(w.diagnostic),f=Math.min(y,f),p=Math.max(x,p))});let v=o.state.facet(qu).tooltipFilter;return v&&(u=v(u,o.state)),u.length?{pos:f,end:p,above:o.state.doc.lineAt(f).to<p,create(){return{dom:vNe(o,u)}}}:null}function vNe(o,r){return Uu("ul",{class:"cm-tooltip-lint"},r.map(s=>Zre(o,s,!1)))}let Xre=o=>{let r=o.state.field(Pc,!1);return!r||!r.panel?!1:(o.dispatch({effects:Qre.of(!1)}),!0)},yNe=Wa.fromClass(class{constructor(o){this.view=o,this.timeout=-1,this.set=!0;let{delay:r}=o.state.facet(qu);this.lintTime=Date.now()+r,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,r)}run(){clearTimeout(this.timeout);let o=Date.now();if(o<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-o);else{this.set=!1;let{state:r}=this.view,{sources:s}=r.facet(qu);s.length&&Promise.all(s.map(l=>Promise.resolve(l(this.view)))).then(l=>{let u=l.reduce((f,p)=>f.concat(p));this.view.state.doc==r.doc&&this.view.dispatch(pNe(this.view.state,u))},l=>{zs(this.view.state,l)})}}update(o){let r=o.state.facet(qu);(o.docChanged||r!=o.startState.facet(qu)||r.needsRefresh&&r.needsRefresh(o))&&(this.lintTime=Date.now()+r.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,r.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),qu=xt.define({combine(o){return Object.assign({sources:o.map(r=>r.source).filter(r=>r!=null)},eR(o.map(r=>r.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(r,s)=>r?s?l=>r(l)||s(l):r:s}))}});function bNe(o,r={}){return[qu.of({source:o,config:r}),yNe,eie]}function Kre(o){let r=[];if(o)e:for(let{name:s}of o){for(let l=0;l<s.length;l++){let u=s[l];if(/[a-zA-Z]/.test(u)&&!r.some(f=>f.toLowerCase()==u.toLowerCase())){r.push(u);continue e}}r.push("")}return r}function Zre(o,r,s){var l;let u=s?Kre(r.actions):[];return Uu("li",{class:"cm-diagnostic cm-diagnostic-"+r.severity},Uu("span",{class:"cm-diagnosticText"},r.renderMessage?r.renderMessage(o):r.message),(l=r.actions)===null||l===void 0?void 0:l.map((f,p)=>{let v=!1,y=O=>{if(O.preventDefault(),v)return;v=!0;let T=Yv(o.state.field(Pc).diagnostics,r);T&&f.apply(o,T.from,T.to)},{name:x}=f,w=u[p]?x.indexOf(u[p]):-1,C=w<0?x:[x.slice(0,w),Uu("u",x.slice(w,w+1)),x.slice(w+1)];return Uu("button",{type:"button",class:"cm-diagnosticAction",onclick:y,onmousedown:y,"aria-label":` Action: ${x}${w<0?"":` (access key "${u[p]})"`}.`},C)}),r.source&&Uu("div",{class:"cm-diagnosticSource"},r.source))}class xNe extends Fv{constructor(r){super(),this.diagnostic=r}eq(r){return r.diagnostic==this.diagnostic}toDOM(){return Uu("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Jre{constructor(r,s){this.diagnostic=s,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Zre(r,s,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class iS{constructor(r){this.view=r,this.items=[];let s=u=>{if(u.keyCode==27)Xre(this.view),this.view.focus();else if(u.keyCode==38||u.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(u.keyCode==40||u.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(u.keyCode==36)this.moveSelection(0);else if(u.keyCode==35)this.moveSelection(this.items.length-1);else if(u.keyCode==13)this.view.focus();else if(u.keyCode>=65&&u.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:f}=this.items[this.selectedIndex],p=Kre(f.actions);for(let v=0;v<p.length;v++)if(p[v].toUpperCase().charCodeAt(0)==u.keyCode){let y=Yv(this.view.state.field(Pc).diagnostics,f);y&&f.actions[v].apply(r,y.from,y.to)}}else return;u.preventDefault()},l=u=>{for(let f=0;f<this.items.length;f++)this.items[f].dom.contains(u.target)&&this.moveSelection(f)};this.list=Uu("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:s,onclick:l}),this.dom=Uu("div",{class:"cm-panel-lint"},this.list,Uu("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Xre(this.view)},"\xD7")),this.update()}get selectedIndex(){let r=this.view.state.field(Pc).selected;if(!r)return-1;for(let s=0;s<this.items.length;s++)if(this.items[s].diagnostic==r.diagnostic)return s;return-1}update(){let{diagnostics:r,selected:s}=this.view.state.field(Pc),l=0,u=!1,f=null;for(r.between(0,this.view.state.doc.length,(p,v,{spec:y})=>{let x=-1,w;for(let C=l;C<this.items.length;C++)if(this.items[C].diagnostic==y.diagnostic){x=C;break}x<0?(w=new Jre(this.view,y.diagnostic),this.items.splice(l,0,w),u=!0):(w=this.items[x],x>l&&(this.items.splice(l,x-l),u=!0)),s&&w.diagnostic==s.diagnostic?w.dom.hasAttribute("aria-selected")||(w.dom.setAttribute("aria-selected","true"),f=w):w.dom.hasAttribute("aria-selected")&&w.dom.removeAttribute("aria-selected"),l++});l<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)u=!0,this.items.pop();this.items.length==0&&(this.items.push(new Jre(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),u=!0),f?(this.list.setAttribute("aria-activedescendant",f.id),this.view.requestMeasure({key:this,read:()=>({sel:f.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:p,panel:v})=>{let y=v.height/this.list.offsetHeight;p.top<v.top?this.list.scrollTop-=(v.top-p.top)/y:p.bottom>v.bottom&&(this.list.scrollTop+=(p.bottom-v.bottom)/y)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),u&&this.sync()}sync(){let r=this.list.firstChild;function s(){let l=r;r=l.nextSibling,l.remove()}for(let l of this.items)if(l.dom.parentNode==this.list){for(;r!=l.dom;)s();r=l.dom.nextSibling}else this.list.insertBefore(l.dom,r);for(;r;)s()}moveSelection(r){if(this.selectedIndex<0)return;let s=this.view.state.field(Pc),l=Yv(s.diagnostics,this.items[r].diagnostic);l&&this.view.dispatch({selection:{anchor:l.from,head:l.to},scrollIntoView:!0,effects:Yre.of(l)})}static open(r){return new iS(r)}}function ENe(o,r='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${r}>${encodeURIComponent(o)}</svg>')`}function oS(o){return ENe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${o}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}let wNe=Yn.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:oS("#d11")},".cm-lintRange-warning":{backgroundImage:oS("orange")},".cm-lintRange-info":{backgroundImage:oS("#999")},".cm-lintRange-hint":{backgroundImage:oS("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),eie=[Pc,Yn.decorations.compute([Pc],o=>{let{selected:r,panel:s}=o.field(Pc);return!r||!s||r.from==r.to?vn.none:vn.set([mNe.range(r.from,r.to)])}),E9e(gNe,{hideOn:fNe}),wNe];class sS{constructor(r,s,l,u,f,p,v,y,x,w=0,C){this.p=r,this.stack=s,this.state=l,this.reducePos=u,this.pos=f,this.score=p,this.buffer=v,this.bufferBase=y,this.curContext=x,this.lookAhead=w,this.parent=C}toString(){return`[${this.stack.filter((r,s)=>s%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(r,s,l=0){let u=r.parser.context;return new sS(r,[],s,l,l,0,[],0,u?new tie(u,u.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(r,s){this.stack.push(this.state,s,this.bufferBase+this.buffer.length),this.state=r}reduce(r){var s;let l=r>>19,u=r&65535,{parser:f}=this.p,p=this.reducePos<this.pos-25;p&&this.setLookAhead(this.pos);let v=f.dynamicPrecedence(u);if(v&&(this.score+=v),l==0){this.pushState(f.getGoto(this.state,u,!0),this.reducePos),u<f.minRepeatTerm&&this.storeNode(u,this.reducePos,this.reducePos,p?8:4,!0),this.reduceContext(u,this.reducePos);return}let y=this.stack.length-(l-1)*3-(r&262144?6:0),x=y?this.stack[y-2]:this.p.ranges[0].from,w=this.reducePos-x;w>=2e3&&!(!((s=this.p.parser.nodeSet.types[u])===null||s===void 0)&&s.isAnonymous)&&(x==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=w):this.p.lastBigReductionSize<w&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=x,this.p.lastBigReductionSize=w));let C=y?this.stack[y-1]:0,O=this.bufferBase+this.buffer.length-C;if(u<f.minRepeatTerm||r&131072){let T=f.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(u,x,T,O+4,!0)}if(r&262144)this.state=this.stack[y];else{let T=this.stack[y-3];this.state=f.getGoto(T,u,!0)}for(;this.stack.length>y;)this.stack.pop();this.reduceContext(u,x)}storeNode(r,s,l,u=4,f=!1){if(r==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let p=this,v=this.buffer.length;if(v==0&&p.parent&&(v=p.bufferBase-p.parent.bufferBase,p=p.parent),v>0&&p.buffer[v-4]==0&&p.buffer[v-1]>-1){if(s==l)return;if(p.buffer[v-2]>=s){p.buffer[v-2]=l;return}}}if(!f||this.pos==l)this.buffer.push(r,s,l,u);else{let p=this.buffer.length;if(p>0&&this.buffer[p-4]!=0){let v=!1;for(let y=p;y>0&&this.buffer[y-2]>l;y-=4)if(this.buffer[y-1]>=0){v=!0;break}if(v)for(;p>0&&this.buffer[p-2]>l;)this.buffer[p]=this.buffer[p-4],this.buffer[p+1]=this.buffer[p-3],this.buffer[p+2]=this.buffer[p-2],this.buffer[p+3]=this.buffer[p-1],p-=4,u>4&&(u-=4)}this.buffer[p]=r,this.buffer[p+1]=s,this.buffer[p+2]=l,this.buffer[p+3]=u}}shift(r,s,l,u){if(r&131072)this.pushState(r&65535,this.pos);else if(r&262144)this.pos=u,this.shiftContext(s,l),s<=this.p.parser.maxNode&&this.buffer.push(s,l,u,4);else{let f=r,{parser:p}=this.p;(u>this.pos||s<=p.maxNode)&&(this.pos=u,p.stateFlag(f,1)||(this.reducePos=u)),this.pushState(f,l),this.shiftContext(s,l),s<=p.maxNode&&this.buffer.push(s,l,u,4)}}apply(r,s,l,u){r&65536?this.reduce(r):this.shift(r,s,l,u)}useNode(r,s){let l=this.p.reused.length-1;(l<0||this.p.reused[l]!=r)&&(this.p.reused.push(r),l++);let u=this.pos;this.reducePos=this.pos=u+r.length,this.pushState(s,u),this.buffer.push(l,u,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,r,this,this.p.stream.reset(this.pos-r.length)))}split(){let r=this,s=r.buffer.length;for(;s>0&&r.buffer[s-2]>r.reducePos;)s-=4;let l=r.buffer.slice(s),u=r.bufferBase+s;for(;r&&u==r.bufferBase;)r=r.parent;return new sS(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,l,u,this.curContext,this.lookAhead,r)}recoverByDelete(r,s){let l=r<=this.p.parser.maxNode;l&&this.storeNode(r,this.pos,s,4),this.storeNode(0,this.pos,s,l?8:4),this.pos=this.reducePos=s,this.score-=190}canShift(r){for(let s=new _Ne(this);;){let l=this.p.parser.stateSlot(s.state,4)||this.p.parser.hasAction(s.state,r);if(l==0)return!1;if(!(l&65536))return!0;s.reduce(l)}}recoverByInsert(r){if(this.stack.length>=300)return[];let s=this.p.parser.nextStates(this.state);if(s.length>8||this.stack.length>=120){let u=[];for(let f=0,p;f<s.length;f+=2)(p=s[f+1])!=this.state&&this.p.parser.hasAction(p,r)&&u.push(s[f],p);if(this.stack.length<120)for(let f=0;u.length<8&&f<s.length;f+=2){let p=s[f+1];u.some((v,y)=>y&1&&v==p)||u.push(s[f],p)}s=u}let l=[];for(let u=0;u<s.length&&l.length<4;u+=2){let f=s[u+1];if(f==this.state)continue;let p=this.split();p.pushState(f,this.pos),p.storeNode(0,p.pos,p.pos,4,!0),p.shiftContext(s[u],this.pos),p.reducePos=this.pos,p.score-=200,l.push(p)}return l}forceReduce(){let{parser:r}=this.p,s=r.stateSlot(this.state,5);if(!(s&65536))return!1;if(!r.validAction(this.state,s)){let l=s>>19,u=s&65535,f=this.stack.length-l*3;if(f<0||r.getGoto(this.stack[f],u,!1)<0){let p=this.findForcedReduction();if(p==null)return!1;s=p}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(s),!0}findForcedReduction(){let{parser:r}=this.p,s=[],l=(u,f)=>{if(!s.includes(u))return s.push(u),r.allActions(u,p=>{if(!(p&393216))if(p&65536){let v=(p>>19)-f;if(v>1){let y=p&65535,x=this.stack.length-v*3;if(x>=0&&r.getGoto(this.stack[x],y,!1)>=0)return v<<19|65536|y}}else{let v=l(p,f+1);if(v!=null)return v}})};return l(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:r}=this.p;return r.data[r.stateSlot(this.state,1)]==65535&&!r.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(r){if(this.state!=r.state||this.stack.length!=r.stack.length)return!1;for(let s=0;s<this.stack.length;s+=3)if(this.stack[s]!=r.stack[s])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(r){return this.p.parser.dialect.flags[r]}shiftContext(r,s){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,r,this,this.p.stream.reset(s)))}reduceContext(r,s){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,r,this,this.p.stream.reset(s)))}emitContext(){let r=this.buffer.length-1;(r<0||this.buffer[r]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let r=this.buffer.length-1;(r<0||this.buffer[r]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(r){if(r!=this.curContext.context){let s=new tie(this.curContext.tracker,r);s.hash!=this.curContext.hash&&this.emitContext(),this.curContext=s}}setLookAhead(r){r>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=r)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class tie{constructor(r,s){this.tracker=r,this.context=s,this.hash=r.strict?r.hash(s):0}}class _Ne{constructor(r){this.start=r,this.state=r.state,this.stack=r.stack,this.base=this.stack.length}reduce(r){let s=r&65535,l=r>>19;l==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(l-1)*3;let u=this.start.p.parser.getGoto(this.stack[this.base-3],s,!0);this.state=u}}class aS{constructor(r,s,l){this.stack=r,this.pos=s,this.index=l,this.buffer=r.buffer,this.index==0&&this.maybeNext()}static create(r,s=r.bufferBase+r.buffer.length){return new aS(r,s,s-r.bufferBase)}maybeNext(){let r=this.stack.parent;r!=null&&(this.index=this.stack.bufferBase-r.bufferBase,this.stack=r,this.buffer=r.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new aS(this.stack,this.pos,this.index)}}function lS(o,r=Uint16Array){if(typeof o!="string")return o;let s=null;for(let l=0,u=0;l<o.length;){let f=0;for(;;){let p=o.charCodeAt(l++),v=!1;if(p==126){f=65535;break}p>=92&&p--,p>=34&&p--;let y=p-32;if(y>=46&&(y-=46,v=!0),f+=y,v)break;f*=46}s?s[u++]=f:s=new r(f)}return s}class cS{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}let nie=new cS;class CNe{constructor(r,s){this.input=r,this.ranges=s,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nie,this.rangeIndex=0,this.pos=this.chunkPos=s[0].from,this.range=s[0],this.end=s[s.length-1].to,this.readNext()}resolveOffset(r,s){let l=this.range,u=this.rangeIndex,f=this.pos+r;for(;f<l.from;){if(!u)return null;let p=this.ranges[--u];f-=l.from-p.to,l=p}for(;s<0?f>l.to:f>=l.to;){if(u==this.ranges.length-1)return null;let p=this.ranges[++u];f+=p.from-l.to,l=p}return f}clipPos(r){if(r>=this.range.from&&r<this.range.to)return r;for(let s of this.ranges)if(s.to>r)return Math.max(r,s.from);return this.end}peek(r){let s=this.chunkOff+r,l,u;if(s>=0&&s<this.chunk.length)l=this.pos+r,u=this.chunk.charCodeAt(s);else{let f=this.resolveOffset(r,1);if(f==null)return-1;if(l=f,l>=this.chunk2Pos&&l<this.chunk2Pos+this.chunk2.length)u=this.chunk2.charCodeAt(l-this.chunk2Pos);else{let p=this.rangeIndex,v=this.range;for(;v.to<=l;)v=this.ranges[++p];this.chunk2=this.input.chunk(this.chunk2Pos=l),l+this.chunk2.length>v.to&&(this.chunk2=this.chunk2.slice(0,v.to-l)),u=this.chunk2.charCodeAt(0)}}return l>=this.token.lookAhead&&(this.token.lookAhead=l+1),u}acceptToken(r,s=0){let l=s?this.resolveOffset(s,-1):this.pos;if(l==null||l<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=r,this.token.end=l}acceptTokenTo(r,s){this.token.value=r,this.token.end=s}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:r,chunkPos:s}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=r,this.chunk2Pos=s,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let r=this.input.chunk(this.pos),s=this.pos+r.length;this.chunk=s>this.range.to?r.slice(0,this.range.to-this.pos):r,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(r=1){for(this.chunkOff+=r;this.pos+r>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();r-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=r,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(r,s){if(s?(this.token=s,s.start=r,s.lookAhead=r+1,s.value=s.extended=-1):this.token=nie,this.pos!=r){if(this.pos=r,r==this.end)return this.setDone(),this;for(;r<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;r>=this.range.to;)this.range=this.ranges[++this.rangeIndex];r>=this.chunkPos&&r<this.chunkPos+this.chunk.length?this.chunkOff=r-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(r,s){if(r>=this.chunkPos&&s<=this.chunkPos+this.chunk.length)return this.chunk.slice(r-this.chunkPos,s-this.chunkPos);if(r>=this.chunk2Pos&&s<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(r-this.chunk2Pos,s-this.chunk2Pos);if(r>=this.range.from&&s<=this.range.to)return this.input.read(r,s);let l="";for(let u of this.ranges){if(u.from>=s)break;u.to>r&&(l+=this.input.read(Math.max(u.from,r),Math.min(u.to,s)))}return l}}class Xv{constructor(r,s){this.data=r,this.id=s}token(r,s){let{parser:l}=s.p;SNe(this.data,r,s,this.id,l.data,l.tokenPrecTable)}}Xv.prototype.contextual=Xv.prototype.fallback=Xv.prototype.extend=!1,Xv.prototype.fallback=Xv.prototype.extend=!1;class O9{constructor(r,s={}){this.token=r,this.contextual=!!s.contextual,this.fallback=!!s.fallback,this.extend=!!s.extend}}function SNe(o,r,s,l,u,f){let p=0,v=1<<l,{dialect:y}=s.p.parser;e:for(;v&o[p];){let x=o[p+1];for(let T=p+3;T<x;T+=2)if((o[T+1]&v)>0){let P=o[T];if(y.allows(P)&&(r.token.value==-1||r.token.value==P||ONe(P,r.token.value,u,f))){r.acceptToken(P);break}}let w=r.next,C=0,O=o[p+2];if(r.next<0&&O>C&&o[x+O*3-3]==65535){p=o[x+O*3-1];continue e}for(;C<O;){let T=C+O>>1,P=x+T+(T<<1),N=o[P],j=o[P+1]||65536;if(w<N)O=T;else if(w>=j)C=T+1;else{p=o[P+2],r.advance();continue e}}break}}function rie(o,r,s){for(let l=r,u;(u=o[l])!=65535;l++)if(u==s)return l-r;return-1}function ONe(o,r,s,l){let u=rie(s,l,r);return u<0||rie(s,l,o)<u}let Ya=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG),D9=null;function iie(o,r,s){let l=o.cursor(Uo.IncludeAnonymous);for(l.moveTo(r);;)if(!(s<0?l.childBefore(r):l.childAfter(r)))for(;;){if((s<0?l.to<r:l.from>r)&&!l.type.isError)return s<0?Math.max(0,Math.min(l.to-1,r-25)):Math.min(o.length,Math.max(l.from+1,r+25));if(s<0?l.prevSibling():l.nextSibling())break;if(!l.parent())return s<0?0:o.length}}class DNe{constructor(r,s){this.fragments=r,this.nodeSet=s,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let r=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(r){for(this.safeFrom=r.openStart?iie(r.tree,r.from+r.offset,1)-r.offset:r.from,this.safeTo=r.openEnd?iie(r.tree,r.to+r.offset,-1)-r.offset:r.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(r.tree),this.start.push(-r.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(r){if(r<this.nextStart)return null;for(;this.fragment&&this.safeTo<=r;)this.nextFragment();if(!this.fragment)return null;for(;;){let s=this.trees.length-1;if(s<0)return this.nextFragment(),null;let l=this.trees[s],u=this.index[s];if(u==l.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let f=l.children[u],p=this.start[s]+l.positions[u];if(p>r)return this.nextStart=p,null;if(f instanceof Vi){if(p==r){if(p<this.safeFrom)return null;let v=p+f.length;if(v<=this.safeTo){let y=f.prop(cn.lookAhead);if(!y||v+y<this.fragment.to)return f}}this.index[s]++,p+f.length>=Math.max(this.safeFrom,r)&&(this.trees.push(f),this.start.push(p),this.index.push(0))}else this.index[s]++,this.nextStart=p+f.length}}}class TNe{constructor(r,s){this.stream=s,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=r.tokenizers.map(l=>new cS)}getActions(r){let s=0,l=null,{parser:u}=r.p,{tokenizers:f}=u,p=u.stateSlot(r.state,3),v=r.curContext?r.curContext.hash:0,y=0;for(let x=0;x<f.length;x++){if(!(1<<x&p))continue;let w=f[x],C=this.tokens[x];if(!(l&&!w.fallback)&&((w.contextual||C.start!=r.pos||C.mask!=p||C.context!=v)&&(this.updateCachedToken(C,w,r),C.mask=p,C.context=v),C.lookAhead>C.end+25&&(y=Math.max(C.lookAhead,y)),C.value!=0)){let O=s;if(C.extended>-1&&(s=this.addActions(r,C.extended,C.end,s)),s=this.addActions(r,C.value,C.end,s),!w.extend&&(l=C,s>O))break}}for(;this.actions.length>s;)this.actions.pop();return y&&r.setLookAhead(y),!l&&r.pos==this.stream.end&&(l=new cS,l.value=r.p.parser.eofTerm,l.start=l.end=r.pos,s=this.addActions(r,l.value,l.end,s)),this.mainToken=l,this.actions}getMainToken(r){if(this.mainToken)return this.mainToken;let s=new cS,{pos:l,p:u}=r;return s.start=l,s.end=Math.min(l+1,u.stream.end),s.value=l==u.stream.end?u.parser.eofTerm:0,s}updateCachedToken(r,s,l){let u=this.stream.clipPos(l.pos);if(s.token(this.stream.reset(u,r),l),r.value>-1){let{parser:f}=l.p;for(let p=0;p<f.specialized.length;p++)if(f.specialized[p]==r.value){let v=f.specializers[p](this.stream.read(r.start,r.end),l);if(v>=0&&l.p.parser.dialect.allows(v>>1)){v&1?r.extended=v>>1:r.value=v>>1;break}}}else r.value=0,r.end=this.stream.clipPos(u+1)}putAction(r,s,l,u){for(let f=0;f<u;f+=3)if(this.actions[f]==r)return u;return this.actions[u++]=r,this.actions[u++]=s,this.actions[u++]=l,u}addActions(r,s,l,u){let{state:f}=r,{parser:p}=r.p,{data:v}=p;for(let y=0;y<2;y++)for(let x=p.stateSlot(f,y?2:1);;x+=3){if(v[x]==65535)if(v[x+1]==1)x=hf(v,x+2);else{u==0&&v[x+1]==2&&(u=this.putAction(hf(v,x+2),s,l,u));break}v[x]==s&&(u=this.putAction(hf(v,x+1),s,l,u))}return u}}class kNe{constructor(r,s,l,u){this.parser=r,this.input=s,this.ranges=u,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new CNe(s,u),this.tokens=new TNe(r,this.stream),this.topTerm=r.top[1];let{from:f}=u[0];this.stacks=[sS.start(this,r.top[0],f)],this.fragments=l.length&&this.stream.end-f>r.bufferLength*4?new DNe(l,r.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let r=this.stacks,s=this.minStackPos,l=this.stacks=[],u,f;if(this.bigReductionCount>300&&r.length==1){let[p]=r;for(;p.forceReduce()&&p.stack.length&&p.stack[p.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let p=0;p<r.length;p++){let v=r[p];for(;;){if(this.tokens.mainToken=null,v.pos>s)l.push(v);else{if(this.advanceStack(v,l,r))continue;{u||(u=[],f=[]),u.push(v);let y=this.tokens.getMainToken(v);f.push(y.value,y.end)}}break}}if(!l.length){let p=u&&MNe(u);if(p)return Ya&&console.log("Finish with "+this.stackID(p)),this.stackToTree(p);if(this.parser.strict)throw Ya&&u&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+s);this.recovering||(this.recovering=5)}if(this.recovering&&u){let p=this.stoppedAt!=null&&u[0].pos>this.stoppedAt?u[0]:this.runRecovery(u,f,l);if(p)return Ya&&console.log("Force-finish "+this.stackID(p)),this.stackToTree(p.forceAll())}if(this.recovering){let p=this.recovering==1?1:this.recovering*3;if(l.length>p)for(l.sort((v,y)=>y.score-v.score);l.length>p;)l.pop();l.some(v=>v.reducePos>s)&&this.recovering--}else if(l.length>1){e:for(let p=0;p<l.length-1;p++){let v=l[p];for(let y=p+1;y<l.length;y++){let x=l[y];if(v.sameState(x)||v.buffer.length>500&&x.buffer.length>500)if((v.score-x.score||v.buffer.length-x.buffer.length)>0)l.splice(y--,1);else{l.splice(p--,1);continue e}}}l.length>12&&l.splice(12,l.length-12)}this.minStackPos=l[0].pos;for(let p=1;p<l.length;p++)l[p].pos<this.minStackPos&&(this.minStackPos=l[p].pos);return null}stopAt(r){if(this.stoppedAt!=null&&this.stoppedAt<r)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=r}advanceStack(r,s,l){let u=r.pos,{parser:f}=this,p=Ya?this.stackID(r)+" -> ":"";if(this.stoppedAt!=null&&u>this.stoppedAt)return r.forceReduce()?r:null;if(this.fragments){let x=r.curContext&&r.curContext.tracker.strict,w=x?r.curContext.hash:0;for(let C=this.fragments.nodeAt(u);C;){let O=this.parser.nodeSet.types[C.type.id]==C.type?f.getGoto(r.state,C.type.id):-1;if(O>-1&&C.length&&(!x||(C.prop(cn.contextHash)||0)==w))return r.useNode(C,O),Ya&&console.log(p+this.stackID(r)+` (via reuse of ${f.getName(C.type.id)})`),!0;if(!(C instanceof Vi)||C.children.length==0||C.positions[0]>0)break;let T=C.children[0];if(T instanceof Vi&&C.positions[0]==0)C=T;else break}}let v=f.stateSlot(r.state,4);if(v>0)return r.reduce(v),Ya&&console.log(p+this.stackID(r)+` (via always-reduce ${f.getName(v&65535)})`),!0;if(r.stack.length>=8400)for(;r.stack.length>6e3&&r.forceReduce(););let y=this.tokens.getActions(r);for(let x=0;x<y.length;){let w=y[x++],C=y[x++],O=y[x++],T=x==y.length||!l,P=T?r:r.split(),N=this.tokens.mainToken;if(P.apply(w,C,N?N.start:P.pos,O),Ya&&console.log(p+this.stackID(P)+` (via ${w&65536?`reduce of ${f.getName(w&65535)}`:"shift"} for ${f.getName(C)} @ ${u}${P==r?"":", split"})`),T)return!0;P.pos>u?s.push(P):l.push(P)}return!1}advanceFully(r,s){let l=r.pos;for(;;){if(!this.advanceStack(r,null,null))return!1;if(r.pos>l)return oie(r,s),!0}}runRecovery(r,s,l){let u=null,f=!1;for(let p=0;p<r.length;p++){let v=r[p],y=s[p<<1],x=s[(p<<1)+1],w=Ya?this.stackID(v)+" -> ":"";if(v.deadEnd&&(f||(f=!0,v.restart(),Ya&&console.log(w+this.stackID(v)+" (restarted)"),this.advanceFully(v,l))))continue;let C=v.split(),O=w;for(let T=0;C.forceReduce()&&T<10&&(Ya&&console.log(O+this.stackID(C)+" (via force-reduce)"),!this.advanceFully(C,l));T++)Ya&&(O=this.stackID(C)+" -> ");for(let T of v.recoverByInsert(y))Ya&&console.log(w+this.stackID(T)+" (via recover-insert)"),this.advanceFully(T,l);this.stream.end>v.pos?(x==v.pos&&(x++,y=0),v.recoverByDelete(y,x),Ya&&console.log(w+this.stackID(v)+` (via recover-delete ${this.parser.getName(y)})`),oie(v,l)):(!u||u.score<v.score)&&(u=v)}return u}stackToTree(r){return r.close(),Vi.build({buffer:aS.create(r),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:r.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(r){let s=(D9||(D9=new WeakMap)).get(r);return s||D9.set(r,s=String.fromCodePoint(this.nextStackID++)),s+r}}function oie(o,r){for(let s=0;s<r.length;s++){let l=r[s];if(l.pos==o.pos&&l.sameState(o)){r[s].score<o.score&&(r[s]=o);return}}r.push(o)}class PNe{constructor(r,s,l){this.source=r,this.flags=s,this.disabled=l}allows(r){return!this.disabled||this.disabled[r]==0}}let T9=o=>o;class INe{constructor(r){this.start=r.start,this.shift=r.shift||T9,this.reduce=r.reduce||T9,this.reuse=r.reuse||T9,this.hash=r.hash||(()=>0),this.strict=r.strict!==!1}}class uS extends Mne{constructor(r){if(super(),this.wrappers=[],r.version!=14)throw new RangeError(`Parser version (${r.version}) doesn't match runtime version (14)`);let s=r.nodeNames.split(" ");this.minRepeatTerm=s.length;for(let v=0;v<r.repeatNodeCount;v++)s.push("");let l=Object.keys(r.topRules).map(v=>r.topRules[v][1]),u=[];for(let v=0;v<s.length;v++)u.push([]);function f(v,y,x){u[v].push([y,y.deserialize(String(x))])}if(r.nodeProps)for(let v of r.nodeProps){let y=v[0];typeof y=="string"&&(y=cn[y]);for(let x=1;x<v.length;){let w=v[x++];if(w>=0)f(w,y,v[x++]);else{let C=v[x+-w];for(let O=-w;O>0;O--)f(v[x++],y,C);x++}}}this.nodeSet=new WR(s.map((v,y)=>da.define({name:y>=this.minRepeatTerm?void 0:v,id:y,props:u[y],top:l.indexOf(y)>-1,error:y==0,skipped:r.skippedNodes&&r.skippedNodes.indexOf(y)>-1}))),r.propSources&&(this.nodeSet=this.nodeSet.extend(...r.propSources)),this.strict=!1,this.bufferLength=Sne;let p=lS(r.tokenData);this.context=r.context,this.specializerSpecs=r.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let v=0;v<this.specializerSpecs.length;v++)this.specialized[v]=this.specializerSpecs[v].term;this.specializers=this.specializerSpecs.map(sie),this.states=lS(r.states,Uint32Array),this.data=lS(r.stateData),this.goto=lS(r.goto),this.maxTerm=r.maxTerm,this.tokenizers=r.tokenizers.map(v=>typeof v=="number"?new Xv(p,v):v),this.topRules=r.topRules,this.dialects=r.dialects||{},this.dynamicPrecedences=r.dynamicPrecedences||null,this.tokenPrecTable=r.tokenPrec,this.termNames=r.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(r,s,l){let u=new kNe(this,r,s,l);for(let f of this.wrappers)u=f(u,r,s,l);return u}getGoto(r,s,l=!1){let u=this.goto;if(s>=u[0])return-1;for(let f=u[s+1];;){let p=u[f++],v=p&1,y=u[f++];if(v&&l)return y;for(let x=f+(p>>1);f<x;f++)if(u[f]==r)return y;if(v)return-1}}hasAction(r,s){let l=this.data;for(let u=0;u<2;u++)for(let f=this.stateSlot(r,u?2:1),p;;f+=3){if((p=l[f])==65535)if(l[f+1]==1)p=l[f=hf(l,f+2)];else{if(l[f+1]==2)return hf(l,f+2);break}if(p==s||p==0)return hf(l,f+1)}return 0}stateSlot(r,s){return this.states[r*6+s]}stateFlag(r,s){return(this.stateSlot(r,0)&s)>0}validAction(r,s){return!!this.allActions(r,l=>l==s?!0:null)}allActions(r,s){let l=this.stateSlot(r,4),u=l?s(l):void 0;for(let f=this.stateSlot(r,1);u==null;f+=3){if(this.data[f]==65535)if(this.data[f+1]==1)f=hf(this.data,f+2);else break;u=s(hf(this.data,f+1))}return u}nextStates(r){let s=[];for(let l=this.stateSlot(r,1);;l+=3){if(this.data[l]==65535)if(this.data[l+1]==1)l=hf(this.data,l+2);else break;if(!(this.data[l+2]&1)){let u=this.data[l+1];s.some((f,p)=>p&1&&f==u)||s.push(this.data[l],u)}}return s}configure(r){let s=Object.assign(Object.create(uS.prototype),this);if(r.props&&(s.nodeSet=this.nodeSet.extend(...r.props)),r.top){let l=this.topRules[r.top];if(!l)throw new RangeError(`Invalid top rule name ${r.top}`);s.top=l}return r.tokenizers&&(s.tokenizers=this.tokenizers.map(l=>{let u=r.tokenizers.find(f=>f.from==l);return u?u.to:l})),r.specializers&&(s.specializers=this.specializers.slice(),s.specializerSpecs=this.specializerSpecs.map((l,u)=>{let f=r.specializers.find(v=>v.from==l.external);if(!f)return l;let p=Object.assign(Object.assign({},l),{external:f.to});return s.specializers[u]=sie(p),p})),r.contextTracker&&(s.context=r.contextTracker),r.dialect&&(s.dialect=this.parseDialect(r.dialect)),r.strict!=null&&(s.strict=r.strict),r.wrap&&(s.wrappers=s.wrappers.concat(r.wrap)),r.bufferLength!=null&&(s.bufferLength=r.bufferLength),s}hasWrappers(){return this.wrappers.length>0}getName(r){return this.termNames?this.termNames[r]:String(r<=this.maxNode&&this.nodeSet.types[r].name||r)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(r){let s=this.dynamicPrecedences;return s==null?0:s[r]||0}parseDialect(r){let s=Object.keys(this.dialects),l=s.map(()=>!1);if(r)for(let f of r.split(" ")){let p=s.indexOf(f);p>=0&&(l[p]=!0)}let u=null;for(let f=0;f<s.length;f++)if(!l[f])for(let p=this.dialects[s[f]],v;(v=this.data[p++])!=65535;)(u||(u=new Uint8Array(this.maxTerm+1)))[v]=1;return new PNe(r,l,u)}static deserialize(r){return new uS(r)}}function hf(o,r){return o[r]|o[r+1]<<16}function MNe(o){let r=null;for(let s of o){let l=s.p.stoppedAt;(s.pos==s.p.stream.end||l!=null&&s.pos>l)&&s.p.parser.stateFlag(s.state,2)&&(!r||r.score<s.score)&&(r=s)}return r}function sie(o){if(o.external){let r=o.extend?1:0;return(s,l)=>o.external(s,l)<<1|r}return o.get}let ANe=121,k9=122,aie=123,RNe=124,lie=128,LNe=4,$Ne=131,NNe=7,FNe=8,BNe=9,jNe=10,VNe=139,cie=19,zNe=140,HNe=23,UNe=141,qNe=27,WNe=37,GNe=41,QNe=145,YNe=146,XNe=147,KNe=148,ZNe=47,JNe=68,uie=154,die=70,fie=155,hie=72,eFe=156,tFe=76,nFe=161,rFe=79,iFe=80,oFe=81,sFe=167,pie=89,aFe=90,lFe=169,cFe=97,uFe=171,dFe=98,fFe=100,hFe=101,P9=typeof process<"u"&&process.env&&/\bfparse(:dbg)?\b/.test(process.env.LOG),I9=typeof process<"u"&&process.env&&/\bfparse:dbg\b/.test(process.env.LOG),pf=typeof process<"u"&&process.env&&/\bcontext\b/.test(process.env.LOG),mie=[9,11,12,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],pFe=vie(`
\r`),gie=42,mFe=vie("'./-+*^");function vie(o){return Array.from(o).map(r=>r.charCodeAt(0))}function gFe(o){return o===63||o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=55296&&o<=56319||o>=56320&&o<=57343}function vFe(o){return mFe.includes(o)}function yFe(o){return o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}function bFe(o){return mie.includes(o)}function yie(o,r){return r.concat(o.split(/\n/g).join(`
`+r))}function xFe(o,r=0){let s=o.peek(r);return s===gie&&o.peek(r+1)===gie?{offset:2,token:"**"}:vFe(s)?{offset:1,token:String.fromCharCode(s)}:null}function dS(o,r=0,s=!1){for(let l=!1,u=[],f=0;;f++){let p=o.peek(r+f);if(gFe(p)||(l||s)&&yFe(p))l||(l=!0),u.push(p);else return u.length?{token:String.fromCharCode(...u),offset:f}:null}}function bie(o,r){for(let s=!1,l=0;;l++){let u=o.peek(r+l);if(bFe(u))s||(s=!0);else return s?{token:" ",offset:l}:null}}function EFe(o,r){let s=r.contextKeys(),l=r.tokens;for(let u=0,f=[],p=null;;){let v=l.length+f.length>0,y=f.length>0,x=dS(o,u,v)||v&&xFe(o,u)||y&&bie(o,u);if(!x)return p;let{token:w,offset:C}=x;if(u+=C,w===" ")continue;f=[...f,w];let O=[...l,...f].join(" ");if(s.some(T=>T===O)){let T=f[0];p={token:T,offset:T.length,term:aie}}if(!s.some(T=>T.startsWith(O))){if(xie.some(T=>T===O)){let T=f[0];p={token:T,offset:T.length,term:k9}}if(!xie.some(T=>T.startsWith(O)))return p}}}let wFe={[k9]:"identifier",[aie]:"nameIdentifier"},_Fe=new O9((o,r)=>{I9&&console.log("%s: T <identifier | nameIdentifier>",o.pos);let s=EFe(o,r.context),l=r.context.tokens,u=s||dS(o,0,l.length>0);u&&(o.advance(u.offset),o.acceptToken(s?s.term:k9),P9&&console.log("%s: MATCH <%s> <%s>",o.pos,s?wFe[s.term]:"identifier",u.token))},{contextual:!0}),CFe=new O9((o,r)=>{I9&&console.log("%s: T <propertyIdentifier>",o.pos);let s=r.context.tokens,l=dS(o,0,s.length>0);l&&(o.advance(l.offset),o.acceptToken(ANe),P9&&console.log("%s: MATCH <propertyIdentifier> <%s>",o.pos,l.token))}),SFe=new O9((o,r)=>{I9&&console.log("%s: T <insertSemi>",o.pos);let s,l=!1;for(s=0;;s++){let u=o.peek(s);if(!mie.includes(u)){pFe.includes(u)&&(l=!0);break}}if(l){let u=dS(o,s+1);if(bie(o,s+1)||u&&/^(then|else|return|satisfies)$/.test(u.token))return;P9&&console.log("%s: MATCH <insertSemi>",o.pos),o.acceptToken(RNe)}}),OFe={[eFe]:"FunctionInvocation",[fie]:"FilterExpression",[uie]:"PathExpression"},DFe={[uFe]:"Context",[lFe]:"FunctionDefinition",[$Ne]:"ForExpression",[sFe]:"List",[zNe]:"IfExpression",[UNe]:"QuantifiedExpression"},TFe={[cFe]:"Context",[aFe]:"FunctionDefinition",[LNe]:"ForExpression",[pie]:"List",[cie]:"IfExpression",[HNe]:"QuantifiedExpression",[JNe]:"PathExpression",[hie]:"FunctionInvocation",[die]:"FilterExpression",[GNe]:"ArithmeticExpression"};class Nx{constructor(r){this.fn=r}get(r){return this.fn(r)}static of(r){return new Nx(r)}}let xie=Object.keys({"date and time":1,date:1,time:1,duration:1});class kFe{constructor(r={}){this.value=r}getKeys(){return Object.keys(this.value)}get(r){let s=this.value[r],l=this.constructor;return l.isAtomic(s)?s:l.of(s)}set(r,s){return this.constructor.of(Me(se({},this.value),{[r]:s}))}static isAtomic(r){return!r||r instanceof this||r instanceof Nx||typeof r!="object"}static of(...r){let s=u=>!u||typeof u!="object"?{}:u instanceof this?u.value:se({},u),l=r.reduce((u,f)=>se(se({},u),s(f)),{});return new this(l)}}class Fx{constructor({name:r="Expressions",tokens:s=[],children:l=[],parent:u=null,context:f=null,value:p=null,raw:v=null}={}){this.name=r,this.tokens=s,this.children=l,this.parent=u,this.context=f,this.value=p,this.raw=v}enterScope(r){let s=this.of({name:r,parent:this});return pf&&console.log("[%s] enter",s.path,s.context),s}exitScope(r){return this.parent?(pf&&console.log(`[%s] exit %o
%s`,this.path,this.context,yie(r,"  ")),this.parent.pushChild(this)):(pf&&console.log(`[%s] NO exit %o
%s`,this.path,this.context,yie(r,"  ")),this)}token(r){return pf&&console.log("[%s] token <%s> + <%s>",this.path,this.tokens.join(" "),r),this.assign({tokens:[...this.tokens,r]})}literal(r){return pf&&console.log("[%s] literal %o",this.path,r),this.pushChild(this.of({name:"Literal",value:r}))}computedValue(){for(let r=this;;r=Kv(r.children)){if(!r)return null;if(r.value)return r.value}}contextKeys(){return this.context.getKeys().map(fS)}get path(){return this.parent?.path?.concat(" > ",this.name)||this.name}get(r){let s=[r,r&&fS(r)],l=this.context.getKeys().find(f=>s.includes(fS(f)));if(typeof l>"u")return;let u=this.context.get(l);return u instanceof Nx?u.get(this):u}resolveName(){let r=this.tokens.join(" "),s=[],l=this.assign({tokens:s}),u=this.of({name:"VariableName",parent:l,value:this.get(r),raw:r});return pf&&console.log("[%s] resolve name <%s=%s>",u.path,r,this.get(r)),l.pushChild(u)}pushChild(r){if(!r)return this;let s=this.assign({children:[...this.children,r]});return r.parent=s,s}pushChildren(r){let s=this;for(let l of r)s=s.pushChild(l);return s}declareName(){if(this.tokens.length===0)throw Error("no tokens to declare name");let r=this.tokens.join(" ");return pf&&console.log("[%s] declareName <%s>",this.path,r),this.assign({tokens:[]}).pushChild(this.of({name:"Name",value:r}))}define(r,s){if(typeof r!="string")return pf&&console.log("[%s] no define <%s=%s>",this.path,r,s),this;pf&&console.log("[%s] define <%s=%s>",this.path,r,s);let l=this.context.set(r,s);return this.assign({context:l})}assign(r={}){return Fx.of(se(se({},this),r))}of(r={}){let s={context:this.context,parent:this.parent};return Fx.of(se(se({},s),r))}static of(r){let{name:s,tokens:l=[],children:u=[],parent:f=null,context:p,value:v,raw:y}=r;if(!p)throw new Error("must provide <context>");return new Fx({name:s,tokens:[...l],children:[...u],context:p,parent:f,value:v,raw:y})}}function fS(o){return o.replace(/\s*([./\-'+]|\*\*?)\s*/g," $1 ").replace(/\s{2,}/g," ").trim()}function Eie(o,r,s){let l=o.children.filter(x=>x.name!==r),u=o.children.filter(x=>x.name===r),f=l[0],p=l[Math.max(1,l.length-1)],v=f?.computedValue(),y=p?.computedValue()||null;return o.assign({children:u}).enterScope(r).pushChildren(l).exitScope(s).define(v,y)}function wie(o={},r=kFe){let s=Fx.of({context:r.of(o)});return new INe({start:s,reduce(l,u,f,p){if(u===cie){let[C,O]=l.children.slice(-2);l=l.assign({value:r.of(C?.computedValue(),O?.computedValue())})}if(u===pie&&(l=l.assign({value:r.of(...l.children.map(C=>C?.computedValue()))})),u===die){let[C,O]=l.children.slice(-2);l=l.assign({value:C?.computedValue()})}if(u===hie){let[C,...O]=l.children;C?.raw==="get value"&&(l=IFe(l,O))}let v=DFe[u];if(v)return l.enterScope(v);let y=OFe[u];if(y){let{children:C,context:O}=l,T=C.slice(0,-1),P=Kv(C),N=null;return u===uie&&(N=r.of(P?.computedValue())),u===fie&&(N=r.of(O,P?.computedValue()).set("item",P?.computedValue())),l.assign({children:T}).enterScope(y).pushChild(P).assign({context:N||O})}let x=p.read(p.pos,f.pos);if(TFe[u])return l.exitScope(x);if(u===dFe){let C=l.children.filter(P=>P.name!=="ContextEntry"),O=C[0],T=Kv(C);return Eie(l,"ContextEntry",x).assign({value:r.of(l.value).set(O?.computedValue(),T?.computedValue())})}if(u===NNe||u===qNe)return Eie(l,"InExpression",x);if(u===VNe)return l.define("partial",Nx.of(C=>Kv(C.children)?.computedValue()));if(u===tFe){let C=Kv(l.children).computedValue();return l.define(C,1)}if(u===QNe||u===YNe||u===XNe){let C=l.children.slice(0,-1),O=Kv(l.children);return l.assign({children:C}).enterScope("ArithmeticExpression").pushChild(O)}if(u===KNe)return l.enterScope("ArithmeticExpression");if(u===BNe||u===jNe||u===hFe)return l.token(x);if(u===iFe)return l.literal(x.replace(/^"|"$/g,""));if(u===oFe)return l.literal(x==="true");if(u===rFe)return l.literal(parseFloat(x));if(u===nFe)return l.literal(null);if(u===ZNe)return l.resolveName();if(u===FNe||u===fFe)return l.declareName();if((u===lie||u===WNe)&&l.tokens.length>0)throw new Error("uncleared name");if(u===lie){let C=l;for(;C.parent;)C=C.exitScope(x);return C}return l}})}let PFe=wie({});function IFe(o,r){if(!r.length)return o.assign({value:null});if(r[0].name==="Name"&&(r=MFe(r,["m","key"])),r.length!==2)return o.assign({value:null});let[s,l]=r,u=l?.computedValue(),f=s?.computedValue();return!f||typeof f!="object"||typeof u!="string"?o.assign({value:null}):o.assign({value:[fS(u),u].reduce((p,v)=>f.get(v)||p,null)})}function MFe(o,r){let s={};for(let l=0;l<o.length;l+=2){let[u,f]=o.slice(l,l+2);s[u.value]=f}return r.map(l=>s[l])}function Kv(o){return o[o.length-1]}let AFe=Ane({StringLiteral:Pe.string,NumericLiteral:Pe.number,BooleanLiteral:Pe.bool,"AtLiteral!":Pe.special(Pe.string),CompareOp:Pe.compareOperator,ArithOp:Pe.arithmeticOperator,"for if then else some every satisfies between return":Pe.controlKeyword,"in instance of and or":Pe.operatorKeyword,function:Pe.definitionKeyword,as:Pe.keyword,"Type/...":Pe.typeName,Wildcard:Pe.special(Pe.variableName),null:Pe.null,LineComment:Pe.lineComment,BlockComment:Pe.blockComment,'VariableName! "?"':Pe.variableName,"DateTimeConstructor! SpecialFunctionName!":Pe.function(Pe.special(Pe.variableName)),"List Interval":Pe.list,Context:Pe.definition(Pe.literal),"Name!":Pe.definition(Pe.variableName),"Key/Name! ContextEntryType/Name!":Pe.definition(Pe.propertyName),"PathExpression/VariableName!":Pe.function(Pe.propertyName),"FormalParameter/ParameterName!":Pe.function(Pe.definition(Pe.variableName)),"( )":Pe.paren,"[ ]":Pe.squareBracket,"{ }":Pe.brace,".":Pe.derefOperator,", ;":Pe.separator,"..":Pe.punctuation}),RFe={__proto__:null,for:10,in:32,return:36,if:40,then:42,else:44,some:48,every:50,satisfies:56,or:60,and:64,between:72,instance:86,of:89,days:101,time:103,duration:105,years:107,months:109,date:111,list:117,context:123,function:130,null:156,true:330,false:330,"?":170,external:186,not:211},LFe=uS.deserialize({version:14,states:"C|O`QYOOO`QYOOO$mQYOOOOQU'#Ce'#CeO$wQYO'#C`O&QQYO'#FQOOQQ'#Ff'#FfO&[QYO'#FfO`QYO'#DVOOQU'#En'#EnO'{Q^O'#D]OOQU'#D^'#D^OOQU'#D]'#D]OOQO'#Fn'#FnO)xQWO'#DvOOQQ'#D}'#D}OOQQ'#EO'#EOOOQQ'#EP'#EPO)}OWO'#ESO)xQWO'#EQOOQQ'#EQ'#EQOOQQ'#Ft'#FtOOQQ'#Fr'#FrOOQQ'#Fy'#FyOOQQ'#EU'#EUO`QYO'#EWOOQQ'#FS'#FSO*SQ^O'#FSO+yQYO'#EXO,QQWO'#EYOOQP'#F}'#F}O,VQXO'#EaOOQQ'#Fz'#FzOOQQ'#FR'#FRQOQWOOOOQQ'#FT'#FTOOQQ'#F^'#F^O`QYO'#CoOOQQ'#F_'#F_O$wQYO'#CsO,bQYO'#DwOOQQ'#Fs'#FsO,gQYO'#EROOQO'#ER'#ERO`QYO'#EVO`QYO'#EUOOQO'#F{'#F{Q,oQWOOO,tQYO'#DRO-kQWO'#FbOOQO'#DT'#DTO-vQYO'#FfO-}QWOOO.tQYO'#CdO/RQYO'#FVOOQQ'#Cc'#CcO/WQYO'#FUOOQQ'#Cb'#CbO/`QYO,58zO`QYO,59iOOQQ'#Fc'#FcOOQQ'#Fd'#FdOOQQ'#Fe'#FeO`QYO,59qO`QYO,59qO`QYO,59qOOQQ'#Fl'#FlO/eQYO,5:^OOQQ'#Fm'#FmO`QYO,5:`O`QYO,59eO`QYO,59gO`QYO,59iO1^QYO,59iO1eQYO,59rOOQQ,5:i,5:iO1jQYO,59qOOQU-E8l-E8lO3^QYO'#FoOOQQ,5:b,5:bOOQQ,5:n,5:nOOQQ,5:l,5:lO3eQYO,5:rOOQQ,5;n,5;nO3oQYO,5:qO3|QWO,5:sO4RQYO,5:tOOQP'#Ee'#EeO4xQXO'#EdOOQO'#Ec'#EcO5PQWO'#EbO5UQWO'#GOO5^QWO,5:{O5cQYO,59ZO/RQYO'#FaOOQQ'#Cw'#CwO5jQYO'#F`OOQQ'#Cv'#CvO5rQYO,59_O5wQYO,5:cO5|QYO,5:mO3hQYO,5:qO6RQYO,5:pO`QYO'#EwQ,oQWOOO`QYO'#EmO6xQWO,5;|O`QYOOOOQR'#Cf'#CfOOQQ'#Ej'#EjO7rQYO,59OO`QYO,5;qOOQQ'#FY'#FYO$wQYO'#EkO8SQYO,5;pO`QYO1G.fOOQQ'#F]'#F]O8yQYO1G/TO;pQYO1G/]O;zQYO1G/]O<UQYO1G/]OOQQ1G/x1G/xO=xQYO1G/zO>PQYO1G/PO?YQYO1G/RO@cQYO1G/TO`QYO1G/TOOQQ1G/T1G/TO@yQYO1G/^OAhQ^O'#CdOBzQYO'#FqOOQO'#Dz'#DzOCUQWO'#DyOCZQWO'#FpOOQO'#Dx'#DxOOQO'#D{'#D{OCcQWO,5<ZOOQQ1G0^1G0^O`QYO1G0]O`QYO'#EsOChQWO,5<]OOQQ1G0_1G0_OCsQWO'#E[ODOQWO'#F|OOQO'#EZ'#EZODWQWO1G0`OOQP'#Eu'#EuOD]QXO,5;OO`QYO,5:|ODdQXO'#EvODlQWO,5<jOOQQ1G0g1G0gO`QYO1G.uO`QYO,5;{O$wQYO'#ElODtQYO,5;zO`QYO1G.yOD|QYO1G/}OOQO1G0X1G0XOOQO,5;c,5;cOOQO-E8u-E8uOOQO,5;X,5;XOOQO-E8k-E8kOERQWOOOOQQ-E8h-E8hOEWQYO'#CmOOQQ1G1]1G1]OOQQ,5;V,5;VOOQQ-E8i-E8iOEeQYO7+$QOOQQ7+%f7+%fO`QYO7+$oOF[QYO,5:rOFiQWO7+$oOFnQYO'#D[OOQQ'#DZ'#DZOHbQYO'#D_OHgQYO'#D_OHlQYO'#D_OHqQ`O'#DgOHvQ`O'#DjOH{Q`O'#DnOOQQ7+$x7+$xO`QYO,5:eO$wQYO'#ErOIQQWO,5<[OOQQ1G1u1G1uOJWQYO7+%wOJeQYO,5;_OOQO-E8q-E8qO@yQYO,5:vO$wQYO'#EtOJrQWO,5<hOJzQYO7+%zOOQP-E8s-E8sOKRQYO1G0hOOQO,5;b,5;bOOQO-E8t-E8tOK]QYO7+$aOKdQYO1G1gOOQQ,5;W,5;WOOQQ-E8j-E8jOKnQYO7+$eOOQO7+%i7+%iO`QYO,59XOLeQYO<<HZOOQQ<<HZ<<HZO/eQYO'#EoOMnQYO,59vO! bQYO,59yO! gQYO,59yO! lQYO,59yO! qQYO,5:RO$wQYO,5:UO!!`QbO,5:YO!!gQYO1G0POOQO,5;^,5;^OOQO-E8p-E8pO!!qQYO<<IcOOQQ<<Ic<<IcOOQO1G0b1G0bOOQO,5;`,5;`OOQO-E8r-E8rO!%pQYO'#E^OOQQ<<If<<IfO`QYO<<IfO`QYO<<G{O!&gQYO1G.sOOQQ,5;Z,5;ZOOQQ-E8m-E8mO!&qQYO1G/eOOQQ1G/e1G/eO!&vQbO'#D]O!'XQ`O'#D[O!'dQ`O1G/mO!'iQWO'#DmO!'nQ`O'#FhOOQO'#Dl'#DlO!'vQ`O1G/pOOQO'#Dq'#DqO!'{Q`O'#FjOOQO'#Dp'#DpO!(TQ`O1G/tOOQQAN?QAN?QO!(YQYOAN=gOOQQ7+%P7+%PO!)PQ`O,59vOOQQ7+%X7+%XO! qQYO,5:XO$wQYO'#EpO!)[Q`O,5<SOOQQ7+%[7+%[O! qQYO'#EqO!)dQ`O,5<UO!)lQ`O7+%`OOQO1G/s1G/sOOQO,5;[,5;[OOQO-E8n-E8nOOQO,5;],5;]OOQO-E8o-E8oO@yQYO<<HzOOQQAN>fAN>fO/eQYO'#EoO! qQYO<<HzO!)qQ`O7+%`O!)vQ`O1G/tO!!`QbO,5:YO!){Q`O'#Dn",stateData:"!*[~O#rOS#sOSPOSQOS~OTsOZVO[UOdtOhvOivOs}OviO!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~OTsO[UOdtOhvOivOs}OviO!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~OZ!TO#]!UO~P#PO#nRO#oRO~OZ!^O[!^O]!_O^!_O_!`O`!kOn!hOp!iOr!]Os!]Ot!jO{!lO!i!fO#z!dOv$bX~O#l#tX$s#tX~P%PO$i!mOT$YXZ$YX[$YXd$YXh$YXi$YXs$YXv$YX!T$YX!U$YX!V$YX!X$YX!c$YX!g$YX!i$YX!p$YX!w$YX#S$YX#n$YX#o$YX$Z$YX$j$YX$k$YX$l$YX~O#nRO#oROZ!PX[!PX]!PX^!PX_!PX`!PXn!PXp!PXr!PXs!PXt!PXv!PX{!PX!i!PX#l!PX#p!PX#z!PX$s!PX$O!PXx!PX#}!PX!g!PXe!PXb!PX#R!PXf!PXl!PX~Ov!pO~O$j`O~O#p!uOZ#vX[#vX]#vX^#vX_#vX`#vXn#vXp#vXr#vXs#vXt#vXv#vX{#vX!i#vX#l#vX#z#vX$s#vX$O#vXx#vX#}#vX!g#vXe#vXb#vX#R#vXf#vXl#vX~O!g$eP~P`Ov!xO~O#m!yO$j`O#R$rP~Op#VO~Op#WOv!uX~O$s#ZO~O#luX$OuX$suXxuX#}uX!guXeuXbuX#RuXfuXluX~P%PO$O#]O#l$UXx$UX~O#l#[X~P&[Ov#_O~OZ#`O[#`O]#`O^#`O_#`O#nRO#oRO#z#`O#{#`O$]WX~O`WXxWX$OWX~P.SO`#dO~O$O#eOb#xX~Ob#hO~O#nRO#oRO$ZZO~OTsOZVO[UOdtOhvOivOs}O!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~Ov#rO~P/pO|#tO~O{!lO!i!fO#z!dOZya[ya]ya^ya_ya`yanyapyaryasyatyav$bX#lya$sya$Oyaxya#}ya!gyaeyabya#Ryafyalya~Ox$eP~P`Ox#}O#}$OO~P%PO#}$OO$O$PO!g$eX~P%PO!g$RO~O#nRO#oROx$pP~OZ#`O[#`O]#`O^#`O_#`O#m!yO#z#`O#{#`O~O$]#WX~P4^O$]$YO~O$O$ZO#R$rX~O#R$]O~Oe$^O~P%PO$O$`Ol$SX~Ol$bO~O!W$cO~O!T$dO~O#l!xa$s!xa$O!xax!xa#}!xa!g!xae!xab!xa#R!xaf!xal!xa~P%PO$O#]O#l$Uax$Ua~OZ#`O[#`O]#`O^#`O_#`O#nRO#oRO#z#`O#{#`O~O`Wa$]WaxWa$OWa~P7TO$O#eOb#xa~OZ!^O[!^O]!_O^!_O_!`O{!lO!i!fO#z!dOv$bX~O`qinqipqirqisqitqi#lqi$sqi$Oqixqi#}qi!gqieqibqi#Rqifqilqi~P8[O_!`O{!lO!i!fO#z!dOZyi[yi`yinyipyiryisyityiv$bX#lyi$syi$Oyixyi#}yi!gyieyibyi#Ryifyilyi~O]!_O^!_O~P:SO]yi^yi~P:SO{!lO!i!fO#z!dOZyi[yi]yi^yi_yi`yinyipyiryisyityiv$bX#lyi$syi$Oyixyi#}yi!gyieyibyi#Ryifyilyi~O!g$pO~P%PO`!kOp!iOr!]Os!]Ot!jOnmi#lmi$smi$Omixmi#}mi!gmiemibmi#Rmifmilmi~P8[O`!kOr!]Os!]Ot!jOnoipoi#loi$soi$Ooixoi#}oi!goieoiboi#Roifoiloi~P8[O`!kOn!hOp$qOr!]Os!]Ot!jO~P8[O!S$vO!V$wO!X$xO![$yO!_$zO!c${O#nRO#oRO$ZZO~OZ#bX[#bX]#bX^#bX_#bX`#bXn#bXp#bXr#bXs#bXt#bXv#bXx#bX{#bX!i#bX#n#bX#o#bX#p#bX#z#bX$O#bX~P.SO$O$POx$eX~P%PO$]$}O~O$O%OOx$dX~Ox%QO~O$O$PO!g$eax$ea~O$]%UOx#OX$O#OX~O$O%VOx$pX~Ox%XO~O$]#Wa~P4^O#m!yO$j`O~O$O$ZO#R$ra~O$O$`Ol$Sa~O!U%cO~OxrO~O#}%dObaX$OaX~P%PO#lSq$sSq$OSqxSq#}Sq!gSqeSqbSq#RSqfSqlSq~P%POx#}O#}$OO$OuX~P%POx%fO~O#z%gOZ!OX[!OX]!OX^!OX_!OX`!OXn!OXp!OXr!OXs!OXt!OXv!OX{!OX!i!OX#l!OX$s!OX$O!OXx!OX#}!OX!g!OXe!OXb!OX#R!OXf!OXl!OX~Op%iO~Op%jO~Op%kO~O!]%lO~O!]%mO~O!]%nO~O$O%OOx$da~OZ!^O[!^O]!_O^!_O_!`O`!kOn!hOp!iOr!]Os!]Ot!jO{!lO#z!dOv$bX~Ox%sO!g%sO!i%rO~PIYO!g#ga$O#gax#ga~P%PO$O%VOx$pa~O#P%yO~P`O#R#Ui$O#Ui~P%POf%zO~P%POl$Ti$O$Ti~P%PO#lgq$sgq$Ogqxgq#}gq!ggqegqbgq#Rgqfgqlgq~P%PO`qynqypqyrqysqytqy#lqy$sqy$Oqyxqy#}qy!gqyeqybqy#Rqyfqylqy~P8[O#z%gOZ!Oa[!Oa]!Oa^!Oa_!Oa`!Oan!Oap!Oar!Oas!Oat!Oav!Oa{!Oa!i!Oa#l!Oa$s!Oa$O!Oax!Oa#}!Oa!g!Oae!Oab!Oa#R!Oaf!Oal!Oa~O!T&OO~O!W&OO~O!T&PO~O!S$vO!V$wO!X$xO![$yO!_$zO!c&uO#nRO#oRO$ZZO~O!Y$^P~P! qOx!mi$O!mi~P%POT$aXZ$aX[$aX]!yy^!yy_!yy`!yyd$aXh$aXi$aXn!yyp!yyr!yys$aXt!yyv$aX{!yy!T$aX!U$aX!V$aX!X$aX!c$aX!g$aX!i$aX!p$aX!w$aX#S$aX#l!yy#n$aX#o$aX#z!yy$Z$aX$i$aX$j$aX$k$aX$l$aX$s!yy$O!yyx!yy#}!yye!yyb!yy#R!yyf!yyl!yy~O#l#QX$s#QX$O#QXx#QX#}#QX!g#QXe#QXb#QX#R#QXf#QXl#QX~P%PObai$Oai~P%PO!U&_O~O#nRO#oRO!Y!PX#z!PX$O!PX~O#z&pO!Y!OX$O!OX~O!Y&aO~O$]&bO~O$O&cO!Y$[X~O!Y&eO~O$O&fO!Y$^X~O!Y&hO~O#lc!R$sc!R$Oc!Rxc!R#}c!R!gc!Rec!Rbc!R#Rc!Rfc!Rlc!R~P%PO#z&pO!Y!Oa$O!Oa~O$O&cO!Y$[a~O$O&fO!Y$^a~O$_&nO~O$_&qO~O!Y&rO~O!]&tO~O$Z~QP_^$i]#z~",goto:"E|$sPPPP$tP%m%p%v&Y'sPPPPPP'|P$tPPP$tPP(P(SP$tP$tP$tPPP(YP(eP$t$tPP(n)T)`*m)TPPPPPPP)TPP)TP+r+u)TP+{,R$tP$tP$t,Y-R-U-[-RP-d.]-d-d/]0UP$t0}$t1v1v2o2rP2xPP1v3O3U/X3YPP3bP3e3l3r3x4O5Z5e5k5q5w6O6U6[6bPPPPPPPP6h6q8x9q:j:mPP:qPP:w:z;s<l<o<s<x=g>V>vP?oP?rP?v@iA[BTBZB^$tBdBdPPPPC]8xDUD}EQEy!mjOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR![SQ!YSR$m#eS!WS#eS#Qw$`W#w!p!x%O%VT&T%m&c#WXOPQWYilu|}!]!a!b!c!e!g!h!i!j!k#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%l%n%y%z&Q&b&f&n&p&q&tb!VSw!x#e$`%O%V%m&cU#a!V#b#uR#u!pU#a!V#b#uT$W!z$XR$l#cR#UwQ#SwR%`$`U!RQ#_#rQ#s!kR$g#]QrQQ$i#_R$s#rQ$|#tQ%t%UQ&S%lU&X%n&f&tQ&i&bT&o&n&qc$u#t%U%l%n&b&f&n&q&t!lkOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ#m!eU$t#t%U&nS%|%g&p]&R%l%n&b&f&q&t#V[OPQWilu|}!]!a!b!c!e!g!h!i!j!k!p#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%l%n%y%z&b&f&n&p&q&tR&W%mQ&U%mR&j&cQ&[%nR&s&tS&Y%n&tR&l&f!m]OPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#|!pQ#y!pR%p%OS#x!p%OT$S!x%V!meOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!leOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ!rbT!{o$Z!mcOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mdOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mhOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mpOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR$V!xQ$T!xR%u%VQ%x%XR&]%yQ!}oR%[$ZT!|o$ZS!zo$ZT$W!z$XRrQS#b!V#uR$j#bQ#f!YR$n#fQ$a#SR%a$aQ#^!RR$h#^!vYOPQWilu|}!]!a!b!c!e!g!h!i!j!k!p#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%y%z&nS!oY&Q_&Q%l%n&b&f&p&q&tQ%h$tS%}%h&`R&`&RQ&d&UR&k&dQ&g&YR&m&gQ%P#yR%q%PS$Q!v#vR%T$QQ%W$TR%v%WQ$X!zR%Y$XQ$[!}R%]$[Q#[!PR$f#[QrOQ!PPR$e#ZUTOP#ZW!QQ!k#]#_Q!nWQ!tiQ!vlQ#PuQ#X|Q#Y}Q#i!]Q#j!aQ#k!bQ#l!cQ#n!gQ#o!hQ#p!iQ#q!jQ#v!pQ$k#cQ$o#gQ$r#rQ%R$OQ%S$PQ%Z$YQ%^$^Q%_$_Q%b$bQ%e$qQ%o$}S%w%X%yQ%{%dR&^%z!mqOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mSOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR!ZST!XS#eQ#c!WR$_#QR#g![!muOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mwOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#TwT#Rw$`V!SQ#_#r!X!aT!Q!t!v#P#X#Y#i#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!Z!bT!Q!t!v#P#X#Y#i#j#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!]!cT!Q!t!v#P#X#Y#i#j#k#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!mWOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR&V%mT&Z%n&t!a!eT!Q!n!t!v#P#X#Y#i#j#k#l#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!a!gT!Q!n!t!v#P#X#Y#i#j#k#l#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!m^OPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ!q^R!scR#z!pQ!wlR#{!p!mfOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mlOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mmOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR$U!x!moOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#Oo",nodeNames:"\u26A0 LineComment BlockComment Expression ForExpression for InExpressions InExpression Name Identifier Identifier ArithOp ArithOp ArithOp ArithOp ArithOp in IterationContext return IfExpression if then else QuantifiedExpression some every InExpressions InExpression satisfies Disjunction or Conjunction and Comparison CompareOp CompareOp between PositiveUnaryTest ( PositiveUnaryTests ) ArithmeticExpression InstanceOfExpression instance of Type QualifiedName VariableName BacktickIdentifier SpecialType days time duration years months date > ListType list < ContextType context ContextEntryTypes ContextEntryType FunctionType function ArgumentTypes ArgumentType PathExpression ] FilterExpression [ FunctionInvocation SpecialFunctionName NamedParameters NamedParameter ParameterName PositionalParameters null NumericLiteral StringLiteral BooleanLiteral DateTimeLiteral DateTimeConstructor AtLiteral ? SimplePositiveUnaryTest Interval ParenthesizedExpression List FunctionDefinition FormalParameters FormalParameter external FunctionBody } { Context ContextEntry Key Name Identifier Expressions UnaryTests Wildcard not",maxTerm:173,context:PFe,nodeProps:[["closedBy",38,")",71,"]",96,"}"],["openedBy",40,"(",69,"[",95,"{"],["group",-5,78,79,80,81,82,"Literal"]],propSources:[AFe],skippedNodes:[0,1,2],repeatNodeCount:14,tokenData:"-c~RvXY#iYZ$^Z[#i]^$^pq#iqr$crs$nwx&fxy&kyz&pz{&u{|'S|}'X}!O'^!O!P'k!P!Q(T!Q![*O![!]*a!]!^*f!^!_*k!_!`$i!`!a*z!b!c+U!}#O+Z#P#Q+`#Q#R&}#S#T+e#o#p-X#q#r-^$f$g#i#BY#BZ#i$IS$I_#i$I|$I}$^$I}$JO$^$JT$JU#i$KV$KW#i&FU&FV#i?HT?HU#i~#nY#r~XY#iZ[#ipq#i$f$g#i#BY#BZ#i$IS$I_#i$JT$JU#i$KV$KW#i&FU&FV#i?HT?HU#i~$cO#s~~$fP!_!`$i~$nOr~~$sW$j~OY$nZr$nrs%]s#O$n#O#P%b#P;'S$n;'S;=`&`<%lO$n~%bO$j~~%eRO;'S$n;'S;=`%n;=`O$n~%sX$j~OY$nZr$nrs%]s#O$n#O#P%b#P;'S$n;'S;=`&`;=`<%l$n<%lO$n~&cP;=`<%l$n~&kO#{~~&pOv~~&uOx~~&zP^~z{&}~'SO_~~'XO[~~'^O$O~R'cPZP!`!a'fQ'kO$_Q~'pQ#z~!O!P'v!Q!['{~'{O#}~~(QP$i~!Q!['{~(YQ]~z{(`!P!Q)g~(cTOz(`z{(r{;'S(`;'S;=`)a<%lO(`~(uVOz(`z{(r{!P(`!P!Q)[!Q;'S(`;'S;=`)a<%lO(`~)aOQ~~)dP;=`<%l(`~)lSP~OY)gZ;'S)g;'S;=`)x<%lO)g~){P;=`<%l)g~*TQ$i~!O!P*Z!Q![*O~*^P!Q!['{~*fO$]~~*kO$s~R*rP!]QsP!_!`*uP*zOsPR+RP!YQsP!_!`*u~+ZO$l~~+`O!i~~+eO!g~~+hWOY+eZ#O+e#O#P,Q#P#S+e#S#T,|#T;'S+e;'S;=`-R<%lO+e~,TRO;'S+e;'S;=`,^;=`O+e~,aXOY+eZ#O+e#O#P,Q#P#S+e#S#T,|#T;'S+e;'S;=`-R;=`<%l+e<%lO+e~-RO$Z~~-UP;=`<%l+e~-^O#S~~-cO#R~",tokenizers:[CFe,_Fe,SFe,0,1],topRules:{Expression:[0,3],Expressions:[1,102],UnaryTests:[2,103]},dialects:{camunda:2532},dynamicPrecedences:{31:-1,68:1,72:-1,74:-1},specialized:[{term:122,get:o=>RFe[o]||-1}],tokenPrec:2534});function $Fe(o){let r=[];return o.iterate({enter:s=>{let l=s.node;if(!l.type.isError)return;let u=l.parent,f=_ie(l),p={from:l.from,to:l.to,severity:"error",type:"Syntax Error"};if(l.from!==l.to)p.message=`Unrecognized token in <${u.name}>`;else if(f)p.message=`Unrecognized token <${f.name}> in <${u.name}>`,p.to=f.to;else{let v=u.enterUnfinishedNodesBefore(l.to);p.message=`Incomplete <${(v||u).name}>`}r.push(p)}}),r}function _ie(o){return o?o.nextSibling||_ie(o.parent):null}let NFe="first-item";var FFe={create(o){return{enter(r){if(r.name!=="FilterExpression")return;let s=o.readContent(r.from,r.to);if(Cie().test(s)){let{from:l,to:u}=r;o.report({from:l,to:u,message:"First item is accessed via [1]",severity:"error",type:NFe,actions:[{name:"fix",apply(f,p=l,v=u){o.updateContent(p,v,s.replace(Cie(),"[1]"))}}]})}}}}};function Cie(){return/\[\s*0\s*\]$/}let BFe=[FFe];function jFe(o){let{readContent:r,syntaxTree:s,updateContent:l}=o,u=[],f={readContent:r,report:v=>{u.push(v)},updateContent:l},p=BFe.map(v=>v.create(f));return s.iterate({enter:v=>{for(let y of p)y.enter&&y.enter(v)},leave:v=>{for(let y of p)y.leave&&y.leave(v)}}),u}function VFe(o){return[...$Fe(o.syntaxTree),...jFe(o)]}let zFe=()=>o=>{if(o.state.doc.length===0)return[];let r=Oo(o.state);return VFe({syntaxTree:r,readContent:(l,u)=>o.state.sliceDoc(l,u),updateContent:(l,u,f)=>o.dispatch({changes:{from:l,to:u,insert:f}})}).map(l=>Me(se({},l),{source:l.type}))},Sie=[Qm("function(${params}) ${body}",{label:"function",detail:"definition",type:"keyword"}),Qm("for ${var} in ${collection} return ${value}",{label:"for",detail:"expression",type:"keyword"}),Qm("every ${var} in ${collection} satisfies ${condition}",{label:"every",detail:"quantified expression",type:"keyword"}),Qm("some ${var} in ${collection} satisfies ${condition}",{label:"some",detail:"quantified expression",type:"keyword"}),Qm("if ${condition} then ${value} else ${other value}",{label:"if",detail:"block",type:"keyword"}),Qm("{ ${key}: ${value} }",{label:"context",detail:"block",type:"keyword"})];function M9(){return M9=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},M9.apply(this,arguments)}function Bx(o){let{context:r,after:s,before:l,keyword:u}=o;return WFe({nodes:r,before:l,after:s,keyword:u},d9([{label:u,type:"keyword",boost:10}]))}let Oie=[Bx({context:"InExpression",keyword:"in"}),Bx({context:"IfExpression",keyword:"then",after:"if",before:"else"}),Bx({context:"IfExpression",keyword:"else",after:"then"}),Bx({context:"QuantifiedExpression",keyword:"satisfies"}),Bx({context:"ForExpression",after:"InExpressions",keyword:"return"})],HFe=["StringLiteral","Identifier","LineComment","BlockComment","PathExpression"];function Die(o){return vLe(HFe,d9(o.map(r=>M9({},r,{type:"text"}))))}function Tie(o,r,s){return kie(o,r,s,-1)}function UFe(o,r,s){return kie(o,r,s,1)}function kie(o,r,s,l){let u=o[l>0?"childAfter":"childBefore"](r);for(;u;){if(s.includes(u.name))return u;if(u.type.isError&&u.firstChild&&s.includes(u.firstChild.name))return u.firstChild;u=u[l>0?"nextSibling":"prevSibling"]}return null}function qFe(o,r){for(Array.isArray(r)||(r=[r]);o;o=o.parent){if(r.includes(o.name))return o;if(o.type.isTop)break}return null}function WFe(o,r){let{nodes:s,before:l,after:u,keyword:f}=o;return p=>{let{state:v,pos:y}=p,x=qFe(Oo(v).resolveInner(y,-1),s);return!x||Tie(x,y,[f,l])||UFe(x,y,[f,u])||u&&!Tie(x,y,[u])?null:r(p)}}let Pie=U6.define({parser:LFe.configure({props:[Vne.add({Context:Hne({closing:"}"}),"List FilterExpression":Hne({closing:"]"}),"ParenthesizedExpression FunctionInvocation":i9({except:/^\s*\)/}),"ForExpression QuantifiedExpression IfExpression":i9({except:/^\s*(then|else|return|satisfies)\b/}),FunctionDefinition:i9({except:/^\s*(\(|\))/})}),J9e.add({Context:o9,List:o9,ParenthesizedExpression:o9,FunctionDefinition(o){let r=o.getChild(")");return r?{from:r.to,to:o.to}:null}})]}),languageData:{indentOnInput:/^\s*(\)|\}|\]|then|else|return|satisfies)$/,commentTokens:{line:"//",block:{open:"/*",close:"*/"}}}}),GFe=Pie.configure({top:"UnaryTests"},"FEEL unary tests"),QFe=Pie.configure({top:"Expression"},"FEEL expression");function YFe(o={}){let r=o.dialect==="unaryTests"?GFe:QFe,s=o.parserDialect,l=wie(o.context),u=r.configure({contextTracker:l,dialect:s}),f=o.completions||[Die(Sie),Oie].flat();return new H9e(u,[...f.map(p=>u.data.of({autocomplete:p}))])}var XFe=[bNe(zFe())];let KFe=Yn.theme({"& .cm-content":{padding:"0px"},"& .cm-line":{padding:"0px"},"&.cm-editor.cm-focused":{outline:"none"},"& .cm-completionInfo":{whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis"},"& .cm-completionInfo > *":{whiteSpace:"normal"},"& .cm-completionInfo ul":{margin:0,paddingLeft:"15px"},"& .cm-completionInfo pre":{marginBottom:0,whiteSpace:"pre-wrap"},"& .cm-completionInfo p":{marginTop:0},"& .cm-completionInfo p:not(:last-of-type)":{marginBottom:0}}),ZFe=Yn.baseTheme({"& .variableName":{color:"#10f"},"& .number":{color:"#164"},"& .string":{color:"#a11"},"& .bool":{color:"#219"},"& .function":{color:"#aa3731",fontWeight:"bold"},"& .control":{color:"#708"}}),JFe=tLe(Ix.define([{tag:Pe.variableName,class:"variableName"},{tag:Pe.name,class:"variableName"},{tag:Pe.number,class:"number"},{tag:Pe.string,class:"string"},{tag:Pe.bool,class:"bool"},{tag:Pe.function(Pe.variableName),class:"function"},{tag:Pe.function(Pe.special(Pe.variableName)),class:"function"},{tag:Pe.controlKeyword,class:"control"},{tag:Pe.operatorKeyword,class:"control"}]));var eBe=[KFe,ZFe,JFe];function Iie(o){return o&&o.from===o.to}function tBe(o,r){let s=o.nextSibling;return Iie(o)||s&&s.from===r&&Iie(s)}function nBe(o){return o&&o.parent&&o.parent.name==="VariableName"}function A9(o){return o?o.name==="PathExpression"?!0:A9(o.parent):!1}function rBe({variables:o}){return r=>{let s=Oo(r.state).resolve(r.pos,-1);if(!A9(s))return;let l=iBe(s),u=s===l?r.pos:s.from,f=R9(l,r),p=o;for(var v=0;v<f.length-1;v++){var y=p.find(w=>w.name===f[v].name);if(!y)return null;if(y.isList!=="optional"&&!!y.isList!==f[v].isList)return;p=y.entries}return p?(p=p.map(w=>({label:w.name,type:"variable",info:w.info,detail:w.detail})),{from:u,options:p}):void 0}}function iBe(o){for(;o;){if(o.name==="PathExpression")return o;o=o.parent}}function R9(o,r){let s=[];for(let l=o.firstChild;l;l=l.nextSibling)l.name==="PathExpression"?s.push(...R9(l,r)):l.name==="FilterExpression"?s.push(...oBe(l,r)):s.push({name:Mie(l,r),isList:!1});return s}function oBe(o,r){let s=o.firstChild;if(s.name==="PathExpression"){let l=R9(s,r),u=l[l.length-1];return u.isList=!0,l}return[{name:Mie(s,r),isList:!0}]}function Mie(o,r){return r.state.sliceDoc(o.from,o.to)}function sBe({variables:o=[],builtins:r=[]}){let s=aBe(o,r);return s.length?l=>{let{pos:u,state:f}=l,p=Oo(f).resolve(u,-1);return tBe(p,u)?l.explicit?{from:u,options:s}:null:!nBe(p)||A9(p)?null:{from:p.from,options:s}}:l=>null}function aBe(o,r){return[].concat(o.map(s=>Aie(s)),r.map(s=>Aie(s)))}function Aie(o,r){return o.type==="function"?lBe(o,r):{label:o.name,type:"variable",info:o.info,detail:o.detail,boost:r}}function lBe(o,r){let{name:s,info:l,detail:u,params:f=[]}=o,p=f.map(({name:w,type:C},O)=>({name:w||`param ${O+1}`,type:C})),v=`${s}(${p.map(w=>"${"+w.name+"}").join(", ")})`,y=p.map(({name:w,type:C})=>C?`${w}: ${C}`:w).join(", "),x=`${s}(${y})`;return Qm(v,{label:x,type:"function",info:l,detail:u,boost:r})}function cBe({variables:o=[],builtins:r=[]}){return[rBe({variables:o}),sBe({variables:o,builtins:r}),Die(Sie.map(s=>Me(se({},s),{boost:-1}))),...Oie]}function uBe(o){return YFe(o)}function dBe(o,r){return o.slice().reverse().reduce((s,l)=>(s[l.name]=()=>{},s),{})}let Rie=xt.define(),Lie=xt.define(),$ie=xt.define();function Nie({dialect:o="expression",variables:r=[],builtins:s=[],completions:l=cBe({builtins:s,variables:r})}){let u=dBe([...r,...s]);return[$ie.of(o),Rie.of(s),Lie.of(r),uBe({dialect:o,context:u,completions:l})]}function fBe(o){let r=o.facet(Rie)[0],s=o.facet(Lie)[0],l=o.facet($ie)[0];return{builtins:r,variables:s,dialect:l}}var hBe=[{name:"not(negand)",description:`<p>Returns the logical negation of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">not(negand: boolean): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">not(true)
// false

not(null)
// null
</code></pre>
`},{name:"is defined(value)",description:`<p><em>Camunda Extension</em></p>
<p>Checks if a given value is not <code>null</code>. If the value is <code>null</code> then the function returns <code>false</code>.
Otherwise, the function returns <code>true</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">is defined(value: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">is defined(1)
// true

is defined(null)
// false

is defined(x)
// false - if no variable &quot;x&quot; exists

is defined(x.y)
// false - if no variable &quot;x&quot; exists or it doesn&#39;t have a property &quot;y&quot;
</code></pre>
<p>:::caution Breaking change</p>
<p>This function worked differently in previous versions. It returned <code>true</code> if the value was <code>null</code>.
Since this version, the function returns <code>false</code> if the value is <code>null</code>.</p>
<p>:::</p>
`},{name:"get or else(value, default)",description:`<p><em>Camunda Extension</em></p>
<p>Return the provided value parameter if not <code>null</code>, otherwise return the default parameter</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get or else(value: Any, default: Any): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get or else(&quot;this&quot;, &quot;default&quot;)
// &quot;this&quot;

get or else(null, &quot;default&quot;)
// &quot;default&quot;

get or else(null, null)
// null
</code></pre>
`},{name:"assert(value, condition)",description:`<p><em>Camunda Extension</em></p>
<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.
Otherwise, the evaluation fails with an error.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">assert(value: Any, condition: Any)
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">assert(x, x != null)
// &quot;value&quot; - if x is &quot;value&quot;
// error - if x is null or doesn&#39;t exist

assert(x, x &gt;= 0)
// 4 - if x is 4
// error - if x is less than zero
</code></pre>
`},{name:"assert(value, condition, cause)",description:`<p><em>Camunda Extension</em></p>
<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.
Otherwise, the evaluation fails with an error containing the given message.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">assert(value: Any, condition: Any, cause: String)
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">assert(x, x != null, &quot;&#39;x&#39; should not be null&quot;)
// &quot;value&quot; - if x is &quot;value&quot;
// error(&#39;x&#39; should not be null) - if x is null or doesn&#39;t exist

assert(x, x &gt;= 0, &quot;&#39;x&#39; should be positive&quot;)
// 4 - if x is 4
// error(&#39;x&#39; should be positive) - if x is less than zero
</code></pre>
`},{name:"get value(context, key)",description:`<p>Returns the value of the context entry with the given key.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get value(context: context, key: string): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get value({foo: 123}, &quot;foo&quot;)
// 123

get value({a: 1}, &quot;b&quot;)
// null
</code></pre>
`},{name:"get value(context, keys)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the value of the context entry for a context path defined by the given keys.</p>
<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it returns the value at the nested entry <code>k1.k2</code> of the context.</p>
<p>If <code>keys</code> are empty or the nested entry defined by the keys doesn&#39;t exist in the context, it returns <code>null</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get value(context: context, keys: list&lt;string&gt;): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get value({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;])
// 0

get value({x: {y: {z:0}}}, [&quot;x&quot;, &quot;y&quot;])
// {z:0}

get value({a: {b: 3}}, [&quot;b&quot;])
// null
</code></pre>
`},{name:"get entries(context)",description:`<p>Returns the entries of the context as a list of key-value-pairs.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get entries(context: context): list&lt;context&gt;
</code></pre>
<p>The return value is a list of contexts. Each context contains two entries for &quot;key&quot; and &quot;value&quot;.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get entries({foo: 123})
// [{key: &quot;foo&quot;, value: 123}]
</code></pre>
`},{name:"context put(context, key, value)",description:`<p>Adds a new entry with the given key and value to the context. Returns a new context that includes the entry.</p>
<p>If an entry for the same key already exists in the context, it overrides the value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context put(context: context, key: string, value: Any): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context put({x:1}, &quot;y&quot;, 2)
// {x:1, y:2}
</code></pre>
<p>:::info
The function <code>context put()</code> replaced the previous function <code>put()</code> (Camunda Extension). The
previous function is deprecated and should not be used anymore.
:::</p>
`},{name:"context put(context, keys, value)",description:`<p>Adds a new entry with the given value to the context. The path of the entry is defined by the keys. Returns a new context that includes the entry.</p>
<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it adds the nested entry <code>k1.k2 = value</code> to the context.</p>
<p>If an entry for the same keys already exists in the context, it overrides the value.</p>
<p>If <code>keys</code> are empty, it returns <code>null</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context put(context: context, keys: list&lt;string&gt;, value: Any): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context put({x:1}, [&quot;y&quot;], 2)
// {x:1, y:2}

context put({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;], 2)
// {x:1, y: {z:2}}

context put({x:1}, [&quot;y&quot;, &quot;z&quot;], 2)
// {x:1, y: {z:2}}
</code></pre>
`},{name:"context merge(contexts)",description:`<p>Union the given contexts. Returns a new context that includes all entries of the given contexts.</p>
<p>If an entry for the same key already exists in a context, it overrides the value. The entries are overridden in the same order as in the list of contexts.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context merge(contexts: list&lt;context&gt;): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context merge([{x:1}, {y:2}])
// {x:1, y:2}

context merge([{x:1, y: 0}, {y:2}])
// {x:1, y:2}
</code></pre>
<p>:::info
The function <code>context merge()</code> replaced the previous function <code>put all()</code> (Camunda Extension). The
previous function is deprecated and should not be used anymore.
:::</p>
`},{name:"string(from)",description:`<p>Returns the given value as a string representation.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string(from: Any): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string(1.1)
// &quot;1.1&quot;

string(date(&quot;2012-12-25&quot;))
// &quot;2012-12-25&quot;
</code></pre>
`},{name:"number(from)",description:`<p>Parses the given string to a number.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">number(from: string): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">number(&quot;1500.5&quot;)
// 1500.5
</code></pre>
`},{name:"context(entries)",description:`<p>Constructs a context of the given list of key-value pairs. It is the reverse function to <a href="feel-built-in-functions-context.md#get-entriescontext">get entries()</a>.</p>
<p>Each key-value pair must be a context with two entries: <code>key</code> and <code>value</code>. The entry with name <code>key</code> must have a value of the type <code>string</code>.</p>
<p>It might override context entries if the keys are equal. The entries are overridden in the same order as the contexts in the given list.</p>
<p>Returns <code>null</code> if one of the entries is not a context or if a context doesn&#39;t contain the required entries.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context(entries: list&lt;context&gt;): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context([{&quot;key&quot;:&quot;a&quot;, &quot;value&quot;:1}, {&quot;key&quot;:&quot;b&quot;, &quot;value&quot;:2}])
// {a:1, b:2}
</code></pre>
`},{name:"date(from)",description:`<p>Returns a date from the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date(from: string): date
</code></pre>
<p>Parses the given string into a date.</p>
<pre><code class="language-feel">date(from: date and time): date
</code></pre>
<p>Extracts the date component from the given date and time.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date(&quot;2018-04-29&quot;)
// date(&quot;2018-04-29&quot;)

date(date and time(&quot;2012-12-25T11:00:00&quot;))
// date(&quot;2012-12-25&quot;)
</code></pre>
`},{name:"date(year, month, day)",description:`<p>Returns a date from the given components.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date(year: number, month: number, day: number): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date(2012, 12, 25)
// date(&quot;2012-12-25&quot;)
</code></pre>
`},{name:"time(from)",description:`<p>Returns a time from the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(from: string): time
</code></pre>
<p>Parses the given string into a time.</p>
<pre><code class="language-feel">time(from: date and time): time
</code></pre>
<p>Extracts the time component from the given date and time.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(&quot;12:00:00&quot;)
// time(&quot;12:00:00&quot;)

time(date and time(&quot;2012-12-25T11:00:00&quot;))
// time(&quot;11:00:00&quot;)
</code></pre>
`},{name:"time(hour, minute, second)",description:`<p>Returns a time from the given components.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(hour: number, minute: number, second: number): time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(23, 59, 0)
// time(&quot;23:59:00&quot;)
</code></pre>
`},{name:"time(hour, minute, second, offset)",description:`<p>Returns a time from the given components, including a timezone offset.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(hour: number, minute: number, second: number, offset: days and time duration): time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(14, 30, 0, duration(&quot;PT1H&quot;))
// time(&quot;14:30:00+01:00&quot;)
</code></pre>
`},{name:"date and time(from)",description:`<p>Parses the given string into a date and time.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(from: string): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(&quot;2018-04-29T09:30:00&quot;)
// date and time(&quot;2018-04-29T09:30:00&quot;)
</code></pre>
`},{name:"date and time(date, time)",description:`<p>Returns a date and time from the given components.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(date: date, time: time): date and time
</code></pre>
<pre><code class="language-feel">date and time(date: date and time, time: time): date and time
</code></pre>
<p>Returns a date and time value that consists of the date component of <code>date</code> combined with <code>time</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(date(&quot;2012-12-24&quot;),time(&quot;T23:59:00&quot;))
// date and time(&quot;2012-12-24T23:59:00&quot;)

date and time(date and time(&quot;2012-12-25T11:00:00&quot;),time(&quot;T23:59:00&quot;))
// date and time(&quot;2012-12-25T23:59:00&quot;)
</code></pre>
`},{name:"date and time(date, timezone)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the given date and time value at the given timezone.</p>
<p>If <code>date</code> has a different timezone than <code>timezone</code> then it adjusts the time to match the local time of <code>timezone</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(date: date and time, timezone: string): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(@&quot;2020-07-31T14:27:30@Europe/Berlin&quot;, &quot;America/Los_Angeles&quot;)
// date and time(&quot;2020-07-31T05:27:30@America/Los_Angeles&quot;)

date and time(@&quot;2020-07-31T14:27:30&quot;, &quot;Z&quot;)
// date and time(&quot;2020-07-31T12:27:30Z&quot;)
</code></pre>
`},{name:"duration(from)",description:`<p>Parses the given string into a duration. The duration is either a days and time duration or a years and months duration.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">duration(from: string): days and time duration
</code></pre>
<pre><code class="language-feel">duration(from: string): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">duration(&quot;P5D&quot;)
// duration(&quot;P5D&quot;)

duration(&quot;P32Y&quot;)
// duration(&quot;P32Y&quot;)
</code></pre>
`},{name:"years and months duration(from, to)",description:`<p>Returns the years and months duration between <code>from</code> and <code>to</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">years and months duration(from: date, to: date): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">years and months duration(date(&quot;2011-12-22&quot;), date(&quot;2013-08-24&quot;))
// duration(&quot;P1Y8M&quot;)
</code></pre>
`},{name:"list contains(list, element)",description:`<p>Returns <code>true</code> if the given list contains the element. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">list contains(list: list, element: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">list contains([1,2,3], 2)
// true
</code></pre>
`},{name:"count(list)",description:`<p>Returns the number of elements of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">count(list: list): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">count([1,2,3])
// 3
</code></pre>
`},{name:"min(list)",description:`<p>Returns the minimum of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">min(list: list): Any
</code></pre>
<p>All elements in <code>list</code> should have the same type and be comparable.</p>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">min([1,2,3])
// 1

min(1,2,3)
// 1
</code></pre>
`},{name:"max(list)",description:`<p>Returns the maximum of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">max(list: list): Any
</code></pre>
<p>All elements in <code>list</code> should have the same type and be comparable.</p>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">max([1,2,3])
// 3

max(1,2,3)
// 3
</code></pre>
`},{name:"sum(list)",description:`<p>Returns the sum of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sum(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sum([1,2,3])
// 6

sum(1,2,3)
// 6
</code></pre>
`},{name:"product(list)",description:`<p>Returns the product of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">product(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">product([2, 3, 4])
// 24

product(2, 3, 4)
// 24
</code></pre>
`},{name:"mean(list)",description:`<p>Returns the arithmetic mean (i.e. average) of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">mean(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">mean([1,2,3])
// 2

mean(1,2,3)
// 2
</code></pre>
`},{name:"median(list)",description:`<p>Returns the median element of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">median(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">median(8, 2, 5, 3, 4)
// 4

median([6, 1, 2, 3])
// 2.5
</code></pre>
`},{name:"stddev(list)",description:`<p>Returns the standard deviation of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">stddev(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">stddev(2, 4, 7, 5)
// 2.0816659994661326

stddev([2, 4, 7, 5])
// 2.0816659994661326
</code></pre>
`},{name:"mode(list)",description:`<p>Returns the mode of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">mode(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">mode(6, 3, 9, 6, 6)
// [6]

mode([6, 1, 9, 6, 1])
// [1, 6]
</code></pre>
`},{name:"all(list)",description:`<p>Returns <code>false</code> if any element of the given list is <code>false</code>. Otherwise, returns <code>true</code>.</p>
<p>If the given list is empty, it returns <code>true</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">all(list: list&lt;boolean&gt;): boolean
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">all([true,false])
// false

all(false,null,true)
// false
</code></pre>
<p>:::info
The function <code>all()</code> replaced the previous function <code>and()</code>. The previous function is deprecated and
should not be used anymore.
:::</p>
`},{name:"any(list)",description:`<p>Returns <code>true</code> if any element of the given list is <code>true</code>. Otherwise, returns <code>false</code>.</p>
<p>If the given list is empty, it returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">any(list: list&lt;boolean&gt;): boolean
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">any([false,true])
// true

any(false,null,true)
// true
</code></pre>
<p>:::info
The function <code>any()</code> replaced the previous function <code>or()</code>. The previous function is deprecated and
should not be used anymore.
:::</p>
`},{name:"sublist(list, start position)",description:`<p>Returns a partial list of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sublist(list: list, start position: number): list
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sublist([1,2,3], 2)
// [2,3]
</code></pre>
`},{name:"sublist(list, start position, length)",description:`<p>Returns a partial list of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sublist(list: list, start position: number, length: number): list
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sublist([1,2,3], 1, 2)
// [1,2]
</code></pre>
`},{name:"append(list, items)",description:`<p>Returns the given list with all <code>items</code> appended.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">append(list: list, items: Any): list
</code></pre>
<p>The parameter <code>items</code> can be a single element or a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">append([1], 2, 3)
// [1,2,3]
</code></pre>
`},{name:"concatenate(lists)",description:`<p>Returns a list that includes all elements of the given lists.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">concatenate(lists: list): list
</code></pre>
<p>The parameter <code>lists</code> is a sequence of lists.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">concatenate([1,2],[3])
// [1,2,3]

concatenate([1],[2],[3])
// [1,2,3]
</code></pre>
`},{name:"insert before(list, position, newItem)",description:`<p>Returns the given list with <code>newItem</code> inserted at <code>position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">insert before(list: list, position: number, newItem: Any): list
</code></pre>
<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">insert before([1,3],1,2)
// [2,1,3]
</code></pre>
`},{name:"remove(list, position)",description:`<p>Returns the given list without the element at <code>position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">remove(list: list, position: number): list
</code></pre>
<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">remove([1,2,3], 2)
// [1,3]
</code></pre>
`},{name:"reverse(list)",description:`<p>Returns the given list in revered order.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">reverse(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">reverse([1,2,3])
// [3,2,1]
</code></pre>
`},{name:"index of(list, match)",description:`<p>Returns an ascending list of positions containing <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">index of(list: list, match: Any): list&lt;number&gt;
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">index of([1,2,3,2],2)
// [2,4]
</code></pre>
`},{name:"union(list)",description:`<p>Returns a list that includes all elements of the given lists without duplicates.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">union(list: list): list
</code></pre>
<p>The parameter <code>list</code> is a sequence of lists.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">union([1,2],[2,3])
// [1,2,3]
</code></pre>
`},{name:"distinct values(list)",description:`<p>Returns the given list without duplicates.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">distinct values(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">distinct values([1,2,3,2,1])
// [1,2,3]
</code></pre>
`},{name:"duplicate values(list)",description:`<p><em>Camunda Extension</em></p>
<p>Returns all duplicate values of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">duplicate values(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">duplicate values([1,2,3,2,1])
// [1,2]
</code></pre>
`},{name:"flatten(list)",description:`<p>Returns a list that includes all elements of the given list without nested lists.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">flatten(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">flatten([[1,2],[[3]], 4])
// [1,2,3,4]
</code></pre>
`},{name:"sort(list, precedes)",description:`<p>Returns the given list sorted by the <code>precedes</code> function.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sort(list: list, precedes: function&lt;(Any, Any) -&gt; boolean&gt;): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sort(list: [3,1,4,5,2], precedes: function(x,y) x &lt; y)
// [1,2,3,4,5]
</code></pre>
`},{name:"string join(list)",description:`<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;])
// &quot;abc&quot;

string join([&quot;a&quot;,null,&quot;c&quot;])
// &quot;ac&quot;

string join([])
// &quot;&quot;
</code></pre>
`},{name:"string join(list, delimiter)",description:`<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p>The resulting string contains a <code>delimiter</code> between each element.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;], &quot;X&quot;)
// &quot;a&quot;

string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;)
// &quot;a, b, c&quot;
</code></pre>
`},{name:"string join(list, delimiter, prefix, suffix)",description:`<p><em>Camunda Extension</em></p>
<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p>The resulting string starts with <code>prefix</code>, contains a <code>delimiter</code> between each element, and ends
with <code>suffix</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string, prefix: string, suffix: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;, &quot;[&quot;, &quot;]&quot;)
// &quot;[a, b, c]&quot;
</code></pre>
`},{name:"decimal(n, scale)",description:`<p>Rounds the given value at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">decimal(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">decimal(1/3, 2)
// .33

decimal(1.5, 0)
// 2
</code></pre>
`},{name:"floor(n)",description:`<p>Rounds the given value with rounding mode flooring.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">floor(n: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">floor(1.5)
// 1

floor(-1.5)
// -2
</code></pre>
`},{name:"floor(n, scale)",description:`<p>Rounds the given value with rounding mode flooring at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">floor(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">floor(-1.56, 1)
// -1.6
</code></pre>
`},{name:"ceiling(n)",description:`<p>Rounds the given value with rounding mode ceiling.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ceiling(n: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ceiling(1.5)
// 2

ceiling(-1.5)
// -1
</code></pre>
`},{name:"ceiling(n, scale)",description:`<p>Rounds the given value with rounding mode ceiling at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ceiling(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ceiling(-1.56, 1)
// -1.5
</code></pre>
`},{name:"round up(n, scale)",description:`<p>Rounds the given value with the rounding mode round-up at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round up(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round up(5.5)
// 6

round up(-5.5)
// -6

round up(1.121, 2)
// 1.13

round up(-1.126, 2)
// -1.13
</code></pre>
`},{name:"round down(n, scale)",description:`<p>Rounds the given value with the rounding mode round-down at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round down(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round down(5.5, 0)
// 5

round down (-5.5, 0)
// -5

round down (1.121, 2)
// 1.12

round down (-1.126, 2)
// -1.12
</code></pre>
`},{name:"round half up(n, scale)",description:`<p>Rounds the given value with the rounding mode round-half-up at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round half up(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round half up(5.5, 0)
// 6

round half up(-5.5, 0)
// -6

round half up(1.121, 2)
// 1.12

round half up(-1.126, 2)
// -1.13
</code></pre>
`},{name:"round half down(n, scale)",description:`<p>Rounds the given value with the rounding mode round-half-down at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round half down(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round half down (5.5, 0)
// 5

round half down (-5.5, 0)
// -5

round half down (1.121, 2)
// 1.12

round half down (-1.126, 2)
// -1.13
</code></pre>
`},{name:"abs(number)",description:`<p>Returns the absolute value of the given numeric value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">abs(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">abs(10)
// 10

abs(-10)
// 10
</code></pre>
`},{name:"modulo(dividend, divisor)",description:`<p>Returns the remainder of the division of dividend by divisor.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">modulo(dividend: number, divisor: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">modulo(12, 5)
// 2
</code></pre>
`},{name:"sqrt(number)",description:`<p>Returns the square root of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sqrt(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sqrt(16)
// 4
</code></pre>
`},{name:"log(number)",description:`<p>Returns the natural logarithm (base e) of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">log(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">log(10)
// 2.302585092994046
</code></pre>
`},{name:"exp(number)",description:`<p>Returns the Euler\u2019s number e raised to the power of the given number .</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">exp(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">exp(5)
// 148.4131591025766
</code></pre>
`},{name:"odd(number)",description:`<p>Returns <code>true</code> if the given value is odd. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">odd(number: number): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">odd(5)
// true

odd(2)
// false
</code></pre>
`},{name:"even(number)",description:`<p>Returns <code>true</code> if the given is even. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">even(number: number): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">even(5)
// false

even(2)
// true
</code></pre>
`},{name:"random number()",description:`<p><em>Camunda Extension</em></p>
<p>Returns a random number between <code>0</code> and <code>1</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">random number(): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">random number()
// 0.9701618132579795
</code></pre>
`},{name:"before(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before(1, 10)
// true

before(10, 1)
// false
</code></pre>
`},{name:"before(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before([1..5], 10)
// true
</code></pre>
`},{name:"before(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before(1, [2..5])
// true
</code></pre>
`},{name:"before(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before([1..5], [6..10])
// true

before([1..5),[5..10])
// true
</code></pre>
`},{name:"after(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after(10, 1)
// true

after(1, 10)
// false
</code></pre>
`},{name:"after(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after([1..5], 10)
// false
</code></pre>
`},{name:"after(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after(12, [2..5])
// true
</code></pre>
`},{name:"after(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after([6..10], [1..5])
// true

after([5..10], [1..5))
// true
</code></pre>
`},{name:"meets(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">meets(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">meets([1..5], [5..10])
// true

meets([1..3], [4..6])
// false

meets([1..3], [3..5])
// true

meets([1..5], (5..8])
// false
</code></pre>
`},{name:"met by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">met by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">met by([5..10], [1..5])
// true

met by([3..4], [1..2])
// false

met by([3..5], [1..3])
// true

met by((5..8], [1..5))
// false

met by([5..10], [1..5))
// false
</code></pre>
`},{name:"overlaps(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps([5..10], [1..6])
// true

overlaps((3..7], [1..4])
// true

overlaps([1..3], (3..6])
// false

overlaps((5..8], [1..5))
// false

overlaps([4..10], [1..5))
// true
</code></pre>
`},{name:"overlaps before(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps before(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps before([1..5], [4..10])
// true

overlaps before([3..4], [1..2])
// false

overlaps before([1..3], (3..5])
// false

overlaps before([1..5), (3..8])
// true

overlaps before([1..5), [5..10])
// false
</code></pre>
`},{name:"overlaps after(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps after(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps after([4..10], [1..5])
// true

overlaps after([3..4], [1..2])
// false

overlaps after([3..5], [1..3))
// false

overlaps after((5..8], [1..5))
// false

overlaps after([4..10], [1..5))
// true
</code></pre>
`},{name:"finishes(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finishes(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finishes(5, [1..5])
// true

finishes(10, [1..7])
// false
</code></pre>
`},{name:"finishes(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finishes(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finishes([3..5], [1..5])
// true

finishes((1..5], [1..5))
// false

finishes([5..10], [1..10))
// false
</code></pre>
`},{name:"finished by(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finished by(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finished by([5..10], 10)
// true

finished by([3..4], 2)
// false
</code></pre>
`},{name:"finished by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finished by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finished by([1..5], [3..5])
// true

finished by((5..8], [1..5))
// false

finished by([5..10], (1..10))
// false
</code></pre>
`},{name:"includes(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">includes(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">includes([5..10], 6)
// true

includes([3..4], 5)
// false
</code></pre>
`},{name:"includes(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">includes(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">includes([1..10], [4..6])
// true

includes((5..8], [1..5))
// false

includes([1..10], [1..5))
// true
</code></pre>
`},{name:"during(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">during(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">during(5, [1..10])
// true

during(12, [1..10])
// false

during(1, (1..10])
// false
</code></pre>
`},{name:"during(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">during(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">during([4..6], [1..10))
// true

during((1..5], (1..10])
// true
</code></pre>
`},{name:"starts(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts(1, [1..5])
// true

starts(1, (1..8])
// false
</code></pre>
`},{name:"starts(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts((1..5], [1..5])
// false

starts([1..10], [1..5])
// false

starts((1..5), (1..10))
// true
</code></pre>
`},{name:"started by(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">started by(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">started by([1..10], 1)
// true

started by((1..10], 1)
// false
</code></pre>
`},{name:"started by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">started by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">started by([1..10], [1..5])
// true

started by((1..10], [1..5))
// false

started by([1..10], [1..10))
// true
</code></pre>
`},{name:"coincides(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">coincides(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">coincides(5, 5)
// true

coincides(3, 4)
// false
</code></pre>
`},{name:"coincides(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">coincides(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">coincides([1..5], [1..5])
// true

coincides((1..5], [1..5))
// false

coincides([1..5], [2..6])
// false
</code></pre>
`},{name:"substring(string, start position)",description:`<p>Returns a substring of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring(string: string, start position: number): string
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring(&quot;foobar&quot;, 3)
// &quot;obar&quot;
</code></pre>
`},{name:"substring(string, start position, length)",description:`<p>Returns a substring of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring(string: string, start position: number, length: number): string
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring(&quot;foobar&quot;, 3, 3)
// &quot;oba&quot;
</code></pre>
`},{name:"string length(string)",description:`<p>Returns the number of characters in the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string length(string: string): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string length(&quot;foo&quot;)
// 3
</code></pre>
`},{name:"upper case(string)",description:`<p>Returns the given value with all characters are uppercase.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">upper case(string: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">upper case(&quot;aBc4&quot;)
// &quot;ABC4&quot;
</code></pre>
`},{name:"lower case(string)",description:`<p>Returns the given value with all characters are lowercase.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">lower case(string: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">lower case(&quot;aBc4&quot;)
// &quot;abc4&quot;
</code></pre>
`},{name:"substring before(string, match)",description:`<p>Returns a substring of the given value that contains all characters before <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring before(string: string, match: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring before(&quot;foobar&quot;, &quot;bar&quot;)
// &quot;foo&quot;
</code></pre>
`},{name:"substring after(string, match)",description:`<p>Returns a substring of the given value that contains all characters after <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring after(string: string, match: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring after(&quot;foobar&quot;, &quot;ob&quot;)
// &quot;ar&quot;
</code></pre>
`},{name:"contains(string, match)",description:`<p>Returns <code>true</code> if the given value contains the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">contains(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">contains(&quot;foobar&quot;, &quot;of&quot;)
// false
</code></pre>
`},{name:"starts with(string, match)",description:`<p>Returns <code>true</code> if the given value starts with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts with(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts with(&quot;foobar&quot;, &quot;fo&quot;)
// true
</code></pre>
`},{name:"ends with(string, match)",description:`<p>Returns <code>true</code> if the given value ends with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ends with(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ends with(&quot;foobar&quot;, &quot;r&quot;)
// true
</code></pre>
`},{name:"matches(input, pattern)",description:`<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">matches(input: string, pattern: string): boolean
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">matches(&quot;foobar&quot;, &quot;^fo*bar&quot;)
// true
</code></pre>
`},{name:"matches(input, pattern, flags)",description:`<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">matches(input: string, pattern: string, flags: string): boolean
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>flags</code> can contain one or more of the following characters:</p>
<ul>
<li><code>s</code> (dot-all)</li>
<li><code>m</code> (multi-line)</li>
<li><code>i</code> (case insensitive)</li>
<li><code>x</code> (comments)</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">matches(&quot;FooBar&quot;, &quot;foo&quot;, &quot;i&quot;)
// true
</code></pre>
`},{name:"replace(input, pattern, replacement)",description:`<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string): string
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,
<code>$1</code> to access the first group.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">replace(&quot;abcd&quot;, &quot;(ab)|(a)&quot;, &quot;[1=$1][2=$2]&quot;)
// &quot;[1=ab][2=]cd&quot;

replace(&quot;0123456789&quot;, &quot;(\\d{3})(\\d{3})(\\d{4})&quot;, &quot;($1) $2-$3&quot;)
// &quot;(012) 345-6789&quot;
</code></pre>
`},{name:"replace(input, pattern, replacement, flags)",description:`<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string, flags: string): string
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,
<code>$1</code> to access the first group.</p>
<p>The <code>flags</code> can contain one or more of the following characters:</p>
<ul>
<li><code>s</code> (dot-all)</li>
<li><code>m</code> (multi-line)</li>
<li><code>i</code> (case insensitive)</li>
<li><code>x</code> (comments)</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">replace(&quot;How do you feel?&quot;, &quot;Feel&quot;, &quot;FEEL&quot;, &quot;i&quot;)
// &quot;How do you FEEL?&quot;
</code></pre>
`},{name:"split(string, delimiter)",description:`<p>Splits the given value into a list of substrings, breaking at each occurrence of the <code>delimiter</code> pattern.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">split(string: string, delimiter: string): list&lt;string&gt;
</code></pre>
<p>The <code>delimiter</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">split(&quot;John Doe&quot;, &quot;\\s&quot; )
// [&quot;John&quot;, &quot;Doe&quot;]

split(&quot;a;b;c;;&quot;, &quot;;&quot;)
// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;&quot;, &quot;&quot;]
</code></pre>
`},{name:"extract(string, pattern)",description:`<p><em>Camunda Extension</em></p>
<p>Returns all matches of the pattern in the given string. Returns an empty list if the pattern doesn&#39;t
match.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">extract(string: string, pattern: string): list&lt;string&gt;
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">extract(&quot;references are 1234, 1256, 1378&quot;, &quot;12[0-9]*&quot;)
// [&quot;1234&quot;,&quot;1256&quot;]
</code></pre>
`},{name:"now()",description:`<p>Returns the current date and time including the timezone.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">now(): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">now()
// date and time(&quot;2020-07-31T14:27:30@Europe/Berlin&quot;)
</code></pre>
`},{name:"today()",description:`<p>Returns the current date.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">today(): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">today()
// date(&quot;2020-07-31&quot;)
</code></pre>
`},{name:"day of week(date)",description:`<p>Returns the day of the week according to the Gregorian calendar. Note that it always returns the English name of the day.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">day of week(date: date): string
</code></pre>
<pre><code class="language-feel">day of week(date: date and time): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">day of week(date(&quot;2019-09-17&quot;))
// &quot;Tuesday&quot;

day of week(date and time(&quot;2019-09-17T12:00:00&quot;))
// &quot;Tuesday&quot;
</code></pre>
`},{name:"day of year(date)",description:`<p>Returns the Gregorian number of the day within the year.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">day of year(date: date): number
</code></pre>
<pre><code class="language-feel">day of year(date: date and time): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">day of year(date(&quot;2019-09-17&quot;))
// 260

day of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// 260
</code></pre>
`},{name:"week of year(date)",description:`<p>Returns the Gregorian number of the week within the year, according to ISO 8601.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">week of year(date: date): number
</code></pre>
<pre><code class="language-feel">week of year(date: date and time): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">week of year(date(&quot;2019-09-17&quot;))
// 38

week of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// 38
</code></pre>
`},{name:"month of year(date)",description:`<p>Returns the month of the year according to the Gregorian calendar. Note that it always returns the English name of the month.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">month of year(date: date): string
</code></pre>
<pre><code class="language-feel">month of year(date: date and time): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">month of year(date(&quot;2019-09-17&quot;))
// &quot;September&quot;

month of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// &quot;September&quot;
</code></pre>
`},{name:"abs(n)",description:`<p>Returns the absolute value of a given duration.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">abs(n: days and time duration): days and time duration
</code></pre>
<pre><code class="language-feel">abs(n: years and months duration): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">abs(duration(&quot;-PT5H&quot;))
// &quot;duration(&quot;PT5H&quot;)&quot;

abs(duration(&quot;PT5H&quot;))
// &quot;duration(&quot;PT5H&quot;)&quot;

abs(duration(&quot;-P2M&quot;))
// duration(&quot;P2M&quot;)
</code></pre>
`},{name:"last day of month(date)",description:`<p><em>Camunda Extension</em></p>
<p>Takes the month of the given date or date-time value and returns the last day of this month.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">last day of month(date: date): date
</code></pre>
<pre><code class="language-feel">last day of month(date: date and time): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">last day of month(date(&quot;2022-10-01&quot;))
// date(&quot;2022-10-31&quot;))

last day of month(date and time(&quot;2022-10-16T12:00:00&quot;))
// date(&quot;2022-10-31&quot;))
</code></pre>
`}];function pBe(o){return o.map(mBe)}function mBe(o){let{name:r,description:s}=o,l=r.match(/^([\w\s]+)\((.*)\)$/),u=l[1],p=l[2].split(", ").map(v=>({name:v}));return{name:u,type:"function",params:p,info:()=>Gn(`<div class="description">${s}<div>`),boost:0}}let gBe=pBe(hBe),Fie=new Mv,Bie=new Mv;function Zv({extensions:o=[],dialect:r="expression",container:s,contentAttributes:l={},tooltipContainer:u,onChange:f=()=>{},onKeyDown:p=()=>{},onLint:v=()=>{},placeholder:y="",readOnly:x=!1,value:w="",builtins:C=gBe,variables:O=[]}){let T=Yn.updateListener.of(Q=>{Q.docChanged&&f(Q.state.doc.toString())}),P=Yn.updateListener.of(Q=>{let U=Q.transactions.flatMap(X=>X.effects).filter(X=>X.is(rS));if(!U.length)return;let H=U.flatMap(X=>X.value);v(H)}),N=Yn.domEventHandlers({keydown:p});typeof u=="string"&&(u=document.querySelector(u));let j=u?h9e({tooltipSpace:function(){return u.getBoundingClientRect()}}):[],q=[a$e(),Fie.of(Nie({dialect:r,builtins:C,variables:O})),cLe(),Z9e(),KLe(),Yn.contentAttributes.of(l),T,N,P6.of([...uNe]),XFe,P,j,Bie.of(bne(y)),eBe,...o];return x&&q.push(Yn.editable.of(!1)),this._cmEditor=new Yn({state:Oc.create({doc:w,extensions:q}),parent:s}),this}Zv.prototype.setValue=function(o){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:o}})},Zv.prototype.focus=function(o){let r=this._cmEditor;if(r.contentDOM.focus(),r.focus(),typeof o=="number"){let s=r.state.doc.length;r.dispatch({selection:{anchor:o<=s?o:s}})}},Zv.prototype.getSelection=function(){return this._cmEditor.state.selection},Zv.prototype.setVariables=function(o){let{dialect:r,builtins:s}=fBe(this._cmEditor.state);this._cmEditor.dispatch({effects:[Fie.reconfigure(Nie({dialect:r,builtins:s,variables:o}))]})},Zv.prototype.setPlaceholder=function(o){this._cmEditor.dispatch({effects:Bie.reconfigure(bne(o))})};let hS=class extends Su{constructor(r,s){super(r,s),this.node=null,this.editor=null,this.state={value:r.value}}componentDidMount(){this.editor=new Zv({contentAttributes:{"aria-label":this.props.label},container:this.node,onChange:this.handleChange,value:this.state.value,variables:this.props.variables||[],extensions:[Yn.lineWrapping]}),this.node.addEventListener("mousedown",this.handleMouseEvent),this.node.addEventListener("keydown",this.handleKeyDownCapture,!0),this.node.addEventListener("keydown",this.handleKeyDown),this.props.autoFocus&&this.editor.focus(this.state.value.length)}componentDidUpdate(r){let{value:s}=this.props;r.value!==s&&s!==this.state.value&&this.setState({value:s},()=>{this.editor.setValue(s)}),bBe(r.variables,this.props.variables)||this.editor.setVariables(this.props.variables)}componentWillUnmount(){this.node.removeEventListener("mousedown",this.handleMouseEvent),this.node.removeEventListener("keydown",this.handleKeyDownCapture,!0),this.node.removeEventListener("keydown",this.handleKeyDown)}handleMouseEvent=r=>{r.stopPropagation()};handleKeyDownCapture=r=>{if(r.key==="Enter"){if(yBe(this.node)){r.triggeredFromAutocomplete=!0;return}this.props.ctrlForNewline&&!vBe(r)&&r.preventDefault(),this.props.singleLine&&r.preventDefault()}};handleKeyDown=r=>{["Enter","Escape"].includes(r.key)&&r.triggeredFromAutocomplete&&r.stopPropagation()};handleChange=r=>{let{onInput:s}=this.props;this.setState({value:r}),s&&s(r)};handleBlur=()=>{let{onBlur:r,onChange:s}=this.props;s&&this.state.value!==this.props.value&&s(this.state.value),r&&r()};setNode=r=>{this.node=r};render(){return di(1,"div",["literal-expression",this.props.className||""].join(" "),null,1,{onClick:this.handleMouseEvent,onFocusIn:this.props.onFocus,onFocusOut:this.handleBlur},null,this.setNode)}};function vBe(o){return o.metaKey||o.ctrlKey}function yBe(o){return o.querySelector(".cm-tooltip-autocomplete")}function bBe(o,r){return JSON.stringify(o)===JSON.stringify(r)}class xBe extends Nt{constructor(r,s){super(r,s),this.translate=s.injector.get("translate"),this.expressionLanguages=s.injector.get("expressionLanguages",!1),this.variableResolver=s.injector.get("variableResolver",!1),this.handleValue=l=>{let u={text:l};this.handleChange(u)},this.handleLabelChange=l=>{var u=l||void 0;this.handleChange({label:u})}}handleChange(r){var{onChange:s}=this.props;typeof s=="function"&&s(r)}getExpressionEditorComponent(){return this.expressionLanguages&&this.expressionLanguages.getDefault("inputCell").value!=="feel"?Dv:hS}handleKeyDown=r=>{r.key==="Enter"&&r.stopPropagation()};_getVariables(){return this.variableResolver&&this.variableResolver.getVariables(this.props.element)}render(){let{label:r,text:s}=this.props,l=this.getExpressionEditorComponent(),u=this._getVariables();return me(1,"div","context-menu-container ref-input-editor input-edit",[me(1,"div","dms-form-control",mt(2,Dv,{label:this.translate("Input label"),className:"dms-input-label",value:r||"",placeholder:this.translate("Input"),singleLine:!0,onInput:this.handleLabelChange}),2),me(1,"div","dms-form-control",[me(1,"label","dms-label",this.translate("Expression"),0),mt(2,l,{label:this.translate("Input expression"),placeholder:this.translate("Enter expression"),className:["ref-text","dms-input"].join(" "),onInput:this.handleValue,value:s||"",variables:u})],4)],4,{onKeyDown:this.handleKeyDown})}}let EBe=(()=>{class o extends Nt{constructor(s,l){super(s,l),this.state={},jo(this),this.persistChanges=this.debounceInput(this.persistChanges)}persistChanges=()=>{let{input:s}=this.props.context,{unsaved:l}=this.state;if(!l)return;let v=l,{label:u}=v,f=Ae(v,["label"]);var p={};"label"in l&&(p.label=u),wBe(f)&&(p.inputExpression=f),this.modeling.updateProperties(s,p),this.setState({unsaved:!1})};handleChange=s=>{this.setState({unsaved:se(se({},this.state.unsaved),s)},this.persistChanges)};getValue(s){let{input:l}=this.props.context,{unsaved:u}=this.state,f=l;return s==="text"&&(f=f.inputExpression),u&&s in u?u[s]:f.get(s)}render(){return mt(2,xBe,{label:this.getValue("label"),text:this.getValue("text"),element:this.props.context.input,onChange:this.handleChange})}}return o.$inject=["debounceInput","modeling","injector"],o})();function wBe(o){return Object.keys(o).length}class _Be extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._eventBus=s.injector.get("eventBus")}onClick=r=>{let{col:s}=this.props;this._eventBus.fire("input.edit",{event:r,input:s})};render(){return me(1,"button","edit-button dmn-icon-edit",null,1,{"aria-label":this._translate("Edit input"),type:"button",onClick:this.onClick})}}let CBe=(()=>{class o{constructor(s,l,u,f){s.onGetComponent("cell",({cellType:p})=>{if(p==="input-header")return uAe}),s.onGetComponent("context-menu",(p={})=>{if(p.contextMenuType==="input-edit")return EBe}),s.onGetComponent("cell-inner",(p={})=>{let{cellType:v}=p;if(v==="input-cell")return _Be}),u.on("input.edit",({event:p,input:v})=>{let{target:y}=p,x=Bo(y,"th",!0),{left:w,top:C}=x.getBoundingClientRect();l.open({x:w,y:C,align:"bottom-right"},{contextMenuType:"input-edit",input:v})})}}return o.$inject=["components","contextMenu","eventBus","renderer"],o})(),mi=(()=>{class o extends Su{constructor(s,l){super(s,l),jo(this);let{value:u}=s;this.state={value:u,optionsVisible:!1},this._portalEl=null}componentDidMount(){document.addEventListener("mousedown",this.onGlobalClick),document.addEventListener("focusin",this.onFocusChanged),this.keyboard.addListener(this.onKeyboard)}componentWillUnmount(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("mousedown",this.onGlobalClick),this.keyboard.removeListener(this.onKeyboard),this.removePortalEl()}componentWillReceiveProps(s){let{value:l}=s;this.setState({value:l})}componentWillUpdate(s,l){let{optionsVisible:u}=l;u?this._portalEl||this.addPortalEl():this._portalEl&&this.removePortalEl()}componentDidUpdate(){let{optionsVisible:s}=this.state;if(!s||!this.inputNode)return;let l=this.getOptionsBounds();xe(this._portalEl.style,l)}getOptionsBounds(){let s=this.renderer.getContainer(),{top:l,left:u,bottom:f}=s.getBoundingClientRect(),{top:p,left:v,width:y,height:x,bottom:w}=this.inputNode.getBoundingClientRect(),C=p+x-l+s.scrollTop,O=v-u+s.scrollLeft,T={top:`${C}px`,left:`${O}px`,width:`${y}px`,"max-height":`calc(100% - ${C}px)`};if(f-w<x){let P=f-p;T.bottom=`${P}px`,T["max-height"]=`calc(100% - ${P})`,delete T.top}return T}addPortalEl(){this._portalEl=Gn('<div class="dms-select-options"></div>'),this.renderer.getContainer().appendChild(this._portalEl),this._portalEl.addEventListener("mousedown",jie)}removePortalEl(){this._portalEl&&(this._portalEl.removeEventListener("mousedown",jie),As(this._portalEl),this._portalEl=null)}onChange=s=>{this.setState({value:s});let{onChange:l}=this.props;typeof l=="function"&&l(s)};onInputClick=s=>{s.preventDefault(),s.stopPropagation(),this.setOptionsVisible(!this.state.optionsVisible),this.focusInput()};onInput=s=>{let{value:l}=s.target;this.onChange(l)};onOptionClick=(s,l)=>{l.preventDefault(),l.stopPropagation(),this.setOptionsVisible(!1),this.onChange(s),this.focusInput()};focusInput(){let s=this.inputNode;s.focus(),"selectionStart"in s&&(s.selectionStart=1e5)}checkClose(s){this._portalEl&&!this._portalEl.contains(s)&&!this.parentNode.contains(s)&&this.setOptionsVisible(!1)}onFocusChanged=s=>{this.checkClose(s.target)};onGlobalClick=s=>{this.checkClose(s.target)};select(s){let{options:l}=this.props,{value:u}=this.state;if(!l)return;let f=l.filter(x=>x.value===u)[0],p=f?l.indexOf(f):-1,v=p===-1?s===1?0:l.length-1:(p+s)%l.length,y=l[v<0?l.length+v:v];this.onChange(y.value)}setOptionsVisible(s){this.setState({optionsVisible:s})}onKeyDown=s=>{let{optionsVisible:l}=this.state;var u=s.which;(u===40||u===38)&&(s.stopPropagation(),s.preventDefault(),l?this.select(u===40?1:-1):this.setOptionsVisible(!0)),l&&(u===13||u===27)&&(s.stopPropagation(),s.preventDefault(),this.setOptionsVisible(!1))};onKeyboard=s=>{let{optionsVisible:l}=this.state;if(l&&s===27)return this.setOptionsVisible(!1),!0};renderOptions(s,l){return di(1,"div","options",s.map(u=>di(1,"div",["option",l===u?"active":""].join(" "),u.label,0,{"data-value":u.value,onClick:f=>this.onOptionClick(u.value,f)})),0)}render(){let{className:s,label:l,id:u,options:f,noInput:p,title:v}=this.props,{optionsVisible:y,value:x}=this.state,w=f?f.filter(O=>O.value===x)[0]:!1,C=w?w.label:x;return di(1,"div",[s||"","dms-input-select"].join(" "),[p?di(1,"div","dms-input",C,0,{"aria-label":l,tabindex:"0",onKeyDown:this.onKeyDown},null,O=>this.inputNode=O):di(64,"input","dms-input",null,1,{"aria-label":l,onInput:this.onInput,onKeyDown:this.onKeyDown,spellcheck:"false",type:"text",value:x,id:u},null,O=>this.inputNode=O),di(1,"span",["dms-input-select-icon",y?"dmn-icon-up":"dmn-icon-down"].join(" ")),y&&OSe(this.renderOptions(f,w),this._portalEl)],0,{title:v,onClick:this.onInputClick},null,O=>this.parentNode=O)}}return o.$inject=["keyboard","renderer"],o})();function jie(o){o.stopPropagation()}class SBe extends Nt{constructor(r,s){super(r),this._translate=s.injector.get("translate"),this._modeling=s.injector.get("modeling"),this._dataTypes=s.injector.get("dataTypes")}onTypeChange=r=>{let s=this.getElement(),l=we(s,"dmn:LiteralExpression")?s.$parent:s,u;Rn(l)?u={inputExpression:{typeRef:r}}:_o(l)&&(u={typeRef:r}),this._modeling.updateProperties(l,u)};getElement(){return this.props.context.input||this.props.context.output}render(){let r=this.getElement(),s=(we(r,"dmn:InputClause")?r.inputExpression:r).typeRef,l=this._dataTypes.getAll().map(f=>({label:this._translate(f),value:f})),u=this._translate("Type");return me(1,"div","type-ref-edit context-menu-container",me(1,"div","dms-form-control",[me(1,"label","dms-label",[u,Wr(":")],0),mt(2,mi,{className:"type-ref-edit-select",label:u,onChange:this.onTypeChange,options:l,value:s})],4),2)}}let OBe=750;var DBe={__depends__:[qh,r6],__init__:["typeRefEditingProvider"],typeRefEditingProvider:["type",(()=>{class o{constructor(s){s.onGetComponent("context-menu",OBe,(l={})=>{let{contextMenuType:u}=l;if(u==="input-edit"||u==="output-edit")return SBe})}}return o.$inject=["components"],o})()]};let TBe=(()=>{class o extends er{constructor(s,l){super(s),this.postExecuted("element.updateProperties",u=>{let{element:f,properties:p}=u.context,v=Rn(f)?p.inputExpression:p;if(v&&v.typeRef&&v.typeRef!=="string"){let y=we(f,"dmn:LiteralExpression")?f.$parent:f;l.editAllowedValues(y,null)}})}}return o.$inject=["eventBus","modeling"],o})(),kBe="radio",PBe="remove dmn-icon-clear";class Vie extends Su{constructor(r,s){super(r,s);let{items:l}=r;this.state={items:l}}componentWillReceiveProps(r){let{items:s}=r;this.setState({items:s})}getRemoveClickHandler=r=>s=>{s.stopPropagation(),this.removeItem(r)};getToggleClickHandler=r=>s=>{s.stopPropagation(),this.toggleItem(r)};removeItem=r=>{let{onChange:s}=this.props,l=this.state.items.filter(u=>u!==r);this.setState({items:l}),s&&s(l)};toggleItem=r=>{let{onChange:s,type:l}=this.props,u=this.state.items.map(f=>(f===r?f.isChecked=!f.isChecked:l===kBe&&(f.isChecked=!1),f));this.setState({items:u}),s&&s(u)};render(){let{className:r,items:s,type:l,labelComponent:u}=this.props,f=["dms-list-component"];r&&f.push(r);let p=G(s,"group"),v=IBe(p);return di(1,"div",f.join(" "),v.map(y=>{let x=y[0],w=y[1];return di(1,"div","group",[u&&u(x)||di(1,"h4","dms-heading",x,0),di(1,"ul","items no-wrap",w.map(C=>di(1,"li","item",[l&&di(64,"input","item-toggle",null,1,{type:l,checked:C.isChecked,onClick:this.getToggleClickHandler(C)}),Oh("\xA0"),C.value,C.isRemovable&&di(1,"span",PBe,null,1,{title:"Remove item",onClick:this.getRemoveClickHandler(C)})],0)),0)],0)}),0)}}function IBe(o){let r=[];for(let s in o)r.push([s,o[s]]);return r}class jl extends Su{constructor(r,s){super(r,s);let{validate:l,value:u}=r,f=l?l(u||""):void 0;this.state={validationWarning:f,value:u},this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this)}componentWillReceiveProps(r){let{validate:s,value:l}=r,u=s?s(l||""):void 0;this.setState({validationWarning:u,value:l})}onInput(r){let{onInput:s,validate:l}=this.props,u=l?l(r):void 0;this.setState({validationWarning:u,value:r}),typeof s=="function"&&s&&s({isValid:!u,value:r})}onKeyDown(r){let{target:s}=r,{value:l}=s,{onKeyDown:u,validate:f}=this.props,p=f?f(l):void 0;typeof u=="function"&&u({isValid:!p,value:l,event:r})}onKeyUp(r){let{target:s}=r,{value:l}=s,{onKeyUp:u,validate:f}=this.props,p=f?f(l):void 0;typeof u=="function"&&u({isValid:!p,value:l,event:r})}render(){let{placeholder:r,type:s,className:l,label:u}=this.props,{validationWarning:f,value:p}=this.state,v=["dms-validated-input",l].join(" "),y=[];return f&&y.push("invalid"),di(1,"div",v,[om(2,lf,{className:y,label:u,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,placeholder:r||"",type:s,value:p||""}),f&&di(1,"p","dms-hint dms-validation-warning",f,0)],0)}}function L9(o){if(!o||MBe(o.trim()))return{values:[]};let r=o.split(","),s={values:[]},l="";if(r.forEach(u=>{l+=u,/^"[^"]*"$/.test(l.trim())?(s.values.push(l.trim()),l=""):l+=","}),!l)return s}function MBe(o){return o===""}function ABe(o){return o.map(r=>r.value)}let RBe=class extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._modeling=s.injector.get("modeling"),this._changeSupport=s.changeSupport;let l=this.getAllowedValuesTarget(),u=L9(l.inputValues&&l.inputValues.text||l.outputValues&&l.outputValues.text||"");u?this.state={values:u.values.map(f=>({value:f,isCheckable:!1,isRemovable:!0,group:this._translate("Predefined values")})),inputValue:""}:this.state={values:null,inputValue:""}}onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){let r=this.getAllowedValuesTarget();this._changeSupport.onElementsChanged(r.id,this.onElementsChanged)}componentWillUnmount(){let r=this.getAllowedValuesTarget();this._changeSupport.offElementsChanged(r.id,this.onElementsChanged)}setPredefinedValues=r=>{let s=this.getAllowedValuesTarget();this.setState({values:r}),this._modeling.editAllowedValues(s,r&&ABe(r))};onListChange=r=>{this.setPredefinedValues(r)};getAllowedValuesTarget(){let r=this.getElement();return we(r,"dmn:LiteralExpression")?r.$parent:r}onInput=({isValid:r,value:s})=>{this.setState({inputValue:s})};onKeyDown=({isValid:r,event:s})=>{if($Be(s.keyCode)&&(s.stopPropagation(),s.preventDefault(),r)){let{inputValue:l,values:u}=this.state,f=L9(l);this.onListChange((u||[]).concat(f.values.map(p=>({value:p,isCheckable:!1,isRemovable:!0,group:this._translate("Predefined values")})))),this.setState({inputValue:""})}};handleRemovePredifinedValuesClick=r=>{r.stopPropagation(),this.removePredefinedValues()};removePredefinedValues=()=>{this.setPredefinedValues(null)};getElement(){return this.props.context.output||this.props.context.input.inputExpression}render(){let r=this.getElement(),{inputValue:s,values:l}=this.state;return r.typeRef==="string"?me(1,"div","context-menu-container allowed-values-edit",me(1,"div","dms-form-control",[!$9(l)&&l.length>0&&mt(2,Vie,{labelComponent:LBe,items:l,onChange:this.onListChange}),!$9(l)&&!l.length&&me(1,"div",null,[me(1,"label","dms-label",this._translate("Predefined values"),0),me(1,"span","placeholder",this._translate("No values"),0)],4),!$9(l)&&me(1,"p","dms-hint",me(1,"button","del-values",this._translate("Clear predefined values"),0,{type:"button",onClick:this.handleRemovePredifinedValuesClick}),2),me(1,"label","dms-label",this._translate("Add predefined values"),0),mt(2,jl,{onInput:this.onInput,onKeyDown:this.onKeyDown,placeholder:this._translate('"value", "value", ...'),type:"text",validate:u=>{if(!L9(u))return this._translate("Strings must be in double quotes")},value:s})],0),2):null}};function LBe(o){return me(1,"label","dms-label",o,0)}function $Be(o){return o===13}function $9(o){return o===null}let NBe=500;var FBe={__init__:["allowedValuesUpdateBehavior","allowedValuesEditingProvider"],allowedValuesUpdateBehavior:["type",TBe],allowedValuesEditingProvider:["type",(()=>{class o{constructor(s){s.onGetComponent("context-menu",NBe,(l={})=>{let{contextMenuType:u}=l;if(u==="input-edit"||u==="output-edit")return RBe})}}return o.$inject=["components"],o})()]};class BBe extends Nt{constructor(r,s){super(r,s),this._sheet=s.injector.get("sheet"),this._eventBus=s.injector.get("eventBus"),this._changeSupport=s.changeSupport,this._translate=s.injector.get("translate")}onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){let r=this.getRoot();this._changeSupport.onElementsChanged(r.id,this.onElementsChanged)}componentWillUnmount(){let r=this.getRoot();this._changeSupport.offElementsChanged(r.id,this.onElementsChanged)}getRoot(){return this._sheet.getRoot()}handleClick=r=>{r.stopPropagation(),this.add()};add=()=>{this._eventBus.fire("addInput")};render(){return me(1,"div","add-input actionable",me(1,"button","dmn-icon-plus action-icon",null,1,{title:this._translate("Add input")}),2,{onClick:this.handleClick})}}class jBe extends Nt{constructor(r,s){super(r,s),this._sheet=s.injector.get("sheet"),this._eventBus=s.injector.get("eventBus"),this._changeSupport=s.changeSupport,this._translate=s.injector.get("translate")}onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){let r=this.getRoot();this._changeSupport.onElementsChanged(r.id,this.onElementsChanged)}componentWillUnmount(){let r=this.getRoot();this._changeSupport.offElementsChanged(r.id,this.onElementsChanged)}getRoot(){return this._sheet.getRoot()}handleClick=r=>{r.stopPropagation(),this.add()};add=()=>{this._eventBus.fire("addOutput")};render(){return me(1,"div","add-output actionable",me(1,"button","dmn-icon-plus action-icon",null,1,{title:this._translate("Add output")}),2,{onClick:this.handleClick})}}function zie(o,r,s){o.onGetComponent("cell-inner",(l={})=>{let{cellType:u,index:f,inputsLength:p,outputsLength:v}=l;if(u==="input-cell"&&f===p-1)return BBe;if(u==="output-cell"&&f===v-1)return jBe}),s.on("addInput",()=>{r.trigger("addInput")}),s.on("addOutput",()=>{r.trigger("addOutput")})}zie.$inject=["components","editorActions","eventBus"];var VBe={__depends__:[Ov],__init__:["addInputOutputProvider"],addInputOutputProvider:["type",zie]};let Hie=class{constructor(r,s,l,u){this._config=r||{},this._editorActions=l,this._eventBus=s,this._cellSelection=u,this._listeners=[],s.on("table.destroy",this._destroy),s.on("table.init",this._init),s.on("attach",()=>{this._config.bindTo&&this.bind(r.bindTo)}),s.on("detach",this.unbind)}_init=()=>{this._registerDefaultBindings(),this._fire("init")};_destroy=()=>{this._fire("destroy"),this.unbind(),this._listeners=null};_keyHandler=r=>{var s,l,u=this._listeners,f=r.keyCode||r.charCode||-1;for(s=0;l=u[s];s++)if(l(f,r)){r.preventDefault(),r.stopPropagation();return}};bind(r){this.unbind(),this._node=r,ft.bind(r,"keydown",this._keyHandler),this._fire("bind")}getBinding(){return this._node}unbind=()=>{var r=this._node;r&&(this._fire("unbind"),ft.unbind(r,"keydown",this._keyHandler)),this._node=null};_fire(r){this._eventBus.fire("keyboard."+r,{node:this._node,listeners:this._listeners})}_registerDefaultBindings(){var r=this._listeners,s=this._editorActions,l=this._cellSelection;function u(y,x){if(Nm(x)&&!Fm(x)&&y===90)return s.trigger("undo"),!0}function f(y,x){if(Nm(x)&&(y===89||y===90&&Fm(x)))return s.trigger("redo"),!0}r.push(u),r.push(f);function p(y,x){if(!(y!==13||Nm(x)||!Fm(x))&&LA(x.target))return s.trigger("selectCellAbove"),!0}r.push(p);function v(y,x){if(y!==13||Nm(x)||Fm(x)||!LA(x.target))return;let w=s.trigger("selectCellBelow"),C=l.getCellSelection();if(!w&&C&&!zBe(C)){let O=s.trigger("addRule");return s.trigger("selectCellBelow"),O}return!0}r.push(v)}addListener(r){this._listeners.unshift(r)}removeListener(r){this._listeners=this._listeners.filter(s=>s!==r)}};Hie.$inject=["config.keyboard","eventBus","editorActions","cellSelection"];function zBe(o){return o==="__decisionProperties_name"}var mf={__depends__:[Ov],__init__:["keyboard"],keyboard:["type",Hie]},HBe={__depends__:[VBe,FBe,qh,Uh,Hh,mf,DBe],__init__:["inputEditingProvider","outputEditingProvider"],inputEditingProvider:["type",CBe],outputEditingProvider:["type",lAe]};function N9(o,r,s){return r in o?Object.defineProperty(o,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[r]=s,o}let UBe=`.dmn-decision-table-container td,
   .dmn-decision-table-container th`,Uie=class{constructor(r,s,l,u){N9(this,"handleDragOver",f=>{pS(f);let p=f.target,v=Bo(p,UBe,!0),y=!!v,{hoverEl:x}=this._dragContext;x&&x!==v&&(this._emit("dragAndDrop.dragLeave",f),this._dragContext.targetEl=null,this._dragContext.hoverEl=null),v&&(v!==x&&(this._dragContext.hoverEl=v,y=this._emit("dragAndDrop.dragEnter",f),y!==!1&&(this._dragContext.targetEl=v)),y=this._emit("dragAndDrop.dragOver",f)),f.dataTransfer.dropEffect=y!==!1?"move":"none"}),N9(this,"handleDrop",f=>{pS(f);let p=this._emit("dragAndDrop.drop",f);if(p){let{draggedElement:v}=this._dragContext;if(v instanceof aa){let{rows:y}=this._sheet.getRoot(),x=y.indexOf(p);this._modeling.moveRow(v,x)}else if(v instanceof la){let{cols:y}=this._sheet.getRoot(),x=y.indexOf(p);this._modeling.moveCol(v,x)}}this.handleDragEnd(f)}),N9(this,"handleDragEnd",f=>{pS(f),this._unbindListeners(),this._emit("dragAndDrop.dragEnd",f),this._dragContext=null}),this._eventBus=r,this._renderer=s,this._modeling=l,this._sheet=u,this._dragContext=null,r.on("table.destroy",()=>{this._unbindListeners()})}_bindListeners(){ft.bind(document,"dragover",this.handleDragOver),ft.bind(document,"drop",this.handleDrop),ft.bind(document,"dragend",this.handleDragEnd)}_unbindListeners(){ft.unbind(document,"dragover",this.handleDragOver),ft.unbind(document,"drop",this.handleDrop),ft.unbind(document,"dragend",this.handleDragEnd)}_emit(r,s){return this._eventBus.fire(r,{dragContext:this._dragContext,originalEvent:s})}startDrag(r,s){pS(s,!0),s.dataTransfer.effectAllowed="move",s.dataTransfer.setData&&s.dataTransfer.setData("text","__DUMMY"),this._dragContext={draggedElement:r},this._bindListeners(),this._emit("dragAndDrop.dragStart",s)}};Uie.$inject=["eventBus","renderer","modeling","sheet"];function pS(o,r){o.stopPropagation(),r!==!0&&o.preventDefault()}var qBe={__init__:["dragAndDrop"],dragAndDrop:["type",Uie]};let F9="top",WBe="right",GBe="bottom",B9="left",QBe=(()=>{class o{constructor(s,l,u,f,p,v,y,x){this._elementRegistry=l,this._dragAndDrop=f,this._renderer=p,this._rules=v,this._sheet=y,this._translate=x,s.onGetComponent("cell-inner",({cellType:w,col:C,row:O})=>{if(w==="rule-index")return()=>me(1,"span","dmn-icon-drag vertical",Wr("\xA0"),2,{draggable:"true",onDragStart:T=>this.startDrag(O,T),title:this._translate("Move rule")});if(w==="input-cell"||w==="output-cell"){let T=`Move ${Rn(C)?"Input":"Output"}`;return()=>me(1,"span","dmn-icon-drag horizontal",null,1,{draggable:"true",onDragStart:P=>this.startDrag(C,P),title:T})}}),u.on("dragAndDrop.dragEnter",w=>{let{dragContext:C}=w,{draggedElement:O,hoverEl:T}=C;if(O instanceof aa)return!0;if(O instanceof la){let P=YBe(T,this._elementRegistry,this._sheet);return P===-1?!1:this._rules.allowed("col.move",{col:O,index:P})}return!1}),u.on("dragAndDrop.dragLeave",w=>{let{dragContext:C}=w,{targetEl:O}=C;if(!O)return;let T=this._renderer.getContainer();j9(T)}),u.on("dragAndDrop.dragOver",w=>{let{dragContext:C,originalEvent:O}=w,{draggedElement:T,lastPosition:P,targetEl:N}=C,j=this._renderer.getContainer();if(!N)return!1;let q;return T instanceof aa&&(q=Qie(O,N)),T instanceof la&&(q=Gie(O,N)),P===q||(j9(j),T instanceof aa&&(q===F9?qie(N,j,"top"):qie(N,j,"bottom")),T instanceof la&&(q===B9?Wie(N,j,"left"):Wie(N,j,"right")),C.lastPosition=q),!0}),u.on("dragAndDrop.drop",w=>{let{dragContext:C,originalEvent:O}=w,{draggedElement:T,targetEl:P}=C;if(!P)return!1;if(T instanceof aa){let N=Qie(O,P),j=P.dataset.rowId,q=this._elementRegistry.get(j);if(!q||q===T)return;let Q=JBe(T,q,N,this._sheet.getRoot().rows);return Q===T?void 0:Q}if(T instanceof la){let N=Gie(O,P),j=P.dataset.colId,q=this._elementRegistry.get(j);if(!q||q===T)return;let Q=eje(T,q,N,this._sheet.getRoot().cols);return Q===T?void 0:Q}}),u.on("dragAndDrop.dragEnd",this._cleanup)}startDrag(s,l){let u=this._renderer.getContainer();this._dragImage=Gn(`<span style="
          visibility: hidden;
          position: fixed;
          top: -10000px
      "></span>`),document.body.appendChild(this._dragImage),l.dataTransfer.setDragImage&&l.dataTransfer.setDragImage(this._dragImage,0,0),s instanceof aa?XBe(s,u):s instanceof la&&KBe(s,u),this._dragAndDrop.startDrag(s,l)}_cleanup=()=>{let s=this._renderer.getContainer();j9(s),ZBe(s),this._dragImage&&(As(this._dragImage),this._dragImage=null)}}return o.$inject=["components","elementRegistry","eventBus","dragAndDrop","renderer","rules","sheet","translate"],o})();function YBe(o,r,s){let l=r.get(o.dataset.colId);if(!l)return-1;let{cols:u}=s.getRoot();return u.indexOf(l)}function qie(o,r,s){let l=o.dataset.rowId;if(!l)return;let u=bu(`[data-row-id=${l}]`,r);D(u,f=>{Jv(f)&&(Jt(f).add("dragover"),Jt(f).add(s))})}function Wie(o,r,s){let l=o.dataset.colId;if(!l)return;let u=bu(`[data-col-id=${l}]`,r);D(u,f=>{Jv(f)&&(Jt(f).add("dragover"),Jt(f).add(s))})}function j9(o){let r=bu(".dragover",o);D(r,s=>{Jv(s)&&(Jt(s).remove("dragover"),Jt(s).remove("top"),Jt(s).remove("right"),Jt(s).remove("bottom"),Jt(s).remove("left"))})}function XBe(o,r){let s=bu(`[data-row-id=${o.id}]`,r);D(s,l=>{Jv(l)&&Jt(l).add("dragged")})}function KBe(o,r){let s=bu(`[data-col-id=${o.id}]`,r);D(s,l=>{Jv(l)&&Jt(l).add("dragged")})}function ZBe(o){let r=bu(".dragged",o);D(r,s=>{Jv(s)&&Jt(s).remove("dragged")})}function Gie(o,r){let s=r.getBoundingClientRect();return o.clientX<s.left+s.width/2?B9:WBe}function Qie(o,r){let s=r.getBoundingClientRect();return o.clientY<s.top+s.height/2?F9:GBe}function JBe(o,r,s,l){return l.indexOf(o)>l.indexOf(r)&&(r=nje(r,l)),s===F9?tje(r,l):r}function eje(o,r,s,l){return l.indexOf(o)>l.indexOf(r)&&(r=ije(r,l)),s===B9?rje(r,l):r}function tje(o,r){let s=r.indexOf(o);return r[Math.max(0,s-1)]}function nje(o,r){let s=r.indexOf(o);return r[Math.min(r.length-1,s+1)]}function rje(o,r){let s=r.indexOf(o);if(_o(o)){let l=r.filter(f=>_o(f))[0],u=r.indexOf(l);return r[Math.max(u,s-1)]}return r[Math.max(0,s-1)]}function ije(o,r){let s=r.indexOf(o);if(Rn(o)){let l=r.filter(p=>Rn(p)),u=l[l.length-1],f=r.indexOf(u);return r[Math.min(f,s+1)]}return r[Math.min(r.length-1,s+1)]}function Jv(o){return o&&(o.nodeType===1||o.nodeType==11)}var oje={__depends__:[qBe,FA],__init__:["dmnDragAndDrop"],dmnDragAndDrop:["type",QBe]};class sje extends Nt{constructor(r,s){super(r,s),this._elementRegistry=s.injector.get("elementRegistry"),this._modeling=s.injector.get("modeling"),this._changeSupport=this.context.changeSupport;let{id:l}=this.props.context;this._element=this._elementRegistry.get(l)}onElementsChanged=()=>{this.forceUpdate()};componentWillMount(){this._element&&this._changeSupport.onElementsChanged(this._element.id,this.onElementsChanged)}componentDidMount(){let{autoFocus:r}=this.props.context;r&&this.node&&lje(this.node).focus()}componentWillUnmount(){if(this._element){this._changeSupport.offElementsChanged(this._element.id,this.onElementsChanged);let{businessObject:r}=this._element,{description:s}=r;b(s)&&!s.length&&this.changeDescription(null)}}changeDescription=r=>{this._modeling.updateProperties(this._element,{description:r})};render(){if(!this._element)return;let{businessObject:r}=this._element,{description:s}=r;if(b(s))return me(1,"div","context-menu-container description-editor",mt(2,aje,{className:"dms-input",onChange:this.changeDescription,value:s}),2,null,null,l=>this.node=l)}}let aje=class extends Tv{render(){return me(1,"div",this.getClassName(),this.getEditor(),0)}};function lje(o){return ln(".content-editable",o)}let cje=500,uje=750,Yie=26,dje=(()=>{class o{constructor(s,l,u,f,p,v,y){this._contextMenu=l,this._modeling=p,this._renderer=v,this._translate=y,f.on("cell.click",uje,x=>{if(x.defaultPrevented)return;let{target:w,id:C}=x,O=u.get(C);if(!Rs(O,["dmn:UnaryTests","dmn:LiteralExpression"]))return;Kie(O)||x.preventDefault();let P=v.getContainer(),N=w.getBoundingClientRect(),j=Xie(P,N);l.open(j,{contextMenuType:"cell-description",autoFocus:!1,id:C,offset:{x:4,y:4}})}),s.onGetComponent("context-menu",(x={})=>{if(x.contextMenuType&&x.contextMenuType==="cell-description"){let w=u.get(x.id),C=Kie(w);if(b(C))return sje}}),s.onGetComponent("context-menu-cell-additional",cje,(x={})=>{if(x.contextMenuType&&x.contextMenuType==="context-menu"){let{id:w}=x;if(!w)return;let C=u.get(w);if(!C)return;let{businessObject:O}=C,{description:T}=O,P=b(T),N=P?"remove-description":"add-description",j=P?()=>this.removeDescription(C):()=>this.addDescription(C);return me(1,"div",`context-menu-group-entry ${N}`,b(T)?this._translate("Remove cell description"):this._translate("Add cell description"),0,{onClick:j})}})}addDescription=s=>{this._modeling.updateProperties(s,{description:""});let l=this._renderer.getContainer(),f=Sv(s.id,l).getBoundingClientRect(),p=Xie(l,f);this._contextMenu.open(p,{contextMenuType:"cell-description",id:s.id,autoFocus:!0,offset:{x:4,y:4}})};removeDescription=s=>{this._modeling.updateProperties(s,{description:null}),this._contextMenu.close()}}return o.$inject=["components","contextMenu","elementRegistry","eventBus","modeling","renderer","translate"],o})();function Xie(o,r){let{top:s,left:l,width:u,height:f}=r;return{x:l+o.parentNode.scrollLeft-Yie,y:s+o.parentNode.scrollTop,width:u+2*Yie,height:f}}function Kie(o){return o&&o.businessObject&&o.businessObject.description}var fje={__depends__:[qh,IA],__init__:["description"],description:["type",dje]};let Zie=class{constructor(r,s,l,u,f,p){this._modeling=l,this._translate=f,this._expressionLanguages=u,r.onGetComponent("context-menu-cell-additional",(v={})=>{if(v.contextMenuType&&v.contextMenuType==="context-menu"){let{event:y,id:x}=v;if(!x)return;let w=s.get(x);if(!w||!this._shouldDisplayContextMenuEntry(w))return;let C=O=>{p.open({x:(y||O).pageX,y:(y||O).pageY},{contextMenuType:"expression-language",id:x})};return me(1,"div","context-menu-group-entry",this._translate("Change cell expression language"),0,{onClick:C})}}),r.onGetComponent("context-menu",(v={})=>{if(v.contextMenuType&&v.contextMenuType==="expression-language"){let{id:y}=v;if(!y)return;let x=s.get(y);if(!x)return;let w=this._getElementExpressionLanguage(x),C=u.getAll(),O="context-menu-group-entry context-menu-entry-set-expression-language",T=this._translate("Expression language");return()=>me(1,"div","context-menu-flex",me(1,"div","context-menu-group",me(1,"div",O,[me(1,"div",null,T,0),mt(2,mi,{label:T,className:"expression-language",onChange:P=>this.onChange(x,P),options:C,value:w})],4),2),2)}}),r.onGetComponent("context-menu",(v={})=>{if(v.contextMenuType==="input-edit")return()=>{let{inputExpression:y}=v.input;if(!this._shouldDisplayContextMenuEntry(y))return;let x=this._getElementExpressionLanguage(y),w=u.getAll(),C=this._translate("Expression language");return me(1,"div","context-menu-container ref-language",me(1,"div","dms-form-control",[me(1,"label","dms-label",C,0),mt(2,mi,{label:C,className:"ref-language",value:x||"",onChange:O=>this.onChange(y,O),options:w})],4),2)}})}onChange(r,s){this._modeling.editExpressionLanguage(r,s)}_shouldDisplayContextMenuEntry(r){return this._expressionLanguages.getAll().length>1?!0:this._getElementExpressionLanguage(r)!==this._getDefaultElementExpressionLanguage(r)}_getElementExpressionLanguage(r){return bc(r).expressionLanguage||this._getDefaultElementExpressionLanguage(r)}_getDefaultElementExpressionLanguage(r){return this._expressionLanguages.getDefault(Rn(r.col)?"inputCell":"outputCell").value}};Zie.$inject=["components","elementRegistry","modeling","expressionLanguages","translate","contextMenu"];var hje={__depends__:[Hh],__init__:["expressionLanguage"],expressionLanguage:["type",Zie]};let pje=(()=>{class o extends Nt{constructor(s,l){super(s,l),jo(this)}componentWillMount(){this.setupChangeListeners({bind:this.getBusinessObject().id})}componentWillUnmount(){this.setupChangeListeners({unbind:this.getBusinessObject().id})}setupChangeListeners({bind:s,unbind:l}){typeof l=="string"&&this.changeSupport.offElementsChanged(l,this.onElementsChanged),typeof s=="string"&&this.changeSupport.onElementsChanged(s,this.onElementsChanged)}getBusinessObject(){return this.sheet.getRoot().businessObject.$parent}onElementsChanged=()=>{this.forceUpdate()};setDecisionTableName=s=>{this.modeling.editDecisionTableName(s)};render(){let s=this.getBusinessObject(),{name:l}=s,u=this.components.getComponent("hit-policy")||gje;return me(1,"div","decision-table-properties",[mt(2,mje,{label:this.translate("Decision name"),className:"decision-table-name",value:l,ctrlForNewline:!0,onBlur:vje,onChange:this.setDecisionTableName,elementId:"__decisionProperties_name",coords:"0:__decisionProperties"}),me(1,"div","decision-table-header-separator"),mt(2,u)],4)}}return o.$inject=["sheet","modeling","changeSupport","components","translate"],o})();class mje extends Tv{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),Lm(this,kA)}render(){let r=this.props.value,s=TA(this.getSelectionClasses(),this.getClassName());return me(1,"div",s,this.getEditor(),0,{"data-element-id":this.props.elementId,"data-coords":this.props.coords,title:this._translate("Decision name: ")+r})}}function gje(){return null}function vje(o){o.target.scroll(0,0)}let yje=500;var bje={__depends__:[Uh],__init__:["decisionTableProperties"],decisionTableProperties:["type",(()=>{class o{constructor(s){s.onGetComponent("table.before",yje,()=>pje)}}return o.$inject=["components"],o})()]};let xje=(()=>{class o extends Nt{constructor(s,l){super(s,l),this._translate=l.injector.get("translate"),jo(this)}onChange=({aggregation:s,hitPolicy:l})=>{this.modeling.editHitPolicy(l,s)};onElementsChanged=()=>{this.forceUpdate()};componentDidMount(){this.changeSupport.onElementsChanged(this.getRoot().id,this.onElementsChanged)}componentWillUnmount(){this.changeSupport.offElementsChanged(this.getRoot().id,this.onElementsChanged)}getRoot(){return this.sheet.getRoot()}render(){let s=this.getRoot(),l=s.businessObject,{aggregation:u,hitPolicy:f}=l,p=_(PA,v=>Eje(v.value,{aggregation:u,hitPolicy:f}));return me(1,"div","hit-policy",[me(1,"label","dms-label",this._translate("Hit policy:"),0),mt(2,mi,{className:"hit-policy-edit-policy-select",label:this._translate("Hit policy"),onChange:this.onChange,options:PA.map(v=>Me(se({},v),{label:this._translate(v.label)})),value:p.value,"data-hit-policy":"true",noInput:!0})],4,{title:this._translate(p.explanation)})}}return o.$inject=["changeSupport","sheet","modeling"],o})();function Eje(o,r){return o.hitPolicy===r.hitPolicy&&o.aggregation===r.aggregation}function Jie(o){o.onGetComponent("hit-policy",()=>xje)}Jie.$inject=["components"];var wje={__depends__:[qh],__init__:["hitPolicyProvider"],hitPolicyProvider:["type",Jie]};let _je=(()=>{class o extends er{constructor(s,l){super(s),this.executed(["row.add","row.remove","col.add","col.remove"],eoe(u=>{var f=u.context,p=f.row||f.col;this.updateRoot(p,f.oldRoot)})),this.reverted(["row.add","row.remove","col.add","col.remove"],eoe(u=>{var f=u.context,p=f.row||f.col;this.updateRoot(p,f.newRoot)}))}updateRoot(s,l){var u=s.root,f=s.businessObject;if(we(s,"dmn:DecisionRule")){if(l){let v=l.businessObject.get("rule"),y=v.indexOf(f);v.splice(y,1),f.$parent=null}if(u){let p=u.businessObject,v=u.rows.indexOf(s);p.get("rule").splice(v,0,f),f.$parent=p,s.cells.forEach((y,x)=>{this.wireCell(y,s,x)})}}if(we(s,"dmn:InputClause")||we(s,"dmn:OutputClause")){let p,v;if(l){let y=l.businessObject,x=y.get("input"),w=y.get("output");if(we(s,"dmn:InputClause")&&(p=x,v=x.indexOf(f)),we(s,"dmn:OutputClause")&&(p=w,v=w.indexOf(f)),v===-1)throw new Error("inconsistent model: clause not in table");p.splice(v,1),f.$parent=null,s.cells.forEach((C,O)=>{this.unwireCell(C,l.rows[O])})}if(u){let y=u.businessObject,x=y.get("input"),w=y.get("output"),C=u.cols.indexOf(s),O,T;we(s,"dmn:InputClause")&&(T=x,O=C),we(s,"dmn:OutputClause")&&(T=w,O=C-x.length),T.splice(O,0,f),f.$parent=y,s.cells.forEach((P,N)=>{this.wireCell(P,u.rows[N],C)})}}}unwireCell(s,l){var u=s.businessObject;let f=l.businessObject,p=f.get("inputEntry"),v=f.get("outputEntry"),y,x;if(we(s,"dmn:UnaryTests")&&(y=p),we(s,"dmn:LiteralExpression")&&(y=v),x=y.indexOf(u),x===-1)throw new Error("cell not in row");y.splice(x,1),u.$parent=null}wireCell(s,l,u){var f=s.businessObject;let p=l.businessObject,v=p.get("inputEntry"),y=p.get("outputEntry"),x,w;f.$parent!==p&&(we(s,"dmn:UnaryTests")&&(x=v,w=u),we(s,"dmn:LiteralExpression")&&(x=y,w=u-v.length),x.splice(w,0,f),f.$parent=p)}}return o.$inject=["eventBus","sheet"],o})();function eoe(o){return function(r){var s=r.context,l=s.row||s.col;we(l,"dmn:DMNElement")&&o(r)}}let toe=class{constructor(r){this._model=r}create(r,s={}){var l=this._model.create(r,s||{});return we(l,"dmn:InputClause")&&(s.inputExpression?l.inputExpression=s.inputExpression:(l.inputExpression=this.create("dmn:LiteralExpression",{typeRef:"string"}),l.inputExpression.$parent=l)),we(l,"dmn:OutputClause")&&(l.typeRef=s.typeRef||"string"),(we(l,"dmn:UnaryTests")||we(l,"dmn:LiteralExpression"))&&(l.text=s.text||""),this._ensureId(l),l}_needsId(r){return we(r,"dmn:DMNElement")}_ensureId(r){var s=(r.$type||"").replace(/^[^:]*:/g,"")+"_";!r.id&&this._needsId(r)&&(r.id=this._model.ids.nextPrefixed(s,r))}};toe.$inject=["moddle"];let Cje=(()=>{class o extends gZ{constructor(s){super(),this._dmnFactory=s}create(s,l){let u=this._dmnFactory,y=l,{businessObject:f,type:p}=y,v=Ae(y,["businessObject","type"]);if(!f){if(!p){if(s==="root")p="dmn:DecisionTable";else if(s==="cell"){let{col:x}=v;we(x,"dmn:OutputClause")&&(p="dmn:LiteralExpression"),we(x,"dmn:InputClause")&&(p="dmn:UnaryTests")}if(!p)throw new Error("cannot guess <type>")}f=u.create(p)}return super.create(s,se({businessObject:f,id:f.id},v))}}return o.$inject=["dmnFactory"],o})(),Sje=(()=>{class o{constructor(s,l){this._sheet=s,this._elementFactory=l}execute(s){let l=this._sheet,u=this._elementFactory,f=l.getRoot(),{row:p,index:v}=s;return typeof v>"u"&&(v=s.index=f.rows.length),s.newRoot=f,p.cells.length||f.cols.forEach((y,x)=>{let w=u.create("cell",{row:p,col:y});p.cells[x]=w}),l.addRow(p,v),l.getRoot()}revert(s){let{row:l}=s,u=this._sheet;return u.removeRow(l),u.getRoot()}}return o.$inject=["sheet","elementFactory"],o})(),Oje=(()=>{class o{constructor(s){this._sheet=s}execute(s){let l=this._sheet,u=l.getRoot(),{row:f}=s,p=s.oldIndex=u.rows.indexOf(f);if(s.oldRoot=f.root,p===-1)throw new Error(`row#${f.id} not in sheet`);return l.removeRow(f),l.getRoot()}revert(s){let{row:l,oldIndex:u}=s,f=this._sheet;return f.addRow(l,u),f.getRoot()}}return o.$inject=["sheet"],o})(),Dje=(()=>{class o{constructor(s){this._modeling=s}preExecute(s){let{row:l}=s;this._modeling.removeRow(l)}postExecute(s){let{row:l,index:u}=s;this._modeling.addRow(l,u)}}return o.$inject=["modeling"],o})(),Tje=(()=>{class o{constructor(s,l){this._sheet=s,this._elementFactory=l}execute(s){let l=this._sheet,u=this._elementFactory,f=l.getRoot(),{col:p,index:v}=s;return typeof v>"u"&&(v=s.index=f.cols.length),s.newRoot=f,p.cells.length||f.rows.forEach((y,x)=>{let w=u.create("cell",{row:y,col:p});p.cells[x]=w}),l.addCol(p,v),l.getRoot()}revert(s){let{col:l}=s,u=this._sheet;return u.removeCol(l),u.getRoot()}}return o.$inject=["sheet","elementFactory"],o})(),kje=(()=>{class o{constructor(s,l){this._sheet=s,this._elementFactory=l}execute(s){let l=this._sheet,{col:u}=s,f=s.oldRoot=u.root;if((s.oldIndex=f.cols.indexOf(u))===-1)throw new Error(`col#${u.id} not in sheet`);return l.removeCol(u),l.getRoot()}revert(s){let{col:l,oldIndex:u}=s,f=this._sheet;return f.addCol(l,u),f.getRoot()}}return o.$inject=["sheet","elementFactory"],o})(),Pje=(()=>{class o{constructor(s){this._modeling=s}preExecute(s){let{col:l}=s;this._modeling.removeCol(l)}postExecute(s){let{col:l,index:u}=s;this._modeling.addCol(l,u)}}return o.$inject=["modeling"],o})();class Ije{execute(r){let{cell:s}=r;return s}revert(r){let{cell:s}=r;return s}}let noe=class j1e{constructor(r,s,l){this._eventBus=r,this._elementFactory=s,this._commandStack=l,r.on("table.init",()=>{Mje(this.getHandlers(),l)})}getHandlers(){return j1e._getHandlers()}static _getHandlers(){return{"row.add":Sje,"row.remove":Oje,"row.move":Dje,"col.add":Tje,"col.remove":kje,"col.move":Pje,"cell.edit":Ije}}_create(r,s){return s instanceof G3?s:this._elementFactory.create(r,s)}addRow(r,s){let l=this._create("row",r),u={row:l,index:s};return this._commandStack.execute("row.add",u),l}removeRow(r){this._commandStack.execute("row.remove",{row:r})}moveRow(r,s){let l={row:r,index:s};this._commandStack.execute("row.move",l)}addCol(r,s){let l=this._create("col",r),u={col:l,index:s};return this._commandStack.execute("col.add",u),l}removeCol(r){this._commandStack.execute("col.remove",{col:r})}moveCol(r,s){let l={col:r,index:s};this._commandStack.execute("col.move",l)}editCell(r,s){let l=se({cell:r},s);this._commandStack.execute("cell.edit",l)}};noe.$inject=["eventBus","elementFactory","commandStack"];function Mje(o,r){D(o,function(s,l){r.registerHandler(l,s)})}let Aje=(()=>{class o{constructor(s,l,u){this._dmnFactory=s,this._moddle=l,this._modeling=u}execute(s){let{element:l,allowedValues:u}=s;return we(l,"dmn:InputClause")?(l.inputValues?s.oldAllowedValues=l.inputValues.text:mS(u)||(l.inputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),mS(u)?l.inputValues&&delete l.inputValues:l.inputValues.text=u.join(",")):(l.outputValues&&l?s.oldAllowedValues=l.outputValues.text:mS(u)||(l.outputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),mS(u)?l.outputValues&&delete l.outputValues:l.outputValues.text=u.join(",")),l}revert(s){let{element:l,oldAllowedValues:u}=s;return we(l,"dmn:InputClause")?u?(l.inputValues||(l.inputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),l.inputValues.text=u):delete l.inputValues:u?(l.outputValues||(l.outputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),l.outputValues.text=u):delete l.outputValues,l}}return o.$inject=["dmnFactory","moddle","modeling"],o})();function mS(o){return o===null}let V9="id",z9=(()=>{class o{constructor(s,l){this._elementRegistry=s,this._moddle=l}execute(s){let{element:l,properties:u}=s,f=bc(l),{changed:p,oldProperties:v}=this.updateProperties(f,u);return s.oldProperties=v,[...p,l]}revert(s){let{element:l,oldProperties:u}=s;var f=bc(l),{changed:p}=this.updateProperties(f,u);return[...p,l]}updateProperties(s,l){let u=this._moddle.ids;return k(l,(f,p,v)=>{let y=s.get(v);if(roe(p)){if(!roe(y))throw new Error(`non-existing property <${v}>: cannot update values`);let{changed:x,oldProperties:w}=this.updateProperties(y,p);return{changed:[...f.changed,...x,y],oldProperties:Me(se({},f.oldProperties),{[v]:w})}}return v===V9&&Rje(s,p)&&(u.unclaim(s[V9]),this._elementRegistry.updateId(s,p),u.claim(p,s)),s.set(v,p),{changed:f.changed,oldProperties:Me(se({},f.oldProperties),{[v]:y})}},{changed:[],oldProperties:{}})}}return o.$inject=["elementRegistry","moddle"],o})();function Rje(o,r){return o[V9]!==r}function roe(o){return a(o)&&h(o)}let Lje=(()=>{class o{constructor(s){this._moddle=s}execute(s){let l=this._moddle.ids,u=s.id,f=s.element;s.claiming?l.claim(u,f):l.unclaim(u)}revert(s){let l=this._moddle.ids,u=s.id,f=s.element;s.claiming?l.unclaim(u):l.claim(u,f)}}return o.$inject=["moddle"],o})(),ioe=class V1e extends noe{constructor(r,s,l,u){super(r,s,l),this._eventBus=r,this._elementFactory=s,this._commandStack=l,this._sheet=u}getHandlers(){return V1e._getHandlers()}static _getHandlers(){return xe({},super._getHandlers(),{editAllowedValues:Aje,"element.updateProperties":z9,"id.updateClaim":Lje})}editDecisionTableName(r){let f={element:this._sheet.getRoot().businessObject.$parent,properties:{name:r}};this._commandStack.execute("element.updateProperties",f)}editDecisionTableId(r){let f={element:this._sheet.getRoot().businessObject.$parent,properties:{id:r}};this._commandStack.execute("element.updateProperties",f)}editHitPolicy(r,s){let f={element:this._sheet.getRoot().businessObject,properties:{hitPolicy:r,aggregation:s}};this._commandStack.execute("element.updateProperties",f)}updateProperties(r,s){let l={element:r,properties:s};this._commandStack.execute("element.updateProperties",l)}editInputExpression(r,s){let l={element:r,properties:s};this._commandStack.execute("element.updateProperties",l)}editOutputName(r,s){let l={element:r,properties:{name:s}};this._commandStack.execute("element.updateProperties",l)}editInputExpressionTypeRef(r,s){let l={element:r,properties:{typeRef:s}};this._commandStack.execute("element.updateProperties",l)}editOutputTypeRef(r,s){let l={element:r,properties:{typeRef:s}};this._commandStack.execute("element.updateProperties",l)}editCell(r,s){let l={element:r,properties:{text:s}};this._commandStack.execute("element.updateProperties",l)}editAnnotation(r,s){let l={element:r,properties:{description:s}};this._commandStack.execute("element.updateProperties",l)}editAllowedValues(r,s){let l={element:r,allowedValues:s};this._commandStack.execute("editAllowedValues",l)}editExpressionLanguage(r,s){let l={element:r,properties:{expressionLanguage:s}};this._commandStack.execute("element.updateProperties",l)}claimId(r,s){let l={id:r,element:s,claiming:!0};this._commandStack.execute("id.updateClaim",l)}unclaimId(r,s){let l={id:r,element:s};this._commandStack.execute("id.updateClaim",l)}};ioe.$inject=["eventBus","elementFactory","commandStack","sheet"];var $je={__init__:["idClaimBehavior","idUnclaimBehavior"],idClaimBehavior:["type",(()=>{class o extends er{constructor(s,l,u){super(s),this._ids=l.ids,this._modeling=u,this.preExecute(["row.add","col.add"],f=>{let p=f.context,v=p.row||p.col;this.claimId(v.businessObject),v.cells&&v.cells.forEach(y=>this.claimId(y.businessObject))})}claimId(s){s.id&&!this._ids.assigned(s.id)&&this._modeling.claimId(s.id,s),s.$descriptor.properties.forEach(l=>{let u=s[l.name];u&&(d(u)&&u.forEach(f=>this.claimId(f)),u.$type&&this.claimId(u))})}}return o.$inject=["eventBus","moddle","modeling"],o})()],idUnclaimBehavior:["type",(()=>{class o extends er{constructor(s,l){super(s),this._modeling=l,this.preExecute(["row.remove","col.remove"],u=>{let f=u.context,p=f.row||f.col;this.unclaimId(p.businessObject),p.cells&&p.cells.forEach(v=>this.unclaimId(v.businessObject))})}unclaimId(s){s.id&&this._modeling.unclaimId(s.id,s),s.$descriptor.properties.forEach(l=>{let u=s[l.name];u&&(d(u)&&u.forEach(f=>this.unclaimId(f)),u.$type&&this.unclaimId(u))})}}return o.$inject=["eventBus","modeling"],o})()]},Nje={__init__:["dmnUpdater","idChangeBehavior","modeling"],__depends__:[$je,DM],dmnUpdater:["type",_je],dmnFactory:["type",toe],elementFactory:["type",Cje],idChangeBehavior:["type",uC],modeling:["type",ioe]};class Fje extends Nt{constructor(r,s){super(r,s),this.changeCellValue=this.changeCellValue.bind(this),this.onElementsChanged=this.onElementsChanged.bind(this)}onElementsChanged(){this.forceUpdate()}componentWillMount(){let{injector:r}=this.context,{cell:s}=this.props,l=this._changeSupport=this.context.changeSupport;this._modeling=r.get("modeling"),l.onElementsChanged(s.id,this.onElementsChanged)}componentWillUnmount(){let{cell:r}=this.props;this._changeSupport.offElementsChanged(r.id,this.onElementsChanged)}changeCellValue(r){let{cell:s}=this.props;this._modeling.editCell(s.businessObject,r)}render(){let{cell:r,rowIndex:s,row:l,col:u,colIndex:f}=this.props,p=we(r,"dmn:UnaryTests"),v=r.businessObject;return mt(2,ix,{className:p?"input-cell":"output-cell",elementId:r.id,coords:`${s}:${f}`,"data-row-id":l.id,"data-col-id":u.id,children:mt(2,jje,{placeholder:p?"-":"",onChange:this.changeCellValue,value:v.text,businessObject:v})})}}let Bje=class extends Nt{constructor(r,s){super(r,s),this.state={focussed:!1},this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}onFocus(){this.setState({focussed:!0})}onBlur(){this.setState({focussed:!1})}render(){let{focussed:r}=this.state;return me(1,"div",`feel-editor${r?" focussed":""}`,[r&&tJ(mt(2,hS,Me(se({},this.props),{autoFocus:!0,onBlur:this.onBlur}))),tJ(mt(2,Dv,Me(se({},this.props),{onInput:()=>{},onFocus:this.onFocus})))],0,{onClick:this.onFocus})}};class jje extends Nt{constructor(r,s){super(r,s),this._expressionLanguages=s.injector.get("expressionLanguages"),this._translate=s.injector.get("translate"),this._variableResolver=s.injector.get("variableResolver",!1)}isDefaultExpressionLanguage(r){let{expressionLanguage:s}=r,l=this.getDefaultExpressionLanguage().value;return!s||s===l}getDescription(r){return r.description}getExpressionLanguageLabel(r){let{expressionLanguage:s}=r,l=this.getDefaultExpressionLanguage();return this._expressionLanguages.getLabel(s)||l.label}isScript(){let{businessObject:r}=this.props,s=this.getDefaultExpressionLanguage();return this._isInputCell()?r.text.indexOf(`
`)!==-1?!0:r.expressionLanguage&&r.expressionLanguage!==s:!1}_isInputCell(){return we(this.props.businessObject,"dmn:UnaryTests")}getDefaultExpressionLanguage(){let r=this._isInputCell()?"inputCell":"outputCell";return this._expressionLanguages.getDefault(r)}getEditor(){return this.isFEEL()?Bje:Dv}isFEEL(){return this.getExpressionLanguage()==="feel"}getExpressionLanguage(){let{businessObject:r}=this.props;return r.expressionLanguage||this.getDefaultExpressionLanguage().value}_getVariables(){let{businessObject:r}=this.props;return this._variableResolver&&this._variableResolver.getVariables(r)}_getLabel(){return this._isInputCell()?this._translate("Input"):this._translate("Output")}render(){let{businessObject:r,placeholder:s,value:l,onChange:u}=this.props,f=this.getDescription(r),p=this.isDefaultExpressionLanguage(r),v=this.getExpressionLanguageLabel(r),y=this.isScript(),x=this.getEditor(),w=this._getVariables();return me(1,"div","cell-editor",[b(f)&&me(1,"div","description-indicator"),mt(2,x,{label:this._getLabel(),className:y?"script-editor":"",ctrlForNewline:!0,onInput:u,value:l,placeholder:s,variables:w}),!p&&me(1,"span","dms-badge dmn-expression-language",[me(1,"span","dms-badge-icon dmn-icon-file-code"),me(1,"span","dms-badge-label",v,0)],4,{title:this._translate("Expression language: {expressionLanguageLabel}",{expressionLanguageLabel:v})})],0)}}let Vje=1500;var zje={__depends__:[Uh,AJ],__init__:["decisionRulesEditor"],decisionRulesEditor:["type",(()=>{class o{constructor(s){s.onGetComponent("cell",Vje,({cellType:l})=>{if(l==="rule")return Fje})}}return o.$inject=["components"],o})()]};let gS=4,Hje=(()=>{class o extends Nt{constructor(s,l){super(s,l),this._translate=l.injector.get("translate"),this.state={top:0,left:0,isVisible:!1,isDisabled:!1,selection:null},jo(this);let{debounceInput:u}=this;this.onClick=this.onClick.bind(this),this.handleSelectionChanged=this.handleSelectionChanged.bind(this),this.hideAndShowDebounced=this.hideAndShowDebounced.bind(this),this.showDebounced=u(this.showDebounced.bind(this)),this.updatePosition=this.updatePosition.bind(this)}componentDidMount(){let{eventBus:s}=this;s.on("cellSelection.changed",this.handleSelectionChanged),s.on("commandStack.changed",this.updatePosition),s.on("sheet.scroll",this.hideAndShowDebounced)}componentWillUnmount(){let{eventBus:s}=this;s.off("cellSelection.changed",this.handleSelectionChanged),s.off("commandStack.changed",this.updatePosition),s.off("sheet.scroll",this.hideAndShowDebounced)}hideAndShowDebounced(){this.state.isVisible&&(this.hide(),this.showDebounced())}showDebounced(){this.show()}hide(s={}){this.setState(Me(se({},s),{isVisible:!1}))}show(s={}){this.setState(Me(se({},s),{isVisible:!0})),this.updatePosition()}handleSelectionChanged({elementId:s}){let{elementRegistry:l,expressionLanguages:u,simpleMode:f}=this,p=l.get(s);if(!p||!f.canSimpleEdit(p)){this.hide({isDisabled:!1,selection:null});return}let v=Uje(p),y=!qje(p,v,u);this.show({isDisabled:y,selection:p})}updatePosition(){let{selection:s}=this.state,{node:l}=this;if(!s||!l)return;let{renderer:u}=this,f=u.getContainer(),p=f.getBoundingClientRect(),y=Sv(s.id,f).getBoundingClientRect(),x=this.node.getBoundingClientRect(),{scrollLeft:w,scrollTop:C}=Gje(l),O={};y.left+y.width/2>p.width/2?(O.left=-p.left+y.left-x.width+gS+w+"px",l.classList.remove("right"),l.classList.add("left")):(O.left=-p.left+y.left+y.width-gS+w+"px",l.classList.remove("left"),l.classList.add("right")),y.top+y.height/2>p.height/2?(O.top=-p.top+y.top-x.height+gS+C+"px",l.classList.remove("top"),l.classList.add("bottom")):(O.top=-p.top+y.top-gS+C+"px",l.classList.remove("bottom"),l.classList.add("top")),xe(this.node.style,O)}onClick(){let{eventBus:s}=this,{isDisabled:l}=this.state;if(l)return;let{selection:u}=this,f=u.get();f&&(s.fire("simpleMode.open",{element:f,node:Sv(f.id,this._container)}),this.hide())}render(){let{isDisabled:s,isVisible:l,top:u,left:f}=this.state,p=["simple-mode-button","no-deselect"];return s&&p.push("disabled"),l?me(1,"div",p.join(" "),me(1,"span","dmn-icon-edit"),2,{onClick:this.onClick,style:{top:u,left:f},title:s?this._translate("Editing not supported for set expression language"):this._translate("Edit")},null,v=>this.node=v):null}}return o.$inject=["debounceInput","elementRegistry","eventBus","expressionLanguages","renderer","selection","simpleMode"],o})();function Uje(o){return o.businessObject.expressionLanguage}function qje(o,r,s){return!r||r===Wje(o,s)}function Wje(o,r){if(Rn(o.col))return r.getDefault("inputCell").value;if(_o(o.col))return r.getDefault("outputCell").value}function Gje(o){let r=Bo(o,".tjs-table-container");if(!r)return{scrollTop:0,scrollLeft:0};let{scrollLeft:s,scrollTop:l}=r;return{scrollTop:l,scrollLeft:s}}let Qje=(()=>{class o{constructor(s,l,u,f,p){this._providers=[],s.onGetComponent("table.before",()=>Hje),f.on("simpleMode.open",({element:v,node:y})=>{let{left:x,top:w,width:C,height:O}=y.getBoundingClientRect(),T=p.getContainer();l.open({x:x+T.parentNode.scrollLeft,y:w+T.parentNode.scrollTop,width:C,height:O},{contextMenuType:"simple-mode-edit",element:v,offset:{x:4,y:4}})}),f.on("cell.click",v=>{let{event:y,node:x,id:w}=v;if(Yje(y)){let C=u.get(w);C&&f.fire("simpleMode.open",{node:x,element:C}),v.preventDefault()}})}registerProvider(s){this._providers.push(s)}canSimpleEdit(s){return this._providers.reduce((l,u)=>l||u(s),!1)}}return o.$inject=["components","contextMenu","elementRegistry","eventBus","renderer"],o})();function Yje(o){return o.altKey?!1:o.ctrlKey||o.metaKey}var ap={__depends__:[qh,t6,Hh],__init__:["simpleMode"],simpleMode:["type",Qje]};function Xje(o){if(!o||Kje(o))return"none";if(o.trim()==="true")return"true";if(o.trim()==="false")return"false"}function Kje(o){return o===""}let Zje="true",Jje="false",H9="none";class eVe extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._modeling=s.injector.get("modeling");let{element:l}=this.props.context,u=Xje(l.businessObject.text);this.state={value:u||H9},this.editCell=this.editCell.bind(this),this.onChange=this.onChange.bind(this)}editCell(r,s){this._modeling.editCell(r,s)}onChange(r){let{element:s}=this.props.context;this.editCell(s.businessObject,r===H9?"":r),this.setState({value:r})}render(){let{value:r}=this.state,s=[{label:"-",value:H9},{label:this._translate("Yes"),value:Zje},{label:this._translate("No"),value:Jje}];return me(1,"div","simple-boolean-edit context-menu-container",[me(1,"h3","dms-heading",this._translate("Edit boolean"),0),me(1,"h4","dms-heading",this._translate("Set value"),0),mt(2,mi,{label:this._translate("Boolean value"),noInput:!0,className:"dms-block",onChange:this.onChange,options:s,value:r})],4)}}let tVe=(()=>{class o{constructor(s,l){l.registerProvider(u=>(Rn(u.col)||_o(u.col))&&ooe(u)==="boolean"),s.onGetComponent("context-menu",(u={})=>{if(u.contextMenuType&&u.contextMenuType==="simple-mode-edit"){if(!u.element)return;if(ooe(u.element)==="boolean")return eVe}})}}return o.$inject=["components","simpleMode"],o})();function ooe(o){return Rn(o.col)?o.col&&o.col.businessObject.inputExpression.typeRef:o.col&&o.col.businessObject.typeRef}var nVe={__depends__:[mf,ap],__init__:["simpleBooleanEdit"],simpleBooleanEdit:["type",tVe]};let rVe=/^\d{4}(?:-\d\d){2}$/,iVe=/^\[date\("([^"]*)"\)..date\("([^"]*)"\)\]$/,oVe=/^(<|>)\s*date\("([^"]*)"\)$/,sVe=/^date\("([^"]*)"\)$/,aVe="exact",lVe="before",cVe="after",uVe="between";function ey(o){if(!rVe.test(o.trim()))return"Date must match pattern yyyy-MM-dd"}function lp(o,r){if(o===aVe)return`date("${r[0]}")`;if(o===lVe)return`< date("${r[0]}")`;if(o===cVe)return`> date("${r[0]}")`;if(o===uVe)return`[date("${r[0]}")..date("${r[1]}")]`}function gf(){let o=new Date;return o.setUTCHours(0,0,0,0),o.toISOString().slice(0,10)}function jx(o){if(!o||o.trim()==="")return{type:"exact",date:""};let r=o.match(iVe);if(r)return{type:"between",dates:[r[1],r[2]]};if(r=o.match(oVe),r)return{type:r[1]==="<"?"before":"after",date:r[2]};if(r=o.match(sVe),r)return{type:"exact",date:r[1]}}let soe="exact",dVe="before",fVe="after",Vx="between",hVe=class extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._modeling=s.injector.get("modeling");let{element:l}=this.props.context,u=jx(l.businessObject.text);if(u){let p;u.date?p=[u.date,""]:u.dates?p=u.dates:p=["",""],this.state={type:u.type,dates:p}}else this.state={type:soe,dates:["",""]};let f=s.injector.get("debounceInput");this.debouncedEditCell=f(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onSetStartDateTodayClick=this.onSetStartDateTodayClick.bind(this),this.onSetEndDateTodayClick=this.onSetEndDateTodayClick.bind(this),this.onStartDateInput=this.onStartDateInput.bind(this),this.onEndDateInput=this.onEndDateInput.bind(this)}editCell(r,s){this._modeling.editCell(r,s)}onTypeChange(r){let{element:s}=this.props.context,{dates:l}=this.state;this.setState({type:r}),jx(lp(r,l))&&this.editCell(s.businessObject,lp(r,l))}onSetStartDateTodayClick(){let{element:r}=this.props.context,{dates:s,type:l}=this.state,u=gf();this.setState({dates:[u,s[1]]}),jx(lp(l,[u,s[1]]))&&this.editCell(r.businessObject,lp(l,[u,s[1]]))}onSetEndDateTodayClick(){let{element:r}=this.props.context,{dates:s,type:l}=this.state,u=gf();this.setState({dates:[s[0],u]}),jx(lp(l,[s[0],u]))&&this.editCell(r.businessObject,lp(l,[s[0],u]))}onStartDateInput({value:r}){let{element:s}=this.props.context,{dates:l,type:u}=this.state;this.setState({dates:[r,l[1]]}),this.debouncedEditCell(s.businessObject,lp(u,[r,l[1]]))}onEndDateInput({value:r}){let{element:s}=this.props.context,{dates:l,type:u}=this.state;this.setState({dates:[l[0],r]}),this.debouncedEditCell(s.businessObject,lp(u,[l[0],r]))}render(){let{dates:r,type:s}=this.state,l=[{label:this._translate("Exactly"),value:soe},{label:this._translate("Before"),value:dVe},{label:this._translate("After"),value:fVe},{label:this._translate("Between"),value:Vx}];return me(1,"div","context-menu-container simple-date-edit",[me(1,"h3","dms-heading",this._translate("Edit date"),0),me(1,"div","dms-fill-row",mt(2,mi,{label:this._translate("Test type"),noInput:!0,onChange:this.onTypeChange,options:l,value:s}),2),me(1,"h4","dms-heading",s===Vx?this._translate("Edit start date"):this._translate("Set date"),0),me(1,"div",null,[mt(2,jl,{label:s===Vx?this._translate("Start date"):this._translate("Date"),className:"start-date-input dms-block",onInput:this.onStartDateInput,placeholder:this._translate("e.g. { sample }",{sample:gf()}),validate:u=>ey(u)&&this._translate(ey(u)),value:r[0]}),me(1,"p","dms-hint",[me(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onSetStartDateTodayClick}),Wr(".")],4)],4),s===Vx&&me(1,"h4","dms-heading",this._translate("Edit end date"),0),s===Vx&&me(1,"div",null,[mt(2,jl,{label:this._translate("End date"),className:"end-date-input dms-block",onInput:this.onEndDateInput,placeholder:this._translate("e.g. { sample }",{sample:gf()}),validate:u=>ey(u)&&this._translate(ey(u)),value:r[1]}),me(1,"p","dms-hint",[me(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onSetEndDateTodayClick}),Wr(".")],4)],4)],0)}},pVe=class extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._modeling=s.injector.get("modeling");let{element:l}=this.props.context,u=jx(l.businessObject.text);this.state={date:u?u.date:""};let f=s.injector.get("debounceInput");this.debouncedEditCell=f(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onClick=this.onClick.bind(this),this.onInput=this.onInput.bind(this)}editCell(r,s){this._modeling.editCell(r,s)}onClick(){let{element:r}=this.props.context,s=gf();this.setState({date:s}),this.editCell(r.businessObject,`date("${s}")`)}onInput({value:r}){let{element:s}=this.props.context;this.setState({date:r}),this.debouncedEditCell(s.businessObject,`date("${r}")`)}render(){let{date:r}=this.state;return me(1,"div","context-menu-container simple-date-edit",[me(1,"h3","dms-heading",this._translate("Edit date"),0),me(1,"h4","dms-heading",this._translate("Set date"),0),me(1,"div",null,[mt(2,jl,{label:this._translate("Date value"),onInput:this.onInput,placeholder:this._translate("e.g. { example } ",{example:gf()}),validate:s=>ey(s)&&this._translate(ey(s)),value:r,className:"dms-block"}),me(1,"p","dms-hint",me(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onClick}),2)],4)],4)}},aoe=class{constructor(r,s){s.registerProvider(l=>{let u=loe(l);return(Rn(l.col)||_o(l.col))&&coe(u)}),r.onGetComponent("context-menu",(l={})=>{if(l.contextMenuType&&l.contextMenuType==="simple-mode-edit"){if(!l.element)return;let u=loe(l.element);if(coe(u)){if(Rn(l.element.col))return hVe;if(_o(l.element.col))return pVe}}})}};aoe.$inject=["components","simpleMode"];function loe(o){return Rn(o.col)?o.col&&o.col.businessObject.inputExpression.typeRef:o.col&&o.col.businessObject.typeRef}function coe(o){return o==="date"}var mVe={__depends__:[mf,ap],__init__:["simpleDateEdit"],simpleDateEdit:["type",aoe]};let gVe=/^\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d(?:Z|(?:[@+-][^")]+))?$/,vVe=/^\[date and time\("([^"]*)"\)..date and time\("([^"]*)"\)\]$/,yVe=/^(<|>)\s*date and time\("([^"]*)"\)$/,bVe=/^date and time\("([^"]*)"\)$/,xVe="exact",EVe="before",wVe="after",_Ve="between";function ty(o){if(!gVe.test(o.trim()))return"Date and time must match pattern yyyy-MM-ddTHH:mm:ss[time zone]"}function cp(o,r){if(o===xVe)return`date and time("${r[0]}")`;if(o===EVe)return`< date and time("${r[0]}")`;if(o===wVe)return`> date and time("${r[0]}")`;if(o===_Ve)return`[date and time("${r[0]}")..date and time("${r[1]}")]`}function ny(){let o=new Date;return o.setUTCHours(0,0,0,0),o.toISOString().replace(".000Z","Z")}function zx(o){if(!o||o.trim()==="")return{type:"exact",date:""};let r=o.match(vVe);if(r)return{type:"between",dates:[r[1],r[2]]};if(r=o.match(yVe),r)return{type:r[1]==="<"?"before":"after",date:r[2]};if(r=o.match(bVe),r)return{type:"exact",date:r[1]}}let uoe="exact",CVe="before",SVe="after",Hx="between";class OVe extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._modeling=s.injector.get("modeling");let{element:l}=this.props.context,u=zx(l.businessObject.text);if(u){let p;u.date?p=[u.date,""]:u.dates?p=u.dates:p=["",""],this.state={type:u.type,dates:p}}else this.state={type:uoe,dates:["",""]};let f=s.injector.get("debounceInput");this.debouncedEditCell=f(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onSetStartDateTodayClick=this.onSetStartDateTodayClick.bind(this),this.onSetEndDateTodayClick=this.onSetEndDateTodayClick.bind(this),this.onStartDateInput=this.onStartDateInput.bind(this),this.onEndDateInput=this.onEndDateInput.bind(this)}editCell(r,s){this._modeling.editCell(r,s)}onTypeChange(r){let{element:s}=this.props.context,{dates:l}=this.state;this.setState({type:r}),zx(cp(r,l))&&this.editCell(s.businessObject,cp(r,l))}onSetStartDateTodayClick(){let{element:r}=this.props.context,{dates:s,type:l}=this.state,u=ny();this.setState({dates:[u,s[1]]}),zx(cp(l,[u,s[1]]))&&this.editCell(r.businessObject,cp(l,[u,s[1]]))}onSetEndDateTodayClick(){let{element:r}=this.props.context,{dates:s,type:l}=this.state,u=ny();this.setState({dates:[s[0],u]}),zx(cp(l,[s[0],u]))&&this.editCell(r.businessObject,cp(l,[s[0],u]))}onStartDateInput({value:r}){let{element:s}=this.props.context,{dates:l,type:u}=this.state;this.setState({dates:[r,l[1]]}),this.debouncedEditCell(s.businessObject,cp(u,[r,l[1]]))}onEndDateInput({value:r}){let{element:s}=this.props.context,{dates:l,type:u}=this.state;this.setState({dates:[l[0],r]}),this.debouncedEditCell(s.businessObject,cp(u,[l[0],r]))}render(){let{dates:r,type:s}=this.state,l=[{label:this._translate("Exactly"),value:uoe},{label:this._translate("Before"),value:CVe},{label:this._translate("After"),value:SVe},{label:this._translate("Between"),value:Hx}];return me(1,"div","context-menu-container simple-date-edit",[me(1,"h3","dms-heading",this._translate("Edit date and time"),0),me(1,"div","dms-fill-row",mt(2,mi,{label:this._translate("Test type"),noInput:!0,onChange:this.onTypeChange,options:l,value:s}),2),me(1,"h4","dms-heading",s===Hx?this._translate("Edit start date and time"):this._translate("Set date and time"),0),me(1,"div",null,[mt(2,jl,{label:s===Hx?this._translate("Start date and time"):this._translate("Date and time"),className:"start-date-input dms-block",onInput:this.onStartDateInput,placeholder:this._translate("e.g. { sample }",{sample:ny()}),validate:u=>ty(u)&&this._translate(ty(u)),value:r[0]}),me(1,"p","dms-hint",me(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onSetStartDateTodayClick}),2)],4),s===Hx&&me(1,"h4","dms-heading",this._translate("Edit end date and time"),0),s===Hx&&me(1,"div",null,[mt(2,jl,{label:this._translate("End date and time"),className:"end-date-input dms-block",onInput:this.onEndDateInput,placeholder:this._translate("e.g. { sample }",{sample:ny()}),validate:u=>ty(u)&&this._translate(ty(u)),value:r[1]}),me(1,"p","dms-hint",me(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onSetEndDateTodayClick}),2)],4)],0)}}class DVe extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._modeling=s.injector.get("modeling");let{element:l}=this.props.context,u=zx(l.businessObject.text);this.state={date:u?u.date:""};let f=s.injector.get("debounceInput");this.debouncedEditCell=f(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onClick=this.onClick.bind(this),this.onInput=this.onInput.bind(this)}editCell(r,s){this._modeling.editCell(r,s)}onClick(){let{element:r}=this.props.context,s=ny();this.setState({date:s}),this.editCell(r.businessObject,`date and time("${s}")`)}onInput({value:r}){let{element:s}=this.props.context;this.setState({date:r}),this.debouncedEditCell(s.businessObject,`date and time("${r}")`)}render(){let{date:r}=this.state;return me(1,"div","context-menu-container simple-date-edit",[me(1,"h3","dms-heading",this._translate("Edit date and time"),0),me(1,"h4","dms-heading",this._translate("Set date and time"),0),me(1,"div",null,[mt(2,jl,{label:this._translate("Date and time value"),onInput:this.onInput,placeholder:this._translate("e.g. { sample }",{sample:ny()}),validate:s=>ty(s)&&this._translate(ty(s)),value:r,className:"dms-block"}),me(1,"p","dms-hint",me(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onClick}),2)],4)],4)}}let doe=class{constructor(r,s){s.registerProvider(l=>{let u=foe(l);return(Rn(l.col)||_o(l.col))&&hoe(u)}),r.onGetComponent("context-menu",(l={})=>{if(l.contextMenuType&&l.contextMenuType==="simple-mode-edit"){if(!l.element)return;let u=foe(l.element);if(hoe(u)){if(Rn(l.element.col))return OVe;if(_o(l.element.col))return DVe}}})}};doe.$inject=["components","simpleMode"];function foe(o){return Rn(o.col)?o.col&&o.col.businessObject.inputExpression.typeRef:o.col&&o.col.businessObject.typeRef}function hoe(o){return o==="dateTime"}var TVe={__depends__:[mf,ap],__init__:["simpleDateTimeEdit"],simpleDateTimeEdit:["type",doe]};let U9={equals:"=",less:"<",lessEquals:"<=",greater:">",greaterEquals:">="};function kVe(o){return F(U9).filter(r=>o===U9[r])[0]}function PVe(o){if(!o||IVe(o.trim()))return{type:"comparison",values:[]};let r=LVe(o);if(r)return r;let s=$Ve(o);if(s)return s}function IVe(o){return o===""}function q9(o,r){return o==="equals"?`duration("${r}")`:`${U9[o]} duration("${r}")`}function Ux(o,r,s,l){return`${s==="exclude"?"]":"["}duration("${o}")..duration("${r}")${l==="exclude"?"[":"]"}`}function MVe(o,r){if(o==="yearMonthDuration")return AVe(r);if(o==="dayTimeDuration")return RVe(r)}function AVe(o){return/^P(\d+Y\d+M|\d+Y|\d+M)$/.test(o)}function RVe(o){return/^P(\d+DT\d+H|\d+D|T\d+H)$/.test(o)}function poe(o){let r=/^duration\("([^"]*)"\)$/.exec(o);return r&&r[1]}function LVe(o){let r=poe(o);if(r)return{type:"comparison",operator:"equals",values:[r]};let{operator:s,value:l}=moe(/^(?<operator>=|(:?<|>)=?)\s*duration\("(?<value>[^"]*)"\)$/,o);if(s&&l)return{type:"comparison",values:[l],operator:kVe(s)}}function $Ve(o){let{start:r,end:s,firstValue:l,secondValue:u}=moe(/^(?<start>[[\]])duration\("(?<firstValue>[^"]*)"\)\.\.duration\("(?<secondValue>[^"]*)"\)(?<end>[[\]])$/,o);if(r&&s)return{type:"range",values:[l,u],start:r==="]"?"exclude":"include",end:s==="["?"exclude":"include"}}function moe(o,r){let{groups:s}=o.exec(r)||{groups:{}};return s}let NVe={yearMonthDuration:"Must match PnYnM",dayTimeDuration:"Must match PnDTnH"};class vS extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._type=r.type,this.onInput=this.onInput.bind(this),this.validate=this.validate.bind(this),this.state={value:r.value}}onInput({value:r}){this.setState({value:r}),this.props.onInput(r)}validate(r){if(!MVe(this._type,r))return this._translate(NVe[this._type])}_getPlaceholder(){if(this._type==="yearMonthDuration")return this._translate("e.g. { sample }",{sample:"P1Y2M"});this._type==="dayTimeDuration"&&this._translate("e.g. { sample }",{sample:"P1DT2H"})}render(){return mt(2,jl,{label:this.props.label,type:"text",onInput:this.onInput,placeholder:this._getPlaceholder(),validate:this.validate,value:this.state.value,className:this.props.className})}}let ry="comparison",iy="range";class FVe extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._modeling=s.injector.get("modeling");let{element:l}=this.props.context;this._type=BVe(l);let u=PVe(l.businessObject.text,this._type);u?this.state={type:u.type,comparisonOperator:u.operator||"equals",startValue:u.values[0]||"",endValue:u.values[1]||"",rangeStartType:u.start||"include",rangeEndType:u.end||"include"}:this.state={type:ry,comparisonOperator:"equals",startValue:"",endValue:"",rangeStartType:"include",rangeEndType:"include"};let f=s.injector.get("debounceInput");this.debouncedEditCell=f(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onComparisonOperatorChange=this.onComparisonOperatorChange.bind(this),this.onComparisonValueChange=this.onComparisonValueChange.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onRangeStartTypeChange=this.onRangeStartTypeChange.bind(this),this.onRangeStartValueChange=this.onRangeStartValueChange.bind(this),this.onRangeEndTypeChange=this.onRangeEndTypeChange.bind(this),this.onRangeEndValueChange=this.onRangeEndValueChange.bind(this)}editCell(r,s){this._modeling.editCell(r,s)}onTypeChange(r){let{element:s}=this.props.context,{comparisonOperator:l,startValue:u,endValue:f,rangeStartType:p,rangeEndType:v}=this.state;r===ry?this.editCell(s.businessObject,q9(l,u)):this.editCell(s.businessObject,Ux(u,f,p,v)),this.setState({type:r})}onComparisonOperatorChange(r){let{element:s}=this.props.context,{type:l,startValue:u}=this.state;l===ry&&(this.editCell(s.businessObject,q9(r,u)),this.setState({comparisonOperator:r}))}onComparisonValueChange(r){let{element:s}=this.props.context,{type:l,comparisonOperator:u}=this.state;l===ry&&(this.debouncedEditCell(s.businessObject,q9(u,r)),this.setState({startValue:r}))}onRangeStartTypeChange(r){let{element:s}=this.props.context,{type:l,startValue:u,endValue:f,rangeEndType:p}=this.state;l===iy&&(this.editCell(s.businessObject,Ux(u,f,r,p)),this.setState({rangeStartType:r}))}onRangeStartValueChange(r){let{element:s}=this.props.context,{type:l,endValue:u,rangeStartType:f,rangeEndType:p}=this.state;l===iy&&(this.editCell(s.businessObject,Ux(r,u,f,p)),this.setState({startValue:r}))}onRangeEndTypeChange(r){let{element:s}=this.props.context,{type:l,startValue:u,endValue:f,rangeStartType:p}=this.state;l===iy&&(this.editCell(s.businessObject,Ux(u,f,p,r)),this.setState({rangeEndType:r}))}onRangeEndValueChange(r){let{element:s}=this.props.context,{type:l,startValue:u,rangeStartType:f,rangeEndType:p}=this.state;l===iy&&(this.editCell(s.businessObject,Ux(u,r,f,p)),this.setState({endValue:r}))}renderComparison(r,s){let l=[{label:this._translate("Equals"),value:"equals"},{label:this._translate("Less"),value:"less"},{label:this._translate("Less or equals"),value:"lessEquals"},{label:this._translate("Greater"),value:"greater"},{label:this._translate("Greater or equals"),value:"greaterEquals"}];return me(1,"div","comparison",[me(1,"h4","dms-heading",Wr("Value"),2),me(1,"div","dms-fill-row dms-input-duration-edit-row",[mt(2,mi,{label:this._translate("Comparison operator"),noInput:!0,onChange:this.onComparisonOperatorChange,options:l,value:r}),Wr("\xA0"),mt(2,vS,{label:this._translate("Duration value"),type:this._type,className:"comparison-duration-input",onInput:this.onComparisonValueChange,value:s})],4)],4)}renderRange(r,s,l,u){let f=[{label:this._translate("Include"),value:"include"},{label:this._translate("Exclude"),value:"exclude"}];return me(1,"div","range",[me(1,"h4","dms-heading",this._translate("Start value"),0),me(1,"div","dms-fill-row dms-input-duration-edit-row",[mt(2,mi,{label:this._translate("Range start operator"),noInput:!0,onChange:this.onRangeStartTypeChange,options:f,value:l}),Wr("\xA0"),mt(2,vS,{label:this._translate("Range start value"),type:this._type,className:"range-start-duration-input",onInput:this.onRangeStartValueChange,value:r})],4),me(1,"h4","dms-heading",this._translate("End value"),0),me(1,"div","dms-fill-row dms-input-duration-edit-row",[mt(2,mi,{label:this._translate("Range end operator"),noInput:!0,onChange:this.onRangeEndTypeChange,options:f,value:u}),Wr("\xA0"),mt(2,vS,{label:this._translate("Range end value"),type:this._type,className:"range-end-duration-input",onInput:this.onRangeEndValueChange,value:s})],4)],4)}render(){let{type:r,comparisonOperator:s,startValue:l,endValue:u,rangeStartType:f,rangeEndType:p}=this.state,v=[{label:this._translate("Comparison"),value:ry},{label:this._translate("Range"),value:iy}];return me(1,"div","context-menu-container simple-duration-edit",[me(1,"h3","dms-heading",this._translate("Edit duration"),0),me(1,"div","dms-fill-row",mt(2,mi,{label:this._translate("Test type"),noInput:!0,onChange:this.onTypeChange,options:v,value:r}),2),r===ry&&this.renderComparison(s,l),r===iy&&this.renderRange(l,u,f,p)],0)}}function BVe(o){return o.col.businessObject.inputExpression.typeRef}class jVe extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._modeling=s.injector.get("modeling");let{element:l}=this.props.context;this._type=VVe(l);let u=s.injector.get("debounceInput");this.debouncedEditCell=u(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onInput=this.onInput.bind(this)}editCell(r,s){this._modeling.editCell(r,s)}onInput(r){let{element:s}=this.props.context;this.debouncedEditCell(s.businessObject,`duration("${r}")`)}render(){let r=poe(this.props.context.element.businessObject.text,this._type);return me(1,"div","context-menu-container simple-duration-edit",[me(1,"h3","dms-heading",this._translate("Edit duration"),0),me(1,"h4","dms-heading",this._translate("Set duration"),0),mt(2,vS,{label:this._translate("Duration value"),onInput:this.onInput,value:r,type:this._type,className:"dms-block"})],4)}}function VVe(o){return o.col.businessObject.typeRef}let zVe=(()=>{class o{constructor(s,l){l.registerProvider(u=>{let f=goe(u);return(Rn(u.col)||_o(u.col))&&voe(f)}),s.onGetComponent("context-menu",(u={})=>{if(u.contextMenuType&&u.contextMenuType==="simple-mode-edit"){if(!u.element)return;let f=goe(u.element);if(voe(f)){if(Rn(u.element.col))return FVe;if(_o(u.element.col))return jVe}}})}}return o.$inject=["components","simpleMode"],o})();function goe(o){return Rn(o.col)?o.col&&o.col.businessObject.inputExpression.typeRef:o.col&&o.col.businessObject.typeRef}let HVe=["yearMonthDuration","dayTimeDuration"];function voe(o){return HVe.includes(o)}var UVe={__depends__:[mf,ap],__init__:["simpleDurationEdit"],simpleDurationEdit:["type",zVe]};let qVe=/^(-?(?:[0-9]|\.[0-9])+)$|^((?:<|>|=){0,2})\s*(-?(?:[0-9]|\.[0-9])+)$/,WVe=/^(\[|\]){1}(-?(?:[0-9]|\.[0-9])+){1,}\.\.(-?(?:[0-9]|\.[0-9])+){1,}(\[|\]){1}$/,W9={equals:"=",less:"<",lessEquals:"<=",greater:">",greaterEquals:">="};function GVe(o){return F(W9).filter(r=>o===W9[r])[0]}function yoe(o){if(!o||QVe(o.trim()))return{type:"comparison"};let r=o.match(qVe),s=o.match(WVe);if(r){if(YVe(r))return{type:"comparison",value:parseFloat(r[1]),operator:"equals"};if(XVe(r))return{type:"comparison",value:parseFloat(r[3]),operator:GVe(r[2])}}else if(s)return{type:"range",values:[s[2],s[3]].map(l=>parseFloat(l)),start:s[1]==="]"?"exclude":"include",end:s[4]==="["?"exclude":"include"}}function QVe(o){return o===""}function YVe(o){return o[0]&&o[1]&&!o[2]&&!o[3]}function XVe(o){return o[0]&&!o[1]&&o[2]&&o[3]}function G9(o,r){return o==="equals"?`${r}`:`${W9[o]} ${r}`}function qx(o,r,s,l){return`${s==="exclude"?"]":"["}${o}..${r}${l==="exclude"?"[":"]"}`}let oy="comparison",sy="range";class KVe extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._modeling=s.injector.get("modeling");let{element:l}=this.props.context,u=yoe(l.businessObject.text);u?this.state={type:u.type,comparisonOperator:u.operator||"equals",comparisonValue:u.value||0,rangeStartValue:u.values?u.values[0]:0,rangeEndValue:u.values?u.values[1]:0,rangeStartType:u.start||"include",rangeEndType:u.end||"include"}:this.state={type:oy,comparisonOperator:"equals",comparisonValue:0,rangeStartValue:0,rangeEndValue:0,rangeStartType:"include",rangeEndType:"include"};let f=s.injector.get("debounceInput");this.debouncedEditCell=f(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onComparisonOperatorChange=this.onComparisonOperatorChange.bind(this),this.onComparisonValueChange=this.onComparisonValueChange.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onRangeStartTypeChange=this.onRangeStartTypeChange.bind(this),this.onRangeStartValueChange=this.onRangeStartValueChange.bind(this),this.onRangeEndTypeChange=this.onRangeEndTypeChange.bind(this),this.onRangeEndValueChange=this.onRangeEndValueChange.bind(this)}editCell(r,s){this._modeling.editCell(r,s)}onTypeChange(r){let{element:s}=this.props.context,{comparisonOperator:l,comparisonValue:u,rangeStartValue:f,rangeEndValue:p,rangeStartType:v,rangeEndType:y}=this.state;r===oy?this.editCell(s.businessObject,G9(l,u)):this.editCell(s.businessObject,qx(f,p,v,y)),this.setState({type:r})}onComparisonOperatorChange(r){let{element:s}=this.props.context,{type:l,comparisonValue:u}=this.state;l===oy&&(this.editCell(s.businessObject,G9(r,u)),this.setState({comparisonOperator:r}))}onComparisonValueChange(r){let{element:s}=this.props.context,{type:l,comparisonOperator:u}=this.state;l===oy&&(this.debouncedEditCell(s.businessObject,G9(u,r)),this.setState({comparisonValue:r}))}onRangeStartTypeChange(r){let{element:s}=this.props.context,{type:l,rangeStartValue:u,rangeEndValue:f,rangeEndType:p}=this.state;l===sy&&(this.editCell(s.businessObject,qx(u,f,r,p)),this.setState({rangeStartType:r}))}onRangeStartValueChange(r){let{element:s}=this.props.context,{type:l,rangeEndValue:u,rangeStartType:f,rangeEndType:p}=this.state;l===sy&&(this.editCell(s.businessObject,qx(r,u,f,p)),this.setState({rangeStartValue:r}))}onRangeEndTypeChange(r){let{element:s}=this.props.context,{type:l,rangeStartValue:u,rangeEndValue:f,rangeStartType:p}=this.state;l===sy&&(this.editCell(s.businessObject,qx(u,f,p,r)),this.setState({rangeEndType:r}))}onRangeEndValueChange(r){let{element:s}=this.props.context,{type:l,rangeStartValue:u,rangeStartType:f,rangeEndType:p}=this.state;l===sy&&(this.editCell(s.businessObject,qx(u,r,f,p)),this.setState({rangeEndValue:r}))}renderComparison(r,s){let l=[{label:this._translate("Equals"),value:"equals"},{label:this._translate("Less"),value:"less"},{label:this._translate("Less or equals"),value:"lessEquals"},{label:this._translate("Greater"),value:"greater"},{label:this._translate("Greater or equals"),value:"greaterEquals"}];return me(1,"div","comparison",[me(1,"h4","dms-heading",this._translate("Value"),0),me(1,"div","dms-fill-row",[mt(2,mi,{label:this._translate("Comparison operator"),noInput:!0,onChange:this.onComparisonOperatorChange,options:l,value:r}),Wr("\xA0"),mt(2,lf,{label:this._translate("Value"),className:"comparison-number-input",onInput:this.onComparisonValueChange,type:"number",value:s})],4)],4)}renderRange(r,s,l,u){let f=[{label:this._translate("Include"),value:"include"},{label:this._translate("Exclude"),value:"exclude"}];return me(1,"div","range",[me(1,"h4","dms-heading",this._translate("Start value"),0),me(1,"div","dms-fill-row",[mt(2,mi,{label:this._translate("Start value"),noInput:!0,onChange:this.onRangeStartTypeChange,options:f,value:l}),Wr("\xA0"),mt(2,lf,{className:"range-start-number-input",onInput:this.onRangeStartValueChange,type:"number",value:r})],4),me(1,"h4","dms-heading",this._translate("End value"),0),me(1,"div","dms-fill-row",[mt(2,mi,{label:this._translate("End value"),noInput:!0,onChange:this.onRangeEndTypeChange,options:f,value:u}),Wr("\xA0"),mt(2,lf,{className:"range-end-number-input",onInput:this.onRangeEndValueChange,type:"number",value:s})],4)],4)}render(){let{type:r,comparisonOperator:s,comparisonValue:l,rangeStartValue:u,rangeEndValue:f,rangeStartType:p,rangeEndType:v}=this.state,y=[{label:this._translate("Comparison"),value:oy},{label:this._translate("Range"),value:sy}];return me(1,"div","context-menu-container simple-number-edit",[me(1,"h3","dms-heading",this._translate("Edit number"),0),me(1,"div","dms-fill-row",mt(2,mi,{label:this._translate("Test type"),noInput:!0,onChange:this.onTypeChange,options:y,value:r}),2),r===oy&&this.renderComparison(s,l),r===sy&&this.renderRange(u,f,p,v)],0)}}class ZVe extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._modeling=s.injector.get("modeling");let{element:l}=this.props.context,u=yoe(l.businessObject.text);u?this.state={value:u.value}:this.state={value:""};let f=s.injector.get("debounceInput");this.debouncedEditCell=f(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onInput=this.onInput.bind(this)}editCell(r,s){this._modeling.editCell(r,s)}onInput(r){let{element:s}=this.props.context;this.debouncedEditCell(s.businessObject,r),this.setState({value:r})}render(){let{value:r}=this.state;return me(1,"div","context-menu-container simple-number-edit",[me(1,"h3","dms-heading",this._translate("Edit number"),0),me(1,"h4","dms-heading",this._translate("Set value"),0),mt(2,lf,{onInput:this.onInput,type:"number",value:r})],4)}}let JVe=(()=>{class o{constructor(s,l){l.registerProvider(u=>{let f=boe(u);return(Rn(u.col)||_o(u.col))&&xoe(f)}),s.onGetComponent("context-menu",(u={})=>{if(u.contextMenuType&&u.contextMenuType==="simple-mode-edit"){if(!u.element)return;let f=boe(u.element);if(xoe(f)){if(Rn(u.element.col))return KVe;if(_o(u.element.col))return ZVe}}})}}return o.$inject=["components","simpleMode"],o})();function boe(o){return Rn(o.col)?o.col&&o.col.businessObject.inputExpression.typeRef:o.col&&o.col.businessObject.typeRef}let eze=["number","integer","long","double"];function xoe(o){return eze.includes(o)}var tze={__depends__:[mf,ap],__init__:["simpleNumberEdit"],simpleNumberEdit:["type",JVe]};function yS(o){if(!o||Eoe(o.trim()))return{type:"disjunction",values:[]};let r=o.split(","),s={type:"disjunction",values:[]},l="";if(r.forEach(f=>{l+=f,/^"[^"]*"$/.test(l.trim())?(s.values.push(l.trim()),l=""):l+=","}),!l)return s;s.type="negation",s.values=[],l="";let u=o.match(/^\s*not\((.*)\)\s*$/);if(u&&(r=u[1].split(","),r.forEach(f=>{l+=f,/^"[^"]*"$/.test(l.trim())?(s.values.push(l.trim()),l=""):l+=","}),!l))return s}function nze(o){let r=Rn(o)?o.inputValues:o.outputValues;return!r||Eoe(r.text)?[]:r.text.split(",").map(s=>s.trim())}function Eoe(o){return o===""}let Km="disjunction",bS="negation",rze="Predefined values",ize="Predefined values",oze="Custom values";class sze extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._modeling=s.injector.get("modeling");let l=yS(r.context.element.businessObject.text);l||(l={values:[],type:Km});let u=nze(r.context.element.col.businessObject),f=l.values.filter(w=>!Y9(u,w)),p=Rn(r.context.element.col),v=u.map(w=>({value:w,isChecked:Y9(l.values,w),isRemovable:!1,group:p?this._translate(rze):this._translate(ize)}));p&&(v=v.concat(f.map(w=>({value:w,isChecked:!0,isRemovable:!0,group:this._translate(oze)}))));let y="";!p&&l.values.length&&!Y9(u,l.values[0])&&(y=l.values[0]),this.state={items:v,unaryTestsType:l.type,inputValue:y,isOutputValueInputChecked:y!==""};let x=s.injector.get("debounceInput");this.debouncedEditCell=x(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.addUnaryTestsListItem=this.addUnaryTestsListItem.bind(this),this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onOutputValueInputClick=this.onOutputValueInputClick.bind(this),this.onUnaryTestsListChanged=this.onUnaryTestsListChanged.bind(this),this.onUnaryTestsTypeChange=this.onUnaryTestsTypeChange.bind(this)}editCell(r,s){this._modeling.editCell(r,s)}onUnaryTestsTypeChange(r){let{items:s}=this.state,l=Q9(s),{element:u}=this.props.context;r===Km?(this.editCell(u.businessObject,l.join(",")),this.setState({unaryTestsType:Km})):(this.editCell(u.businessObject,`not(${l.join(",")})`),this.setState({unaryTestsType:bS}))}onUnaryTestsListChanged(r){let s=Q9(r),{element:l}=this.props.context,{unaryTestsType:u}=this.state;u===Km?this.editCell(l.businessObject,s.join(",")):this.editCell(l.businessObject,`not(${s.join(",")})`),this.setState({items:r,isOutputValueInputChecked:!1})}onOutputValueInputClick(){let{element:r}=this.props.context,{inputValue:s,items:l}=this.state,u=yS(s);!u||u.values.length>1||(this.editCell(r.businessObject,`${u.values.join("")}`),this.setState({items:l.map(f=>(f.isChecked=!1,f)),isOutputValueInputChecked:!0}))}onInput({isValid:r,value:s}){let{isOutputValueInputChecked:l}=this.state;this.setState({inputValue:s});let{element:u}=this.props.context;!Rn(u)&&r&&l&&this.debouncedEditCell(u.businessObject,s)}onKeyDown({isValid:r,event:s}){if(!aze(s.keyCode))return;let{element:l}=this.props.context,u=Rn(l.col);(u||!r)&&(s.stopPropagation(),s.preventDefault()),r&&(u?this.addUnaryTestsListItem():this.onOutputValueInputClick())}addUnaryTestsListItem(){let{inputValue:r,items:s,unaryTestsType:l}=this.state,u=yS(r);if(!u)return;let{element:f}=this.props.context,p=Q9(s),v=[].concat(p,u.values);l===Km?this.editCell(f.businessObject,v.join(",")):this.editCell(f.businessObject,`not(${v.join(",")})`);let y=s.concat(u.values.map(x=>({value:x,isChecked:!0,isRemovable:!0,group:this._translate("Custom values")})));this.setState({items:y,inputValue:""})}render(){let{element:r}=this.props.context,{inputValue:s,isOutputValueInputChecked:l,items:u,unaryTestsType:f}=this.state,p=[{label:this._translate("Match one"),value:Km},{label:this._translate("Match none"),value:bS}],v=Rn(r.col),y=f===bS,x=!v&&u.length>0;return me(1,"div","simple-string-edit context-menu-container",[me(1,"h3","dms-heading",this._translate("Edit string"),0),v&&me(1,"p",null,mt(2,mi,{label:this._translate("String value"),noInput:!0,onChange:this.onUnaryTestsTypeChange,options:p,value:y?bS:Km},null,w=>this.selectNode=w),2),mt(2,Vie,{onChange:this.onUnaryTestsListChanged,items:u,type:v?"checkbox":"radio"}),v?me(1,"h4","dms-heading",this._translate("Add values"),0):me(1,"h4","dms-heading",this._translate("Set value"),0),me(1,"div","dms-fill-row",[x&&me(64,"input","cursor-pointer",null,1,{checked:l,onClick:this.onOutputValueInputClick,type:"radio",style:{marginRight:"8px"}}),mt(2,jl,{label:v?this._translate("Values"):this._translate("Value"),className:"dms-block",onKeyDown:this.onKeyDown,onInput:this.onInput,placeholder:v?this._translate('"value", "value", ...'):this._translate('"value"'),type:"text",validate:w=>{if(!yS(w))return this._translate("Strings must be in double quotes")},value:s})],0)],0)}}function aze(o){return o===13}function Q9(o){return o.filter(r=>r.isChecked).map(r=>r.value)}function Y9(o,r){return o.indexOf(r)!==-1}let lze=(()=>{class o{constructor(s,l){l.registerProvider(u=>(Rn(u.col)||_o(u.col))&&woe(u)==="string"),s.onGetComponent("context-menu",(u={})=>{if(u.contextMenuType&&u.contextMenuType==="simple-mode-edit"){if(!u.element)return;if(woe(u.element)==="string")return sze}})}}return o.$inject=["components","simpleMode"],o})();function woe(o){return Rn(o.col)?o.col&&o.col.businessObject.inputExpression.typeRef:o.col&&o.col.businessObject.typeRef}var cze={__depends__:[mf,ap],__init__:["simpleStringEdit"],simpleStringEdit:["type",lze]};let uze=/^(?:\d\d:){2}\d\d(?:Z|(?:[@+-][^")]+))?$/,dze=/^\[time\("([^"]*)"\)..time\("([^"]*)"\)\]$/,fze=/^(<|>)\s*time\("([^"]*)"\)$/,hze=/^time\("([^"]*)"\)$/,pze="exact",mze="before",gze="after",vze="between";function ay(o){if(!uze.test(o.trim()))return"Time must match pattern hh:mm:ss[time zone]"}function up(o,r){if(o===pze)return`time("${r[0]}")`;if(o===mze)return`< time("${r[0]}")`;if(o===gze)return`> time("${r[0]}")`;if(o===vze)return`[time("${r[0]}")..time("${r[1]}")]`}function X9(){return new Date().toISOString().slice(11,-5)+"Z"}function Wx(o){if(!o||o.trim()==="")return{type:"exact",time:""};let r=o.match(dze);if(r)return{type:"between",times:[r[1],r[2]]};if(r=o.match(fze),r)return{type:r[1]==="<"?"before":"after",time:r[2]};if(r=o.match(hze),r)return{type:"exact",time:r[1]}}let _oe="exact",yze="before",bze="after",xS="between";class xze extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._modeling=s.injector.get("modeling");let{element:l}=this.props.context,u=Wx(l.businessObject.text);if(u){let p;u.time?p=[u.time,""]:u.times?p=u.times:p=["",""],this.state={type:u.type,times:p}}else this.state={type:_oe,times:["",""]};let f=s.injector.get("debounceInput");this.debouncedEditCell=f(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onSetStartTimeNowClick=this.onSetStartTimeNowClick.bind(this),this.onSetEndTimeNowClick=this.onSetEndTimeNowClick.bind(this),this.onStartTimeInput=this.onStartTimeInput.bind(this),this.onEndTimeInput=this.onEndTimeInput.bind(this)}editCell(r,s){this._modeling.editCell(r,s)}onTypeChange(r){let{element:s}=this.props.context,{times:l}=this.state;this.setState({type:r}),Wx(up(r,l))&&this.editCell(s.businessObject,up(r,l))}onSetStartTimeNowClick(){let{element:r}=this.props.context,{times:s,type:l}=this.state,u=X9();this.setState({times:[u,s[1]]}),Wx(up(l,[u,s[1]]))&&this.editCell(r.businessObject,up(l,[u,s[1]]))}onSetEndTimeNowClick(){let{element:r}=this.props.context,{times:s,type:l}=this.state,u=X9();this.setState({times:[s[0],u]}),Wx(up(l,[s[0],u]))&&this.editCell(r.businessObject,up(l,[s[0],u]))}onStartTimeInput({value:r}){let{element:s}=this.props.context,{times:l,type:u}=this.state;this.setState({times:[r,l[1]]}),this.debouncedEditCell(s.businessObject,up(u,[r,l[1]]))}onEndTimeInput({value:r}){let{element:s}=this.props.context,{times:l,type:u}=this.state;this.setState({times:[l[0],r]}),this.debouncedEditCell(s.businessObject,up(u,[l[0],r]))}render(){let{times:r,type:s}=this.state,l=[{label:this._translate("Exactly"),value:_oe},{label:this._translate("Before"),value:yze},{label:this._translate("After"),value:bze},{label:this._translate("Between"),value:xS}];return me(1,"div","context-menu-container simple-time-edit",[me(1,"h3","dms-heading",this._translate("Edit time"),0),me(1,"div","dms-fill-row",mt(2,mi,{label:this._translate("Time"),noInput:!0,onChange:this.onTypeChange,options:l,value:s}),2),me(1,"h4","dms-heading",s===xS?this._translate("Edit start time"):this._translate("Set time"),0),me(1,"div",null,[mt(2,jl,{label:this._translate("Start time"),className:"start-time-input dms-block",onInput:this.onStartTimeInput,placeholder:this._translate("e.g. { example } ",{example:gf()}),validate:u=>ay(u)&&this._translate(ay(u)),value:r[0]}),me(1,"p","dms-hint",[me(1,"button","use-now",this._translate("Use now"),0,{type:"button",onClick:this.onSetStartTimeNowClick}),Wr(".")],4)],4),s===xS&&me(1,"h4","dms-heading",this._translate("Edit end time"),0),s===xS&&me(1,"div",null,[mt(2,jl,{label:this._translate("End time"),className:"end-time-input dms-block",onInput:this.onEndTimeInput,placeholder:this._translate("e.g. { example } ",{example:gf()}),validate:u=>ay(u)&&this._translate(ay(u)),value:r[1]}),me(1,"p","dms-hint",[me(1,"button","use-now",this._translate("Use now"),0,{type:"button",onClick:this.onSetEndTimeNowClick}),Wr(".")],4)],4)],0)}}class Eze extends Nt{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._modeling=s.injector.get("modeling");let{element:l}=this.props.context,u=Wx(l.businessObject.text);this.state={date:u?u.date:""};let f=s.injector.get("debounceInput");this.debouncedEditCell=f(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onClick=this.onClick.bind(this),this.onInput=this.onInput.bind(this)}editCell(r,s){this._modeling.editCell(r,s)}onClick(){let{element:r}=this.props.context,s=X9();this.setState({date:s}),this.editCell(r.businessObject,`time("${s}")`)}onInput({value:r}){let{element:s}=this.props.context;this.setState({date:r}),this.debouncedEditCell(s.businessObject,`time("${r}")`)}render(){let{date:r}=this.state;return me(1,"div","context-menu-container simple-time-edit",[me(1,"h3","dms-heading",this._translate("Edit time"),0),me(1,"h4","dms-heading",this._translate("Set time"),0),me(1,"div",null,[mt(2,jl,{label:this._translate("Time value"),onInput:this.onInput,placeholder:this._translate("e.g. { example } ",{example:gf()}),validate:s=>ay(s)&&this._translate(ay(s)),value:r,className:"dms-block"}),me(1,"p","dms-hint",[me(1,"button","use-now",this._translate("Use now"),0,{type:"button",onClick:this.onClick}),Wr(".")],4)],4)],4)}}let wze=(()=>{class o{constructor(s,l){l.registerProvider(u=>{let f=Coe(u);return(Rn(u.col)||_o(u.col))&&Soe(f)}),s.onGetComponent("context-menu",(u={})=>{if(u.contextMenuType&&u.contextMenuType==="simple-mode-edit"){if(!u.element)return;let f=Coe(u.element);if(Soe(f)){if(Rn(u.element.col))return xze;if(_o(u.element.col))return Eze}}})}}return o.$inject=["components","simpleMode"],o})();function Coe(o){return Rn(o.col)?o.col&&o.col.businessObject.inputExpression.typeRef:o.col&&o.col.businessObject.typeRef}function Soe(o){return o==="time"}var _ze={__depends__:[mf,ap],__init__:["simpleTimeEdit"],simpleTimeEdit:["type",wze]};let Cze=(()=>{class o extends Nt{constructor(s,l){super(s,l),jo(this)}componentDidMount(){let s=this.getRoot();this.changeSupport.onElementsChanged(s,this.onElementsChanged)}componentWillUnmount(){let s=this.getRoot();this.changeSupport.offElementsChanged(s,this.onElementsChanged)}getRoot(){return this.sheet.getRoot()}onElementsChanged=()=>{this.forceUpdate()};handleMouseDown=s=>{let l=Bo(s.target,"th",!1);Sze({node:l,event:s,minWidth:this.props.minWidth||150,onEnd:this.saveWidth})};saveWidth=s=>{let{col:l}=this.props,u={};we(l,"dmn:DecisionTable")?u.annotationsWidth=s:u.width=s,this.modeling.updateProperties(l,u)};isLastInputOrOutput(){let{col:s}=this.props,l=this.getRoot(),u=bc(l);if(we(s,"dmn:InputClause")){let f=u.get("input");return f.indexOf(s)===f.length-1}else if(we(s,"dmn:OutputClause")){let f=u.get("output");return f.indexOf(s)===f.length-1}}render(){let s=this.isLastInputOrOutput()?{right:"-7px",width:"27px"}:null;return me(1,"div","resize-column-handle",null,1,{onMouseDown:this.handleMouseDown,title:this.translate("Resize"),style:s})}}return o.$inject=["sheet","changeSupport","translate","modeling"],o})();function Sze({node:o,event:r,minWidth:s,onEnd:l=Oze}){r.preventDefault();let u=o.getBoundingClientRect().width,f=r.clientX,p;document.addEventListener("mousemove",v),document.addEventListener("mouseup",y);function v(w){w.preventDefault();let C=x(w.clientX);p&&cancelAnimationFrame(p),p=requestAnimationFrame(()=>{o.style.width=C+"px"})}function y(w){w.preventDefault(),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y);let C=x(w.clientX);l(C)}function x(w){let C=w-f;return Math.max(u+C,s)}}function Oze(){}function Ooe(o){o.onGetComponent("cell-inner",(r={})=>{let{cellType:s}=r;if(s==="input-cell"||s==="output-cell"||s==="annotations")return Cze})}Ooe.$inject=["components"];var Dze={__init__:["columnResizeProvider"],columnResizeProvider:["type",Ooe]};let Tze=class z1e extends FJ{getModules(){return[...FJ._getModules(),...z1e._getModules()]}static _getModules(){return[EMe,NMe,t6,qh,nee,HMe,GMe,r6,nAe,Ov,HBe,Dze,oje,fje,hje,Hh,mf,bje,oee,wje,IA,Nje,zje,ZC,ap,nVe,mVe,TVe,UVe,tze,cze,_ze,KM]}},kze=(()=>{class o{constructor(s){this._listeners={},s.on("elements.changed",({elements:l})=>{this.elementsChanged(l)}),s.on("element.updateId",({element:l,newId:u})=>{this.updateId(l.id,u)})}elementsChanged(s){let l={},u=s.length;for(let f=0;f<u;f++){let{id:p}=s[f];if(l[p])return;l[p]=!0;let v=this._listeners[p]&&this._listeners[p].length;if(v)for(let y=0;y<v;y++)this._listeners[p][y]&&this._listeners[p][y]()}}onElementsChanged(s,l){this._listeners[s]||(this._listeners[s]=[]),this._listeners[s][this._listeners[s].length]=l}offElementsChanged(s,l){if(this._listeners[s])if(l){let u=this._listeners[s].indexOf(l);u!==-1&&this._listeners[s].splice(u,1)}else this._listeners[s].length=0}updateId(s,l){this._listeners[s]&&(this._listeners[l]=this._listeners[s],delete this._listeners[s])}}return o.$inject=["eventBus"],o})(),Pze=1e3;class Ize{constructor(){this._listeners={}}getComponent(r,s){let l=this._listeners[r];if(!l)return;let u;for(let f=0;f<l.length&&(u=l[f].callback(s),!u);f++);return u}getComponents(r,s){let l=this._listeners[r];if(!l)return;let u=[];for(let f=0;f<l.length;f++){let p=l[f].callback(s);p&&u.push(p)}if(u.length)return u}onGetComponent(r,s,l){if(g(s)&&(l=s,s=Pze),!m(s))throw new Error("priority must be a number");let u=this._getListeners(r),f,p,v={priority:s,callback:l};for(p=0;f=u[p];p++)if(f.priority<s){u.splice(p,0,v);return}u.push(v)}offGetComponent(r,s){let l=this._getListeners(r),u,f,p;if(s)for(p=l.length-1;u=l[p];p--)f=u.callback,f===s&&l.splice(p,1);else l.length=0}_getListeners(r){let s=this._listeners[r];return s||(this._listeners[r]=s=[]),s}}class Mze extends Su{constructor(r){super(r);let s=this._injector=r.injector;this._changeSupport=s.get("changeSupport"),this._components=s.get("components"),this._renderer=s.get("renderer")}getChildContext(){return{changeSupport:this._changeSupport,components:this._components,renderer:this._renderer,injector:this._injector}}render(){let r=this._components.getComponents("viewer");return di(1,"div","viewer-container",r&&r.map((s,l)=>om(2,s,null,l)),0)}}var Aze={__init__:["changeSupport","components","renderer"],changeSupport:["type",kze],components:["type",Ize],eventBus:["type",de],renderer:["type",(()=>{class o{constructor(s,l,u,f,p){let{container:v}=u;this._container=v,f.on("renderer.mount",()=>{AQ(om(2,Mze,{injector:p}),v)}),f.on("renderer.unmount",()=>{AQ(null,v)})}getContainer(){return this._container}}return o.$inject=["changeSupport","components","config.renderer","eventBus","injector"],o})()]};let Doe=class{constructor(r={}){let{injector:s}=r;if(!s){let{modules:l,config:u}=this._init(r);s=Rze(u,l)}this.get=s.get,this.invoke=s.invoke,this.get("eventBus").fire("viewer.init")}_init(r){let u=r,{modules:s}=u,l=Ae(u,["modules"]);return{modules:s,config:l}}destroy(){this.get("eventBus").fire("viewer.destroy")}clear(){this.get("eventBus").fire("viewer.clear")}};function Rze(o,r){let s=[{config:["value",o]},Aze].concat(r||[]),l=new y_(s);return l.init(),l}let Toe=class{constructor(r,s){this._eventBus=s,this._viewer=r}getDecision(){return this._viewer.getDecision()}updateId(r,s){var l=this.getDecision();if(r!==l)throw new Error("element !== decision");this._eventBus.fire("element.updateId",{element:r,newId:s}),r.id=s}};Toe.$inject=["viewer","eventBus"];var Lze={__init__:["elementRegistry"],elementRegistry:["type",Toe]},koe="$NO_OP",$ze="a runtime error occured! Use Inferno in development environment to find the error.",Nze=!!(typeof window<"u"&&window.document),Zm=Array.isArray;function ly(o){var r=typeof o;return r==="string"||r==="number"}function Sn(o){return ES(o)||ao(o)}function dp(o){return ao(o)||o===!1||Fze(o)||ES(o)}function zn(o){return typeof o=="function"}function fp(o){return typeof o=="string"}function K9(o){return typeof o=="number"}function ao(o){return o===null}function Fze(o){return o===!0}function ES(o){return o===void 0}function Bze(o){return typeof o=="object"}function vs(o){throw o||(o=$ze),new Error("Inferno Error: "+o)}function Z9(o){console.error(o)}function wS(o,r){var s={};if(o)for(var l in o)s[l]=o[l];if(r)for(var u in r)s[u]=r[u];return s}function vf(o){var r;if(Zm(o)){var s=o.length>3?o.slice(0,3).toString()+",...":o.toString();r="Array("+s+")"}else if(ly(o))r="Text("+o+")";else if(dp(o))r="InvalidVNode("+o+")";else{var l=o.flags;if(l&481)r="<"+o.type+(o.className?' class="'+o.className+'"':"")+">";else if(l&16)r="Text("+o.children+")";else if(l&1024)r="Portal*";else{var u=o.type,f=u.name||u.displayName||u.constructor.name||(u.toString().match(/^function\s*([^\s(]+)/)||[])[1];r="<"+f+" />"}}return">> "+r+`
`}function J9(o,r){for(var s={},l=0,u=o.length;l<u;l++){var f=o[l];if(Zm(f))return`Encountered ARRAY in mount, array must be flattened, or normalize used. Location: 
`+vf(f);if(dp(f)){if(r)return`Encountered invalid node when preparing to keyed algorithm. Location: 
`+vf(f);if(Object.keys(s).length!==0)return`Encountered invalid node with mixed keys. Location: 
`+vf(f);continue}typeof f=="object"&&(f.isValidated=!0);var p=f.key;if(!Sn(p)&&!ly(p))return`Encountered child vNode where key property is not string or number. Location: 
`+vf(f);var v=f.children,y=f.childFlags;if(!dp(v)){var x=void 0;if(y&12?x=J9(v,f.childFlags&8):y===2&&(x=J9([v],f.childFlags&8)),x)return x+=vf(f),x}if(r&&Sn(p))return`Encountered child without key during keyed algorithm. If this error points to Array make sure children is flat list. Location: 
`+vf(f);if(!r&&Sn(p)){if(Object.keys(s).length!==0)return`Encountered children with key missing. Location: 
`+vf(f);continue}if(s[p])return"Encountered two children with same key: {"+p+`}. Location: 
`+vf(f);s[p]=!0}}function Poe(o){{if(o.childFlags&1)return;if(o.flags&64&&vs("input elements can't have children."),o.flags&128&&vs("textarea elements can't have children."),o.flags&481){var r=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],s=o.type.toLowerCase();s==="media"&&vs("media elements can't have children.");var l=r.indexOf(s);l!==-1&&vs(r[l]+" elements can't have children.")}}}function Ioe(o){{if(o.isValidated===!1&&o.children&&o.flags&481){var r=J9(Array.isArray(o.children)?o.children:[o.children],(o.childFlags&8)>0);r&&vs(r+vf(o))}o.isValidated=!0}}var Gx="$";function eL(o,r,s,l,u,f,p,v){return{childFlags:o,children:r,className:s,dom:null,flags:l,isValidated:!1,key:u===void 0?null:u,parentVNode:null,props:f===void 0?null:f,ref:p===void 0?null:p,type:v}}function yn(o,r,s,l,u,f,p,v){o&14&&vs("Creating Component vNodes using createVNode is not allowed. Use Inferno.createComponentVNode method.");var y=u===void 0?1:u,x=eL(y,l,s,o,p,f,v,r);return y===0&&jze(x,x.children),Poe(x),x}function hp(o,r,s,l,u){o&1&&vs("Creating element vNodes using createComponentVNode is not allowed. Use Inferno.createVNode method."),(o&2)>0&&(o=r.prototype&&zn(r.prototype.render)?4:8);var f=r.defaultProps;if(!Sn(f)){s||(s={});for(var p in f)ES(s[p])&&(s[p]=f[p])}if((o&8)>0){var v=r.defaultHooks;if(!Sn(v))if(!u)u=v;else for(var y in v)ES(u[y])&&(u[y]=v[y])}var x=eL(1,null,null,o,l,s,u,r),w=yf.createVNode;return zn(w)&&w(x),x}function Jm(o,r){return eL(1,Sn(o)?"":o,null,16,r,null,null,null)}function ha(o){var r,s=o.flags;if(s&14){var l,u=o.props;if(!ao(u)){l={};for(var f in u)l[f]=u[f]}r=hp(s,o.type,l,o.key,o.ref)}else s&481?r=yn(s,o.type,o.className,o.children,o.childFlags,o.props,o.key,o.ref):s&16?r=Jm(o.children,o.key):s&1024&&(r=o);return r}function Moe(){return Jm("",null)}function Aoe(o,r,s,l){for(var u=o.length;s<u;s++){var f=o[s];if(!dp(f)){var p=l+Gx+s;if(Zm(f))Aoe(f,r,0,p);else{if(ly(f))f=Jm(f,p);else{var v=f.key,y=fp(v)&&v[0]===Gx;(!ao(f.dom)||y)&&(f=ha(f)),ao(v)||y?f.key=p:f.key=l+v}r.push(f)}}}}function jze(o,r){var s,l=1;if(dp(r))s=r;else if(fp(r))l=2,s=Jm(r);else if(K9(r))l=2,s=Jm(r+"");else if(Zm(r)){var u=r.length;if(u===0)s=null,l=1;else{(Object.isFrozen(r)||r.$===!0)&&(r=r.slice()),l=8;for(var f=0;f<u;f++){var p=r[f];if(dp(p)||Zm(p)){s=s||r.slice(0,f),Aoe(r,s,f,"");break}else if(ly(p))s=s||r.slice(0,f),s.push(Jm(p,Gx+f));else{var v=p.key,y=ao(p.dom),x=ao(v),w=!x&&fp(v)&&v[0]===Gx;!y||x||w?(s=s||r.slice(0,f),(!y||w)&&(p=ha(p)),(x||w)&&(p.key=Gx+f),s.push(p)):s&&s.push(p)}}s=s||r,s.$=!0}}else s=r,ao(r.dom)||(s=ha(r)),l=2;return o.children=s,o.childFlags=l,Poe(o),o}var yf={afterRender:null,beforeRender:null,createVNode:null,renderComplete:null},eg="http://www.w3.org/1999/xlink",tL="http://www.w3.org/XML/1998/namespace",Vze="http://www.w3.org/2000/svg",Roe={"xlink:actuate":eg,"xlink:arcrole":eg,"xlink:href":eg,"xlink:role":eg,"xlink:show":eg,"xlink:title":eg,"xlink:type":eg,"xml:base":tL,"xml:lang":tL,"xml:space":tL},Us={},cy=[];Object.freeze(Us);function _S(o,r){o.appendChild(r)}function CS(o,r,s){Sn(s)?_S(o,r):o.insertBefore(r,s)}function zze(o,r){return r?document.createElementNS(Vze,o):document.createElement(o)}function Hze(o,r,s){o.replaceChild(r,s)}function Uze(o,r){o.removeChild(r)}function qze(o){for(var r;(r=o.shift())!==void 0;)r()}var SS={},nL={};function Loe(o,r,s){var l=SS[o],u=s.$EV;r?(l||(nL[o]=Yze(o),SS[o]=0),u||(u=s.$EV={}),u[o]||SS[o]++,u[o]=r):u&&u[o]&&(SS[o]--,l===1&&(document.removeEventListener($oe(o),nL[o]),nL[o]=null),u[o]=r)}function Wze(o){return zn(o.composedPath)?o.composedPath()[0]:o.target}function Gze(o,r,s,l){for(var u=Wze(o);!ao(u);){if(r&&u.disabled)return;var f=u.$EV;if(f){var p=f[s];if(p&&(l.dom=u,p.event?p.event(p.data,o):p(o),o.cancelBubble))return}u=u.parentNode}}function $oe(o){return o.substr(2).toLowerCase()}function Qze(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function Yze(o){var r=function(l){var u=l.type,f=u==="click"||u==="dblclick";if(f&&l.button!==0)return l.stopPropagation(),!1;l.stopPropagation=Qze;var p={dom:document};Object.defineProperty(l,"currentTarget",{configurable:!0,get:function(){return p.dom}}),Gze(l,f,o,p)};return document.addEventListener($oe(o),r),r}function Xze(o,r){var s=document.createElement("i");return s.innerHTML=r,s.innerHTML===o.innerHTML}function Noe(o,r,s){if(o[r]){var l=o[r];l.event?l.event(l.data,s):l(s)}else{var u=r.toLowerCase();o[u]&&o[u](s)}}function Qx(o,r){var s=function(u){u.stopPropagation();var f=this.$V;if(f){var p=f.props||Us,v=f.dom;if(fp(o))Noe(p,o,u);else for(var y=0;y<o.length;y++)Noe(p,o[y],u);if(zn(r)){var x=this.$V,w=x.props||Us;r(w,v,!1,x)}}};return Object.defineProperty(s,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),s}function rL(o){return o==="checkbox"||o==="radio"}var Kze=Qx("onInput",iL),Zze=Qx(["onClick","onChange"],iL);function Foe(o){o.stopPropagation()}Foe.wrapped=!0;function Jze(o,r){rL(r.type)?(o.onchange=Zze,o.onclick=Foe):o.oninput=Kze}function iL(o,r){var s=o.type,l=o.value,u=o.checked,f=o.multiple,p=o.defaultValue,v=!Sn(l);s&&s!==r.type&&r.setAttribute("type",s),!Sn(f)&&f!==r.multiple&&(r.multiple=f),!Sn(p)&&!v&&(r.defaultValue=p+""),rL(s)?(v&&(r.value=l),Sn(u)||(r.checked=u)):v&&r.value!==l?(r.defaultValue=l,r.value=l):Sn(u)||(r.checked=u)}function Boe(o,r){var s=o.type;if(s==="optgroup"){var l=o.children,u=o.childFlags;if(u&12)for(var f=0,p=l.length;f<p;f++)oL(l[f],r);else u===2&&oL(l,r)}else oL(o,r)}function oL(o,r){var s=o.props||Us,l=o.dom;l.value=s.value,Zm(r)&&r.indexOf(s.value)!==-1||s.value===r?l.selected=!0:(!Sn(r)||!Sn(s.selected))&&(l.selected=s.selected||!1)}var eHe=Qx("onChange",joe);function tHe(o){o.onchange=eHe}function joe(o,r,s,l){var u=!!o.multiple;!Sn(o.multiple)&&u!==r.multiple&&(r.multiple=u);var f=l.childFlags;if(!(f&1)){var p=l.children,v=o.value;if(s&&Sn(v)&&(v=o.defaultValue),f&12)for(var y=0,x=p.length;y<x;y++)Boe(p[y],v);else f===2&&Boe(p,v)}}var nHe=Qx("onInput",Voe),rHe=Qx("onChange");function iHe(o,r){o.oninput=nHe,r.onChange&&(o.onchange=rHe)}function Voe(o,r,s){var l=o.value,u=r.value;if(Sn(l)){if(s){var f=o.defaultValue;!Sn(f)&&f!==u&&(r.defaultValue=f,r.value=f)}}else u!==l&&(r.defaultValue=l,r.value=l)}function zoe(o,r,s,l,u,f){o&64?iL(l,s):o&256?joe(l,s,u,r):o&128&&Voe(l,s,u),f&&(s.$V=r)}function oHe(o,r,s){o&64?Jze(r,s):o&256?tHe(r):o&128&&iHe(r,s)}function Hoe(o){return o.type&&rL(o.type)?!Sn(o.checked):!Sn(o.value)}function Ic(o,r){tg(o),r&&o.dom&&(Uze(r,o.dom),o.dom=null)}function tg(o){var r=o.flags;if(r&481){var s=o.ref,l=o.props;zn(s)&&s(null);var u=o.children,f=o.childFlags;if(f&12?sL(u):f===2&&tg(u),!ao(l))for(var p in l)switch(p){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":Loe(p,null,o.dom);break}}else{var v=o.children;if(v)if(r&14){var y=o.ref;r&4?(zn(v.componentWillUnmount)&&v.componentWillUnmount(),zn(y)&&y(null),v.$UN=!0,v.$LI&&tg(v.$LI)):(!Sn(y)&&zn(y.onComponentWillUnmount)&&y.onComponentWillUnmount(o.dom,o.props||Us),tg(v))}else r&1024&&Ic(v,o.type)}}function sL(o){for(var r=0,s=o.length;r<s;r++)tg(o[r])}function OS(o,r){sL(r),o.textContent=""}function sHe(o,r){return function(s){o(r.data,s)}}function aHe(o,r,s){var l=o.toLowerCase();if(!zn(r)&&!Sn(r)){var u=r.event;u&&zn(u)?s[l]=sHe(u,r):vs('an event on a VNode "'+o+'". was not a function or a valid linkEvent.')}else{var f=s[l];(!f||!f.wrapped)&&(s[l]=r)}}function Uoe(o,r){switch(o){case"animationIterationCount":case"borderImageOutset":case"borderImageSlice":case"borderImageWidth":case"boxFlex":case"boxFlexGroup":case"boxOrdinalGroup":case"columnCount":case"fillOpacity":case"flex":case"flexGrow":case"flexNegative":case"flexOrder":case"flexPositive":case"flexShrink":case"floodOpacity":case"fontWeight":case"gridColumn":case"gridRow":case"lineClamp":case"lineHeight":case"opacity":case"order":case"orphans":case"stopOpacity":case"strokeDasharray":case"strokeDashoffset":case"strokeMiterlimit":case"strokeOpacity":case"strokeWidth":case"tabSize":case"widows":case"zIndex":case"zoom":return r;default:return r+"px"}}function lHe(o,r,s){var l=s.style,u,f;if(fp(r)){l.cssText=r;return}if(!Sn(o)&&!fp(o)){for(u in r)f=r[u],f!==o[u]&&(l[u]=K9(f)?Uoe(u,f):f);for(u in o)Sn(r[u])&&(l[u]="")}else for(u in r)f=r[u],l[u]=K9(f)?Uoe(u,f):f}function aL(o,r,s,l,u,f,p){switch(o){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":Loe(o,s,l);break;case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":break;case"autoFocus":l.autofocus=!!s;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":l[o]=!!s;break;case"defaultChecked":case"value":case"volume":if(f&&o==="value")return;var v=Sn(s)?"":s;l[o]!==v&&(l[o]=v);break;case"dangerouslySetInnerHTML":var y=r&&r.__html||"",x=s&&s.__html||"";y!==x&&!Sn(x)&&!Xze(l,x)&&(ao(p)||(p.childFlags&12?sL(p.children):p.childFlags===2&&tg(p.children),p.children=null,p.childFlags=1),l.innerHTML=x);break;default:o[0]==="o"&&o[1]==="n"?aHe(o,s,l):Sn(s)?l.removeAttribute(o):o==="style"?lHe(r,s,l):u&&Roe[o]?l.setAttributeNS(Roe[o],o,s):l.setAttribute(o,s);break}}function cHe(o,r,s,l,u){var f=!1,p=(r&448)>0;p&&(f=Hoe(s),f&&oHe(r,l,s));for(var v in s)aL(v,null,s[v],l,u,f,null);p&&zoe(r,o,l,s,!0,f)}function uHe(o,r,s,l){var u=new r(s,l);if(o.children=u,u.$V=o,u.$BS=!1,u.context=l,u.props===Us&&(u.props=s),u.$UN=!1,zn(u.componentWillMount)){if(u.$BR=!0,u.componentWillMount(),u.$PSS){var f=u.state,p=u.$PS;if(ao(f))u.state=p;else for(var v in p)f[v]=p[v];u.$PSS=!1,u.$PS=null}u.$BR=!1}zn(yf.beforeRender)&&yf.beforeRender(u);var y=DS(u.render(s,u.state,l),o),x;return zn(u.getChildContext)&&(x=u.getChildContext()),Sn(x)?u.$CX=l:u.$CX=wS(l,x),zn(yf.afterRender)&&yf.afterRender(u),u.$LI=y,u}function DS(o,r){return Zm(o)&&vs("a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object."),dp(o)?o=Moe():ly(o)?o=Jm(o,null):(o.dom&&(o=ha(o)),o.flags&14&&(o.parentVNode=r)),o}function Vl(o,r,s,l){var u=o.flags;if(u&481)return dHe(o,r,s,l);if(u&14)return fHe(o,r,s,l,(u&4)>0);if(u&512||u&16)return qoe(o,r);if(u&1024)return Vl(o.children,o.type,s,!1),o.dom=qoe(Moe(),r);vs(typeof o=="object"?`mount() received an object that's not a valid VNode, you should stringify it first, fix createVNode flags or call normalizeChildren. Object: "`+JSON.stringify(o)+'".':'mount() expects a valid VNode, instead it received an object with the type "'+typeof o+'".')}function qoe(o,r){var s=o.dom=document.createTextNode(o.children);return ao(r)||_S(r,s),s}function dHe(o,r,s,l){var u=o.flags,f=o.children,p=o.props,v=o.className,y=o.ref,x=o.childFlags;l=l||(u&32)>0;var w=zze(o.type,l);if(o.dom=w,!Sn(v)&&v!==""&&(l?w.setAttribute("class",v):w.className=v),Ioe(o),ao(r)||_S(r,w),!(x&1)){var C=l===!0&&o.type!=="foreignObject";x===2?Vl(f,w,s,C):x&12&&Yx(f,w,s,C)}return ao(p)||cHe(o,u,p,w,l),fp(y)&&vs('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.'),zn(y)&&Woe(w,y),w}function Yx(o,r,s,l){for(var u=0,f=o.length;u<f;u++){var p=o[u];ao(p.dom)||(o[u]=p=ha(p)),Vl(p,r,s,l)}}function fHe(o,r,s,l,u){var f,p=o.type,v=o.props||Us,y=o.ref;if(u){var x=uHe(o,p,v,s);o.dom=f=Vl(x.$LI,null,x.$CX,l),pHe(o,y,x),x.$UPD=!1}else{var w=DS(p(v,s),o);o.children=w,o.dom=f=Vl(w,null,s,l),gHe(v,y,f)}return ao(r)||_S(r,f),f}function hHe(o){return function(){o.$UPD=!0,o.componentDidMount(),o.$UPD=!1}}function pHe(o,r,s){zn(r)?r(s):ly(r)?vs('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.'):!Sn(r)&&Bze(r)&&o.flags&4&&vs("functional component lifecycle events are not supported on ES2015 class components."),zn(s.componentDidMount)&&cy.push(hHe(s))}function mHe(o,r,s){return function(){return o.onComponentDidMount(r,s)}}function gHe(o,r,s){Sn(r)||(zn(r.onComponentWillMount)&&r.onComponentWillMount(o),zn(r.onComponentDidMount)&&cy.push(mHe(r,s,o)))}function Woe(o,r){cy.push(function(){return r(o)})}function lL(o,r,s,l,u){tg(o),Hze(s,Vl(r,null,l,u),o.dom)}function pp(o,r,s,l,u){var f=r.flags|0;o.flags!==f||f&2048?lL(o,r,s,l,u):f&481?bHe(o,r,s,l,u,f):f&14?xHe(o,r,s,l,u,(f&4)>0):f&16?EHe(o,r):f&512?r.dom=o.dom:yHe(o,r,l)}function vHe(o,r){o.textContent!==r.children&&(o.textContent=r.children)}function yHe(o,r,s){var l=o.type,u=r.type,f=r.children;if(Goe(o.childFlags,r.childFlags,o.children,f,l,s,!1),r.dom=o.dom,l!==u&&!dp(f)){var p=f.dom;l.removeChild(p),u.appendChild(p)}}function bHe(o,r,s,l,u,f){var p=r.type;if(o.type!==p)lL(o,r,s,l,u);else{var v=o.dom,y=o.props,x=r.props,w=!1,C=!1,O;if(r.dom=v,u=u||(f&32)>0,y!==x){var T=y||Us;if(O=x||Us,O!==Us){w=(f&448)>0,w&&(C=Hoe(O));for(var P in O){var N=T[P],j=O[P];N!==j&&aL(P,N,j,v,u,C,o)}}if(T!==Us)for(var q in T)!O.hasOwnProperty(q)&&!Sn(T[q])&&aL(q,T[q],null,v,u,C,o)}var Q=o.children,U=r.children,H=r.ref,X=o.className,Y=r.className;Ioe(r),f&4096?vHe(v,U):Goe(o.childFlags,r.childFlags,Q,U,v,l,u&&p!=="foreignObject"),w&&zoe(f,r,v,O,!1,C),X!==Y&&(Sn(Y)?v.removeAttribute("class"):u?v.setAttribute("class",Y):v.className=Y),zn(H)&&o.ref!==H?Woe(v,H):fp(H)&&vs('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.')}}function Goe(o,r,s,l,u,f,p){switch(o){case 2:switch(r){case 2:pp(s,l,u,f,p);break;case 1:Ic(s,u);break;default:Ic(s,u),Yx(l,u,f,p);break}break;case 1:switch(r){case 2:Vl(l,u,f,p);break;case 1:break;default:Yx(l,u,f,p);break}break;default:if(r&12){var v=s.length,y=l.length;v===0?y>0&&Yx(l,u,f,p):y===0?OS(u,s):r===8&&o===8?_He(s,l,u,f,p,v,y):wHe(s,l,u,f,p,v,y)}else r===1?OS(u,s):r===2&&(OS(u,s),Vl(l,u,f,p));break}}function Qoe(o,r,s,l,u,f,p,v,y){var x=o.state,w=o.props;s.children=o;var C;if(o.$UN){Z9("Inferno Error: Can only update a mounted or mounting component. This usually means you called setState() or forceUpdate() on an unmounted component. This is a no-op.");return}if(w!==l||l===Us){if(!y&&zn(o.componentWillReceiveProps)){if(o.$BR=!0,o.componentWillReceiveProps(l,f),o.$UN)return;o.$BR=!1}o.$PSS&&(r=wS(r,o.$PS),o.$PSS=!1,o.$PS=null)}var O=!!o.shouldComponentUpdate;if(v||!O||O&&o.shouldComponentUpdate(l,r,f)){zn(o.componentWillUpdate)&&(o.$BS=!0,o.componentWillUpdate(l,r,f),o.$BS=!1),o.props=l,o.state=r,o.context=f,zn(yf.beforeRender)&&yf.beforeRender(o),C=o.render(l,r,f),zn(yf.afterRender)&&yf.afterRender(o);var T=C!==koe,P;if(zn(o.getChildContext)&&(P=o.getChildContext()),Sn(P)?P=f:P=wS(f,P),o.$CX=P,T){var N=o.$LI,j=DS(C,s);pp(N,j,u,P,p),o.$LI=j,zn(o.componentDidUpdate)&&o.componentDidUpdate(w,x)}}else o.props=l,o.state=r,o.context=f;s.dom=o.$LI.dom}function xHe(o,r,s,l,u,f){var p=r.type,v=o.key,y=r.key;if(o.type!==p||v!==y)lL(o,r,s,l,u);else{var x=r.props||Us;if(f){var w=o.children;w.$UPD=!0,w.$V=r,Qoe(w,w.state,r,x,s,l,u,!1,!1),w.$UPD=!1}else{var C=!0,O=o.props,T=r.ref,P=!Sn(T),N=o.children;if(r.dom=o.dom,r.children=N,P&&zn(T.onComponentShouldUpdate)&&(C=T.onComponentShouldUpdate(O,x)),C!==!1){P&&zn(T.onComponentWillUpdate)&&T.onComponentWillUpdate(O,x);var j=p(x,l);j!==koe&&(j=DS(j,r),pp(N,j,s,l,u),r.children=j,r.dom=j.dom,P&&zn(T.onComponentDidUpdate)&&T.onComponentDidUpdate(O,x))}else N.flags&14&&(N.parentVNode=r)}}}function EHe(o,r){var s=r.children,l=o.dom;s!==o.children&&(l.nodeValue=s),r.dom=l}function wHe(o,r,s,l,u,f,p){for(var v=f>p?p:f,y=0,x,w;y<v;y++)x=r[y],w=o[y],x.dom&&(x=r[y]=ha(x)),pp(w,x,s,l,u),o[y]=x;if(f<p)for(y=v;y<p;y++)x=r[y],x.dom&&(x=r[y]=ha(x)),Vl(x,s,l,u);else if(f>p)for(y=v;y<f;y++)Ic(o[y],s)}function _He(o,r,s,l,u,f,p){var v=f-1,y=p-1,x,w=0,C=o[w],O=r[w],T;e:{for(;C.key===O.key;){if(O.dom&&(r[w]=O=ha(O)),pp(C,O,s,l,u),o[w]=O,w++,w>v||w>y)break e;C=o[w],O=r[w]}for(C=o[v],O=r[y];C.key===O.key;){if(O.dom&&(r[y]=O=ha(O)),pp(C,O,s,l,u),o[v]=O,v--,y--,w>v||w>y)break e;C=o[v],O=r[y]}}if(w>v){if(w<=y){T=y+1;for(var P=T<p?r[T].dom:null;w<=y;)O=r[w],O.dom&&(r[w]=O=ha(O)),w++,CS(s,Vl(O,null,l,u),P)}}else if(w>y)for(;w<=v;)Ic(o[w++],s);else{var N=w,j=w,q=v-w+1,Q=y-w+1,U=[];for(x=0;x<Q;x++)U.push(0);var H=q===f,X=!1,Y=0,ae=0;if(p<4||(q|Q)<32)for(x=N;x<=v;x++)if(C=o[x],ae<Q){for(w=j;w<=y;w++)if(O=r[w],C.key===O.key){if(U[w-j]=x+1,H)for(H=!1;x>N;)Ic(o[N++],s);Y>w?X=!0:Y=w,O.dom&&(r[w]=O=ha(O)),pp(C,O,s,l,u),ae++;break}!H&&w>y&&Ic(C,s)}else H||Ic(C,s);else{var te={};for(x=j;x<=y;x++)te[r[x].key]=x;for(x=N;x<=v;x++)if(C=o[x],ae<Q)if(w=te[C.key],w!==void 0){if(H)for(H=!1;x>N;)Ic(o[N++],s);O=r[w],U[w-j]=x+1,Y>w?X=!0:Y=w,O.dom&&(r[w]=O=ha(O)),pp(C,O,s,l,u),ae++}else H||Ic(C,s);else H||Ic(C,s)}if(H)OS(s,o),Yx(r,s,l,u);else if(X){var ve=CHe(U);for(w=ve.length-1,x=Q-1;x>=0;x--)U[x]===0?(Y=x+j,O=r[Y],O.dom&&(r[Y]=O=ha(O)),T=Y+1,CS(s,Vl(O,null,l,u),T<p?r[T].dom:null)):w<0||x!==ve[w]?(Y=x+j,O=r[Y],T=Y+1,CS(s,O.dom,T<p?r[T].dom:null)):w--}else if(ae!==Q)for(x=Q-1;x>=0;x--)U[x]===0&&(Y=x+j,O=r[Y],O.dom&&(r[Y]=O=ha(O)),T=Y+1,CS(s,Vl(O,null,l,u),T<p?r[T].dom:null))}}function CHe(o){var r=o.slice(),s=[0],l,u,f,p,v,y=o.length;for(l=0;l<y;l++){var x=o[l];if(x!==0){if(u=s[s.length-1],o[u]<x){r[l]=u,s.push(l);continue}for(f=0,p=s.length-1;f<p;)v=(f+p)/2|0,o[s[v]]<x?f=v+1:p=v;x<o[s[f]]&&(f>0&&(r[l]=s[f-1]),s[f]=l)}}for(f=s.length,p=s[f-1];f-- >0;)s[f]=p,p=r[p];return s}Nze&&document.body===null&&Z9('Inferno warning: you cannot initialize inferno without "document.body". Wait on "DOMContentLoaded" event, add script to bottom of body, or use async/defer attributes on script tag.');var Yoe=typeof Promise>"u"?null:Promise.resolve(),SHe=typeof requestAnimationFrame>"u"?setTimeout:requestAnimationFrame.bind(window);function OHe(o){return Yoe?Yoe.then(o):SHe(o)}function Xoe(o,r,s,l){zn(r)&&(r=r(o.state,o.props,o.context));var u=o.$PS;if(Sn(u))o.$PS=r;else for(var f in r)u[f]=r[f];if(!o.$PSS&&!o.$BR)if(!o.$UPD)o.$PSS=!0,o.$UPD=!0,Koe(o,l,s),o.$UPD=!1;else{var p=o.$QU;ao(p)&&(p=o.$QU=[],OHe(DHe(o,p))),zn(s)&&p.push(s)}else o.$PSS=!0,o.$BR&&zn(s)&&cy.push(s.bind(o))}function DHe(o,r){return function(){o.$QU=null,o.$UPD=!0,Koe(o,!1,function(){for(var s=0,l=r.length;s<l;s++)r[s].call(o)}),o.$UPD=!1}}function Koe(o,r,s){if(!o.$UN){if(r||!o.$BR){o.$PSS=!1;var l=o.$PS,u=o.state,f=wS(u,l),p=o.props,v=o.context;o.$PS=null;var y=o.$V,x=o.$LI,w=x.dom&&x.dom.parentNode;if(Qoe(o,f,y,p,w,v,(y.flags&32)>0,r,!0),o.$UN)return;if(!(o.$LI.flags&1024))for(var C=o.$LI.dom;!ao(y=y.parentVNode);)(y.flags&14)>0&&(y.dom=C);cy.length>0&&qze(cy)}else o.state=o.$PS,o.$PS=null;zn(s)&&s.call(o)}}var Wu=function(){function o(s,l){this.state=null,this.props=void 0,this.context=void 0,this.refs=void 0,this.$BR=!1,this.$BS=!0,this.$PSS=!1,this.$PS=null,this.$LI=null,this.$V=null,this.$UN=!1,this.$CX=null,this.$UPD=!0,this.$QU=null,this.props=s||Us,this.context=l||Us}var r=o.prototype;return r.forceUpdate=function(l){this.$UN||Xoe(this,{},l,!0)},r.setState=function(l,u){if(!this.$UN)if(!this.$BS)Xoe(this,l,u,!1);else{vs("cannot update state via setState() in componentWillUpdate() or constructor.");return}},r.render=function(l,u,f){},o}();Wu.defaultProps=void 0;{var Zoe=function(){};console.info("Inferno is in development mode."),(Zoe.name||Zoe.toString()).indexOf("testFn")===-1&&Z9("It looks like you're using a minified copy of the development build of Inferno. When deploying Inferno apps to production, make sure to use the production build which skips development warnings and is faster. See http://infernojs.org for more details.")}class THe extends Wu{constructor(r,s){super(r,s),this._viewer=s.injector.get("viewer")}render(){let{name:r}=this._viewer.getDecision();return yn(1,"div","decision-properties",yn(1,"h3","decision-name",r,0),2)}}let kHe=1500,Joe=class{constructor(r){r.onGetComponent("viewer",kHe,()=>THe)}};Joe.$inject=["components"];var PHe={__init__:["decisionProperties"],decisionProperties:["type",Joe]};let IHe=class extends Wu{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._viewer=s.injector.get("viewer")}render(){let{decisionLogic:r,variable:s}=this._viewer.getDecision();return yn(1,"div","literal-expression-properties",yn(1,"table",null,[yn(1,"tr",null,[yn(1,"td",null,this._translate("Variable name:"),0),yn(1,"td",null,yn(1,"span",null,s.name||"-",0),2)],4),yn(1,"tr",null,[yn(1,"td",null,this._translate("Variable type:"),0),yn(1,"td",null,yn(1,"span",null,this._translate(s.typeRef||"")||"-",0),2)],4),yn(1,"tr",null,[yn(1,"td",null,this._translate("Expression language:"),0),yn(1,"td",null,yn(1,"span",null,r.expressionLanguage||"-",0),2)],4)],4),2)}},MHe=500;var AHe={__depends__:[],__init__:["literalExpressionProperties"],literalExpressionProperties:["type",(()=>{class o{constructor(s){s.onGetComponent("viewer",MHe,()=>IHe)}}return o.$inject=["components"],o})()]};let RHe=2e3,ese=class{constructor(r){r.onGetComponent("viewer",RHe,()=>AI)}};ese.$inject=["components"];var LHe={__init__:["poweredBy"],poweredBy:["type",ese]};class $He extends Wu{constructor(r,s){super(r,s),this._viewer=s.injector.get("viewer")}render(){let{text:r}=this._viewer.getDecision().decisionLogic;return yn(1,"div","textarea",yn(1,"div","content",r,0),2)}}let tse=class{constructor(r){r.onGetComponent("viewer",()=>$He)}};tse.$inject=["components"];var NHe={__init__:["textarea"],textarea:["type",tse]};let nse=class extends Wu{constructor(r,s){super(r,s);let{injector:l}=s;this._translate=l.get("translate"),this._eventBus=l.get("eventBus")}onClick=()=>{this._eventBus.fire("showDrd")};render(){return yn(1,"div","view-drd",yn(1,"button","view-drd-button",this._translate("View DRD"),0,{type:"button",onClick:this.onClick}),2,null,null,r=>this.node=r)}};nse.$inject=["translate"];let FHe=2e3,rse=class{constructor(r,s,l,u){this._injector=u,this._viewer=s,r.onGetComponent("viewer",FHe,()=>{if(this.canViewDrd())return nse}),l.on("showDrd",()=>{let f=u.get("_parent",!1),p=this.getDefinitions(),v=f.getView(p);f.open(v)})}canViewDrd(){let r=this._injector.get("_parent",!1);if(!r)return;let s=this.getDefinitions();return!!r.getView(s)}getDefinitions(){return BHe(this._viewer.getDecision())}};rse.$inject=["components","viewer","eventBus","injector"];function BHe(o){return o.$parent}var jHe={__init__:["viewDrd"],viewDrd:["type",rse]};let ise=class jj extends Doe{constructor(r={}){let s=jj._createContainer();super(xe(r,{renderer:{container:s}})),this._container=s}open(r){var s=this;return new Promise(function(l,u){var f;try{s._decision&&(s.clear(),s.get("eventBus").fire("renderer.unmount")),s._decision=r,s.get("eventBus").fire("import",r),s.get("eventBus").fire("renderer.mount")}catch(p){f=p}f?(f.warnings=f.warnings||[],u(f)):l({warnings:[]})})}_init(r){let x=r,{modules:s,additionalModules:l}=x,u=Ae(x,["modules","additionalModules"]),f=s||this.getModules(),p=l||[],v=[{viewer:["value",this]}];return{modules:[...f,...p,...v],config:u}}on(r,s,l,u){return this.get("eventBus").on(r,s,l,u)}off(r,s){this.get("eventBus").off(r,s)}_emit(r,s){return this.get("eventBus").fire(r,s)}getDecision(){return this._decision}attachTo(r){if(!r)throw new Error("parentNode required");this.detach(),r.appendChild(this._container),this._emit("attach",{})}detach(){let r=this._container;r.parentNode&&(this._emit("detach",{}),As(r))}destroy(){super.destroy(),this.detach()}getModules(){return jj._getModules()}static _getModules(){return[Lze,Ha,PHe,AHe,LHe,NHe,jHe]}static _createContainer(){return Gn('<div class="dmn-literal-expression-container"></div>')}};class VHe extends Wu{constructor(r,s){super(r,s),this._viewer=s.injector.get("viewer"),this._modeling=s.injector.get("modeling"),this._translate=s.injector.get("translate"),this.setupChangeListeners({bind:this.getDecision().id})}componentWillUnmount(){this.setupChangeListeners({unbind:this.getDecision().id})}getDecision(){return this._viewer.getDecision()}onElementsChanged=()=>{this.forceUpdate()};setupChangeListeners({bind:r,unbind:s}){let{changeSupport:l}=this.context;typeof s=="string"&&l.offElementsChanged(s,this.onElementsChanged),typeof r=="string"&&l.onElementsChanged(r,this.onElementsChanged)}setDecisionName=r=>{this._modeling.editDecisionName(r)};render(){let{name:r}=this.getDecision();return yn(1,"header","decision-properties",hp(2,zHe,{label:this._translate("Decision name"),className:"decision-name editor",value:r,onBlur:HHe,onChange:this.setDecisionName}),2)}}class zHe extends Tv{render(){return yn(1,"h3",this.getClassName(),this.getEditor(),0)}}function HHe(o){o.target.scroll(0,0)}let UHe=1500;var qHe={__depends__:[Uh,Ha],__init__:["decisionProperties"],decisionProperties:["type",(()=>{class o{constructor(s){s.onGetComponent("viewer",UHe,()=>VHe)}}return o.$inject=["components"],o})()]};let ose="is not a registered action",WHe="is already registered",sse=class{constructor(r,s){this._actions={undo(){r.undo()},redo(){r.redo()}}}trigger(r,s){if(!this._actions[r])throw cL(r,ose);return this._actions[r](s)}register(r,s){if(typeof r=="string")return this._registerAction(r,s);D(r,(l,u)=>{this._registerAction(u,l)})}_registerAction(r,s){if(this.isRegistered(r))throw cL(r,WHe);this._actions[r]=s}unregister(r){if(!this.isRegistered(r))throw cL(r,ose);this._actions[r]=void 0}isRegistered(r){return!!this._actions[r]}};sse.$inject=["commandStack","eventBus"];function cL(o,r){return new Error(o+" "+r)}var GHe={__init__:["editorActions"],editorActions:["type",sse]};function ase(o){return o.altKey?!1:o.ctrlKey||o.metaKey}function lse(o){return o.shiftKey}var cse={__depends__:[GHe],__init__:["keyboard"],keyboard:["type",(()=>{class o{constructor(s,l,u){this._config=s||{},this._eventBus=l,this._editorActions=u,this._listeners=[],l.on("viewer.destroy",this._destroy),l.on("viewer.init",this._init),l.on("attach",()=>{this._config.bindTo&&this.bind(s.bindTo)}),l.on("detach",this.unbind)}_init=()=>{this._registerDefaultBindings(),this._fire("init")};_destroy=()=>{this._fire("destroy"),this.unbind(),this._listeners=null};_keyHandler=s=>{var l,u,f=this._listeners,p=s.keyCode||s.charCode||-1;for(l=0;u=f[l];l++)if(u(p,s)){s.preventDefault(),s.stopPropagation();return}};bind(s){this.unbind(),this._node=s,ft.bind(s,"keydown",this._keyHandler,!0),this._fire("bind")}getBinding(){return this._node}unbind=()=>{var s=this._node;s&&(this._fire("unbind"),ft.unbind(s,"keydown",this._keyHandler,!0)),this._node=null};_fire(s){this._eventBus.fire("keyboard."+s,{node:this._node,listeners:this._listeners})}_registerDefaultBindings(){var s=this._listeners,l=this._editorActions;function u(p,v){if(ase(v)&&!lse(v)&&p===90)return l.trigger("undo"),!0}function f(p,v){if(ase(v)&&(p===89||p===90&&lse(v)))return l.trigger("redo"),!0}s.push(u),s.push(f)}addListener(s){this._listeners.unshift(s)}removeListener(s){this._listeners=this._listeners.filter(l=>l!==s)}}return o.$inject=["config.keyboard","eventBus","editorActions"],o})()]};class QHe extends Wu{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._viewer=s.injector.get("viewer"),this._modeling=s.injector.get("modeling"),this._dataTypes=s.injector.get("dataTypes");let l=this._viewer.getDecision();this.state={name:l.variable.name,typeRef:l.variable.typeRef},this.setVariableName=this.setVariableName.bind(this),this.setVariableType=this.setVariableType.bind(this)}setVariableName(r){this._modeling.editVariableName(r),this.setState({name:r})}setVariableType(r){r===""?(this._modeling.editVariableType(void 0),this.setState({typeRef:void 0})):(this._modeling.editVariableType(r),this.setState({typeRef:r}))}render(){let{name:r,typeRef:s}=this.state,l=this._dataTypes.getAll().map(u=>({label:this._translate(u),value:u}));return yn(1,"div","literal-expression-properties",yn(1,"table",null,[yn(1,"tr",null,[yn(1,"td",null,this._translate("Variable name:"),0),yn(1,"td",null,hp(2,lf,{label:this._translate("Variable name"),className:"variable-name-input",onInput:this.setVariableName,placeholder:this._translate("name"),value:r||""}),2)],4),yn(1,"tr",null,[yn(1,"td",null,this._translate("Variable type:"),0),yn(1,"td",null,yn(1,"div","dms-fill-row",hp(2,mi,{label:this._translate("Variable type"),onChange:this.setVariableType,options:l,value:s,className:"variable-type-select dms-block"}),2),2)],4),hp(2,YHe)],4),2)}}class YHe extends Wu{constructor(r,s){super(r,s),this._translate=s.injector.get("translate"),this._viewer=s.injector.get("viewer"),this._modeling=s.injector.get("modeling"),this._expressionLanguages=s.injector.get("expressionLanguages"),this.setExpressionLanguage=this.setExpressionLanguage.bind(this)}setExpressionLanguage(r){r===""?this._modeling.editExpressionLanguage(void 0):this._modeling.editExpressionLanguage(r)}_getExpressionLanguage(){let s=this._viewer.getDecision().decisionLogic;return s&&s.expressionLanguage?s.expressionLanguage.toLowerCase():this._getDefaultExpressionLanguage()}_getDefaultExpressionLanguage(){return this._expressionLanguages.getDefault().value}_shouldRender(){return this._expressionLanguages.getAll().length>1?!0:this._getExpressionLanguage()!==this._getDefaultExpressionLanguage()}render(){if(!this._shouldRender())return null;let r=this._getExpressionLanguage(),s=this._expressionLanguages.getAll();return yn(1,"tr",null,[yn(1,"td",null,this._translate("Expression language:"),0),yn(1,"td",null,yn(1,"div","dms-fill-row",hp(2,mi,{label:this._translate("Expression language"),onChange:this.setExpressionLanguage,options:s,value:r,className:"expression-language-select dms-block"}),2),2)],4)}}let XHe=500;var KHe={__depends__:[Uh,cse,Hh,fee],__init__:["literalExpressionProperties"],literalExpressionProperties:["type",(()=>{class o{constructor(s){s.onGetComponent("viewer",XHe,()=>QHe)}}return o.$inject=["components"],o})()]};let use=class H1e{constructor(r,s,l){this._commandStack=r,this._viewer=s,this._eventBus=l,l.on("viewer.init",()=>{ZHe(this.getHandlers(),r)})}getHandlers(){return H1e._getHandlers()}static _getHandlers(){return{"element.updateProperties":z9}}getDecision(){return this._viewer.getDecision()}editDecisionName(r){let l={element:this.getDecision(),properties:{name:r}};this._commandStack.execute("element.updateProperties",l)}editDecisionId(r){let l={element:this.getDecision(),properties:{id:r}};this._commandStack.execute("element.updateProperties",l)}editLiteralExpressionText(r){let u={element:this.getDecision().decisionLogic,properties:{text:r}};this._commandStack.execute("element.updateProperties",u)}editExpressionLanguage(r){let u={element:this.getDecision().decisionLogic,properties:{expressionLanguage:r}};this._commandStack.execute("element.updateProperties",u)}editVariableName(r){let u={element:this.getDecision().variable,properties:{name:r}};this._commandStack.execute("element.updateProperties",u)}editVariableType(r){let u={element:this.getDecision().variable,properties:{typeRef:r}};this._commandStack.execute("element.updateProperties",u)}};use.$inject=["commandStack","viewer","eventBus"];function ZHe(o,r){D(o,function(s,l){r.registerHandler(l,s)})}var JHe={__init__:["idChangeBehavior","modeling"],commandStack:["type",vr],idChangeBehavior:["type",uC],modeling:["type",use]};let eUe=class extends Wu{constructor(r,s){super(r,s),this._modeling=s.injector.get("modeling"),this._viewer=s.injector.get("viewer"),this._expressionLanguages=s.injector.get("expressionLanguages"),this._variableResolver=s.injector.get("variableResolver",!1),this._translate=s.injector.get("translate"),this.editLiteralExpressionText=this.editLiteralExpressionText.bind(this),this.onElementsChanged=this.onElementsChanged.bind(this);let{id:l}=this.getLiteralExpression();s.changeSupport.onElementsChanged(l,this.onElementsChanged)}getLiteralExpression(){return this._viewer.getDecision().decisionLogic}onElementsChanged(){this.forceUpdate()}editLiteralExpressionText(r){this._modeling.editLiteralExpressionText(r)}getEditor(){return this.isFeel()?tUe:nUe}isFeel(){return this.getExpressionLanguage()==="feel"}getExpressionLanguage(){return this.getLiteralExpression().expressionLanguage||this._expressionLanguages.getDefault().value}_getVariables(){let r=this.getLiteralExpression();return this._variableResolver&&this._variableResolver.getVariables(r)}render(){let{text:r}=this.getLiteralExpression(),s=this.getEditor(),l=this._getVariables();return hp(2,s,{label:this._translate("Literal expression editor"),className:"textarea editor",value:r,onChange:this.editLiteralExpressionText,variables:l})}},tUe=class extends Wu{render(){return hp(2,hS,{label:this.props.label,className:this.props.className,value:this.props.value,onInput:this.props.onChange,variables:this.props.variables})}},nUe=class extends Tv{render(){return yn(1,"div",this.getClassName(),this.getEditor(),0)}};var rUe={__depends__:[Uh,Ha],__init__:["textarea"],textarea:["type",(()=>{class o{constructor(s){s.onGetComponent("viewer",()=>eUe)}}return o.$inject=["components"],o})()]};let iUe=class U1e extends ise{getModules(){return[...ise._getModules(),...U1e._getModules()]}static _getModules(){return[qHe,cse,KHe,JHe,Hh,r6,rUe,KM]}};var dse="$NO_OP",oUe="a runtime error occured! Use Inferno in development environment to find the error.",sUe=!!(typeof window<"u"&&window.document),ng=Array.isArray;function uy(o){var r=typeof o;return r==="string"||r==="number"}function bn(o){return TS(o)||lo(o)}function mp(o){return lo(o)||o===!1||aUe(o)||TS(o)}function Hn(o){return typeof o=="function"}function gp(o){return typeof o=="string"}function uL(o){return typeof o=="number"}function lo(o){return o===null}function aUe(o){return o===!0}function TS(o){return o===void 0}function lUe(o){return typeof o=="object"}function ys(o){throw o||(o=oUe),new Error("Inferno Error: "+o)}function dL(o){console.error(o)}function Xx(o,r){var s={};if(o)for(var l in o)s[l]=o[l];if(r)for(var u in r)s[u]=r[u];return s}function bf(o){var r;if(ng(o)){var s=o.length>3?o.slice(0,3).toString()+",...":o.toString();r="Array("+s+")"}else if(uy(o))r="Text("+o+")";else if(mp(o))r="InvalidVNode("+o+")";else{var l=o.flags;if(l&481)r="<"+o.type+(o.className?' class="'+o.className+'"':"")+">";else if(l&16)r="Text("+o.children+")";else if(l&1024)r="Portal*";else{var u=o.type,f=u.name||u.displayName||u.constructor.name||(u.toString().match(/^function\s*([^\s(]+)/)||[])[1];r="<"+f+" />"}}return">> "+r+`
`}function fL(o,r){for(var s={},l=0,u=o.length;l<u;l++){var f=o[l];if(ng(f))return`Encountered ARRAY in mount, array must be flattened, or normalize used. Location: 
`+bf(f);if(mp(f)){if(r)return`Encountered invalid node when preparing to keyed algorithm. Location: 
`+bf(f);if(Object.keys(s).length!==0)return`Encountered invalid node with mixed keys. Location: 
`+bf(f);continue}typeof f=="object"&&(f.isValidated=!0);var p=f.key;if(!bn(p)&&!uy(p))return`Encountered child vNode where key property is not string or number. Location: 
`+bf(f);var v=f.children,y=f.childFlags;if(!mp(v)){var x=void 0;if(y&12?x=fL(v,f.childFlags&8):y===2&&(x=fL([v],f.childFlags&8)),x)return x+=bf(f),x}if(r&&bn(p))return`Encountered child without key during keyed algorithm. If this error points to Array make sure children is flat list. Location: 
`+bf(f);if(!r&&bn(p)){if(Object.keys(s).length!==0)return`Encountered children with key missing. Location: 
`+bf(f);continue}if(s[p])return"Encountered two children with same key: {"+p+`}. Location: 
`+bf(f);s[p]=!0}}function fse(o){{if(o.childFlags&1)return;if(o.flags&64&&ys("input elements can't have children."),o.flags&128&&ys("textarea elements can't have children."),o.flags&481){var r=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],s=o.type.toLowerCase();s==="media"&&ys("media elements can't have children.");var l=r.indexOf(s);l!==-1&&ys(r[l]+" elements can't have children.")}}}function hse(o){{if(o.isValidated===!1&&o.children&&o.flags&481){var r=fL(Array.isArray(o.children)?o.children:[o.children],(o.childFlags&8)>0);r&&ys(r+bf(o))}o.isValidated=!0}}var Kx="$";function hL(o,r,s,l,u,f,p,v){return{childFlags:o,children:r,className:s,dom:null,flags:l,isValidated:!1,key:u===void 0?null:u,parentVNode:null,props:f===void 0?null:f,ref:p===void 0?null:p,type:v}}function yt(o,r,s,l,u,f,p,v){o&14&&ys("Creating Component vNodes using createVNode is not allowed. Use Inferno.createComponentVNode method.");var y=u===void 0?1:u,x=hL(y,l,s,o,p,f,v,r);return y===0&&gse(x,x.children),fse(x),x}function ar(o,r,s,l,u){o&1&&ys("Creating element vNodes using createComponentVNode is not allowed. Use Inferno.createVNode method."),(o&2)>0&&(o=r.prototype&&Hn(r.prototype.render)?4:8);var f=r.defaultProps;if(!bn(f)){s||(s={});for(var p in f)TS(s[p])&&(s[p]=f[p])}if((o&8)>0){var v=r.defaultHooks;if(!bn(v))if(!u)u=v;else for(var y in v)TS(u[y])&&(u[y]=v[y])}var x=hL(1,null,null,o,l,s,u,r),w=xf.createVNode;return Hn(w)&&w(x),x}function Do(o,r){return hL(1,bn(o)?"":o,null,16,r,null,null,null)}function pL(o){var r=o.props;if(r){var s=o.flags;s&481&&(r.children!==void 0&&bn(o.children)&&gse(o,r.children),r.className!==void 0&&(o.className=r.className||null,r.className=void 0)),r.key!==void 0&&(o.key=r.key,r.key=void 0),r.ref!==void 0&&(s&8?o.ref=Xx(o.ref,r.ref):o.ref=r.ref,r.ref=void 0)}return o}function pa(o){var r,s=o.flags;if(s&14){var l,u=o.props;if(!lo(u)){l={};for(var f in u)l[f]=u[f]}r=ar(s,o.type,l,o.key,o.ref)}else s&481?r=yt(s,o.type,o.className,o.children,o.childFlags,o.props,o.key,o.ref):s&16?r=Do(o.children,o.key):s&1024&&(r=o);return r}function pse(){return Do("",null)}function mse(o,r,s,l){for(var u=o.length;s<u;s++){var f=o[s];if(!mp(f)){var p=l+Kx+s;if(ng(f))mse(f,r,0,p);else{if(uy(f))f=Do(f,p);else{var v=f.key,y=gp(v)&&v[0]===Kx;(!lo(f.dom)||y)&&(f=pa(f)),lo(v)||y?f.key=p:f.key=l+v}r.push(f)}}}}function gse(o,r){var s,l=1;if(mp(r))s=r;else if(gp(r))l=2,s=Do(r);else if(uL(r))l=2,s=Do(r+"");else if(ng(r)){var u=r.length;if(u===0)s=null,l=1;else{(Object.isFrozen(r)||r.$===!0)&&(r=r.slice()),l=8;for(var f=0;f<u;f++){var p=r[f];if(mp(p)||ng(p)){s=s||r.slice(0,f),mse(r,s,f,"");break}else if(uy(p))s=s||r.slice(0,f),s.push(Do(p,Kx+f));else{var v=p.key,y=lo(p.dom),x=lo(v),w=!x&&gp(v)&&v[0]===Kx;!y||x||w?(s=s||r.slice(0,f),(!y||w)&&(p=pa(p)),(x||w)&&(p.key=Kx+f),s.push(p)):s&&s.push(p)}}s=s||r,s.$=!0}}else s=r,lo(r.dom)||(s=pa(r)),l=2;return o.children=s,o.childFlags=l,fse(o),o}var xf={afterRender:null,beforeRender:null,createVNode:null,renderComplete:null},rg="http://www.w3.org/1999/xlink",mL="http://www.w3.org/XML/1998/namespace",cUe="http://www.w3.org/2000/svg",vse={"xlink:actuate":rg,"xlink:arcrole":rg,"xlink:href":rg,"xlink:role":rg,"xlink:show":rg,"xlink:title":rg,"xlink:type":rg,"xml:base":mL,"xml:lang":mL,"xml:space":mL},qs={},dy=[];Object.freeze(qs);function kS(o,r){o.appendChild(r)}function PS(o,r,s){bn(s)?kS(o,r):o.insertBefore(r,s)}function uUe(o,r){return r?document.createElementNS(cUe,o):document.createElement(o)}function dUe(o,r,s){o.replaceChild(r,s)}function fUe(o,r){o.removeChild(r)}function hUe(o){for(var r;(r=o.shift())!==void 0;)r()}var IS={},gL={};function yse(o,r,s){var l=IS[o],u=s.$EV;r?(l||(gL[o]=vUe(o),IS[o]=0),u||(u=s.$EV={}),u[o]||IS[o]++,u[o]=r):u&&u[o]&&(IS[o]--,l===1&&(document.removeEventListener(bse(o),gL[o]),gL[o]=null),u[o]=r)}function pUe(o){return Hn(o.composedPath)?o.composedPath()[0]:o.target}function mUe(o,r,s,l){for(var u=pUe(o);!lo(u);){if(r&&u.disabled)return;var f=u.$EV;if(f){var p=f[s];if(p&&(l.dom=u,p.event?p.event(p.data,o):p(o),o.cancelBubble))return}u=u.parentNode}}function bse(o){return o.substr(2).toLowerCase()}function gUe(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function vUe(o){var r=function(l){var u=l.type,f=u==="click"||u==="dblclick";if(f&&l.button!==0)return l.stopPropagation(),!1;l.stopPropagation=gUe;var p={dom:document};Object.defineProperty(l,"currentTarget",{configurable:!0,get:function(){return p.dom}}),mUe(l,f,o,p)};return document.addEventListener(bse(o),r),r}function yUe(o,r){var s=document.createElement("i");return s.innerHTML=r,s.innerHTML===o.innerHTML}function xse(o,r,s){if(o[r]){var l=o[r];l.event?l.event(l.data,s):l(s)}else{var u=r.toLowerCase();o[u]&&o[u](s)}}function Zx(o,r){var s=function(u){u.stopPropagation();var f=this.$V;if(f){var p=f.props||qs,v=f.dom;if(gp(o))xse(p,o,u);else for(var y=0;y<o.length;y++)xse(p,o[y],u);if(Hn(r)){var x=this.$V,w=x.props||qs;r(w,v,!1,x)}}};return Object.defineProperty(s,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),s}function vL(o){return o==="checkbox"||o==="radio"}var bUe=Zx("onInput",yL),xUe=Zx(["onClick","onChange"],yL);function Ese(o){o.stopPropagation()}Ese.wrapped=!0;function EUe(o,r){vL(r.type)?(o.onchange=xUe,o.onclick=Ese):o.oninput=bUe}function yL(o,r){var s=o.type,l=o.value,u=o.checked,f=o.multiple,p=o.defaultValue,v=!bn(l);s&&s!==r.type&&r.setAttribute("type",s),!bn(f)&&f!==r.multiple&&(r.multiple=f),!bn(p)&&!v&&(r.defaultValue=p+""),vL(s)?(v&&(r.value=l),bn(u)||(r.checked=u)):v&&r.value!==l?(r.defaultValue=l,r.value=l):bn(u)||(r.checked=u)}function wse(o,r){var s=o.type;if(s==="optgroup"){var l=o.children,u=o.childFlags;if(u&12)for(var f=0,p=l.length;f<p;f++)bL(l[f],r);else u===2&&bL(l,r)}else bL(o,r)}function bL(o,r){var s=o.props||qs,l=o.dom;l.value=s.value,ng(r)&&r.indexOf(s.value)!==-1||s.value===r?l.selected=!0:(!bn(r)||!bn(s.selected))&&(l.selected=s.selected||!1)}var wUe=Zx("onChange",_se);function _Ue(o){o.onchange=wUe}function _se(o,r,s,l){var u=!!o.multiple;!bn(o.multiple)&&u!==r.multiple&&(r.multiple=u);var f=l.childFlags;if(!(f&1)){var p=l.children,v=o.value;if(s&&bn(v)&&(v=o.defaultValue),f&12)for(var y=0,x=p.length;y<x;y++)wse(p[y],v);else f===2&&wse(p,v)}}var CUe=Zx("onInput",Cse),SUe=Zx("onChange");function OUe(o,r){o.oninput=CUe,r.onChange&&(o.onchange=SUe)}function Cse(o,r,s){var l=o.value,u=r.value;if(bn(l)){if(s){var f=o.defaultValue;!bn(f)&&f!==u&&(r.defaultValue=f,r.value=f)}}else u!==l&&(r.defaultValue=l,r.value=l)}function Sse(o,r,s,l,u,f){o&64?yL(l,s):o&256?_se(l,s,u,r):o&128&&Cse(l,s,u),f&&(s.$V=r)}function DUe(o,r,s){o&64?EUe(r,s):o&256?_Ue(r):o&128&&OUe(r,s)}function Ose(o){return o.type&&vL(o.type)?!bn(o.checked):!bn(o.value)}function Mc(o,r){ig(o),r&&o.dom&&(fUe(r,o.dom),o.dom=null)}function ig(o){var r=o.flags;if(r&481){var s=o.ref,l=o.props;Hn(s)&&s(null);var u=o.children,f=o.childFlags;if(f&12?xL(u):f===2&&ig(u),!lo(l))for(var p in l)switch(p){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":yse(p,null,o.dom);break}}else{var v=o.children;if(v)if(r&14){var y=o.ref;r&4?(Hn(v.componentWillUnmount)&&v.componentWillUnmount(),Hn(y)&&y(null),v.$UN=!0,v.$LI&&ig(v.$LI)):(!bn(y)&&Hn(y.onComponentWillUnmount)&&y.onComponentWillUnmount(o.dom,o.props||qs),ig(v))}else r&1024&&Mc(v,o.type)}}function xL(o){for(var r=0,s=o.length;r<s;r++)ig(o[r])}function MS(o,r){xL(r),o.textContent=""}function TUe(o,r){return function(s){o(r.data,s)}}function kUe(o,r,s){var l=o.toLowerCase();if(!Hn(r)&&!bn(r)){var u=r.event;u&&Hn(u)?s[l]=TUe(u,r):ys('an event on a VNode "'+o+'". was not a function or a valid linkEvent.')}else{var f=s[l];(!f||!f.wrapped)&&(s[l]=r)}}function Dse(o,r){switch(o){case"animationIterationCount":case"borderImageOutset":case"borderImageSlice":case"borderImageWidth":case"boxFlex":case"boxFlexGroup":case"boxOrdinalGroup":case"columnCount":case"fillOpacity":case"flex":case"flexGrow":case"flexNegative":case"flexOrder":case"flexPositive":case"flexShrink":case"floodOpacity":case"fontWeight":case"gridColumn":case"gridRow":case"lineClamp":case"lineHeight":case"opacity":case"order":case"orphans":case"stopOpacity":case"strokeDasharray":case"strokeDashoffset":case"strokeMiterlimit":case"strokeOpacity":case"strokeWidth":case"tabSize":case"widows":case"zIndex":case"zoom":return r;default:return r+"px"}}function PUe(o,r,s){var l=s.style,u,f;if(gp(r)){l.cssText=r;return}if(!bn(o)&&!gp(o)){for(u in r)f=r[u],f!==o[u]&&(l[u]=uL(f)?Dse(u,f):f);for(u in o)bn(r[u])&&(l[u]="")}else for(u in r)f=r[u],l[u]=uL(f)?Dse(u,f):f}function EL(o,r,s,l,u,f,p){switch(o){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":yse(o,s,l);break;case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":break;case"autoFocus":l.autofocus=!!s;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":l[o]=!!s;break;case"defaultChecked":case"value":case"volume":if(f&&o==="value")return;var v=bn(s)?"":s;l[o]!==v&&(l[o]=v);break;case"dangerouslySetInnerHTML":var y=r&&r.__html||"",x=s&&s.__html||"";y!==x&&!bn(x)&&!yUe(l,x)&&(lo(p)||(p.childFlags&12?xL(p.children):p.childFlags===2&&ig(p.children),p.children=null,p.childFlags=1),l.innerHTML=x);break;default:o[0]==="o"&&o[1]==="n"?kUe(o,s,l):bn(s)?l.removeAttribute(o):o==="style"?PUe(r,s,l):u&&vse[o]?l.setAttributeNS(vse[o],o,s):l.setAttribute(o,s);break}}function IUe(o,r,s,l,u){var f=!1,p=(r&448)>0;p&&(f=Ose(s),f&&DUe(r,l,s));for(var v in s)EL(v,null,s[v],l,u,f,null);p&&Sse(r,o,l,s,!0,f)}function MUe(o,r,s,l){var u=new r(s,l);if(o.children=u,u.$V=o,u.$BS=!1,u.context=l,u.props===qs&&(u.props=s),u.$UN=!1,Hn(u.componentWillMount)){if(u.$BR=!0,u.componentWillMount(),u.$PSS){var f=u.state,p=u.$PS;if(lo(f))u.state=p;else for(var v in p)f[v]=p[v];u.$PSS=!1,u.$PS=null}u.$BR=!1}Hn(xf.beforeRender)&&xf.beforeRender(u);var y=AS(u.render(s,u.state,l),o),x;return Hn(u.getChildContext)&&(x=u.getChildContext()),bn(x)?u.$CX=l:u.$CX=Xx(l,x),Hn(xf.afterRender)&&xf.afterRender(u),u.$LI=y,u}function AS(o,r){return ng(o)&&ys("a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object."),mp(o)?o=pse():uy(o)?o=Do(o,null):(o.dom&&(o=pa(o)),o.flags&14&&(o.parentVNode=r)),o}function zl(o,r,s,l){var u=o.flags;if(u&481)return AUe(o,r,s,l);if(u&14)return RUe(o,r,s,l,(u&4)>0);if(u&512||u&16)return Tse(o,r);if(u&1024)return zl(o.children,o.type,s,!1),o.dom=Tse(pse(),r);ys(typeof o=="object"?`mount() received an object that's not a valid VNode, you should stringify it first, fix createVNode flags or call normalizeChildren. Object: "`+JSON.stringify(o)+'".':'mount() expects a valid VNode, instead it received an object with the type "'+typeof o+'".')}function Tse(o,r){var s=o.dom=document.createTextNode(o.children);return lo(r)||kS(r,s),s}function AUe(o,r,s,l){var u=o.flags,f=o.children,p=o.props,v=o.className,y=o.ref,x=o.childFlags;l=l||(u&32)>0;var w=uUe(o.type,l);if(o.dom=w,!bn(v)&&v!==""&&(l?w.setAttribute("class",v):w.className=v),hse(o),lo(r)||kS(r,w),!(x&1)){var C=l===!0&&o.type!=="foreignObject";x===2?zl(f,w,s,C):x&12&&Jx(f,w,s,C)}return lo(p)||IUe(o,u,p,w,l),gp(y)&&ys('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.'),Hn(y)&&kse(w,y),w}function Jx(o,r,s,l){for(var u=0,f=o.length;u<f;u++){var p=o[u];lo(p.dom)||(o[u]=p=pa(p)),zl(p,r,s,l)}}function RUe(o,r,s,l,u){var f,p=o.type,v=o.props||qs,y=o.ref;if(u){var x=MUe(o,p,v,s);o.dom=f=zl(x.$LI,null,x.$CX,l),$Ue(o,y,x),x.$UPD=!1}else{var w=AS(p(v,s),o);o.children=w,o.dom=f=zl(w,null,s,l),FUe(v,y,f)}return lo(r)||kS(r,f),f}function LUe(o){return function(){o.$UPD=!0,o.componentDidMount(),o.$UPD=!1}}function $Ue(o,r,s){Hn(r)?r(s):uy(r)?ys('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.'):!bn(r)&&lUe(r)&&o.flags&4&&ys("functional component lifecycle events are not supported on ES2015 class components."),Hn(s.componentDidMount)&&dy.push(LUe(s))}function NUe(o,r,s){return function(){return o.onComponentDidMount(r,s)}}function FUe(o,r,s){bn(r)||(Hn(r.onComponentWillMount)&&r.onComponentWillMount(o),Hn(r.onComponentDidMount)&&dy.push(NUe(r,s,o)))}function kse(o,r){dy.push(function(){return r(o)})}function wL(o,r,s,l,u){ig(o),dUe(s,zl(r,null,l,u),o.dom)}function vp(o,r,s,l,u){var f=r.flags|0;o.flags!==f||f&2048?wL(o,r,s,l,u):f&481?VUe(o,r,s,l,u,f):f&14?zUe(o,r,s,l,u,(f&4)>0):f&16?HUe(o,r):f&512?r.dom=o.dom:jUe(o,r,l)}function BUe(o,r){o.textContent!==r.children&&(o.textContent=r.children)}function jUe(o,r,s){var l=o.type,u=r.type,f=r.children;if(Pse(o.childFlags,r.childFlags,o.children,f,l,s,!1),r.dom=o.dom,l!==u&&!mp(f)){var p=f.dom;l.removeChild(p),u.appendChild(p)}}function VUe(o,r,s,l,u,f){var p=r.type;if(o.type!==p)wL(o,r,s,l,u);else{var v=o.dom,y=o.props,x=r.props,w=!1,C=!1,O;if(r.dom=v,u=u||(f&32)>0,y!==x){var T=y||qs;if(O=x||qs,O!==qs){w=(f&448)>0,w&&(C=Ose(O));for(var P in O){var N=T[P],j=O[P];N!==j&&EL(P,N,j,v,u,C,o)}}if(T!==qs)for(var q in T)!O.hasOwnProperty(q)&&!bn(T[q])&&EL(q,T[q],null,v,u,C,o)}var Q=o.children,U=r.children,H=r.ref,X=o.className,Y=r.className;hse(r),f&4096?BUe(v,U):Pse(o.childFlags,r.childFlags,Q,U,v,l,u&&p!=="foreignObject"),w&&Sse(f,r,v,O,!1,C),X!==Y&&(bn(Y)?v.removeAttribute("class"):u?v.setAttribute("class",Y):v.className=Y),Hn(H)&&o.ref!==H?kse(v,H):gp(H)&&ys('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.')}}function Pse(o,r,s,l,u,f,p){switch(o){case 2:switch(r){case 2:vp(s,l,u,f,p);break;case 1:Mc(s,u);break;default:Mc(s,u),Jx(l,u,f,p);break}break;case 1:switch(r){case 2:zl(l,u,f,p);break;case 1:break;default:Jx(l,u,f,p);break}break;default:if(r&12){var v=s.length,y=l.length;v===0?y>0&&Jx(l,u,f,p):y===0?MS(u,s):r===8&&o===8?qUe(s,l,u,f,p,v,y):UUe(s,l,u,f,p,v,y)}else r===1?MS(u,s):r===2&&(MS(u,s),zl(l,u,f,p));break}}function Ise(o,r,s,l,u,f,p,v,y){var x=o.state,w=o.props;s.children=o;var C;if(o.$UN){dL("Inferno Error: Can only update a mounted or mounting component. This usually means you called setState() or forceUpdate() on an unmounted component. This is a no-op.");return}if(w!==l||l===qs){if(!y&&Hn(o.componentWillReceiveProps)){if(o.$BR=!0,o.componentWillReceiveProps(l,f),o.$UN)return;o.$BR=!1}o.$PSS&&(r=Xx(r,o.$PS),o.$PSS=!1,o.$PS=null)}var O=!!o.shouldComponentUpdate;if(v||!O||O&&o.shouldComponentUpdate(l,r,f)){Hn(o.componentWillUpdate)&&(o.$BS=!0,o.componentWillUpdate(l,r,f),o.$BS=!1),o.props=l,o.state=r,o.context=f,Hn(xf.beforeRender)&&xf.beforeRender(o),C=o.render(l,r,f),Hn(xf.afterRender)&&xf.afterRender(o);var T=C!==dse,P;if(Hn(o.getChildContext)&&(P=o.getChildContext()),bn(P)?P=f:P=Xx(f,P),o.$CX=P,T){var N=o.$LI,j=AS(C,s);vp(N,j,u,P,p),o.$LI=j,Hn(o.componentDidUpdate)&&o.componentDidUpdate(w,x)}}else o.props=l,o.state=r,o.context=f;s.dom=o.$LI.dom}function zUe(o,r,s,l,u,f){var p=r.type,v=o.key,y=r.key;if(o.type!==p||v!==y)wL(o,r,s,l,u);else{var x=r.props||qs;if(f){var w=o.children;w.$UPD=!0,w.$V=r,Ise(w,w.state,r,x,s,l,u,!1,!1),w.$UPD=!1}else{var C=!0,O=o.props,T=r.ref,P=!bn(T),N=o.children;if(r.dom=o.dom,r.children=N,P&&Hn(T.onComponentShouldUpdate)&&(C=T.onComponentShouldUpdate(O,x)),C!==!1){P&&Hn(T.onComponentWillUpdate)&&T.onComponentWillUpdate(O,x);var j=p(x,l);j!==dse&&(j=AS(j,r),vp(N,j,s,l,u),r.children=j,r.dom=j.dom,P&&Hn(T.onComponentDidUpdate)&&T.onComponentDidUpdate(O,x))}else N.flags&14&&(N.parentVNode=r)}}}function HUe(o,r){var s=r.children,l=o.dom;s!==o.children&&(l.nodeValue=s),r.dom=l}function UUe(o,r,s,l,u,f,p){for(var v=f>p?p:f,y=0,x,w;y<v;y++)x=r[y],w=o[y],x.dom&&(x=r[y]=pa(x)),vp(w,x,s,l,u),o[y]=x;if(f<p)for(y=v;y<p;y++)x=r[y],x.dom&&(x=r[y]=pa(x)),zl(x,s,l,u);else if(f>p)for(y=v;y<f;y++)Mc(o[y],s)}function qUe(o,r,s,l,u,f,p){var v=f-1,y=p-1,x,w=0,C=o[w],O=r[w],T;e:{for(;C.key===O.key;){if(O.dom&&(r[w]=O=pa(O)),vp(C,O,s,l,u),o[w]=O,w++,w>v||w>y)break e;C=o[w],O=r[w]}for(C=o[v],O=r[y];C.key===O.key;){if(O.dom&&(r[y]=O=pa(O)),vp(C,O,s,l,u),o[v]=O,v--,y--,w>v||w>y)break e;C=o[v],O=r[y]}}if(w>v){if(w<=y){T=y+1;for(var P=T<p?r[T].dom:null;w<=y;)O=r[w],O.dom&&(r[w]=O=pa(O)),w++,PS(s,zl(O,null,l,u),P)}}else if(w>y)for(;w<=v;)Mc(o[w++],s);else{var N=w,j=w,q=v-w+1,Q=y-w+1,U=[];for(x=0;x<Q;x++)U.push(0);var H=q===f,X=!1,Y=0,ae=0;if(p<4||(q|Q)<32)for(x=N;x<=v;x++)if(C=o[x],ae<Q){for(w=j;w<=y;w++)if(O=r[w],C.key===O.key){if(U[w-j]=x+1,H)for(H=!1;x>N;)Mc(o[N++],s);Y>w?X=!0:Y=w,O.dom&&(r[w]=O=pa(O)),vp(C,O,s,l,u),ae++;break}!H&&w>y&&Mc(C,s)}else H||Mc(C,s);else{var te={};for(x=j;x<=y;x++)te[r[x].key]=x;for(x=N;x<=v;x++)if(C=o[x],ae<Q)if(w=te[C.key],w!==void 0){if(H)for(H=!1;x>N;)Mc(o[N++],s);O=r[w],U[w-j]=x+1,Y>w?X=!0:Y=w,O.dom&&(r[w]=O=pa(O)),vp(C,O,s,l,u),ae++}else H||Mc(C,s);else H||Mc(C,s)}if(H)MS(s,o),Jx(r,s,l,u);else if(X){var ve=WUe(U);for(w=ve.length-1,x=Q-1;x>=0;x--)U[x]===0?(Y=x+j,O=r[Y],O.dom&&(r[Y]=O=pa(O)),T=Y+1,PS(s,zl(O,null,l,u),T<p?r[T].dom:null)):w<0||x!==ve[w]?(Y=x+j,O=r[Y],T=Y+1,PS(s,O.dom,T<p?r[T].dom:null)):w--}else if(ae!==Q)for(x=Q-1;x>=0;x--)U[x]===0&&(Y=x+j,O=r[Y],O.dom&&(r[Y]=O=pa(O)),T=Y+1,PS(s,zl(O,null,l,u),T<p?r[T].dom:null))}}function WUe(o){var r=o.slice(),s=[0],l,u,f,p,v,y=o.length;for(l=0;l<y;l++){var x=o[l];if(x!==0){if(u=s[s.length-1],o[u]<x){r[l]=u,s.push(l);continue}for(f=0,p=s.length-1;f<p;)v=(f+p)/2|0,o[s[v]]<x?f=v+1:p=v;x<o[s[f]]&&(f>0&&(r[l]=s[f-1]),s[f]=l)}}for(f=s.length,p=s[f-1];f-- >0;)s[f]=p,p=r[p];return s}sUe&&document.body===null&&dL('Inferno warning: you cannot initialize inferno without "document.body". Wait on "DOMContentLoaded" event, add script to bottom of body, or use async/defer attributes on script tag.');var Mse=typeof Promise>"u"?null:Promise.resolve(),GUe=typeof requestAnimationFrame>"u"?setTimeout:requestAnimationFrame.bind(window);function QUe(o){return Mse?Mse.then(o):GUe(o)}function Ase(o,r,s,l){Hn(r)&&(r=r(o.state,o.props,o.context));var u=o.$PS;if(bn(u))o.$PS=r;else for(var f in r)u[f]=r[f];if(!o.$PSS&&!o.$BR)if(!o.$UPD)o.$PSS=!0,o.$UPD=!0,Rse(o,l,s),o.$UPD=!1;else{var p=o.$QU;lo(p)&&(p=o.$QU=[],QUe(YUe(o,p))),Hn(s)&&p.push(s)}else o.$PSS=!0,o.$BR&&Hn(s)&&dy.push(s.bind(o))}function YUe(o,r){return function(){o.$QU=null,o.$UPD=!0,Rse(o,!1,function(){for(var s=0,l=r.length;s<l;s++)r[s].call(o)}),o.$UPD=!1}}function Rse(o,r,s){if(!o.$UN){if(r||!o.$BR){o.$PSS=!1;var l=o.$PS,u=o.state,f=Xx(u,l),p=o.props,v=o.context;o.$PS=null;var y=o.$V,x=o.$LI,w=x.dom&&x.dom.parentNode;if(Ise(o,f,y,p,w,v,(y.flags&32)>0,r,!0),o.$UN)return;if(!(o.$LI.flags&1024))for(var C=o.$LI.dom;!lo(y=y.parentVNode);)(y.flags&14)>0&&(y.dom=C);dy.length>0&&hUe(dy)}else o.state=o.$PS,o.$PS=null;Hn(s)&&s.call(o)}}var RS=function(){function o(s,l){this.state=null,this.props=void 0,this.context=void 0,this.refs=void 0,this.$BR=!1,this.$BS=!0,this.$PSS=!1,this.$PS=null,this.$LI=null,this.$V=null,this.$UN=!1,this.$CX=null,this.$UPD=!0,this.$QU=null,this.props=s||qs,this.context=l||qs}var r=o.prototype;return r.forceUpdate=function(l){this.$UN||Ase(this,{},l,!0)},r.setState=function(l,u){if(!this.$UN)if(!this.$BS)Ase(this,l,u,!1);else{ys("cannot update state via setState() in componentWillUpdate() or constructor.");return}},r.render=function(l,u,f){},o}();RS.defaultProps=void 0;{var Lse=function(){};console.info("Inferno is in development mode."),(Lse.name||Lse.toString()).indexOf("testFn")===-1&&dL("It looks like you're using a minified copy of the development build of Inferno. When deploying Inferno apps to production, make sure to use the production build which skips development warnings and is faster. See http://infernojs.org for more details.")}let XUe=(()=>{class o{static $inject=["components"];constructor(s){s.onGetComponent("viewer",()=>KUe),s.onGetComponent("viewer",()=>ZUe),s.onGetComponent("viewer",()=>JUe)}}return o})();function KUe(o,{injector:r}){let l=r.get("components").getComponents("header");return yt(1,"div","dmn-boxed-expression-section dmn-boxed-expression-header",l&&l.map((u,f)=>ar(2,u,null,f)),0)}function ZUe(o,{injector:r}){let l=r.get("components").getComponents("body");return yt(1,"div","dmn-boxed-expression-section dmn-boxed-expression-body",l&&l.map((u,f)=>ar(2,u,null,f)),0)}function JUe(o,{injector:r}){let l=r.get("components").getComponents("footer");return yt(1,"div","dmn-boxed-expression-section dmn-boxed-expression-footer",l&&l.map((u,f)=>ar(2,u,null,f)),0)}var eqe={__init__:["viewRenderer","tableJsSupport"],viewRenderer:["type",XUe],tableJsSupport:["type",(()=>{class o{static $inject=["components"];constructor(s){s.onGetComponent("viewer",()=>{let l=s.getComponents("table.before")||[];return()=>yt(1,"div",null,l.map((u,f)=>ar(2,u,null,f)),0)})}}return o})()]};let tqe=2e3;var nqe={__init__:["poweredBy"],poweredBy:["type",(()=>{class o{constructor(s){s.onGetComponent("viewer",tqe,()=>AI)}}return o.$inject=["components"],o})()]};let rqe=(()=>{class o{static $inject=["components"];constructor(s){s.onGetComponent("expression",({expression:l})=>{if(we(l,"dmn:LiteralExpression"))return iqe})}}return o})();function iqe({expression:o},r){let l=r.injector.get("literalExpression").getText(o);return yt(1,"div","textarea",yt(1,"div","content",l,0),2)}class $se{getText(r){return r.get("text")}}var oqe={__init__:["literalExpressionComponent"],literalExpressionComponent:["type",rqe],literalExpression:["type",$se]};class Nse{getParameters(r){return r.get("formalParameter")}getBody(r){return r.get("body")}getKind(r){return r.get("kind")||"FEEL"}}let sqe=class{static $inject=["components"];constructor(r){r.onGetComponent("expression",({expression:s})=>{if(we(s,"dmn:FunctionDefinition"))return aqe})}};function aqe({expression:o},r){let s=r.injector.get("functionDefinition"),l=s.getKind(o),u=s.getParameters(o),f=s.getBody(o);return yt(1,"div","function-definition",[ar(2,cqe,{kind:l}),ar(2,uqe,{parameters:u}),ar(2,fqe,{expression:f})],4)}let lqe={FEEL:"F",Java:"J",PMML:"P"};function cqe({kind:o},r){let s=r.injector.get("translate");return yt(1,"div","function-definition-kind",lqe[o],0,{title:s("Function kind: {kind}",{kind:o})})}function uqe({parameters:o}){return yt(1,"div","function-definition-parameters",yt(1,"div",null,[Do("("),o.reduce((r,s)=>r.concat(ar(2,dqe,{parameter:s}),", "),[]).slice(0,-1),Do(")")],0),2)}function dqe({parameter:o}){let{name:r,typeRef:s}=o,l=r||"<unnamed>";return yt(1,"span",null,s?`${l}: ${s}`:l,0)}function fqe({expression:o},r){let s=r.components.getComponent("expression",{expression:o});return yt(1,"div","function-definition-body",ar(2,s,{expression:o}),2)}var hqe={__init__:["functionDefinitionComponent"],functionDefinition:["type",Nse],functionDefinitionComponent:["type",sqe]};let pqe=(()=>{class o extends RS{constructor(s,l){super(s,l);let{injector:u}=l;this._translate=u.get("translate"),this._eventBus=u.get("eventBus")}onClick=()=>{this._eventBus.fire("showDrd")};render(){return yt(1,"div","view-drd",yt(1,"button","view-drd-button",this._translate("View DRD"),0,{type:"button",onClick:this.onClick}),2,null,null,s=>this.node=s)}}return o.$inject=["translate"],o})(),mqe=2e3;var gqe={__init__:["viewDrd"],viewDrd:["type",(()=>{class o{constructor(s,l,u){this._injector=u,s.onGetComponent("viewer",mqe,()=>{if(this.canViewDrd())return pqe}),l.on("showDrd",()=>{let f=u.get("_parent",!1),p=f.getDefinitions(),v=f.getView(p);f.open(v)})}canViewDrd(){let s=this._injector.get("_parent",!1);if(!s)return;let l=s.getDefinitions();return!!s.getView(l)}}return o.$inject=["components","eventBus","injector"],o})()]};function vqe(o,r){let s=r.injector.get("viewer"),{name:l}=s.getRootElement();return yt(1,"div","element-properties",yt(1,"h2","element-name",l,0),2)}var yqe={__init__:["elementProperties"],elementProperties:["type",(()=>{class o{constructor(s){s.onGetComponent("header",()=>vqe)}}return o.$inject=["components"],o})()]};let bqe=100,xqe=(()=>{class o{static $inject=["components"];constructor(s){s.onGetComponent("body",()=>Eqe),s.onGetComponent("expression",bqe,()=>_qe)}}return o})();function Eqe(o,{injector:r}){let s=r.get("components"),u=r.get("viewer").getRootElement(),f=wqe(u),p=s.getComponent("expression",{expression:f});return ar(2,p,{expression:f})}function wqe(o){if(we(o,"dmn:Decision"))return o.get("decisionLogic");if(we(o,"dmn:BusinessKnowledgeModel"))return o.get("encapsulatedLogic")}function _qe({expression:o}){return yt(1,"div",null,yt(1,"span",null,[Do("Expression of type "),o.$type,Do(" is not supported.")],0,{style:"color:red;"}),2)}var Cqe={__init__:["elementLogic"],elementLogic:["type",xqe]};let Fse=(()=>{class o{static $inject=["viewer"];constructor(s){this._viewer=s}getName(){let s=this.getVariable(),l=this._getElement();return(s?s.get("name"):null)||l.get("name")}getType(){let s=this.getVariable();return s?s.get("typeRef"):"Any"}_getElement(){return this._viewer.getRootElement()}getVariable(){return this._getElement().get("variable")}}return o})(),Sqe=class{static $inject=["components"];constructor(r){r.onGetComponent("footer",()=>Oqe)}};function Oqe(o,r){let s=r.injector.get("elementVariable"),l=r.injector.get("translate"),u=s.getName(),f=s.getType();return yt(1,"div","element-variable",[yt(1,"h2",null,Do("Result"),2),yt(1,"div","element-variable-name",[yt(1,"span","element-variable-name-label",l("Variable name"),0),yt(1,"span",null,u,0)],4),yt(1,"div","element-variable-type",[yt(1,"span","element-variable-type-label",l("Variable type"),0),yt(1,"span",null,f,0)],4)],4)}var Dqe={__init__:["elementVariableComponent"],elementVariable:["type",Fse],elementVariableComponent:["type",Sqe]};class _L extends Doe{constructor(r={}){let s=_L._createContainer();super(xe(r,{renderer:{container:s}})),this._container=s}open(r){let s=this.get("eventBus");return new Promise((l,u)=>{let f;try{this.getRootElement()&&(this.clear(),s.fire("renderer.unmount")),this._setRootElement(r),s.fire("import",r),s.fire("renderer.mount")}catch(p){f=p}f?(f.warnings=f.warnings||[],u(f)):l({warnings:[]})})}_init(r){let x=r,{modules:s,additionalModules:l}=x,u=Ae(x,["modules","additionalModules"]),f=s||this.getModules(),p=l||[],v=[{viewer:["value",this]}];return{modules:[...f,...p,...v],config:u}}on(r,s,l,u){return this.get("eventBus").on(r,s,l,u)}off(r,s){this.get("eventBus").off(r,s)}_emit(r,s){return this.get("eventBus").fire(r,s)}getRootElement(){return this._root}_setRootElement(r){this._root=r}attachTo(r){if(!r)throw new Error("parentNode required");this.detach(),r.appendChild(this._container),this._emit("attach",{})}detach(){let r=this._container;r.parentNode&&(this._emit("detach",{}),As(r))}destroy(){super.destroy(),this.detach()}getModules(){return[eqe,Ha,nqe,gqe,yqe,Cqe,hqe,oqe,Dqe]}static _createContainer(){return Gn('<div class="dmn-boxed-expression-container"></div>')}}var Tqe={__depends__:[lC],__init__:["keyboardBindings"],keyboardBindings:["type",(()=>{class o{static $inject=["editorActions","keyboard"];constructor(s,l){this.registerBindings(l,s)}registerBindings(s,l){function u(f,p){l.isRegistered(f)&&s.addListener(p)}u("undo",function(f){let p=f.keyEvent;if(dY(p))return l.trigger("undo"),!0}),u("redo",function(f){let p=f.keyEvent;if(fY(p))return l.trigger("redo"),!0})}}return o})()]};let kqe=(()=>{class o extends er{static $inject=["eventBus","modeling"];constructor(s,l){super(s),this._modeling=l,this.postExecuted("element.updateProperties",this.updateName)}updateName=({context:s})=>{let{element:l,properties:u}=s;this.isNameChanged(u)&&(this.isVariable(l)?this.handleVariableNameChange(l):this.isVariableContainer(l)&&this.handleVariableContainerNameChange(l))};isNameChanged(s){return"name"in s}isVariable(s){let l=Bse(s);return we(s,"dmn:InformationItem")&&l&&l.get("variable")===s}isVariableContainer(s){let l=s.get("variable");return l&&we(l,"dmn:InformationItem")}handleVariableNameChange(s){let l=Bse(s),u=s.get("name");u!==l.get("name")&&this._modeling.updateProperties(l,{name:u})}handleVariableContainerNameChange(s){let l=s.get("variable"),u=s.get("name");l&&u!==l.get("name")&&this._modeling.updateProperties(l,{name:u})}}return o})();function Bse(o){return o.$parent}let Pqe=(()=>{class o{constructor(s,l,u){this._commandStack=s,this._viewer=l,this._eventBus=u,Iqe(this._getHandlers(),s)}_getHandlers(){return{"element.updateProperties":z9}}updateProperties(s,l){let u={element:s,properties:l};this._commandStack.execute("element.updateProperties",u)}}return o.$inject=["commandStack","viewer","eventBus"],o})();function Iqe(o,r){D(o,function(s,l){r.registerHandler(l,s)})}var Mqe={__init__:["idChangeBehavior","modeling","nameChangeBehavior"],commandStack:["type",vr],idChangeBehavior:["type",uC],modeling:["type",Pqe],nameChangeBehavior:["type",kqe]};function og(o,r){return function(s){return pL(ar(2,Aqe,Me(se({},s),{_component:o,_selectDependencies:r})))}}class Aqe extends RS{constructor(r,s){super(r,s),this._eventBus=s.injector.get("eventBus")}componentDidMount(){this._subscribe()}componentWillUnmount(){this._unsubscribe()}_subscribe(){this._eventBus.on("elements.changed",this.onChange)}_unsubscribe(){this._eventBus.off("elements.changed",this.onChange)}onChange=({elements:r})=>{this.props._selectDependencies(this.props).some(l=>r.includes(l))&&this.forceUpdate()};render(){let r=this.props._component;return pL(ar(2,r,se({},this.props)))}}class Rqe extends RS{constructor(r,s){super(r,s),this._literalExpression=s.injector.get("literalExpression"),this._translate=s.injector.get("translate"),this._expressionLanguages=s.injector.get("expressionLanguages"),this._variableResolver=s.injector.get("variableResolver",!1)}getLiteralExpression(){return this.props.expression}editLiteralExpressionText=r=>{let s=this.getLiteralExpression();this._literalExpression.setText(s,r)};getEditor(){return this.isFeel()?Lqe:$qe}isFeel(){let r=this.getLiteralExpression();return xCe(r)}_getVariables(){let r=this.getLiteralExpression();return this._variableResolver&&this._variableResolver.getVariables(r)}render(){let{text:r}=this.getLiteralExpression(),s=this.getEditor(),l=this._getVariables(),u=this._translate("Literal expression");return ar(2,s,{label:u,className:"textarea editor",value:r,onChange:this.editLiteralExpressionText,variables:l})}}function Lqe(o){return pL(ar(2,hS,Me(se({},o),{onChange:o.onChange})))}class $qe extends Tv{render(){return yt(1,"div",this.getClassName(),this.getEditor(),0)}}let Nqe=og(Rqe,o=>[o.expression]);var Fqe={__init__:["literalExpressionComponent"],literalExpressionComponent:["type",(()=>{class o{static $inject=["components"];constructor(s){s.onGetComponent("expression",({expression:l})=>{if(we(l,"dmn:LiteralExpression"))return Nqe})}}return o})()],literalExpression:["type",(()=>{class o extends $se{constructor(s){super(),this._modeling=s}setText(s,l){this._modeling.updateProperties(s,{text:l})}}return o.$inject=["modeling"],o})()]};let Bqe=(()=>{class o extends Nse{static $inject=["modeling","dmnFactory"];constructor(s,l){super(),this._modeling=s,this._dmnFactory=l}addParameter(s){this._modeling.updateProperties(s,{formalParameter:[...this.getParameters(s),this._dmnFactory.create("dmn:InformationItem",{name:"",typeRef:""})]})}removeParameter(s,l){this._modeling.updateProperties(s,{formalParameter:this.getParameters(s).filter(u=>u!==l)})}updateParameter(s,l){this._modeling.updateProperties(s,l)}setKind(s,l){this._modeling.updateProperties(s,{kind:l})}}return o})();function jse({label:o,onClick:r}){return yt(1,"button","edit-button dmn-icon-edit",null,1,{"aria-label":o,type:"button",onClick:r})}let jqe=(()=>{class o{static $inject=["components"];constructor(s){s.onGetComponent("expression",({expression:l})=>{if(we(l,"dmn:FunctionDefinition"))return Vqe})}}return o})(),Vqe=og(zqe,o=>[o.expression]);function zqe({expression:o},r){let s=r.injector.get("functionDefinition"),l=r.injector.get("contextMenu"),u=s.getKind(o),f=s.getParameters(o),p=s.getBody(o),v=x=>{let w=Vse(x);l.open(w,{contextMenuType:"kind-editor",expression:o})},y=x=>{let w=Vse(x);l.open(w,{contextMenuType:"formal-parameters-editor",expression:o})};return yt(1,"div","function-definition",[ar(2,Uqe,{kind:u,openEditor:v}),ar(2,qqe,{parameters:f,openEditor:y}),ar(2,Qqe,{expression:p})],4)}let Hqe={FEEL:"F",Java:"J",PMML:"P"};function Uqe({kind:o,openEditor:r},s){let l=s.injector.get("translate");return yt(1,"div","function-definition-kind",[Hqe[o],ar(2,jse,{label:l("Edit function kind"),onClick:r})],0)}function qqe({openEditor:o,parameters:r},s){let l=s.injector.get("translate");return yt(1,"div","function-definition-parameters",[yt(1,"div",null,[Do("("),r.reduce((u,f)=>u.concat(ar(2,Wqe,{parameter:f}),", "),[]).slice(0,-1),Do(")")],0),ar(2,jse,{label:l("Edit formal parameters"),onClick:o})],4)}let Wqe=og(Gqe,o=>[o.parameter]);function Gqe({parameter:o}){let{name:r,typeRef:s}=o,l=r||"<unnamed>";return yt(1,"span",null,s?`${l}: ${s}`:l,0)}function Qqe({expression:o},r){let s=r.components.getComponent("expression",{expression:o});return yt(1,"div","function-definition-body",ar(2,s,{expression:o}),2)}function Vse(o){let r=o.target.parentElement,s=r.getBoundingClientRect();return{x:s.x,y:s.y}}let Yqe=[{value:"FEEL",label:"FEEL"},{value:"Java",label:"Java"},{value:"PMML",label:"PMML"}],Xqe=(()=>{class o{static $inject=["components"];constructor(s){s.onGetComponent("context-menu",(l={})=>{if(l.contextMenuType&&l.contextMenuType==="kind-editor")return Kqe})}}return o})();function Kqe({context:{expression:o}},r){let s=r.injector.get("functionDefinition"),l=r.injector.get("translate"),u=s.getKind(o),f=p=>{s.setKind(o,p)};return yt(1,"div","context-menu-container",[yt(1,"h3",null,l("Edit function kind"),0),ar(2,mi,{label:l("Kind"),options:Yqe,value:u,onChange:f,noInput:!0})],4)}let Zqe=(()=>{class o{static $inject=["components"];constructor(s){s.onGetComponent("context-menu",(l={})=>{if(l.contextMenuType&&l.contextMenuType==="formal-parameters-editor")return Jqe})}}return o})(),Jqe=og(eWe,o=>[o.context.expression]);function eWe({context:{expression:o}},r){let s=r.injector.get("functionDefinition"),l=r.injector.get("translate"),u=s.getParameters(o),f=v=>{s.removeParameter(o,v)},p=()=>{s.addParameter(o)};return yt(1,"div","context-menu-container formal-parameters",[yt(1,"h3",null,l("Edit formal parameters"),0),u.length?yt(1,"table",null,[yt(1,"thead",null,yt(1,"tr",null,[yt(1,"th",null,Do("Name"),2),yt(1,"th",null,Do("Type"),2)],4),2),yt(1,"tbody",null,u.map((v,y)=>ar(2,tWe,{parameter:v,remove:()=>f(v)},y)),0)],4):null,yt(1,"button","add-parameter",l("Add parameter"),0,{type:"button",onClick:p})],0)}let tWe=og(function({parameter:o,remove:r},s){let l=s.injector.get("dataTypes"),u=s.injector.get("translate"),f=s.injector.get("functionDefinition"),{name:p,typeRef:v}=o,y=C=>{f.updateParameter(o,{name:C})},x=C=>{f.updateParameter(o,{typeRef:C})},w=l.getAll().map(C=>({label:u(C),value:C}));return yt(1,"tr","function-definition-parameter",[yt(1,"td",null,ar(2,lf,{onChange:y,value:p}),2),yt(1,"td",null,ar(2,mi,{onChange:x,value:v,options:w}),2),yt(1,"td",null,yt(1,"button","dmn-icon-trash",null,1,{type:"button",onClick:r,"aria-label":u("Remove parameter")}),2)],4)},o=>[o.parameter]);var nWe={__init__:["formalParametersEditorComponent","functionDefinitionComponent","kindEditorComponent"],__depends__:[qh],formalParametersEditorComponent:["type",Zqe],functionDefinition:["type",Bqe],functionDefinitionComponent:["type",jqe],kindEditorComponent:["type",Xqe]};let rWe=og(function(o,r){let{element:s}=o,l=r.injector.get("modeling"),u=r.injector.get("translate"),f=s.get("name"),p=v=>{l.updateProperties(s,{name:v})};return ar(2,lf,{label:u("Element name"),className:"element-name editor",value:f,onChange:p})},o=>[o.element]);function iWe(o,r){let l=r.injector.get("viewer").getRootElement();return yt(1,"div","element-properties",ar(2,rWe,{element:l}),2)}var oWe={__depends__:[Uh],__init__:["elementProperties"],elementProperties:["type",(()=>{class o{constructor(s){s.onGetComponent("header",()=>iWe)}}return o.$inject=["components"],o})()]},sWe={__init__:["elementRegistry"],elementRegistry:["type",(()=>{class o{constructor(s,l){this._eventBus=l,this._viewer=s}updateId(s,l){let u=this._viewer.getRootElement();if(s!==u)throw new Error("element !== rootElement");this._eventBus.fire("element.updateId",{element:s,newId:l}),s.id=l}}return o.$inject=["viewer","eventBus"],o})()],dmnFactory:["type",(()=>{class o{static $inject=["moddle"];constructor(s){this._moddle=s}create(s,l={}){return this._moddle.create(s,l)}}return o})()]};let aWe=(()=>{class o extends Fse{static $inject=["viewer","modeling","dmnFactory"];constructor(s,l,u){super(s),this._modeling=l,this._dmnFactory=u}setType(s){let l=this.getVariable();if(!l){let u=this._getElement();this._modeling.updateProperties(u,{variable:this._dmnFactory.create("dmn:InformationItem",{name:u.get("name"),typeRef:s})});return}this._modeling.updateProperties(l,{typeRef:s})}}return o})(),zse="dmn-boxed-expression-variable-type",lWe=(()=>{class o{static $inject=["components","elementVariable"];constructor(s,l){let u=og(cWe,()=>[l.getVariable()]);s.onGetComponent("footer",()=>u)}}return o})();function cWe(o,r){let s=r.injector.get("elementVariable"),l=r.injector.get("translate"),u=s.getName();return yt(1,"div","element-variable",[yt(1,"h2",null,Do("Result"),2),yt(1,"div","element-variable-name",[yt(1,"span","element-variable-name-label",l("Variable name"),0),yt(1,"span",null,u,0)],4),yt(1,"div","element-variable-type",[yt(1,"label","element-variable-type-label",Do("Result type"),2,{for:zse}),ar(2,uWe)],4)],4)}function uWe(o,r){let s=r.injector.get("elementVariable"),l=r.injector.get("dataTypes"),u=r.injector.get("translate"),f=s.getType(),p=y=>s.setType(y),v=l.getAll().map(y=>({label:u(y),value:y}));return ar(2,mi,{value:f,onChange:p,options:v,id:zse})}var dWe={__init__:["elementVariableComponent"],elementVariable:["type",aWe],elementVariableComponent:["type",lWe]};let Hse="is not a registered action",fWe="is already registered",hWe=(()=>{class o{constructor(s,l){this._actions={undo(){s.undo()},redo(){s.redo()}}}trigger(s,l){if(!this._actions[s])throw CL(s,Hse);return this._actions[s](l)}register(s,l){if(typeof s=="string")return this._registerAction(s,l);D(s,(u,f)=>{this._registerAction(f,u)})}_registerAction(s,l){if(this.isRegistered(s))throw CL(s,fWe);this._actions[s]=l}unregister(s){if(!this.isRegistered(s))throw CL(s,Hse);this._actions[s]=void 0}isRegistered(s){return!!this._actions[s]}}return o.$inject=["commandStack","eventBus"],o})();function CL(o,r){return new Error(o+" "+r)}var pWe={__init__:["editorActions"],editorActions:["type",hWe]};class mWe extends _L{getModules(){return[...super.getModules(),sWe,Mqe,pWe,oWe,nWe,Hh,Fqe,Tqe,r6,dWe,KM]}}class gWe extends ECe{_getViewProviders(){return[{id:"drd",constructor:vv,opens:"dmn:Definitions"},{id:"decisionTable",constructor:Tze,opens(r){return we(r,"dmn:Decision")&&we(r.decisionLogic,"dmn:DecisionTable")}},{id:"literalExpression",constructor:iUe,opens(r){return we(r,"dmn:Decision")&&we(r.decisionLogic,"dmn:LiteralExpression")}},{id:"boxedExpression",constructor:mWe,opens(r){return we(r,"dmn:BusinessKnowledgeModel")&&g_(r)}}]}_getInitialView(r,...s){let l=super._getInitialView(r,...s);if(!l)return;let u=l.element;return we(u,"dmn:Definitions")&&!eK(u)&&(l=_(r,f=>!we(f.element,"dmn:Definitions"))||l),l}}return gWe})});var Ive=Qu((Can,ST)=>{"use strict";(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var a="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(a=i(a,n(d)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var c="";for(var d in a)t.call(a,d)&&a[d]&&(c=i(c,d));return c}function i(a,c){return c?a?a+" "+c:a+c:a}typeof ST<"u"&&ST.exports?(e.default=e,ST.exports=e):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var AU=Qu(pn=>{"use strict";function Gvt(t){return Array.prototype.concat.apply([],t)}var L4=Object.prototype.toString,Qvt=Object.prototype.hasOwnProperty;function Qb(t){return t===void 0}function cEe(t){return t!==void 0}function PU(t){return t==null}function xP(t){return L4.call(t)==="[object Array]"}function bP(t){return L4.call(t)==="[object Object]"}function Yvt(t){return L4.call(t)==="[object Number]"}function IU(t){let e=L4.call(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"||e==="[object Proxy]"}function Xvt(t){return L4.call(t)==="[object String]"}function uEe(t){if(!xP(t))throw new Error("must supply array")}function dEe(t,e){return Qvt.call(t,e)}function fEe(t,e){let n=wP(e),i;return ra(t,function(a,c){if(n(a,c))return i=a,!1}),i}function Kvt(t,e){let n=wP(e),i=xP(t)?-1:void 0;return ra(t,function(a,c){if(n(a,c))return i=c,!1}),i}function Zvt(t,e){let n=wP(e),i=[];return ra(t,function(a,c){n(a,c)&&i.push(a)}),i}function ra(t,e){let n,i;if(Qb(t))return;let a=xP(t)?ayt:syt;for(let c in t)if(dEe(t,c)&&(n=t[c],i=e(n,a(c)),i===!1))return n}function Jvt(t,e){if(Qb(t))return[];uEe(t);let n=wP(e);return t.filter(function(i,a){return!n(i,a)})}function hEe(t,e,n){return ra(t,function(i,a){n=e(n,i,a)}),n}function pEe(t,e){return!!hEe(t,function(n,i,a){return n&&e(i,a)},!0)}function eyt(t,e){return!!fEe(t,e)}function EP(t,e){let n=[];return ra(t,function(i,a){n.push(e(i,a))}),n}function mEe(t){return t&&Object.keys(t)||[]}function tyt(t){return mEe(t).length}function nyt(t){return EP(t,e=>e)}function gEe(t,e,n={}){return e=MU(e),ra(t,function(i){let a=e(i)||"_",c=n[a];c||(c=n[a]=[]),c.push(i)}),n}function vEe(t,...e){t=MU(t);let n={};return ra(e,a=>gEe(a,t,n)),EP(n,function(a,c){return a[0]})}var ryt=vEe;function iyt(t,e){e=MU(e);let n=[];return ra(t,function(i,a){let c=e(i,a),d={d:c,v:i};for(var h=0;h<n.length;h++){let{d:m}=n[h];if(c<m){n.splice(h,0,d);return}}n.push(d)}),EP(n,i=>i.v)}function oyt(t){return function(e){return pEe(t,function(n,i){return e[i]===n})}}function MU(t){return IU(t)?t:e=>e[t]}function wP(t){return IU(t)?t:e=>e===t}function syt(t){return t}function ayt(t){return Number(t)}function lyt(t,e){let n,i,a,c;function d(E){let _=Date.now(),S=E?0:c+e-_;if(S>0)return h(S);t.apply(a,i),m()}function h(E){n=setTimeout(d,E)}function m(){n&&clearTimeout(n),n=c=i=a=void 0}function g(){n&&d(!0),m()}function b(...E){c=Date.now(),i=E,a=this,n||h(e)}return b.flush=g,b.cancel=m,b}function cyt(t,e){let n=!1;return function(...i){n||(t(...i),n=!0,setTimeout(()=>{n=!1},e))}}function uyt(t,e){return t.bind(e)}function dyt(t,...e){return Object.assign(t,...e)}function fyt(t,e,n){let i=t;return ra(e,function(a,c){if(typeof a!="number"&&typeof a!="string")throw new Error("illegal key type: "+typeof a+". Key should be of type number or string.");if(a==="constructor")throw new Error("illegal key: constructor");if(a==="__proto__")throw new Error("illegal key: __proto__");let d=e[c+1],h=i[a];cEe(d)&&PU(h)&&(h=i[a]=isNaN(+d)?{}:[]),Qb(d)?Qb(n)?delete i[a]:i[a]=n:i=h}),t}function hyt(t,e,n){let i=t;return ra(e,function(a){if(PU(i))return i=void 0,!1;i=i[a]}),Qb(i)?n:i}function pyt(t,e){let n={},i=Object(t);return ra(e,function(a){a in i&&(n[a]=t[a])}),n}function myt(t,e){let n={},i=Object(t);return ra(i,function(a,c){e.indexOf(c)===-1&&(n[c]=a)}),n}function yEe(t,...e){return e.length&&ra(e,function(n){!n||!bP(n)||ra(n,function(i,a){if(a==="__proto__")return;let c=t[a];bP(i)?(bP(c)||(c={}),t[a]=yEe(c,i)):t[a]=i})}),t}pn.assign=dyt;pn.bind=uyt;pn.debounce=lyt;pn.ensureArray=uEe;pn.every=pEe;pn.filter=Zvt;pn.find=fEe;pn.findIndex=Kvt;pn.flatten=Gvt;pn.forEach=ra;pn.get=hyt;pn.groupBy=gEe;pn.has=dEe;pn.isArray=xP;pn.isDefined=cEe;pn.isFunction=IU;pn.isNil=PU;pn.isNumber=Yvt;pn.isObject=bP;pn.isString=Xvt;pn.isUndefined=Qb;pn.keys=mEe;pn.map=EP;pn.matchPattern=oyt;pn.merge=yEe;pn.omit=myt;pn.pick=pyt;pn.reduce=hEe;pn.set=fyt;pn.size=tyt;pn.some=eyt;pn.sortBy=iyt;pn.throttle=cyt;pn.unionBy=ryt;pn.uniqueBy=vEe;pn.values=nyt;pn.without=Jvt});var SEe=Qu(B4=>{"use strict";Object.defineProperty(B4,"__esModule",{value:!0});var Jr=AU();function RU(t){return($4(t,"zeebe:IoMapping")||[])[0]}function gyt(t){return _yt(t,"inputParameters")}function vyt(t){return(RU(t)||{}).outputParameters}function yyt(t){return(RU(t)||{}).inputParameters}function byt(t){let e=$4(t,"zeebe:LoopCharacteristics")[0];return e&&e.inputElement}function xyt(t){let e=$4(t,"zeebe:LoopCharacteristics")[0];return e&&e.outputCollection}function Eyt(t){return($4(t,"zeebe:CalledDecision")||[])[0]}function wyt(t){return($4(t,"zeebe:Script")||[])[0]}function $4(t,e,n){var i=Cyt(t,e);return n?(i[0]||{})[n]||[]:i}function _yt(t,e){var n=RU(t);return n&&n.get(e)||[]}function Cyt(t,e){var n=[],i=t.get("extensionElements");if(typeof i<"u"){var a=i.get("values");typeof a<"u"&&(n=Jr.filter(a,function(c){return Syt(c,e)}))}return n}function Syt(t,e){return t&&typeof t.$instanceOf=="function"&&t.$instanceOf(e)}function xEe(t){for(var e=[],n=t;n.$parent;)e.push(n.$parent),n=n.$parent;return e}function EEe(t,e,n){n=n||0,Jr.isArray(t)||(t=[t]),Jr.forEach(t,function(i,a){var c=e(i,a,n);Jr.isArray(c)&&c.length&&EEe(c,e,n+1)})}function bEe(t,e,n){var i=!n||t.indexOf(e)===-1;return i&&t.push(e),i}function Oyt(t,e,n){var i=[],a=[];return EEe(t,function(c,d,h){bEe(i,c,e);var m=c.flowElements;if((n===-1||h<n)&&m&&bEe(a,m,e))return m}),i}function wEe(t,e){return Oyt(t,!e,-1)}function Dyt(t,e){var n=wEe(e);return Jr.find(n,function(i){return i.id===t})}function N4(t,e){var n=Jr.findIndex(t,function(i){return i.name===e.name&&i.scope===e.scope});n>=0?t[n].origin=Iyt(t[n].origin,e.origin):t.push(e)}function F4(t,e,n){var i=Tyt(t,n,e);return{name:e,origin:[t],scope:i}}function Tyt(t,e,n){var i=xEe(t),a=Jr.find(i,function(c){return kyt(c,"bpmn:SubProcess")&&Pyt(c,n)});return a||e}function kyt(t,e){return t&&typeof t.$instanceOf=="function"&&t.$instanceOf(e)}function Pyt(t,e){return Jr.find(gyt(t),function(n){return n.target===e})}function Iyt(t,e){return t.concat(e)}function Myt(t){var e=t.elements,n=t.processVariables;return Jr.isArray(e)||(e=[e]),Jr.forEach(e,function(i){var a=yyt(i);Jr.forEach(a,function(c){var d=F4(i,c.target,i);N4(n,d)})}),n}function Ayt(t){var e=t.elements,n=t.processVariables;return Jr.isArray(e)||(e=[e]),Jr.forEach(e,function(i){var a=i.loopCharacteristics,c=a&&byt(a);if(c){var d=F4(i,c,i);N4(n,d)}}),n}function Ryt(t){var e=t.elements,n=t.containerElement,i=t.processVariables;return Jr.isArray(e)||(e=[e]),Jr.forEach(e,function(a){var c=vyt(a);Jr.forEach(c,function(d){var h=F4(a,d.target,n);N4(i,h)})}),i}function Lyt(t){var e=t.elements,n=t.containerElement,i=t.processVariables;return Jr.isArray(e)||(e=[e]),Jr.forEach(e,function(a){var c=a.loopCharacteristics,d=c&&xyt(c);if(d){var h=F4(a,d,n);N4(i,h)}}),i}function $yt(t){var e=t.elements,n=t.containerElement,i=t.processVariables;return Jr.isArray(e)||(e=[e]),Jr.forEach(e,function(a){var c=Eyt(a)||wyt(a);if(c){var d=c.resultVariable;if(d){var h=F4(a,d,n);N4(i,h)}}}),i}var Nyt=[Myt,Ayt,Ryt,Lyt,$yt];function _Ee(t,e=[]){var n=[],i=wEe([t],!1);let a=[];return Jr.forEach([...Nyt,...e],function(c){a.push(c({elements:i,containerElement:t,processVariables:n}))}),Promise.all(a).then(()=>n)}function CEe(i,a){return co(this,arguments,function*(t,e,n=[]){var c=yield _Ee(e,n),d=Dyt(t,e),h=Jr.filter(c,function(b){return b.scope.id===d.id}),m=xEe(d),g=Jr.filter(c,function(b){return Jr.find(m,function(E){return E.id===b.scope.id})});return Vyt(h,g)})}function Fyt(t,e=[]){return CEe(Byt(t),jyt(t),e)}function Byt(t){let e=LU(t);return _P(t,"bpmn:Participant")?e.processRef.id:e.id}function jyt(t){let e=LU(t);if(_P(e,"bpmn:Participant"))return e.processRef;if(_P(e,"bpmn:Process"))return e;let n=e;for(;n.$parent&&!_P(n,"bpmn:Process");)n=n.$parent;return n}function Vyt(t,e){return t.concat(e)}function LU(t){return t&&t.businessObject||t}function _P(t,e){var n=LU(t);return n&&typeof n.$instanceOf=="function"&&n.$instanceOf(e)}B4.getProcessVariables=_Ee;B4.getVariablesForElement=Fyt;B4.getVariablesForScope=CEe});var REe=Qu(CP=>{"use strict";Object.defineProperty(CP,"__esModule",{value:!0});var mr=AU();function zyt(t){return($U(t,"camunda:InputOutput")||[])[0]}function Hyt(t){return TEe(t,"inputParameters")}function Uyt(t){return TEe(t,"outputParameters")}function qyt(t){var e=Wyt(t);return e&&e.get("fields")||[]}function Wyt(t){return $U(t,"camunda:FormData")[0]}function Gyt(t){return $U(t,"camunda:Out")}function $U(t,e,n){var i=Qyt(t,e);return n?(i[0]||{})[n]||[]:i}function TEe(t,e){var n=zyt(t);return n&&n.get(e)||[]}function Qyt(t,e){var n=[],i=t.get("extensionElements");if(typeof i<"u"){var a=i.get("values");typeof a<"u"&&(n=mr.filter(a,function(c){return Yyt(c,e)}))}return n}function Yyt(t,e){return t&&typeof t.$instanceOf=="function"&&t.$instanceOf(e)}function kEe(t){for(var e=[],n=t;n.$parent;)e.push(n.$parent),n=n.$parent;return e}function PEe(t,e,n){n=n||0,mr.isArray(t)||(t=[t]),mr.forEach(t,function(i,a){var c=e(i,a,n);mr.isArray(c)&&c.length&&PEe(c,e,n+1)})}function DEe(t,e,n){var i=!n||t.indexOf(e)===-1;return i&&t.push(e),i}function Xyt(t,e,n){var i=[],a=[];return PEe(t,function(c,d,h){DEe(i,c,e);var m=c.flowElements;if((n===-1||h<n)&&m&&DEe(a,m,e))return m}),i}function IEe(t,e){return Xyt(t,!e,-1)}function Kyt(t,e){var n=IEe(e);return mr.find(n,function(i){return i.id===t})}function j4(t,e){var n=mr.findIndex(t,function(i){return i.name===e.name&&i.scope===e.scope});n>=0?t[n].origin=t2t(t[n].origin,e.origin):t.push(e)}function V4(t,e,n){var i=Zyt(t,n,e);return{name:e,origin:[t],scope:i}}function Zyt(t,e,n){var i=kEe(t),a=mr.find(i,function(c){return Jyt(c,"bpmn:SubProcess")&&e2t(c,n)});return a||e}function Jyt(t,e){return t&&typeof t.$instanceOf=="function"&&t.$instanceOf(e)}function e2t(t,e){return mr.find(Hyt(t),function(n){return n.name===e})}function t2t(t,e){return t.concat(e)}function n2t(t){var e=t.elements,n=t.containerElement,i=t.processVariables;return mr.isArray(e)||(e=[e]),mr.forEach(e,function(a){var c=Uyt(a);mr.forEach(c,function(d){var h=V4(a,d.name,n);j4(i,h)})}),i}function r2t(t){var e=t.elements,n=t.containerElement,i=t.processVariables;return mr.isArray(e)||(e=[e]),mr.forEach(e,function(a){var c=i2t(a);if(c){var d=V4(a,c,n);j4(i,d)}}),i}function i2t(t){return t.get("camunda:resultVariable")}function o2t(t){var e=t.elements,n=t.containerElement,i=t.processVariables;return mr.isArray(e)||(e=[e]),mr.forEach(e,function(a){var c=qyt(a);mr.forEach(c,function(d){var h=V4(a,d.id,n);j4(i,h)})}),i}function s2t(t){var e=t.elements,n=t.containerElement,i=t.processVariables;return mr.isArray(e)||(e=[e]),mr.forEach(e,function(a){var c=Gyt(a);mr.forEach(c,function(d){if(!d.local){var h=V4(a,d.target,n);j4(i,h)}})}),i}function MEe(t,e){var n=t.eventDefinitions;return!n||!e?n:mr.filter(n,function(i){return c2t(i,e)})}function a2t(t){return MEe(t,"bpmn:ErrorEventDefinition")}function l2t(t){return MEe(t,"bpmn:EscalationEventDefinition")}function c2t(t,e){return t&&typeof t.$instanceOf=="function"&&t.$instanceOf(e)}function u2t(t){var e=t.elements,n=t.containerElement,i=t.processVariables,a=function(c,d){var h=V4(c,d,n);j4(i,h)};return mr.isArray(e)||(e=[e]),mr.forEach(e,function(c){var d=a2t(c);mr.forEach(d,function(m){var g=m.get("errorCodeVariable"),b=m.get("errorMessageVariable");g&&a(c,g),b&&a(c,b)});var h=l2t(c);mr.forEach(h,function(m){var g=m.get("escalationCodeVariable");g&&a(c,g)})}),i}var d2t=[n2t,r2t,o2t,s2t,u2t];function AEe(t,e=[]){let n=[];var i=[],a=IEe([t],!1);return mr.forEach([...d2t,...e],function(c){n.push(c({elements:a,containerElement:t,processVariables:i}))}),Promise.all(n).then(()=>i)}function f2t(i,a){return co(this,arguments,function*(t,e,n=[]){var c=yield AEe(e,n),d=Kyt(t,e),h=mr.filter(c,function(b){return b.scope.id===d.id}),m=kEe(d),g=mr.filter(c,function(b){return mr.find(m,function(E){return E.id===b.scope.id})});return h2t(h,g)})}function h2t(t,e){return t.concat(e)}CP.getProcessVariables=AEe;CP.getVariablesForScope=f2t});var Yse=null;var OL=1,Xse=Symbol("SIGNAL");function rr(t){let e=Yse;return Yse=t,e}var Kse={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function CWe(t){if(!(kL(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===OL)){if(!t.producerMustRecompute(t)&&!DL(t)){t.dirty=!1,t.lastCleanEpoch=OL;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=OL}}function Zse(t){return t&&(t.nextProducerIndex=0),rr(t)}function Jse(t,e){if(rr(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(kL(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)TL(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function DL(t){FS(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(CWe(n),i!==n.version))return!0}return!1}function eae(t){if(FS(t),kL(t))for(let e=0;e<t.producerNode.length;e++)TL(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function TL(t,e){if(SWe(t),FS(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)TL(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],a=t.liveConsumerNode[e];FS(a),a.producerIndexOfThis[i]=e}}function kL(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function FS(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function SWe(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function OWe(){throw new Error}var DWe=OWe;function tae(t){DWe=t}function Wt(t){return typeof t=="function"}function hy(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var BS=hy(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,a)=>`${a+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function eE(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var uo=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let c of n)c.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(Wt(i))try{i()}catch(c){e=c instanceof BS?c.errors:[c]}let{_finalizers:a}=this;if(a){this._finalizers=null;for(let c of a)try{nae(c)}catch(d){e=e??[],d instanceof BS?e=[...e,...d.errors]:e.push(d)}}if(e)throw new BS(e)}}add(e){var n;if(e&&e!==this)if(this.closed)nae(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&eE(n,e)}remove(e){let{_finalizers:n}=this;n&&eE(n,e),e instanceof t&&e._removeParent(this)}};uo.EMPTY=(()=>{let t=new uo;return t.closed=!0,t})();var PL=uo.EMPTY;function jS(t){return t instanceof uo||t&&"closed"in t&&Wt(t.remove)&&Wt(t.add)&&Wt(t.unsubscribe)}function nae(t){Wt(t)?t():t.unsubscribe()}var Nc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var py={setTimeout(t,e,...n){let{delegate:i}=py;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=py;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function VS(t){py.setTimeout(()=>{let{onUnhandledError:e}=Nc;if(e)e(t);else throw t})}function tE(){}var rae=IL("C",void 0,void 0);function iae(t){return IL("E",void 0,t)}function oae(t){return IL("N",t,void 0)}function IL(t,e,n){return{kind:t,value:e,error:n}}var ag=null;function my(t){if(Nc.useDeprecatedSynchronousErrorHandling){let e=!ag;if(e&&(ag={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=ag;if(ag=null,n)throw i}}else t()}function sae(t){Nc.useDeprecatedSynchronousErrorHandling&&ag&&(ag.errorThrown=!0,ag.error=t)}var lg=class extends uo{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jS(e)&&e.add(this)):this.destination=PWe}static create(e,n,i){return new gy(e,n,i)}next(e){this.isStopped?AL(oae(e),this):this._next(e)}error(e){this.isStopped?AL(iae(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?AL(rae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TWe=Function.prototype.bind;function ML(t,e){return TWe.call(t,e)}var RL=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){zS(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){zS(i)}else zS(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){zS(n)}}},gy=class extends lg{constructor(e,n,i){super();let a;if(Wt(e)||!e)a={next:e??void 0,error:n??void 0,complete:i??void 0};else{let c;this&&Nc.useDeprecatedNextContext?(c=Object.create(e),c.unsubscribe=()=>this.unsubscribe(),a={next:e.next&&ML(e.next,c),error:e.error&&ML(e.error,c),complete:e.complete&&ML(e.complete,c)}):a=e}this.destination=new RL(a)}};function zS(t){Nc.useDeprecatedSynchronousErrorHandling?sae(t):VS(t)}function kWe(t){throw t}function AL(t,e){let{onStoppedNotification:n}=Nc;n&&py.setTimeout(()=>n(t,e))}var PWe={closed:!0,next:tE,error:kWe,complete:tE};var vy=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ka(t){return t}function LL(...t){return $L(t)}function $L(t){return t.length===0?Ka:t.length===1?t[0]:function(n){return t.reduce((i,a)=>a(i),n)}}var ir=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,a){let c=MWe(n)?n:new gy(n,i,a);return my(()=>{let{operator:d,source:h}=this;c.add(d?d.call(c,h):h?this._subscribe(c):this._trySubscribe(c))}),c}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=aae(i),new i((a,c)=>{let d=new gy({next:h=>{try{n(h)}catch(m){c(m),d.unsubscribe()}},error:c,complete:a});this.subscribe(d)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[vy](){return this}pipe(...n){return $L(n)(this)}toPromise(n){return n=aae(n),new n((i,a)=>{let c;this.subscribe(d=>c=d,d=>a(d),()=>i(c))})}}return t.create=e=>new t(e),t})();function aae(t){var e;return(e=t??Nc.Promise)!==null&&e!==void 0?e:Promise}function IWe(t){return t&&Wt(t.next)&&Wt(t.error)&&Wt(t.complete)}function MWe(t){return t&&t instanceof lg||IWe(t)&&jS(t)}function NL(t){return Wt(t?.lift)}function Ln(t){return e=>{if(NL(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function $n(t,e,n,i,a){return new FL(t,e,n,i,a)}var FL=class extends lg{constructor(e,n,i,a,c,d){super(e),this.onFinalize=c,this.shouldUnsubscribe=d,this._next=n?function(h){try{n(h)}catch(m){e.error(m)}}:super._next,this._error=a?function(h){try{a(h)}catch(m){e.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(h){e.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function yy(){return Ln((t,e)=>{let n=null;t._refCount++;let i=$n(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let a=t._connection,c=n;n=null,a&&(!c||a===c)&&a.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var by=class extends ir{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,NL(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new uo;let n=this.getSubject();e.add(this.source.subscribe($n(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=uo.EMPTY)}return e}refCount(){return yy()(this)}};var lae=hy(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ws=(()=>{class t extends ir{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new HS(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new lae}next(n){my(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){my(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){my(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:a,observers:c}=this;return i||a?PL:(this.currentObservers=null,c.push(n),new uo(()=>{this.currentObservers=null,eE(c,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:a,isStopped:c}=this;i?n.error(a):c&&n.complete()}asObservable(){let n=new ir;return n.source=this,n}}return t.create=(e,n)=>new HS(e,n),t})(),HS=class extends Ws{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:PL}};var Qo=class extends Ws{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Za=new ir(t=>t.complete());function cae(t){return t&&Wt(t.schedule)}function uae(t){return t[t.length-1]}function dae(t){return Wt(uae(t))?t.pop():void 0}function xp(t){return cae(uae(t))?t.pop():void 0}function hae(t,e,n,i){function a(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function h(b){try{g(i.next(b))}catch(E){d(E)}}function m(b){try{g(i.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):a(b.value).then(h,m)}g((i=i.apply(t,e||[])).next())})}function fae(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cg(t){return this instanceof cg?(this.v=t,this):new cg(t)}function pae(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),a,c=[];return a={},h("next"),h("throw"),h("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(S){return function(D){return Promise.resolve(D).then(S,E)}}function h(S,D){i[S]&&(a[S]=function(k){return new Promise(function(I,R){c.push([S,k,I,R])>1||m(S,k)})},D&&(a[S]=D(a[S])))}function m(S,D){try{g(i[S](D))}catch(k){_(c[0][3],k)}}function g(S){S.value instanceof cg?Promise.resolve(S.value.v).then(b,E):_(c[0][2],S)}function b(S){m("next",S)}function E(S){m("throw",S)}function _(S,D){S(D),c.shift(),c.length&&m(c[0][0],c[0][1])}}function mae(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof fae=="function"?fae(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=t[c]&&function(d){return new Promise(function(h,m){d=t[c](d),a(h,m,d.done,d.value)})}}function a(c,d,h,m){Promise.resolve(m).then(function(g){c({value:g,done:h})},d)}}var US=t=>t&&typeof t.length=="number"&&typeof t!="function";function qS(t){return Wt(t?.then)}function WS(t){return Wt(t[vy])}function GS(t){return Symbol.asyncIterator&&Wt(t?.[Symbol.asyncIterator])}function QS(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function AWe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var YS=AWe();function XS(t){return Wt(t?.[YS])}function KS(t){return pae(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:a}=yield cg(n.read());if(a)return yield cg(void 0);yield yield cg(i)}}finally{n.releaseLock()}})}function ZS(t){return Wt(t?.getReader)}function To(t){if(t instanceof ir)return t;if(t!=null){if(WS(t))return RWe(t);if(US(t))return LWe(t);if(qS(t))return $We(t);if(GS(t))return gae(t);if(XS(t))return NWe(t);if(ZS(t))return FWe(t)}throw QS(t)}function RWe(t){return new ir(e=>{let n=t[vy]();if(Wt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function LWe(t){return new ir(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function $We(t){return new ir(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,VS)})}function NWe(t){return new ir(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function gae(t){return new ir(e=>{BWe(t,e).catch(n=>e.error(n))})}function FWe(t){return gae(KS(t))}function BWe(t,e){var n,i,a,c;return hae(this,void 0,void 0,function*(){try{for(n=mae(t);i=yield n.next(),!i.done;){let d=i.value;if(e.next(d),e.closed)return}}catch(d){a={error:d}}finally{try{i&&!i.done&&(c=n.return)&&(yield c.call(n))}finally{if(a)throw a.error}}e.complete()})}function ga(t,e,n,i=0,a=!1){let c=e.schedule(function(){n(),a?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(c),!a)return c}function JS(t,e=0){return Ln((n,i)=>{n.subscribe($n(i,a=>ga(i,t,()=>i.next(a),e),()=>ga(i,t,()=>i.complete(),e),a=>ga(i,t,()=>i.error(a),e)))})}function eO(t,e=0){return Ln((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function vae(t,e){return To(t).pipe(eO(e),JS(e))}function yae(t,e){return To(t).pipe(eO(e),JS(e))}function bae(t,e){return new ir(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function xae(t,e){return new ir(n=>{let i;return ga(n,e,()=>{i=t[YS](),ga(n,e,()=>{let a,c;try{({value:a,done:c}=i.next())}catch(d){n.error(d);return}c?n.complete():n.next(a)},0,!0)}),()=>Wt(i?.return)&&i.return()})}function tO(t,e){if(!t)throw new Error("Iterable cannot be null");return new ir(n=>{ga(n,e,()=>{let i=t[Symbol.asyncIterator]();ga(n,e,()=>{i.next().then(a=>{a.done?n.complete():n.next(a.value)})},0,!0)})})}function Eae(t,e){return tO(KS(t),e)}function wae(t,e){if(t!=null){if(WS(t))return vae(t,e);if(US(t))return bae(t,e);if(qS(t))return yae(t,e);if(GS(t))return tO(t,e);if(XS(t))return xae(t,e);if(ZS(t))return Eae(t,e)}throw QS(t)}function Pi(t,e){return e?wae(t,e):To(t)}function Ht(...t){let e=xp(t);return Pi(t,e)}function xy(t,e){let n=Wt(t)?t:()=>t,i=a=>a.error(n());return new ir(e?a=>e.schedule(i,0,a):i)}function BL(t){return!!t&&(t instanceof ir||Wt(t.lift)&&Wt(t.subscribe))}var _f=hy(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function sn(t,e){return Ln((n,i)=>{let a=0;n.subscribe($n(i,c=>{i.next(t.call(e,c,a++))}))})}var{isArray:jWe}=Array;function VWe(t,e){return jWe(e)?t(...e):t(e)}function _ae(t){return sn(e=>VWe(t,e))}var{isArray:zWe}=Array,{getPrototypeOf:HWe,prototype:UWe,keys:qWe}=Object;function Cae(t){if(t.length===1){let e=t[0];if(zWe(e))return{args:e,keys:null};if(WWe(e)){let n=qWe(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function WWe(t){return t&&typeof t=="object"&&HWe(t)===UWe}function Sae(t,e){return t.reduce((n,i,a)=>(n[i]=e[a],n),{})}function nO(...t){let e=xp(t),n=dae(t),{args:i,keys:a}=Cae(t);if(i.length===0)return Pi([],e);let c=new ir(GWe(i,e,a?d=>Sae(a,d):Ka));return n?c.pipe(_ae(n)):c}function GWe(t,e,n=Ka){return i=>{Oae(e,()=>{let{length:a}=t,c=new Array(a),d=a,h=a;for(let m=0;m<a;m++)Oae(e,()=>{let g=Pi(t[m],e),b=!1;g.subscribe($n(i,E=>{c[m]=E,b||(b=!0,h--),h||i.next(n(c.slice()))},()=>{--d||i.complete()}))},i)},i)}}function Oae(t,e,n){t?ga(n,t,e):e()}function Dae(t,e,n,i,a,c,d,h){let m=[],g=0,b=0,E=!1,_=()=>{E&&!m.length&&!g&&e.complete()},S=k=>g<i?D(k):m.push(k),D=k=>{c&&e.next(k),g++;let I=!1;To(n(k,b++)).subscribe($n(e,R=>{a?.(R),c?S(R):e.next(R)},()=>{I=!0},void 0,()=>{if(I)try{for(g--;m.length&&g<i;){let R=m.shift();d?ga(e,d,()=>D(R)):D(R)}_()}catch(R){e.error(R)}}))};return t.subscribe($n(e,S,()=>{E=!0,_()})),()=>{h?.()}}function fo(t,e,n=1/0){return Wt(e)?fo((i,a)=>sn((c,d)=>e(i,c,a,d))(To(t(i,a))),n):(typeof e=="number"&&(n=e),Ln((i,a)=>Dae(i,a,t,n)))}function jL(t=1/0){return fo(Ka,t)}function Tae(){return jL(1)}function Ey(...t){return Tae()(Pi(t,xp(t)))}function rO(t){return new ir(e=>{To(t()).subscribe(e)})}function Ja(t,e){return Ln((n,i)=>{let a=0;n.subscribe($n(i,c=>t.call(e,c,a++)&&i.next(c)))})}function Ep(t){return Ln((e,n)=>{let i=null,a=!1,c;i=e.subscribe($n(n,void 0,void 0,d=>{c=To(t(d,Ep(t)(e))),i?(i.unsubscribe(),i=null,c.subscribe(n)):a=!0})),a&&(i.unsubscribe(),i=null,c.subscribe(n))})}function kae(t,e,n,i,a){return(c,d)=>{let h=n,m=e,g=0;c.subscribe($n(d,b=>{let E=g++;m=h?t(m,b,E):(h=!0,b),i&&d.next(m)},a&&(()=>{h&&d.next(m),d.complete()})))}}function wp(t,e){return Wt(e)?fo(t,e,1):fo(t,1)}function _p(t){return Ln((e,n)=>{let i=!1;e.subscribe($n(n,a=>{i=!0,n.next(a)},()=>{i||n.next(t),n.complete()}))})}function Cf(t){return t<=0?()=>Za:Ln((e,n)=>{let i=0;e.subscribe($n(n,a=>{++i<=t&&(n.next(a),t<=i&&n.complete())}))})}function VL(t){return sn(()=>t)}function iO(t=QWe){return Ln((e,n)=>{let i=!1;e.subscribe($n(n,a=>{i=!0,n.next(a)},()=>i?n.complete():n.error(t())))})}function QWe(){return new _f}function Cp(t){return Ln((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Yu(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Ja((a,c)=>t(a,c,i)):Ka,Cf(1),n?_p(e):iO(()=>new _f))}function wy(t){return t<=0?()=>Za:Ln((e,n)=>{let i=[];e.subscribe($n(n,a=>{i.push(a),t<i.length&&i.shift()},()=>{for(let a of i)n.next(a);n.complete()},void 0,()=>{i=null}))})}function zL(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Ja((a,c)=>t(a,c,i)):Ka,wy(1),n?_p(e):iO(()=>new _f))}function HL(t,e){return Ln(kae(t,e,arguments.length>=2,!0))}function UL(...t){let e=xp(t);return Ln((n,i)=>{(e?Ey(t,n,e):Ey(t,n)).subscribe(i)})}function el(t,e){return Ln((n,i)=>{let a=null,c=0,d=!1,h=()=>d&&!a&&i.complete();n.subscribe($n(i,m=>{a?.unsubscribe();let g=0,b=c++;To(t(m,b)).subscribe(a=$n(i,E=>i.next(e?e(m,E,b,g++):E),()=>{a=null,h()}))},()=>{d=!0,h()}))})}function qL(t){return Ln((e,n)=>{To(t).subscribe($n(n,()=>n.complete(),tE)),!n.closed&&e.subscribe(n)})}function ko(t,e,n){let i=Wt(t)||e||n?{next:t,error:e,complete:n}:t;return i?Ln((a,c)=>{var d;(d=i.subscribe)===null||d===void 0||d.call(i);let h=!0;a.subscribe($n(c,m=>{var g;(g=i.next)===null||g===void 0||g.call(i,m),c.next(m)},()=>{var m;h=!1,(m=i.complete)===null||m===void 0||m.call(i),c.complete()},m=>{var g;h=!1,(g=i.error)===null||g===void 0||g.call(i,m),c.error(m)},()=>{var m,g;h&&((m=i.unsubscribe)===null||m===void 0||m.call(i)),(g=i.finalize)===null||g===void 0||g.call(i)}))}):Ka}var Lt=class extends Error{constructor(e,n){super(TO(e,n)),this.code=e}};function TO(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function mE(t){return{toString:t}.toString()}var oO="__parameters__";function YWe(t){return function(...n){if(t){let i=t(...n);for(let a in i)this[a]=i[a]}}}function dle(t,e,n){return mE(()=>{let i=YWe(e);function a(...c){if(this instanceof a)return i.apply(this,c),this;let d=new a(...c);return h.annotation=d,h;function h(m,g,b){let E=m.hasOwnProperty(oO)?m[oO]:Object.defineProperty(m,oO,{value:[]})[oO];for(;E.length<=b;)E.push(null);return(E[b]=E[b]||[]).push(d),m}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a})}var nE=globalThis;function wr(t){for(let e in t)if(t[e]===wr)return e;throw Error("Could not find renamed property on target object.")}function tl(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(tl).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Pae(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var XWe=wr({__forward_ref__:wr});function fle(t){return t.__forward_ref__=fle,t.toString=function(){return tl(this())},t}function ql(t){return hle(t)?t():t}function hle(t){return typeof t=="function"&&t.hasOwnProperty(XWe)&&t.__forward_ref__===fle}function Bt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ly(t){return{providers:t.providers||[],imports:t.imports||[]}}function kO(t){return Iae(t,mle)||Iae(t,gle)}function ple(t){return kO(t)!==null}function Iae(t,e){return t.hasOwnProperty(e)?t[e]:null}function KWe(t){let e=t&&(t[mle]||t[gle]);return e||null}function Mae(t){return t&&(t.hasOwnProperty(Aae)||t.hasOwnProperty(ZWe))?t[Aae]:null}var mle=wr({\u0275prov:wr}),Aae=wr({\u0275inj:wr}),gle=wr({ngInjectableDef:wr}),ZWe=wr({ngInjectorDef:wr}),Gt=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Bt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vle(t){return t&&!!t.\u0275providers}var JWe=wr({\u0275cmp:wr}),eGe=wr({\u0275dir:wr}),tGe=wr({\u0275pipe:wr}),nGe=wr({\u0275mod:wr}),fO=wr({\u0275fac:wr}),rE=wr({__NG_ELEMENT_ID__:wr}),Rae=wr({__NG_ENV_ID__:wr});function yle(t){return typeof t=="string"?t:t==null?"":String(t)}function rGe(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():yle(t)}function iGe(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Lt(-200,t)}function q$(t,e){throw new Lt(-201,!1)}var un=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(un||{}),n$;function ble(){return n$}function Ul(t){let e=n$;return n$=t,e}function xle(t,e,n){let i=kO(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&un.Optional)return null;if(e!==void 0)return e;q$(t,"Injector")}var oGe={},iE=oGe,r$="__NG_DI_FLAG__",hO="ngTempTokenPath",sGe="ngTokenPath",aGe=/\n/gm,lGe="\u0275",Lae="__source",Oy;function cGe(){return Oy}function Sp(t){let e=Oy;return Oy=t,e}function uGe(t,e=un.Default){if(Oy===void 0)throw new Lt(-203,!1);return Oy===null?xle(t,void 0,e):Oy.get(t,e&un.Optional?null:void 0,e)}function Yt(t,e=un.Default){return(ble()||uGe)(ql(t),e)}function lt(t,e=un.Default){return Yt(t,PO(e))}function PO(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function i$(t){let e=[];for(let n=0;n<t.length;n++){let i=ql(t[n]);if(Array.isArray(i)){if(i.length===0)throw new Lt(900,!1);let a,c=un.Default;for(let d=0;d<i.length;d++){let h=i[d],m=dGe(h);typeof m=="number"?m===-1?a=h.token:c|=m:a=h}e.push(Yt(a,c))}else e.push(Yt(i))}return e}function Ele(t,e){return t[r$]=e,t.prototype[r$]=e,t}function dGe(t){return t[r$]}function fGe(t,e,n,i){let a=t[hO];throw e[Lae]&&a.unshift(e[Lae]),t.message=hGe(`
`+t.message,a,n,i),t[sGe]=a,t[hO]=null,t}function hGe(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==lGe?t.slice(2):t;let a=tl(e);if(Array.isArray(e))a=e.map(tl).join(" -> ");else if(typeof e=="object"){let c=[];for(let d in e)if(e.hasOwnProperty(d)){let h=e[d];c.push(d+":"+(typeof h=="string"?JSON.stringify(h):tl(h)))}a=`{${c.join(", ")}}`}return`${n}${i?"("+i+")":""}[${a}]: ${t.replace(aGe,`
  `)}`}var W$=Ele(dle("Optional"),8);var wle=Ele(dle("SkipSelf"),4);function ky(t,e){let n=t.hasOwnProperty(fO);return n?t[fO]:null}function pGe(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let a=t[i],c=e[i];if(n&&(a=n(a),c=n(c)),c!==a)return!1}return!0}function mGe(t){return t.flat(Number.POSITIVE_INFINITY)}function G$(t,e){t.forEach(n=>Array.isArray(n)?G$(n,e):e(n))}function _le(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pO(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var oE={},Xu=[],Py=new Gt(""),Cle=new Gt("",-1),Sle=new Gt(""),mO=class{get(e,n=iE){if(n===iE){let i=new Error(`NullInjectorError: No provider for ${tl(e)}!`);throw i.name="NullInjectorError",i}return n}},Ole=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ole||{}),Ju=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ju||{}),Dp=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Dp||{});function gGe(t,e,n){let i=t.length;for(;;){let a=t.indexOf(e,n);if(a===-1)return a;if(a===0||t.charCodeAt(a-1)<=32){let c=e.length;if(a+c===i||t.charCodeAt(a+c)<=32)return a}n=a+1}}function o$(t,e,n){let i=0;for(;i<n.length;){let a=n[i];if(typeof a=="number"){if(a!==0)break;i++;let c=n[i++],d=n[i++],h=n[i++];t.setAttribute(e,d,h,c)}else{let c=a,d=n[++i];yGe(c)?t.setProperty(e,c,d):t.setAttribute(e,c,d),i++}}return i}function vGe(t){return t===3||t===4||t===6}function yGe(t){return t.charCodeAt(0)===64}function Q$(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let a=e[i];typeof a=="number"?n=a:n===0||(n===-1||n===2?$ae(t,n,a,null,e[++i]):$ae(t,n,a,null,null))}}return t}function $ae(t,e,n,i,a){let c=0,d=t.length;if(e===-1)d=-1;else for(;c<t.length;){let h=t[c++];if(typeof h=="number"){if(h===e){d=-1;break}else if(h>e){d=c-1;break}}}for(;c<t.length;){let h=t[c];if(typeof h=="number")break;if(h===n){if(i===null){a!==null&&(t[c+1]=a);return}else if(i===t[c+1]){t[c+2]=a;return}}c++,i!==null&&c++,a!==null&&c++}d!==-1&&(t.splice(d,0,e),c=d+1),t.splice(c++,0,n),i!==null&&t.splice(c++,0,i),a!==null&&t.splice(c++,0,a)}var Dle="ng-template";function bGe(t,e,n,i){let a=0;if(i){for(;a<e.length&&typeof e[a]=="string";a+=2)if(e[a]==="class"&&gGe(e[a+1].toLowerCase(),n,0)!==-1)return!0}else if(Y$(t))return!1;if(a=e.indexOf(1,a),a>-1){let c;for(;++a<e.length&&typeof(c=e[a])=="string";)if(c.toLowerCase()===n)return!0}return!1}function Y$(t){return t.type===4&&t.value!==Dle}function xGe(t,e,n){let i=t.type===4&&!n?Dle:t.value;return e===i}function EGe(t,e,n){let i=4,a=t.attrs,c=a!==null?CGe(a):0,d=!1;for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="number"){if(!d&&!Fc(i)&&!Fc(m))return!1;if(d&&Fc(m))continue;d=!1,i=m|i&1;continue}if(!d)if(i&4){if(i=2|i&1,m!==""&&!xGe(t,m,n)||m===""&&e.length===1){if(Fc(i))return!1;d=!0}}else if(i&8){if(a===null||!bGe(t,a,m,n)){if(Fc(i))return!1;d=!0}}else{let g=e[++h],b=wGe(m,a,Y$(t),n);if(b===-1){if(Fc(i))return!1;d=!0;continue}if(g!==""){let E;if(b>c?E="":E=a[b+1].toLowerCase(),i&2&&g!==E){if(Fc(i))return!1;d=!0}}}}return Fc(i)||d}function Fc(t){return(t&1)===0}function wGe(t,e,n,i){if(e===null)return-1;let a=0;if(i||!n){let c=!1;for(;a<e.length;){let d=e[a];if(d===t)return a;if(d===3||d===6)c=!0;else if(d===1||d===2){let h=e[++a];for(;typeof h=="string";)h=e[++a];continue}else{if(d===4)break;if(d===0){a+=4;continue}}a+=c?1:2}return-1}else return SGe(e,t)}function _Ge(t,e,n=!1){for(let i=0;i<e.length;i++)if(EGe(t,e[i],n))return!0;return!1}function CGe(t){for(let e=0;e<t.length;e++){let n=t[e];if(vGe(n))return e}return t.length}function SGe(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function Nae(t,e){return t?":not("+e.trim()+")":e}function OGe(t){let e=t[0],n=1,i=2,a="",c=!1;for(;n<t.length;){let d=t[n];if(typeof d=="string")if(i&2){let h=t[++n];a+="["+d+(h.length>0?'="'+h+'"':"")+"]"}else i&8?a+="."+d:i&4&&(a+=" "+d);else a!==""&&!Fc(d)&&(e+=Nae(c,a),a=""),i=d,c=c||!Fc(i);n++}return a!==""&&(e+=Nae(c,a)),e}function DGe(t){return t.map(OGe).join(",")}function TGe(t){let e=[],n=[],i=1,a=2;for(;i<t.length;){let c=t[i];if(typeof c=="string")a===2?c!==""&&e.push(c,t[++i]):a===8&&n.push(c);else{if(!Fc(a))break;a=c}i++}return{attrs:e,classes:n}}function Pp(t){return mE(()=>{let e=Mle(t),n=Me(se({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ole.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ju.Emulated,styles:t.styles||Xu,_:null,schemas:t.schemas||null,tView:null,id:""});Ale(n);let i=t.dependencies;return n.directiveDefs=Bae(i,!1),n.pipeDefs=Bae(i,!0),n.id=IGe(n),n})}function kGe(t){return dg(t)||Tle(t)}function PGe(t){return t!==null}function $y(t){return mE(()=>({type:t.type,bootstrap:t.bootstrap||Xu,declarations:t.declarations||Xu,imports:t.imports||Xu,exports:t.exports||Xu,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Fae(t,e){if(t==null)return oE;let n={};for(let i in t)if(t.hasOwnProperty(i)){let a=t[i],c,d,h=Dp.None;Array.isArray(a)?(h=a[0],c=a[1],d=a[2]??c):(c=a,d=a),e?(n[c]=h!==Dp.None?[i,h]:i,e[c]=d):n[c]=i}return n}function IO(t){return mE(()=>{let e=Mle(t);return Ale(e),e})}function dg(t){return t[JWe]||null}function Tle(t){return t[eGe]||null}function kle(t){return t[tGe]||null}function Ple(t){let e=dg(t)||Tle(t)||kle(t);return e!==null?e.standalone:!1}function Ile(t,e){let n=t[nGe]||null;if(!n&&e===!0)throw new Error(`Type ${tl(t)} does not have '\u0275mod' property.`);return n}function Mle(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||oE,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Xu,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fae(t.inputs,e),outputs:Fae(t.outputs),debugInfo:null}}function Ale(t){t.features?.forEach(e=>e(t))}function Bae(t,e){if(!t)return null;let n=e?kle:kGe;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(PGe)}function IGe(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let a of n)e=Math.imul(31,e)+a.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ny(t){return{\u0275providers:t}}function MGe(...t){return{\u0275providers:Rle(!0,t),\u0275fromNgModule:!0}}function Rle(t,...e){let n=[],i=new Set,a,c=d=>{n.push(d)};return G$(e,d=>{let h=d;s$(h,c,[],i)&&(a||=[],a.push(h))}),a!==void 0&&Lle(a,c),n}function Lle(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:a}=t[n];X$(a,c=>{e(c,i)})}}function s$(t,e,n,i){if(t=ql(t),!t)return!1;let a=null,c=Mae(t),d=!c&&dg(t);if(!c&&!d){let m=t.ngModule;if(c=Mae(m),c)a=m;else return!1}else{if(d&&!d.standalone)return!1;a=t}let h=i.has(a);if(d){if(h)return!1;if(i.add(a),d.dependencies){let m=typeof d.dependencies=="function"?d.dependencies():d.dependencies;for(let g of m)s$(g,e,n,i)}}else if(c){if(c.imports!=null&&!h){i.add(a);let g;try{G$(c.imports,b=>{s$(b,e,n,i)&&(g||=[],g.push(b))})}finally{}g!==void 0&&Lle(g,e)}if(!h){let g=ky(a)||(()=>new a);e({provide:a,useFactory:g,deps:Xu},a),e({provide:Sle,useValue:a,multi:!0},a),e({provide:Py,useValue:()=>Yt(a),multi:!0},a)}let m=c.providers;if(m!=null&&!h){let g=t;X$(m,b=>{e(b,g)})}}else return!1;return a!==t&&t.providers!==void 0}function X$(t,e){for(let n of t)vle(n)&&(n=n.\u0275providers),Array.isArray(n)?X$(n,e):e(n)}var AGe=wr({provide:String,useValue:wr});function $le(t){return t!==null&&typeof t=="object"&&AGe in t}function RGe(t){return!!(t&&t.useExisting)}function LGe(t){return!!(t&&t.useFactory)}function a$(t){return typeof t=="function"}var MO=new Gt(""),sO={},$Ge={},WL;function K$(){return WL===void 0&&(WL=new mO),WL}var va=class{},sE=class extends va{get destroyed(){return this._destroyed}constructor(e,n,i,a){super(),this.parent=n,this.source=i,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,c$(e,d=>this.processProvider(d)),this.records.set(Cle,_y(void 0,this)),a.has("environment")&&this.records.set(va,_y(void 0,this));let c=this.records.get(MO);c!=null&&typeof c.value=="string"&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(Sle,Xu,un.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=rr(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),rr(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Sp(this),i=Ul(void 0),a;try{return e()}finally{Sp(n),Ul(i)}}get(e,n=iE,i=un.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Rae))return e[Rae](this);i=PO(i);let a,c=Sp(this),d=Ul(void 0);try{if(!(i&un.SkipSelf)){let m=this.records.get(e);if(m===void 0){let g=zGe(e)&&kO(e);g&&this.injectableDefInScope(g)?m=_y(l$(e),sO):m=null,this.records.set(e,m)}if(m!=null)return this.hydrate(e,m)}let h=i&un.Self?K$():this.parent;return n=i&un.Optional&&n===iE?null:n,h.get(e,n)}catch(h){if(h.name==="NullInjectorError"){if((h[hO]=h[hO]||[]).unshift(tl(e)),c)throw h;return fGe(h,e,"R3InjectorError",this.source)}else throw h}finally{Ul(d),Sp(c)}}resolveInjectorInitializers(){let e=rr(null),n=Sp(this),i=Ul(void 0),a;try{let c=this.get(Py,Xu,un.Self);for(let d of c)d()}finally{Sp(n),Ul(i),rr(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(tl(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Lt(205,!1)}processProvider(e){e=ql(e);let n=a$(e)?e:ql(e&&e.provide),i=FGe(e);if(!a$(e)&&e.multi===!0){let a=this.records.get(n);a||(a=_y(void 0,sO,!0),a.factory=()=>i$(a.multi),this.records.set(n,a)),n=e,a.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=rr(null);try{return n.value===sO&&(n.value=$Ge,n.value=n.factory()),typeof n.value=="object"&&n.value&&VGe(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{rr(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ql(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function l$(t){let e=kO(t),n=e!==null?e.factory:ky(t);if(n!==null)return n;if(t instanceof Gt)throw new Lt(204,!1);if(t instanceof Function)return NGe(t);throw new Lt(204,!1)}function NGe(t){if(t.length>0)throw new Lt(204,!1);let n=KWe(t);return n!==null?()=>n.factory(t):()=>new t}function FGe(t){if($le(t))return _y(void 0,t.useValue);{let e=BGe(t);return _y(e,sO)}}function BGe(t,e,n){let i;if(a$(t)){let a=ql(t);return ky(a)||l$(a)}else if($le(t))i=()=>ql(t.useValue);else if(LGe(t))i=()=>t.useFactory(...i$(t.deps||[]));else if(RGe(t))i=()=>Yt(ql(t.useExisting));else{let a=ql(t&&(t.useClass||t.provide));if(jGe(t))i=()=>new a(...i$(t.deps));else return ky(a)||l$(a)}return i}function _y(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jGe(t){return!!t.deps}function VGe(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function zGe(t){return typeof t=="function"||typeof t=="object"&&t instanceof Gt}function c$(t,e){for(let n of t)Array.isArray(n)?c$(n,e):n&&vle(n)?c$(n.\u0275providers,e):e(n)}function Df(t,e){t instanceof sE&&t.assertNotDestroyed();let n,i=Sp(t),a=Ul(void 0);try{return e()}finally{Sp(i),Ul(a)}}function HGe(){return ble()!==void 0||cGe()!=null}function UGe(t){return typeof t=="function"}var Tf=0,dn=1,Ft=2,Yo=3,Bc=4,Vc=5,gO=6,aE=7,jc=8,Iy=9,ed=10,ya=11,lE=12,jae=13,Fy=14,td=15,gE=16,Cy=17,Sf=18,AO=19,Nle=20,Op=21,GL=22,fg=23,Tp=25,Fle=1;var hg=7,vO=8,My=9,nl=10,Z$=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Z$||{});function Dy(t){return Array.isArray(t)&&typeof t[Fle]=="object"}function kf(t){return Array.isArray(t)&&t[Fle]===!0}function Ble(t){return(t.flags&4)!==0}function RO(t){return t.componentOffset>-1}function J$(t){return(t.flags&1)===1}function vE(t){return!!t.template}function qGe(t){return(t[Ft]&512)!==0}var u$=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function jle(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function LO(){return Vle}function Vle(t){return t.type.prototype.ngOnChanges&&(t.setInput=GGe),WGe}LO.ngInherit=!0;function WGe(){let t=Hle(this),e=t?.current;if(e){let n=t.previous;if(n===oE)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function GGe(t,e,n,i,a){let c=this.declaredInputs[i],d=Hle(t)||QGe(t,{previous:oE,current:null}),h=d.current||(d.current={}),m=d.previous,g=m[c];h[c]=new u$(g&&g.currentValue,n,m===oE),jle(t,e,a,n)}var zle="__ngSimpleChanges__";function Hle(t){return t[zle]||null}function QGe(t,e){return t[zle]=e}var Vae=null;var Ku=function(t,e,n){Vae?.(t,e,n)},YGe="svg",XGe="math",KGe=!1;function ZGe(){return KGe}function nd(t){for(;Array.isArray(t);)t=t[Tf];return t}function JGe(t,e){return nd(e[t])}function zc(t,e){return nd(e[t.index])}function Ule(t,e){return t.data[e]}function vg(t,e){let n=e[t];return Dy(n)?n:n[Tf]}function eQe(t){return(t[Ft]&4)===4}function eN(t){return(t[Ft]&128)===128}function tQe(t){return kf(t[Yo])}function yO(t,e){return e==null?null:t[e]}function qle(t){t[Cy]=0}function nQe(t){t[Ft]&1024||(t[Ft]|=1024,eN(t)&&cE(t))}function rQe(t,e){for(;t>0;)e=e[Fy],t--;return e}function tN(t){return!!(t[Ft]&9216||t[fg]?.dirty)}function d$(t){t[ed].changeDetectionScheduler?.notify(1),tN(t)?cE(t):t[Ft]&64&&(ZGe()?(t[Ft]|=1024,cE(t)):t[ed].changeDetectionScheduler?.notify())}function cE(t){t[ed].changeDetectionScheduler?.notify();let e=uE(t);for(;e!==null&&!(e[Ft]&8192||(e[Ft]|=8192,!eN(e)));)e=uE(e)}function Wle(t,e){if((t[Ft]&256)===256)throw new Lt(911,!1);t[Op]===null&&(t[Op]=[]),t[Op].push(e)}function iQe(t,e){if(t[Op]===null)return;let n=t[Op].indexOf(e);n!==-1&&t[Op].splice(n,1)}function uE(t){let e=t[Yo];return kf(e)?e[Yo]:e}var Pn={lFrame:ece(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function oQe(){return Pn.lFrame.elementDepthCount}function sQe(){Pn.lFrame.elementDepthCount++}function aQe(){Pn.lFrame.elementDepthCount--}function Gle(){return Pn.bindingsEnabled}function lQe(){return Pn.skipHydrationRootTNode!==null}function cQe(t){return Pn.skipHydrationRootTNode===t}function uQe(){Pn.skipHydrationRootTNode=null}function Mi(){return Pn.lFrame.lView}function Pf(){return Pn.lFrame.tView}function Hc(t){return Pn.lFrame.contextLView=t,t[jc]}function Uc(t){return Pn.lFrame.contextLView=null,t}function rd(){let t=Qle();for(;t!==null&&t.type===64;)t=t.parent;return t}function Qle(){return Pn.lFrame.currentTNode}function dQe(){let t=Pn.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function yE(t,e){let n=Pn.lFrame;n.currentTNode=t,n.isParent=e}function Yle(){return Pn.lFrame.isParent}function fQe(){Pn.lFrame.isParent=!1}function hQe(t){return Pn.lFrame.bindingIndex=t}function Xle(){return Pn.lFrame.bindingIndex++}function pQe(){return Pn.lFrame.inI18n}function mQe(t,e){let n=Pn.lFrame;n.bindingIndex=n.bindingRootIndex=t,f$(e)}function gQe(){return Pn.lFrame.currentDirectiveIndex}function f$(t){Pn.lFrame.currentDirectiveIndex=t}function Kle(){return Pn.lFrame.currentQueryIndex}function nN(t){Pn.lFrame.currentQueryIndex=t}function vQe(t){let e=t[dn];return e.type===2?e.declTNode:e.type===1?t[Vc]:null}function Zle(t,e,n){if(n&un.SkipSelf){let a=e,c=t;for(;a=a.parent,a===null&&!(n&un.Host);)if(a=vQe(c),a===null||(c=c[Fy],a.type&10))break;if(a===null)return!1;e=a,t=c}let i=Pn.lFrame=Jle();return i.currentTNode=e,i.lView=t,!0}function rN(t){let e=Jle(),n=t[dn];Pn.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Jle(){let t=Pn.lFrame,e=t===null?null:t.child;return e===null?ece(t):e}function ece(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function tce(){let t=Pn.lFrame;return Pn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var nce=tce;function iN(){let t=tce();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yQe(t){return(Pn.lFrame.contextLView=rQe(t,Pn.lFrame.contextLView))[jc]}function oN(){return Pn.lFrame.selectedIndex}function pg(t){Pn.lFrame.selectedIndex=t}function bQe(){let t=Pn.lFrame;return Ule(t.tView,t.selectedIndex)}function xQe(){return Pn.lFrame.currentNamespace}var rce=!0;function sN(){return rce}function aN(t){rce=t}function EQe(t,e,n){let{ngOnChanges:i,ngOnInit:a,ngDoCheck:c}=e.type.prototype;if(i){let d=Vle(e);(n.preOrderHooks??=[]).push(t,d),(n.preOrderCheckHooks??=[]).push(t,d)}a&&(n.preOrderHooks??=[]).push(0-t,a),c&&((n.preOrderHooks??=[]).push(t,c),(n.preOrderCheckHooks??=[]).push(t,c))}function lN(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let c=t.data[n].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:h,ngAfterViewInit:m,ngAfterViewChecked:g,ngOnDestroy:b}=c;d&&(t.contentHooks??=[]).push(-n,d),h&&((t.contentHooks??=[]).push(n,h),(t.contentCheckHooks??=[]).push(n,h)),m&&(t.viewHooks??=[]).push(-n,m),g&&((t.viewHooks??=[]).push(n,g),(t.viewCheckHooks??=[]).push(n,g)),b!=null&&(t.destroyHooks??=[]).push(n,b)}}function aO(t,e,n){ice(t,e,3,n)}function lO(t,e,n,i){(t[Ft]&3)===n&&ice(t,e,n,i)}function QL(t,e){let n=t[Ft];(n&3)===e&&(n&=16383,n+=1,t[Ft]=n)}function ice(t,e,n,i){let a=i!==void 0?t[Cy]&65535:0,c=i??-1,d=e.length-1,h=0;for(let m=a;m<d;m++)if(typeof e[m+1]=="number"){if(h=e[m],i!=null&&h>=i)break}else e[m]<0&&(t[Cy]+=65536),(h<c||c==-1)&&(wQe(t,n,e,m),t[Cy]=(t[Cy]&4294901760)+m+2),m++}function zae(t,e){Ku(4,t,e);let n=rr(null);try{e.call(t)}finally{rr(n),Ku(5,t,e)}}function wQe(t,e,n,i){let a=n[i]<0,c=n[i+1],d=a?-n[i]:n[i],h=t[d];a?t[Ft]>>14<t[Cy]>>16&&(t[Ft]&3)===e&&(t[Ft]+=16384,zae(h,c)):zae(h,c)}var Ty=-1,dE=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function _Qe(t){return t instanceof dE}function CQe(t){return(t.flags&8)!==0}function SQe(t){return(t.flags&16)!==0}function oce(t){return t!==Ty}function bO(t){return t&32767}function OQe(t){return t>>16}function xO(t,e){let n=OQe(t),i=e;for(;n>0;)i=i[Fy],n--;return i}var h$=!0;function Hae(t){let e=h$;return h$=t,e}var DQe=256,sce=DQe-1,ace=5,TQe=0,Zu={};function kQe(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(rE)&&(i=n[rE]),i==null&&(i=n[rE]=TQe++);let a=i&sce,c=1<<a;e.data[t+(a>>ace)]|=c}function lce(t,e){let n=cce(t,e);if(n!==-1)return n;let i=e[dn];i.firstCreatePass&&(t.injectorIndex=e.length,YL(i.data,t),YL(e,null),YL(i.blueprint,null));let a=cN(t,e),c=t.injectorIndex;if(oce(a)){let d=bO(a),h=xO(a,e),m=h[dn].data;for(let g=0;g<8;g++)e[c+g]=h[d+g]|m[d+g]}return e[c+8]=a,c}function YL(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cce(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function cN(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,a=e;for(;a!==null;){if(i=pce(a),i===null)return Ty;if(n++,a=a[Fy],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Ty}function PQe(t,e,n){kQe(t,e,n)}function uce(t,e,n){if(n&un.Optional||t!==void 0)return t;q$(e,"NodeInjector")}function dce(t,e,n,i){if(n&un.Optional&&i===void 0&&(i=null),!(n&(un.Self|un.Host))){let a=t[Iy],c=Ul(void 0);try{return a?a.get(e,i,n&un.Optional):xle(e,i,n&un.Optional)}finally{Ul(c)}}return uce(i,e,n)}function fce(t,e,n,i=un.Default,a){if(t!==null){if(e[Ft]&2048&&!(i&un.Self)){let d=RQe(t,e,n,i,Zu);if(d!==Zu)return d}let c=hce(t,e,n,i,Zu);if(c!==Zu)return c}return dce(e,n,i,a)}function hce(t,e,n,i,a){let c=MQe(n);if(typeof c=="function"){if(!Zle(e,t,i))return i&un.Host?uce(a,n,i):dce(e,n,i,a);try{let d;if(d=c(i),d==null&&!(i&un.Optional))q$(n);else return d}finally{nce()}}else if(typeof c=="number"){let d=null,h=cce(t,e),m=Ty,g=i&un.Host?e[td][Vc]:null;for((h===-1||i&un.SkipSelf)&&(m=h===-1?cN(t,e):e[h+8],m===Ty||!qae(i,!1)?h=-1:(d=e[dn],h=bO(m),e=xO(m,e)));h!==-1;){let b=e[dn];if(Uae(c,h,b.data)){let E=IQe(h,e,n,d,i,g);if(E!==Zu)return E}m=e[h+8],m!==Ty&&qae(i,e[dn].data[h+8]===g)&&Uae(c,h,e)?(d=b,h=bO(m),e=xO(m,e)):h=-1}}return a}function IQe(t,e,n,i,a,c){let d=e[dn],h=d.data[t+8],m=i==null?RO(h)&&h$:i!=d&&(h.type&3)!==0,g=a&un.Host&&c===h,b=cO(h,d,n,m,g);return b!==null?Ay(e,d,b,h):Zu}function cO(t,e,n,i,a){let c=t.providerIndexes,d=e.data,h=c&1048575,m=t.directiveStart,g=t.directiveEnd,b=c>>20,E=i?h:h+b,_=a?h+b:g;for(let S=E;S<_;S++){let D=d[S];if(S<m&&n===D||S>=m&&D.type===n)return S}if(a){let S=d[m];if(S&&vE(S)&&S.type===n)return m}return null}function Ay(t,e,n,i){let a=t[n],c=e.data;if(_Qe(a)){let d=a;d.resolving&&iGe(rGe(c[n]));let h=Hae(d.canSeeViewProviders);d.resolving=!0;let m,g=d.injectImpl?Ul(d.injectImpl):null,b=Zle(t,i,un.Default);try{a=t[n]=d.factory(void 0,c,t,i),e.firstCreatePass&&n>=i.directiveStart&&EQe(n,c[n],e)}finally{g!==null&&Ul(g),Hae(h),d.resolving=!1,nce()}}return a}function MQe(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(rE)?t[rE]:void 0;return typeof e=="number"?e>=0?e&sce:AQe:e}function Uae(t,e,n){let i=1<<t;return!!(n[e+(t>>ace)]&i)}function qae(t,e){return!(t&un.Self)&&!(t&un.Host&&e)}var ug=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return fce(this._tNode,this._lView,e,PO(i),n)}};function AQe(){return new ug(rd(),Mi())}function uN(t){return mE(()=>{let e=t.prototype.constructor,n=e[fO]||p$(e),i=Object.prototype,a=Object.getPrototypeOf(t.prototype).constructor;for(;a&&a!==i;){let c=a[fO]||p$(a);if(c&&c!==n)return c;a=Object.getPrototypeOf(a)}return c=>new c})}function p$(t){return hle(t)?()=>{let e=p$(ql(t));return e&&e()}:ky(t)}function RQe(t,e,n,i,a){let c=t,d=e;for(;c!==null&&d!==null&&d[Ft]&2048&&!(d[Ft]&512);){let h=hce(c,d,n,i|un.Self,Zu);if(h!==Zu)return h;let m=c.parent;if(!m){let g=d[Nle];if(g){let b=g.get(n,Zu,i);if(b!==Zu)return b}m=pce(d),d=d[Fy]}c=m}return a}function pce(t){let e=t[dn],n=e.type;return n===2?e.declTNode:n===1?t[Vc]:null}function Wae(t,e=null,n=null,i){let a=mce(t,e,n,i);return a.resolveInjectorInitializers(),a}function mce(t,e=null,n=null,i,a=new Set){let c=[n||Xu,MGe(t)];return i=i||(typeof t=="object"?void 0:tl(t)),new sE(c,e||K$(),i||null,a)}var bE=(()=>{let e=class e{static create(i,a){if(Array.isArray(i))return Wae({name:""},a,i,"");{let c=i.name??"";return Wae({name:c},i.parent,i.providers,c)}}};e.THROW_IF_NOT_FOUND=iE,e.NULL=new mO,e.\u0275prov=Bt({token:e,providedIn:"any",factory:()=>Yt(Cle)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var LQe="ngOriginalError";function XL(t){return t[LQe]}var Of=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&XL(e);for(;n&&XL(n);)n=XL(n);return n||null}},gce=new Gt("",{providedIn:"root",factory:()=>lt(Of).handleError.bind(void 0)}),vce=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$Qe,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),m$=class extends vce{constructor(e){super(),this._lView=e}onDestroy(e){return Wle(this._lView,e),()=>iQe(this._lView,e)}};function $Qe(){return new m$(Mi())}function NQe(){return By(rd(),Mi())}function By(t,e){return new qc(zc(t,e))}var qc=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=NQe;let t=e;return t})();function FQe(t){return t instanceof qc?t.nativeElement:t}var g$=class extends Ws{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,HGe()&&(this.destroyRef=lt(vce,{optional:!0})??void 0)}emit(e){let n=rr(null);try{super.next(e)}finally{rr(n)}}subscribe(e,n,i){let a=e,c=n||(()=>null),d=i;if(e&&typeof e=="object"){let m=e;a=m.next?.bind(m),c=m.error?.bind(m),d=m.complete?.bind(m)}this.__isAsync&&(c=KL(c),a&&(a=KL(a)),d&&(d=KL(d)));let h=super.subscribe({next:a,error:c,complete:d});return e instanceof uo&&e.add(h),h}};function KL(t){return e=>{setTimeout(t,void 0,e)}}var Wl=g$;function BQe(){return this._results[Symbol.iterator]()}var v$=class t{get changes(){return this._changes??=new Wl}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=BQe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=mGe(e);(this._changesDetected=!pGe(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function yce(t){return(t.flags&128)===128}var bce=new Map,jQe=0;function VQe(){return jQe++}function zQe(t){bce.set(t[AO],t)}function HQe(t){bce.delete(t[AO])}var Gae="__ngContext__";function mg(t,e){Dy(e)?(t[Gae]=e[AO],zQe(e)):t[Gae]=e}function xce(t){return wce(t[lE])}function Ece(t){return wce(t[Bc])}function wce(t){for(;t!==null&&!kf(t);)t=t[Bc];return t}var y$;function _ce(t){y$=t}function UQe(){if(y$!==void 0)return y$;if(typeof document<"u")return document;throw new Lt(210,!1)}var dN=new Gt("",{providedIn:"root",factory:()=>qQe}),qQe="ng",fN=new Gt(""),Ip=new Gt("",{providedIn:"platform",factory:()=>"unknown"});var hN=new Gt("",{providedIn:"root",factory:()=>UQe().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var WQe="h",GQe="b";var QQe=()=>null;function pN(t,e,n=!1){return QQe(t,e,n)}var Cce=!1,YQe=new Gt("",{providedIn:"root",factory:()=>Cce});function Sce(t){return t instanceof Function?t():t}var yg=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yg||{}),XQe;function mN(t,e){return XQe(t,e)}function Sy(t,e,n,i,a){if(i!=null){let c,d=!1;kf(i)?c=i:Dy(i)&&(d=!0,i=i[Tf]);let h=nd(i);t===0&&n!==null?a==null?Pce(e,n,h):EO(e,n,h,a||null,!0):t===1&&n!==null?EO(e,n,h,a||null,!0):t===2?hYe(e,h,d):t===3&&e.destroyNode(h),c!=null&&mYe(e,t,c,n,a)}}function KQe(t,e){return t.createText(e)}function ZQe(t,e,n){t.setValue(e,n)}function Oce(t,e,n){return t.createElement(e,n)}function JQe(t,e){Dce(t,e),e[Tf]=null,e[Vc]=null}function eYe(t,e,n,i,a,c){i[Tf]=a,i[Vc]=e,$O(t,i,n,1,a,c)}function Dce(t,e){e[ed].changeDetectionScheduler?.notify(1),$O(t,e,e[ya],2,null,null)}function tYe(t){let e=t[lE];if(!e)return ZL(t[dn],t);for(;e;){let n=null;if(Dy(e))n=e[lE];else{let i=e[nl];i&&(n=i)}if(!n){for(;e&&!e[Bc]&&e!==t;)Dy(e)&&ZL(e[dn],e),e=e[Yo];e===null&&(e=t),Dy(e)&&ZL(e[dn],e),n=e&&e[Bc]}e=n}}function nYe(t,e,n,i){let a=nl+i,c=n.length;i>0&&(n[a-1][Bc]=e),i<c-nl?(e[Bc]=n[a],_le(n,nl+i,e)):(n.push(e),e[Bc]=null),e[Yo]=n;let d=e[gE];d!==null&&n!==d&&rYe(d,e);let h=e[Sf];h!==null&&h.insertView(t),d$(e),e[Ft]|=128}function rYe(t,e){let n=t[My],a=e[Yo][Yo][td];e[td]!==a&&(t[Ft]|=Z$.HasTransplantedViews),n===null?t[My]=[e]:n.push(e)}function Tce(t,e){let n=t[My],i=n.indexOf(e);n.splice(i,1)}function b$(t,e){if(t.length<=nl)return;let n=nl+e,i=t[n];if(i){let a=i[gE];a!==null&&a!==t&&Tce(a,i),e>0&&(t[n-1][Bc]=i[Bc]);let c=pO(t,nl+e);JQe(i[dn],i);let d=c[Sf];d!==null&&d.detachView(c[dn]),i[Yo]=null,i[Bc]=null,i[Ft]&=-129}return i}function kce(t,e){if(!(e[Ft]&256)){let n=e[ya];n.destroyNode&&$O(t,e,n,3,null,null),tYe(e)}}function ZL(t,e){if(e[Ft]&256)return;let n=rr(null);try{e[Ft]&=-129,e[Ft]|=256,e[fg]&&eae(e[fg]),oYe(t,e),iYe(t,e),e[dn].type===1&&e[ya].destroy();let i=e[gE];if(i!==null&&kf(e[Yo])){i!==e[Yo]&&Tce(i,e);let a=e[Sf];a!==null&&a.detachView(t)}HQe(e)}finally{rr(n)}}function iYe(t,e){let n=t.cleanup,i=e[aE];if(n!==null)for(let c=0;c<n.length-1;c+=2)if(typeof n[c]=="string"){let d=n[c+3];d>=0?i[d]():i[-d].unsubscribe(),c+=2}else{let d=i[n[c+1]];n[c].call(d)}i!==null&&(e[aE]=null);let a=e[Op];if(a!==null){e[Op]=null;for(let c=0;c<a.length;c++){let d=a[c];d()}}}function oYe(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let a=e[n[i]];if(!(a instanceof dE)){let c=n[i+1];if(Array.isArray(c))for(let d=0;d<c.length;d+=2){let h=a[c[d]],m=c[d+1];Ku(4,h,m);try{m.call(h)}finally{Ku(5,h,m)}}else{Ku(4,a,c);try{c.call(a)}finally{Ku(5,a,c)}}}}}function sYe(t,e,n){return aYe(t,e.parent,n)}function aYe(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[Tf];{let{componentOffset:a}=i;if(a>-1){let{encapsulation:c}=t.data[i.directiveStart+a];if(c===Ju.None||c===Ju.Emulated)return null}return zc(i,n)}}function EO(t,e,n,i,a){t.insertBefore(e,n,i,a)}function Pce(t,e,n){t.appendChild(e,n)}function Qae(t,e,n,i,a){i!==null?EO(t,e,n,i,a):Pce(t,e,n)}function lYe(t,e,n,i){t.removeChild(e,n,i)}function gN(t,e){return t.parentNode(e)}function cYe(t,e){return t.nextSibling(e)}function uYe(t,e,n){return fYe(t,e,n)}function dYe(t,e,n){return t.type&40?zc(t,n):null}var fYe=dYe,Yae;function vN(t,e,n,i){let a=sYe(t,i,e),c=e[ya],d=i.parent||e[Vc],h=uYe(d,i,e);if(a!=null)if(Array.isArray(n))for(let m=0;m<n.length;m++)Qae(c,a,n[m],h,!1);else Qae(c,a,n,h,!1);Yae!==void 0&&Yae(c,i,e,n,a)}function uO(t,e){if(e!==null){let n=e.type;if(n&3)return zc(e,t);if(n&4)return x$(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return uO(t,i);{let a=t[e.index];return kf(a)?x$(-1,a):nd(a)}}else{if(n&32)return mN(e,t)()||nd(t[e.index]);{let i=Ice(t,e);if(i!==null){if(Array.isArray(i))return i[0];let a=uE(t[td]);return uO(a,i)}else return uO(t,e.next)}}}return null}function Ice(t,e){if(e!==null){let i=t[td][Vc],a=e.projection;return i.projection[a]}return null}function x$(t,e){let n=nl+t+1;if(n<e.length){let i=e[n],a=i[dn].firstChild;if(a!==null)return uO(i,a)}return e[hg]}function hYe(t,e,n){let i=gN(t,e);i&&lYe(t,i,e,n)}function yN(t,e,n,i,a,c,d){for(;n!=null;){let h=i[n.index],m=n.type;if(d&&e===0&&(h&&mg(nd(h),i),n.flags|=2),(n.flags&32)!==32)if(m&8)yN(t,e,n.child,i,a,c,!1),Sy(e,t,a,h,c);else if(m&32){let g=mN(n,i),b;for(;b=g();)Sy(e,t,a,b,c);Sy(e,t,a,h,c)}else m&16?pYe(t,e,i,n,a,c):Sy(e,t,a,h,c);n=d?n.projectionNext:n.next}}function $O(t,e,n,i,a,c){yN(n,i,t.firstChild,e,a,c,!1)}function pYe(t,e,n,i,a,c){let d=n[td],m=d[Vc].projection[i.projection];if(Array.isArray(m))for(let g=0;g<m.length;g++){let b=m[g];Sy(e,t,a,b,c)}else{let g=m,b=d[Yo];yce(i)&&(g.flags|=128),yN(t,e,g,b,a,c,!0)}}function mYe(t,e,n,i,a){let c=n[hg],d=nd(n);c!==d&&Sy(e,t,i,c,a);for(let h=nl;h<n.length;h++){let m=n[h];$O(m[dn],m,t,e,i,c)}}function gYe(t,e,n){t.setAttribute(e,"style",n)}function Mce(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Ace(t,e,n){let{mergedAttrs:i,classes:a,styles:c}=n;i!==null&&o$(t,e,i),a!==null&&Mce(t,e,a),c!==null&&gYe(t,e,c)}var NO={};function jy(t=1){Rce(Pf(),Mi(),oN()+t,!1)}function Rce(t,e,n,i){if(!i)if((e[Ft]&3)===3){let c=t.preOrderCheckHooks;c!==null&&aO(e,c,n)}else{let c=t.preOrderHooks;c!==null&&lO(e,c,0,n)}pg(n)}function id(t,e=un.Default){let n=Mi();if(n===null)return Yt(t,e);let i=rd();return fce(i,n,ql(t),e)}function Lce(t,e,n,i,a,c){let d=rr(null);try{let h=null;a&Dp.SignalBased&&(h=e[i][Xse]),h!==null&&h.transformFn!==void 0&&(c=h.transformFn(c)),a&Dp.HasDecoratorInputTransform&&(c=t.inputTransforms[i].call(e,c)),t.setInput!==null?t.setInput(e,h,c,n,i):jle(e,h,i,c)}finally{rr(d)}}function vYe(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let a=n[i];if(a<0)pg(~a);else{let c=a,d=n[++i],h=n[++i];mQe(d,c);let m=e[c];h(2,m)}}}finally{pg(-1)}}function FO(t,e,n,i,a,c,d,h,m,g,b){let E=e.blueprint.slice();return E[Tf]=a,E[Ft]=i|4|128|8|64,(g!==null||t&&t[Ft]&2048)&&(E[Ft]|=2048),qle(E),E[Yo]=E[Fy]=t,E[jc]=n,E[ed]=d||t&&t[ed],E[ya]=h||t&&t[ya],E[Iy]=m||t&&t[Iy]||null,E[Vc]=c,E[AO]=VQe(),E[gO]=b,E[Nle]=g,E[td]=e.type==2?t[td]:E,E}function BO(t,e,n,i,a){let c=t.data[e];if(c===null)c=yYe(t,e,n,i,a),pQe()&&(c.flags|=32);else if(c.type&64){c.type=n,c.value=i,c.attrs=a;let d=dQe();c.injectorIndex=d===null?-1:d.injectorIndex}return yE(c,!0),c}function yYe(t,e,n,i,a){let c=Qle(),d=Yle(),h=d?c:c&&c.parent,m=t.data[e]=CYe(t,h,n,e,i,a);return t.firstChild===null&&(t.firstChild=m),c!==null&&(d?c.child==null&&m.parent!==null&&(c.child=m):c.next===null&&(c.next=m,m.prev=c)),m}function $ce(t,e,n,i){if(n===0)return-1;let a=e.length;for(let c=0;c<n;c++)e.push(i),t.blueprint.push(i),t.data.push(null);return a}function Nce(t,e,n,i,a){let c=oN(),d=i&2;try{pg(-1),d&&e.length>Tp&&Rce(t,e,Tp,!1),Ku(d?2:0,a),n(i,a)}finally{pg(c),Ku(d?3:1,a)}}function Fce(t,e,n){if(Ble(e)){let i=rr(null);try{let a=e.directiveStart,c=e.directiveEnd;for(let d=a;d<c;d++){let h=t.data[d];if(h.contentQueries){let m=n[d];h.contentQueries(1,m,d)}}}finally{rr(i)}}}function Bce(t,e,n){Gle()&&(IYe(t,e,n,zc(n,e)),(n.flags&64)===64&&Uce(t,e,n))}function jce(t,e,n=zc){let i=e.localNames;if(i!==null){let a=e.index+1;for(let c=0;c<i.length;c+=2){let d=i[c+1],h=d===-1?n(e,t):t[d];t[a++]=h}}}function Vce(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=bN(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function bN(t,e,n,i,a,c,d,h,m,g,b){let E=Tp+i,_=E+a,S=bYe(E,_),D=typeof g=="function"?g():g;return S[dn]={type:t,blueprint:S,template:n,queries:null,viewQuery:h,declTNode:e,data:S.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof c=="function"?c():c,pipeRegistry:typeof d=="function"?d():d,firstChild:null,schemas:m,consts:D,incompleteFirstPass:!1,ssrId:b}}function bYe(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:NO);return n}function xYe(t,e,n,i){let c=i.get(YQe,Cce)||n===Ju.ShadowDom,d=t.selectRootElement(e,c);return EYe(d),d}function EYe(t){wYe(t)}var wYe=()=>null;function _Ye(t,e,n,i){let a=Gce(e);a.push(n),t.firstCreatePass&&Qce(t).push(i,a.length-1)}function CYe(t,e,n,i,a,c){let d=e?e.injectorIndex:-1,h=0;return lQe()&&(h|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:d,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:h,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Xae(t,e,n,i,a){for(let c in e){if(!e.hasOwnProperty(c))continue;let d=e[c];if(d===void 0)continue;i??={};let h,m=Dp.None;Array.isArray(d)?(h=d[0],m=d[1]):h=d;let g=c;if(a!==null){if(!a.hasOwnProperty(c))continue;g=a[c]}t===0?Kae(i,n,g,h,m):Kae(i,n,g,h)}return i}function Kae(t,e,n,i,a){let c;t.hasOwnProperty(n)?(c=t[n]).push(e,i):c=t[n]=[e,i],a!==void 0&&c.push(a)}function SYe(t,e,n){let i=e.directiveStart,a=e.directiveEnd,c=t.data,d=e.attrs,h=[],m=null,g=null;for(let b=i;b<a;b++){let E=c[b],_=n?n.get(E):null,S=_?_.inputs:null,D=_?_.outputs:null;m=Xae(0,E.inputs,b,m,S),g=Xae(1,E.outputs,b,g,D);let k=m!==null&&d!==null&&!Y$(e)?jYe(m,b,d):null;h.push(k)}m!==null&&(m.hasOwnProperty("class")&&(e.flags|=8),m.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=h,e.inputs=m,e.outputs=g}function OYe(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function DYe(t,e,n,i,a,c,d,h){let m=zc(e,n),g=e.inputs,b;!h&&g!=null&&(b=g[i])?(xN(t,n,b,i,a),RO(e)&&TYe(n,e.index)):e.type&3?(i=OYe(i),a=d!=null?d(a,e.value||"",i):a,c.setProperty(m,i,a)):e.type&12}function TYe(t,e){let n=vg(e,t);n[Ft]&16||(n[Ft]|=64)}function zce(t,e,n,i){if(Gle()){let a=i===null?null:{"":-1},c=AYe(t,n),d,h;c===null?d=h=null:[d,h]=c,d!==null&&Hce(t,e,n,d,a,h),a&&RYe(n,i,a)}n.mergedAttrs=Q$(n.mergedAttrs,n.attrs)}function Hce(t,e,n,i,a,c){for(let g=0;g<i.length;g++)PQe(lce(n,e),t,i[g].type);$Ye(n,t.data.length,i.length);for(let g=0;g<i.length;g++){let b=i[g];b.providersResolver&&b.providersResolver(b)}let d=!1,h=!1,m=$ce(t,e,i.length,null);for(let g=0;g<i.length;g++){let b=i[g];n.mergedAttrs=Q$(n.mergedAttrs,b.hostAttrs),NYe(t,n,e,m,b),LYe(m,b,a),b.contentQueries!==null&&(n.flags|=4),(b.hostBindings!==null||b.hostAttrs!==null||b.hostVars!==0)&&(n.flags|=64);let E=b.type.prototype;!d&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!h&&(E.ngOnChanges||E.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),m++}SYe(t,n,c)}function kYe(t,e,n,i,a){let c=a.hostBindings;if(c){let d=t.hostBindingOpCodes;d===null&&(d=t.hostBindingOpCodes=[]);let h=~e.index;PYe(d)!=h&&d.push(h),d.push(n,i,c)}}function PYe(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function IYe(t,e,n,i){let a=n.directiveStart,c=n.directiveEnd;RO(n)&&FYe(e,n,t.data[a+n.componentOffset]),t.firstCreatePass||lce(n,e),mg(i,e);let d=n.initialInputs;for(let h=a;h<c;h++){let m=t.data[h],g=Ay(e,t,h,n);if(mg(g,e),d!==null&&BYe(e,h-a,g,m,n,d),vE(m)){let b=vg(n.index,e);b[jc]=Ay(e,t,h,n)}}}function Uce(t,e,n){let i=n.directiveStart,a=n.directiveEnd,c=n.index,d=gQe();try{pg(c);for(let h=i;h<a;h++){let m=t.data[h],g=e[h];f$(h),(m.hostBindings!==null||m.hostVars!==0||m.hostAttrs!==null)&&MYe(m,g)}}finally{pg(-1),f$(d)}}function MYe(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function AYe(t,e){let n=t.directiveRegistry,i=null,a=null;if(n)for(let c=0;c<n.length;c++){let d=n[c];if(_Ge(e,d.selectors,!1))if(i||(i=[]),vE(d))if(d.findHostDirectiveDefs!==null){let h=[];a=a||new Map,d.findHostDirectiveDefs(d,h,a),i.unshift(...h,d);let m=h.length;E$(t,e,m)}else i.unshift(d),E$(t,e,0);else a=a||new Map,d.findHostDirectiveDefs?.(d,i,a),i.push(d)}return i===null?null:[i,a]}function E$(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function RYe(t,e,n){if(e){let i=t.localNames=[];for(let a=0;a<e.length;a+=2){let c=n[e[a+1]];if(c==null)throw new Lt(-301,!1);i.push(e[a],c)}}}function LYe(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;vE(e)&&(n[""]=t)}}function $Ye(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function NYe(t,e,n,i,a){t.data[i]=a;let c=a.factory||(a.factory=ky(a.type,!0)),d=new dE(c,vE(a),id);t.blueprint[i]=d,n[i]=d,kYe(t,e,i,$ce(t,n,a.hostVars,NO),a)}function FYe(t,e,n){let i=zc(e,t),a=Vce(n),c=t[ed].rendererFactory,d=16;n.signals?d=4096:n.onPush&&(d=64);let h=jO(t,FO(t,a,null,d,i,e,null,c.createRenderer(i,n),null,null,null));t[e.index]=h}function BYe(t,e,n,i,a,c){let d=c[e];if(d!==null)for(let h=0;h<d.length;){let m=d[h++],g=d[h++],b=d[h++],E=d[h++];Lce(i,n,m,g,b,E)}}function jYe(t,e,n){let i=null,a=0;for(;a<n.length;){let c=n[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}if(typeof c=="number")break;if(t.hasOwnProperty(c)){i===null&&(i=[]);let d=t[c];for(let h=0;h<d.length;h+=3)if(d[h]===e){i.push(c,d[h+1],d[h+2],n[a+1]);break}}a+=2}return i}function qce(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function Wce(t,e){let n=t.contentQueries;if(n!==null){let i=rr(null);try{for(let a=0;a<n.length;a+=2){let c=n[a],d=n[a+1];if(d!==-1){let h=t.data[d];nN(c),h.contentQueries(2,e[d],d)}}}finally{rr(i)}}}function jO(t,e){return t[lE]?t[jae][Bc]=e:t[lE]=e,t[jae]=e,e}function w$(t,e,n){nN(0);let i=rr(null);try{e(t,n)}finally{rr(i)}}function Gce(t){return t[aE]||(t[aE]=[])}function Qce(t){return t.cleanup||(t.cleanup=[])}function Yce(t,e){let n=t[Iy],i=n?n.get(Of,null):null;i&&i.handleError(e)}function xN(t,e,n,i,a){for(let c=0;c<n.length;){let d=n[c++],h=n[c++],m=n[c++],g=e[d],b=t.data[d];Lce(b,g,i,h,m,a)}}function VYe(t,e,n){let i=JGe(e,t);ZQe(t[ya],i,n)}function zYe(t,e){let n=vg(e,t),i=n[dn];HYe(i,n);let a=n[Tf];a!==null&&n[gO]===null&&(n[gO]=pN(a,n[Iy])),EN(i,n,n[jc])}function HYe(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function EN(t,e,n){rN(e);try{let i=t.viewQuery;i!==null&&w$(1,i,n);let a=t.template;a!==null&&Nce(t,e,a,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Sf]?.finishViewCreation(t),t.staticContentQueries&&Wce(t,e),t.staticViewQueries&&w$(2,t.viewQuery,n);let c=t.components;c!==null&&UYe(e,c)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[Ft]&=-5,iN()}}function UYe(t,e){for(let n=0;n<e.length;n++)zYe(t,e[n])}function qYe(t,e,n,i){let a=rr(null);try{let c=e.tView,h=t[Ft]&4096?4096:16,m=FO(t,c,n,h,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),g=t[e.index];m[gE]=g;let b=t[Sf];return b!==null&&(m[Sf]=b.createEmbeddedView(c)),EN(c,m,n),m}finally{rr(a)}}function Zae(t,e){return!e||e.firstChild===null||yce(t)}function WYe(t,e,n,i=!0){let a=e[dn];if(nYe(a,e,t,n),i){let d=x$(n,t),h=e[ya],m=gN(h,t[hg]);m!==null&&eYe(a,t[Vc],h,e,m,d)}let c=e[gO];c!==null&&c.firstChild!==null&&(c.firstChild=null)}function wO(t,e,n,i,a=!1){for(;n!==null;){let c=e[n.index];c!==null&&i.push(nd(c)),kf(c)&&GYe(c,i);let d=n.type;if(d&8)wO(t,e,n.child,i);else if(d&32){let h=mN(n,e),m;for(;m=h();)i.push(m)}else if(d&16){let h=Ice(e,n);if(Array.isArray(h))i.push(...h);else{let m=uE(e[td]);wO(m[dn],m,h,i,!0)}}n=a?n.projectionNext:n.next}return i}function GYe(t,e){for(let n=nl;n<t.length;n++){let i=t[n],a=i[dn].firstChild;a!==null&&wO(i[dn],i,a,e)}t[hg]!==t[Tf]&&e.push(t[hg])}var Xce=[];function QYe(t){return t[fg]??YYe(t)}function YYe(t){let e=Xce.pop()??Object.create(KYe);return e.lView=t,e}function XYe(t){t.lView[fg]!==t&&(t.lView=null,Xce.push(t))}var KYe=Me(se({},Kse),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{cE(t.lView)},consumerOnSignalRead(){this.lView[fg]=this}}),Kce=100;function Zce(t,e=!0,n=0){let i=t[ed],a=i.rendererFactory,c=!1;c||a.begin?.();try{ZYe(t,n)}catch(d){throw e&&Yce(t,d),d}finally{c||(a.end?.(),i.inlineEffectRunner?.flush())}}function ZYe(t,e){_$(t,e);let n=0;for(;tN(t);){if(n===Kce)throw new Lt(103,!1);n++,_$(t,1)}}function JYe(t,e,n,i){let a=e[Ft];if((a&256)===256)return;let c=!1;!c&&e[ed].inlineEffectRunner?.flush(),rN(e);let d=null,h=null;!c&&eXe(t)&&(h=QYe(e),d=Zse(h));try{qle(e),hQe(t.bindingStartIndex),n!==null&&Nce(t,e,n,2,i);let m=(a&3)===3;if(!c)if(m){let E=t.preOrderCheckHooks;E!==null&&aO(e,E,null)}else{let E=t.preOrderHooks;E!==null&&lO(e,E,0,null),QL(e,0)}if(tXe(e),Jce(e,0),t.contentQueries!==null&&Wce(t,e),!c)if(m){let E=t.contentCheckHooks;E!==null&&aO(e,E)}else{let E=t.contentHooks;E!==null&&lO(e,E,1),QL(e,1)}vYe(t,e);let g=t.components;g!==null&&tue(e,g,0);let b=t.viewQuery;if(b!==null&&w$(2,b,i),!c)if(m){let E=t.viewCheckHooks;E!==null&&aO(e,E)}else{let E=t.viewHooks;E!==null&&lO(e,E,2),QL(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[GL]){for(let E of e[GL])E();e[GL]=null}c||(e[Ft]&=-73)}catch(m){throw cE(e),m}finally{h!==null&&(Jse(h,d),XYe(h)),iN()}}function eXe(t){return t.type!==2}function Jce(t,e){for(let n=xce(t);n!==null;n=Ece(n))for(let i=nl;i<n.length;i++){let a=n[i];eue(a,e)}}function tXe(t){for(let e=xce(t);e!==null;e=Ece(e)){if(!(e[Ft]&Z$.HasTransplantedViews))continue;let n=e[My];for(let i=0;i<n.length;i++){let a=n[i],c=a[Yo];nQe(a)}}}function nXe(t,e,n){let i=vg(e,t);eue(i,n)}function eue(t,e){eN(t)&&_$(t,e)}function _$(t,e){let i=t[dn],a=t[Ft],c=t[fg],d=!!(e===0&&a&16);if(d||=!!(a&64&&e===0),d||=!!(a&1024),d||=!!(c?.dirty&&DL(c)),c&&(c.dirty=!1),t[Ft]&=-9217,d)JYe(i,t,i.template,t[jc]);else if(a&8192){Jce(t,1);let h=i.components;h!==null&&tue(t,h,1)}}function tue(t,e,n){for(let i=0;i<e.length;i++)nXe(t,e[i],n)}function wN(t){for(t[ed].changeDetectionScheduler?.notify();t;){t[Ft]|=64;let e=uE(t);if(qGe(t)&&!e)return t;t=e}return null}var gg=class{get rootNodes(){let e=this._lView,n=e[dn];return wO(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jc]}set context(e){this._lView[jc]=e}get destroyed(){return(this._lView[Ft]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Yo];if(kf(e)){let n=e[vO],i=n?n.indexOf(this):-1;i>-1&&(b$(e,i),pO(n,i))}this._attachedToViewContainer=!1}kce(this._lView[dn],this._lView)}onDestroy(e){Wle(this._lView,e)}markForCheck(){wN(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ft]&=-129}reattach(){d$(this._lView),this._lView[Ft]|=128}detectChanges(){this._lView[Ft]|=1024,Zce(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Lt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Dce(this._lView[dn],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Lt(902,!1);this._appRef=e,d$(this._lView)}},Ry=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oXe;let t=e;return t})(),rXe=Ry,iXe=class extends rXe{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let a=qYe(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new gg(a)}};function oXe(){return _N(rd(),Mi())}function _N(t,e){return t.type&4?new iXe(e,t,By(t,e)):null}var rMt=new RegExp(`^(\\d+)*(${GQe}|${WQe})*(.*)`);var sXe=()=>null;function Jae(t,e){return sXe(t,e)}var C$=class{},S$=class{},_O=class{};function aXe(t){let e=Error(`No component factory found for ${tl(t)}.`);return e[lXe]=t,e}var lXe="ngComponent";var O$=class{resolveComponentFactory(e){throw aXe(e)}},VO=(()=>{let e=class e{};e.NULL=new O$;let t=e;return t})(),fE=class{};var cXe=(()=>{let e=class e{};e.\u0275prov=Bt({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),JL={};var ele=new Set;function CN(t){ele.has(t)||(ele.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function tle(...t){}function uXe(){let t=typeof nE.requestAnimationFrame=="function",e=nE[t?"requestAnimationFrame":"setTimeout"],n=nE[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ii=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wl(!1),this.onMicrotaskEmpty=new Wl(!1),this.onStable=new Wl(!1),this.onError=new Wl(!1),typeof Zone>"u")throw new Lt(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&n,a.shouldCoalesceRunChangeDetection=i,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=uXe().nativeRequestAnimationFrame,hXe(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Lt(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Lt(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,a){let c=this._inner,d=c.scheduleEventTask("NgZoneEvent: "+a,e,dXe,tle,tle);try{return c.runTask(d,n,i)}finally{c.cancelTask(d)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},dXe={};function SN(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fXe(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(nE,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,D$(t),t.isCheckStableRunning=!0,SN(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),D$(t))}function hXe(t){let e=()=>{fXe(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,a,c,d,h)=>{if(pXe(h))return n.invokeTask(a,c,d,h);try{return nle(t),n.invokeTask(a,c,d,h)}finally{(t.shouldCoalesceEventChangeDetection&&c.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),rle(t)}},onInvoke:(n,i,a,c,d,h,m)=>{try{return nle(t),n.invoke(a,c,d,h,m)}finally{t.shouldCoalesceRunChangeDetection&&e(),rle(t)}},onHasTask:(n,i,a,c)=>{n.hasTask(a,c),i===a&&(c.change=="microTask"?(t._hasPendingMicrotasks=c.microTask,D$(t),SN(t)):c.change=="macroTask"&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,i,a,c)=>(n.handleError(a,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}function D$(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function nle(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rle(t){t._nesting--,SN(t)}function pXe(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var nue=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let a of i)a()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=Bt({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function T$(t,e,n){let i=n?t.styles:null,a=n?t.classes:null,c=0;if(e!==null)for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="number")c=h;else if(c==1)a=Pae(a,h);else if(c==2){let m=h,g=e[++d];i=Pae(i,m+": "+g+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=a:t.classesWithoutHost=a}var CO=class extends VO{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=dg(e);return new hE(n,this.ngModule)}};function ile(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function mXe(t){let e=t.toLowerCase();return e==="svg"?YGe:e==="math"?XGe:null}var k$=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=PO(i);let a=this.injector.get(e,JL,i);return a!==JL||n===JL?a:this.parentInjector.get(e,n,i)}},hE=class extends _O{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=ile(e.inputs);if(n!==null)for(let a of i)n.hasOwnProperty(a.propName)&&(a.transform=n[a.propName]);return i}get outputs(){return ile(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=DGe(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,a){let c=rr(null);try{a=a||this.ngModule;let d=a instanceof va?a:a?.injector;d&&this.componentDef.getStandaloneInjector!==null&&(d=this.componentDef.getStandaloneInjector(d)||d);let h=d?new k$(e,d):e,m=h.get(fE,null);if(m===null)throw new Lt(407,!1);let g=h.get(cXe,null),b=h.get(nue,null),E=h.get(C$,null),_={rendererFactory:m,sanitizer:g,inlineEffectRunner:null,afterRenderEventManager:b,changeDetectionScheduler:E},S=m.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",k=i?xYe(S,i,this.componentDef.encapsulation,h):Oce(S,D,mXe(D)),I=512;this.componentDef.signals?I|=4096:this.componentDef.onPush||(I|=16);let R=null;k!==null&&(R=pN(k,h,!0));let $=bN(0,null,null,1,0,null,null,null,null,null,null),F=FO(null,$,null,I,null,null,_,S,h,null,R);rN(F);let L,V;try{let G=this.componentDef,re,ee=null;G.findHostDirectiveDefs?(re=[],ee=new Map,G.findHostDirectiveDefs(G,re,ee),re.push(G)):re=[G];let oe=gXe(F,k),pe=vXe(oe,k,G,re,F,_,S);V=Ule($,Tp),k&&xXe(S,G,k,i),n!==void 0&&EXe(V,this.ngContentSelectors,n),L=bXe(pe,G,re,ee,F,[wXe]),EN($,F,null)}finally{iN()}return new P$(this.componentType,L,By(V,F),F,V)}finally{rr(c)}}},P$=class extends S${constructor(e,n,i,a,c){super(),this.location=i,this._rootLView=a,this._tNode=c,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new gg(a,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,a;if(i!==null&&(a=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let c=this._rootLView;xN(c[dn],c,a,e,n),this.previousInputValues.set(e,n);let d=vg(this._tNode.index,c);wN(d)}}get injector(){return new ug(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function gXe(t,e){let n=t[dn],i=Tp;return t[i]=e,BO(n,i,2,"#host",null)}function vXe(t,e,n,i,a,c,d){let h=a[dn];yXe(i,t,e,d);let m=null;e!==null&&(m=pN(e,a[Iy]));let g=c.rendererFactory.createRenderer(e,n),b=16;n.signals?b=4096:n.onPush&&(b=64);let E=FO(a,Vce(n),null,b,a[t.index],t,c,g,null,null,m);return h.firstCreatePass&&E$(h,t,i.length-1),jO(a,E),a[t.index]=E}function yXe(t,e,n,i){for(let a of t)e.mergedAttrs=Q$(e.mergedAttrs,a.hostAttrs);e.mergedAttrs!==null&&(T$(e,e.mergedAttrs,!0),n!==null&&Ace(i,n,e))}function bXe(t,e,n,i,a,c){let d=rd(),h=a[dn],m=zc(d,a);Hce(h,a,d,n,null,i);for(let b=0;b<n.length;b++){let E=d.directiveStart+b,_=Ay(a,h,E,d);mg(_,a)}Uce(h,a,d),m&&mg(m,a);let g=Ay(a,h,d.directiveStart+d.componentOffset,d);if(t[jc]=a[jc]=g,c!==null)for(let b of c)b(g,e);return Fce(h,d,a),g}function xXe(t,e,n,i){if(i)o$(t,n,["ng-version","17.3.12"]);else{let{attrs:a,classes:c}=TGe(e.selectors[0]);a&&o$(t,n,a),c&&c.length>0&&Mce(t,n,c.join(" "))}}function EXe(t,e,n){let i=t.projection=[];for(let a=0;a<e.length;a++){let c=n[a];i.push(c!=null?Array.from(c):null)}}function wXe(){let t=rd();lN(Mi()[dn],t)}var bg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_Xe;let t=e;return t})();function _Xe(){let t=rd();return iue(t,Mi())}var CXe=bg,rue=class extends CXe{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return By(this._hostTNode,this._hostLView)}get injector(){return new ug(this._hostTNode,this._hostLView)}get parentInjector(){let e=cN(this._hostTNode,this._hostLView);if(oce(e)){let n=xO(e,this._hostLView),i=bO(e),a=n[dn].data[i+8];return new ug(a,n)}else return new ug(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ole(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-nl}createEmbeddedView(e,n,i){let a,c;typeof i=="number"?a=i:i!=null&&(a=i.index,c=i.injector);let d=Jae(this._lContainer,e.ssrId),h=e.createEmbeddedViewImpl(n||{},c,d);return this.insertImpl(h,a,Zae(this._hostTNode,d)),h}createComponent(e,n,i,a,c){let d=e&&!UGe(e),h;if(d)h=n;else{let D=n||{};h=D.index,i=D.injector,a=D.projectableNodes,c=D.environmentInjector||D.ngModuleRef}let m=d?e:new hE(dg(e)),g=i||this.parentInjector;if(!c&&m.ngModule==null){let k=(d?g:this.parentInjector).get(va,null);k&&(c=k)}let b=dg(m.componentType??{}),E=Jae(this._lContainer,b?.id??null),_=E?.firstChild??null,S=m.create(g,a,_,c);return this.insertImpl(S.hostView,h,Zae(this._hostTNode,E)),S}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let a=e._lView;if(tQe(a)){let h=this.indexOf(e);if(h!==-1)this.detach(h);else{let m=a[Yo],g=new rue(m,m[Vc],m[Yo]);g.detach(g.indexOf(e))}}let c=this._adjustIndex(n),d=this._lContainer;return WYe(d,a,c,i),e.attachToViewContainerRef(),_le(e$(d),c,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ole(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=b$(this._lContainer,n);i&&(pO(e$(this._lContainer),n),kce(i[dn],i))}detach(e){let n=this._adjustIndex(e,-1),i=b$(this._lContainer,n);return i&&pO(e$(this._lContainer),n)!=null?new gg(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function ole(t){return t[vO]}function e$(t){return t[vO]||(t[vO]=[])}function iue(t,e){let n,i=e[t.index];return kf(i)?n=i:(n=qce(i,e,null,t),e[t.index]=n,jO(e,n)),OXe(n,e,t,i),new rue(n,t,e)}function SXe(t,e){let n=t[ya],i=n.createComment(""),a=zc(e,t),c=gN(n,a);return EO(n,c,i,cYe(n,a),!1),i}var OXe=kXe,DXe=()=>!1;function TXe(t,e,n){return DXe(t,e,n)}function kXe(t,e,n,i){if(t[hg])return;let a;n.type&8?a=nd(i):a=SXe(e,n),t[hg]=a}var I$=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},M$=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,a=[];for(let c=0;c<i;c++){let d=n.getByIndex(c),h=this.queries[d.indexInDeclarationView];a.push(h.clone())}return new t(a)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)ON(e,n).matches!==null&&this.queries[n].setDirty()}},A$=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=NXe(e):this.predicate=e}},R$=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let a=n!==null?n.length:0,c=this.getByIndex(i).embeddedTView(e,a);c&&(c.indexInDeclarationView=i,n!==null?n.push(c):n=[c])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},L$=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let a=0;a<i.length;a++){let c=i[a];this.matchTNodeWithReadOption(e,n,PXe(n,c)),this.matchTNodeWithReadOption(e,n,cO(n,e,c,!1,!1))}else i===Ry?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,cO(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let a=this.metadata.read;if(a!==null)if(a===qc||a===bg||a===Ry&&n.type&4)this.addMatch(n.index,-2);else{let c=cO(n,e,a,!1,!1);c!==null&&this.addMatch(n.index,c)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function PXe(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function IXe(t,e){return t.type&11?By(t,e):t.type&4?_N(t,e):null}function MXe(t,e,n,i){return n===-1?IXe(e,t):n===-2?AXe(t,e,i):Ay(t,t[dn],n,e)}function AXe(t,e,n){if(n===qc)return By(e,t);if(n===Ry)return _N(e,t);if(n===bg)return iue(e,t)}function oue(t,e,n,i){let a=e[Sf].queries[i];if(a.matches===null){let c=t.data,d=n.matches,h=[];for(let m=0;d!==null&&m<d.length;m+=2){let g=d[m];if(g<0)h.push(null);else{let b=c[g];h.push(MXe(e,b,d[m+1],n.metadata.read))}}a.matches=h}return a.matches}function $$(t,e,n,i){let a=t.queries.getByIndex(n),c=a.matches;if(c!==null){let d=oue(t,e,a,n);for(let h=0;h<c.length;h+=2){let m=c[h];if(m>0)i.push(d[h/2]);else{let g=c[h+1],b=e[-m];for(let E=nl;E<b.length;E++){let _=b[E];_[gE]===_[Yo]&&$$(_[dn],_,g,i)}if(b[My]!==null){let E=b[My];for(let _=0;_<E.length;_++){let S=E[_];$$(S[dn],S,g,i)}}}}}return i}function RXe(t,e){return t[Sf].queries[e].queryList}function LXe(t,e,n){let i=new v$((n&4)===4);return _Ye(t,e,i,i.destroy),(e[Sf]??=new M$).queries.push(new I$(i))-1}function $Xe(t,e,n){let i=Pf();return i.firstCreatePass&&(FXe(i,new A$(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),LXe(i,Mi(),e)}function NXe(t){return t.split(",").map(e=>e.trim())}function FXe(t,e,n){t.queries===null&&(t.queries=new R$),t.queries.track(new L$(e,n))}function ON(t,e){return t.queries.getByIndex(e)}function BXe(t,e){let n=t[dn],i=ON(n,e);return i.crossesNgTemplate?$$(n,t,e,[]):oue(n,t,i,e)}var kp=class{},pE=class{};var N$=class extends kp{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new CO(this);let a=Ile(e);this._bootstrapComponents=Sce(a.bootstrap),this._r3Injector=mce(e,n,[{provide:kp,useValue:this},{provide:VO,useValue:this.componentFactoryResolver},...i],tl(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},F$=class extends pE{constructor(e){super(),this.moduleType=e}create(e){return new N$(this.moduleType,e,[])}};var SO=class extends kp{constructor(e){super(),this.componentFactoryResolver=new CO(this),this.instance=null;let n=new sE([...e.providers,{provide:kp,useValue:this},{provide:VO,useValue:this.componentFactoryResolver}],e.parent||K$(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function DN(t,e,n=null){return new SO({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var xg=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qo(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sue(t){return VXe(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function jXe(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function VXe(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function aue(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function zXe(t){return(t.flags&32)===32}function HXe(t,e,n,i,a,c,d,h,m){let g=e.consts,b=BO(e,t,4,d||null,yO(g,h));zce(e,n,b,yO(g,m)),lN(e,b);let E=b.tView=bN(2,b,i,a,c,e.directiveRegistry,e.pipeRegistry,null,e.schemas,g,null);return e.queries!==null&&(e.queries.template(e,b),E.queries=e.queries.embeddedTView(b)),b}function xE(t,e,n,i,a,c,d,h){let m=Mi(),g=Pf(),b=t+Tp,E=g.firstCreatePass?HXe(b,g,m,e,n,i,a,c,d):g.data[b];yE(E,!1);let _=UXe(g,m,E,t);sN()&&vN(g,m,_,E),mg(_,m);let S=qce(_,m,_,E);return m[b]=S,jO(m,S),TXe(S,E,m),J$(E)&&Bce(g,m,E),d!=null&&jce(m,E,h),xE}var UXe=qXe;function qXe(t,e,n,i){return aN(!0),e[ya].createComment("")}function WXe(t,e,n,i){return aue(t,Xle(),n)?e+yle(n)+i:NO}function EE(t,e,n){let i=Mi(),a=Xle();if(aue(i,a,e)){let c=Pf(),d=bQe();DYe(c,d,i,t,e,i[ya],n,!1)}return EE}function sle(t,e,n,i,a){let c=e.inputs,d=a?"class":"style";xN(t,n,c[d],d,i)}function GXe(t,e,n,i,a,c){let d=e.consts,h=yO(d,a),m=BO(e,t,2,i,h);return zce(e,n,m,yO(d,c)),m.attrs!==null&&T$(m,m.attrs,!1),m.mergedAttrs!==null&&T$(m,m.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,m),m}function Po(t,e,n,i){let a=Mi(),c=Pf(),d=Tp+t,h=a[ya],m=c.firstCreatePass?GXe(d,c,a,e,n,i):c.data[d],g=QXe(c,a,m,h,e,t);a[d]=g;let b=J$(m);return yE(m,!0),Ace(h,g,m),!zXe(m)&&sN()&&vN(c,a,g,m),oQe()===0&&mg(g,a),sQe(),b&&(Bce(c,a,m),Fce(c,m,a)),i!==null&&jce(a,m),Po}function Io(){let t=rd();Yle()?fQe():(t=t.parent,yE(t,!1));let e=t;cQe(e)&&uQe(),aQe();let n=Pf();return n.firstCreatePass&&(lN(n,t),Ble(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&CQe(e)&&sle(n,e,Mi(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&SQe(e)&&sle(n,e,Mi(),e.stylesWithoutHost,!1),Io}function If(t,e,n,i){return Po(t,e,n,i),Io(),If}var QXe=(t,e,n,i,a,c)=>(aN(!0),Oce(i,a,xQe()));function Vy(){return Mi()}var OO="en-US";var YXe=OO;function XXe(t){typeof t=="string"&&(YXe=t.toLowerCase().replace(/_/g,"-"))}function rl(t,e,n,i){let a=Mi(),c=Pf(),d=rd();return ZXe(c,a,a[ya],d,t,e,i),rl}function KXe(t,e,n,i){let a=t.cleanup;if(a!=null)for(let c=0;c<a.length-1;c+=2){let d=a[c];if(d===n&&a[c+1]===i){let h=e[aE],m=a[c+2];return h.length>m?h[m]:null}typeof d=="string"&&(c+=2)}return null}function ZXe(t,e,n,i,a,c,d){let h=J$(i),g=t.firstCreatePass&&Qce(t),b=e[jc],E=Gce(e),_=!0;if(i.type&3||d){let k=zc(i,e),I=d?d(k):k,R=E.length,$=d?L=>d(nd(L[i.index])):i.index,F=null;if(!d&&h&&(F=KXe(t,e,a,i.index)),F!==null){let L=F.__ngLastListenerFn__||F;L.__ngNextListenerFn__=c,F.__ngLastListenerFn__=c,_=!1}else{c=lle(i,e,b,c,!1);let L=n.listen(I,a,c);E.push(c,L),g&&g.push(a,$,R,R+1)}}else c=lle(i,e,b,c,!1);let S=i.outputs,D;if(_&&S!==null&&(D=S[a])){let k=D.length;if(k)for(let I=0;I<k;I+=2){let R=D[I],$=D[I+1],V=e[R][$].subscribe(c),G=E.length;E.push(c,V),g&&g.push(a,i.index,G,-(G+1))}}}function ale(t,e,n,i){let a=rr(null);try{return Ku(6,e,n),n(i)!==!1}catch(c){return Yce(t,c),!1}finally{Ku(7,e,n),rr(a)}}function lle(t,e,n,i,a){return function c(d){if(d===Function)return i;let h=t.componentOffset>-1?vg(t.index,e):e;wN(h);let m=ale(e,n,i,d),g=c.__ngNextListenerFn__;for(;g;)m=ale(e,n,g,d)&&m,g=g.__ngNextListenerFn__;return a&&m===!1&&d.preventDefault(),m}}function zO(t=1){return yQe(t)}function HO(t,e,n){$Xe(t,e,n)}function wE(t){let e=Mi(),n=Pf(),i=Kle();nN(i+1);let a=ON(n,i);if(t.dirty&&eQe(e)===((a.metadata.flags&2)===2)){if(a.matches===null)t.reset([]);else{let c=BXe(e,i);t.reset(c,FQe),t.notifyOnChanges()}return!0}return!1}function _E(){return RXe(Mi(),Kle())}function Gl(t,e=""){let n=Mi(),i=Pf(),a=t+Tp,c=i.firstCreatePass?BO(i,a,1,e,null):i.data[a],d=JXe(i,n,c,e,t);n[a]=d,sN()&&vN(i,n,d,c),yE(c,!1)}var JXe=(t,e,n,i,a)=>(aN(!0),KQe(e[ya],i));function CE(t){return lue("",t,""),CE}function lue(t,e,n){let i=Mi(),a=WXe(i,t,e,n);return a!==NO&&VYe(i,oN(),a),lue}var eKe=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let a=Rle(!1,i.type),c=a.length>0?DN([a],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=Bt({token:e,providedIn:"environment",factory:()=>new e(Yt(va))});let t=e;return t})();function Mp(t){CN("NgStandalone"),t.getStandaloneInjector=e=>e.get(eKe).getOrCreateStandaloneInjector(t)}var UO=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var cue=new Gt("");function SE(t){return!!t&&typeof t.then=="function"}function uue(t){return!!t&&typeof t.subscribe=="function"}var due=new Gt(""),fue=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a}),this.appInits=lt(due,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let c of this.appInits){let d=c();if(SE(d))i.push(d);else if(uue(d)){let h=new Promise((m,g)=>{d.subscribe({complete:m,error:g})});i.push(h)}}let a=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{a()}).catch(c=>{this.reject(c)}),i.length===0&&a(),this.initialized=!0}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qO=new Gt("");function tKe(){tae(()=>{throw new Lt(600,!1)})}function nKe(t){return t.isBoundToModule}function rKe(t,e,n){try{let i=n();return SE(i)?i.catch(a=>{throw e.runOutsideAngular(()=>t.handleError(a)),a}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var zy=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=lt(gce),this.afterRenderEffectManager=lt(nue),this.externalTestViews=new Set,this.beforeRender=new Ws,this.afterTick=new Ws,this.componentTypes=[],this.components=[],this.isStable=lt(xg).hasPendingTasks.pipe(sn(i=>!i)),this._injector=lt(va)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,a){let c=i instanceof _O;if(!this._injector.get(fue).done){let S=!c&&Ple(i),D=!1;throw new Lt(405,D)}let h;c?h=i:h=this._injector.get(VO).resolveComponentFactory(i),this.componentTypes.push(h.componentType);let m=nKe(h)?void 0:this._injector.get(kp),g=a||h.selector,b=h.create(bE.NULL,[],g,m),E=b.location.nativeElement,_=b.injector.get(cue,null);return _?.registerApplication(E),b.onDestroy(()=>{this.detachView(b.hostView),t$(this.components,b),_?.unregisterApplication(E)}),this._loadComponent(b),b}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new Lt(101,!1);let a=rr(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(c){this.internalErrorHandler(c)}finally{this.afterTick.next(),this._runningTick=!1,rr(a)}}detectChangesInAttachedViews(i){let a=0,c=this.afterRenderEffectManager;for(;;){if(a===Kce)throw new Lt(103,!1);if(i){let d=a===0;this.beforeRender.next(d);for(let{_lView:h,notifyErrorHandler:m}of this._views)iKe(h,d,m)}if(a++,c.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:d})=>B$(d))&&(c.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:d})=>B$(d))))break}}attachView(i){let a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){let a=i;t$(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let a=this._injector.get(qO,[]);[...this._bootstrapListeners,...a].forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>t$(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Lt(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function t$(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function iKe(t,e,n){!e&&!B$(t)||oKe(t,n,e)}function B$(t){return tN(t)}function oKe(t,e,n){let i;n?(i=0,t[Ft]|=1024):t[Ft]&64?i=0:i=1,Zce(t,e,i)}var j$=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},TN=(()=>{let e=class e{compileModuleSync(i){return new F$(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let a=this.compileModuleSync(i),c=Ile(i),d=Sce(c.declarations).reduce((h,m)=>{let g=dg(m);return g&&h.push(new hE(g)),h},[]);return new j$(a,d)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sKe=(()=>{let e=class e{constructor(){this.zone=lt(Ii),this.applicationRef=lt(zy)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aKe(t){return[{provide:Ii,useFactory:t},{provide:Py,multi:!0,useFactory:()=>{let e=lt(sKe,{optional:!0});return()=>e.initialize()}},{provide:Py,multi:!0,useFactory:()=>{let e=lt(dKe);return()=>{e.initialize()}}},{provide:gce,useFactory:lKe}]}function lKe(){let t=lt(Ii),e=lt(Of);return n=>t.runOutsideAngular(()=>e.handleError(n))}function cKe(t){let e=aKe(()=>new Ii(uKe(t)));return Ny([[],e])}function uKe(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var dKe=(()=>{let e=class e{constructor(){this.subscription=new uo,this.initialized=!1,this.zone=lt(Ii),this.pendingTasks=lt(xg)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ii.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ii.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fKe(){return typeof $localize<"u"&&$localize.locale||OO}var kN=new Gt("",{providedIn:"root",factory:()=>lt(kN,un.Optional|un.SkipSelf)||fKe()});var hue=new Gt("");var dO=null;function hKe(t=[],e){return bE.create({name:e,providers:[{provide:MO,useValue:"platform"},{provide:hue,useValue:new Set([()=>dO=null])},...t]})}function pKe(t=[]){if(dO)return dO;let e=hKe(t);return dO=e,tKe(),mKe(e),e}function mKe(t){t.get(fN,null)?.forEach(n=>n())}var OE=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=gKe;let t=e;return t})();function gKe(t){return vKe(rd(),Mi(),(t&16)===16)}function vKe(t,e,n){if(RO(t)&&!n){let i=vg(t.index,e);return new gg(i,i)}else if(t.type&47){let i=e[td];return new gg(i,e)}return null}var V$=class{constructor(){}supports(e){return sue(e)}create(e){return new z$(e)}},yKe=(t,e)=>e,z$=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||yKe}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,a=0,c=null;for(;n||i;){let d=!i||n&&n.currentIndex<cle(i,a,c)?n:i,h=cle(d,a,c),m=d.currentIndex;if(d===i)a--,i=i._nextRemoved;else if(n=n._next,d.previousIndex==null)a++;else{c||(c=[]);let g=h-a,b=m-a;if(g!=b){for(let _=0;_<g;_++){let S=_<c.length?c[_]:c[_]=0,D=S+_;b<=D&&D<g&&(c[_]=S+1)}let E=d.previousIndex;c[E]=b-g}}h!==m&&e(d,h,m)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!sue(e))throw new Lt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,a,c,d;if(Array.isArray(e)){this.length=e.length;for(let h=0;h<this.length;h++)c=e[h],d=this._trackByFn(h,c),n===null||!Object.is(n.trackById,d)?(n=this._mismatch(n,c,d,h),i=!0):(i&&(n=this._verifyReinsertion(n,c,d,h)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next}else a=0,jXe(e,h=>{d=this._trackByFn(a,h),n===null||!Object.is(n.trackById,d)?(n=this._mismatch(n,h,d,a),i=!0):(i&&(n=this._verifyReinsertion(n,h,d,a)),Object.is(n.item,h)||this._addIdentityChange(n,h)),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,a){let c;return e===null?c=this._itTail:(c=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,c,a)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,a),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,c,a)):e=this._addAfter(new H$(n,i),c,a)),e}_verifyReinsertion(e,n,i,a){let c=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return c!==null?e=this._reinsertAfter(c,e._prev,a):e.currentIndex!=a&&(e.currentIndex=a,this._addToMoves(e,a)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let a=e._prevRemoved,c=e._nextRemoved;return a===null?this._removalsHead=c:a._nextRemoved=c,c===null?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let a=n===null?this._itHead:n._next;return e._next=a,e._prev=n,a===null?this._itTail=e:a._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new DO),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new DO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},H$=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},U$=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},DO=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new U$,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,a=this.map.get(i);return a?a.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function cle(t,e,n){let i=t.previousIndex;if(i===null)return i;let a=0;return n&&i<n.length&&(a=n[i]),i+e+a}function ule(){return new PN([new V$])}var PN=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,a){if(a!=null){let c=a.factories.slice();i=i.concat(c)}return new e(i)}static extend(i){return{provide:e,useFactory:a=>e.create(i,a||ule()),deps:[[e,new wle,new W$]]}}find(i){let a=this.factories.find(c=>c.supports(i));if(a!=null)return a;throw new Lt(901,!1)}};e.\u0275prov=Bt({token:e,providedIn:"root",factory:ule});let t=e;return t})();function pue(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,a=pKe(i),c=[cKe(),...n||[]],h=new SO({providers:c,parent:a,debugName:"",runEnvironmentInitializers:!1}).injector,m=h.get(Ii);return m.run(()=>{h.resolveInjectorInitializers();let g=h.get(Of,null),b;m.runOutsideAngular(()=>{b=m.onError.subscribe({next:S=>{g.handleError(S)}})});let E=()=>h.destroy(),_=a.get(hue);return _.add(E),h.onDestroy(()=>{b.unsubscribe(),_.delete(E)}),rKe(g,m,()=>{let S=h.get(fue);return S.runInitializers(),S.donePromise.then(()=>{let D=h.get(kN,OO);XXe(D||OO);let k=h.get(zy);return e!==void 0&&k.bootstrap(e),k})})})}catch(e){return Promise.reject(e)}}var xue=null;function Hy(){return xue}function Eue(t){xue??=t}var WO=class{};var ba=new Gt(""),wue=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:()=>lt(_Ke),providedIn:"platform"});let t=e;return t})();var _Ke=(()=>{let e=class e extends wue{constructor(){super(),this._doc=lt(ba),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hy().getBaseHref(this._doc)}onPopState(i){let a=Hy().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",i,!1),()=>a.removeEventListener("popstate",i)}onHashChange(i){let a=Hy().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",i,!1),()=>a.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,a,c){this._history.pushState(i,a,c)}replaceState(i,a,c){this._history.replaceState(i,a,c)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function _ue(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function mue(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function wg(t){return t&&t[0]!=="?"?"?"+t:t}var GO=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:()=>lt(Cue),providedIn:"root"});let t=e;return t})(),CKe=new Gt(""),Cue=(()=>{let e=class e extends GO{constructor(i,a){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=a??this._platformLocation.getBaseHrefFromDOM()??lt(ba).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return _ue(this._baseHref,i)}path(i=!1){let a=this._platformLocation.pathname+wg(this._platformLocation.search),c=this._platformLocation.hash;return c&&i?`${a}${c}`:a}pushState(i,a,c,d){let h=this.prepareExternalUrl(c+wg(d));this._platformLocation.pushState(i,a,h)}replaceState(i,a,c,d){let h=this.prepareExternalUrl(c+wg(d));this._platformLocation.replaceState(i,a,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(a){return new(a||e)(Yt(wue),Yt(CKe,8))},e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var DE=(()=>{let e=class e{constructor(i){this._subject=new Wl,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let a=this._locationStrategy.getBaseHref();this._basePath=DKe(mue(gue(a))),this._locationStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,a=""){return this.path()==this.normalize(i+wg(a))}normalize(i){return e.stripTrailingSlash(OKe(this._basePath,gue(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,a="",c=null){this._locationStrategy.pushState(c,"",i,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+wg(a)),c)}replaceState(i,a="",c=null){this._locationStrategy.replaceState(c,"",i,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+wg(a)),c)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}),()=>{let a=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(a,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",a){this._urlChangeListeners.forEach(c=>c(i,a))}subscribe(i,a,c){return this._subject.subscribe({next:i,error:a,complete:c})}};e.normalizeQueryParams=wg,e.joinWithSlash=_ue,e.stripTrailingSlash=mue,e.\u0275fac=function(a){return new(a||e)(Yt(GO))},e.\u0275prov=Bt({token:e,factory:()=>SKe(),providedIn:"root"});let t=e;return t})();function SKe(){return new DE(Yt(GO))}function OKe(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function gue(t){return t.replace(/\/index.html$/,"")}function DKe(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function QO(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[a,c]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(a.trim()===e)return decodeURIComponent(c)}return null}var IN=class{constructor(e,n,i,a){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=a}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},YO=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,a,c){this._viewContainer=i,this._template=a,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let a=this._viewContainer;i.forEachOperation((c,d,h)=>{if(c.previousIndex==null)a.createEmbeddedView(this._template,new IN(c.item,this._ngForOf,-1,-1),h===null?void 0:h);else if(h==null)a.remove(d===null?void 0:d);else if(d!==null){let m=a.get(d);a.move(m,h),vue(m,c)}});for(let c=0,d=a.length;c<d;c++){let m=a.get(c).context;m.index=c,m.count=d,m.ngForOf=this._ngForOf}i.forEachIdentityChange(c=>{let d=a.get(c.currentIndex);vue(d,c)})}static ngTemplateContextGuard(i,a){return!0}};e.\u0275fac=function(a){return new(a||e)(id(bg),id(Ry),id(PN))},e.\u0275dir=IO({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function vue(t,e){t.context.$implicit=e.item}var TE=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=$y({type:e}),e.\u0275inj=Ly({});let t=e;return t})(),Sue="browser",TKe="server";function XO(t){return t===TKe}var Uy=class{};var PE=class{},ZO=class{},Wc=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let a=n.slice(0,i),c=a.toLowerCase(),d=n.slice(i+1).trim();this.maybeSetNormalizedName(a,c),this.headers.has(c)?this.headers.get(c).push(d):this.headers.set(c,[d])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let a=(e.op==="a"?this.headers.get(n):void 0)||[];a.push(...i),this.headers.set(n,a);break;case"d":let c=e.value;if(!c)this.headers.delete(n),this.normalizedNames.delete(n);else{let d=this.headers.get(n);if(!d)return;d=d.filter(h=>c.indexOf(h)===-1),d.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,d)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(c=>c.toString()),a=e.toLowerCase();this.headers.set(a,i),this.maybeSetNormalizedName(e,a)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var RN=class{encodeKey(e){return Oue(e)}encodeValue(e){return Oue(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function IKe(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(a=>{let c=a.indexOf("="),[d,h]=c==-1?[e.decodeKey(a),""]:[e.decodeKey(a.slice(0,c)),e.decodeValue(a.slice(c+1))],m=n.get(d)||[];m.push(h),n.set(d,m)}),n}var MKe=/%(\d[a-f0-9])/gi,AKe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Oue(t){return encodeURIComponent(t).replace(MKe,(e,n)=>AKe[n]??e)}function KO(t){return`${t}`}var Ap=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new RN,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=IKe(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],a=Array.isArray(i)?i.map(KO):[KO(i)];this.map.set(n,a)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let a=e[i];Array.isArray(a)?a.forEach(c=>{n.push({param:i,value:c,op:"a"})}):n.push({param:i,value:a,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(KO(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],a=i.indexOf(KO(e.value));a!==-1&&i.splice(a,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var LN=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function RKe(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Due(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Tue(t){return typeof Blob<"u"&&t instanceof Blob}function kue(t){return typeof FormData<"u"&&t instanceof FormData}function LKe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var kE=class t{constructor(e,n,i,a){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let c;if(RKe(this.method)||a?(this.body=i!==void 0?i:null,c=a):c=i,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers??=new Wc,this.context??=new LN,!this.params)this.params=new Ap,this.urlWithParams=n;else{let d=this.params.toString();if(d.length===0)this.urlWithParams=n;else{let h=n.indexOf("?"),m=h===-1?"?":h<n.length-1?"&":"";this.urlWithParams=n+m+d}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Due(this.body)||Tue(this.body)||kue(this.body)||LKe(this.body)?this.body:this.body instanceof Ap?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||kue(this.body)?null:Tue(this.body)?this.body.type||null:Due(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ap?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,c=e.transferCache??this.transferCache,d=e.body!==void 0?e.body:this.body,h=e.withCredentials??this.withCredentials,m=e.reportProgress??this.reportProgress,g=e.headers||this.headers,b=e.params||this.params,E=e.context??this.context;return e.setHeaders!==void 0&&(g=Object.keys(e.setHeaders).reduce((_,S)=>_.set(S,e.setHeaders[S]),g)),e.setParams&&(b=Object.keys(e.setParams).reduce((_,S)=>_.set(S,e.setParams[S]),b)),new t(n,i,d,{params:b,headers:g,context:E,reportProgress:m,responseType:a,withCredentials:h,transferCache:c})}},qy=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(qy||{}),IE=class{constructor(e,n=t8.Ok,i="OK"){this.headers=e.headers||new Wc,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},$N=class t extends IE{constructor(e={}){super(e),this.type=qy.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},JO=class t extends IE{constructor(e={}){super(e),this.type=qy.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},e8=class extends IE{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},t8=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(t8||{});function AN(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var ME=(()=>{let e=class e{constructor(i){this.handler=i}request(i,a,c={}){let d;if(i instanceof kE)d=i;else{let g;c.headers instanceof Wc?g=c.headers:g=new Wc(c.headers);let b;c.params&&(c.params instanceof Ap?b=c.params:b=new Ap({fromObject:c.params})),d=new kE(i,a,c.body!==void 0?c.body:null,{headers:g,context:c.context,params:b,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials,transferCache:c.transferCache})}let h=Ht(d).pipe(wp(g=>this.handler.handle(g)));if(i instanceof kE||c.observe==="events")return h;let m=h.pipe(Ja(g=>g instanceof JO));switch(c.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return m.pipe(sn(g=>{if(g.body!==null&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return m.pipe(sn(g=>{if(g.body!==null&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return m.pipe(sn(g=>{if(g.body!==null&&typeof g.body!="string")throw new Error("Response is not a string.");return g.body}));case"json":default:return m.pipe(sn(g=>g.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${c.observe}}`)}}delete(i,a={}){return this.request("DELETE",i,a)}get(i,a={}){return this.request("GET",i,a)}head(i,a={}){return this.request("HEAD",i,a)}jsonp(i,a){return this.request("JSONP",i,{params:new Ap().append(a,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,a={}){return this.request("OPTIONS",i,a)}patch(i,a,c={}){return this.request("PATCH",i,AN(c,a))}post(i,a,c={}){return this.request("POST",i,AN(c,a))}put(i,a,c={}){return this.request("PUT",i,AN(c,a))}};e.\u0275fac=function(a){return new(a||e)(Yt(PE))},e.\u0275prov=Bt({token:e,factory:e.\u0275fac});let t=e;return t})();function Aue(t,e){return e(t)}function $Ke(t,e){return(n,i)=>e.intercept(n,{handle:a=>t(a,i)})}function NKe(t,e,n){return(i,a)=>Df(n,()=>e(i,c=>t(c,a)))}var FKe=new Gt(""),NN=new Gt(""),BKe=new Gt(""),jKe=new Gt("");function VKe(){let t=null;return(e,n)=>{t===null&&(t=(lt(FKe,{optional:!0})??[]).reduceRight($Ke,Aue));let i=lt(xg),a=i.add();return t(e,n).pipe(Cp(()=>i.remove(a)))}}var Pue=(()=>{let e=class e extends PE{constructor(i,a){super(),this.backend=i,this.injector=a,this.chain=null,this.pendingTasks=lt(xg);let c=lt(jKe,{optional:!0});this.backend=c??i}handle(i){if(this.chain===null){let c=Array.from(new Set([...this.injector.get(NN),...this.injector.get(BKe,[])]));this.chain=c.reduceRight((d,h)=>NKe(d,h,this.injector),Aue)}let a=this.pendingTasks.add();return this.chain(i,c=>this.backend.handle(c)).pipe(Cp(()=>this.pendingTasks.remove(a)))}};e.\u0275fac=function(a){return new(a||e)(Yt(ZO),Yt(va))},e.\u0275prov=Bt({token:e,factory:e.\u0275fac});let t=e;return t})();var zKe=/^\)\]\}',?\n/;function HKe(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Iue=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new Lt(-2800,!1);let a=this.xhrFactory;return(a.\u0275loadImpl?Pi(a.\u0275loadImpl()):Ht(null)).pipe(el(()=>new ir(d=>{let h=a.build();if(h.open(i.method,i.urlWithParams),i.withCredentials&&(h.withCredentials=!0),i.headers.forEach((I,R)=>h.setRequestHeader(I,R.join(","))),i.headers.has("Accept")||h.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let I=i.detectContentTypeHeader();I!==null&&h.setRequestHeader("Content-Type",I)}if(i.responseType){let I=i.responseType.toLowerCase();h.responseType=I!=="json"?I:"text"}let m=i.serializeBody(),g=null,b=()=>{if(g!==null)return g;let I=h.statusText||"OK",R=new Wc(h.getAllResponseHeaders()),$=HKe(h)||i.url;return g=new $N({headers:R,status:h.status,statusText:I,url:$}),g},E=()=>{let{headers:I,status:R,statusText:$,url:F}=b(),L=null;R!==t8.NoContent&&(L=typeof h.response>"u"?h.responseText:h.response),R===0&&(R=L?t8.Ok:0);let V=R>=200&&R<300;if(i.responseType==="json"&&typeof L=="string"){let G=L;L=L.replace(zKe,"");try{L=L!==""?JSON.parse(L):null}catch(re){L=G,V&&(V=!1,L={error:re,text:L})}}V?(d.next(new JO({body:L,headers:I,status:R,statusText:$,url:F||void 0})),d.complete()):d.error(new e8({error:L,headers:I,status:R,statusText:$,url:F||void 0}))},_=I=>{let{url:R}=b(),$=new e8({error:I,status:h.status||0,statusText:h.statusText||"Unknown Error",url:R||void 0});d.error($)},S=!1,D=I=>{S||(d.next(b()),S=!0);let R={type:qy.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(R.total=I.total),i.responseType==="text"&&h.responseText&&(R.partialText=h.responseText),d.next(R)},k=I=>{let R={type:qy.UploadProgress,loaded:I.loaded};I.lengthComputable&&(R.total=I.total),d.next(R)};return h.addEventListener("load",E),h.addEventListener("error",_),h.addEventListener("timeout",_),h.addEventListener("abort",_),i.reportProgress&&(h.addEventListener("progress",D),m!==null&&h.upload&&h.upload.addEventListener("progress",k)),h.send(m),d.next({type:qy.Sent}),()=>{h.removeEventListener("error",_),h.removeEventListener("abort",_),h.removeEventListener("load",E),h.removeEventListener("timeout",_),i.reportProgress&&(h.removeEventListener("progress",D),m!==null&&h.upload&&h.upload.removeEventListener("progress",k)),h.readyState!==h.DONE&&h.abort()}})))}};e.\u0275fac=function(a){return new(a||e)(Yt(Uy))},e.\u0275prov=Bt({token:e,factory:e.\u0275fac});let t=e;return t})(),Rue=new Gt(""),UKe="XSRF-TOKEN",qKe=new Gt("",{providedIn:"root",factory:()=>UKe}),WKe="X-XSRF-TOKEN",GKe=new Gt("",{providedIn:"root",factory:()=>WKe}),n8=class{},QKe=(()=>{let e=class e{constructor(i,a,c){this.doc=i,this.platform=a,this.cookieName=c,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=QO(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(a){return new(a||e)(Yt(ba),Yt(Ip),Yt(qKe))},e.\u0275prov=Bt({token:e,factory:e.\u0275fac});let t=e;return t})();function YKe(t,e){let n=t.url.toLowerCase();if(!lt(Rue)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=lt(n8).getToken(),a=lt(GKe);return i!=null&&!t.headers.has(a)&&(t=t.clone({headers:t.headers.set(a,i)})),e(t)}var Lue=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Lue||{});function XKe(t,e){return{\u0275kind:t,\u0275providers:e}}function KKe(...t){let e=[ME,Iue,Pue,{provide:PE,useExisting:Pue},{provide:ZO,useExisting:Iue},{provide:NN,useValue:YKe,multi:!0},{provide:Rue,useValue:!0},{provide:n8,useClass:QKe}];for(let n of t)e.push(...n.\u0275providers);return Ny(e)}var Mue=new Gt("");function ZKe(){return XKe(Lue.LegacyInterceptors,[{provide:Mue,useFactory:VKe},{provide:NN,useExisting:Mue,multi:!0}])}var r8=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=$y({type:e}),e.\u0275inj=Ly({providers:[KKe(ZKe())]});let t=e;return t})();var jN=class extends WO{constructor(){super(...arguments),this.supportsDOMEvents=!0}},VN=class t extends jN{static makeCurrent(){Eue(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=JKe();return n==null?null:eZe(n)}resetBaseElement(){AE=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return QO(document.cookie,e)}},AE=null;function JKe(){return AE=AE||document.querySelector("base"),AE?AE.getAttribute("href"):null}function eZe(t){return new URL(t,document.baseURI).pathname}var tZe=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:e.\u0275fac});let t=e;return t})(),zN=new Gt(""),jue=(()=>{let e=class e{constructor(i,a){this._zone=a,this._eventNameToPlugin=new Map,i.forEach(c=>{c.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,a,c){return this._findPluginFor(a).addEventListener(i,a,c)}getZone(){return this._zone}_findPluginFor(i){let a=this._eventNameToPlugin.get(i);if(a)return a;if(a=this._plugins.find(d=>d.supports(i)),!a)throw new Lt(5101,!1);return this._eventNameToPlugin.set(i,a),a}};e.\u0275fac=function(a){return new(a||e)(Yt(zN),Yt(Ii))},e.\u0275prov=Bt({token:e,factory:e.\u0275fac});let t=e;return t})(),i8=class{constructor(e){this._doc=e}},FN="ng-app-id",Vue=(()=>{let e=class e{constructor(i,a,c,d={}){this.doc=i,this.appId=a,this.nonce=c,this.platformId=d,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=XO(d),this.resetHostNodes()}addStyles(i){for(let a of i)this.changeUsageCount(a,1)===1&&this.onStyleAdded(a)}removeStyles(i){for(let a of i)this.changeUsageCount(a,-1)<=0&&this.onStyleRemoved(a)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(a=>a.remove()),i.clear());for(let a of this.getAllStyles())this.onStyleRemoved(a);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let a of this.getAllStyles())this.addStyleToHost(i,a)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let a of this.hostNodes)this.addStyleToHost(a,i)}onStyleRemoved(i){let a=this.styleRef;a.get(i)?.elements?.forEach(c=>c.remove()),a.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${FN}="${this.appId}"]`);if(i?.length){let a=new Map;return i.forEach(c=>{c.textContent!=null&&a.set(c.textContent,c)}),a}return null}changeUsageCount(i,a){let c=this.styleRef;if(c.has(i)){let d=c.get(i);return d.usage+=a,d.usage}return c.set(i,{usage:a,elements:[]}),a}getStyleElement(i,a){let c=this.styleNodesInDOM,d=c?.get(a);if(d?.parentNode===i)return c.delete(a),d.removeAttribute(FN),d;{let h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=a,this.platformIsServer&&h.setAttribute(FN,this.appId),i.appendChild(h),h}}addStyleToHost(i,a){let c=this.getStyleElement(i,a),d=this.styleRef,h=d.get(a)?.elements;h?h.push(c):d.set(a,{elements:[c],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(a){return new(a||e)(Yt(ba),Yt(dN),Yt(hN,8),Yt(Ip))},e.\u0275prov=Bt({token:e,factory:e.\u0275fac});let t=e;return t})(),BN={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},UN=/%COMP%/g,zue="%COMP%",nZe=`_nghost-${zue}`,rZe=`_ngcontent-${zue}`,iZe=!0,oZe=new Gt("",{providedIn:"root",factory:()=>iZe});function sZe(t){return rZe.replace(UN,t)}function aZe(t){return nZe.replace(UN,t)}function Hue(t,e){return e.map(n=>n.replace(UN,t))}var Nue=(()=>{let e=class e{constructor(i,a,c,d,h,m,g,b=null){this.eventManager=i,this.sharedStylesHost=a,this.appId=c,this.removeStylesOnCompDestroy=d,this.doc=h,this.platformId=m,this.ngZone=g,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=XO(m),this.defaultRenderer=new RE(i,h,g,this.platformIsServer)}createRenderer(i,a){if(!i||!a)return this.defaultRenderer;this.platformIsServer&&a.encapsulation===Ju.ShadowDom&&(a=Me(se({},a),{encapsulation:Ju.Emulated}));let c=this.getOrCreateRenderer(i,a);return c instanceof o8?c.applyToHost(i):c instanceof LE&&c.applyStyles(),c}getOrCreateRenderer(i,a){let c=this.rendererByCompId,d=c.get(a.id);if(!d){let h=this.doc,m=this.ngZone,g=this.eventManager,b=this.sharedStylesHost,E=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(a.encapsulation){case Ju.Emulated:d=new o8(g,b,a,this.appId,E,h,m,_);break;case Ju.ShadowDom:return new HN(g,b,i,a,h,m,this.nonce,_);default:d=new LE(g,b,a,E,h,m,_);break}c.set(a.id,d)}return d}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(a){return new(a||e)(Yt(jue),Yt(Vue),Yt(dN),Yt(oZe),Yt(ba),Yt(Ip),Yt(Ii),Yt(hN))},e.\u0275prov=Bt({token:e,factory:e.\u0275fac});let t=e;return t})(),RE=class{constructor(e,n,i,a){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=a,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(BN[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Fue(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(Fue(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Lt(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,a){if(a){n=a+":"+n;let c=BN[a];c?e.setAttributeNS(c,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let a=BN[i];a?e.removeAttributeNS(a,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,a){a&(yg.DashCase|yg.Important)?e.style.setProperty(n,i,a&yg.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&yg.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=Hy().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Fue(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var HN=class extends RE{constructor(e,n,i,a,c,d,h,m){super(e,c,d,m),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let g=Hue(a.id,a.styles);for(let b of g){let E=document.createElement("style");h&&E.setAttribute("nonce",h),E.textContent=b,this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},LE=class extends RE{constructor(e,n,i,a,c,d,h,m){super(e,c,d,h),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=a,this.styles=m?Hue(m,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},o8=class extends LE{constructor(e,n,i,a,c,d,h,m){let g=a+"-"+i.id;super(e,n,i,c,d,h,m,g),this.contentAttr=sZe(g),this.hostAttr=aZe(g)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},lZe=(()=>{let e=class e extends i8{constructor(i){super(i)}supports(i){return!0}addEventListener(i,a,c){return i.addEventListener(a,c,!1),()=>this.removeEventListener(i,a,c)}removeEventListener(i,a,c){return i.removeEventListener(a,c)}};e.\u0275fac=function(a){return new(a||e)(Yt(ba))},e.\u0275prov=Bt({token:e,factory:e.\u0275fac});let t=e;return t})(),Bue=["alt","control","meta","shift"],cZe={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uZe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},dZe=(()=>{let e=class e extends i8{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,a,c){let d=e.parseEventName(a),h=e.eventCallback(d.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hy().onAndCancel(i,d.domEventName,h))}static parseEventName(i){let a=i.toLowerCase().split("."),c=a.shift();if(a.length===0||!(c==="keydown"||c==="keyup"))return null;let d=e._normalizeKey(a.pop()),h="",m=a.indexOf("code");if(m>-1&&(a.splice(m,1),h="code."),Bue.forEach(b=>{let E=a.indexOf(b);E>-1&&(a.splice(E,1),h+=b+".")}),h+=d,a.length!=0||d.length===0)return null;let g={};return g.domEventName=c,g.fullKey=h,g}static matchEventFullKeyCode(i,a){let c=cZe[i.key]||i.key,d="";return a.indexOf("code.")>-1&&(c=i.code,d="code."),c==null||!c?!1:(c=c.toLowerCase(),c===" "?c="space":c==="."&&(c="dot"),Bue.forEach(h=>{if(h!==c){let m=uZe[h];m(i)&&(d+=h+".")}}),d+=c,d===a)}static eventCallback(i,a,c){return d=>{e.matchEventFullKeyCode(d,i)&&c.runGuarded(()=>a(d))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(a){return new(a||e)(Yt(ba))},e.\u0275prov=Bt({token:e,factory:e.\u0275fac});let t=e;return t})();function Uue(t,e){return pue(se({rootComponent:t},fZe(e)))}function fZe(t){return{appProviders:[...vZe,...t?.providers??[]],platformProviders:gZe}}function hZe(){VN.makeCurrent()}function pZe(){return new Of}function mZe(){return _ce(document),document}var gZe=[{provide:Ip,useValue:Sue},{provide:fN,useValue:hZe,multi:!0},{provide:ba,useFactory:mZe,deps:[]}];var vZe=[{provide:MO,useValue:"root"},{provide:Of,useFactory:pZe,deps:[]},{provide:zN,useClass:lZe,multi:!0,deps:[ba,Ii,Ip]},{provide:zN,useClass:dZe,multi:!0,deps:[ba]},Nue,Vue,jue,{provide:fE,useExisting:Nue},{provide:Uy,useClass:tZe,deps:[]},[]];var que=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(a){return new(a||e)(Yt(ba))},e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Zt="primary",XE=Symbol("RouteTitle"),YN=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Xy(t){return new YN(t)}function bZe(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let a={};for(let c=0;c<i.length;c++){let d=i[c],h=t[c];if(d.startsWith(":"))a[d.substring(1)]=h;else if(d!==h.path)return null}return{consumed:t.slice(0,i.length),posParams:a}}function xZe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!od(t[n],e[n]))return!1;return!0}function od(t,e){let n=t?XN(t):void 0,i=e?XN(e):void 0;if(!n||!i||n.length!=i.length)return!1;let a;for(let c=0;c<n.length;c++)if(a=n[c],!Kue(t[a],e[a]))return!1;return!0}function XN(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Kue(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((a,c)=>i[c]===a)}else return t===e}function Zue(t){return t.length>0?t[t.length-1]:null}function $p(t){return BL(t)?t:SE(t)?Pi(Promise.resolve(t)):Ht(t)}var EZe={exact:ede,subset:tde},Jue={exact:wZe,subset:_Ze,ignored:()=>!0};function Wue(t,e,n){return EZe[n.paths](t.root,e.root,n.matrixParams)&&Jue[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function wZe(t,e){return od(t,e)}function ede(t,e,n){if(!Cg(t.segments,e.segments)||!l8(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!ede(t.children[i],e.children[i],n))return!1;return!0}function _Ze(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Kue(t[n],e[n]))}function tde(t,e,n){return nde(t,e,e.segments,n)}function nde(t,e,n,i){if(t.segments.length>n.length){let a=t.segments.slice(0,n.length);return!(!Cg(a,n)||e.hasChildren()||!l8(a,n,i))}else if(t.segments.length===n.length){if(!Cg(t.segments,n)||!l8(t.segments,n,i))return!1;for(let a in e.children)if(!t.children[a]||!tde(t.children[a],e.children[a],i))return!1;return!0}else{let a=n.slice(0,t.segments.length),c=n.slice(t.segments.length);return!Cg(t.segments,a)||!l8(t.segments,a,i)||!t.children[Zt]?!1:nde(t.children[Zt],e,c,i)}}function l8(t,e,n){return e.every((i,a)=>Jue[n](t[a].parameters,i.parameters))}var Rp=class{constructor(e=new cr([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Xy(this.queryParams),this._queryParamMap}toString(){return OZe.serialize(this)}},cr=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return c8(this)}},_g=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Xy(this.parameters),this._parameterMap}toString(){return ide(this)}};function CZe(t,e){return Cg(t,e)&&t.every((n,i)=>od(n.parameters,e[i].parameters))}function Cg(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function SZe(t,e){let n=[];return Object.entries(t.children).forEach(([i,a])=>{i===Zt&&(n=n.concat(e(a,i)))}),Object.entries(t.children).forEach(([i,a])=>{i!==Zt&&(n=n.concat(e(a,i)))}),n}var wF=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:()=>new d8,providedIn:"root"});let t=e;return t})(),d8=class{parse(e){let n=new ZN(e);return new Rp(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${$E(e.root,!0)}`,i=kZe(e.queryParams),a=typeof e.fragment=="string"?`#${DZe(e.fragment)}`:"";return`${n}${i}${a}`}},OZe=new d8;function c8(t){return t.segments.map(e=>ide(e)).join("/")}function $E(t,e){if(!t.hasChildren())return c8(t);if(e){let n=t.children[Zt]?$E(t.children[Zt],!1):"",i=[];return Object.entries(t.children).forEach(([a,c])=>{a!==Zt&&i.push(`${a}:${$E(c,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=SZe(t,(i,a)=>a===Zt?[$E(t.children[Zt],!1)]:[`${a}:${$E(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Zt]!=null?`${c8(t)}/${n[0]}`:`${c8(t)}/(${n.join("//")})`}}function rde(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function s8(t){return rde(t).replace(/%3B/gi,";")}function DZe(t){return encodeURI(t)}function KN(t){return rde(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function u8(t){return decodeURIComponent(t)}function Gue(t){return u8(t.replace(/\+/g,"%20"))}function ide(t){return`${KN(t.path)}${TZe(t.parameters)}`}function TZe(t){return Object.entries(t).map(([e,n])=>`;${KN(e)}=${KN(n)}`).join("")}function kZe(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(a=>`${s8(n)}=${s8(a)}`).join("&"):`${s8(n)}=${s8(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var PZe=/^[^\/()?;#]+/;function qN(t){let e=t.match(PZe);return e?e[0]:""}var IZe=/^[^\/()?;=#]+/;function MZe(t){let e=t.match(IZe);return e?e[0]:""}var AZe=/^[^=?&#]+/;function RZe(t){let e=t.match(AZe);return e?e[0]:""}var LZe=/^[^&#]+/;function $Ze(t){let e=t.match(LZe);return e?e[0]:""}var ZN=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new cr([],{}):new cr([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Zt]=new cr(e,n)),i}parseSegment(){let e=qN(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Lt(4009,!1);return this.capture(e),new _g(u8(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=MZe(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let a=qN(this.remaining);a&&(i=a,this.capture(i))}e[u8(n)]=u8(i)}parseQueryParam(e){let n=RZe(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let d=$Ze(this.remaining);d&&(i=d,this.capture(i))}let a=Gue(n),c=Gue(i);if(e.hasOwnProperty(a)){let d=e[a];Array.isArray(d)||(d=[d],e[a]=d),d.push(c)}else e[a]=c}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=qN(this.remaining),a=this.remaining[i.length];if(a!=="/"&&a!==")"&&a!==";")throw new Lt(4010,!1);let c;i.indexOf(":")>-1?(c=i.slice(0,i.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=Zt);let d=this.parseChildren();n[c]=Object.keys(d).length===1?d[Zt]:new cr([],d),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Lt(4011,!1)}};function ode(t){return t.segments.length>0?new cr([],{[Zt]:t}):t}function sde(t){let e={};for(let[i,a]of Object.entries(t.children)){let c=sde(a);if(i===Zt&&c.segments.length===0&&c.hasChildren())for(let[d,h]of Object.entries(c.children))e[d]=h;else(c.segments.length>0||c.hasChildren())&&(e[i]=c)}let n=new cr(t.segments,e);return NZe(n)}function NZe(t){if(t.numberOfChildren===1&&t.children[Zt]){let e=t.children[Zt];return new cr(t.segments.concat(e.segments),e.children)}return t}function Ky(t){return t instanceof Rp}function FZe(t,e,n=null,i=null){let a=ade(t);return lde(a,e,n,i)}function ade(t){let e;function n(c){let d={};for(let m of c.children){let g=n(m);d[m.outlet]=g}let h=new cr(c.url,d);return c===t&&(e=h),h}let i=n(t.root),a=ode(i);return e??a}function lde(t,e,n,i){let a=t;for(;a.parent;)a=a.parent;if(e.length===0)return WN(a,a,a,n,i);let c=BZe(e);if(c.toRoot())return WN(a,a,new cr([],{}),n,i);let d=jZe(c,a,t),h=d.processChildren?BE(d.segmentGroup,d.index,c.commands):ude(d.segmentGroup,d.index,c.commands);return WN(a,d.segmentGroup,h,n,i)}function f8(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function zE(t){return typeof t=="object"&&t!=null&&t.outlets}function WN(t,e,n,i,a){let c={};i&&Object.entries(i).forEach(([m,g])=>{c[m]=Array.isArray(g)?g.map(b=>`${b}`):`${g}`});let d;t===e?d=n:d=cde(t,e,n);let h=ode(sde(d));return new Rp(h,c,a)}function cde(t,e,n){let i={};return Object.entries(t.children).forEach(([a,c])=>{c===e?i[a]=n:i[a]=cde(c,e,n)}),new cr(t.segments,i)}var h8=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&f8(i[0]))throw new Lt(4003,!1);let a=i.find(zE);if(a&&a!==Zue(i))throw new Lt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function BZe(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new h8(!0,0,t);let e=0,n=!1,i=t.reduce((a,c,d)=>{if(typeof c=="object"&&c!=null){if(c.outlets){let h={};return Object.entries(c.outlets).forEach(([m,g])=>{h[m]=typeof g=="string"?g.split("/"):g}),[...a,{outlets:h}]}if(c.segmentPath)return[...a,c.segmentPath]}return typeof c!="string"?[...a,c]:d===0?(c.split("/").forEach((h,m)=>{m==0&&h==="."||(m==0&&h===""?n=!0:h===".."?e++:h!=""&&a.push(h))}),a):[...a,c]},[]);return new h8(n,e,i)}var Qy=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function jZe(t,e,n){if(t.isAbsolute)return new Qy(e,!0,0);if(!n)return new Qy(e,!1,NaN);if(n.parent===null)return new Qy(n,!0,0);let i=f8(t.commands[0])?0:1,a=n.segments.length-1+i;return VZe(n,a,t.numberOfDoubleDots)}function VZe(t,e,n){let i=t,a=e,c=n;for(;c>a;){if(c-=a,i=i.parent,!i)throw new Lt(4005,!1);a=i.segments.length}return new Qy(i,!1,a-c)}function zZe(t){return zE(t[0])?t[0].outlets:{[Zt]:t}}function ude(t,e,n){if(t??=new cr([],{}),t.segments.length===0&&t.hasChildren())return BE(t,e,n);let i=HZe(t,e,n),a=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let c=new cr(t.segments.slice(0,i.pathIndex),{});return c.children[Zt]=new cr(t.segments.slice(i.pathIndex),t.children),BE(c,0,a)}else return i.match&&a.length===0?new cr(t.segments,{}):i.match&&!t.hasChildren()?JN(t,e,n):i.match?BE(t,0,a):JN(t,e,n)}function BE(t,e,n){if(n.length===0)return new cr(t.segments,{});{let i=zZe(n),a={};if(Object.keys(i).some(c=>c!==Zt)&&t.children[Zt]&&t.numberOfChildren===1&&t.children[Zt].segments.length===0){let c=BE(t.children[Zt],e,n);return new cr(t.segments,c.children)}return Object.entries(i).forEach(([c,d])=>{typeof d=="string"&&(d=[d]),d!==null&&(a[c]=ude(t.children[c],e,d))}),Object.entries(t.children).forEach(([c,d])=>{i[c]===void 0&&(a[c]=d)}),new cr(t.segments,a)}}function HZe(t,e,n){let i=0,a=e,c={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(i>=n.length)return c;let d=t.segments[a],h=n[i];if(zE(h))break;let m=`${h}`,g=i<n.length-1?n[i+1]:null;if(a>0&&m===void 0)break;if(m&&g&&typeof g=="object"&&g.outlets===void 0){if(!Yue(m,g,d))return c;i+=2}else{if(!Yue(m,{},d))return c;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}function JN(t,e,n){let i=t.segments.slice(0,e),a=0;for(;a<n.length;){let c=n[a];if(zE(c)){let m=UZe(c.outlets);return new cr(i,m)}if(a===0&&f8(n[0])){let m=t.segments[e];i.push(new _g(m.path,Que(n[0]))),a++;continue}let d=zE(c)?c.outlets[Zt]:`${c}`,h=a<n.length-1?n[a+1]:null;d&&h&&f8(h)?(i.push(new _g(d,Que(h))),a+=2):(i.push(new _g(d,{})),a++)}return new cr(i,{})}function UZe(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=JN(new cr([],{}),0,i))}),e}function Que(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function Yue(t,e,n){return t==n.path&&od(e,n.parameters)}var jE="imperative",Xo=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Xo||{}),Ql=class{constructor(e,n){this.id=e,this.url=n}},HE=class extends Ql{constructor(e,n,i="imperative",a=null){super(e,n),this.type=Xo.NavigationStart,this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Sg=class extends Ql{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Xo.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ol=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ol||{}),eF=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(eF||{}),Lp=class extends Ql{constructor(e,n,i,a){super(e,n),this.reason=i,this.code=a,this.type=Xo.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Og=class extends Ql{constructor(e,n,i,a){super(e,n),this.reason=i,this.code=a,this.type=Xo.NavigationSkipped}},UE=class extends Ql{constructor(e,n,i,a){super(e,n),this.error=i,this.target=a,this.type=Xo.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},p8=class extends Ql{constructor(e,n,i,a){super(e,n),this.urlAfterRedirects=i,this.state=a,this.type=Xo.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tF=class extends Ql{constructor(e,n,i,a){super(e,n),this.urlAfterRedirects=i,this.state=a,this.type=Xo.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nF=class extends Ql{constructor(e,n,i,a,c){super(e,n),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=c,this.type=Xo.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},rF=class extends Ql{constructor(e,n,i,a){super(e,n),this.urlAfterRedirects=i,this.state=a,this.type=Xo.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iF=class extends Ql{constructor(e,n,i,a){super(e,n),this.urlAfterRedirects=i,this.state=a,this.type=Xo.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oF=class{constructor(e){this.route=e,this.type=Xo.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},sF=class{constructor(e){this.route=e,this.type=Xo.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},aF=class{constructor(e){this.snapshot=e,this.type=Xo.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lF=class{constructor(e){this.snapshot=e,this.type=Xo.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cF=class{constructor(e){this.snapshot=e,this.type=Xo.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uF=class{constructor(e){this.snapshot=e,this.type=Xo.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var qE=class{},WE=class{constructor(e){this.url=e}};var dF=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new x8,this.attachRef=null}},x8=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,a){let c=this.getOrCreateContext(i);c.outlet=a,this.contexts.set(i,c)}onChildOutletDestroyed(i){let a=this.getContext(i);a&&(a.outlet=null,a.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let a=this.getContext(i);return a||(a=new dF,this.contexts.set(i,a)),a}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),m8=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=fF(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=fF(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=hF(e,this._root);return n.length<2?[]:n[n.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return hF(e,this._root).map(n=>n.value)}};function fF(t,e){if(t===e.value)return e;for(let n of e.children){let i=fF(t,n);if(i)return i}return null}function hF(t,e){if(t===e.value)return[e];for(let n of e.children){let i=hF(t,n);if(i.length)return i.unshift(e),i}return[]}var il=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Gy(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var g8=class extends m8{constructor(e,n){super(e),this.snapshot=n,CF(this,e)}toString(){return this.snapshot.toString()}};function dde(t){let e=qZe(t),n=new Qo([new _g("",{})]),i=new Qo({}),a=new Qo({}),c=new Qo({}),d=new Qo(""),h=new Zy(n,i,c,d,a,Zt,t,e.root);return h.snapshot=e.root,new g8(new il(h,[]),e)}function qZe(t){let e={},n={},i={},a="",c=new GE([],e,i,a,n,Zt,t,null,{});return new v8("",new il(c,[]))}var Zy=class{constructor(e,n,i,a,c,d,h,m){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=a,this.dataSubject=c,this.outlet=d,this.component=h,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(sn(g=>g[XE]))??Ht(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=a,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(sn(e=>Xy(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(sn(e=>Xy(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _F(t,e,n="emptyOnly"){let i,{routeConfig:a}=t;return e!==null&&(n==="always"||a?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:se(se({},e.params),t.params),data:se(se({},e.data),t.data),resolve:se(se(se(se({},t.data),e.data),a?.data),t._resolvedData)}:i={params:se({},t.params),data:se({},t.data),resolve:se(se({},t.data),t._resolvedData??{})},a&&hde(a)&&(i.resolve[XE]=a.title),i}var GE=class{get title(){return this.data?.[XE]}constructor(e,n,i,a,c,d,h,m,g){this.url=e,this.params=n,this.queryParams=i,this.fragment=a,this.data=c,this.outlet=d,this.component=h,this.routeConfig=m,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xy(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xy(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},v8=class extends m8{constructor(e,n){super(n),this.url=e,CF(this,n)}toString(){return fde(this._root)}};function CF(t,e){e.value._routerState=t,e.children.forEach(n=>CF(t,n))}function fde(t){let e=t.children.length>0?` { ${t.children.map(fde).join(", ")} } `:"";return`${t.value}${e}`}function GN(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,od(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),od(e.params,n.params)||t.paramsSubject.next(n.params),xZe(e.url,n.url)||t.urlSubject.next(n.url),od(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function pF(t,e){let n=od(t.params,e.params)&&CZe(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||pF(t.parent,e.parent))}function hde(t){return typeof t.title=="string"||t.title===null}var SF=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Zt,this.activateEvents=new Wl,this.deactivateEvents=new Wl,this.attachEvents=new Wl,this.detachEvents=new Wl,this.parentContexts=lt(x8),this.location=lt(bg),this.changeDetector=lt(OE),this.environmentInjector=lt(va),this.inputBinder=lt(OF,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:a,previousValue:c}=i.name;if(a)return;this.isTrackedInParentContexts(c)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(c)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Lt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Lt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Lt(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,a){this.activated=i,this._activatedRoute=a,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,a){if(this.isActivated)throw new Lt(4013,!1);this._activatedRoute=i;let c=this.location,h=i.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,g=new mF(i,m,c.injector);this.activated=c.createComponent(h,{index:c.length,injector:g,environmentInjector:a??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=IO({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[LO]});let t=e;return t})(),mF=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Zy?this.route:e===x8?this.childContexts:this.parent.get(e,n)}},OF=new Gt("");function WZe(t,e,n){let i=QE(t,e._root,n?n._root:void 0);return new g8(i,e)}function QE(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let a=GZe(t,e,n);return new il(i,a)}else{if(t.shouldAttach(e.value)){let c=t.retrieve(e.value);if(c!==null){let d=c.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(h=>QE(t,h)),d}}let i=QZe(e.value),a=e.children.map(c=>QE(t,c));return new il(i,a)}}function GZe(t,e,n){return e.children.map(i=>{for(let a of n.children)if(t.shouldReuseRoute(i.value,a.value.snapshot))return QE(t,i,a);return QE(t,i)})}function QZe(t){return new Zy(new Qo(t.url),new Qo(t.params),new Qo(t.queryParams),new Qo(t.fragment),new Qo(t.data),t.outlet,t.component,t)}var pde="ngNavigationCancelingError";function mde(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Ky(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,a=gde(!1,ol.Redirect);return a.url=n,a.navigationBehaviorOptions=i,a}function gde(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[pde]=!0,n.cancellationCode=e,n}function YZe(t){return vde(t)&&Ky(t.url)}function vde(t){return!!t&&t[pde]}var XZe=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=Pp({type:e,selectors:[["ng-component"]],standalone:!0,features:[Mp],decls:1,vars:0,template:function(a,c){a&1&&If(0,"router-outlet")},dependencies:[SF],encapsulation:2});let t=e;return t})();function KZe(t,e){return t.providers&&!t._injector&&(t._injector=DN(t.providers,e,`Route: ${t.path}`)),t._injector??e}function DF(t){let e=t.children&&t.children.map(DF),n=e?Me(se({},t),{children:e}):se({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Zt&&(n.component=XZe),n}function sd(t){return t.outlet||Zt}function ZZe(t,e){let n=t.filter(i=>sd(i)===e);return n.push(...t.filter(i=>sd(i)!==e)),n}function KE(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var JZe=(t,e,n,i)=>sn(a=>(new gF(e,a.targetRouterState,a.currentRouterState,n,i).activate(t),a)),gF=class{constructor(e,n,i,a,c){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=a,this.inputBindingEnabled=c}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),GN(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let a=Gy(n);e.children.forEach(c=>{let d=c.value.outlet;this.deactivateRoutes(c,a[d],i),delete a[d]}),Object.values(a).forEach(c=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(e,n,i){let a=e.value,c=n?n.value:null;if(a===c)if(a.component){let d=i.getContext(a.outlet);d&&this.deactivateChildRoutes(e,n,d.children)}else this.deactivateChildRoutes(e,n,i);else c&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),a=i&&e.value.component?i.children:n,c=Gy(e);for(let d of Object.values(c))this.deactivateRouteAndItsChildren(d,a);if(i&&i.outlet){let d=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:h})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),a=i&&e.value.component?i.children:n,c=Gy(e);for(let d of Object.values(c))this.deactivateRouteAndItsChildren(d,a);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let a=Gy(n);e.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],i),this.forwardEvent(new uF(c.value.snapshot))}),e.children.length&&this.forwardEvent(new lF(e.value.snapshot))}activateRoutes(e,n,i){let a=e.value,c=n?n.value:null;if(GN(a),a===c)if(a.component){let d=i.getOrCreateContext(a.outlet);this.activateChildRoutes(e,n,d.children)}else this.activateChildRoutes(e,n,i);else if(a.component){let d=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){let h=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),d.children.onOutletReAttached(h.contexts),d.attachRef=h.componentRef,d.route=h.route.value,d.outlet&&d.outlet.attach(h.componentRef,h.route.value),GN(h.route.value),this.activateChildRoutes(e,null,d.children)}else{let h=KE(a.snapshot);d.attachRef=null,d.route=a,d.injector=h,d.outlet&&d.outlet.activateWith(a,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,i)}},y8=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Yy=class{constructor(e,n){this.component=e,this.route=n}};function eJe(t,e,n){let i=t._root,a=e?e._root:null;return NE(i,a,n,[i.value])}function tJe(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function e2(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!ple(t)?t:e.get(t):i}function NE(t,e,n,i,a={canDeactivateChecks:[],canActivateChecks:[]}){let c=Gy(e);return t.children.forEach(d=>{nJe(d,c[d.value.outlet],n,i.concat([d.value]),a),delete c[d.value.outlet]}),Object.entries(c).forEach(([d,h])=>VE(h,n.getContext(d),a)),a}function nJe(t,e,n,i,a={canDeactivateChecks:[],canActivateChecks:[]}){let c=t.value,d=e?e.value:null,h=n?n.getContext(t.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){let m=rJe(d,c,c.routeConfig.runGuardsAndResolvers);m?a.canActivateChecks.push(new y8(i)):(c.data=d.data,c._resolvedData=d._resolvedData),c.component?NE(t,e,h?h.children:null,i,a):NE(t,e,n,i,a),m&&h&&h.outlet&&h.outlet.isActivated&&a.canDeactivateChecks.push(new Yy(h.outlet.component,d))}else d&&VE(e,h,a),a.canActivateChecks.push(new y8(i)),c.component?NE(t,null,h?h.children:null,i,a):NE(t,null,n,i,a);return a}function rJe(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Cg(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Cg(t.url,e.url)||!od(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pF(t,e)||!od(t.queryParams,e.queryParams);case"paramsChange":default:return!pF(t,e)}}function VE(t,e,n){let i=Gy(t),a=t.value;Object.entries(i).forEach(([c,d])=>{a.component?e?VE(d,e.children.getContext(c),n):VE(d,null,n):VE(d,e,n)}),a.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Yy(e.outlet.component,a)):n.canDeactivateChecks.push(new Yy(null,a)):n.canDeactivateChecks.push(new Yy(null,a))}function ZE(t){return typeof t=="function"}function iJe(t){return typeof t=="boolean"}function oJe(t){return t&&ZE(t.canLoad)}function sJe(t){return t&&ZE(t.canActivate)}function aJe(t){return t&&ZE(t.canActivateChild)}function lJe(t){return t&&ZE(t.canDeactivate)}function cJe(t){return t&&ZE(t.canMatch)}function yde(t){return t instanceof _f||t?.name==="EmptyError"}var a8=Symbol("INITIAL_VALUE");function Jy(){return el(t=>nO(t.map(e=>e.pipe(Cf(1),UL(a8)))).pipe(sn(e=>{for(let n of e)if(n!==!0){if(n===a8)return a8;if(n===!1||n instanceof Rp)return n}return!0}),Ja(e=>e!==a8),Cf(1)))}function uJe(t,e){return fo(n=>{let{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:d}}=n;return d.length===0&&c.length===0?Ht(Me(se({},n),{guardsResult:!0})):dJe(d,i,a,t).pipe(fo(h=>h&&iJe(h)?fJe(i,c,t,e):Ht(h)),sn(h=>Me(se({},n),{guardsResult:h})))})}function dJe(t,e,n,i){return Pi(t).pipe(fo(a=>vJe(a.component,a.route,n,e,i)),Yu(a=>a!==!0,!0))}function fJe(t,e,n,i){return Pi(e).pipe(wp(a=>Ey(pJe(a.route.parent,i),hJe(a.route,i),gJe(t,a.path,n),mJe(t,a.route,n))),Yu(a=>a!==!0,!0))}function hJe(t,e){return t!==null&&e&&e(new cF(t)),Ht(!0)}function pJe(t,e){return t!==null&&e&&e(new aF(t)),Ht(!0)}function mJe(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Ht(!0);let a=i.map(c=>rO(()=>{let d=KE(e)??n,h=e2(c,d),m=sJe(h)?h.canActivate(e,t):Df(d,()=>h(e,t));return $p(m).pipe(Yu())}));return Ht(a).pipe(Jy())}function gJe(t,e,n){let i=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(d=>tJe(d)).filter(d=>d!==null).map(d=>rO(()=>{let h=d.guards.map(m=>{let g=KE(d.node)??n,b=e2(m,g),E=aJe(b)?b.canActivateChild(i,t):Df(g,()=>b(i,t));return $p(E).pipe(Yu())});return Ht(h).pipe(Jy())}));return Ht(c).pipe(Jy())}function vJe(t,e,n,i,a){let c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||c.length===0)return Ht(!0);let d=c.map(h=>{let m=KE(e)??a,g=e2(h,m),b=lJe(g)?g.canDeactivate(t,e,n,i):Df(m,()=>g(t,e,n,i));return $p(b).pipe(Yu())});return Ht(d).pipe(Jy())}function yJe(t,e,n,i){let a=e.canLoad;if(a===void 0||a.length===0)return Ht(!0);let c=a.map(d=>{let h=e2(d,t),m=oJe(h)?h.canLoad(e,n):Df(t,()=>h(e,n));return $p(m)});return Ht(c).pipe(Jy(),bde(i))}function bde(t){return LL(ko(e=>{if(Ky(e))throw mde(t,e)}),sn(e=>e===!0))}function bJe(t,e,n,i){let a=e.canMatch;if(!a||a.length===0)return Ht(!0);let c=a.map(d=>{let h=e2(d,t),m=cJe(h)?h.canMatch(e,n):Df(t,()=>h(e,n));return $p(m)});return Ht(c).pipe(Jy(),bde(i))}var YE=class{constructor(e){this.segmentGroup=e||null}},b8=class extends Error{constructor(e){super(),this.urlTree=e}};function Wy(t){return xy(new YE(t))}function xJe(t){return xy(new Lt(4e3,!1))}function EJe(t){return xy(gde(!1,ol.GuardRejected))}var vF=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],a=n.root;for(;;){if(i=i.concat(a.segments),a.numberOfChildren===0)return Ht(i);if(a.numberOfChildren>1||!a.children[Zt])return xJe(e.redirectTo);a=a.children[Zt]}}applyRedirectCommands(e,n,i){let a=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new b8(a);return a}applyRedirectCreateUrlTree(e,n,i,a){let c=this.createSegmentGroup(e,n.root,i,a);return new Rp(c,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([a,c])=>{if(typeof c=="string"&&c.startsWith(":")){let h=c.substring(1);i[a]=n[h]}else i[a]=c}),i}createSegmentGroup(e,n,i,a){let c=this.createSegments(e,n.segments,i,a),d={};return Object.entries(n.children).forEach(([h,m])=>{d[h]=this.createSegmentGroup(e,m,i,a)}),new cr(c,d)}createSegments(e,n,i,a){return n.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,a):this.findOrReturn(c,i))}findPosParam(e,n,i){let a=i[n.path.substring(1)];if(!a)throw new Lt(4001,!1);return a}findOrReturn(e,n){let i=0;for(let a of n){if(a.path===e.path)return n.splice(i),a;i++}return e}},yF={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wJe(t,e,n,i,a){let c=TF(t,e,n);return c.matched?(i=KZe(e,i),bJe(i,e,n,a).pipe(sn(d=>d===!0?c:se({},yF)))):Ht(c)}function TF(t,e,n){if(e.path==="**")return _Je(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?se({},yF):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let a=(e.matcher||bZe)(n,t,e);if(!a)return se({},yF);let c={};Object.entries(a.posParams??{}).forEach(([h,m])=>{c[h]=m.path});let d=a.consumed.length>0?se(se({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:n.slice(a.consumed.length),parameters:d,positionalParamSegments:a.posParams??{}}}function _Je(t){return{matched:!0,parameters:t.length>0?Zue(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Xue(t,e,n,i){return n.length>0&&OJe(t,n,i)?{segmentGroup:new cr(e,SJe(i,new cr(n,t.children))),slicedSegments:[]}:n.length===0&&DJe(t,n,i)?{segmentGroup:new cr(t.segments,CJe(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new cr(t.segments,t.children),slicedSegments:n}}function CJe(t,e,n,i){let a={};for(let c of n)if(E8(t,e,c)&&!i[sd(c)]){let d=new cr([],{});a[sd(c)]=d}return se(se({},i),a)}function SJe(t,e){let n={};n[Zt]=e;for(let i of t)if(i.path===""&&sd(i)!==Zt){let a=new cr([],{});n[sd(i)]=a}return n}function OJe(t,e,n){return n.some(i=>E8(t,e,i)&&sd(i)!==Zt)}function DJe(t,e,n){return n.some(i=>E8(t,e,i))}function E8(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function TJe(t,e,n,i){return sd(t)!==i&&(i===Zt||!E8(e,n,t))?!1:TF(e,t,n).matched}function kJe(t,e,n){return e.length===0&&!t.children[n]}var bF=class{};function PJe(t,e,n,i,a,c,d="emptyOnly"){return new xF(t,e,n,i,a,d,c).recognize()}var IJe=31,xF=class{constructor(e,n,i,a,c,d,h){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=a,this.urlTree=c,this.paramsInheritanceStrategy=d,this.urlSerializer=h,this.applyRedirects=new vF(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Lt(4002,`'${e.segmentGroup}'`)}recognize(){let e=Xue(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(sn(n=>{let i=new GE([],Object.freeze({}),Object.freeze(se({},this.urlTree.queryParams)),this.urlTree.fragment,{},Zt,this.rootComponentType,null,{}),a=new il(i,n),c=new v8("",a),d=FZe(i,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(c._root,null),{state:c,tree:d}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Zt).pipe(Ep(i=>{if(i instanceof b8)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof YE?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,a=_F(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(a.params),i.data=Object.freeze(a.data),e.children.forEach(c=>this.inheritParamsAndData(c,i))}processSegmentGroup(e,n,i,a){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,a,!0).pipe(sn(c=>c instanceof il?[c]:[]))}processChildren(e,n,i){let a=[];for(let c of Object.keys(i.children))c==="primary"?a.unshift(c):a.push(c);return Pi(a).pipe(wp(c=>{let d=i.children[c],h=ZZe(n,c);return this.processSegmentGroup(e,h,d,c)}),HL((c,d)=>(c.push(...d),c)),_p(null),zL(),fo(c=>{if(c===null)return Wy(i);let d=xde(c);return MJe(d),Ht(d)}))}processSegment(e,n,i,a,c,d){return Pi(n).pipe(wp(h=>this.processSegmentAgainstRoute(h._injector??e,n,h,i,a,c,d).pipe(Ep(m=>{if(m instanceof YE)return Ht(null);throw m}))),Yu(h=>!!h),Ep(h=>{if(yde(h))return kJe(i,a,c)?Ht(new bF):Wy(i);throw h}))}processSegmentAgainstRoute(e,n,i,a,c,d,h){return TJe(i,a,c,d)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,a,i,c,d):this.allowRedirects&&h?this.expandSegmentAgainstRouteUsingRedirect(e,a,n,i,c,d):Wy(a):Wy(a)}expandSegmentAgainstRouteUsingRedirect(e,n,i,a,c,d){let{matched:h,consumedSegments:m,positionalParamSegments:g,remainingSegments:b}=TF(n,a,c);if(!h)return Wy(n);a.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>IJe&&(this.allowRedirects=!1));let E=this.applyRedirects.applyRedirectCommands(m,a.redirectTo,g);return this.applyRedirects.lineralizeSegments(a,E).pipe(fo(_=>this.processSegment(e,i,n,_.concat(b),d,!1)))}matchSegmentAgainstRoute(e,n,i,a,c){let d=wJe(n,i,a,e,this.urlSerializer);return i.path==="**"&&(n.children={}),d.pipe(el(h=>h.matched?(e=i._injector??e,this.getChildConfig(e,i,a).pipe(el(({routes:m})=>{let g=i._loadedInjector??e,{consumedSegments:b,remainingSegments:E,parameters:_}=h,S=new GE(b,_,Object.freeze(se({},this.urlTree.queryParams)),this.urlTree.fragment,RJe(i),sd(i),i.component??i._loadedComponent??null,i,LJe(i)),{segmentGroup:D,slicedSegments:k}=Xue(n,b,E,m);if(k.length===0&&D.hasChildren())return this.processChildren(g,m,D).pipe(sn(R=>R===null?null:new il(S,R)));if(m.length===0&&k.length===0)return Ht(new il(S,[]));let I=sd(i)===c;return this.processSegment(g,m,D,k,I?Zt:c,!0).pipe(sn(R=>new il(S,R instanceof il?[R]:[])))}))):Wy(n)))}getChildConfig(e,n,i){return n.children?Ht({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Ht({routes:n._loadedRoutes,injector:n._loadedInjector}):yJe(e,n,i,this.urlSerializer).pipe(fo(a=>a?this.configLoader.loadChildren(e,n).pipe(ko(c=>{n._loadedRoutes=c.routes,n._loadedInjector=c.injector})):EJe(n))):Ht({routes:[],injector:e})}};function MJe(t){t.sort((e,n)=>e.value.outlet===Zt?-1:n.value.outlet===Zt?1:e.value.outlet.localeCompare(n.value.outlet))}function AJe(t){let e=t.value.routeConfig;return e&&e.path===""}function xde(t){let e=[],n=new Set;for(let i of t){if(!AJe(i)){e.push(i);continue}let a=e.find(c=>i.value.routeConfig===c.value.routeConfig);a!==void 0?(a.children.push(...i.children),n.add(a)):e.push(i)}for(let i of n){let a=xde(i.children);e.push(new il(i.value,a))}return e.filter(i=>!n.has(i))}function RJe(t){return t.data||{}}function LJe(t){return t.resolve||{}}function $Je(t,e,n,i,a,c){return fo(d=>PJe(t,e,n,i,d.extractedUrl,a,c).pipe(sn(({state:h,tree:m})=>Me(se({},d),{targetSnapshot:h,urlAfterRedirects:m}))))}function NJe(t,e){return fo(n=>{let{targetSnapshot:i,guards:{canActivateChecks:a}}=n;if(!a.length)return Ht(n);let c=new Set(a.map(m=>m.route)),d=new Set;for(let m of c)if(!d.has(m))for(let g of Ede(m))d.add(g);let h=0;return Pi(d).pipe(wp(m=>c.has(m)?FJe(m,i,t,e):(m.data=_F(m,m.parent,t).resolve,Ht(void 0))),ko(()=>h++),wy(1),fo(m=>h===d.size?Ht(n):Za))})}function Ede(t){let e=t.children.map(n=>Ede(n)).flat();return[t,...e]}function FJe(t,e,n,i){let a=t.routeConfig,c=t._resolve;return a?.title!==void 0&&!hde(a)&&(c[XE]=a.title),BJe(c,t,e,i).pipe(sn(d=>(t._resolvedData=d,t.data=_F(t,t.parent,n).resolve,null)))}function BJe(t,e,n,i){let a=XN(t);if(a.length===0)return Ht({});let c={};return Pi(a).pipe(fo(d=>jJe(t[d],e,n,i).pipe(Yu(),ko(h=>{c[d]=h}))),wy(1),VL(c),Ep(d=>yde(d)?Za:xy(d)))}function jJe(t,e,n,i){let a=KE(e)??i,c=e2(t,a),d=c.resolve?c.resolve(e,n):Df(a,()=>c(e,n));return $p(d)}function QN(t){return el(e=>{let n=t(e);return n?Pi(n).pipe(sn(()=>e)):Ht(e)})}var wde=(()=>{let e=class e{buildTitle(i){let a,c=i.root;for(;c!==void 0;)a=this.getResolvedTitleForRoute(c)??a,c=c.children.find(d=>d.outlet===Zt);return a}getResolvedTitleForRoute(i){return i.data[XE]}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:()=>lt(VJe),providedIn:"root"});let t=e;return t})(),VJe=(()=>{let e=class e extends wde{constructor(i){super(),this.title=i}updateTitle(i){let a=this.buildTitle(i);a!==void 0&&this.title.setTitle(a)}};e.\u0275fac=function(a){return new(a||e)(Yt(que))},e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kF=new Gt("",{providedIn:"root",factory:()=>({})}),PF=new Gt(""),zJe=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=lt(TN)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Ht(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let a=$p(i.loadComponent()).pipe(sn(_de),ko(d=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=d}),Cp(()=>{this.componentLoaders.delete(i)})),c=new by(a,()=>new Ws).pipe(yy());return this.componentLoaders.set(i,c),c}loadChildren(i,a){if(this.childrenLoaders.get(a))return this.childrenLoaders.get(a);if(a._loadedRoutes)return Ht({routes:a._loadedRoutes,injector:a._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(a);let d=HJe(a,this.compiler,i,this.onLoadEndListener).pipe(Cp(()=>{this.childrenLoaders.delete(a)})),h=new by(d,()=>new Ws).pipe(yy());return this.childrenLoaders.set(a,h),h}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HJe(t,e,n,i){return $p(t.loadChildren()).pipe(sn(_de),fo(a=>a instanceof pE||Array.isArray(a)?Ht(a):Pi(e.compileModuleAsync(a))),sn(a=>{i&&i(t);let c,d,h=!1;return Array.isArray(a)?(d=a,h=!0):(c=a.create(n).injector,d=c.get(PF,[],{optional:!0,self:!0}).flat()),{routes:d.map(DF),injector:c}}))}function UJe(t){return t&&typeof t=="object"&&"default"in t}function _de(t){return UJe(t)?t.default:t}var IF=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:()=>lt(qJe),providedIn:"root"});let t=e;return t})(),qJe=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,a){return i}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),WJe=new Gt("");var GJe=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ws,this.transitionAbortSubject=new Ws,this.configLoader=lt(zJe),this.environmentInjector=lt(va),this.urlSerializer=lt(wF),this.rootContexts=lt(x8),this.location=lt(DE),this.inputBindingEnabled=lt(OF,{optional:!0})!==null,this.titleStrategy=lt(wde),this.options=lt(kF,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=lt(IF),this.createViewTransition=lt(WJe,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ht(void 0),this.rootComponentType=null;let i=c=>this.events.next(new oF(c)),a=c=>this.events.next(new sF(c));this.configLoader.onLoadEndListener=a,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let a=++this.navigationId;this.transitions?.next(Me(se(se({},this.transitions.value),i),{id:a}))}setupNavigations(i,a,c){return this.transitions=new Qo({id:0,currentUrlTree:a,currentRawUrl:a,extractedUrl:this.urlHandlingStrategy.extract(a),urlAfterRedirects:this.urlHandlingStrategy.extract(a),rawUrl:a,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:jE,restoredState:null,currentSnapshot:c.snapshot,targetSnapshot:null,currentRouterState:c,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ja(d=>d.id!==0),sn(d=>Me(se({},d),{extractedUrl:this.urlHandlingStrategy.extract(d.rawUrl)})),el(d=>{let h=!1,m=!1;return Ht(d).pipe(el(g=>{if(this.navigationId>d.id)return this.cancelNavigationTransition(d,"",ol.SupersededByNewNavigation),Za;this.currentTransition=d,this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Me(se({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let b=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),E=g.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!b&&E!=="reload"){let _="";return this.events.next(new Og(g.id,this.urlSerializer.serialize(g.rawUrl),_,eF.IgnoredSameUrlNavigation)),g.resolve(null),Za}if(this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return Ht(g).pipe(el(_=>{let S=this.transitions?.getValue();return this.events.next(new HE(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),S!==this.transitions?.getValue()?Za:Promise.resolve(_)}),$Je(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),ko(_=>{d.targetSnapshot=_.targetSnapshot,d.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=Me(se({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let S=new p8(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(S)}));if(b&&this.urlHandlingStrategy.shouldProcessUrl(g.currentRawUrl)){let{id:_,extractedUrl:S,source:D,restoredState:k,extras:I}=g,R=new HE(_,this.urlSerializer.serialize(S),D,k);this.events.next(R);let $=dde(this.rootComponentType).snapshot;return this.currentTransition=d=Me(se({},g),{targetSnapshot:$,urlAfterRedirects:S,extras:Me(se({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=S,Ht(d)}else{let _="";return this.events.next(new Og(g.id,this.urlSerializer.serialize(g.extractedUrl),_,eF.IgnoredByUrlHandlingStrategy)),g.resolve(null),Za}}),ko(g=>{let b=new tF(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(b)}),sn(g=>(this.currentTransition=d=Me(se({},g),{guards:eJe(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),d)),uJe(this.environmentInjector,g=>this.events.next(g)),ko(g=>{if(d.guardsResult=g.guardsResult,Ky(g.guardsResult))throw mde(this.urlSerializer,g.guardsResult);let b=new nF(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(b)}),Ja(g=>g.guardsResult?!0:(this.cancelNavigationTransition(g,"",ol.GuardRejected),!1)),QN(g=>{if(g.guards.canActivateChecks.length)return Ht(g).pipe(ko(b=>{let E=new rF(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(E)}),el(b=>{let E=!1;return Ht(b).pipe(NJe(this.paramsInheritanceStrategy,this.environmentInjector),ko({next:()=>E=!0,complete:()=>{E||this.cancelNavigationTransition(b,"",ol.NoDataFromResolver)}}))}),ko(b=>{let E=new iF(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(E)}))}),QN(g=>{let b=E=>{let _=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(E.routeConfig).pipe(ko(S=>{E.component=S}),sn(()=>{})));for(let S of E.children)_.push(...b(S));return _};return nO(b(g.targetSnapshot.root)).pipe(_p(null),Cf(1))}),QN(()=>this.afterPreactivation()),el(()=>{let{currentSnapshot:g,targetSnapshot:b}=d,E=this.createViewTransition?.(this.environmentInjector,g.root,b.root);return E?Pi(E).pipe(sn(()=>d)):Ht(d)}),sn(g=>{let b=WZe(i.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return this.currentTransition=d=Me(se({},g),{targetRouterState:b}),this.currentNavigation.targetRouterState=b,d}),ko(()=>{this.events.next(new qE)}),JZe(this.rootContexts,i.routeReuseStrategy,g=>this.events.next(g),this.inputBindingEnabled),Cf(1),ko({next:g=>{h=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sg(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects))),this.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{h=!0}}),qL(this.transitionAbortSubject.pipe(ko(g=>{throw g}))),Cp(()=>{!h&&!m&&this.cancelNavigationTransition(d,"",ol.SupersededByNewNavigation),this.currentTransition?.id===d.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ep(g=>{if(m=!0,vde(g))this.events.next(new Lp(d.id,this.urlSerializer.serialize(d.extractedUrl),g.message,g.cancellationCode)),YZe(g)?this.events.next(new WE(g.url)):d.resolve(!1);else{this.events.next(new UE(d.id,this.urlSerializer.serialize(d.extractedUrl),g,d.targetSnapshot??void 0));try{d.resolve(i.errorHandler(g))}catch(b){this.options.resolveNavigationPromiseOnError?d.resolve(!1):d.reject(b)}}return Za}))}))}cancelNavigationTransition(i,a,c){let d=new Lp(i.id,this.urlSerializer.serialize(i.extractedUrl),a,c);this.events.next(d),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function QJe(t){return t!==jE}var YJe=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:()=>lt(XJe),providedIn:"root"});let t=e;return t})(),EF=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},XJe=(()=>{let e=class e extends EF{};e.\u0275fac=(()=>{let i;return function(c){return(i||(i=uN(e)))(c||e)}})(),e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cde=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:()=>lt(KJe),providedIn:"root"});let t=e;return t})(),KJe=(()=>{let e=class e extends Cde{constructor(){super(...arguments),this.location=lt(DE),this.urlSerializer=lt(wF),this.options=lt(kF,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=lt(IF),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Rp,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=dde(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(a=>{a.type==="popstate"&&i(a.url,a.state)})}handleRouterEvent(i,a){if(i instanceof HE)this.stateMemento=this.createStateMemento();else if(i instanceof Og)this.rawUrlTree=a.initialUrl;else if(i instanceof p8){if(this.urlUpdateStrategy==="eager"&&!a.extras.skipLocationChange){let c=this.urlHandlingStrategy.merge(a.finalUrl,a.initialUrl);this.setBrowserUrl(c,a)}}else i instanceof qE?(this.currentUrlTree=a.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(a.finalUrl,a.initialUrl),this.routerState=a.targetRouterState,this.urlUpdateStrategy==="deferred"&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a))):i instanceof Lp&&(i.code===ol.GuardRejected||i.code===ol.NoDataFromResolver)?this.restoreHistory(a):i instanceof UE?this.restoreHistory(a,!0):i instanceof Sg&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,a){let c=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(c)||a.extras.replaceUrl){let d=this.browserPageId,h=se(se({},a.extras.state),this.generateNgRouterState(a.id,d));this.location.replaceState(c,"",h)}else{let d=se(se({},a.extras.state),this.generateNgRouterState(a.id,this.browserPageId+1));this.location.go(c,"",d)}}restoreHistory(i,a=!1){if(this.canceledNavigationResolution==="computed"){let c=this.browserPageId,d=this.currentPageId-c;d!==0?this.location.historyGo(d):this.currentUrlTree===i.finalUrl&&d===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(a&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,a){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:a}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(c){return(i||(i=uN(e)))(c||e)}})(),e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FE=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(FE||{});function ZJe(t,e){t.events.pipe(Ja(n=>n instanceof Sg||n instanceof Lp||n instanceof UE||n instanceof Og),sn(n=>n instanceof Sg||n instanceof Og?FE.COMPLETE:(n instanceof Lp?n.code===ol.Redirect||n.code===ol.SupersededByNewNavigation:!1)?FE.REDIRECTING:FE.FAILED),Ja(n=>n!==FE.REDIRECTING),Cf(1)).subscribe(()=>{e()})}function JJe(t){throw t}var eet={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tet={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sde=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=lt(UO),this.stateManager=lt(Cde),this.options=lt(kF,{optional:!0})||{},this.pendingTasks=lt(xg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=lt(GJe),this.urlSerializer=lt(wF),this.location=lt(DE),this.urlHandlingStrategy=lt(IF),this._events=new Ws,this.errorHandler=this.options.errorHandler||JJe,this.navigated=!1,this.routeReuseStrategy=lt(YJe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=lt(PF,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!lt(OF,{optional:!0}),this.eventsSubscription=new uo,this.isNgZoneEnabled=lt(Ii)instanceof Ii&&Ii.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(a=>{try{let c=this.navigationTransitions.currentTransition,d=this.navigationTransitions.currentNavigation;if(c!==null&&d!==null){if(this.stateManager.handleRouterEvent(a,d),a instanceof Lp&&a.code!==ol.Redirect&&a.code!==ol.SupersededByNewNavigation)this.navigated=!0;else if(a instanceof Sg)this.navigated=!0;else if(a instanceof WE){let h=this.urlHandlingStrategy.merge(a.url,c.currentRawUrl),m={info:c.extras.info,skipLocationChange:c.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||QJe(c.source)};this.scheduleNavigation(h,jE,null,m,{resolve:c.resolve,reject:c.reject,promise:c.promise})}}ret(a)&&this._events.next(a)}catch(c){this.navigationTransitions.transitionAbortSubject.next(c)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),jE,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,a)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",a)},0)})}navigateToSyncWithBrowser(i,a,c){let d={replaceUrl:!0},h=c?.navigationId?c:null;if(c){let g=se({},c);delete g.navigationId,delete g.\u0275routerPageId,Object.keys(g).length!==0&&(d.state=g)}let m=this.parseUrl(i);this.scheduleNavigation(m,a,h,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(DF),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,a={}){let{relativeTo:c,queryParams:d,fragment:h,queryParamsHandling:m,preserveFragment:g}=a,b=g?this.currentUrlTree.fragment:h,E=null;switch(m){case"merge":E=se(se({},this.currentUrlTree.queryParams),d);break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=d||null}E!==null&&(E=this.removeEmptyProps(E));let _;try{let S=c?c.snapshot:this.routerState.snapshot.root;_=ade(S)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),_=this.currentUrlTree.root}return lde(_,i,E,b??null)}navigateByUrl(i,a={skipLocationChange:!1}){let c=Ky(i)?i:this.parseUrl(i),d=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(d,jE,null,a)}navigate(i,a={skipLocationChange:!1}){return net(i),this.navigateByUrl(this.createUrlTree(i,a),a)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,a){let c;if(a===!0?c=se({},eet):a===!1?c=se({},tet):c=a,Ky(i))return Wue(this.currentUrlTree,i,c);let d=this.parseUrl(i);return Wue(this.currentUrlTree,d,c)}removeEmptyProps(i){return Object.entries(i).reduce((a,[c,d])=>(d!=null&&(a[c]=d),a),{})}scheduleNavigation(i,a,c,d,h){if(this.disposed)return Promise.resolve(!1);let m,g,b;h?(m=h.resolve,g=h.reject,b=h.promise):b=new Promise((_,S)=>{m=_,g=S});let E=this.pendingTasks.add();return ZJe(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(E))}),this.navigationTransitions.handleNavigationRequest({source:a,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:d,resolve:m,reject:g,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(_=>Promise.reject(_))}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Bt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function net(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Lt(4008,!1)}function ret(t){return!(t instanceof qE)&&!(t instanceof WE)}var iet=new Gt("");function Ode(t,...e){return Ny([{provide:PF,multi:!0,useValue:t},[],{provide:Zy,useFactory:oet,deps:[Sde]},{provide:qO,multi:!0,useFactory:set},e.map(n=>n.\u0275providers)])}function oet(t){return t.routerState.root}function set(){let t=lt(bE);return e=>{let n=t.get(zy);if(e!==n.components[0])return;let i=t.get(Sde),a=t.get(aet);t.get(cet)===1&&i.initialNavigation(),t.get(uet,null,un.Optional)?.setUpPreloading(),t.get(iet,null,un.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}var aet=new Gt("",{factory:()=>new Ws}),cet=new Gt("",{providedIn:"root",factory:()=>1});var uet=new Gt("");function ke(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}function det(t,e){return e={exports:{}},t(e,e.exports),e.exports}var fet=det(function(t){var e=t.exports=function(n,i){if(i||(i=16),n===void 0&&(n=128),n<=0)return"0";for(var a=Math.log(Math.pow(2,n))/Math.log(i),c=2;a===1/0;c*=2)a=Math.log(Math.pow(2,n/c))/Math.log(i)*c;for(var d=a-Math.floor(a),h="",c=0;c<Math.floor(a);c++){var m=Math.floor(Math.random()*i).toString(i);h=m+h}if(d){var g=Math.pow(i,d),m=Math.floor(Math.random()*g).toString(i);h=m+h}var b=parseInt(h,i);return b!==1/0&&b>=Math.pow(2,n)?e(n,i):h};e.rack=function(n,i,a){var c=function(h){var m=0;do{if(m++>10)if(a)n+=a;else throw new Error("too many ID collisions, use more bits");var g=e(n,i)}while(Object.hasOwnProperty.call(d,g));return d[g]=h,g},d=c.hats={};return c.get=function(h){return c.hats[h]},c.set=function(h,m){return c.hats[h]=m,c},c.bits=n||128,c.base=i||16,c}});function Mf(t){if(!(this instanceof Mf))return new Mf(t);t=t||[128,36,1],this._seed=t.length?fet.rack(t[0],t[1],t[2]):t}Mf.prototype.next=function(t){return this._seed(t||!0)};Mf.prototype.nextPrefixed=function(t,e){var n;do n=t+this.next(!0);while(this.assigned(n));return this.claim(n,e),n};Mf.prototype.claim=function(t,e){this._seed.set(t,e||!0)};Mf.prototype.assigned=function(t){return this._seed.get(t)||!1};Mf.prototype.unclaim=function(t){delete this._seed.hats[t]};Mf.prototype.clear=function(){var t=this._seed.hats,e;for(e in t)this.unclaim(e)};var t2=Mf;function Af(t){return Array.prototype.concat.apply([],t)}var JE=Object.prototype.toString,het=Object.prototype.hasOwnProperty;function Hi(t){return t===void 0}function In(t){return t!==void 0}function n2(t){return t==null}function Ue(t){return JE.call(t)==="[object Array]"}function Un(t){return JE.call(t)==="[object Object]"}function ot(t){return JE.call(t)==="[object Number]"}function At(t){let e=JE.call(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"||e==="[object Proxy]"}function kr(t){return JE.call(t)==="[object String]"}function pet(t){if(!Ue(t))throw new Error("must supply array")}function Ui(t,e){return het.call(t,e)}function st(t,e){let n=w8(e),i;return J(t,function(a,c){if(n(a,c))return i=a,!1}),i}function Yl(t,e){let n=w8(e),i=Ue(t)?-1:void 0;return J(t,function(a,c){if(n(a,c))return i=c,!1}),i}function Ze(t,e){let n=w8(e),i=[];return J(t,function(a,c){n(a,c)&&i.push(a)}),i}function J(t,e){let n,i;if(Hi(t))return;let a=Ue(t)?get:met;for(let c in t)if(Ui(t,c)&&(n=t[c],i=e(n,a(c)),i===!1))return n}function or(t,e){if(Hi(t))return[];pet(t);let n=w8(e);return t.filter(function(i,a){return!n(i,a)})}function dr(t,e,n){return J(t,function(i,a){n=e(n,i,a)}),n}function Gc(t,e){return!!dr(t,function(n,i,a){return n&&e(i,a)},!0)}function ho(t,e){return!!st(t,e)}function Nn(t,e){let n=[];return J(t,function(i,a){n.push(e(i,a))}),n}function Rf(t){return t&&Object.keys(t)||[]}function Dde(t){return Rf(t).length}function r2(t){return Nn(t,e=>e)}function sl(t,e,n={}){return e=AF(e),J(t,function(i){let a=e(i)||"_",c=n[a];c||(c=n[a]=[]),c.push(i)}),n}function MF(t,...e){t=AF(t);let n={};return J(e,a=>sl(a,t,n)),Nn(n,function(a,c){return a[0]})}var Tde=MF;function fr(t,e){e=AF(e);let n=[];return J(t,function(i,a){let c=e(i,a),d={d:c,v:i};for(var h=0;h<n.length;h++){let{d:m}=n[h];if(c<m){n.splice(h,0,d);return}}n.push(d)}),Nn(n,i=>i.v)}function Mo(t){return function(e){return Gc(t,function(n,i){return e[i]===n})}}function AF(t){return At(t)?t:e=>e[t]}function w8(t){return At(t)?t:e=>e===t}function met(t){return t}function get(t){return Number(t)}function i2(t,e){let n,i,a,c;function d(E){let _=Date.now(),S=E?0:c+e-_;if(S>0)return h(S);t.apply(a,i),m()}function h(E){n=setTimeout(d,E)}function m(){n&&clearTimeout(n),n=c=i=a=void 0}function g(){n&&d(!0),m()}function b(...E){c=Date.now(),i=E,a=this,n||h(e)}return b.flush=g,b.cancel=m,b}function ai(t,e){return t.bind(e)}function le(t,...e){return Object.assign(t,...e)}function _8(t,e,n){let i=t;return J(e,function(a,c){if(typeof a!="number"&&typeof a!="string")throw new Error("illegal key type: "+typeof a+". Key should be of type number or string.");if(a==="constructor")throw new Error("illegal key: constructor");if(a==="__proto__")throw new Error("illegal key: __proto__");let d=e[c+1],h=i[a];In(d)&&n2(h)&&(h=i[a]=isNaN(+d)?{}:[]),Hi(d)?Hi(n)?delete i[a]:i[a]=n:i=h}),t}function kde(t,e,n){let i=t;return J(e,function(a){if(n2(i))return i=void 0,!1;i=i[a]}),Hi(i)?n:i}function qi(t,e){let n={},i=Object(t);return J(e,function(a){a in i&&(n[a]=t[a])}),n}function xs(t,e){let n={},i=Object(t);return J(i,function(a,c){e.indexOf(c)===-1&&(n[c]=a)}),n}function vet(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(i){if(i!=="default"&&!(i in t)){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}})}),Object.freeze(t)}var yet=Object.prototype.toString,bet=Object.prototype.hasOwnProperty;function xet(t){return t===void 0}function Eet(t){return yet.call(t)==="[object Array]"}function wet(t,e){return bet.call(t,e)}function Pde(t,e){let n,i;if(xet(t))return;let a=Eet(t)?Cet:_et;for(let c in t)if(wet(t,c)&&(n=t[c],i=e(n,a(c)),i===!1))return n}function _et(t){return t}function Cet(t){return Number(t)}function Nr(t,...e){let n=t.style;return Pde(e,function(i){i&&Pde(i,function(a,c){n[c]=a})}),t}function vi(t,e,n){return arguments.length==2?t.getAttribute(e):n===null?t.removeAttribute(e):(t.setAttribute(e,n),t)}var Oet=Object.prototype.toString;function _r(t){return new Np(t)}function Np(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}Np.prototype.add=function(t){return this.list.add(t),this};Np.prototype.remove=function(t){return Oet.call(t)=="[object RegExp]"?this.removeMatching(t):(this.list.remove(t),this)};Np.prototype.removeMatching=function(t){let e=this.array();for(let n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this};Np.prototype.toggle=function(t,e){return typeof e<"u"?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this};Np.prototype.array=function(){return Array.from(this.list)};Np.prototype.has=Np.prototype.contains=function(t){return this.list.contains(t)};function Fp(t){for(var e;e=t.firstChild;)t.removeChild(e);return t}function Ko(t,e,n){var i=n?t:t.parentNode;return i&&typeof i.closest=="function"&&i.closest(e)||null}var S8={},O8,RF,LF;function Ide(){O8=window.addEventListener?"addEventListener":"attachEvent",RF=window.removeEventListener?"removeEventListener":"detachEvent",LF=O8!=="addEventListener"?"on":""}var Det=S8.bind=function(t,e,n,i){return O8||Ide(),t[O8](LF+e,n,i||!1),n},Tet=S8.unbind=function(t,e,n,i){return RF||Ide(),t[RF](LF+e,n,i||!1),n},nt=vet({__proto__:null,bind:Det,unbind:Tet,default:S8},[S8]),Mde=["focus","blur"];function ket(t,e,n,i,a){return Mde.indexOf(n)!==-1&&(a=!0),nt.bind(t,n,function(c){var d=c.target||c.srcElement;c.delegateTarget=Ko(d,e,!0),c.delegateTarget&&i.call(t,c)},a)}function Pet(t,e,n,i){return Mde.indexOf(e)!==-1&&(i=!0),nt.unbind(t,e,n,i)}var Wi={bind:ket,unbind:Pet},Iet=Met,Ade=!1,C8;typeof document<"u"&&(C8=document.createElement("div"),C8.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',Ade=!C8.getElementsByTagName("link").length,C8=void 0);var Ai={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:Ade?[1,"X<div>","</div>"]:[0,"",""]};Ai.td=Ai.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];Ai.option=Ai.optgroup=[1,'<select multiple="multiple">',"</select>"];Ai.thead=Ai.tbody=Ai.colgroup=Ai.caption=Ai.tfoot=[1,"<table>","</table>"];Ai.polyline=Ai.ellipse=Ai.polygon=Ai.circle=Ai.text=Ai.line=Ai.path=Ai.rect=Ai.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function Met(t,e){if(typeof t!="string")throw new TypeError("String expected");e||(e=document);var n=/<([\w:]+)/.exec(t);if(!n)return e.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var i=n[1];if(i=="body"){var m=e.createElement("html");return m.innerHTML=t,m.removeChild(m.lastChild)}var a=Object.prototype.hasOwnProperty.call(Ai,i)?Ai[i]:Ai._default,c=a[0],d=a[1],h=a[2],m=e.createElement("div");for(m.innerHTML=d+t+h;c--;)m=m.lastChild;if(m.firstChild==m.lastChild)return m.removeChild(m.firstChild);for(var g=e.createDocumentFragment();m.firstChild;)g.appendChild(m.removeChild(m.firstChild));return g}var jt=Iet;function o2(t,e){return t&&typeof t.matches=="function"&&t.matches(e)||!1}function Et(t,e){return e=e||document,e.querySelector(t)}function ew(t,e){return e=e||document,e.querySelectorAll(t)}function Gs(t){t.parentNode&&t.parentNode.removeChild(t)}function Aet(t,e){if(t.ownerDocument!==e.ownerDocument)try{return e.ownerDocument.importNode(t,!0)}catch{}return t}function Nde(t,e){return e.appendChild(Aet(t,e))}function et(t,e){return Nde(e,t),t}var FF=2,Fde={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":FF,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":FF,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function Ret(t,e){return Fde[e]?t.style[e]:t.getAttributeNS(null,e)}function Bde(t,e,n){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=Fde[i];a?(a===FF&&typeof n=="number"&&(n=String(n)+"px"),t.style[i]=n):t.setAttributeNS(null,e,n)}function Let(t,e){var n=Object.keys(e),i,a;for(i=0,a;a=n[i];i++)Bde(t,a,e[a])}function Ne(t,e,n){if(typeof e=="string")if(n!==void 0)Bde(t,e,n);else return Ret(t,e);else Let(t,e);return t}var $et=Object.prototype.toString;function St(t){return new Bp(t)}function Bp(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}Bp.prototype.add=function(t){return this.list.add(t),this};Bp.prototype.remove=function(t){return $et.call(t)=="[object RegExp]"?this.removeMatching(t):(this.list.remove(t),this)};Bp.prototype.removeMatching=function(t){let e=this.array();for(let n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this};Bp.prototype.toggle=function(t,e){return typeof e<"u"?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this};Bp.prototype.array=function(){return Array.from(this.list)};Bp.prototype.has=Bp.prototype.contains=function(t){return this.list.contains(t)};function Dg(t){for(var e;e=t.firstChild;)t.removeChild(e);return t}function jF(t){return t.cloneNode(!0)}var VF={svg:"http://www.w3.org/2000/svg"},Rde='<svg xmlns="'+VF.svg+'"';function jde(t){var e=!1;t.substring(0,4)==="<svg"?t.indexOf(VF.svg)===-1&&(t=Rde+t.substring(4)):(t=Rde+">"+t+"</svg>",e=!0);var n=Net(t);if(!e)return n;for(var i=document.createDocumentFragment(),a=n.firstChild;a.firstChild;)i.appendChild(a.firstChild);return i}function Net(t){var e;return e=new DOMParser,e.async=!1,e.parseFromString(t,"text/xml")}function We(t,e){var n;return t=t.trim(),t.charAt(0)==="<"?(n=jde(t).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(VF.svg,t),e&&Ne(n,e),n}var $F=null;function BF(){return $F===null&&($F=We("svg")),$F}function Lde(t,e){var n,i,a=Object.keys(e);for(n=0;i=a[n];n++)t[i]=e[i];return t}function Vde(t,e,n,i,a,c){var d=BF().createSVGMatrix();switch(arguments.length){case 0:return d;case 1:return Lde(d,t);case 6:return Lde(d,{a:t,b:e,c:n,d:i,e:a,f:c})}}function s2(t){return t?BF().createSVGTransformFromMatrix(t):BF().createSVGTransform()}var $de=/([&<>]{1})/g,Fet=/([\n\r"]{1})/g,Bet={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function NF(t,e){function n(i,a){return Bet[a]||a}return t.replace(e,n)}function zde(t,e){var n,i,a,c,d;switch(t.nodeType){case 3:e.push(NF(t.textContent,$de));break;case 1:if(e.push("<",t.tagName),t.hasAttributes())for(a=t.attributes,n=0,i=a.length;n<i;++n)c=a.item(n),e.push(" ",c.name,'="',NF(c.value,Fet),'"');if(t.hasChildNodes()){for(e.push(">"),d=t.childNodes,n=0,i=d.length;n<i;++n)zde(d.item(n),e);e.push("</",t.tagName,">")}else e.push("/>");break;case 8:e.push("<!--",NF(t.nodeValue,$de),"-->");break;case 4:e.push("<![CDATA[",t.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+t.nodeType)}return e}function jet(t,e){var n=jde(e);if(Dg(t),!!e){zet(n)||(n=n.documentElement);for(var i=Het(n.childNodes),a=0;a<i.length;a++)Nde(i[a],t)}}function Vet(t){for(var e=t.firstChild,n=[];e;)zde(e,n),e=e.nextSibling;return n.join("")}function zet(t){return t.nodeName==="#document-fragment"}function zF(t,e){if(e!==void 0){try{jet(t,e)}catch(n){throw new Error("error parsing SVG: "+n.message)}return t}else return Vet(t)}function Het(t){return Array.prototype.slice.call(t)}function xn(t){var e=t.parentNode;return e&&e.removeChild(t),t}function Uet(t,e){return e instanceof SVGMatrix?t.createSVGTransformFromMatrix(e):e}function qet(t,e){var n,i;for(t.clear(),n=0;i=e[n];n++)t.appendItem(Uet(t,i))}function Tg(t,e){var n=t.transform.baseVal;return e&&(Array.isArray(e)||(e=[e]),qet(n,e)),n.consolidate()}var Wet=/^class[ {]/;function Get(t){return Wet.test(t.toString())}function UF(t){return Array.isArray(t)}function HF(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function D8(...t){t.length===1&&UF(t[0])&&(t=t[0]),t=[...t];let e=t.pop();return e.$inject=t,e}var Qet=/constructor\s*[^(]*\(\s*([^)]*)\)/m,Yet=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,Xet=/\/\*([^*]*)\*\//m;function Ket(t){if(typeof t!="function")throw new Error(`Cannot annotate "${t}". Expected a function!`);let e=t.toString().match(Get(t)?Qet:Yet);if(!e)return[];let n=e[1]||e[2];return n&&n.split(",").map(i=>{let a=i.match(Xet);return(a&&a[1]||i).trim()})||[]}function qF(t,e){e=e||{get:function($,F){if(n.push($),F===!1)return null;throw d(`No provider for "${$}"!`)}};let n=[],i=this._providers=Object.create(e._providers||null),a=this._instances=Object.create(null),c=a.injector=this,d=function($){let F=n.join(" -> ");return n.length=0,new Error(F?`${$} (Resolving: ${F})`:$)};function h($,F){if(!i[$]&&$.indexOf(".")!==-1){let L=$.split("."),V=h(L.shift());for(;L.length;)V=V[L.shift()];return V}if(HF(a,$))return a[$];if(HF(i,$)){if(n.indexOf($)!==-1)throw n.push($),d("Cannot resolve circular dependency!");return n.push($),a[$]=i[$][0](i[$][1]),n.pop(),a[$]}return e.get($,F)}function m($,F){if(typeof F>"u"&&(F={}),typeof $!="function")if(UF($))$=D8($.slice());else throw d(`Cannot invoke "${$}". Expected a function!`);let V=($.$inject||Ket($)).map(G=>HF(F,G)?F[G]:h(G));return{fn:$,dependencies:V}}function g($){let{fn:F,dependencies:L}=m($),V=Function.prototype.bind.apply(F,[null].concat(L));return new V}function b($,F,L){let{fn:V,dependencies:G}=m($,L);return V.apply(F,G)}function E($){return D8(F=>$.get(F))}function _($,F){if(F&&F.length){let L=Object.create(null),V=Object.create(null),G=[],re=[],ee=[],oe,pe,ge,ce;for(let he in i)oe=i[he],F.indexOf(he)!==-1&&(oe[2]==="private"?(pe=G.indexOf(oe[3]),pe===-1?(ge=oe[3].createChild([],F),ce=E(ge),G.push(oe[3]),re.push(ge),ee.push(ce),L[he]=[ce,he,"private",ge]):L[he]=[ee[pe],he,"private",re[pe]]):L[he]=[oe[2],oe[1]],V[he]=!0),(oe[2]==="factory"||oe[2]==="type")&&oe[1].$scope&&F.forEach(Se=>{oe[1].$scope.indexOf(Se)!==-1&&(L[he]=[oe[2],oe[1]],V[Se]=!0)});F.forEach(he=>{if(!V[he])throw new Error('No provider for "'+he+'". Cannot use provider from the parent!')}),$.unshift(L)}return new qF($,c)}let S={factory:b,type:g,value:function($){return $}};function D($,F){let L=$.__init__||[];return function(){L.forEach(V=>{typeof V=="string"?F.get(V):F.invoke(V)})}}function k($){let F=$.__exports__;if(F){let L=$.__modules__,V=Object.keys($).reduce((pe,ge)=>(ge!=="__exports__"&&ge!=="__modules__"&&ge!=="__init__"&&ge!=="__depends__"&&(pe[ge]=$[ge]),pe),Object.create(null)),G=(L||[]).concat(V),re=_(G),ee=D8(function(pe){return re.get(pe)});F.forEach(function(pe){i[pe]=[ee,pe,"private",re]});let oe=($.__init__||[]).slice();return oe.unshift(function(){re.init()}),$=Object.assign({},$,{__init__:oe}),D($,re)}return Object.keys($).forEach(function(L){if(L==="__init__"||L==="__depends__")return;if($[L][2]==="private"){i[L]=$[L];return}let V=$[L][0],G=$[L][1];i[L]=[S[V],Zet(V,G),V]}),D($,c)}function I($,F){return $.indexOf(F)!==-1||($=(F.__depends__||[]).reduce(I,$),$.indexOf(F)!==-1)?$:$.concat(F)}function R($){let F=$.reduce(I,[]).map(k),L=!1;return function(){L||(L=!0,F.forEach(V=>V()))}}this.get=h,this.invoke=b,this.instantiate=g,this.createChild=_,this.init=R(t)}function Zet(t,e){return t!=="value"&&UF(e)&&(e=D8(e.slice())),e}var Jet=1e3;function Xl(t,e){var n=this;e=e||Jet,t.on(["render.shape","render.connection"],e,function(i,a){var c=i.type,d=a.element,h=a.gfx,m=a.attrs;if(n.canRender(d))return c==="render.shape"?n.drawShape(h,d,m):n.drawConnection(h,d,m)}),t.on(["render.getShapePath","render.getConnectionPath"],e,function(i,a){if(n.canRender(a))return i.type==="render.getShapePath"?n.getShapePath(a):n.getConnectionPath(a)})}Xl.prototype.canRender=function(t){};Xl.prototype.drawShape=function(t,e){};Xl.prototype.drawConnection=function(t,e){};Xl.prototype.getShapePath=function(t){};Xl.prototype.getConnectionPath=function(t){};function Lf(t){return t.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function ett(t){return["M",t.x,t.y]}function WF(t){return["L",t.x,t.y]}function ttt(t,e,n){return["C",t.x,t.y,e.x,e.y,n.x,n.y]}function ntt(t,e){let n=t.length,i=[ett(t[0])];for(let a=1;a<n;a++){let c=t[a-1],d=t[a],h=t[a+1];if(!h||!e){i.push(WF(d));continue}let m=Math.min(e,GF(d.x-c.x,d.y-c.y),GF(h.x-d.x,h.y-d.y));if(!m){i.push(WF(d));continue}let g=T8(d,c,m),b=T8(d,c,m*.5),E=T8(d,h,m),_=T8(d,h,m*.5);i.push(WF(g)),i.push(ttt(b,_,E))}return i}function T8(t,e,n){let i=e.x-t.x,a=e.y-t.y,c=GF(i,a),d=n/c;return{x:t.x+i*d,y:t.y+a*d}}function GF(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}function jp(t,e,n){ot(e)&&(n=e,e=null),e||(e={});let i=We("path",e);return ot(n)&&(i.dataset.cornerRadius=String(n)),QF(i,t)}function QF(t,e){let n=parseInt(t.dataset.cornerRadius,10)||0;return Ne(t,{d:Lf(ntt(e,n))}),t}function Vp(t){return Ze(t,function(e){return!st(t,function(n){return n!==e&&Ude(e,n)})})}function Ude(t,e){if(e){if(t===e)return e;if(t.parent)return Ude(t.parent,e)}}function Hde(t,e,n){var i=!n||t.indexOf(e)===-1;return i&&t.push(e),i}function Qc(t,e,n){n=n||0,Ue(t)||(t=[t]),J(t,function(i,a){var c=e(i,a,n);Ue(c)&&c.length&&Qc(c,e,n+1)})}function rtt(t,e,n){var i=[],a=[];return Qc(t,function(c,d,h){Hde(i,c,e);var m=c.children;if((n===-1||h<n)&&m&&Hde(a,m,e))return m}),i}function ad(t,e){return rtt(t,!e,-1)}function qde(t,e,n){Hi(e)&&(e=!0),Un(e)&&(n=e,e=!0),n=n||{};var i=tw(n.allShapes),a=tw(n.allConnections),c=tw(n.enclosedElements),d=tw(n.enclosedConnections),h=tw(n.topLevel,e&&sl(t,function(b){return b.id}));function m(b){h[b.source.id]&&h[b.target.id]&&(h[b.id]=[b]),i[b.source.id]&&i[b.target.id]&&(d[b.id]=c[b.id]=b),a[b.id]=b}function g(b){if(c[b.id]=b,b.waypoints)d[b.id]=a[b.id]=b;else return i[b.id]=b,J(b.incoming,m),J(b.outgoing,m),b.children}return Qc(t,g),{allShapes:i,allConnections:a,topLevel:h,enclosedConnections:d,enclosedElements:c}}function En(t,e){e=!!e,Ue(t)||(t=[t]);var n,i,a,c;return J(t,function(d){var h=d;d.waypoints&&!e&&(h=En(d.waypoints,!0));var m=h.x,g=h.y,b=h.height||0,E=h.width||0;(m<n||n===void 0)&&(n=m),(g<i||i===void 0)&&(i=g),(m+E>a||a===void 0)&&(a=m+E),(g+b>c||c===void 0)&&(c=g+b)}),{x:n,y:i,height:c-i,width:a-n}}function Wde(t,e){var n={};return J(t,function(i){var a=i;a.waypoints&&(a=En(a)),!ot(e.y)&&a.x>e.x&&(n[i.id]=i),!ot(e.x)&&a.y>e.y&&(n[i.id]=i),a.x>e.x&&a.y>e.y&&(ot(e.width)&&ot(e.height)&&a.width+a.x<e.width+e.x&&a.height+a.y<e.height+e.y||!ot(e.width)||!ot(e.height))&&(n[i.id]=i)}),n}function k8(t){return"waypoints"in t?"connection":"x"in t?"shape":"root"}function P8(t){return!!(t&&t.isFrame)}function tw(t,e){return le({},t||{},e||{})}var itt=1;function ld(t,e){Xl.call(this,t,itt),this.CONNECTION_STYLE=e.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=e.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=e.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}ke(ld,Xl);ld.prototype.canRender=function(){return!0};ld.prototype.drawShape=function(e,n,i){var a=We("rect");return Ne(a,{x:0,y:0,width:n.width||0,height:n.height||0}),P8(n)?Ne(a,le({},this.FRAME_STYLE,i||{})):Ne(a,le({},this.SHAPE_STYLE,i||{})),et(e,a),a};ld.prototype.drawConnection=function(e,n,i){var a=jp(n.waypoints,le({},this.CONNECTION_STYLE,i||{}));return et(e,a),a};ld.prototype.getShapePath=function(e){var n=e.x,i=e.y,a=e.width,c=e.height,d=[["M",n,i],["l",a,0],["l",0,c],["l",-a,0],["z"]];return Lf(d)};ld.prototype.getConnectionPath=function(e){var n=e.waypoints,i,a,c=[];for(i=0;a=n[i];i++)a=a.original||a,c.push([i===0?"M":"L",a.x,a.y]);return Lf(c)};ld.$inject=["eventBus","styles"];function YF(){var t={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},e=this;this.cls=function(n,i,a){var c=this.style(i,a);return le(c,{class:n})},this.style=function(n,i){!Ue(n)&&!i&&(i=n,n=[]);var a=dr(n,function(c,d){return le(c,t[d]||{})},{});return i?le(a,i):a},this.computeStyle=function(n,i,a){return Ue(i)||(a=i,i=[]),e.style(i||[],le({},a,n||{}))}}var Gde={__init__:["defaultRenderer"],defaultRenderer:["type",ld],styles:["type",YF]};function Xn(t,e){if(!t||!e)return-1;var n=t.indexOf(e);return n!==-1&&t.splice(n,1),n}function Dn(t,e,n){if(!(!t||!e)){typeof n!="number"&&(n=-1);var i=t.indexOf(e);if(i!==-1){if(i===n)return;if(n!==-1)t.splice(i,1);else return}n!==-1?t.splice(n,0,e):t.push(e)}}function a2(t,e){return!t||!e?-1:t.indexOf(e)}function zp(t,e){return!t||!e?-1:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function l2(t,e,n,i){if(typeof i>"u"&&(i=5),!t||!e||!n)return!1;var a=(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x),c=zp(t,e);return Math.abs(a/c)<=i}var ott=2;function xa(t,e){var n=Array.from(arguments).flat();let i={x:"v",y:"h"};for(let[a,c]of Object.entries(i))if(stt(a,n))return c;return!1}function stt(t,e){let n=e[0];return Gc(e,function(i){return Math.abs(n[t]-i[t])<=ott})}function XF(t,e,n){return n=n||0,t.x>e.x-n&&t.y>e.y-n&&t.x<e.x+e.width+n&&t.y<e.y+e.height+n}function nw(t,e){return{x:Math.round(t.x+(e.x-t.x)/2),y:Math.round(t.y+(e.y-t.y)/2)}}var sfe=wf(JF());function Tn(t){return Un(t)&&Ui(t,"waypoints")}function po(t){return Un(t)&&Ui(t,"labelTarget")}function L8(t){return{x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}}function Kl(t){return{x:Math.round(t.x),y:Math.round(t.y)}}function Xe(t){return{top:t.y,right:t.x+(t.width||0),bottom:t.y+(t.height||0),left:t.x}}function kg(t){return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}function btt(t){return Kl({x:t.x+(t.width||0)/2,y:t.y+(t.height||0)/2})}function xtt(t){for(var e=t.waypoints,n=e.reduce(function(g,b,E){var _=e[E-1];if(_){var S=g[g.length-1],D=S&&S.endLength||0,k=wtt(_,b);g.push({start:_,end:b,startLength:D,endLength:D+k,length:k})}return g},[]),i=n.reduce(function(g,b){return g+b.length},0),a=i/2,c=0,d=n[c];d.endLength<a;)d=n[++c];var h=(a-d.startLength)/d.length,m={x:d.start.x+(d.end.x-d.start.x)*h,y:d.start.y+(d.end.y-d.start.y)*h};return m}function Je(t){return Tn(t)?xtt(t):btt(t)}function Cr(t,e,n){n=n||0,Un(n)||(n={x:n,y:n});var i=Xe(t),a=Xe(e),c=i.bottom+n.y<=a.top,d=i.left-n.x>=a.right,h=i.top-n.y>=a.bottom,m=i.right+n.x<=a.left,g=c?"top":h?"bottom":null,b=m?"left":d?"right":null;return b&&g?g+"-"+b:b||g||"intersect"}function iw(t,e,n){var i=Ett(t,e);return i.length===1||i.length===2&&zp(i[0],i[1])<1?Kl(i[0]):i.length>1?(i=fr(i,function(a){var c=Math.floor(a.t2*100)||1;return c=100-c,c=(c<10?"0":"")+c,a.segment2+"#"+c}),Kl(i[n?0:i.length-1])):null}function Ett(t,e){return(0,sfe.default)(t,e)}function afe(t){t=t.slice();for(var e=0,n,i,a;t[e];)n=t[e],i=t[e-1],a=t[e+1],zp(n,a)===0||l2(i,a,n)?t.splice(e,1):e++;return t}function wtt(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function $8(t,e){return Math.round(t*e)/e}function lfe(t){return ot(t)?t+"px":t}function _tt(t){for(;t.parent;)t=t.parent;return t}function Ctt(t){t=le({},{width:"100%",height:"100%"},t);let e=t.container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container djs-parent"),Nr(n,{position:"relative",overflow:"hidden",width:lfe(t.width),height:lfe(t.height)}),e.appendChild(n),n}function cfe(t,e,n){let i=We("g");St(i).add(e);let a=n!==void 0?n:t.childNodes.length-1;return t.insertBefore(i,t.childNodes[a]||null),i}var Stt="base",ufe=0,Ott=1,Dtt={shape:["x","y","width","height"],connection:["waypoints"]};function Pt(t,e,n,i){this._eventBus=e,this._elementRegistry=i,this._graphicsFactory=n,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(t||{})}Pt.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"];Pt.prototype._init=function(t){let e=this._eventBus,n=this._container=Ctt(t),i=this._svg=We("svg");Ne(i,{width:"100%",height:"100%"}),et(n,i);let a=this._viewport=cfe(i,"viewport");t.deferUpdate&&(this._viewboxChanged=i2(ai(this._viewboxChanged,this),300)),e.on("diagram.init",()=>{e.fire("canvas.init",{svg:i,viewport:a})}),e.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),e.on("diagram.destroy",500,this._destroy,this),e.on("diagram.clear",500,this._clear,this)};Pt.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});let t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport};Pt.prototype._clear=function(){this._elementRegistry.getAll().forEach(e=>{let n=k8(e);n==="root"?this.removeRootElement(e):this._removeElement(e,n)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox};Pt.prototype.getDefaultLayer=function(){return this.getLayer(Stt,ufe)};Pt.prototype.getLayer=function(t,e){if(!t)throw new Error("must specify a name");let n=this._layers[t];if(n||(n=this._layers[t]=this._createLayer(t,e)),typeof e<"u"&&n.index!==e)throw new Error("layer <"+t+"> already created at index <"+e+">");return n.group};Pt.prototype._getChildIndex=function(t){return dr(this._layers,function(e,n){return n.visible&&t>=n.index&&e++,e},0)};Pt.prototype._createLayer=function(t,e){typeof e>"u"&&(e=Ott);let n=this._getChildIndex(e);return{group:cfe(this._viewport,"layer-"+t,n),index:e,visible:!0}};Pt.prototype.showLayer=function(t){if(!t)throw new Error("must specify a name");let e=this._layers[t];if(!e)throw new Error("layer <"+t+"> does not exist");let n=this._viewport,i=e.group,a=e.index;if(e.visible)return i;let c=this._getChildIndex(a);return n.insertBefore(i,n.childNodes[c]||null),e.visible=!0,i};Pt.prototype.hideLayer=function(t){if(!t)throw new Error("must specify a name");let e=this._layers[t];if(!e)throw new Error("layer <"+t+"> does not exist");let n=e.group;return e.visible&&(xn(n),e.visible=!1),n};Pt.prototype._removeLayer=function(t){let e=this._layers[t];e&&(delete this._layers[t],xn(e.group))};Pt.prototype.getActiveLayer=function(){let t=this._findPlaneForRoot(this.getRootElement());return t?t.layer:null};Pt.prototype.findRoot=function(t){return typeof t=="string"&&(t=this._elementRegistry.get(t)),t?(this._findPlaneForRoot(_tt(t))||{}).rootElement:void 0};Pt.prototype.getRootElements=function(){return this._planes.map(function(t){return t.rootElement})};Pt.prototype._findPlaneForRoot=function(t){return st(this._planes,function(e){return e.rootElement===t})};Pt.prototype.getContainer=function(){return this._container};Pt.prototype._updateMarker=function(t,e,n){let i;t.id||(t=this._elementRegistry.get(t)),i=this._elementRegistry._elements[t.id],i&&(J([i.gfx,i.secondaryGfx],function(a){a&&(n?St(a).add(e):St(a).remove(e))}),this._eventBus.fire("element.marker.update",{element:t,gfx:i.gfx,marker:e,add:!!n}))};Pt.prototype.addMarker=function(t,e){this._updateMarker(t,e,!0)};Pt.prototype.removeMarker=function(t,e){this._updateMarker(t,e,!1)};Pt.prototype.hasMarker=function(t,e){t.id||(t=this._elementRegistry.get(t));let n=this.getGraphics(t);return St(n).has(e)};Pt.prototype.toggleMarker=function(t,e){this.hasMarker(t,e)?this.removeMarker(t,e):this.addMarker(t,e)};Pt.prototype.getRootElement=function(){let t=this._rootElement;return t||this._planes.length?t:this.setRootElement(this.addRootElement(null))};Pt.prototype.addRootElement=function(t){let e=this._rootsIdx++;t||(t={id:"__implicitroot_"+e,children:[],isImplicit:!0});let n=t.layer="root-"+e;this._ensureValid("root",t);let i=this.getLayer(n,ufe);return this.hideLayer(n),this._addRoot(t,i),this._planes.push({rootElement:t,layer:i}),t};Pt.prototype.removeRootElement=function(t){if(typeof t=="string"&&(t=this._elementRegistry.get(t)),!!this._findPlaneForRoot(t))return this._removeRoot(t),this._removeLayer(t.layer),this._planes=this._planes.filter(function(n){return n.rootElement!==t}),this._rootElement===t&&(this._rootElement=null),t};Pt.prototype.setRootElement=function(t){if(t===this._rootElement)return;let e;if(!t)throw new Error("rootElement required");return e=this._findPlaneForRoot(t),e||(t=this.addRootElement(t)),this._setRoot(t),t};Pt.prototype._removeRoot=function(t){let e=this._elementRegistry,n=this._eventBus;n.fire("root.remove",{element:t}),n.fire("root.removed",{element:t}),e.remove(t)};Pt.prototype._addRoot=function(t,e){let n=this._elementRegistry,i=this._eventBus;i.fire("root.add",{element:t}),n.add(t,e),i.fire("root.added",{element:t,gfx:e})};Pt.prototype._setRoot=function(t,e){let n=this._rootElement;n&&(this._elementRegistry.updateGraphics(n,null,!0),this.hideLayer(n.layer)),t&&(e||(e=this._findPlaneForRoot(t).layer),this._elementRegistry.updateGraphics(t,this._svg,!0),this.showLayer(t.layer)),this._rootElement=t,this._eventBus.fire("root.set",{element:t})};Pt.prototype._ensureValid=function(t,e){if(!e.id)throw new Error("element must have an id");if(this._elementRegistry.get(e.id))throw new Error("element <"+e.id+"> already exists");let n=Dtt[t];if(!Gc(n,function(a){return typeof e[a]<"u"}))throw new Error("must supply { "+n.join(", ")+" } with "+t)};Pt.prototype._setParent=function(t,e,n){Dn(e.children,t,n),t.parent=e};Pt.prototype._addElement=function(t,e,n,i){n=n||this.getRootElement();let a=this._eventBus,c=this._graphicsFactory;this._ensureValid(t,e),a.fire(t+".add",{element:e,parent:n}),this._setParent(e,n,i);let d=c.create(t,e,i);return this._elementRegistry.add(e,d),c.update(t,e,d),a.fire(t+".added",{element:e,gfx:d}),e};Pt.prototype.addShape=function(t,e,n){return this._addElement("shape",t,e,n)};Pt.prototype.addConnection=function(t,e,n){return this._addElement("connection",t,e,n)};Pt.prototype._removeElement=function(t,e){let n=this._elementRegistry,i=this._graphicsFactory,a=this._eventBus;if(t=n.get(t.id||t),!!t)return a.fire(e+".remove",{element:t}),i.remove(t),Xn(t.parent&&t.parent.children,t),t.parent=null,a.fire(e+".removed",{element:t}),n.remove(t),t};Pt.prototype.removeShape=function(t){return this._removeElement(t,"shape")};Pt.prototype.removeConnection=function(t){return this._removeElement(t,"connection")};Pt.prototype.getGraphics=function(t,e){return this._elementRegistry.getGraphics(t,e)};Pt.prototype._changeViewbox=function(t){this._eventBus.fire("canvas.viewbox.changing"),t.apply(this),this._cachedViewbox=null,this._viewboxChanged()};Pt.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})};Pt.prototype.viewbox=function(t){if(t===void 0&&this._cachedViewbox)return this._cachedViewbox;let e=this._viewport,n=this.getSize(),i,a,c,d,h,m,g;if(t)this._changeViewbox(function(){h=Math.min(n.width/t.width,n.height/t.height);let b=this._svg.createSVGMatrix().scale(h).translate(-t.x,-t.y);Tg(e,b)});else return c=this._rootElement?this.getActiveLayer():null,i=c&&c.getBBox()||{},d=Tg(e),a=d?d.matrix:Vde(),h=$8(a.a,1e3),m=$8(-a.e||0,1e3),g=$8(-a.f||0,1e3),t=this._cachedViewbox={x:m?m/h:0,y:g?g/h:0,width:n.width/h,height:n.height/h,scale:h,inner:{width:i.width||0,height:i.height||0,x:i.x||0,y:i.y||0},outer:n},t;return t};Pt.prototype.scroll=function(t){let e=this._viewport,n=e.getCTM();return t&&this._changeViewbox(function(){t=le({dx:0,dy:0},t||{}),n=this._svg.createSVGMatrix().translate(t.dx,t.dy).multiply(n),dfe(e,n)}),{x:n.e,y:n.f}};Pt.prototype.scrollToElement=function(t,e){let n=100;typeof t=="string"&&(t=this._elementRegistry.get(t));let i=this.findRoot(t);if(i!==this.getRootElement()&&this.setRootElement(i),i===t)return;e||(e={}),typeof e=="number"&&(n=e),e={top:e.top||n,right:e.right||n,bottom:e.bottom||n,left:e.left||n};let a=En(t),c=Xe(a),d=this.viewbox(),h=this.zoom(),m,g;d.y+=e.top/h,d.x+=e.left/h,d.width-=(e.right+e.left)/h,d.height-=(e.bottom+e.top)/h;let b=Xe(d);if(!(a.width<d.width&&a.height<d.height))m=a.x-d.x,g=a.y-d.y;else{let _=Math.max(0,c.right-b.right),S=Math.min(0,c.left-b.left),D=Math.max(0,c.bottom-b.bottom),k=Math.min(0,c.top-b.top);m=_||S,g=D||k}this.scroll({dx:-m*h,dy:-g*h})};Pt.prototype.zoom=function(t,e){if(!t)return this.viewbox(t).scale;if(t==="fit-viewport")return this._fitViewport(e);let n,i;return this._changeViewbox(function(){typeof e!="object"&&(n=this.viewbox().outer,e={x:n.width/2,y:n.height/2}),i=this._setZoom(t,e)}),$8(i.a,1e3)};function dfe(t,e){let n="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")";t.setAttribute("transform",n)}Pt.prototype._fitViewport=function(t){let e=this.viewbox(),n=e.outer,i=e.inner,a,c;return i.x>=0&&i.y>=0&&i.x+i.width<=n.width&&i.y+i.height<=n.height&&!t?c={x:0,y:0,width:Math.max(i.width+i.x,n.width),height:Math.max(i.height+i.y,n.height)}:(a=Math.min(1,n.width/i.width,n.height/i.height),c={x:i.x+(t?i.width/2-n.width/a/2:0),y:i.y+(t?i.height/2-n.height/a/2:0),width:n.width/a,height:n.height/a}),this.viewbox(c),this.viewbox(!1).scale};Pt.prototype._setZoom=function(t,e){let n=this._svg,i=this._viewport,a=n.createSVGMatrix(),c=n.createSVGPoint(),d,h,m,g,b;m=i.getCTM();let E=m.a;return e?(d=le(c,e),h=d.matrixTransform(m.inverse()),g=a.translate(h.x,h.y).scale(1/E*t).translate(-h.x,-h.y),b=m.multiply(g)):b=a.scale(t),dfe(this._viewport,b),b};Pt.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}};Pt.prototype.getAbsoluteBBox=function(t){let e=this.viewbox(),n;t.waypoints?n=this.getGraphics(t).getBBox():n=t;let i=n.x*e.scale-e.x*e.scale,a=n.y*e.scale-e.y*e.scale,c=n.width*e.scale,d=n.height*e.scale;return{x:i,y:a,width:c,height:d}};Pt.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var u2="data-element-id";function Qs(t){this._elements={},this._eventBus=t}Qs.$inject=["eventBus"];Qs.prototype.add=function(t,e,n){var i=t.id;this._validateId(i),Ne(e,u2,i),n&&Ne(n,u2,i),this._elements[i]={element:t,gfx:e,secondaryGfx:n}};Qs.prototype.remove=function(t){var e=this._elements,n=t.id||t,i=n&&e[n];i&&(Ne(i.gfx,u2,""),i.secondaryGfx&&Ne(i.secondaryGfx,u2,""),delete e[n])};Qs.prototype.updateId=function(t,e){this._validateId(e),typeof t=="string"&&(t=this.get(t)),this._eventBus.fire("element.updateId",{element:t,newId:e});var n=this.getGraphics(t),i=this.getGraphics(t,!0);this.remove(t),t.id=e,this.add(t,n,i)};Qs.prototype.updateGraphics=function(t,e,n){var i=t.id||t,a=this._elements[i];return n?a.secondaryGfx=e:a.gfx=e,e&&Ne(e,u2,i),e};Qs.prototype.get=function(t){var e;typeof t=="string"?e=t:e=t&&Ne(t,u2);var n=this._elements[e];return n&&n.element};Qs.prototype.filter=function(t){var e=[];return this.forEach(function(n,i){t(n,i)&&e.push(n)}),e};Qs.prototype.find=function(t){for(var e=this._elements,n=Object.keys(e),i=0;i<n.length;i++){var a=n[i],c=e[a],d=c.element,h=c.gfx;if(t(d,h))return d}};Qs.prototype.getAll=function(){return this.filter(function(t){return t})};Qs.prototype.forEach=function(t){var e=this._elements;Object.keys(e).forEach(function(n){var i=e[n],a=i.element,c=i.gfx;return t(a,c)})};Qs.prototype.getGraphics=function(t,e){var n=t.id||t,i=this._elements[n];return i&&(e?i.secondaryGfx:i.gfx)};Qs.prototype._validateId=function(t){if(!t)throw new Error("element must have an id");if(this._elements[t])throw new Error("element with id "+t+" already added")};var d2=wf(gfe()),rB=new d2.default({name:"children",enumerable:!0,collection:!0},{name:"parent"}),yfe=new d2.default({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),vfe=new d2.default({name:"attachers",collection:!0},{name:"host"}),bfe=new d2.default({name:"outgoing",collection:!0},{name:"source"}),xfe=new d2.default({name:"incoming",collection:!0},{name:"target"});function f2(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(t){var e=this.label,n=this.labels;!t&&e?n.remove(e):n.add(t,0)}}),rB.bind(this,"parent"),yfe.bind(this,"labels"),bfe.bind(this,"outgoing"),xfe.bind(this,"incoming")}function ow(){f2.call(this),rB.bind(this,"children"),vfe.bind(this,"host"),vfe.bind(this,"attachers")}ke(ow,f2);function Efe(){f2.call(this),rB.bind(this,"children")}ke(Efe,ow);function wfe(){ow.call(this),yfe.bind(this,"labelTarget")}ke(wfe,ow);function _fe(){f2.call(this),bfe.bind(this,"source"),xfe.bind(this,"target")}ke(_fe,f2);var Mtt={connection:_fe,shape:ow,label:wfe,root:Efe};function Cfe(t,e){var n=Mtt[t];if(!n)throw new Error("unknown type: <"+t+">");return le(new n,e)}function Sfe(t){return t instanceof f2}function Zl(){this._uid=12}Zl.prototype.createRoot=function(t){return this.create("root",t)};Zl.prototype.createLabel=function(t){return this.create("label",t)};Zl.prototype.createShape=function(t){return this.create("shape",t)};Zl.prototype.createConnection=function(t){return this.create("connection",t)};Zl.prototype.create=function(t,e){return e=le({},e||{}),e.id||(e.id=t+"_"+this._uid++),Cfe(t,e)};var N8="__fn",Ofe=1e3,Att=Array.prototype.slice;function Es(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}Es.prototype.on=function(t,e,n,i){if(t=Ue(t)?t:[t],At(e)&&(i=n,n=e,e=Ofe),!ot(e))throw new Error("priority must be a number");var a=n;i&&(a=ai(n,i),a[N8]=n[N8]||n);var c=this;t.forEach(function(d){c._addListener(d,{priority:e,callback:a,next:null})})};Es.prototype.once=function(t,e,n,i){var a=this;if(At(e)&&(i=n,n=e,e=Ofe),!ot(e))throw new Error("priority must be a number");function c(){c.__isTomb=!0;var d=n.apply(i,arguments);return a.off(t,c),d}c[N8]=n,this.on(t,e,c)};Es.prototype.off=function(t,e){t=Ue(t)?t:[t];var n=this;t.forEach(function(i){n._removeListener(i,e)})};Es.prototype.createEvent=function(t){var e=new sw;return e.init(t),e};Es.prototype.fire=function(t,e){var n,i,a,c;if(c=Att.call(arguments),typeof t=="object"&&(e=t,t=e.type),!t)throw new Error("no event type specified");if(i=this._listeners[t],!!i){e instanceof sw?n=e:n=this.createEvent(e),c[0]=n;var d=n.type;t!==d&&(n.type=t);try{a=this._invokeListeners(n,c,i)}finally{t!==d&&(n.type=d)}return a===void 0&&n.defaultPrevented&&(a=!1),a}};Es.prototype.handleError=function(t){return this.fire("error",{error:t})===!1};Es.prototype._destroy=function(){this._listeners={}};Es.prototype._invokeListeners=function(t,e,n){for(var i;n&&!t.cancelBubble;)i=this._invokeListener(t,e,n),n=n.next;return i};Es.prototype._invokeListener=function(t,e,n){var i;if(n.callback.__isTomb)return i;try{i=Rtt(n.callback,e),i!==void 0&&(t.returnValue=i,t.stopPropagation()),i===!1&&t.preventDefault()}catch(a){if(!this.handleError(a))throw console.error("unhandled error in event listener",a),a}return i};Es.prototype._addListener=function(t,e){var n=this._getListeners(t),i;if(!n){this._setListeners(t,e);return}for(;n;){if(n.priority<e.priority){e.next=n,i?i.next=e:this._setListeners(t,e);return}i=n,n=n.next}i.next=e};Es.prototype._getListeners=function(t){return this._listeners[t]};Es.prototype._setListeners=function(t,e){this._listeners[t]=e};Es.prototype._removeListener=function(t,e){var n=this._getListeners(t),i,a,c;if(!e){this._setListeners(t,null);return}for(;n;)i=n.next,c=n.callback,(c===e||c[N8]===e)&&(a?a.next=i:this._setListeners(t,i)),a=n,n=i};function sw(){}sw.prototype.stopPropagation=function(){this.cancelBubble=!0};sw.prototype.preventDefault=function(){this.defaultPrevented=!0};sw.prototype.init=function(t){le(this,t||{})};function Rtt(t,e){return t.apply(null,e)}function Pg(t){return t.childNodes[0]}function Dfe(t){return t.parentNode.childNodes[1]}function aw(t,e,n,i,a){var c=s2();c.setTranslate(e,n);var d=s2();d.setRotate(i||0,0,0);var h=s2();h.setScale(a||1,a||1),Tg(t,[c,d,h])}function Qr(t,e,n){var i=s2();i.setTranslate(e,n),Tg(t,i)}function F8(t,e){var n=s2();n.setRotate(e,0,0),Tg(t,n)}function Ys(t,e){this._eventBus=t,this._elementRegistry=e}Ys.$inject=["eventBus","elementRegistry"];Ys.prototype._getChildrenContainer=function(t){var e=this._elementRegistry.getGraphics(t),n;return t.parent?(n=Dfe(e),n||(n=We("g"),St(n).add("djs-children"),et(e.parentNode,n))):n=e,n};Ys.prototype._clear=function(t){var e=Pg(t);return Fp(e),e};Ys.prototype._createContainer=function(t,e,n,i){var a=We("g");St(a).add("djs-group"),typeof n<"u"?Tfe(a,e,e.childNodes[n]):et(e,a);var c=We("g");St(c).add("djs-element"),St(c).add("djs-"+t),i&&St(c).add("djs-frame"),et(a,c);var d=We("g");return St(d).add("djs-visual"),et(c,d),c};Ys.prototype.create=function(t,e,n){var i=this._getChildrenContainer(e.parent);return this._createContainer(t,i,n,P8(e))};Ys.prototype.updateContainments=function(t){var e=this,n=this._elementRegistry,i;i=dr(t,function(a,c){return c.parent&&(a[c.parent.id]=c.parent),a},{}),J(i,function(a){var c=a.children;if(c){var d=e._getChildrenContainer(a);J(c.slice().reverse(),function(h){var m=n.getGraphics(h);Tfe(m.parentNode,d)})}})};Ys.prototype.drawShape=function(t,e,n={}){var i=this._eventBus;return i.fire("render.shape",{gfx:t,element:e,attrs:n})};Ys.prototype.getShapePath=function(t){var e=this._eventBus;return e.fire("render.getShapePath",t)};Ys.prototype.drawConnection=function(t,e,n={}){var i=this._eventBus;return i.fire("render.connection",{gfx:t,element:e,attrs:n})};Ys.prototype.getConnectionPath=function(t){var e=this._eventBus;return e.fire("render.getConnectionPath",t)};Ys.prototype.update=function(t,e,n){if(e.parent){var i=this._clear(n);if(t==="shape")this.drawShape(i,e),Qr(n,e.x,e.y);else if(t==="connection")this.drawConnection(i,e);else throw new Error("unknown type: "+t);e.hidden?Ne(n,"display","none"):Ne(n,"display","block")}};Ys.prototype.remove=function(t){var e=this._elementRegistry.getGraphics(t);xn(e.parentNode)};function Tfe(t,e,n){var i=n||e.firstChild;t!==i&&e.insertBefore(t,i)}var kfe={__depends__:[Gde],__init__:["canvas"],canvas:["type",Pt],elementRegistry:["type",Qs],elementFactory:["type",Zl],eventBus:["type",Es],graphicsFactory:["type",Ys]};function Ltt(t){var e=new qF(t);return e.init(),e}function $tt(t){t=t||{};var e={config:["value",t]},n=[e,kfe].concat(t.modules||[]);return Ltt(n)}function Gp(t,e){this._injector=e=e||$tt(t),this.get=e.get,this.invoke=e.invoke,this.get("eventBus").fire("diagram.init")}Gp.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")};Gp.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")};function sB(){}sB.prototype.get=function(t){return this.$model.properties.get(this,t)};sB.prototype.set=function(t,e){this.$model.properties.set(this,t,e)};function Ife(t,e){this.model=t,this.properties=e}Ife.prototype.createType=function(t){var e=this.model,n=this.properties,i=Object.create(sB.prototype);J(t.properties,function(d){!d.isMany&&d.default!==void 0&&(i[d.name]=d.default)}),n.defineModel(i,e),n.defineDescriptor(i,t);var a=t.ns.name;function c(d){n.define(this,"$type",{value:a,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),J(d,ai(function(h,m){this.set(m,h)},this))}return c.prototype=i,c.hasType=i.$instanceOf=this.model.hasType,n.defineModel(c,e),n.defineDescriptor(c,t),c};var Ntt={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},Mfe={String:function(t){return t},Boolean:function(t){return t==="true"},Integer:function(t){return parseInt(t,10)},Real:function(t){return parseFloat(t)}};function B8(t,e){var n=Mfe[t];return n?n(e):e}function iB(t){return!!Ntt[t]}function aB(t){return!!Mfe[t]}function Zo(t,e){var n=t.split(/:/),i,a;if(n.length===1)i=t,a=e;else if(n.length===2)i=n[1],a=n[0];else throw new Error("expected <prefix:localName> or <localName>, got "+t);return t=(a?a+":":"")+i,{name:t,prefix:a,localName:i}}function al(t){this.ns=t,this.name=t.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}al.prototype.build=function(){return qi(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])};al.prototype.addProperty=function(t,e,n){typeof e=="boolean"&&(n=e,e=void 0),this.addNamedProperty(t,n!==!1);var i=this.properties;e!==void 0?i.splice(e,0,t):i.push(t)};al.prototype.replaceProperty=function(t,e,n){var i=t.ns,a=this.properties,c=this.propertiesByName,d=t.name!==e.name;if(t.isId){if(!e.isId)throw new Error("property <"+e.ns.name+"> must be id property to refine <"+t.ns.name+">");this.setIdProperty(e,!1)}if(t.isBody){if(!e.isBody)throw new Error("property <"+e.ns.name+"> must be body property to refine <"+t.ns.name+">");this.setBodyProperty(e,!1)}var h=a.indexOf(t);if(h===-1)throw new Error("property <"+i.name+"> not found in property list");a.splice(h,1),this.addProperty(e,n?void 0:h,d),c[i.name]=c[i.localName]=e};al.prototype.redefineProperty=function(t,e,n){var i=t.ns.prefix,a=e.split("#"),c=Zo(a[0],i),d=Zo(a[1],c.prefix).name,h=this.propertiesByName[d];if(h)this.replaceProperty(h,t,n);else throw new Error("refined property <"+d+"> not found");delete t.redefines};al.prototype.addNamedProperty=function(t,e){var n=t.ns,i=this.propertiesByName;e&&(this.assertNotDefined(t,n.name),this.assertNotDefined(t,n.localName)),i[n.name]=i[n.localName]=t};al.prototype.removeNamedProperty=function(t){var e=t.ns,n=this.propertiesByName;delete n[e.name],delete n[e.localName]};al.prototype.setBodyProperty=function(t,e){if(e&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+t.ns.name+">)");this.bodyProperty=t};al.prototype.setIdProperty=function(t,e){if(e&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+t.ns.name+">)");this.idProperty=t};al.prototype.assertNotTrait=function(t){if((t.extends||[]).length)throw new Error(`cannot create <${t.name}> extending <${t.extends}>`)};al.prototype.assertNotDefined=function(t,e){var n=t.name,i=this.propertiesByName[n];if(i)throw new Error("property <"+n+"> already defined; override of <"+i.definedBy.ns.name+"#"+i.ns.name+"> by <"+t.definedBy.ns.name+"#"+t.ns.name+"> not allowed without redefines")};al.prototype.hasProperty=function(t){return this.propertiesByName[t]};al.prototype.addTrait=function(t,e){e&&this.assertNotTrait(t);var n=this.allTypesByName,i=this.allTypes,a=t.name;a in n||(J(t.properties,ai(function(c){c=le({},c,{name:c.ns.localName,inherited:e}),Object.defineProperty(c,"definedBy",{value:t});var d=c.replaces,h=c.redefines;d||h?this.redefineProperty(c,d||h,d):(c.isBody&&this.setBodyProperty(c),c.isId&&this.setIdProperty(c),this.addProperty(c))},this)),i.push(t),n[a]=t)};function Qp(t,e){this.packageMap={},this.typeMap={},this.packages=[],this.properties=e,J(t,ai(this.registerPackage,this))}Qp.prototype.getPackage=function(t){return this.packageMap[t]};Qp.prototype.getPackages=function(){return this.packages};Qp.prototype.registerPackage=function(t){t=le({},t);var e=this.packageMap;Pfe(e,t,"prefix"),Pfe(e,t,"uri"),J(t.types,ai(function(n){this.registerType(n,t)},this)),e[t.uri]=e[t.prefix]=t,this.packages.push(t)};Qp.prototype.registerType=function(t,e){t=le({},t,{superClass:(t.superClass||[]).slice(),extends:(t.extends||[]).slice(),properties:(t.properties||[]).slice(),meta:le(t.meta||{})});var n=Zo(t.name,e.prefix),i=n.name,a={};J(t.properties,ai(function(c){var d=Zo(c.name,n.prefix),h=d.name;iB(c.type)||(c.type=Zo(c.type,d.prefix).name),le(c,{ns:d,name:h}),a[h]=c},this)),le(t,{ns:n,name:i,propertiesByName:a}),J(t.extends,ai(function(c){var d=Zo(c,n.prefix),h=this.typeMap[d.name];h.traits=h.traits||[],h.traits.push(i)},this)),this.definePackage(t,e),this.typeMap[i]=t};Qp.prototype.mapTypes=function(t,e,n){var i=iB(t.name)?{name:t.name}:this.typeMap[t.name],a=this;function c(m,g){var b=Zo(m,iB(m)?"":t.prefix);a.mapTypes(b,e,g)}function d(m){return c(m,!0)}function h(m){return c(m,!1)}if(!i)throw new Error("unknown type <"+t.name+">");J(i.superClass,n?d:h),e(i,!n),J(i.traits,d)};Qp.prototype.getEffectiveDescriptor=function(t){var e=Zo(t),n=new al(e);this.mapTypes(e,function(a,c){n.addTrait(a,c)});var i=n.build();return this.definePackage(i,i.allTypes[i.allTypes.length-1].$pkg),i};Qp.prototype.definePackage=function(t,e){this.properties.define(t,"$pkg",{value:e})};function Pfe(t,e,n){var i=e[n];if(i in t)throw new Error("package with "+n+" <"+i+"> already defined")}function Ig(t){this.model=t}Ig.prototype.set=function(t,e,n){if(!kr(e)||!e.length)throw new TypeError("property name must be a non-empty string");var i=this.getProperty(t,e),a=i&&i.name;Ftt(n)?i?delete t[a]:delete t.$attrs[oB(e)]:i?a in t?t[a]=n:Afe(t,i,n):t.$attrs[oB(e)]=n};Ig.prototype.get=function(t,e){var n=this.getProperty(t,e);if(!n)return t.$attrs[oB(e)];var i=n.name;return!t[i]&&n.isMany&&Afe(t,n,[]),t[i]};Ig.prototype.define=function(t,e,n){if(!n.writable){var i=n.value;n=le({},n,{get:function(){return i}}),delete n.value}Object.defineProperty(t,e,n)};Ig.prototype.defineDescriptor=function(t,e){this.define(t,"$descriptor",{value:e})};Ig.prototype.defineModel=function(t,e){this.define(t,"$model",{value:e})};Ig.prototype.getProperty=function(t,e){var n=this.model,i=n.getPropertyDescriptor(t,e);if(i)return i;if(e.includes(":"))return null;let a=n.config.strict;if(typeof a<"u"){let c=new TypeError(`unknown property <${e}> on <${t.$type}>`);if(a)throw c;typeof console<"u"&&console.warn(c)}return null};function Ftt(t){return typeof t>"u"}function Afe(t,e,n){Object.defineProperty(t,e.name,{enumerable:!e.isReference,writable:!0,value:n,configurable:!0})}function oB(t){return t.replace(/^:/,"")}function Ea(t,e={}){this.properties=new Ig(this),this.factory=new Ife(this,this.properties),this.registry=new Qp(t,this.properties),this.typeCache={},this.config=e}Ea.prototype.create=function(t,e){var n=this.getType(t);if(!n)throw new Error("unknown type <"+t+">");return new n(e)};Ea.prototype.getType=function(t){var e=this.typeCache,n=kr(t)?t:t.ns.name,i=e[n];return i||(t=this.registry.getEffectiveDescriptor(n),i=e[n]=this.factory.createType(t)),i};Ea.prototype.createAny=function(t,e,n){var i=Zo(t),a={$type:t,$instanceOf:function(d){return d===this.$type},get:function(d){return this[d]},set:function(d,h){_8(this,[d],h)}},c={name:t,isGeneric:!0,ns:{prefix:i.prefix,localName:i.localName,uri:e}};return this.properties.defineDescriptor(a,c),this.properties.defineModel(a,this),this.properties.define(a,"get",{enumerable:!1,writable:!0}),this.properties.define(a,"set",{enumerable:!1,writable:!0}),this.properties.define(a,"$parent",{enumerable:!1,writable:!0}),this.properties.define(a,"$instanceOf",{enumerable:!1,writable:!0}),J(n,function(d,h){Un(d)&&d.value!==void 0?a[d.name]=d.value:a[h]=d}),a};Ea.prototype.getPackage=function(t){return this.registry.getPackage(t)};Ea.prototype.getPackages=function(){return this.registry.getPackages()};Ea.prototype.getElementDescriptor=function(t){return t.$descriptor};Ea.prototype.hasType=function(t,e){e===void 0&&(e=t,t=this);var n=t.$model.getElementDescriptor(t);return e in n.allTypesByName};Ea.prototype.getPropertyDescriptor=function(t,e){return this.getElementDescriptor(t).propertiesByName[e]};Ea.prototype.getTypeDescriptor=function(t){return this.registry.typeMap[t]};var Rfe=String.fromCharCode,Btt=Object.prototype.hasOwnProperty,jtt=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/ig,lw={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(lw).forEach(function(t){lw[t.toUpperCase()]=lw[t]});function Vtt(t,e,n,i){return i?Btt.call(lw,i)?lw[i]:"&"+i+";":Rfe(e||parseInt(n,16))}function Mg(t){return t.length>3&&t.indexOf("&")!==-1?t.replace(jtt,Vtt):t}var ztt="http://www.w3.org/2001/XMLSchema-instance",Htt="xsi",Lfe="xsi:type",$fe="non-whitespace outside of root node";function h2(t){return new Error(t)}function Nfe(t){return"missing namespace for prefix <"+t+">"}function j8(t){return{get:t,enumerable:!0}}function Utt(t){var e={},n;for(n in t)e[n]=t[n];return e}function lB(t){return t+"$uri"}function qtt(t){var e={},n,i;for(n in t)i=t[n],e[i]=i,e[lB(i)]=n;return e}function Ffe(){return{line:0,column:0}}function Wtt(t){throw t}function cB(t){if(!this)return new cB(t);var e=t&&t.proxy,n,i,a,c,d=Wtt,h,m,g,b,E=Ffe,_=!1,S=!1,D=null,k=!1,I;function R(L){L instanceof Error||(L=h2(L)),D=L,d(L,E)}function $(L){h&&(L instanceof Error||(L=h2(L)),h(L,E))}this.on=function(L,V){if(typeof V!="function")throw h2("required args <name, cb>");switch(L){case"openTag":i=V;break;case"text":n=V;break;case"closeTag":a=V;break;case"error":d=V;break;case"warn":h=V;break;case"cdata":c=V;break;case"attention":b=V;break;case"question":g=V;break;case"comment":m=V;break;default:throw h2("unsupported event: "+L)}return this},this.ns=function(L){if(typeof L>"u"&&(L={}),typeof L!="object")throw h2("required args <nsMap={}>");var V={},G;for(G in L)V[G]=L[G];return V[ztt]=Htt,S=!0,I=V,this},this.parse=function(L){if(typeof L!="string")throw h2("required args <xml=string>");return D=null,F(L),E=Ffe,k=!1,D},this.stop=function(){k=!0};function F(L){var V=S?[]:null,G=S?qtt(I):null,re,ee=[],oe=0,pe=!1,ge=!1,ce=0,he=0,Se,Qe,je,xe,_t,ne,B,ue,Ee,de="",_e=0,Ie;function tt(){if(Ie!==null)return Ie;var vt,an,Bn,ci=S&&G.xmlns,Ji=S&&_?[]:null,An=_e,gr=de,ti=gr.length,bl,ni,Tr,Fo,Mt,xl={},El={},ks,gt,wn;e:for(;An<ti;An++)if(ks=!1,gt=gr.charCodeAt(An),!(gt===32||gt<14&&gt>8)){for((gt<65||gt>122||gt>90&&gt<97)&&gt!==95&&gt!==58&&($("illegal first char attribute name"),ks=!0),wn=An+1;wn<ti;wn++)if(gt=gr.charCodeAt(wn),!(gt>96&&gt<123||gt>64&&gt<91||gt>47&&gt<59||gt===46||gt===45||gt===95)){if(gt===32||gt<14&&gt>8){$("missing attribute value"),An=wn;continue e}if(gt===61)break;$("illegal attribute name char"),ks=!0}if(Mt=gr.substring(An,wn),Mt==="xmlns:xmlns"&&($("illegal declaration of xmlns"),ks=!0),gt=gr.charCodeAt(wn+1),gt===34)wn=gr.indexOf('"',An=wn+2),wn===-1&&(wn=gr.indexOf("'",An),wn!==-1&&($("attribute value quote missmatch"),ks=!0));else if(gt===39)wn=gr.indexOf("'",An=wn+2),wn===-1&&(wn=gr.indexOf('"',An),wn!==-1&&($("attribute value quote missmatch"),ks=!0));else for($("missing attribute value quotes"),ks=!0,wn=wn+1;wn<ti&&(gt=gr.charCodeAt(wn+1),!(gt===32||gt<14&&gt>8));wn++);for(wn===-1&&($("missing closing quotes"),wn=ti,ks=!0),ks||(Tr=gr.substring(An,wn)),An=wn;wn+1<ti&&(gt=gr.charCodeAt(wn+1),!(gt===32||gt<14&&gt>8));wn++)An===wn&&($("illegal character after attribute end"),ks=!0);if(An=wn+1,ks)continue e;if(Mt in El){$("attribute <"+Mt+"> already defined");continue}if(El[Mt]=!0,!S){xl[Mt]=Tr;continue}if(_){if(ni=Mt==="xmlns"?"xmlns":Mt.charCodeAt(0)===120&&Mt.substr(0,6)==="xmlns:"?Mt.substr(6):null,ni!==null){if(vt=Mg(Tr),an=lB(ni),Fo=I[vt],!Fo){if(ni==="xmlns"||an in G&&G[an]!==vt)do Fo="ns"+oe++;while(typeof G[Fo]<"u");else Fo=ni;I[vt]=Fo}G[ni]!==Fo&&(bl||(G=Utt(G),bl=!0),G[ni]=Fo,ni==="xmlns"&&(G[lB(Fo)]=vt,ci=Fo),G[an]=vt),xl[Mt]=Tr;continue}Ji.push(Mt,Tr);continue}if(gt=Mt.indexOf(":"),gt===-1){xl[Mt]=Tr;continue}if(!(Bn=G[Mt.substring(0,gt)])){$(Nfe(Mt.substring(0,gt)));continue}Mt=ci===Bn?Mt.substr(gt+1):Bn+Mt.substr(gt),Mt===Lfe&&(gt=Tr.indexOf(":"),gt!==-1?(Bn=Tr.substring(0,gt),Bn=G[Bn]||Bn,Tr=Bn+Tr.substring(gt)):Tr=ci+":"+Tr),xl[Mt]=Tr}if(_)for(An=0,ti=Ji.length;An<ti;An++){if(Mt=Ji[An++],Tr=Ji[An],gt=Mt.indexOf(":"),gt!==-1){if(!(Bn=G[Mt.substring(0,gt)])){$(Nfe(Mt.substring(0,gt)));continue}Mt=ci===Bn?Mt.substr(gt+1):Bn+Mt.substr(gt),Mt===Lfe&&(gt=Tr.indexOf(":"),gt!==-1?(Bn=Tr.substring(0,gt),Bn=G[Bn]||Bn,Tr=Bn+Tr.substring(gt)):Tr=ci+":"+Tr)}xl[Mt]=Tr}return Ie=xl}function rn(){for(var vt=/(\r\n|\r|\n)/g,an=0,Bn=0,ci=0,Ji=he,An,gr;ce>=ci&&(An=vt.exec(L),!(!An||(Ji=An[0].length+An.index,Ji>ce)));)an+=1,ci=Ji;return ce==-1?(Bn=Ji,gr=L.substring(he)):he===0?gr=L.substring(he,ce):(Bn=ce-ci,gr=he==-1?L.substring(ce):L.substring(ce,he+1)),{data:gr,line:an,column:Bn}}for(E=rn,e&&(Ee=Object.create({},{name:j8(function(){return B}),originalName:j8(function(){return ue}),attrs:j8(tt),ns:j8(function(){return G})}));he!==-1;){if(L.charCodeAt(he)===60?ce=he:ce=L.indexOf("<",he),ce===-1){if(ee.length)return R("unexpected end of file");if(he===0)return R("missing start tag");he<L.length&&L.substring(he).trim()&&$($fe);return}if(he!==ce){if(ee.length){if(n&&(n(L.substring(he,ce),Mg,E),k))return}else if(L.substring(he,ce).trim()&&($($fe),k))return}if(xe=L.charCodeAt(ce+1),xe===33){if(je=L.charCodeAt(ce+2),je===91&&L.substr(ce+3,6)==="CDATA["){if(he=L.indexOf("]]>",ce),he===-1)return R("unclosed cdata");if(c&&(c(L.substring(ce+9,he),E),k))return;he+=3;continue}if(je===45&&L.charCodeAt(ce+3)===45){if(he=L.indexOf("-->",ce),he===-1)return R("unclosed comment");if(m&&(m(L.substring(ce+4,he),Mg,E),k))return;he+=3;continue}}if(xe===63){if(he=L.indexOf("?>",ce),he===-1)return R("unclosed question");if(g&&(g(L.substring(ce,he+2),E),k))return;he+=2;continue}for(Se=ce+1;;Se++){if(_t=L.charCodeAt(Se),isNaN(_t))return he=-1,R("unclosed tag");if(_t===34)je=L.indexOf('"',Se+1),Se=je!==-1?je:Se;else if(_t===39)je=L.indexOf("'",Se+1),Se=je!==-1?je:Se;else if(_t===62){he=Se;break}}if(xe===33){if(b&&(b(L.substring(ce,he+1),Mg,E),k))return;he+=1;continue}if(Ie={},xe===47){if(pe=!1,ge=!0,!ee.length)return R("missing open tag");if(Se=B=ee.pop(),je=ce+2+Se.length,L.substring(ce+2,je)!==Se)return R("closing tag mismatch");for(;je<he;je++)if(xe=L.charCodeAt(je),!(xe===32||xe>8&&xe<14))return R("close tag")}else{if(L.charCodeAt(he-1)===47?(Se=B=L.substring(ce+1,he-1),pe=!0,ge=!0):(Se=B=L.substring(ce+1,he),pe=!0,ge=!1),!(xe>96&&xe<123||xe>64&&xe<91||xe===95||xe===58))return R("illegal first char nodeName");for(je=1,Qe=Se.length;je<Qe;je++)if(xe=Se.charCodeAt(je),!(xe>96&&xe<123||xe>64&&xe<91||xe>47&&xe<59||xe===45||xe===95||xe==46)){if(xe===32||xe<14&&xe>8){B=Se.substring(0,je),Ie=null;break}return R("invalid nodeName")}ge||ee.push(B)}if(S){if(re=G,pe&&(ge||V.push(re),Ie===null&&(_=Se.indexOf("xmlns",je)!==-1)&&(_e=je,de=Se,tt(),_=!1)),ue=B,xe=B.indexOf(":"),xe!==-1){if(ne=G[B.substring(0,xe)],!ne)return R("missing namespace on <"+ue+">");B=B.substr(xe+1)}else ne=G.xmlns;ne&&(B=ne+":"+B)}if(pe&&(_e=je,de=Se,i&&(e?i(Ee,Mg,ge,E):i(B,tt,Mg,ge,E),k)))return;if(ge){if(a&&(a(e?Ee:B,Mg,pe,E),k))return;S&&(pe?G=re:G=V.pop())}he+=1}}}function Bfe(t){return t.xml&&t.xml.tagAlias==="lowerCase"}var Gtt={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},V8="xsi:type";function jfe(t){return t.xml&&t.xml.serialize}function Vfe(t){return jfe(t)===V8}function Qtt(t){return jfe(t)==="property"}function Ytt(t){return t.charAt(0).toUpperCase()+t.slice(1)}function zfe(t,e){return Bfe(e)?t.prefix+":"+Ytt(t.localName):t.name}function Xtt(t,e){var n=t.name,i=t.localName,a=e.xml&&e.xml.typePrefix;return a&&i.indexOf(a)===0?t.prefix+":"+i.slice(a.length):n}function Ktt(t,e){var n=Zo(t),i=e.getPackage(n.prefix);return Xtt(n,i)}function Yp(t){return new Error(t)}function $f(t){return t.$descriptor}function Ztt(t){le(this,t),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw Yp("expected element");var n=this.elementsById,i=$f(e),a=i.idProperty,c;if(a&&(c=e.get(a.name),c)){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(c))throw new Error("illegal ID <"+c+">");if(n[c])throw Yp("duplicate ID <"+c+">");n[c]=e}},this.addWarning=function(e){this.warnings.push(e)}}function cw(){}cw.prototype.handleEnd=function(){};cw.prototype.handleText=function(){};cw.prototype.handleNode=function(){};function uB(){}uB.prototype=Object.create(cw.prototype);uB.prototype.handleNode=function(){return this};function m2(){}m2.prototype=Object.create(cw.prototype);m2.prototype.handleText=function(t){this.body=(this.body||"")+t};function uw(t,e){this.property=t,this.context=e}uw.prototype=Object.create(m2.prototype);uw.prototype.handleNode=function(t){if(this.element)throw Yp("expected no sub nodes");return this.element=this.createReference(t),this};uw.prototype.handleEnd=function(){this.element.id=this.body};uw.prototype.createReference=function(t){return{property:this.property.ns.name,id:""}};function dB(t,e){this.element=e,this.propertyDesc=t}dB.prototype=Object.create(m2.prototype);dB.prototype.handleEnd=function(){var t=this.body||"",e=this.element,n=this.propertyDesc;t=B8(n.type,t),n.isMany?e.get(n.name).push(t):e.set(n.name,t)};function z8(){}z8.prototype=Object.create(m2.prototype);z8.prototype.handleNode=function(t){var e=this,n=this.element;return n?e=this.handleChild(t):(n=this.element=this.createElement(t),this.context.addElement(n)),e};function ws(t,e,n){this.model=t,this.type=t.getType(e),this.context=n}ws.prototype=Object.create(z8.prototype);ws.prototype.addReference=function(t){this.context.addReference(t)};ws.prototype.handleText=function(t){var e=this.element,n=$f(e),i=n.bodyProperty;if(!i)throw Yp("unexpected body text <"+t+">");m2.prototype.handleText.call(this,t)};ws.prototype.handleEnd=function(){var t=this.body,e=this.element,n=$f(e),i=n.bodyProperty;i&&t!==void 0&&(t=B8(i.type,t),e.set(i.name,t))};ws.prototype.createElement=function(t){var e=t.attributes,n=this.type,i=$f(n),a=this.context,c=new n({}),d=this.model,h;return J(e,function(m,g){var b=i.propertiesByName[g],E;b&&b.isReference?b.isMany?(E=m.split(" "),J(E,function(_){a.addReference({element:c,property:b.ns.name,id:_})})):a.addReference({element:c,property:b.ns.name,id:m}):(b?m=B8(b.type,m):g!=="xmlns"&&(h=Zo(g,i.ns.prefix),d.getPackage(h.prefix)&&a.addWarning({message:"unknown attribute <"+g+">",element:c,property:g,value:m})),c.set(g,m))}),c};ws.prototype.getPropertyForNode=function(t){var e=t.name,n=Zo(e),i=this.type,a=this.model,c=$f(i),d=n.name,h=c.propertiesByName[d],m,g;if(h&&!h.isAttr)return Vfe(h)&&(m=t.attributes[V8],m)?(m=Ktt(m,a),g=a.getType(m),le({},h,{effectiveType:$f(g).name})):h;var b=a.getPackage(n.prefix);if(b){if(m=zfe(n,b),g=a.getType(m),h=st(c.properties,function(E){return!E.isVirtual&&!E.isReference&&!E.isAttribute&&g.hasType(E.type)}),h)return le({},h,{effectiveType:$f(g).name})}else if(h=st(c.properties,function(E){return!E.isReference&&!E.isAttribute&&E.type==="Element"}),h)return h;throw Yp("unrecognized element <"+n.name+">")};ws.prototype.toString=function(){return"ElementDescriptor["+$f(this.type).name+"]"};ws.prototype.valueHandler=function(t,e){return new dB(t,e)};ws.prototype.referenceHandler=function(t){return new uw(t,this.context)};ws.prototype.handler=function(t){return t==="Element"?new p2(this.model,t,this.context):new ws(this.model,t,this.context)};ws.prototype.handleChild=function(t){var e,n,i,a;if(e=this.getPropertyForNode(t),i=this.element,n=e.effectiveType||e.type,aB(n))return this.valueHandler(e,i);e.isReference?a=this.referenceHandler(e).handleNode(t):a=this.handler(n).handleNode(t);var c=a.element;return c!==void 0&&(e.isMany?i.get(e.name).push(c):i.set(e.name,c),e.isReference?(le(c,{element:i}),this.context.addReference(c)):c.$parent=i),a};function fB(t,e,n){ws.call(this,t,e,n)}fB.prototype=Object.create(ws.prototype);fB.prototype.createElement=function(t){var e=t.name,n=Zo(e),i=this.model,a=this.type,c=i.getPackage(n.prefix),d=c&&zfe(n,c)||e;if(!a.hasType(d))throw Yp("unexpected element <"+t.originalName+">");return ws.prototype.createElement.call(this,t)};function p2(t,e,n){this.model=t,this.context=n}p2.prototype=Object.create(z8.prototype);p2.prototype.createElement=function(t){var e=t.name,n=Zo(e),i=n.prefix,a=t.ns[i+"$uri"],c=t.attributes;return this.model.createAny(e,a,c)};p2.prototype.handleChild=function(t){var e=new p2(this.model,"Element",this.context).handleNode(t),n=this.element,i=e.element,a;return i!==void 0&&(a=n.$children=n.$children||[],a.push(i),i.$parent=n),e};p2.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)};function H8(t){t instanceof Ea&&(t={model:t}),le(this,{lax:!1},t)}H8.prototype.fromXML=function(t,e,n){var i=e.rootHandler;e instanceof ws?(i=e,e={}):typeof e=="string"?(i=this.handler(e),e={}):typeof i=="string"&&(i=this.handler(i));var a=this.model,c=this.lax,d=new Ztt(le({},e,{rootHandler:i})),h=new cB({proxy:!0}),m=Jtt();i.context=d,m.push(i);function g(V,G,re){var ee=G(),oe=ee.line,pe=ee.column,ge=ee.data;ge.charAt(0)==="<"&&ge.indexOf(" ")!==-1&&(ge=ge.slice(0,ge.indexOf(" "))+">");var ce="unparsable content "+(ge?ge+" ":"")+`detected
	line: `+oe+`
	column: `+pe+`
	nested error: `+V.message;if(re)return d.addWarning({message:ce,error:V}),!0;throw Yp(ce)}function b(V,G){return g(V,G,!0)}function E(){var V=d.elementsById,G=d.references,re,ee;for(re=0;ee=G[re];re++){var oe=ee.element,pe=V[ee.id],ge=$f(oe).propertiesByName[ee.property];if(pe||d.addWarning({message:"unresolved reference <"+ee.id+">",element:ee.element,property:ee.property,value:ee.id}),ge.isMany){var ce=oe.get(ge.name),he=ce.indexOf(ee);he===-1&&(he=ce.length),pe?ce[he]=pe:ce.splice(he,1)}else oe.set(ge.name,pe)}}function _(){m.pop().handleEnd()}var S=/^<\?xml /i,D=/ encoding="([^"]+)"/i,k=/^utf-8$/i;function I(V){if(S.test(V)){var G=D.exec(V),re=G&&G[1];!re||k.test(re)||d.addWarning({message:"unsupported document encoding <"+re+">, falling back to UTF-8"})}}function R(V,G){var re=m.peek();try{m.push(re.handleNode(V))}catch(ee){g(ee,G,c)&&m.push(new uB)}}function $(V,G){try{m.peek().handleText(V)}catch(re){b(re,G)}}function F(V,G){V.trim()&&$(V,G)}var L=a.getPackages().reduce(function(V,G){return V[G.uri]=G.prefix,V},{"http://www.w3.org/XML/1998/namespace":"xml"});return h.ns(L).on("openTag",function(V,G,re,ee){var oe=V.attrs||{},pe=Object.keys(oe).reduce(function(ce,he){var Se=G(oe[he]);return ce[he]=Se,ce},{}),ge={name:V.name,originalName:V.originalName,attributes:pe,ns:V.ns};R(ge,ee)}).on("question",I).on("closeTag",_).on("cdata",$).on("text",function(V,G,re){F(G(V),re)}).on("error",g).on("warn",b),new Promise(function(V,G){var re;try{h.parse(t),E()}catch(ce){re=ce}var ee=i.element;!re&&!ee&&(re=Yp("failed to parse document as <"+i.type.$descriptor.name+">"));var oe=d.warnings,pe=d.references,ge=d.elementsById;return re?(re.warnings=oe,G(re)):V({rootElement:ee,elementsById:ge,references:pe,warnings:oe})})};H8.prototype.handler=function(t){return new fB(this.model,t)};function Jtt(){var t=[];return Object.defineProperty(t,"peek",{value:function(){return this[this.length-1]}}),t}var ent=`<?xml version="1.0" encoding="UTF-8"?>
`,tnt=/<|>|'|"|&|\n\r|\n/g,Hfe=/<|>|&/g;function nnt(t){var e={},n={},i={},a=[],c=[];this.byUri=function(d){return n[d]||t&&t.byUri(d)},this.add=function(d,h){n[d.uri]=d,h?a.push(d):c.push(d),this.mapPrefix(d.prefix,d.uri)},this.uriByPrefix=function(d){return e[d||"xmlns"]},this.mapPrefix=function(d,h){e[d||"xmlns"]=h},this.getNSKey=function(d){return d.prefix!==void 0?d.uri+"|"+d.prefix:d.uri},this.logUsed=function(d){var h=d.uri,m=this.getNSKey(d);i[m]=this.byUri(h),t&&t.logUsed(d)},this.getUsed=function(d){function h(b){var E=m.getNSKey(b);return i[E]}var m=this,g=[].concat(a,c);return g.filter(h)}}function rnt(t){return t.charAt(0).toLowerCase()+t.slice(1)}function int(t,e){return Bfe(e)?rnt(t):t}function Ufe(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function qfe(t){return kr(t)?t:(t.prefix?t.prefix+":":"")+t.localName}function ont(t){return t.getUsed().filter(function(e){return e.prefix!=="xml"}).map(function(e){var n="xmlns"+(e.prefix?":"+e.prefix:"");return{name:n,value:e.uri}})}function snt(t,e){return e.isGeneric?le({localName:e.ns.localName},t):le({localName:int(e.ns.localName,e.$pkg)},t)}function ant(t,e){return le({localName:e.ns.localName},t)}function lnt(t){var e=t.$descriptor;return Ze(e.properties,function(n){var i=n.name;if(n.isVirtual||!Ui(t,i))return!1;var a=t[i];return a===n.default||a===null?!1:n.isMany?a.length:!0})}var cnt={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},unt={"<":"lt",">":"gt","&":"amp"};function Wfe(t,e,n){return t=kr(t)?t:""+t,t.replace(e,function(i){return"&"+n[i]+";"})}function dnt(t){return Wfe(t,tnt,cnt)}function fnt(t){return Wfe(t,Hfe,unt)}function hnt(t){return Ze(t,function(e){return e.isAttr})}function pnt(t){return Ze(t,function(e){return!e.isAttr})}function hB(t){this.tagName=t}hB.prototype.build=function(t){return this.element=t,this};hB.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()};function Ag(){}Ag.prototype.serializeValue=Ag.prototype.serializeTo=function(t){t.append(this.escape?fnt(this.value):this.value)};Ag.prototype.build=function(t,e){return this.value=e,t.type==="String"&&e.search(Hfe)!==-1&&(this.escape=!0),this};function pB(t){this.tagName=t}Ufe(pB,Ag);pB.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"),this.serializeValue(t),t.append("</"+this.tagName+">").appendNewLine()};function Fr(t,e){this.body=[],this.attrs=[],this.parent=t,this.propertyDescriptor=e}Fr.prototype.build=function(t){this.element=t;var e=t.$descriptor,n=this.propertyDescriptor,i,a,c=e.isGeneric;return c?i=this.parseGeneric(t):i=this.parseNsAttributes(t),n?this.ns=this.nsPropertyTagName(n):this.ns=this.nsTagName(e),this.tagName=this.addTagName(this.ns),c||(a=lnt(t),this.parseAttributes(hnt(a)),this.parseContainments(pnt(a))),this.parseGenericAttributes(t,i),this};Fr.prototype.nsTagName=function(t){var e=this.logNamespaceUsed(t.ns);return snt(e,t)};Fr.prototype.nsPropertyTagName=function(t){var e=this.logNamespaceUsed(t.ns);return ant(e,t)};Fr.prototype.isLocalNs=function(t){return t.uri===this.ns.uri};Fr.prototype.nsAttributeName=function(t){var e;if(kr(t)?e=Zo(t):e=t.ns,t.inherited)return{localName:e.localName};var n=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:e.localName}:le({localName:e.localName},n)};Fr.prototype.parseGeneric=function(t){var e=this,n=this.body,i=[];return J(t,function(a,c){var d;c==="$body"?n.push(new Ag().build({type:"String"},a)):c==="$children"?J(a,function(h){n.push(new Fr(e).build(h))}):c.indexOf("$")!==0&&(d=e.parseNsAttribute(t,c,a),d&&i.push({name:c,value:a}))}),i};Fr.prototype.parseNsAttribute=function(t,e,n){var i=t.$model,a=Zo(e),c;if(a.prefix==="xmlns"&&(c={prefix:a.localName,uri:n}),!a.prefix&&a.localName==="xmlns"&&(c={uri:n}),!c)return{name:e,value:n};if(i&&i.getPackage(n))this.logNamespace(c,!0,!0);else{var d=this.logNamespaceUsed(c,!0);this.getNamespaces().logUsed(d)}};Fr.prototype.parseNsAttributes=function(t,e){var n=this,i=t.$attrs,a=[];return J(i,function(c,d){var h=n.parseNsAttribute(t,d,c);h&&a.push(h)}),a};Fr.prototype.parseGenericAttributes=function(t,e){var n=this;J(e,function(i){if(i.name!==V8)try{n.addAttribute(n.nsAttributeName(i.name),i.value)}catch(a){console.warn("missing namespace information for ",i.name,"=",i.value,"on",t,a)}})};Fr.prototype.parseContainments=function(t){var e=this,n=this.body,i=this.element;J(t,function(a){var c=i.get(a.name),d=a.isReference,h=a.isMany;if(h||(c=[c]),a.isBody)n.push(new Ag().build(a,c[0]));else if(aB(a.type))J(c,function(b){n.push(new pB(e.addTagName(e.nsPropertyTagName(a))).build(a,b))});else if(d)J(c,function(b){n.push(new hB(e.addTagName(e.nsPropertyTagName(a))).build(b))});else{var m=Vfe(a),g=Qtt(a);J(c,function(b){var E;m?E=new U8(e,a):g?E=new Fr(e,a):E=new Fr(e),n.push(E.build(b))})}})};Fr.prototype.getNamespaces=function(t){var e=this.namespaces,n=this.parent,i;return e||(i=n&&n.getNamespaces(),t||!i?this.namespaces=e=new nnt(i):e=i),e};Fr.prototype.logNamespace=function(t,e,n){var i=this.getNamespaces(n),a=t.uri,c=t.prefix,d=i.byUri(a);return(!d||n)&&i.add(t,e),i.mapPrefix(c,a),t};Fr.prototype.logNamespaceUsed=function(t,e){var n=this.element,i=n.$model,a=this.getNamespaces(e),c=t.prefix,d=t.uri,h,m,g;if(!c&&!d)return{localName:t.localName};if(g=Gtt[c]||i&&(i.getPackage(c)||{}).uri,d=d||g||a.uriByPrefix(c),!d)throw new Error("no namespace uri given for prefix <"+c+">");if(t=a.byUri(d),!t){for(h=c,m=1;a.uriByPrefix(h);)h=c+"_"+m++;t=this.logNamespace({prefix:h,uri:d},g===d)}return c&&a.mapPrefix(c,d),t};Fr.prototype.parseAttributes=function(t){var e=this,n=this.element;J(t,function(i){var a=n.get(i.name);if(i.isReference)if(!i.isMany)a=a.id;else{var c=[];J(a,function(d){c.push(d.id)}),a=c.join(" ")}e.addAttribute(e.nsAttributeName(i),a)})};Fr.prototype.addTagName=function(t){var e=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(e),qfe(t)};Fr.prototype.addAttribute=function(t,e){var n=this.attrs;kr(e)&&(e=dnt(e));var i=Yl(n,function(c){return c.name.localName===t.localName&&c.name.uri===t.uri&&c.name.prefix===t.prefix}),a={name:t,value:e};i!==-1?n.splice(i,1,a):n.push(a)};Fr.prototype.serializeAttributes=function(t){var e=this.attrs,n=this.namespaces;n&&(e=ont(n).concat(e)),J(e,function(i){t.append(" ").append(qfe(i.name)).append('="').append(i.value).append('"')})};Fr.prototype.serializeTo=function(t){var e=this.body[0],n=e&&e.constructor!==Ag;t.appendIndent().append("<"+this.tagName),this.serializeAttributes(t),t.append(e?">":" />"),e&&(n&&t.appendNewLine().indent(),J(this.body,function(i){i.serializeTo(t)}),n&&t.unindent().appendIndent(),t.append("</"+this.tagName+">")),t.appendNewLine()};function U8(t,e){Fr.call(this,t,e)}Ufe(U8,Fr);U8.prototype.parseNsAttributes=function(t){var e=Fr.prototype.parseNsAttributes.call(this,t),n=t.$descriptor;if(n.name===this.propertyDescriptor.type)return e;var i=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var a=t.$model.getPackage(i.uri),c=a.xml&&a.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(V8),(i.prefix?i.prefix+":":"")+c+n.ns.localName),e};U8.prototype.isLocalNs=function(t){return t.uri===(this.typeNs||this.ns).uri};function mnt(){this.value="",this.write=function(t){this.value+=t}}function gnt(t,e){var n=[""];this.append=function(i){return t.write(i),this},this.appendNewLine=function(){return e&&t.write(`
`),this},this.appendIndent=function(){return e&&t.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function Gfe(t){t=le({format:!1,preamble:!0},t||{});function e(n,i){var a=i||new mnt,c=new gnt(a,t.format);if(t.preamble&&c.append(ent),new Fr().build(n).serializeTo(c),!i)return a.value}return{toXML:e}}function q8(t,e){Ea.call(this,t,e)}q8.prototype=Object.create(Ea.prototype);q8.prototype.fromXML=function(t,e,n){kr(e)||(n=e,e="bpmn:Definitions");var i=new H8(le({model:this,lax:!0},n)),a=i.handler(e);return i.fromXML(t,a)};q8.prototype.toXML=function(t,e){var n=new Gfe(e);return new Promise(function(i,a){try{var c=n.toXML(t);return i({xml:c})}catch(d){return a(d)}})};var vnt="BPMN20",ynt="http://www.omg.org/spec/BPMN/20100524/MODEL",bnt="bpmn",xnt=[],Ent=[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],wnt=[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],_nt={tagAlias:"lowerCase",typePrefix:"t"},Cnt={name:vnt,uri:ynt,prefix:bnt,associations:xnt,types:Ent,enumerations:wnt,xml:_nt},Snt="BPMNDI",Ont="http://www.omg.org/spec/BPMN/20100524/DI",Dnt="bpmndi",Tnt=[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],knt=[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],Pnt=[],Int={name:Snt,uri:Ont,prefix:Dnt,types:Tnt,enumerations:knt,associations:Pnt},Mnt="DC",Ant="http://www.omg.org/spec/DD/20100524/DC",Rnt="dc",Lnt=[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],$nt=[],Nnt={name:Mnt,uri:Ant,prefix:Rnt,types:Lnt,associations:$nt},Fnt="DI",Bnt="http://www.omg.org/spec/DD/20100524/DI",jnt="di",Vnt=[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],znt=[],Hnt={tagAlias:"lowerCase"},Unt={name:Fnt,uri:Bnt,prefix:jnt,types:Vnt,associations:znt,xml:Hnt},qnt="bpmn.io colors for BPMN",Wnt="http://bpmn.io/schema/bpmn/biocolor/1.0",Gnt="bioc",Qnt=[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],Ynt=[],Xnt=[],Knt={name:qnt,uri:Wnt,prefix:Gnt,types:Qnt,enumerations:Ynt,associations:Xnt},Znt="BPMN in Color",Jnt="http://www.omg.org/spec/BPMN/non-normative/color/1.0",ert="color",trt=[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],nrt=[],rrt=[],irt={name:Znt,uri:Jnt,prefix:ert,types:trt,enumerations:nrt,associations:rrt},ort={bpmn:Cnt,bpmndi:Int,dc:Nnt,di:Unt,bioc:Knt,color:irt};function Qfe(t,e){var n=le({},ort,t);return new q8(n,e)}function mo(t){return t?"<"+t.$type+(t.id?' id="'+t.id:"")+'" />':"<null>"}function Xp(t){return function(){if(!window.Promise)throw new Error("Promises is not supported in this environment. Please polyfill Promise.");var e=arguments.length;if(e>=1&&At(arguments[e-1])){var n=arguments[e-1];console.warn(new Error("Passing callbacks to "+t.name+" is deprecated and will be removed in a future major release. Please switch to promises: https://bpmn.io/l/moving-to-promises.html"));var i=Array.prototype.slice.call(arguments,0,-1);t.apply(this,i).then(function(a){var c=Object.keys(a)[0];return n(null,a[c])},function(a){return n(a,a.warnings)})}else return t.apply(this,arguments)}}var srt="Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472";function W8(t){Ui(t,"di")||Object.defineProperty(t,"di",{enumerable:!1,get:function(){throw new Error(srt)}})}function Xs(t,e){return t.$instanceOf(e)}function art(t){return st(t.rootElements,function(e){return Xs(e,"bpmn:Process")||Xs(e,"bpmn:Collaboration")})}function mB(t,e){var n={},i=[],a={};function c(de,_e){return function(Ie){de(Ie,_e)}}function d(de){n[de.id]=de}function h(de){return n[de.id]}function m(de,_e){var Ie=de.gfx;if(Ie)throw new Error(e("already rendered {element}",{element:mo(de)}));return t.element(de,a[de.id],_e)}function g(de,_e){return t.root(de,a[de.id],_e)}function b(de,_e){try{var Ie=a[de.id]&&m(de,_e);return d(de),Ie}catch(tt){E(tt.message,{element:de,error:tt}),console.error(e("failed to import {element}",{element:mo(de)})),console.error(tt)}}function E(de,_e){t.error(de,_e)}var _=this.registerDi=function(_e){var Ie=_e.bpmnElement;Ie?a[Ie.id]?E(e("multiple DI elements defined for {element}",{element:mo(Ie)}),{element:Ie}):(a[Ie.id]=_e,W8(Ie)):E(e("no bpmnElement referenced in {element}",{element:mo(_e)}),{element:_e})};function S(de){D(de.plane)}function D(de){_(de),J(de.planeElement,k)}function k(de){_(de)}this.handleDefinitions=function(_e,Ie){var tt=_e.diagrams;if(Ie&&tt.indexOf(Ie)===-1)throw new Error(e("diagram not part of bpmn:Definitions"));if(!Ie&&tt&&tt.length&&(Ie=tt[0]),!Ie)throw new Error(e("no diagram to display"));a={},S(Ie);var rn=Ie.plane;if(!rn)throw new Error(e("no plane for {element}",{element:mo(Ie)}));var vt=rn.bpmnElement;if(!vt)if(vt=art(_e),vt)E(e("correcting missing bpmnElement on {plane} to {rootElement}",{plane:mo(rn),rootElement:mo(vt)})),rn.bpmnElement=vt,_(rn);else throw new Error(e("no process or collaboration to display"));var an=g(vt,rn);if(Xs(vt,"bpmn:Process")||Xs(vt,"bpmn:SubProcess"))R(vt,an);else if(Xs(vt,"bpmn:Collaboration"))ue(vt,an),$(_e.rootElements,an);else throw new Error(e("unsupported bpmnElement for {plane}: {rootElement}",{plane:mo(rn),rootElement:mo(vt)}));I(i)};var I=this.handleDeferred=function(){for(var _e;i.length;)_e=i.shift(),_e()};function R(de,_e){_t(de,_e),pe(de.ioSpecification,_e),oe(de.artifacts,_e),d(de)}function $(de,_e){var Ie=Ze(de,function(tt){return!h(tt)&&Xs(tt,"bpmn:Process")&&tt.laneSets});Ie.forEach(c(R,_e))}function F(de,_e){b(de,_e)}function L(de,_e){J(de,c(F,_e))}function V(de,_e){b(de,_e)}function G(de,_e){b(de,_e)}function re(de,_e){b(de,_e)}function ee(de,_e){b(de,_e)}function oe(de,_e){J(de,function(Ie){Xs(Ie,"bpmn:Association")?i.push(function(){ee(Ie,_e)}):ee(Ie,_e)})}function pe(de,_e){de&&(J(de.dataInputs,c(G,_e)),J(de.dataOutputs,c(re,_e)))}var ge=this.handleSubProcess=function(_e,Ie){_t(_e,Ie),oe(_e.artifacts,Ie)};function ce(de,_e){var Ie=b(de,_e);Xs(de,"bpmn:SubProcess")&&ge(de,Ie||_e),Xs(de,"bpmn:Activity")&&pe(de.ioSpecification,_e),i.push(function(){J(de.dataInputAssociations,c(V,_e)),J(de.dataOutputAssociations,c(V,_e))})}function he(de,_e){b(de,_e)}function Se(de,_e){b(de,_e)}function Qe(de,_e){i.push(function(){var Ie=b(de,_e);de.childLaneSet&&je(de.childLaneSet,Ie||_e),Ee(de)})}function je(de,_e){J(de.lanes,c(Qe,_e))}function xe(de,_e){J(de,c(je,_e))}function _t(de,_e){ne(de.flowElements,_e),de.laneSets&&xe(de.laneSets,_e)}function ne(de,_e){J(de,function(Ie){Xs(Ie,"bpmn:SequenceFlow")?i.push(function(){he(Ie,_e)}):Xs(Ie,"bpmn:BoundaryEvent")?i.unshift(function(){ce(Ie,_e)}):Xs(Ie,"bpmn:FlowNode")?ce(Ie,_e):Xs(Ie,"bpmn:DataObject")||(Xs(Ie,"bpmn:DataStoreReference")||Xs(Ie,"bpmn:DataObjectReference")?Se(Ie,_e):E(e("unrecognized flowElement {element} in context {context}",{element:mo(Ie),context:_e?mo(_e.businessObject):"null"}),{element:Ie,context:_e}))})}function B(de,_e){var Ie=b(de,_e),tt=de.processRef;tt&&R(tt,Ie||_e)}function ue(de,_e){J(de.participants,c(B,_e)),oe(de.artifacts,_e),i.push(function(){L(de.messageFlows,_e)})}function Ee(de){J(de.flowNodeRef,function(_e){var Ie=_e.get("lanes");Ie&&Ie.push(de)})}}function M(t,e){var n=K(t);return n&&typeof n.$instanceOf=="function"&&n.$instanceOf(e)}function He(t,e){return ho(e,function(n){return M(t,n)})}function K(t){return t&&t.businessObject||t}function wt(t){return t&&t.di}function Yfe(t,e,n){var i,a,c,d,h,m=[];function g(b,E){var _={root:function(I,R){return i.add(I,R)},element:function(I,R,$){return i.add(I,R,$)},error:function(I,R){m.push({message:I,context:R})}},S=new mB(_,c);E=E||b.diagrams&&b.diagrams[0];var D=lrt(b,E);if(!D)throw new Error(c("no diagram to display"));J(D,function(I){S.handleDefinitions(b,I)});var k=E.plane.bpmnElement.id;d.setRootElement(d.findRoot(k+"_plane")||d.findRoot(k))}return new Promise(function(b,E){try{return i=t.get("bpmnImporter"),a=t.get("eventBus"),c=t.get("translate"),d=t.get("canvas"),a.fire("import.render.start",{definitions:e}),g(e,n),a.fire("import.render.complete",{error:h,warnings:m}),b({warnings:m})}catch(_){return _.warnings=m,E(_)}})}function lrt(t,e){if(e){var n=e.plane.bpmnElement,i=n;!M(n,"bpmn:Process")&&!M(n,"bpmn:Collaboration")&&(i=crt(n));var a;M(i,"bpmn:Collaboration")?a=i:a=st(t.rootElements,function(g){if(M(g,"bpmn:Collaboration"))return st(g.participants,function(b){return b.processRef===i})});var c=[i];a&&(c=Nn(a.participants,function(g){return g.processRef}),c.push(a));var d=Xfe(c),h=[e],m=[n];return J(t.diagrams,function(g){var b=g.plane.bpmnElement;d.indexOf(b)!==-1&&m.indexOf(b)===-1&&(h.push(g),m.push(b))}),h}}function Xfe(t){var e=[];return J(t,function(n){n&&(e.push(n),e=e.concat(Xfe(n.flowElements)))}),e}function crt(t){for(var e=t;e;){if(M(e,"bpmn:Process"))return e;e=e.$parent}}var urt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',gB=urt,vB={verticalAlign:"middle"},yB={color:"#404040"},drt={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},frt={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},hrt={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},prt='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+gB+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>',dd;function mrt(){dd=jt(prt),Nr(dd,drt),Nr(Et("svg",dd),vB),Nr(Et(".backdrop",dd),frt),Nr(Et(".notice",dd),hrt),Nr(Et(".link",dd),yB,{margin:"15px 20px 15px 10px",alignSelf:"center"})}function Kfe(){dd||(mrt(),Wi.bind(dd,".backdrop","click",function(t){document.body.removeChild(dd)})),document.body.appendChild(dd)}function fn(t){t=le({},vrt,t),this._moddle=this._createModdle(t),this._container=this._createContainer(t),brt(this._container),this._init(this._container,this._moddle,t)}ke(fn,Gp);fn.prototype.importXML=function(e,n){return co(this,null,function*(){let i=this;function a(d){let h=i.get("eventBus").createEvent(d);return Object.defineProperty(h,"context",{enumerable:!0,get:function(){return console.warn(new Error("import.parse.complete <context> is deprecated and will be removed in future library versions")),{warnings:d.warnings,references:d.references,elementsById:d.elementsById}}}),h}let c=[];try{e=this._emit("import.parse.start",{xml:e})||e;let d;try{d=yield this._moddle.fromXML(e,"bpmn:Definitions")}catch(_){throw this._emit("import.parse.complete",{error:_}),_}let h=d.rootElement,m=d.references,g=d.warnings,b=d.elementsById;c=c.concat(g),h=this._emit("import.parse.complete",a({error:null,definitions:h,elementsById:b,references:m,warnings:c}))||h;let E=yield this.importDefinitions(h,n);return c=c.concat(E.warnings),this._emit("import.done",{error:null,warnings:c}),{warnings:c}}catch(d){let h=d;throw c=c.concat(h.warnings||[]),G8(h,c),h=grt(h),this._emit("import.done",{error:h,warnings:h.warnings}),h}})};fn.prototype.importXML=Xp(fn.prototype.importXML);fn.prototype.importDefinitions=function(e,n){return co(this,null,function*(){return this._setDefinitions(e),{warnings:(yield this.open(n)).warnings}})};fn.prototype.importDefinitions=Xp(fn.prototype.importDefinitions);fn.prototype.open=function(e){return co(this,null,function*(){let n=this._definitions,i=e;if(!n){let c=new Error("no XML imported");throw G8(c,[]),c}if(typeof e=="string"&&(i=yrt(n,e),!i)){let c=new Error("BPMNDiagram <"+e+"> not found");throw G8(c,[]),c}try{this.clear()}catch(c){throw G8(c,[]),c}let{warnings:a}=yield Yfe(this,n,i);return{warnings:a}})};fn.prototype.open=Xp(fn.prototype.open);fn.prototype.saveXML=function(e){return co(this,null,function*(){e=e||{};let n=this._definitions,i,a;try{if(!n)throw new Error("no definitions loaded");n=this._emit("saveXML.start",{definitions:n})||n,a=(yield this._moddle.toXML(n,e)).xml,a=this._emit("saveXML.serialized",{xml:a})||a}catch(d){i=d}let c=i?{error:i}:{xml:a};if(this._emit("saveXML.done",c),i)throw i;return c})};fn.prototype.saveXML=Xp(fn.prototype.saveXML);fn.prototype.saveSVG=function(){return co(this,null,function*(){this._emit("saveSVG.start");let e,n;try{let i=this.get("canvas"),a=i.getActiveLayer(),c=Et("defs",i._svg),d=zF(a),h=c?"<defs>"+zF(c)+"</defs>":"",m=a.getBBox();e=`<?xml version="1.0" encoding="utf-8"?>
<!-- created with bpmn-js / http://bpmn.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="`+m.width+'" height="'+m.height+'" viewBox="'+m.x+" "+m.y+" "+m.width+" "+m.height+'" version="1.1">'+h+d+"</svg>"}catch(i){n=i}if(this._emit("saveSVG.done",{error:n,svg:e}),n)throw n;return{svg:e}})};fn.prototype.saveSVG=Xp(fn.prototype.saveSVG);fn.prototype._setDefinitions=function(t){this._definitions=t};fn.prototype.getModules=function(){return this._modules};fn.prototype.clear=function(){this.getDefinitions()&&Gp.prototype.clear.call(this)};fn.prototype.destroy=function(){Gp.prototype.destroy.call(this),Gs(this._container)};fn.prototype.on=function(t,e,n,i){return this.get("eventBus").on(t,e,n,i)};fn.prototype.off=function(t,e){this.get("eventBus").off(t,e)};fn.prototype.attachTo=function(t){if(!t)throw new Error("parentNode required");this.detach(),t.get&&t.constructor.prototype.jquery&&(t=t.get(0)),typeof t=="string"&&(t=Et(t)),t.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()};fn.prototype.getDefinitions=function(){return this._definitions};fn.prototype.detach=function(){let t=this._container,e=t.parentNode;e&&(this._emit("detach",{}),e.removeChild(t))};fn.prototype._init=function(t,e,n){let i=n.modules||this.getModules(n),a=n.additionalModules||[],c=[{bpmnjs:["value",this],moddle:["value",e]}],d=[].concat(c,i,a),h=le(xs(n,["additionalModules"]),{canvas:le({},n.canvas,{container:t}),modules:d});Gp.call(this,h),n&&n.container&&this.attachTo(n.container)};fn.prototype._emit=function(t,e){return this.get("eventBus").fire(t,e)};fn.prototype._createContainer=function(t){let e=jt('<div class="bjs-container"></div>');return Nr(e,{width:Zfe(t.width),height:Zfe(t.height),position:t.position}),e};fn.prototype._createModdle=function(t){let e=le({},this._moddleExtensions,t.moddleExtensions);return new Qfe(e)};fn.prototype._modules=[];function G8(t,e){return t.warnings=e,t}function grt(t){let n=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(t.message);return n&&(t.message="unparsable content <"+n[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+n[2]),t}var vrt={width:"100%",height:"100%",position:"relative"};function Zfe(t){return t+(ot(t)?"px":"")}function yrt(t,e){return e&&st(t.diagrams,function(n){return n.id===e})||null}function brt(t){let n='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+gB+"</a>",i=jt(n);Nr(Et("svg",i),vB),Nr(i,yB,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),t.appendChild(i),nt.bind(i,"click",function(a){Kfe(),a.preventDefault()})}function Rg(t){fn.call(this,t),this.on("import.parse.complete",function(e){e.error||this._collectIds(e.definitions,e.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}ke(Rg,fn);Rg.prototype._createModdle=function(t){var e=fn.prototype._createModdle.call(this,t);return e.ids=new t2([32,36,1]),e};Rg.prototype._collectIds=function(t,e){var n=t.$model,i=n.ids,a;i.clear();for(a in e)i.claim(a,e[a])};function bt(t,e){return M(t,"bpmn:CallActivity")?!1:M(t,"bpmn:SubProcess")?(e=e||wt(t),e&&M(e,"bpmndi:BPMNPlane")?!0:e&&!!e.isExpanded):M(t,"bpmn:Participant")?!!K(t).processRef:!0}function Q8(t){return t&&K(t).isInterrupting!==!1}function bi(t){return t&&!!K(t).triggeredByEvent}function dw(t,e){var n=K(t).eventDefinitions;return ho(n,function(i){return M(i,e)})}function Jfe(t){return dw(t,"bpmn:ErrorEventDefinition")}function ehe(t){return dw(t,"bpmn:EscalationEventDefinition")}function the(t){return dw(t,"bpmn:CompensateEventDefinition")}var g2={width:90,height:20},nhe=15;function Jl(t){return M(t,"bpmn:Event")||M(t,"bpmn:Gateway")||M(t,"bpmn:DataStoreReference")||M(t,"bpmn:DataObjectReference")||M(t,"bpmn:DataInput")||M(t,"bpmn:DataOutput")||M(t,"bpmn:SequenceFlow")||M(t,"bpmn:MessageFlow")||M(t,"bpmn:Group")}function Kp(t){return Mn(t.label)}function xrt(t){var e=t.length/2-1,n=t[Math.floor(e)],i=t[Math.ceil(e+.01)],a=Ert(t),c=Math.atan((i.y-n.y)/(i.x-n.x)),d=a.x,h=a.y;return Math.abs(c)<Math.PI/2?h-=nhe:d+=nhe,{x:d,y:h}}function Ert(t){var e=t.length/2-1,n=t[Math.floor(e)],i=t[Math.ceil(e+.01)];return{x:n.x+(i.x-n.x)/2,y:n.y+(i.y-n.y)/2}}function fw(t){return t.waypoints?xrt(t.waypoints):M(t,"bpmn:Group")?{x:t.x+t.width/2,y:t.y+g2.height/2}:{x:t.x+t.width/2,y:t.y+t.height+g2.height/2}}function rhe(t,e){var n,i,a,c=t.label;return c&&c.bounds?(a=c.bounds,i={width:Math.max(g2.width,a.width),height:a.height},n={x:a.x+a.width/2,y:a.y+a.height/2}):(n=fw(e),i=g2),le({x:n.x-i.width/2,y:n.y-i.height/2},i)}function Mn(t){return t&&!!t.labelTarget}function ihe(t){if(M(t,"bpmn:FlowElement")||M(t,"bpmn:Participant")||M(t,"bpmn:Lane")||M(t,"bpmn:SequenceFlow")||M(t,"bpmn:MessageFlow")||M(t,"bpmn:DataInput")||M(t,"bpmn:DataOutput"))return"name";if(M(t,"bpmn:TextAnnotation"))return"text";if(M(t,"bpmn:Group"))return"categoryValueRef"}function wrt(t){var e=t.categoryValueRef;return e&&e.value||""}function xi(t){var e=t.businessObject,n=ihe(e);if(n)return n==="categoryValueRef"?wrt(e):e[n]||""}function bB(t,e){var n=t.businessObject,i=ihe(n);return i&&(i==="categoryValueRef"?n.categoryValueRef.value=e:n[i]=e),t}var v2="hsl(225, 10%, 15%)";function Yc(t,e){return ho(t.eventDefinitions,function(n){return n.$type===e})}function ohe(t){return t.$type==="bpmn:IntermediateThrowEvent"||t.$type==="bpmn:EndEvent"}function she(t){var e=t.dataObjectRef;return t.isCollection||e&&e.isCollection}function nn(t,e){var n=wt(t);return n.get("color:background-color")||n.get("bioc:fill")||e||"white"}function qe(t,e){var n=wt(t);return n.get("color:border-color")||n.get("bioc:stroke")||e||v2}function y2(t,e,n){var i=wt(t),a=i.get("label");return a&&a.get("color:color")||e||qe(t,n)}function ahe(t){var e=t.x+t.width/2,n=t.y+t.height/2,i=t.width/2,a=[["M",e,n],["m",0,-i],["a",i,i,0,1,1,0,2*i],["a",i,i,0,1,1,0,-2*i],["z"]];return Lf(a)}function lhe(t,e){var n=t.x,i=t.y,a=t.width,c=t.height,d=[["M",n+e,i],["l",a-e*2,0],["a",e,e,0,0,1,e,e],["l",0,c-e*2],["a",e,e,0,0,1,-e,e],["l",e*2-a,0],["a",e,e,0,0,1,-e,-e],["l",0,e*2-c],["a",e,e,0,0,1,e,-e],["z"]];return Lf(d)}function che(t){var e=t.width,n=t.height,i=t.x,a=t.y,c=e/2,d=n/2,h=[["M",i+c,a],["l",c,d],["l",-c,d],["l",-c,-d],["z"]];return Lf(h)}function uhe(t){var e=t.x,n=t.y,i=t.width,a=t.height,c=[["M",e,n],["l",i,0],["l",0,a],["l",-i,0],["z"]];return Lf(c)}var _rt=new t2,Y8=10,xB=3,b2=.95,Crt=.35,Srt=10;function Nf(t,e,n,i,a,c,d){Xl.call(this,e,d);var h=t&&t.defaultFillColor,m=t&&t.defaultStrokeColor,g=t&&t.defaultLabelColor,b=_rt.next(),E={};function _(ne){return n.computeStyle(ne,{strokeLinecap:"round",strokeLinejoin:"round",stroke:v2,strokeWidth:2,fill:"white"})}function S(ne){return n.computeStyle(ne,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:v2,strokeWidth:2})}function D(ne,B){var{ref:ue={x:0,y:0},scale:Ee=1,element:de}=B,_e=We("marker",{id:ne,viewBox:"0 0 20 20",refX:ue.x,refY:ue.y,markerWidth:20*Ee,markerHeight:20*Ee,orient:"auto"});et(_e,de);var Ie=Et("defs",a._svg);Ie||(Ie=We("defs"),et(a._svg,Ie)),et(Ie,_e),E[ne]=_e}function k(ne){return ne.replace(/[^0-9a-zA-z]+/g,"_")}function I(ne,B,ue){var Ee=ne+"-"+k(B)+"-"+k(ue)+"-"+b;return E[Ee]||R(Ee,ne,B,ue),"url(#"+Ee+")"}function R(ne,B,ue,Ee){if(B==="sequenceflow-end"){var de=We("path",se({d:"M 1 5 L 11 10 L 1 15 Z"},_({fill:Ee,stroke:Ee,strokeWidth:1})));D(ne,{element:de,ref:{x:11,y:10},scale:.5})}if(B==="messageflow-start"){var _e=We("circle",se({cx:6,cy:6,r:3.5},_({fill:ue,stroke:Ee,strokeWidth:1,strokeDasharray:[1e4,1]})));D(ne,{element:_e,ref:{x:6,y:6}})}if(B==="messageflow-end"){var Ie=We("path",se({d:"m 1 5 l 0 -3 l 7 3 l -7 3 z"},_({fill:ue,stroke:Ee,strokeWidth:1,strokeDasharray:[1e4,1]})));D(ne,{element:Ie,ref:{x:8.5,y:5}})}if(B==="association-start"){var tt=We("path",se({d:"M 11 5 L 1 10 L 11 15"},S({fill:"none",stroke:Ee,strokeWidth:1.5,strokeDasharray:[1e4,1]})));D(ne,{element:tt,ref:{x:1,y:10},scale:.5})}if(B==="association-end"){var rn=We("path",se({d:"M 1 5 L 11 10 L 1 15"},S({fill:"none",stroke:Ee,strokeWidth:1.5,strokeDasharray:[1e4,1]})));D(ne,{element:rn,ref:{x:11,y:10},scale:.5})}if(B==="conditional-flow-marker"){var vt=We("path",se({d:"M 0 10 L 8 6 L 16 10 L 8 14 Z"},_({fill:ue,stroke:Ee})));D(ne,{element:vt,ref:{x:-1,y:10},scale:.5})}if(B==="conditional-default-flow-marker"){var an=We("path",se({d:"M 6 4 L 10 16"},_({stroke:Ee})));D(ne,{element:an,ref:{x:0,y:10},scale:.5})}}function $(ne,B,ue,Ee,de){Un(Ee)&&(de=Ee,Ee=0),Ee=Ee||0,de=_(de),de.fill==="none"&&delete de.fillOpacity;var _e=B/2,Ie=ue/2,tt=We("circle",se({cx:_e,cy:Ie,r:Math.round((B+ue)/4-Ee)},de));return et(ne,tt),tt}function F(ne,B,ue,Ee,de,_e){Un(de)&&(_e=de,de=0),de=de||0,_e=_(_e);var Ie=We("rect",se({x:de,y:de,width:B-de*2,height:ue-de*2,rx:Ee,ry:Ee},_e));return et(ne,Ie),Ie}function L(ne,B,ue,Ee){var de=B/2,_e=ue/2,Ie=[{x:de,y:0},{x:B,y:_e},{x:de,y:ue},{x:0,y:_e}],tt=Ie.map(function(vt){return vt.x+","+vt.y}).join(" ");Ee=_(Ee);var rn=We("polygon",Me(se({},Ee),{points:tt}));return et(ne,rn),rn}function V(ne,B,ue,Ee){ue=S(ue);var de=jp(B,ue,Ee);return et(ne,de),de}function G(ne,B,ue){return V(ne,B,ue,5)}function re(ne,B,ue){ue=S(ue);var Ee=We("path",Me(se({},ue),{d:B}));return et(ne,Ee),Ee}function ee(ne,B,ue,Ee){return re(B,ue,le({"data-marker":ne},Ee))}function oe(ne){return je[ne]}function pe(ne){return function(B,ue){return oe(ne)(B,ue)}}function ge(ne,B){var ue=K(ne),Ee=ohe(ue);return ue.eventDefinitions&&ue.eventDefinitions.length>1?ue.parallelMultiple?oe("bpmn:ParallelMultipleEventDefinition")(B,ne,Ee):oe("bpmn:MultipleEventDefinition")(B,ne,Ee):Yc(ue,"bpmn:MessageEventDefinition")?oe("bpmn:MessageEventDefinition")(B,ne,Ee):Yc(ue,"bpmn:TimerEventDefinition")?oe("bpmn:TimerEventDefinition")(B,ne,Ee):Yc(ue,"bpmn:ConditionalEventDefinition")?oe("bpmn:ConditionalEventDefinition")(B,ne):Yc(ue,"bpmn:SignalEventDefinition")?oe("bpmn:SignalEventDefinition")(B,ne,Ee):Yc(ue,"bpmn:EscalationEventDefinition")?oe("bpmn:EscalationEventDefinition")(B,ne,Ee):Yc(ue,"bpmn:LinkEventDefinition")?oe("bpmn:LinkEventDefinition")(B,ne,Ee):Yc(ue,"bpmn:ErrorEventDefinition")?oe("bpmn:ErrorEventDefinition")(B,ne,Ee):Yc(ue,"bpmn:CancelEventDefinition")?oe("bpmn:CancelEventDefinition")(B,ne,Ee):Yc(ue,"bpmn:CompensateEventDefinition")?oe("bpmn:CompensateEventDefinition")(B,ne,Ee):Yc(ue,"bpmn:TerminateEventDefinition")?oe("bpmn:TerminateEventDefinition")(B,ne,Ee):null}function ce(ne,B,ue){ue=le({size:{width:100}},ue);var Ee=c.createText(B||"",ue);return St(Ee).add("djs-label"),et(ne,Ee),Ee}function he(ne,B,ue){var Ee=K(B);return ce(ne,Ee.name,{box:B,align:ue,padding:7,style:{fill:y2(B,g,m)}})}function Se(ne,B){var ue={width:90,height:30,x:B.width/2+B.x,y:B.height/2+B.y};return ce(ne,xi(B),{box:ue,fitBox:!0,style:le({},c.getExternalStyle(),{fill:y2(B,g,m)})})}function Qe(ne,B,ue){var Ee=ce(ne,B,{box:{height:30,width:ue.height},align:"center-middle",style:{fill:y2(ue,g,m)}}),de=-1*ue.height;aw(Ee,0,-de,270)}var je=this.handlers={"bpmn:Event":function(ne,B,ue){return"fillOpacity"in ue||(ue.fillOpacity=b2),$(ne,B.width,B.height,ue)},"bpmn:StartEvent":function(ne,B){var ue={fill:nn(B,h),stroke:qe(B,m)},Ee=K(B);Ee.isInterrupting||(ue={strokeDasharray:"6",fill:nn(B,h),stroke:qe(B,m)});var de=oe("bpmn:Event")(ne,B,ue);return ge(B,ne),de},"bpmn:MessageEventDefinition":function(ne,B,ue){var Ee=i.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:B.width,containerHeight:B.height,position:{mx:.235,my:.315}}),de=ue?qe(B,m):nn(B,h),_e=ue?nn(B,h):qe(B,m),Ie=re(ne,Ee,{strokeWidth:1,fill:de,stroke:_e});return Ie},"bpmn:TimerEventDefinition":function(ne,B){var ue=$(ne,B.width,B.height,.2*B.height,{strokeWidth:2,fill:nn(B,h),stroke:qe(B,m)}),Ee=i.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:B.width,containerHeight:B.height,position:{mx:.5,my:.5}});re(ne,Ee,{strokeWidth:2,stroke:qe(B,m)});for(var de=0;de<12;de++){var _e=i.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:B.width,containerHeight:B.height,position:{mx:.5,my:.5}}),Ie=B.width/2,tt=B.height/2;re(ne,_e,{strokeWidth:1,transform:"rotate("+de*30+","+tt+","+Ie+")",stroke:qe(B,m)})}return ue},"bpmn:EscalationEventDefinition":function(ne,B,ue){var Ee=i.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:.5,my:.2}}),de=ue?qe(B,m):"none";return re(ne,Ee,{strokeWidth:1,fill:de,stroke:qe(B,m)})},"bpmn:ConditionalEventDefinition":function(ne,B){var ue=i.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:.5,my:.222}});return re(ne,ue,{strokeWidth:1,stroke:qe(B,m)})},"bpmn:LinkEventDefinition":function(ne,B,ue){var Ee=i.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:.57,my:.263}}),de=ue?qe(B,m):"none";return re(ne,Ee,{strokeWidth:1,fill:de,stroke:qe(B,m)})},"bpmn:ErrorEventDefinition":function(ne,B,ue){var Ee=i.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:B.width,containerHeight:B.height,position:{mx:.2,my:.722}}),de=ue?qe(B,m):"none";return re(ne,Ee,{strokeWidth:1,fill:de,stroke:qe(B,m)})},"bpmn:CancelEventDefinition":function(ne,B,ue){var Ee=i.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:.638,my:-.055}}),de=ue?qe(B,m):"none",_e=re(ne,Ee,{strokeWidth:1,fill:de,stroke:qe(B,m)});return F8(_e,45),_e},"bpmn:CompensateEventDefinition":function(ne,B,ue){var Ee=i.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:.22,my:.5}}),de=ue?qe(B,m):"none";return re(ne,Ee,{strokeWidth:1,fill:de,stroke:qe(B,m)})},"bpmn:SignalEventDefinition":function(ne,B,ue){var Ee=i.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:B.width,containerHeight:B.height,position:{mx:.5,my:.2}}),de=ue?qe(B,m):"none";return re(ne,Ee,{strokeWidth:1,fill:de,stroke:qe(B,m)})},"bpmn:MultipleEventDefinition":function(ne,B,ue){var Ee=i.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:B.width,containerHeight:B.height,position:{mx:.222,my:.36}}),de=ue?qe(B,m):"none";return re(ne,Ee,{strokeWidth:1,fill:de})},"bpmn:ParallelMultipleEventDefinition":function(ne,B){var ue=i.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:B.width,containerHeight:B.height,position:{mx:.458,my:.194}});return re(ne,ue,{strokeWidth:1,fill:qe(B,m),stroke:qe(B,m)})},"bpmn:EndEvent":function(ne,B){var ue=oe("bpmn:Event")(ne,B,{strokeWidth:4,fill:nn(B,h),stroke:qe(B,m)});return ge(B,ne,!0),ue},"bpmn:TerminateEventDefinition":function(ne,B){var ue=$(ne,B.width,B.height,8,{strokeWidth:4,fill:qe(B,m),stroke:qe(B,m)});return ue},"bpmn:IntermediateEvent":function(ne,B){var ue=oe("bpmn:Event")(ne,B,{strokeWidth:1.5,fill:nn(B,h),stroke:qe(B,m)});return $(ne,B.width,B.height,xB,{strokeWidth:1.5,fill:nn(B,"none"),stroke:qe(B,m)}),ge(B,ne),ue},"bpmn:IntermediateCatchEvent":pe("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":pe("bpmn:IntermediateEvent"),"bpmn:Activity":function(ne,B,ue){return ue=ue||{},"fillOpacity"in ue||(ue.fillOpacity=b2),F(ne,B.width,B.height,Y8,ue)},"bpmn:Task":function(ne,B){var ue={fill:nn(B,h),stroke:qe(B,m)},Ee=oe("bpmn:Activity")(ne,B,ue);return he(ne,B,"center-middle"),xe(ne,B),Ee},"bpmn:ServiceTask":function(ne,B){var ue=oe("bpmn:Task")(ne,B),Ee=i.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}});re(ne,Ee,{strokeWidth:1,fill:nn(B,h),stroke:qe(B,m)});var de=i.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}});re(ne,de,{strokeWidth:0,fill:nn(B,h)});var _e=i.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}});return re(ne,_e,{strokeWidth:1,fill:nn(B,h),stroke:qe(B,m)}),ue},"bpmn:UserTask":function(ne,B){var ue=oe("bpmn:Task")(ne,B),Ee=15,de=12,_e=i.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:Ee,y:de}});re(ne,_e,{strokeWidth:.5,fill:nn(B,h),stroke:qe(B,m)});var Ie=i.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:Ee,y:de}});re(ne,Ie,{strokeWidth:.5,fill:nn(B,h),stroke:qe(B,m)});var tt=i.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:Ee,y:de}});return re(ne,tt,{strokeWidth:.5,fill:qe(B,m),stroke:qe(B,m)}),ue},"bpmn:ManualTask":function(ne,B){var ue=oe("bpmn:Task")(ne,B),Ee=i.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}});return re(ne,Ee,{strokeWidth:.5,fill:nn(B,h),stroke:qe(B,m)}),ue},"bpmn:SendTask":function(ne,B){var ue=oe("bpmn:Task")(ne,B),Ee=i.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}});return re(ne,Ee,{strokeWidth:1,fill:qe(B,m),stroke:nn(B,h)}),ue},"bpmn:ReceiveTask":function(ne,B){var ue=K(B),Ee=oe("bpmn:Task")(ne,B),de;return ue.instantiate?($(ne,28,28,20*.22,{strokeWidth:1}),de=i.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):de=i.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),re(ne,de,{strokeWidth:1,fill:nn(B,h),stroke:qe(B,m)}),Ee},"bpmn:ScriptTask":function(ne,B){var ue=oe("bpmn:Task")(ne,B),Ee=i.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}});return re(ne,Ee,{strokeWidth:1,stroke:qe(B,m)}),ue},"bpmn:BusinessRuleTask":function(ne,B){var ue=oe("bpmn:Task")(ne,B),Ee=i.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}),de=re(ne,Ee);Ne(de,{strokeWidth:1,fill:nn(B,"#aaaaaa"),stroke:qe(B,m)});var _e=i.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}),Ie=re(ne,_e);return Ne(Ie,{strokeWidth:1,stroke:qe(B,m)}),ue},"bpmn:SubProcess":function(ne,B,ue){ue=se({fill:nn(B,h),stroke:qe(B,m)},ue);var Ee=oe("bpmn:Activity")(ne,B,ue),de=bt(B);return bi(B)&&Ne(Ee,{strokeDasharray:"0, 5.5",strokeWidth:2.5}),he(ne,B,de?"center-top":"center-middle"),de?xe(ne,B):xe(ne,B,["SubProcessMarker"]),Ee},"bpmn:AdHocSubProcess":function(ne,B){return oe("bpmn:SubProcess")(ne,B)},"bpmn:Transaction":function(ne,B){var ue=oe("bpmn:SubProcess")(ne,B,{strokeWidth:1.5}),Ee=n.style(["no-fill","no-events"],{stroke:qe(B,m),strokeWidth:1.5});return F(ne,B.width,B.height,Y8-3,xB,Ee),ue},"bpmn:CallActivity":function(ne,B){return oe("bpmn:SubProcess")(ne,B,{strokeWidth:5})},"bpmn:Participant":function(ne,B){var ue=1.5,Ee={fillOpacity:b2,fill:nn(B,h),stroke:qe(B,m),strokeWidth:ue},de=oe("bpmn:Lane")(ne,B,Ee),_e=bt(B);if(_e){V(ne,[{x:30,y:0},{x:30,y:B.height}],{stroke:qe(B,m),strokeWidth:ue});var Ie=K(B).name;Qe(ne,Ie,B)}else{var tt=K(B).name;ce(ne,tt,{box:B,align:"center-middle",style:{fill:y2(B,g,m)}})}var rn=!!K(B).participantMultiplicity;return rn&&oe("ParticipantMultiplicityMarker")(ne,B),de},"bpmn:Lane":function(ne,B,ue){var Ee=F(ne,B.width,B.height,0,se({fill:nn(B,h),fillOpacity:Crt,stroke:qe(B,m),strokeWidth:1.5},ue)),de=K(B);if(de.$type==="bpmn:Lane"){var _e=de.name;Qe(ne,_e,B)}return Ee},"bpmn:InclusiveGateway":function(ne,B){var ue=oe("bpmn:Gateway")(ne,B);return $(ne,B.width,B.height,B.height*.24,{strokeWidth:2.5,fill:nn(B,h),stroke:qe(B,m)}),ue},"bpmn:ExclusiveGateway":function(ne,B){var ue=oe("bpmn:Gateway")(ne,B),Ee=i.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:B.width,containerHeight:B.height,position:{mx:.32,my:.3}});return wt(B).isMarkerVisible&&re(ne,Ee,{strokeWidth:1,fill:qe(B,m),stroke:qe(B,m)}),ue},"bpmn:ComplexGateway":function(ne,B){var ue=oe("bpmn:Gateway")(ne,B),Ee=i.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:B.width,containerHeight:B.height,position:{mx:.46,my:.26}});return re(ne,Ee,{strokeWidth:1,fill:qe(B,m),stroke:qe(B,m)}),ue},"bpmn:ParallelGateway":function(ne,B){var ue=oe("bpmn:Gateway")(ne,B),Ee=i.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:B.width,containerHeight:B.height,position:{mx:.46,my:.2}});return re(ne,Ee,{strokeWidth:1,fill:qe(B,m),stroke:qe(B,m)}),ue},"bpmn:EventBasedGateway":function(ne,B){var ue=K(B),Ee=oe("bpmn:Gateway")(ne,B);$(ne,B.width,B.height,B.height*.2,{strokeWidth:1,fill:"none",stroke:qe(B,m)});var de=ue.eventGatewayType,_e=!!ue.instantiate;function Ie(){var rn=i.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:B.width,containerHeight:B.height,position:{mx:.36,my:.44}});re(ne,rn,{strokeWidth:2,fill:nn(B,"none"),stroke:qe(B,m)})}if(de==="Parallel"){var tt=i.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:B.width,containerHeight:B.height,position:{mx:.474,my:.296}});re(ne,tt,{strokeWidth:1,fill:"none"})}else de==="Exclusive"&&(_e||$(ne,B.width,B.height,B.height*.26,{strokeWidth:1,fill:"none",stroke:qe(B,m)}),Ie());return Ee},"bpmn:Gateway":function(ne,B){return L(ne,B.width,B.height,{fill:nn(B,h),fillOpacity:b2,stroke:qe(B,m)})},"bpmn:SequenceFlow":function(ne,B){var ue=nn(B,h),Ee=qe(B,m),de=G(ne,B.waypoints,{markerEnd:I("sequenceflow-end",ue,Ee),stroke:qe(B,m)}),_e=K(B),Ie;return B.source&&(Ie=B.source.businessObject,_e.conditionExpression&&Ie.$instanceOf("bpmn:Activity")&&Ne(de,{markerStart:I("conditional-flow-marker",ue,Ee)}),Ie.default&&(Ie.$instanceOf("bpmn:Gateway")||Ie.$instanceOf("bpmn:Activity"))&&Ie.default===_e&&Ne(de,{markerStart:I("conditional-default-flow-marker",ue,Ee)})),de},"bpmn:Association":function(ne,B,ue){var Ee=K(B),de=nn(B,h),_e=qe(B,m);return ue=se({strokeDasharray:"0, 5",stroke:qe(B,m)},ue),(Ee.associationDirection==="One"||Ee.associationDirection==="Both")&&(ue.markerEnd=I("association-end",de,_e)),Ee.associationDirection==="Both"&&(ue.markerStart=I("association-start",de,_e)),G(ne,B.waypoints,ue)},"bpmn:DataInputAssociation":function(ne,B){var ue=nn(B,h),Ee=qe(B,m);return oe("bpmn:Association")(ne,B,{markerEnd:I("association-end",ue,Ee)})},"bpmn:DataOutputAssociation":function(ne,B){var ue=nn(B,h),Ee=qe(B,m);return oe("bpmn:Association")(ne,B,{markerEnd:I("association-end",ue,Ee)})},"bpmn:MessageFlow":function(ne,B){var ue=K(B),Ee=wt(B),de=nn(B,h),_e=qe(B,m),Ie=G(ne,B.waypoints,{markerEnd:I("messageflow-end",de,_e),markerStart:I("messageflow-start",de,_e),strokeDasharray:"10, 11",strokeWidth:1.5,stroke:qe(B,m)});if(ue.messageRef){var tt=Ie.getPointAtLength(Ie.getTotalLength()/2),rn=i.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:tt.x,y:tt.y}}),vt={strokeWidth:1};Ee.messageVisibleKind==="initiating"?(vt.fill="white",vt.stroke=v2):(vt.fill="#888",vt.stroke="white");var an=re(ne,rn,vt),Bn=ue.messageRef.name,ci=ce(ne,Bn,{align:"center-top",fitBox:!0,style:{fill:qe(B,g,m)}}),Ji=an.getBBox(),An=ci.getBBox(),gr=tt.x-An.width/2,ti=tt.y+Ji.height/2+Srt;aw(ci,gr,ti,0)}return Ie},"bpmn:DataObject":function(ne,B){var ue=i.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:.474,my:.296}}),Ee=re(ne,ue,{fill:nn(B,h),fillOpacity:b2,stroke:qe(B,m)}),de=K(B);return she(de)&&_t(ne,B),Ee},"bpmn:DataObjectReference":pe("bpmn:DataObject"),"bpmn:DataInput":function(ne,B){var ue=i.getRawPath("DATA_ARROW"),Ee=oe("bpmn:DataObject")(ne,B);return re(ne,ue,{strokeWidth:1}),Ee},"bpmn:DataOutput":function(ne,B){var ue=i.getRawPath("DATA_ARROW"),Ee=oe("bpmn:DataObject")(ne,B);return re(ne,ue,{strokeWidth:1,fill:v2}),Ee},"bpmn:DataStoreReference":function(ne,B){var ue=i.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:0,my:.133}}),Ee=re(ne,ue,{strokeWidth:2,fill:nn(B,h),fillOpacity:b2,stroke:qe(B,m)});return Ee},"bpmn:BoundaryEvent":function(ne,B){var ue=K(B),Ee=ue.cancelActivity,de={strokeWidth:1.5,fill:nn(B,h),stroke:qe(B,m)};Ee||(de.strokeDasharray="6");var _e=Me(se({},de),{fillOpacity:1}),Ie=Me(se({},de),{fill:"none"}),tt=oe("bpmn:Event")(ne,B,_e);return $(ne,B.width,B.height,xB,Ie),ge(B,ne),tt},"bpmn:Group":function(ne,B){return F(ne,B.width,B.height,Y8,{stroke:qe(B,m),strokeWidth:1.5,strokeDasharray:"10,6,0,6",fill:"none",pointerEvents:"none"})},label:function(ne,B){return Se(ne,B)},"bpmn:TextAnnotation":function(ne,B){var ue=F(ne,B.width,B.height,0,0,{fill:"none",stroke:"none"}),Ee=i.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:0,my:0}});re(ne,Ee,{stroke:qe(B,m)});var de=K(B).text||"";return ce(ne,de,{box:B,align:"left-top",padding:7,style:{fill:y2(B,g,m)}}),ue},ParticipantMultiplicityMarker:function(ne,B){var ue=i.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:B.width/2/B.width,my:(B.height-15)/B.height}});ee("participant-multiplicity",ne,ue,{strokeWidth:2,fill:nn(B,h),stroke:qe(B,m)})},SubProcessMarker:function(ne,B){var ue=F(ne,14,14,0,{strokeWidth:1,fill:nn(B,h),stroke:qe(B,m)});Qr(ue,B.width/2-7.5,B.height-20);var Ee=i.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:B.width,containerHeight:B.height,position:{mx:(B.width/2-7.5)/B.width,my:(B.height-20)/B.height}});ee("sub-process",ne,Ee,{fill:nn(B,h),stroke:qe(B,m)})},ParallelMarker:function(ne,B,ue){var Ee=i.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:(B.width/2+ue.parallel)/B.width,my:(B.height-20)/B.height}});ee("parallel",ne,Ee,{fill:nn(B,h),stroke:qe(B,m)})},SequentialMarker:function(ne,B,ue){var Ee=i.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:(B.width/2+ue.seq)/B.width,my:(B.height-19)/B.height}});ee("sequential",ne,Ee,{fill:nn(B,h),stroke:qe(B,m)})},CompensationMarker:function(ne,B,ue){var Ee=i.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:(B.width/2+ue.compensation)/B.width,my:(B.height-13)/B.height}});ee("compensation",ne,Ee,{strokeWidth:1,fill:nn(B,h),stroke:qe(B,m)})},LoopMarker:function(ne,B,ue){var Ee=i.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:(B.width/2+ue.loop)/B.width,my:(B.height-7)/B.height}});ee("loop",ne,Ee,{strokeWidth:1.5,fill:nn(B,h),stroke:qe(B,m),strokeMiterlimit:.5})},AdhocMarker:function(ne,B,ue){var Ee=i.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:(B.width/2+ue.adhoc)/B.width,my:(B.height-15)/B.height}});ee("adhoc",ne,Ee,{strokeWidth:1,fill:qe(B,m),stroke:qe(B,m)})}};function xe(ne,B,ue){var Ee=K(B),de=ue&&ue.indexOf("SubProcessMarker")!==-1,_e;de?_e={seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:_e={seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},J(ue,function(rn){oe(rn)(ne,B,_e)}),Ee.isForCompensation&&oe("CompensationMarker")(ne,B,_e),Ee.$type==="bpmn:AdHocSubProcess"&&oe("AdhocMarker")(ne,B,_e);var Ie=Ee.loopCharacteristics,tt=Ie&&Ie.isSequential;Ie&&(tt===void 0&&oe("LoopMarker")(ne,B,_e),tt===!1&&oe("ParallelMarker")(ne,B,_e),tt===!0&&oe("SequentialMarker")(ne,B,_e))}function _t(ne,B){var ue=(B.height-18)/B.height,Ee=i.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:.33,my:ue}});re(ne,Ee,{strokeWidth:2})}this._drawPath=re,this._renderer=oe}ke(Nf,Xl);Nf.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"];Nf.prototype.canRender=function(t){return M(t,"bpmn:BaseElement")};Nf.prototype.drawShape=function(t,e){var n=e.type,i=this._renderer(n);return i(t,e)};Nf.prototype.drawConnection=function(t,e){var n=e.type,i=this._renderer(n);return i(t,e)};Nf.prototype.getShapePath=function(t){return M(t,"bpmn:Event")?ahe(t):M(t,"bpmn:Activity")?lhe(t,Y8):M(t,"bpmn:Gateway")?che(t):uhe(t)};var Ort=0,Drt={width:150,height:50};function Trt(t){var e=t.split("-");return{horizontal:e[0]||"center",vertical:e[1]||"top"}}function krt(t){return Un(t)?le({top:0,left:0,right:0,bottom:0},t):{top:t,left:t,right:t,bottom:t}}function Prt(t,e){e.textContent=t;var n;try{var i,a=t==="";return e.textContent=a?"dummy":t,n=e.getBBox(),i={width:n.width+n.x*2,height:n.height},a&&(i.width=0),i}catch{return{width:0,height:0}}}function Irt(t,e,n){for(var i=t.shift(),a=i,c;;){if(c=Prt(a,n),c.width=a?c.width:0,a===" "||a===""||c.width<Math.round(e)||a.length<2)return Mrt(t,a,i,c);a=Rrt(a,c.width,e)}}function Mrt(t,e,n,i){if(e.length<n.length){var a=n.slice(e.length).trim();t.unshift(a)}return{width:i.width,height:i.height,text:e}}var dhe="\xAD";function Art(t,e){var n=t.split(/(\s|-|\u00AD)/g),i,a=[],c=0;if(n.length>1)for(;i=n.shift();)if(i.length+c<e)a.push(i),c+=i.length;else{(i==="-"||i===dhe)&&a.pop();break}var d=a[a.length-1];return d&&d===dhe&&(a[a.length-1]="-"),a.join("")}function Rrt(t,e,n){var i=Math.max(t.length*(n/e),1),a=Art(t,i);return a||(a=t.slice(0,Math.max(Math.round(i-1),1))),a}function Lrt(){var t=document.getElementById("helper-svg");return t||(t=We("svg"),Ne(t,{id:"helper-svg"}),Nr(t,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(t)),t}function x2(t){this._config=le({},{size:Drt,padding:Ort,style:{},align:"center-top"},t||{})}x2.prototype.createText=function(t,e){return this.layoutText(t,e).element};x2.prototype.getDimensions=function(t,e){return this.layoutText(t,e).dimensions};x2.prototype.layoutText=function(t,e){var n=le({},this._config.size,e.box),i=le({},this._config.style,e.style),a=Trt(e.align||this._config.align),c=krt(e.padding!==void 0?e.padding:this._config.padding),d=e.fitBox||!1,h=$rt(i),m=t.split(/\u00AD?\r?\n/),g=[],b=n.width-c.left-c.right,E=We("text");Ne(E,{x:0,y:0}),Ne(E,i);var _=Lrt();for(et(_,E);m.length;)g.push(Irt(m,b,E));a.vertical==="middle"&&(c.top=c.bottom=0);var S=dr(g,function($,F,L){return $+(h||F.height)},0)+c.top+c.bottom,D=dr(g,function($,F,L){return F.width>$?F.width:$},0),k=c.top;a.vertical==="middle"&&(k+=(n.height-S)/2),k-=(h||g[0].height)/4;var I=We("text");Ne(I,i),J(g,function($){var F;switch(k+=h||$.height,a.horizontal){case"left":F=c.left;break;case"right":F=(d?D:b)-c.right-$.width;break;default:F=Math.max(((d?D:b)-$.width)/2+c.left,0)}var L=We("tspan");Ne(L,{x:F,y:k}),L.textContent=$.text,et(I,L)}),xn(E);var R={width:D,height:S};return{dimensions:R,element:I}};function $rt(t){if("fontSize"in t&&"lineHeight"in t)return t.lineHeight*parseInt(t.fontSize,10)}var Nrt=12,Frt=1.2,Brt=30;function X8(t){var e=le({fontFamily:"Arial, sans-serif",fontSize:Nrt,fontWeight:"normal",lineHeight:Frt},t&&t.defaultStyle||{}),n=parseInt(e.fontSize,10)-1,i=le({},e,{fontSize:n},t&&t.externalStyle||{}),a=new x2({style:e});this.getExternalLabelBounds=function(c,d){var h=a.getDimensions(d,{box:{width:90,height:30},style:i});return{x:Math.round(c.x+c.width/2-h.width/2),y:Math.round(c.y),width:Math.ceil(h.width),height:Math.ceil(h.height)}},this.getTextAnnotationBounds=function(c,d){var h=a.getDimensions(d,{box:c,style:e,align:"left-top",padding:5});return{x:c.x,y:c.y,width:c.width,height:Math.max(Brt,Math.round(h.height))}},this.createText=function(c,d){return a.createText(c,d||{})},this.getDefaultStyle=function(){return e},this.getExternalStyle=function(){return i}}X8.$inject=["config.textRenderer"];function EB(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,n){var i=this.pathMap[e],a,c;n.abspos?(a=n.abspos.x,c=n.abspos.y):(a=n.containerWidth*n.position.mx,c=n.containerHeight*n.position.my);var d={};if(n.position){for(var h=n.containerHeight/i.height*n.yScaleFactor,m=n.containerWidth/i.width*n.xScaleFactor,g=0;g<i.heightElements.length;g++)d["y"+g]=i.heightElements[g]*h;for(var b=0;b<i.widthElements.length;b++)d["x"+b]=i.widthElements[b]*m}var E=Hrt(i.d,{mx:a,my:c,e:d});return E}}var jrt=/\{([^{}]+)\}/g,Vrt=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;function zrt(t,e,n){var i=n;return e.replace(Vrt,function(a,c,d,h,m){c=c||h,i&&(c in i&&(i=i[c]),typeof i=="function"&&m&&(i=i()))}),i=(i==null||i==n?t:i)+"",i}function Hrt(t,e){return String(t).replace(jrt,function(n,i){return zrt(n,i,e)})}var fhe={__init__:["bpmnRenderer"],bpmnRenderer:["type",Nf],textRenderer:["type",X8],pathMap:["type",EB]};function wB(t,e){return e=e||{},t.replace(/{([^}]+)}/g,function(n,i){return e[i]||"{"+i+"}"})}var Zp={translate:["value",wB]};function K8(t,e,n){return le({id:t.id,type:t.$type,businessObject:t,di:e},n)}function Urt(t,e,n){var i=t.waypoint;return!i||i.length<2?[Je(e),Je(n)]:i.map(function(a){return{x:a.x,y:a.y}})}function hhe(t,e,n,i){return new Error(t("element {element} referenced by {referenced}#{property} not yet drawn",{element:mo(n),referenced:mo(e),property:i}))}function Xc(t,e,n,i,a,c){this._eventBus=t,this._canvas=e,this._elementFactory=n,this._elementRegistry=i,this._translate=a,this._textRenderer=c}Xc.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"];Xc.prototype.add=function(t,e,n){var i,a=this._translate,c,d;if(M(e,"bpmndi:BPMNPlane")){var h=M(t,"bpmn:SubProcess")?{id:t.id+"_plane"}:{};i=this._elementFactory.createRoot(K8(t,e,h)),this._canvas.addRootElement(i)}else if(M(e,"bpmndi:BPMNShape")){var m=!bt(t,e),g=Wrt(t);c=n&&(n.hidden||n.collapsed);var b=e.bounds;i=this._elementFactory.createShape(K8(t,e,{collapsed:m,hidden:c,x:Math.round(b.x),y:Math.round(b.y),width:Math.round(b.width),height:Math.round(b.height),isFrame:g})),M(t,"bpmn:BoundaryEvent")&&this._attachBoundary(t,i),M(t,"bpmn:Lane")&&(d=0),M(t,"bpmn:DataStoreReference")&&(qrt(n,Je(b))||(n=this._canvas.findRoot(n))),this._canvas.addShape(i,n,d)}else if(M(e,"bpmndi:BPMNEdge")){var E=this._getSource(t),_=this._getTarget(t);c=n&&(n.hidden||n.collapsed),i=this._elementFactory.createConnection(K8(t,e,{hidden:c,source:E,target:_,waypoints:Urt(e,E,_)})),M(t,"bpmn:DataAssociation")&&(n=this._canvas.findRoot(n)),this._canvas.addConnection(i,n,d)}else throw new Error(a("unknown di {di} for element {semantic}",{di:mo(e),semantic:mo(t)}));return Jl(t)&&xi(i)&&this.addLabel(t,e,i),this._eventBus.fire("bpmnElement.added",{element:i}),i};Xc.prototype._attachBoundary=function(t,e){var n=this._translate,i=t.attachedToRef;if(!i)throw new Error(n("missing {semantic}#attachedToRef",{semantic:mo(t)}));var a=this._elementRegistry.get(i.id),c=a&&a.attachers;if(!a)throw hhe(n,t,i,"attachedToRef");e.host=a,c||(a.attachers=c=[]),c.indexOf(e)===-1&&c.push(e)};Xc.prototype.addLabel=function(t,e,n){var i,a,c;return i=rhe(e,n),a=xi(n),a&&(i=this._textRenderer.getExternalLabelBounds(i,a)),c=this._elementFactory.createLabel(K8(t,e,{id:t.id+"_label",labelTarget:n,type:"label",hidden:n.hidden||!xi(n),x:Math.round(i.x),y:Math.round(i.y),width:Math.round(i.width),height:Math.round(i.height)})),this._canvas.addShape(c,n.parent)};Xc.prototype._getConnectedElement=function(t,e){var n,i,a=t.$type,c=this._translate;if(i=t[e+"Ref"],e==="source"&&a==="bpmn:DataInputAssociation"&&(i=i&&i[0]),(e==="source"&&a==="bpmn:DataOutputAssociation"||e==="target"&&a==="bpmn:DataInputAssociation")&&(i=t.$parent),n=i&&this._getElement(i),n)return n;throw i?hhe(c,t,i,e+"Ref"):new Error(c("{semantic}#{side} Ref not specified",{semantic:mo(t),side:e}))};Xc.prototype._getSource=function(t){return this._getConnectedElement(t,"source")};Xc.prototype._getTarget=function(t){return this._getConnectedElement(t,"target")};Xc.prototype._getElement=function(t){return this._elementRegistry.get(t.id)};function qrt(t,e){var n=e.x,i=e.y;return n>=t.x&&n<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}function Wrt(t){return M(t,"bpmn:Group")}var phe={__depends__:[Zp],bpmnImporter:["type",Xc]};var mhe={__depends__:[fhe,phe]};function ghe(t){!t||typeof t.stopPropagation!="function"||t.stopPropagation()}function Ff(t){return t.originalEvent||t.srcEvent}function Z8(t){ghe(t),ghe(Ff(t))}function wa(t){return t.pointers&&t.pointers.length&&(t=t.pointers[0]),t.touches&&t.touches.length&&(t=t.touches[0]),t?{x:t.clientX,y:t.clientY}:null}function J8(){return/mac/i.test(navigator.platform)}function vhe(t,e){return(Ff(t)||t).button===e}function ll(t){return vhe(t,0)}function yhe(t){return vhe(t,1)}function Kc(t){var e=Ff(t)||t;return ll(t)?J8()?e.metaKey:e.ctrlKey:!1}function E2(t){var e=Ff(t)||t;return ll(t)&&e.shiftKey}function Grt(t){return!0}function e7(t){return ll(t)||yhe(t)}var bhe=500;function t7(t,e,n){var i=this;function a(ee,oe,pe){if(!h(ee,oe)){var ge,ce,he;pe?ce=e.getGraphics(pe):(ge=oe.delegateTarget||oe.target,ge&&(ce=ge,pe=e.get(ce))),!(!ce||!pe)&&(he=t.fire(ee,{element:pe,gfx:ce,originalEvent:oe}),he===!1&&(oe.stopPropagation(),oe.preventDefault()))}}var c={};function d(ee){return c[ee]}function h(ee,oe){var pe=g[ee]||ll;return!pe(oe)}var m={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},g={"element.contextmenu":Grt,"element.mousedown":e7,"element.mouseup":e7,"element.click":e7,"element.dblclick":e7};function b(ee,oe,pe){var ge=m[ee];if(!ge)throw new Error("unmapped DOM event name <"+ee+">");return a(ge,oe,pe)}var E="svg, .djs-element";function _(ee,oe,pe,ge){var ce=c[pe]=function(he){a(pe,he)};ge&&(g[pe]=ge),ce.$delegate=Wi.bind(ee,E,oe,ce)}function S(ee,oe,pe){var ge=d(pe);ge&&Wi.unbind(ee,oe,ge.$delegate)}function D(ee){J(m,function(oe,pe){_(ee,pe,oe)})}function k(ee){J(m,function(oe,pe){S(ee,pe,oe)})}t.on("canvas.destroy",function(ee){k(ee.svg)}),t.on("canvas.init",function(ee){D(ee.svg)}),t.on(["shape.added","connection.added"],function(ee){var oe=ee.element,pe=ee.gfx;t.fire("interactionEvents.createHit",{element:oe,gfx:pe})}),t.on(["shape.changed","connection.changed"],bhe,function(ee){var oe=ee.element,pe=ee.gfx;t.fire("interactionEvents.updateHit",{element:oe,gfx:pe})}),t.on("interactionEvents.createHit",bhe,function(ee){var oe=ee.element,pe=ee.gfx;i.createDefaultHit(oe,pe)}),t.on("interactionEvents.updateHit",function(ee){var oe=ee.element,pe=ee.gfx;i.updateDefaultHit(oe,pe)});var I=V("djs-hit djs-hit-stroke"),R=V("djs-hit djs-hit-click-stroke"),$=V("djs-hit djs-hit-all"),F=V("djs-hit djs-hit-no-move"),L={all:$,"click-stroke":R,stroke:I,"no-move":F};function V(ee,oe){return oe=le({stroke:"white",strokeWidth:15},oe||{}),n.cls(ee,["no-fill","no-border"],oe)}function G(ee,oe){var pe=L[oe];if(!pe)throw new Error("invalid hit type <"+oe+">");return Ne(ee,pe),ee}function re(ee,oe){et(ee,oe)}this.removeHits=function(ee){var oe=ew(".djs-hit",ee);J(oe,xn)},this.createDefaultHit=function(ee,oe){var pe=ee.waypoints,ge=ee.isFrame,ce;return pe?this.createWaypointsHit(oe,pe):(ce=ge?"stroke":"all",this.createBoxHit(oe,ce,{width:ee.width,height:ee.height}))},this.createWaypointsHit=function(ee,oe){var pe=jp(oe);return G(pe,"stroke"),re(ee,pe),pe},this.createBoxHit=function(ee,oe,pe){pe=le({x:0,y:0},pe);var ge=We("rect");return G(ge,oe),Ne(ge,pe),re(ee,ge),ge},this.updateDefaultHit=function(ee,oe){var pe=Et(".djs-hit",oe);if(pe)return ee.waypoints?QF(pe,ee.waypoints):Ne(pe,{width:ee.width,height:ee.height}),pe},this.fire=a,this.triggerMouseEvent=b,this.mouseHandler=d,this.registerEvent=_,this.unregisterEvent=S}t7.$inject=["eventBus","elementRegistry","styles"];var fd={__init__:["interactionEvents"],interactionEvents:["type",t7]};var Qrt=500,Yrt=1e3;function Bf(t,e){this._eventBus=t,this.offset=5;var n=e.cls("djs-outline",["no-fill"]),i=this;function a(c){var d=We("rect");return Ne(d,le({x:0,y:0,rx:4,width:100,height:100},n)),d}t.on(["shape.added","shape.changed"],Qrt,function(c){var d=c.element,h=c.gfx,m=Et(".djs-outline",h);m||(m=i.getOutline(d)||a(h),et(h,m)),i.updateShapeOutline(m,d)}),t.on(["connection.added","connection.changed"],function(c){var d=c.element,h=c.gfx,m=Et(".djs-outline",h);m||(m=a(h),et(h,m)),i.updateConnectionOutline(m,d)})}Bf.prototype.updateShapeOutline=function(t,e){var n=!1,i=this._getProviders();i.length&&J(i,function(a){n=n||a.updateOutline(e,t)}),n||Ne(t,{x:-this.offset,y:-this.offset,width:e.width+this.offset*2,height:e.height+this.offset*2})};Bf.prototype.updateConnectionOutline=function(t,e){var n=En(e);Ne(t,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+this.offset*2,height:n.height+this.offset*2})};Bf.prototype.registerProvider=function(t,e){e||(e=t,t=Yrt),this._eventBus.on("outline.getProviders",t,function(n){n.providers.push(e)})};Bf.prototype._getProviders=function(){var t=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(t),t.providers};Bf.prototype.getOutline=function(t){var e,n=this._getProviders();return J(n,function(i){At(i.getOutline)&&(e=e||i.getOutline(t))}),e};Bf.$inject=["eventBus","styles","elementRegistry"];var n7={__init__:["outline"],outline:["type",Bf]};function Jp(t,e){this._eventBus=t,this._canvas=e,this._selectedElements=[];var n=this;t.on(["shape.remove","connection.remove"],function(i){var a=i.element;n.deselect(a)}),t.on(["diagram.clear","root.set"],function(i){n.select(null)})}Jp.$inject=["eventBus","canvas"];Jp.prototype.deselect=function(t){var e=this._selectedElements,n=e.indexOf(t);if(n!==-1){var i=e.slice();e.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:e})}};Jp.prototype.get=function(){return this._selectedElements};Jp.prototype.isSelected=function(t){return this._selectedElements.indexOf(t)!==-1};Jp.prototype.select=function(t,e){var n=this._selectedElements,i=n.slice();Ue(t)||(t=t?[t]:[]);var a=this._canvas,c=a.getRootElement();t=t.filter(function(d){var h=a.findRoot(d);return c===h}),e?J(t,function(d){n.indexOf(d)===-1&&n.push(d)}):this._selectedElements=n=t.slice(),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:n})};var xhe="hover",Ehe="selected",r7=6;function hw(t,e,n){this._canvas=t;var i=this;this._multiSelectionBox=null;function a(d,h){t.addMarker(d,h)}function c(d,h){t.removeMarker(d,h)}e.on("element.hover",function(d){a(d.element,xhe)}),e.on("element.out",function(d){c(d.element,xhe)}),e.on("selection.changed",function(d){function h(E){c(E,Ehe)}function m(E){a(E,Ehe)}var g=d.oldSelection,b=d.newSelection;J(g,function(E){b.indexOf(E)===-1&&h(E)}),J(b,function(E){g.indexOf(E)===-1&&m(E)}),i._updateSelectionOutline(b)}),e.on("element.changed",function(d){n.isSelected(d.element)&&i._updateSelectionOutline(n.get())})}hw.$inject=["canvas","eventBus","selection"];hw.prototype._updateSelectionOutline=function(t){var e=this._canvas.getLayer("selectionOutline");Dg(e);var n=t.length>1,i=this._canvas.getContainer();if(St(i)[n?"add":"remove"]("djs-multi-select"),!!n){var a=Xrt(En(t)),c=We("rect");Ne(c,le({rx:3},a)),St(c).add("djs-selection-outline"),et(e,c)}};function Xrt(t){return{x:t.x-r7,y:t.y-r7,width:t.width+r7*2,height:t.height+r7*2}}function i7(t,e,n,i){t.on("create.end",500,function(a){var c=a.context,d=c.canExecute,h=c.elements,m=c.hints||{},g=m.autoSelect;if(d){if(g===!1)return;Ue(g)?e.select(g):e.select(h.filter(Krt))}}),t.on("connect.end",500,function(a){var c=a.context,d=c.connection;d&&e.select(d)}),t.on("shape.move.end",500,function(a){var c=a.previousSelection||[],d=i.get(a.context.shape.id),h=st(c,function(m){return d.id===m.id});h||e.select(d)}),t.on("element.click",function(a){if(ll(a)){var c=a.element;c===n.getRootElement()&&(c=null);var d=e.isSelected(c),h=e.get().length>1,m=Kc(a)||E2(a);if(d&&h)return m?e.deselect(c):e.select(c);d?e.deselect(c):e.select(c,m)}})}i7.$inject=["eventBus","selection","canvas","elementRegistry"];function Krt(t){return!t.hidden}var Gi={__init__:["selectionVisuals","selectionBehavior"],__depends__:[fd,n7],selection:["type",Jp],selectionVisuals:["type",hw],selectionBehavior:["type",i7]};function w2(t){this._counter=0,this._prefix=(t?t+"-":"")+Math.floor(Math.random()*1e9)+"-"}w2.prototype.next=function(){return this._prefix+ ++this._counter};var Zrt=new w2("ov"),Jrt=500;function Ri(t,e,n,i){this._eventBus=e,this._canvas=n,this._elementRegistry=i,this._ids=Zrt,this._overlayDefaults=le({show:null,scale:!0},t&&t.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=eit(n.getContainer()),this._init()}Ri.$inject=["config.overlays","eventBus","canvas","elementRegistry"];Ri.prototype.get=function(t){if(kr(t)&&(t={id:t}),kr(t.element)&&(t.element=this._elementRegistry.get(t.element)),t.element){var e=this._getOverlayContainer(t.element,!0);return e?t.type?Ze(e.overlays,Mo({type:t.type})):e.overlays.slice():[]}else return t.type?Ze(this._overlays,Mo({type:t.type})):t.id?this._overlays[t.id]:null};Ri.prototype.add=function(t,e,n){if(Un(e)&&(n=e,e=null),t.id||(t=this._elementRegistry.get(t)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!t)throw new Error("invalid element specified");var i=this._ids.next();return n=le({},this._overlayDefaults,n,{id:i,type:e,element:t,html:n.html}),this._addOverlay(n),i};Ri.prototype.remove=function(t){var e=this.get(t)||[];Ue(e)||(e=[e]);var n=this;J(e,function(i){var a=n._getOverlayContainer(i.element,!0);if(i&&(Gs(i.html),Gs(i.htmlContainer),delete i.htmlContainer,delete i.element,delete n._overlays[i.id]),a){var c=a.overlays.indexOf(i);c!==-1&&a.overlays.splice(c,1)}})};Ri.prototype.isShown=function(){return this._overlayRoot.style.display!=="none"};Ri.prototype.show=function(){o7(this._overlayRoot)};Ri.prototype.hide=function(){o7(this._overlayRoot,!1)};Ri.prototype.clear=function(){this._overlays={},this._overlayContainers=[],Fp(this._overlayRoot)};Ri.prototype._updateOverlayContainer=function(t){var e=t.element,n=t.html,i=e.x,a=e.y;if(e.waypoints){var c=En(e);i=c.x,a=c.y}whe(n,i,a),vi(t.html,"data-container-id",e.id)};Ri.prototype._updateOverlay=function(t){var e=t.position,n=t.htmlContainer,i=t.element,a=e.left,c=e.top;if(e.right!==void 0){var d;i.waypoints?d=En(i).width:d=i.width,a=e.right*-1+d}if(e.bottom!==void 0){var h;i.waypoints?h=En(i).height:h=i.height,c=e.bottom*-1+h}whe(n,a||0,c||0),this._updateOverlayVisibilty(t,this._canvas.viewbox())};Ri.prototype._createOverlayContainer=function(t){var e=jt('<div class="djs-overlays" />');Nr(e,{position:"absolute"}),this._overlayRoot.appendChild(e);var n={html:e,element:t,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n};Ri.prototype._updateRoot=function(t){var e=t.scale||1,n="matrix("+[e,0,0,e,-1*t.x*e,-1*t.y*e].join(",")+")";_he(this._overlayRoot,n)};Ri.prototype._getOverlayContainer=function(t,e){var n=st(this._overlayContainers,function(i){return i.element===t});return!n&&!e?this._createOverlayContainer(t):n};Ri.prototype._addOverlay=function(t){var e=t.id,n=t.element,i=t.html,a,c;i.get&&i.constructor.prototype.jquery&&(i=i.get(0)),kr(i)&&(i=jt(i)),c=this._getOverlayContainer(n),a=jt('<div class="djs-overlay" data-overlay-id="'+e+'">'),Nr(a,{position:"absolute"}),a.appendChild(i),t.type&&_r(a).add("djs-overlay-"+t.type);var d=this._canvas.findRoot(n),h=this._canvas.getRootElement();o7(a,d===h),t.htmlContainer=a,c.overlays.push(t),c.html.appendChild(a),this._overlays[e]=t,this._updateOverlay(t),this._updateOverlayVisibilty(t,this._canvas.viewbox())};Ri.prototype._updateOverlayVisibilty=function(t,e){var n=t.show,i=this._canvas.findRoot(t.element),a=n&&n.minZoom,c=n&&n.maxZoom,d=t.htmlContainer,h=this._canvas.getRootElement(),m=!0;(i!==h||n&&(In(a)&&a>e.scale||In(c)&&c<e.scale))&&(m=!1),o7(d,m),this._updateOverlayScale(t,e)};Ri.prototype._updateOverlayScale=function(t,e){var n=t.scale,i,a,c=t.htmlContainer,d,h="";n!==!0&&(n===!1?(i=1,a=1):(i=n.min,a=n.max),In(i)&&e.scale<i&&(d=(1/e.scale||1)*i),In(a)&&e.scale>a&&(d=(1/e.scale||1)*a)),In(d)&&(h="scale("+d+","+d+")"),_he(c,h)};Ri.prototype._updateOverlaysVisibilty=function(t){var e=this;J(this._overlays,function(n){e._updateOverlayVisibilty(n,t)})};Ri.prototype._init=function(){var t=this._eventBus,e=this;function n(i){e._updateRoot(i),e._updateOverlaysVisibilty(i),e.show()}t.on("canvas.viewbox.changing",function(i){e.hide()}),t.on("canvas.viewbox.changed",function(i){n(i.viewbox)}),t.on(["shape.remove","connection.remove"],function(i){var a=i.element,c=e.get({element:a});J(c,function(m){e.remove(m.id)});var d=e._getOverlayContainer(a);if(d){Gs(d.html);var h=e._overlayContainers.indexOf(d);h!==-1&&e._overlayContainers.splice(h,1)}}),t.on("element.changed",Jrt,function(i){var a=i.element,c=e._getOverlayContainer(a,!0);c&&(J(c.overlays,function(d){e._updateOverlay(d)}),e._updateOverlayContainer(c))}),t.on("element.marker.update",function(i){var a=e._getOverlayContainer(i.element,!0);a&&_r(a.html)[i.add?"add":"remove"](i.marker)}),t.on("root.set",function(){e._updateOverlaysVisibilty(e._canvas.viewbox())}),t.on("diagram.clear",this.clear,this)};function eit(t){var e=jt('<div class="djs-overlay-container" />');return Nr(e,{position:"absolute",width:0,height:0}),t.insertBefore(e,t.firstChild),e}function whe(t,e,n){Nr(t,{left:e+"px",top:n+"px"})}function o7(t,e){t.style.display=e===!1?"none":""}function _he(t,e){t.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(n){t.style[n+"transform"]=e})}var e0={__init__:["overlays"],overlays:["type",Ri]};function s7(t,e,n,i){t.on("element.changed",function(a){var c=a.element;(c.parent||c===e.getRootElement())&&(a.gfx=n.getGraphics(c)),a.gfx&&t.fire(k8(c)+".changed",a)}),t.on("elements.changed",function(a){var c=a.elements;c.forEach(function(d){t.fire("element.changed",{element:d})}),i.updateContainments(c)}),t.on("shape.changed",function(a){i.update("shape",a.element,a.gfx)}),t.on("connection.changed",function(a){i.update("connection",a.element,a.gfx)})}s7.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var _2={__init__:["changeSupport"],changeSupport:["type",s7]};var tit=1e3;function De(t){this._eventBus=t}De.$inject=["eventBus"];function nit(t,e){return function(n){return t.call(e||null,n.context,n.command,n)}}De.prototype.on=function(t,e,n,i,a,c){if((At(e)||ot(e))&&(c=a,a=i,i=n,n=e,e=null),At(n)&&(c=a,a=i,i=n,n=tit),Un(a)&&(c=a,a=!1),!At(i))throw new Error("handlerFn must be a function");Ue(t)||(t=[t]);var d=this._eventBus;J(t,function(h){var m=["commandStack",h,e].filter(function(g){return g}).join(".");d.on(m,n,a?nit(i,c):i,c)})};De.prototype.canExecute=jf("canExecute");De.prototype.preExecute=jf("preExecute");De.prototype.preExecuted=jf("preExecuted");De.prototype.execute=jf("execute");De.prototype.executed=jf("executed");De.prototype.postExecute=jf("postExecute");De.prototype.postExecuted=jf("postExecuted");De.prototype.revert=jf("revert");De.prototype.reverted=jf("reverted");function jf(t){return function(n,i,a,c,d){(At(n)||ot(n))&&(d=c,c=a,a=i,i=n,n=null),this.on(n,t,i,a,c,d)}}function pw(t,e){e.invoke(De,this),this.executed(function(n){var i=n.context;i.rootElement?t.setRootElement(i.rootElement):i.rootElement=t.getRootElement()}),this.revert(function(n){var i=n.context;i.rootElement&&t.setRootElement(i.rootElement)})}ke(pw,De);pw.$inject=["canvas","injector"];var Che={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",pw]};function Vf(t){return CSS.escape(t)}var rit={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function mw(t){return t=""+t,t&&t.replace(/[&<>"']/g,function(e){return rit[e]})}var She="_plane";function _B(t){var e=t.id;return iit(e)}function ec(t){var e=t.id;return M(t,"bpmn:SubProcess")?Ohe(e):e}function t0(t){return Ohe(t)}function a7(t){var e=wt(t);return M(e,"bpmndi:BPMNPlane")}function Ohe(t){return t+She}function iit(t){return t.replace(new RegExp(She+"$"),"")}var oit="bjs-breadcrumbs-shown";function l7(t,e,n){var i=jt('<ul class="bjs-breadcrumbs"></ul>'),a=n.getContainer(),c=_r(a);a.appendChild(i);var d=[];t.on("element.changed",function(m){var g=m.element,b=K(g),E=st(d,function(_){return _===b});E&&h()});function h(m){m&&(d=sit(m));var g=d.map(function(E){var _=mw(E.name||E.id),S=jt('<li><span class="bjs-crumb"><a title="'+_+'">'+_+"</a></span></li>"),D=n.findRoot(ec(E))||n.findRoot(E.id);if(!D&&M(E,"bpmn:Process")){var k=e.find(function(I){var R=K(I);return R&&R.get("processRef")&&R.get("processRef")===E});D=n.findRoot(k.id)}return S.addEventListener("click",function(){n.setRootElement(D)}),S});i.innerHTML="";var b=g.length>1;c.toggle(oit,b),g.forEach(function(E){i.appendChild(E)})}t.on("root.set",function(m){h(m.element)})}l7.$inject=["eventBus","elementRegistry","canvas"];function sit(t){for(var e=K(t),n=[],i=e;i;i=i.$parent)(M(i,"bpmn:SubProcess")||M(i,"bpmn:Process"))&&n.push(i);return n.reverse()}function c7(t,e){var n=null,i=new ait;t.on("root.set",function(a){var c=a.element,d=e.viewbox(),h=i.get(c);if(i.set(n,{x:d.x,y:d.y,zoom:d.scale}),n=c,!(M(c,"bpmn:Collaboration")&&!h)){h=h||{x:0,y:0,zoom:1};var m=(d.x-h.x)*d.scale,g=(d.y-h.y)*d.scale;(m!==0||g!==0)&&e.scroll({dx:m,dy:g}),h.zoom!==d.scale&&e.zoom(h.zoom,{x:0,y:0})}}),t.on("diagram.clear",function(){i.clear(),n=null})}c7.$inject=["eventBus","canvas"];function ait(){this._entries=[],this.set=function(t,e){var n=!1;for(var i in this._entries)if(this._entries[i][0]===t){this._entries[i][1]=e,n=!0;break}n||this._entries.push([t,e])},this.get=function(t){for(var e in this._entries)if(this._entries[e][0]===t)return this._entries[e][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(t){var e=-1;for(var n in this._entries)if(this._entries[n][0]===t){e=n;break}e!==-1&&this._entries.splice(e,1)}}var Dhe={x:180,y:160};function zf(t,e){this._eventBus=t,this._moddle=e;var n=this;t.on("import.render.start",1500,function(i,a){n._handleImport(a.definitions)})}zf.prototype._handleImport=function(t){if(t.diagrams){var e=this;this._definitions=t,this._processToDiagramMap={},t.diagrams.forEach(function(i){!i.plane||!i.plane.bpmnElement||(e._processToDiagramMap[i.plane.bpmnElement.id]=i)});var n=[];t.diagrams.forEach(function(i){var a=e._createNewDiagrams(i.plane);Array.prototype.push.apply(n,a)}),n.forEach(function(i){e._movePlaneElementsToOrigin(i.plane)})}};zf.prototype._createNewDiagrams=function(t){var e=this,n=[],i=[];t.get("planeElement").forEach(function(c){var d=c.bpmnElement;if(d){var h=d.$parent;M(d,"bpmn:SubProcess")&&!c.isExpanded&&n.push(d),cit(d,t)&&i.push({diElement:c,parent:h})}});var a=[];return n.forEach(function(c){if(!e._processToDiagramMap[c.id]){var d=e._createDiagram(c);e._processToDiagramMap[c.id]=d,a.push(d)}}),i.forEach(function(c){for(var d=c.diElement,h=c.parent;h&&n.indexOf(h)===-1;)h=h.$parent;if(h){var m=e._processToDiagramMap[h.id];e._moveToDiPlane(d,m.plane)}}),a};zf.prototype._movePlaneElementsToOrigin=function(t){var e=t.get("planeElement"),n=lit(t),i={x:n.x-Dhe.x,y:n.y-Dhe.y};e.forEach(function(a){a.waypoint?a.waypoint.forEach(function(c){c.x=c.x-i.x,c.y=c.y-i.y}):a.bounds&&(a.bounds.x=a.bounds.x-i.x,a.bounds.y=a.bounds.y-i.y)})};zf.prototype._moveToDiPlane=function(t,e){var n=The(t),i=n.plane.get("planeElement");i.splice(i.indexOf(t),1),e.get("planeElement").push(t)};zf.prototype._createDiagram=function(t){var e=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:t}),n=this._moddle.create("bpmndi:BPMNDiagram",{plane:e});return e.$parent=n,e.bpmnElement=t,n.$parent=this._definitions,this._definitions.diagrams.push(n),n};zf.$inject=["eventBus","moddle"];function The(t){return M(t,"bpmndi:BPMNDiagram")?t:The(t.$parent)}function lit(t){var e={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return t.planeElement.forEach(function(n){if(n.bounds){var i=Xe(n.bounds);e.top=Math.min(i.top,e.top),e.left=Math.min(i.left,e.left)}}),kg(e)}function cit(t,e){var n=t.$parent;return!(!M(n,"bpmn:SubProcess")||n===e.bpmnElement||He(t,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))}var u7=250,uit='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg>',dit="bjs-drilldown-empty";function hd(t,e,n,i){De.call(this,e),this._canvas=t,this._eventBus=e,this._elementRegistry=n,this._overlays=i;var a=this;this.executed("shape.toggleCollapse",u7,function(c){var d=c.shape;a._canDrillDown(d)?a._addOverlay(d):a._removeOverlay(d)},!0),this.reverted("shape.toggleCollapse",u7,function(c){var d=c.shape;a._canDrillDown(d)?a._addOverlay(d):a._removeOverlay(d)},!0),this.executed(["shape.create","shape.move","shape.delete"],u7,function(c){var d=c.oldParent,h=c.newParent||c.parent,m=c.shape;a._canDrillDown(m)&&a._addOverlay(m),a._updateDrilldownOverlay(d),a._updateDrilldownOverlay(h),a._updateDrilldownOverlay(m)},!0),this.reverted(["shape.create","shape.move","shape.delete"],u7,function(c){var d=c.oldParent,h=c.newParent||c.parent,m=c.shape;a._canDrillDown(m)&&a._addOverlay(m),a._updateDrilldownOverlay(d),a._updateDrilldownOverlay(h),a._updateDrilldownOverlay(m)},!0),e.on("import.render.complete",function(){n.filter(function(c){return a._canDrillDown(c)}).map(function(c){a._addOverlay(c)})})}ke(hd,De);hd.prototype._updateDrilldownOverlay=function(t){var e=this._canvas;if(t){var n=e.findRoot(t);n&&this._updateOverlayVisibility(n)}};hd.prototype._canDrillDown=function(t){var e=this._canvas;return M(t,"bpmn:SubProcess")&&e.findRoot(ec(t))};hd.prototype._updateOverlayVisibility=function(t){var e=this._overlays,n=K(t),i=e.get({element:n.id,type:"drilldown"})[0];if(i){var a=n&&n.get("flowElements")&&n.get("flowElements").length;_r(i.html).toggle(dit,!a)}};hd.prototype._addOverlay=function(t){var e=this._canvas,n=this._overlays,i=n.get({element:t,type:"drilldown"});i.length&&this._removeOverlay(t);var a=jt('<button class="bjs-drilldown">'+uit+"</button>");a.addEventListener("click",function(){e.setRootElement(e.findRoot(ec(t)))}),n.add(t,"drilldown",{position:{bottom:-7,right:-8},html:a}),this._updateOverlayVisibility(t)};hd.prototype._removeOverlay=function(t){var e=this._overlays;e.remove({element:t,type:"drilldown"})};hd.$inject=["canvas","eventBus","elementRegistry","overlays"];var khe={__depends__:[e0,_2,Che],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",l7],drilldownCentering:["type",c7],drilldownOverlayBehavior:["type",hd],subprocessCompatibility:["type",zf]};function Zc(t){fn.call(this,t)}ke(Zc,fn);Zc.prototype._modules=[mhe,Zp,Gi,e0,khe];Zc.prototype._moddleExtensions={};var Phe=["c","C"],Ihe=["v","V"],Mhe=["y","Y"],CB=["z","Z"];function Ahe(t){return t.ctrlKey||t.metaKey||t.shiftKey||t.altKey}function go(t){return t.altKey?!1:t.ctrlKey||t.metaKey}function Yr(t,e){return t=Ue(t)?t:[t],t.indexOf(e.key)!==-1||t.indexOf(e.code)!==-1}function d7(t){return t.shiftKey}function Rhe(t){return go(t)&&Yr(Phe,t)}function Lhe(t){return go(t)&&Yr(Ihe,t)}function f7(t){return go(t)&&!d7(t)&&Yr(CB,t)}function h7(t){return go(t)&&(Yr(Mhe,t)||Yr(CB,t)&&d7(t))}var p7="keyboard.keydown",fit="keyboard.keyup",$he="input-handle-modified-keys",hit=1e3;function Qi(t,e){var n=this;this._config=t||{},this._eventBus=e,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),e.on("diagram.destroy",function(){n._fire("destroy"),n.unbind()}),e.on("diagram.init",function(){n._fire("init")}),e.on("attach",function(){t&&t.bindTo&&n.bind(t.bindTo)}),e.on("detach",function(){n.unbind()})}Qi.$inject=["config.keyboard","eventBus"];Qi.prototype._keydownHandler=function(t){this._keyHandler(t,p7)};Qi.prototype._keyupHandler=function(t){this._keyHandler(t,fit)};Qi.prototype._keyHandler=function(t,e){var n;if(!this._isEventIgnored(t)){var i={keyEvent:t};n=this._eventBus.fire(e||p7,i),n&&t.preventDefault()}};Qi.prototype._isEventIgnored=function(t){return t.defaultPrevented?!0:pit(t.target)&&this._isModifiedKeyIgnored(t)};Qi.prototype._isModifiedKeyIgnored=function(t){if(!go(t))return!0;var e=this._getAllowedModifiers(t.target);return e.indexOf(t.key)===-1};Qi.prototype._getAllowedModifiers=function(t){var e=Ko(t,"["+$he+"]",!0);return!e||this._node&&!this._node.contains(e)?[]:e.getAttribute($he).split(",")};Qi.prototype.bind=function(t){this.unbind(),this._node=t,nt.bind(t,"keydown",this._keydownHandler),nt.bind(t,"keyup",this._keyupHandler),this._fire("bind")};Qi.prototype.getBinding=function(){return this._node};Qi.prototype.unbind=function(){var t=this._node;t&&(this._fire("unbind"),nt.unbind(t,"keydown",this._keydownHandler),nt.unbind(t,"keyup",this._keyupHandler)),this._node=null};Qi.prototype._fire=function(t){this._eventBus.fire("keyboard."+t,{node:this._node})};Qi.prototype.addListener=function(t,e,n){At(t)&&(n=e,e=t,t=hit),this._eventBus.on(n||p7,t,e)};Qi.prototype.removeListener=function(t,e){this._eventBus.off(e||p7,t)};Qi.prototype.hasModifier=Ahe;Qi.prototype.isCmd=go;Qi.prototype.isShift=d7;Qi.prototype.isKey=Yr;function pit(t){return t&&(o2(t,"input, textarea")||t.contentEditable==="true")}var mit=500;function Hf(t,e){var n=this;t.on("editorActions.init",mit,function(i){var a=i.editorActions;n.registerBindings(e,a)})}Hf.$inject=["eventBus","keyboard"];Hf.prototype.registerBindings=function(t,e){function n(i,a){e.isRegistered(i)&&t.addListener(a)}n("undo",function(i){var a=i.keyEvent;if(f7(a))return e.trigger("undo"),!0}),n("redo",function(i){var a=i.keyEvent;if(h7(a))return e.trigger("redo"),!0}),n("copy",function(i){var a=i.keyEvent;if(Rhe(a))return e.trigger("copy"),!0}),n("paste",function(i){var a=i.keyEvent;if(Lhe(a))return e.trigger("paste"),!0}),n("stepZoom",function(i){var a=i.keyEvent;if(Yr(["+","Add","="],a)&&go(a))return e.trigger("stepZoom",{value:1}),!0}),n("stepZoom",function(i){var a=i.keyEvent;if(Yr(["-","Subtract"],a)&&go(a))return e.trigger("stepZoom",{value:-1}),!0}),n("zoom",function(i){var a=i.keyEvent;if(Yr("0",a)&&go(a))return e.trigger("zoom",{value:1}),!0}),n("removeSelection",function(i){var a=i.keyEvent;if(Yr(["Backspace","Delete","Del"],a))return e.trigger("removeSelection"),!0})};var C2={__init__:["keyboard","keyboardBindings"],keyboard:["type",Qi],keyboardBindings:["type",Hf]};var git={moveSpeed:50,moveSpeedAccelerated:200};function m7(t,e,n){var i=this;this._config=le({},git,t||{}),e.addListener(a);function a(c){var d=c.keyEvent,h=i._config;if(e.isCmd(d)&&e.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],d)){var m=e.isShift(d)?h.moveSpeedAccelerated:h.moveSpeed,g;switch(d.key){case"ArrowLeft":case"Left":g="left";break;case"ArrowUp":case"Up":g="up";break;case"ArrowRight":case"Right":g="right";break;case"ArrowDown":case"Down":g="down";break}return i.moveCanvas({speed:m,direction:g}),!0}}this.moveCanvas=function(c){var d=0,h=0,m=c.speed,g=m/Math.min(Math.sqrt(n.viewbox().scale),1);switch(c.direction){case"left":d=g;break;case"up":h=g;break;case"right":d=-g;break;case"down":h=-g;break}n.scroll({dx:d,dy:h})}}m7.$inject=["config.keyboardMove","keyboard","canvas"];var g7={__depends__:[C2],__init__:["keyboardMove"],keyboardMove:["type",m7]};var vit=/^djs-cursor-.*$/;function Lg(t){var e=_r(document.body);e.removeMatching(vit),t&&e.add("djs-cursor-"+t)}function v7(){Lg(null)}var yit=5e3;function y7(t,e){e=e||"element.click";function n(){return!1}return t.once(e,yit,n),function(){t.off(e,n)}}function S2(t){return{x:t.x+t.width/2,y:t.y+t.height/2}}function Ao(t,e){return{x:t.x-e.x,y:t.y-e.y}}var bit=15;function b7(t,e){var n;t.on("element.mousedown",500,function(d){return c(d.originalEvent)});function i(d){var h=n.start,m=n.button,g=wa(d),b=Ao(g,h);if(!n.dragging&&xit(b)>bit&&(n.dragging=!0,m===0&&y7(t),Lg("grab")),n.dragging){var E=n.last||n.start;b=Ao(g,E),e.scroll({dx:b.x,dy:b.y}),n.last=g}d.preventDefault()}function a(d){nt.unbind(document,"mousemove",i),nt.unbind(document,"mouseup",a),n=null,v7()}function c(d){if(!Ko(d.target,".djs-draggable")){var h=d.button;if(!(h>=2||d.ctrlKey||d.shiftKey||d.altKey))return n={button:h,start:wa(d)},nt.bind(document,"mousemove",i),nt.bind(document,"mouseup",a),!0}}this.isActive=function(){return!!n}}b7.$inject=["eventBus","canvas"];function xit(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}var x7={__init__:["moveCanvas"],moveCanvas:["type",b7]};function gw(t){return Math.log(t)/Math.log(10)}function SB(t,e){var n=gw(t.min),i=gw(t.max),a=Math.abs(n)+Math.abs(i);return a/e}function Nhe(t,e){return Math.max(t.min,Math.min(t.max,e))}var Eit=Math.sign||function(t){return t>=0?1:-1},OB={min:.2,max:4},Fhe=10,wit=.1,_it=.75;function tc(t,e,n){t=t||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=ai(this._handleWheel,this),this._totalDelta=0,this._scale=t.scale||_it;var i=this;e.on("canvas.init",function(a){i._init(t.enabled!==!1)})}tc.$inject=["config.zoomScroll","eventBus","canvas"];tc.prototype.scroll=function(e){this._canvas.scroll(e)};tc.prototype.reset=function(){this._canvas.zoom("fit-viewport")};tc.prototype.zoom=function(e,n){var i=SB(OB,Fhe*2);this._totalDelta+=e,Math.abs(this._totalDelta)>wit&&(this._zoom(e,n,i),this._totalDelta=0)};tc.prototype._handleWheel=function(e){if(!Ko(e.target,".djs-scrollable",!0)){var n=this._container;e.preventDefault();var i=e.ctrlKey||J8()&&e.metaKey,a=e.shiftKey,c=-1*this._scale,d;if(i?c*=e.deltaMode===0?.02:.32:c*=e.deltaMode===0?1:16,i){var h=n.getBoundingClientRect(),m={x:e.clientX-h.left,y:e.clientY-h.top};d=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*Eit(e.deltaY)*c,this.zoom(d,m)}else a?d={dx:c*e.deltaY,dy:0}:d={dx:c*e.deltaX,dy:c*e.deltaY},this.scroll(d)}};tc.prototype.stepZoom=function(e,n){var i=SB(OB,Fhe);this._zoom(e,n,i)};tc.prototype._zoom=function(t,e,n){var i=this._canvas,a=t>0?1:-1,c=gw(i.zoom()),d=Math.round(c/n)*n;d+=n*a;var h=Math.pow(10,d);i.zoom(Nhe(OB,h),e)};tc.prototype.toggle=function(e){var n=this._container,i=this._handleWheel,a=this._enabled;return typeof e>"u"&&(e=!a),a!==e&&nt[e?"bind":"unbind"](n,"wheel",i,!1),this._enabled=e,e};tc.prototype._init=function(t){this.toggle(t)};var E7={__init__:["zoomScroll"],zoomScroll:["type",tc]};function $g(t){Zc.call(this,t)}ke($g,Zc);$g.prototype._navigationModules=[g7,x7,E7];$g.prototype._modules=[].concat(Zc.prototype._modules,$g.prototype._navigationModules);var n0=wf(Bhe());var Cit=.2,Sit=4,jhe=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function _7(t,e){return e.get(t,!1)}function TB(t){t.preventDefault(),typeof t.stopPropagation=="function"?t.stopPropagation():t.srcEvent&&typeof t.srcEvent.stopPropagation=="function"&&t.srcEvent.stopPropagation(),typeof t.stopImmediatePropagation=="function"&&t.stopImmediatePropagation()}function DB(t){function e(g){J(jhe,function(b){nt.bind(t,b,TB,!0)})}function n(g){setTimeout(function(){J(jhe,function(b){nt.unbind(t,b,TB,!0)})},500)}nt.bind(t,"touchstart",e,!0),nt.bind(t,"touchend",n,!0),nt.bind(t,"touchcancel",n,!0);var i=new n0.default.Manager(t,{inputClass:n0.default.TouchInput,recognizers:[],domEvents:!0}),a=new n0.default.Tap,c=new n0.default.Pan({threshold:10}),d=new n0.default.Press,h=new n0.default.Pinch,m=new n0.default.Tap({event:"doubletap",taps:2});return h.requireFailure(c),h.requireFailure(d),i.add([c,d,h,m,a]),i.reset=function(g){var b=this.recognizers,E=this.session;E.stopped||(i.stop(g),setTimeout(function(){var _,S;for(_=0;S=b[_];_++)S.reset(),S.state=8;E.curRecognizer=null},0))},i.on("hammer.input",function(g){g.srcEvent.defaultPrevented&&i.reset(!0)}),i}function C7(t,e,n,i,a){var c=_7("dragging",t),d=_7("move",t),h=_7("contextPad",t),m=_7("palette",t),g;function b(S,D){return function(k){var I=E(k.target),R=I&&i.get(I);return D&&(k.srcEvent.button=D),a.fire(S,k,R)}}function E(S){var D=Ko(S,"svg, .djs-element",!0);return D}function _(S){g=DB(S);function D(R){var $=0,F=0;function L(G){var re=G.deltaX-$,ee=G.deltaY-F;e.scroll({dx:re,dy:ee}),$=G.deltaX,F=G.deltaY}function V(G){g.off("panmove",L),g.off("panend",V),g.off("pancancel",V)}g.on("panmove",L),g.on("panend",V),g.on("pancancel",V)}function k(R){var $=E(R.target),F=$&&i.get($);if(d&&e.getRootElement()!==F)return d.start(R,F,!0);D(R)}function I(R){var $=e.zoom(),F=R.center;function L(G){var re=1-(1-G.scale)/1.5,ee=Math.max(Cit,Math.min(Sit,re*$));e.zoom(ee,F),TB(G)}function V(G){g.off("pinchmove",L),g.off("pinchend",V),g.off("pinchcancel",V),g.reset(!0)}g.on("pinchmove",L),g.on("pinchend",V),g.on("pinchcancel",V)}g.on("tap",b("element.click")),g.on("doubletap",b("element.dblclick",1)),g.on("panstart",k),g.on("press",k),g.on("pinchstart",I)}c&&n.on("drag.move",function(S){var D=S.originalEvent;if(!(!D||D instanceof MouseEvent)){var k=wa(D),I=document.elementFromPoint(k.x,k.y),R=E(I),$=R&&i.get(R);$!==S.hover&&(S.hover&&c.out(S),$&&(c.hover({element:$,gfx:R}),S.hover=$,S.hoverGfx=R))}}),h&&n.on("contextPad.create",function(S){var D=S.pad.html,k=DB(D);k.on("panstart",function(I){h.trigger("dragstart",I,!0)}),k.on("press",function(I){h.trigger("dragstart",I,!0)}),k.on("tap",function(I){h.trigger("click",I)})}),m&&n.on("palette.create",function(S){var D=S.container,k=DB(D);k.on("panstart",function(I){m.trigger("dragstart",I,!0)}),k.on("press",function(I){m.trigger("dragstart",I,!0)}),k.on("tap",function(I){m.trigger("click",I)})}),n.on("canvas.init",function(S){_(S.svg)})}C7.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"];function vw(t){var e=this;t.on("canvas.init",function(n){e.addBBoxMarker(n.svg)})}vw.$inject=["eventBus"];vw.prototype.addBBoxMarker=function(t){var e={fill:"none",class:"outer-bound-marker"},n=We("rect");Ne(n,{x:-1e4,y:1e4,width:10,height:10}),Ne(n,e),et(t,n);var i=We("rect");Ne(i,{x:1e4,y:1e4,width:10,height:10}),Ne(i,e),et(t,i)};var Vhe={__depends__:[fd],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",C7],touchFix:["type",vw]};var zhe={__depends__:[Vhe]};function kB(t){return t&&t[t.length-1]}function Hhe(t){return t.y}function Uhe(t){return t.x}var Oit={left:Uhe,center:Uhe,right:function(t){return t.x+t.width},top:Hhe,middle:Hhe,bottom:function(t){return t.y+t.height}};function r0(t,e){this._modeling=t,this._rules=e}r0.$inject=["modeling","rules"];r0.prototype._getOrientationDetails=function(t){var e=["top","bottom","middle"],n="x",i="width";return e.indexOf(t)!==-1&&(n="y",i="height"),{axis:n,dimension:i}};r0.prototype._isType=function(t,e){return e.indexOf(t)!==-1};r0.prototype._alignmentPosition=function(t,e){var n=this._getOrientationDetails(t),i=n.axis,a=n.dimension,c={},d={},h=!1,m,g,b;function E(_,S){return Math.round((_[i]+S[i]+S[a])/2)}if(this._isType(t,["left","top"]))c[t]=e[0][i];else if(this._isType(t,["right","bottom"]))b=kB(e),c[t]=b[i]+b[a];else if(this._isType(t,["center","middle"])){if(J(e,function(_){var S=_[i]+Math.round(_[a]/2);d[S]?d[S].elements.push(_):d[S]={elements:[_],center:S}}),m=fr(d,function(_){return _.elements.length>1&&(h=!0),_.elements.length}),h)return c[t]=kB(m).center,c;g=e[0],e=fr(e,function(_){return _[i]+_[a]}),b=kB(e),c[t]=E(g,b)}return c};r0.prototype.trigger=function(t,e){var n=this._modeling,i,a=Ze(t,function(m){return!(m.waypoints||m.host||m.labelTarget)});if(i=this._rules.allowed("elements.align",{elements:a}),Ue(i)&&(a=i),!(a.length<2||!i)){var c=Oit[e],d=fr(a,c),h=this._alignmentPosition(e,d);n.alignElements(d,h)}};var qhe={__init__:["alignElements"],alignElements:["type",r0]};var S7=".entry",Dit=1e3,Whe=12,Tit=300;function Jo(t,e,n,i){this._canvas=t,this._eventBus=n,this._overlays=i;var a=In(e&&e.scale)?e.scale:{min:1,max:1.5};this._overlaysConfig={scale:a},this._current=null,this._init()}Jo.$inject=["canvas","config.contextPad","eventBus","overlays"];Jo.prototype._init=function(){var t=this;this._eventBus.on("selection.changed",function(e){var n=e.newSelection,i=n.length?n.length===1?n[0]:n:null;i?t.open(i,!0):t.close()}),this._eventBus.on("elements.changed",function(e){var n=e.elements,i=t._current;if(i){var a=i.target,c=ho(Ue(a)?a:[a],function(d){return Ghe(n,d)});c&&t.open(a,!0)}})};Jo.prototype.registerProvider=function(t,e){e||(e=t,t=Dit),this._eventBus.on("contextPad.getProviders",t,function(n){n.providers.push(e)})};Jo.prototype.getEntries=function(t){var e=this._getProviders(),n=Ue(t)?"getMultiElementContextPadEntries":"getContextPadEntries",i={};return J(e,function(a){if(At(a[n])){var c=a[n](t);At(c)?i=c(i):J(c,function(d,h){i[h]=d})}}),i};Jo.prototype.trigger=function(t,e,n){var i,a,c=e.delegateTarget||e.target;return c?(i=vi(c,"data-action"),a=e.originalEvent||e,t==="mouseover"?this._timeout=setTimeout(()=>{this._mouseout=this.triggerEntry(i,"hover",a,n)},Tit):t==="mouseout"&&(clearTimeout(this._timeout),this._mouseout&&(this._mouseout(),this._mouseout=null)),this.triggerEntry(i,t,a,n)):e.preventDefault()};Jo.prototype.triggerEntry=function(t,e,n,i){if(this.isShown()){var a=this._current.target,c=this._current.entries,d=c[t];if(d){var h=d.action;if(this._eventBus.fire("contextPad.trigger",{entry:d,event:n})!==!1){if(At(h)){if(e==="click")return h(n,a,i)}else if(h[e])return h[e](n,a,i);n.preventDefault()}}}};Jo.prototype.open=function(t,e){!e&&this.isOpen(t)||(this.close(),this._updateAndOpen(t))};Jo.prototype._getProviders=function(){var t=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(t),t.providers};Jo.prototype._updateAndOpen=function(t){var e=this.getEntries(t),n=this.getPad(t),i=n.html,a;J(e,function(c,d){var h=c.group||"default",m=jt(c.html||'<div class="entry" draggable="true"></div>'),g;vi(m,"data-action",d),g=Et("[data-group="+Vf(h)+"]",i),g||(g=jt('<div class="group"></div>'),vi(g,"data-group",h),i.appendChild(g)),g.appendChild(m),c.className&&kit(m,c.className),c.title&&vi(m,"title",c.title),c.imageUrl&&(a=jt("<img>"),vi(a,"src",c.imageUrl),a.style.width="100%",a.style.height="100%",m.appendChild(a))}),_r(i).add("open"),this._current={target:t,entries:e,pad:n},this._eventBus.fire("contextPad.open",{current:this._current})};Jo.prototype.getPad=function(t){if(this.isOpen())return this._current.pad;var e=this,n=this._overlays,i=jt('<div class="djs-context-pad"></div>'),a=this._getPosition(t),c=le({html:i},this._overlaysConfig,a);Wi.bind(i,S7,"click",function(m){e.trigger("click",m)}),Wi.bind(i,S7,"dragstart",function(m){e.trigger("dragstart",m)}),Wi.bind(i,S7,"mouseover",function(m){e.trigger("mouseover",m)}),Wi.bind(i,S7,"mouseout",function(m){e.trigger("mouseout",m)}),nt.bind(i,"mousedown",function(m){m.stopPropagation()});var d=this._canvas.getRootElement();this._overlayId=n.add(d,"context-pad",c);var h=n.get(this._overlayId);return this._eventBus.fire("contextPad.create",{target:t,pad:h}),h};Jo.prototype.close=function(){this.isOpen()&&(clearTimeout(this._timeout),this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)};Jo.prototype.isOpen=function(t){var e=this._current;if(!e)return!1;if(!t)return!0;var n=e.target;return Ue(t)!==Ue(n)?!1:Ue(t)?t.length===n.length&&Gc(t,function(i){return Ghe(n,i)}):n===t};Jo.prototype.isShown=function(){return this.isOpen()&&this._overlays.isShown()};Jo.prototype._getPosition=function(t){t=Tn(t)?Pit(t):t;var e=Ue(t)?t:[t],n=En(e);return{position:{left:n.x+n.width+Whe,top:n.y-Whe/2}}};function kit(t,e){var n=_r(t);e=Ue(e)?e:e.split(/\s+/g),e.forEach(function(i){n.add(i)})}function Ghe(t,e){return t.indexOf(e)!==-1}function Pit(t){return t.waypoints[t.waypoints.length-1]}var O7={__depends__:[fd,e0],contextPad:["type",Jo]};var P7,Xr,Zhe,Iit,Ng,Qhe,Jhe,PB,RB,IB,MB,Mit,bw={},epe=[],Ait=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,LB=Array.isArray;function i0(t,e){for(var n in e)t[n]=e[n];return t}function tpe(t){var e=t.parentNode;e&&e.removeChild(t)}function I7(t,e,n){var i,a,c,d={};for(c in e)c=="key"?i=e[c]:c=="ref"?a=e[c]:d[c]=e[c];if(arguments.length>2&&(d.children=arguments.length>3?P7.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(c in t.defaultProps)d[c]===void 0&&(d[c]=t.defaultProps[c]);return T7(t,d,i,a,null)}function T7(t,e,n,i,a){var c={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:a??++Zhe,__i:-1,__u:0};return a==null&&Xr.vnode!=null&&Xr.vnode(c),c}function M7(t){return t.children}function yw(t,e){this.props=t,this.context=e}function Fg(t,e){if(e==null)return t.__?Fg(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Fg(t):null}function npe(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return npe(t)}}function Yhe(t){(!t.__d&&(t.__d=!0)&&Ng.push(t)&&!k7.__r++||Qhe!==Xr.debounceRendering)&&((Qhe=Xr.debounceRendering)||Jhe)(k7)}function k7(){var t,e,n,i,a,c,d,h;for(Ng.sort(PB);t=Ng.shift();)t.__d&&(e=Ng.length,i=void 0,c=(a=(n=t).__v).__e,d=[],h=[],n.__P&&((i=i0({},a)).__v=a.__v+1,Xr.vnode&&Xr.vnode(i),$B(n.__P,i,a,n.__n,n.__P.namespaceURI,32&a.__u?[c]:null,d,c??Fg(a),!!(32&a.__u),h),i.__v=a.__v,i.__.__k[i.__i]=i,ope(d,i,h),i.__e!=c&&npe(i)),Ng.length>e&&Ng.sort(PB));k7.__r=0}function rpe(t,e,n,i,a,c,d,h,m,g,b){var E,_,S,D,k,I=i&&i.__k||epe,R=e.length;for(n.__d=m,Rit(n,e,I),m=n.__d,E=0;E<R;E++)(S=n.__k[E])!=null&&typeof S!="boolean"&&typeof S!="function"&&(_=S.__i===-1?bw:I[S.__i]||bw,S.__i=E,$B(t,S,_,a,c,d,h,m,g,b),D=S.__e,S.ref&&_.ref!=S.ref&&(_.ref&&NB(_.ref,null,S),b.push(S.ref,S.__c||D,S)),k==null&&D!=null&&(k=D),65536&S.__u||_.__k===S.__k?m=ipe(S,m,t):typeof S.type=="function"&&S.__d!==void 0?m=S.__d:D&&(m=D.nextSibling),S.__d=void 0,S.__u&=-196609);n.__d=m,n.__e=k}function Rit(t,e,n){var i,a,c,d,h,m=e.length,g=n.length,b=g,E=0;for(t.__k=[],i=0;i<m;i++)d=i+E,(a=t.__k[i]=(a=e[i])==null||typeof a=="boolean"||typeof a=="function"?null:typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?T7(null,a,null,null,null):LB(a)?T7(M7,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?T7(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a)!=null?(a.__=t,a.__b=t.__b+1,h=Lit(a,n,d,b),a.__i=h,c=null,h!==-1&&(b--,(c=n[h])&&(c.__u|=131072)),c==null||c.__v===null?(h==-1&&E--,typeof a.type!="function"&&(a.__u|=65536)):h!==d&&(h==d-1?E--:h==d+1?E++:h>d?b>m-d?E+=h-d:E--:h<d&&(h==d-E?E-=h-d:E++),h!==i+E&&(a.__u|=65536))):(c=n[d])&&c.key==null&&c.__e&&!(131072&c.__u)&&(c.__e==t.__d&&(t.__d=Fg(c)),AB(c,c,!1),n[d]=null,b--);if(b)for(i=0;i<g;i++)(c=n[i])!=null&&!(131072&c.__u)&&(c.__e==t.__d&&(t.__d=Fg(c)),AB(c,c))}function ipe(t,e,n){var i,a;if(typeof t.type=="function"){for(i=t.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=t,e=ipe(i[a],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=Fg(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Lit(t,e,n,i){var a=t.key,c=t.type,d=n-1,h=n+1,m=e[n];if(m===null||m&&a==m.key&&c===m.type&&!(131072&m.__u))return n;if(i>(m!=null&&!(131072&m.__u)?1:0))for(;d>=0||h<e.length;){if(d>=0){if((m=e[d])&&!(131072&m.__u)&&a==m.key&&c===m.type)return d;d--}if(h<e.length){if((m=e[h])&&!(131072&m.__u)&&a==m.key&&c===m.type)return h;h++}}return-1}function Xhe(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Ait.test(e)?n:n+"px"}function D7(t,e,n,i,a){var c;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||Xhe(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||Xhe(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")c=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+c]=n,n?i?n.u=i.u:(n.u=RB,t.addEventListener(e,c?MB:IB,c)):t.removeEventListener(e,c?MB:IB,c);else{if(a=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Khe(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=RB++;else if(e.t<n.u)return;return n(Xr.event?Xr.event(e):e)}}}function $B(t,e,n,i,a,c,d,h,m,g){var b,E,_,S,D,k,I,R,$,F,L,V,G,re,ee,oe,pe=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(m=!!(32&n.__u),c=[h=e.__e=n.__e]),(b=Xr.__b)&&b(e);e:if(typeof pe=="function")try{if(R=e.props,$="prototype"in pe&&pe.prototype.render,F=(b=pe.contextType)&&i[b.__c],L=b?F?F.props.value:b.__:i,n.__c?I=(E=e.__c=n.__c).__=E.__E:($?e.__c=E=new pe(R,L):(e.__c=E=new yw(R,L),E.constructor=pe,E.render=Nit),F&&F.sub(E),E.props=R,E.state||(E.state={}),E.context=L,E.__n=i,_=E.__d=!0,E.__h=[],E._sb=[]),$&&E.__s==null&&(E.__s=E.state),$&&pe.getDerivedStateFromProps!=null&&(E.__s==E.state&&(E.__s=i0({},E.__s)),i0(E.__s,pe.getDerivedStateFromProps(R,E.__s))),S=E.props,D=E.state,E.__v=e,_)$&&pe.getDerivedStateFromProps==null&&E.componentWillMount!=null&&E.componentWillMount(),$&&E.componentDidMount!=null&&E.__h.push(E.componentDidMount);else{if($&&pe.getDerivedStateFromProps==null&&R!==S&&E.componentWillReceiveProps!=null&&E.componentWillReceiveProps(R,L),!E.__e&&(E.shouldComponentUpdate!=null&&E.shouldComponentUpdate(R,E.__s,L)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(E.props=R,E.state=E.__s,E.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(ge){ge&&(ge.__=e)}),V=0;V<E._sb.length;V++)E.__h.push(E._sb[V]);E._sb=[],E.__h.length&&d.push(E);break e}E.componentWillUpdate!=null&&E.componentWillUpdate(R,E.__s,L),$&&E.componentDidUpdate!=null&&E.__h.push(function(){E.componentDidUpdate(S,D,k)})}if(E.context=L,E.props=R,E.__P=t,E.__e=!1,G=Xr.__r,re=0,$){for(E.state=E.__s,E.__d=!1,G&&G(e),b=E.render(E.props,E.state,E.context),ee=0;ee<E._sb.length;ee++)E.__h.push(E._sb[ee]);E._sb=[]}else do E.__d=!1,G&&G(e),b=E.render(E.props,E.state,E.context),E.state=E.__s;while(E.__d&&++re<25);E.state=E.__s,E.getChildContext!=null&&(i=i0(i0({},i),E.getChildContext())),$&&!_&&E.getSnapshotBeforeUpdate!=null&&(k=E.getSnapshotBeforeUpdate(S,D)),rpe(t,LB(oe=b!=null&&b.type===M7&&b.key==null?b.props.children:b)?oe:[oe],e,n,i,a,c,d,h,m,g),E.base=e.__e,e.__u&=-161,E.__h.length&&d.push(E),I&&(E.__E=E.__=null)}catch(ge){if(e.__v=null,m||c!=null){for(e.__u|=m?160:32;h&&h.nodeType===8&&h.nextSibling;)h=h.nextSibling;c[c.indexOf(h)]=null,e.__e=h}else e.__e=n.__e,e.__k=n.__k;Xr.__e(ge,e,n)}else c==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$it(n.__e,e,n,i,a,c,d,m,g);(b=Xr.diffed)&&b(e)}function ope(t,e,n){e.__d=void 0;for(var i=0;i<n.length;i++)NB(n[i],n[++i],n[++i]);Xr.__c&&Xr.__c(e,t),t.some(function(a){try{t=a.__h,a.__h=[],t.some(function(c){c.call(a)})}catch(c){Xr.__e(c,a.__v)}})}function $it(t,e,n,i,a,c,d,h,m){var g,b,E,_,S,D,k,I=n.props,R=e.props,$=e.type;if($==="svg"?a="http://www.w3.org/2000/svg":$==="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),c!=null){for(g=0;g<c.length;g++)if((S=c[g])&&"setAttribute"in S==!!$&&($?S.localName===$:S.nodeType===3)){t=S,c[g]=null;break}}if(t==null){if($===null)return document.createTextNode(R);t=document.createElementNS(a,$,R.is&&R),c=null,h=!1}if($===null)I===R||h&&t.data===R||(t.data=R);else{if(c=c&&P7.call(t.childNodes),I=n.props||bw,!h&&c!=null)for(I={},g=0;g<t.attributes.length;g++)I[(S=t.attributes[g]).name]=S.value;for(g in I)if(S=I[g],g!="children"){if(g=="dangerouslySetInnerHTML")E=S;else if(g!=="key"&&!(g in R)){if(g=="value"&&"defaultValue"in R||g=="checked"&&"defaultChecked"in R)continue;D7(t,g,null,S,a)}}for(g in R)S=R[g],g=="children"?_=S:g=="dangerouslySetInnerHTML"?b=S:g=="value"?D=S:g=="checked"?k=S:g==="key"||h&&typeof S!="function"||I[g]===S||D7(t,g,S,I[g],a);if(b)h||E&&(b.__html===E.__html||b.__html===t.innerHTML)||(t.innerHTML=b.__html),e.__k=[];else if(E&&(t.innerHTML=""),rpe(t,LB(_)?_:[_],e,n,i,$==="foreignObject"?"http://www.w3.org/1999/xhtml":a,c,d,c?c[0]:n.__k&&Fg(n,0),h,m),c!=null)for(g=c.length;g--;)c[g]!=null&&tpe(c[g]);h||(g="value",D!==void 0&&(D!==t[g]||$==="progress"&&!D||$==="option"&&D!==I[g])&&D7(t,g,D,I[g],a),g="checked",k!==void 0&&k!==t[g]&&D7(t,g,k,I[g],a))}return t}function NB(t,e,n){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&e==null||(t.__u=t(e))}else t.current=e}catch(a){Xr.__e(a,n)}}function AB(t,e,n){var i,a;if(Xr.unmount&&Xr.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||NB(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(c){Xr.__e(c,e)}i.base=i.__P=null}if(i=t.__k)for(a=0;a<i.length;a++)i[a]&&AB(i[a],e,n||typeof t.type!="function");n||t.__e==null||tpe(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function Nit(t,e,n){return this.constructor(t,n)}function A7(t,e,n){var i,a,c,d;Xr.__&&Xr.__(t,e),a=(i=typeof n=="function")?null:n&&n.__k||e.__k,c=[],d=[],$B(e,t=(!i&&n||e).__k=I7(M7,null,[t]),a||bw,bw,e.namespaceURI,!i&&n?[n]:a?null:e.firstChild?P7.call(e.childNodes):null,c,!i&&n?n:a?a.__e:e.firstChild,i,d),ope(c,t,d)}P7=epe.slice,Xr={__e:function(t,e,n,i){for(var a,c,d;e=e.__;)if((a=e.__c)&&!a.__)try{if((c=a.constructor)&&c.getDerivedStateFromError!=null&&(a.setState(c.getDerivedStateFromError(t)),d=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,i||{}),d=a.__d),d)return a.__E=a}catch(h){t=h}throw t}},Zhe=0,Iit=function(t){return t!=null&&t.constructor==null},yw.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=i0({},this.state),typeof t=="function"&&(t=t(i0({},n),this.props)),t&&i0(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Yhe(this))},yw.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Yhe(this))},yw.prototype.render=M7,Ng=[],Jhe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,PB=function(t,e){return t.__v.__b-e.__v.__b},k7.__r=0,RB=0,IB=Khe(!1),MB=Khe(!0),Mit=0;var ape=function(t,e,n,i){var a;e[0]=0;for(var c=1;c<e.length;c++){var d=e[c++],h=e[c]?(e[0]|=d?1:2,n[e[c++]]):e[++c];d===3?i[0]=h:d===4?i[1]=Object.assign(i[1]||{},h):d===5?(i[1]=i[1]||{})[e[++c]]=h:d===6?i[1][e[++c]]+=h+"":d?(a=t.apply(h,ape(t,h,n,["",null])),i.push(a),h[0]?e[0]|=2:(e[c-2]=0,e[c]=a)):i.push(h)}return i},spe=new Map;function lpe(t){var e=spe.get(this);return e||(e=new Map,spe.set(this,e)),(e=ape(this,e.get(t)||(e.set(t,e=function(n){for(var i,a,c=1,d="",h="",m=[0],g=function(_){c===1&&(_||(d=d.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?m.push(0,_,d):c===3&&(_||d)?(m.push(3,_,d),c=2):c===2&&d==="..."&&_?m.push(4,_,0):c===2&&d&&!_?m.push(5,0,!0,d):c>=5&&((d||!_&&c===5)&&(m.push(c,0,d,a),c=6),_&&(m.push(c,_,0,a),c=6)),d=""},b=0;b<n.length;b++){b&&(c===1&&g(),g(b));for(var E=0;E<n[b].length;E++)i=n[b][E],c===1?i==="<"?(g(),m=[m],c=3):d+=i:c===4?d==="--"&&i===">"?(c=1,d=""):d=i+d[0]:h?i===h?h="":d+=i:i==='"'||i==="'"?h=i:i===">"?(g(),c=1):c&&(i==="="?(c=5,a=d,d=""):i==="/"&&(c<5||n[b][E+1]===">")?(g(),c===3&&(m=m[0]),c=m,(m=m[0]).push(2,0,c),c=0):i===" "||i==="	"||i===`
`||i==="\r"?(g(),c=2):d+=i),c===3&&d==="!--"&&(c=4,m=m[0])}return g(),m}(t)),e),arguments,[])).length>1?e:e[0]}var Pr=lpe.bind(I7);var O2,Ei,FB,cpe,xw=0,vpe=[],Li=Xr,upe=Li.__b,dpe=Li.__r,fpe=Li.diffed,hpe=Li.__c,ppe=Li.unmount,mpe=Li.__;function L7(t,e){Li.__h&&Li.__h(Ei,t,xw||e),xw=0;var n=Ei.__H||(Ei.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Ew(t){return xw=1,ype(bpe,t)}function ype(t,e,n){var i=L7(O2++,2);if(i.t=t,!i.__c&&(i.__=[n?n(e):bpe(void 0,e),function(h){var m=i.__N?i.__N[0]:i.__[0],g=i.t(m,h);m!==g&&(i.__N=[g,i.__[1]],i.__c.setState({}))}],i.__c=Ei,!Ei.u)){var a=function(h,m,g){if(!i.__c.__H)return!0;var b=i.__c.__H.__.filter(function(_){return!!_.__c});if(b.every(function(_){return!_.__N}))return!c||c.call(this,h,m,g);var E=!1;return b.forEach(function(_){if(_.__N){var S=_.__[0];_.__=_.__N,_.__N=void 0,S!==_.__[0]&&(E=!0)}}),!(!E&&i.__c.props===h)&&(!c||c.call(this,h,m,g))};Ei.u=!0;var c=Ei.shouldComponentUpdate,d=Ei.componentWillUpdate;Ei.componentWillUpdate=function(h,m,g){if(this.__e){var b=c;c=void 0,a(h,m,g),c=b}d&&d.call(this,h,m,g)},Ei.shouldComponentUpdate=a}return i.__N||i.__}function ww(t,e){var n=L7(O2++,3);!Li.__s&&jB(n.__H,e)&&(n.__=t,n.i=e,Ei.__H.__h.push(n))}function Bg(t,e){var n=L7(O2++,4);!Li.__s&&jB(n.__H,e)&&(n.__=t,n.i=e,Ei.__h.push(n))}function D2(t){return xw=5,o0(function(){return{current:t}},[])}function o0(t,e){var n=L7(O2++,7);return jB(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function s0(t,e){return xw=8,o0(function(){return t},e)}function Fit(){for(var t;t=vpe.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(R7),t.__H.__h.forEach(BB),t.__H.__h=[]}catch(e){t.__H.__h=[],Li.__e(e,t.__v)}}Li.__b=function(t){Ei=null,upe&&upe(t)},Li.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),mpe&&mpe(t,e)},Li.__r=function(t){dpe&&dpe(t),O2=0;var e=(Ei=t.__c).__H;e&&(FB===Ei?(e.__h=[],Ei.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(R7),e.__h.forEach(BB),e.__h=[],O2=0)),FB=Ei},Li.diffed=function(t){fpe&&fpe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(vpe.push(e)!==1&&cpe===Li.requestAnimationFrame||((cpe=Li.requestAnimationFrame)||Bit)(Fit)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),FB=Ei=null},Li.__c=function(t,e){e.some(function(n){try{n.__h.forEach(R7),n.__h=n.__h.filter(function(i){return!i.__||BB(i)})}catch(i){e.some(function(a){a.__h&&(a.__h=[])}),e=[],Li.__e(i,n.__v)}}),hpe&&hpe(t,e)},Li.unmount=function(t){ppe&&ppe(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{R7(i)}catch(a){e=a}}),n.__H=void 0,e&&Li.__e(e,n.__v))};var gpe=typeof requestAnimationFrame=="function";function Bit(t){var e,n=function(){clearTimeout(i),gpe&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);gpe&&(e=requestAnimationFrame(n))}function R7(t){var e=Ei,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Ei=e}function BB(t){var e=Ei;t.__c=t.__(),Ei=e}function jB(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}function bpe(t,e){return typeof e=="function"?e(t):e}function xpe(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=xpe(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function jit(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=xpe(t))&&(i&&(i+=" "),i+=e);return i}var T2=jit;function VB(t){let{entry:e,selected:n,onMouseEnter:i,onMouseLeave:a,onAction:c}=t;return Pr`
    <li
      class=${T2("entry",{selected:n})}
      data-id=${e.id}
      title=${e.title||e.label}
      onClick=${c}
      onMouseEnter=${i}
      onMouseLeave=${a}
      onDragStart=${d=>c(d,e,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${T2("djs-popup-entry-name",e.className)}
        >
          ${e.imageUrl&&Pr`<img class="djs-popup-entry-icon" src=${e.imageUrl} alt="" />`||e.imageHtml&&Pr`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:e.imageHtml}} />`}

          ${e.label?Pr`
            <span class="djs-popup-label">
              ${e.label}
            </span>
          `:null}
        </span>
        ${e.description&&Pr`
          <span
            class="djs-popup-entry-description"
            title=${e.description}
          >
            ${e.description}
          </span>
        `}
      </div>
      ${e.documentationRef&&Pr`
        <div class="djs-popup-entry-docs">
          <a
            href="${e.documentationRef}"
            onClick=${d=>d.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function zB(t){let h=t,{selectedEntry:e,setSelectedEntry:n,entries:i}=h,a=Ae(h,["selectedEntry","setSelectedEntry","entries"]),c=D2(),d=o0(()=>Vit(i),[i]);return Bg(()=>{let m=c.current;if(!m)return;let g=m.querySelector(".selected");g&&zit(g)},[e]),Pr`
    <div class="djs-popup-results" ref=${c}>
      ${d.map(m=>Pr`
        ${m.name&&Pr`
          <div key=${m.id} class="entry-header" title=${m.name}>
            ${m.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${m.id}>
          ${m.entries.map(g=>Pr`
            <${VB}
              key=${g.id}
              entry=${g}
              selected=${g===e}
              onMouseEnter=${()=>n(g)}
              onMouseLeave=${()=>n(null)}
              ...${a}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function Vit(t){let e=[],n=c=>e.find(d=>c.id===d.id),i=c=>!!n(c),a=c=>typeof c=="string"?{id:c}:c;return t.forEach(c=>{let d=c.group?a(c.group):{id:"default"};i(d)?n(d).entries.push(c):e.push(Me(se({},d),{entries:[c]}))}),e}function zit(t){typeof t.scrollIntoViewIfNeeded=="function"?t.scrollIntoViewIfNeeded():t.scrollIntoView({scrollMode:"if-needed",block:"nearest"})}function HB(t){let{onClose:e,onSelect:n,className:i,headerEntries:a,position:c,title:d,width:h,scale:m,search:g,entries:b,onOpened:E,onClosed:_}=t,S=o0(()=>In(g)?b.length>5:!1,[g,b]),D=D2(),[k,I]=Ew(""),R=s0((ge,ce)=>{if(!S)return ge;let he=Se=>{if(!ce)return(Se.rank||0)>=0;let Qe=[Se.description||"",Se.label||"",Se.search||""].join("---").toLowerCase();return ce.toLowerCase().split(/\s/g).every(je=>Qe.includes(je))};return ge.filter(he)},[S]),[$,F]=Ew(R(b,k)),[L,V]=Ew($[0]),G=s0(ge=>{(!L||!ge.includes(L))&&V(ge[0]),F(ge)},[L,F,V]);ww(()=>{G(R(b,k))},[k,b]),ww(()=>{let ge=ce=>{if(ce.key==="Escape")return ce.preventDefault(),e()};return document.documentElement.addEventListener("keydown",ge),()=>{document.documentElement.removeEventListener("keydown",ge)}},[]),Bg(()=>{D.current&&D.current.focus()},[]);let re=s0(ge=>{let he=$.indexOf(L)+ge;he<0&&(he=$.length-1),he>=$.length&&(he=0),V($[he])},[$,L,V]),ee=s0(ge=>{if(ge.key==="Enter"&&L)return n(ge,L);if(ge.key==="ArrowUp"||ge.key==="Tab"&&ge.shiftKey)return re(-1),ge.preventDefault();if(ge.key==="ArrowDown"||ge.key==="Tab")return re(1),ge.preventDefault()},[n,e,L,re]),oe=s0(ge=>{o2(ge.target,"input")&&I(()=>ge.target.value)},[I]);ww(()=>(E(),()=>{_()}),[]);let pe=o0(()=>d||a.length>0,[d,a]);return Pr`
    <${Epe}
      onClose=${e}
      onKeyup=${oe}
      onKeydown=${ee}
      className=${i}
      position=${c}
      width=${h}
      scale=${m}
    >
      ${pe&&Pr`
        <div class="djs-popup-header">
          <h3 class="djs-popup-title" title=${d}>${d}</h3>
          ${a.map(ge=>Pr`
            <span
              class=${Uit(ge,ge===L)}
              onClick=${ce=>n(ce,ge)}
              title=${ge.title||ge.label}
              data-id=${ge.id}
              onMouseEnter=${()=>V(ge)}
              onMouseLeave=${()=>V(null)}
            >
            ${ge.imageUrl&&Pr`<img class="djs-popup-entry-icon" src=${ge.imageUrl} alt="" />`||ge.imageHtml&&Pr`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:ge.imageHtml}} />`}

              ${ge.label?Pr`
                <span class="djs-popup-label">${ge.label}</span>
              `:null}
            </span>
          `)}
        </div>
      `}
      ${b.length>0&&Pr`
        <div class="djs-popup-body">

          ${S&&Pr`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input
                ref=${D}
                type="text"
              />
          </div>
          `}

          <${zB}
            entries=${$}
            selectedEntry=${L}
            setSelectedEntry=${V}
            onAction=${n}
          />
        </div>
        ${$.length===0&&Pr`
          <div class="djs-popup-no-results">No matching entries found.</div>
        `}
      `}
    </${Epe}>
  `}function Epe(t){let{onClose:e,onKeydown:n,onKeyup:i,className:a,children:c,position:d}=t,h=D2(),m=s0(g=>{Ko(g.target,".djs-popup",!0)||e()},[e]);return Bg(()=>{if(typeof d!="function")return;let g=h.current,b=d(g);g.style.left=`${b.x}px`,g.style.top=`${b.y}px`},[h.current,d]),Bg(()=>{h.current&&h.current.focus()},[]),Pr`
    <div
      class="djs-popup-backdrop"
      onClick=${m}
    >
      <div
        class=${T2("djs-popup",a)}
        style=${Hit(t)}
        onKeydown=${n}
        onKeyup=${i}
        ref=${h}
        tabIndex="-1"
      >
        ${c}
      </div>
    </div>
  `}function Hit(t){return{transform:`scale(${t.scale})`,width:`${t.width}px`}}function Uit(t,e){return T2("entry",t.className,t.active?"active":"",t.disabled?"disabled":"",e?"selected":"")}var qit="data-id",wpe=["contextPad.close","canvas.viewbox.changing","commandStack.changed"],Wit=1e3;function Br(t,e,n){this._eventBus=e,this._canvas=n,this._current=null;var i=In(t&&t.scale)?t.scale:{min:1,max:1.5};this._config={scale:i},e.on("diagram.destroy",()=>{this.close()}),e.on("element.changed",a=>{let c=this.isOpen()&&this._current.target;a.element===c&&this._render()})}Br.$inject=["config.popupMenu","eventBus","canvas"];Br.prototype._render=function(){let{position:t,className:e,entries:n,headerEntries:i,options:a}=this._current,c=Object.entries(n).map(([E,_])=>se({id:E},_)),d=Object.entries(i).map(([E,_])=>se({id:E},_)),h=t&&(E=>this._ensureVisible(E,t)),m=this._updateScale(this._current.container);A7(Pr`
      <${HB}
        onClose=${E=>this.close(E)}
        onSelect=${(E,_,S)=>this.trigger(E,_,S)}
        position=${h}
        className=${e}
        entries=${c}
        headerEntries=${d}
        scale=${m}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        ...${se({},a)}
      />
    `,this._current.container)};Br.prototype.open=function(t,e,n,i){if(!t)throw new Error("target is missing");if(!e)throw new Error("providers for <"+e+"> not found");if(!n)throw new Error("position is missing");this.isOpen()&&this.close();let{entries:a,headerEntries:c}=this._getContext(t,e);this._current={position:n,className:e,target:t,entries:a,headerEntries:c,container:this._createContainer({provider:e}),options:i},this._emit("open"),this._bindAutoClose(),this._render()};Br.prototype._getContext=function(t,e){let n=this._getProviders(e);if(!n||!n.length)throw new Error("provider for <"+e+"> not found");let i=this._getEntries(t,n),a=this._getHeaderEntries(t,n);return{entries:i,headerEntries:a,empty:!(Object.keys(i).length||Object.keys(a).length)}};Br.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._current=null)};Br.prototype.reset=function(){let t=this._current.container;A7(null,t),Gs(t)};Br.prototype._emit=function(t,e){this._eventBus.fire(`popupMenu.${t}`,e)};Br.prototype._onOpened=function(){this._emit("opened")};Br.prototype._onClosed=function(){this._emit("closed")};Br.prototype._createContainer=function(t){var e=this._canvas,n=e.getContainer();let i=jt(`<div class="djs-popup-parent djs-scrollable" data-popup=${t.provider}></div>`);return n.appendChild(i),i};Br.prototype._bindAutoClose=function(){this._eventBus.once(wpe,this.close,this)};Br.prototype._unbindAutoClose=function(){this._eventBus.off(wpe,this.close,this)};Br.prototype._updateScale=function(){var t=this._canvas.zoom(),e=this._config.scale,n,i,a=t;return e!==!0&&(e===!1?(n=1,i=1):(n=e.min,i=e.max),In(n)&&t<n&&(a=n),In(i)&&t>i&&(a=i)),a};Br.prototype._ensureVisible=function(t,e){var n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect(),a={},c=e.x,d=e.y;return e.x+i.width>n.width&&(a.x=!0),e.y+i.height>n.height&&(a.y=!0),a.x&&a.y?(c=e.x-i.width,d=e.y-i.height):a.x?(c=e.x-i.width,d=e.y):a.y&&e.y<i.height?(c=e.x,d=10):a.y&&(c=e.x,d=e.y-i.height),e.y<n.top&&(d=e.y+i.height),{x:c,y:d}};Br.prototype.isEmpty=function(t,e){if(!t)throw new Error("target is missing");if(!e)throw new Error("provider ID is missing");let n=this._getProviders(e);return!n||!n.length?!0:this._getContext(t,e).empty};Br.prototype.registerProvider=function(t,e,n){n||(n=e,e=Wit),this._eventBus.on("popupMenu.getProviders."+t,e,function(i){i.providers.push(n)})};Br.prototype._getProviders=function(t){var e=this._eventBus.createEvent({type:"popupMenu.getProviders."+t,providers:[]});return this._eventBus.fire(e),e.providers};Br.prototype._getEntries=function(t,e){var n={};return J(e,function(i){if(!i.getPopupMenuEntries){J(i.getEntries(t),function(c){var d=c.id;if(!d)throw new Error("entry ID is missing");n[d]=xs(c,["id"])});return}var a=i.getPopupMenuEntries(t);At(a)?n=a(n):J(a,function(c,d){n[d]=c})}),n};Br.prototype._getHeaderEntries=function(t,e){var n={};return J(e,function(i){if(!i.getPopupMenuHeaderEntries){if(!i.getHeaderEntries)return;J(i.getHeaderEntries(t),function(c){var d=c.id;if(!d)throw new Error("entry ID is missing");n[d]=xs(c,["id"])});return}var a=i.getPopupMenuHeaderEntries(t);At(a)?n=a(n):J(a,function(c,d){n[d]=c})}),n};Br.prototype.isOpen=function(){return!!this._current};Br.prototype.trigger=function(t,e,n="click"){if(t.preventDefault(),!e){let a=Ko(t.delegateTarget||t.target,".entry",!0),c=vi(a,qit);e=se({id:c},this._getEntry(c))}let i=e.action;if(this._emit("trigger",{entry:e,event:t})!==!1){if(At(i)){if(n==="click")return i(t,e)}else if(i[n])return i[n](t,e)}};Br.prototype._getEntry=function(t){var e=this._current.entries[t]||this._current.headerEntries[t];if(!e)throw new Error("entry not found");return e};var k2={__init__:["popupMenu"],popupMenu:["type",Br]};var Git={align:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%202000%202000%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M200%20150v1700%22%2F%3E%3Crect%20x%3D%22500%22%20y%3D%22150%22%20width%3D%221300%22%20height%3D%22700%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%22500%22%20y%3D%221150%22%20width%3D%22700%22%20height%3D%22700%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",bottom:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M150%201650h1500%22%2F%3E%3Crect%20x%3D%22150%22%20y%3D%22350%22%20width%3D%22600%22%20height%3D%221300%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%221050%22%20y%3D%22850%22%20width%3D%22600%22%20height%3D%22800%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",center:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M900%20150v1500%22%2F%3E%3Crect%20x%3D%22250%22%20y%3D%22150%22%20width%3D%221300%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%22500%22%20y%3D%221050%22%20width%3D%22800%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",left:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M100%20150v1500%22%2F%3E%3Crect%20x%3D%22100%22%20y%3D%22150%22%20width%3D%221300%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%22100%22%20y%3D%221050%22%20width%3D%22800%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",right:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M1650%20150v1500%22%2F%3E%3Crect%20x%3D%22350%22%20y%3D%22150%22%20width%3D%221300%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%22850%22%20y%3D%221050%22%20width%3D%22800%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",top:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M150%20150h1500%22%2F%3E%3Crect%20x%3D%22150%22%20y%3D%22150%22%20width%3D%22600%22%20height%3D%221300%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%221050%22%20y%3D%22150%22%20width%3D%22600%22%20height%3D%22800%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",middle:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M150%20900h1500%22%2F%3E%3Crect%20x%3D%22150%22%20y%3D%22250%22%20width%3D%22600%22%20height%3D%221300%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%221050%22%20y%3D%22500%22%20width%3D%22600%22%20height%3D%22800%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E"},$7=Git;var Qit=900;function a0(t,e,n,i){t.registerProvider(Qit,this),this._contextPad=t,this._popupMenu=e,this._translate=n,this._canvas=i}a0.$inject=["contextPad","popupMenu","translate","canvas"];a0.prototype.getMultiElementContextPadEntries=function(t){var e={};return this._isAllowed(t)&&le(e,this._getEntries(t)),e};a0.prototype._isAllowed=function(t){return!this._popupMenu.isEmpty(t,"align-elements")};a0.prototype._getEntries=function(){var t=this;return{"align-elements":{group:"align-elements",title:t._translate("Align elements"),imageUrl:$7.align,action:{click:function(e,n){var i=t._getMenuPosition(n);le(i,{cursor:{x:e.x,y:e.y}}),t._popupMenu.open(n,"align-elements",i)}}}}};a0.prototype._getMenuPosition=function(t){var e=5,n=this._contextPad.getPad(t).html,i=n.getBoundingClientRect(),a={x:i.left,y:i.bottom+e};return a};var Yit=["left","center","right","top","middle","bottom"];function jg(t,e,n,i){this._alignElements=e,this._translate=n,this._popupMenu=t,this._rules=i,t.registerProvider("align-elements",this)}jg.$inject=["popupMenu","alignElements","translate","rules"];jg.prototype.getPopupMenuEntries=function(t){var e={};return this._isAllowed(t)&&le(e,this._getEntries(t)),e};jg.prototype._isAllowed=function(t){return this._rules.allowed("elements.align",{elements:t})};jg.prototype._getEntries=function(t){var e=this._alignElements,n=this._translate,i=this._popupMenu,a={};return J(Yit,function(c){a["align-elements-"+c]={group:"align",title:n("Align elements "+c),className:"bjs-align-elements-menu-entry",imageUrl:$7[c],action:function(){e.trigger(t,c),i.close()}}}),a};function es(t){De.call(this,t),this.init()}es.$inject=["eventBus"];ke(es,De);es.prototype.addRule=function(t,e,n){var i=this;typeof t=="string"&&(t=[t]),t.forEach(function(a){i.canExecute(a,e,function(c,d,h){return n(c)},!0)})};es.prototype.init=function(){};function P2(t){es.call(this,t)}P2.$inject=["eventBus"];ke(P2,es);P2.prototype.init=function(){this.addRule("elements.align",function(t){var e=t.elements,n=Ze(e,function(i){return!(i.waypoints||i.host||i.labelTarget)});return n=Vp(n),n.length<2?!1:n})};var _pe={__depends__:[qhe,O7,k2],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",a0],alignElementsMenuProvider:["type",jg],bpmnAlignElements:["type",P2]};var Xit=10,qB=50,Kit=250;function N7(t,e,n,i){for(var a;a=Zit(t,n,e);)n=i(e,n,a);return n}function F7(t){return function(e,n,i){var a={x:n.x,y:n.y};return["x","y"].forEach(function(c){var d=t[c];if(d){var h=c==="x"?"width":"height",m=d.margin,g=d.minDistance;m<0?a[c]=Math.min(i[c]+m-e[h]/2,n[c]-g+m):a[c]=Math.max(i[c]+i[h]+m+e[h]/2,n[c]+g+m)}}),a}}function Zit(t,e,n){var i={x:e.x-n.width/2,y:e.y-n.height/2,width:n.width,height:n.height},a=Jit(t,n);return st(a,function(c){if(c===n)return!1;var d=Cr(c,i,Xit);return d==="intersect"})}function Cpe(t,e){e||(e={});function n(D){return D.source===t?1:-1}var i=e.defaultDistance||qB,a=e.direction||"e",c=e.filter,d=e.getWeight||n,h=e.maxDistance||Kit,m=e.reference||"start";c||(c=not);function g(D,k){return a==="n"?m==="start"?Xe(D).top-Xe(k).bottom:m==="center"?Xe(D).top-Je(k).y:Xe(D).top-Xe(k).top:a==="w"?m==="start"?Xe(D).left-Xe(k).right:m==="center"?Xe(D).left-Je(k).x:Xe(D).left-Xe(k).left:a==="s"?m==="start"?Xe(k).top-Xe(D).bottom:m==="center"?Je(k).y-Xe(D).bottom:Xe(k).bottom-Xe(D).bottom:m==="start"?Xe(k).left-Xe(D).right:m==="center"?Je(k).x-Xe(D).right:Xe(k).right-Xe(D).right}var b=t.incoming.filter(c).map(function(D){var k=d(D),I=k<0?g(D.source,t):g(t,D.source);return{id:D.source.id,distance:I,weight:k}}),E=t.outgoing.filter(c).map(function(D){var k=d(D),I=k>0?g(t,D.target):g(D.target,t);return{id:D.target.id,distance:I,weight:k}}),_=b.concat(E).reduce(function(D,k){return D[k.id+"__weight_"+k.weight]=k,D},{}),S=dr(_,function(D,k){var I=k.distance,R=k.weight;return I<0||I>h||(D[String(I)]||(D[String(I)]=0),D[String(I)]+=1*R,(!D.distance||D[D.distance]<D[String(I)])&&(D.distance=I)),D},{});return S.distance||i}function Jit(t){var e=UB(t);return t.host&&(e=e.concat(UB(t.host))),t.attachers&&(e=e.concat(t.attachers.reduce(function(n,i){return n.concat(UB(i))},[]))),e}function UB(t){return tot(t).concat(eot(t))}function eot(t){return t.incoming.map(function(e){return e.source})}function tot(t){return t.outgoing.map(function(e){return e.target})}function not(){return!0}var rot=100;function B7(t,e,n){t.on("autoPlace",rot,function(i){var a=i.shape,c=i.source;return iot(c,a)}),t.on("autoPlace.end",function(i){n.scrollToElement(i.shape)}),this.append=function(i,a,c){t.fire("autoPlace.start",{source:i,shape:a});var d=t.fire("autoPlace",{source:i,shape:a}),h=e.appendShape(i,a,d,i.parent,c);return t.fire("autoPlace.end",{source:i,shape:h}),h}}B7.$inject=["eventBus","modeling","canvas"];function iot(t,e,n){n||(n={});var i=n.defaultDistance||qB,a=Je(t),c=Xe(t);return{x:c.right+i+e.width/2,y:a.y}}function j7(t,e){t.on("autoPlace.end",500,function(n){e.select(n.shape)})}j7.$inject=["eventBus","selection"];var Spe={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",B7],autoPlaceSelectionBehavior:["type",j7]};function Vg(t,e){for(kr(e)&&(e=[e]);t=t.parent;)if(He(t,e))return t;return null}function V7(t,e){if(M(e,"bpmn:TextAnnotation"))return aot(t,e);if(He(e,["bpmn:DataObjectReference","bpmn:DataStoreReference"]))return lot(t,e);if(M(e,"bpmn:FlowNode"))return oot(t,e)}function oot(t,e){var n=Xe(t),i=Je(t),a=Cpe(t,{filter:function(b){return M(b,"bpmn:SequenceFlow")}}),c=30,d=80,h="left";M(t,"bpmn:BoundaryEvent")&&(h=Cr(t,t.host,-25),h.indexOf("top")!==-1&&(c*=-1));var m={x:n.right+a+e.width/2,y:i.y+sot(h,d)},g={y:{margin:c,minDistance:d}};return N7(t,e,m,F7(g))}function sot(t,e){return t.includes("top")?-1*e:t.includes("bottom")?e:0}function aot(t,e){var n=Xe(t),i={x:n.right+e.width/2,y:n.top-50-e.height/2};cot(t)&&(i=Je(t),i.x+=100,i.y-=50);var a={y:{margin:-30,minDistance:20}};return N7(t,e,i,F7(a))}function lot(t,e){var n=Xe(t),i={x:n.right-10+e.width/2,y:n.bottom+40+e.width/2},a={x:{margin:30,minDistance:30}};return N7(t,e,i,F7(a))}function cot(t){return!!t.waypoints}function z7(t){t.on("autoPlace",function(e){var n=e.shape,i=e.source;return V7(i,n)})}z7.$inject=["eventBus"];var H7={__depends__:[Spe],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",z7]};function Jc(t,e,n,i){De.call(this,t),this._elementRegistry=e,this._modeling=n,this._rules=i;var a=this;this.postExecuted(["shape.create"],function(c){var d=c.context,h=d.hints||{},m=d.shape,g=d.parent||d.newParent;h.autoResize!==!1&&a._expand([m],g)}),this.postExecuted(["elements.move"],function(c){var d=c.context,h=Af(r2(d.closure.topLevel)),m=d.hints,g=m?m.autoResize:!0;if(g!==!1){var b=sl(h,function(E){return E.parent.id});J(b,function(E,_){Ue(g)&&(E=E.filter(function(S){return st(g,Mo({id:S.id}))})),a._expand(E,_)})}}),this.postExecuted(["shape.toggleCollapse"],function(c){var d=c.context,h=d.hints,m=d.shape;h&&h.autoResize===!1||m.collapsed||a._expand(m.children||[],m)}),this.postExecuted(["shape.resize"],function(c){var d=c.context,h=d.hints,m=d.shape,g=m.parent;h&&h.autoResize===!1||g&&a._expand([m],g)})}Jc.$inject=["eventBus","elementRegistry","modeling","rules"];ke(Jc,De);Jc.prototype._getOptimalBounds=function(t,e){var n=this.getOffset(e),i=this.getPadding(e),a=Xe(En(t)),c=Xe(e),d={};return a.top-c.top<i.top&&(d.top=a.top-n.top),a.left-c.left<i.left&&(d.left=a.left-n.left),c.right-a.right<i.right&&(d.right=a.right+n.right),c.bottom-a.bottom<i.bottom&&(d.bottom=a.bottom+n.bottom),kg(le({},c,d))};Jc.prototype._expand=function(t,e){typeof e=="string"&&(e=this._elementRegistry.get(e));var n=this._rules.allowed("element.autoResize",{elements:t,target:e});if(n){var i=this._getOptimalBounds(t,e);if(uot(i,e)){var a=dot(qi(e,["x","y","width","height"]),i);this.resize(e,i,{autoResize:a});var c=e.parent;c&&this._expand([e],c)}}};Jc.prototype.getOffset=function(t){return{top:60,bottom:60,left:100,right:100}};Jc.prototype.getPadding=function(t){return{top:2,bottom:2,left:15,right:15}};Jc.prototype.resize=function(t,e,n){this._modeling.resizeShape(t,e,null,n)};function uot(t,e){return t.x!==e.x||t.y!==e.y||t.width!==e.width||t.height!==e.height}function dot(t,e){var n="";return t=Xe(t),e=Xe(e),t.top>e.top&&(n=n.concat("n")),t.right<e.right&&(n=n.concat("w")),t.bottom<e.bottom&&(n=n.concat("s")),t.left>e.left&&(n=n.concat("e")),n}function I2(t){t.invoke(Jc,this)}I2.$inject=["injector"];ke(I2,Jc);I2.prototype.resize=function(t,e,n){M(t,"bpmn:Participant")?this._modeling.resizeLane(t,e,null,n):this._modeling.resizeShape(t,e,null,n)};function zg(t){es.call(this,t);var e=this;this.addRule("element.autoResize",function(n){return e.canResize(n.elements,n.target)})}zg.$inject=["eventBus"];ke(zg,es);zg.prototype.canResize=function(t,e){return!1};function M2(t,e){zg.call(this,t),this._modeling=e}ke(M2,zg);M2.$inject=["eventBus","modeling"];M2.prototype.canResize=function(t,e){if(M(e.di,"bpmndi:BPMNPlane")||!M(e,"bpmn:Participant")&&!M(e,"bpmn:Lane")&&!M(e,"bpmn:SubProcess"))return!1;var n=!0;return J(t,function(i){if(M(i,"bpmn:Lane")||Mn(i)){n=!1;return}}),n};var Ope={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",I2],bpmnAutoResizeProvider:["type",M2]};var Dpe=1500;function U7(t,e,n){var i=this,a=n.get("dragging",!1);function c(d){if(!d.hover){var h=d.originalEvent,m=i._findTargetGfx(h),g=m&&t.get(m);m&&g&&(d.stopPropagation(),a.hover({element:g,gfx:m}),a.move(h))}}a&&e.on("drag.start",function(d){e.once("drag.move",Dpe,function(h){c(h)})}),function(){var d,h;e.on("element.hover",function(m){d=m.gfx,h=m.element}),e.on("element.hover",Dpe,function(m){h&&e.fire("element.out",{element:h,gfx:d})}),e.on("element.out",function(){d=null,h=null})}(),this._findTargetGfx=function(d){var h,m;if(d instanceof MouseEvent)return h=wa(d),m=document.elementFromPoint(h.x,h.y),fot(m)}}U7.$inject=["elementRegistry","eventBus","injector"];function fot(t){return Ko(t,"svg, .djs-element",!0)}var Tpe={__init__:["hoverFix"],hoverFix:["type",U7]};var A2=Math.round,kpe="djs-drag-active";function Hg(t){t.preventDefault()}function hot(t){return typeof TouchEvent<"u"&&t instanceof TouchEvent}function pot(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function q7(t,e,n,i){var a={threshold:5,trapClick:!0},c;function d(F){var L=e.viewbox(),V=e._container.getBoundingClientRect();return{x:L.x+(F.x-V.left)/L.scale,y:L.y+(F.y-V.top)/L.scale}}function h(F,L){L=L||c;var V=t.createEvent(le({},L.payload,L.data,{isTouch:L.isTouch}));return t.fire("drag."+F,V)===!1?!1:t.fire(L.prefix+"."+F,V)}function m(F){var L=F.filter(function(V){return i.get(V.id)});L.length&&n.select(L)}function g(F,L){var V=c.payload,G=c.displacement,re=c.globalStart,ee=wa(F),oe=Ao(ee,re),pe=c.localStart,ge=d(ee),ce=Ao(ge,pe);if(!c.active&&(L||pot(oe)>c.threshold)){if(le(V,{x:A2(pe.x+G.x),y:A2(pe.y+G.y),dx:0,dy:0},{originalEvent:F}),h("start")===!1)return I();c.active=!0,c.keepSelection||(V.previousSelection=n.get(),n.select(null)),c.cursor&&Lg(c.cursor),e.addMarker(e.getRootElement(),kpe)}Z8(F),c.active&&(le(V,{x:A2(ge.x+G.x),y:A2(ge.y+G.y),dx:A2(ce.x),dy:A2(ce.y)},{originalEvent:F}),h("move"))}function b(F){var L,V=!0;c.active&&(F&&(c.payload.originalEvent=F,Z8(F)),V=h("end")),V===!1&&h("rejected"),L=R(V!==!0),h("ended",L)}function E(F){Yr("Escape",F)&&(Hg(F),I())}function _(F){var L;c.active&&(L=y7(t),setTimeout(L,400),Hg(F)),b(F)}function S(F){g(F)}function D(F){var L=c.payload;L.hoverGfx=F.gfx,L.hover=F.element,h("hover")}function k(F){h("out");var L=c.payload;L.hoverGfx=null,L.hover=null}function I(F){var L;if(c){var V=c.active;V&&h("cancel"),L=R(F),V&&h("canceled",L)}}function R(F){var L,V;h("cleanup"),v7(),c.trapClick?V=_:V=b,nt.unbind(document,"mousemove",g),nt.unbind(document,"dragstart",Hg),nt.unbind(document,"selectstart",Hg),nt.unbind(document,"mousedown",V,!0),nt.unbind(document,"mouseup",V,!0),nt.unbind(document,"keyup",E),nt.unbind(document,"touchstart",S,!0),nt.unbind(document,"touchcancel",I,!0),nt.unbind(document,"touchmove",g,!0),nt.unbind(document,"touchend",b,!0),t.off("element.hover",D),t.off("element.out",k),e.removeMarker(e.getRootElement(),kpe);var G=c.payload.previousSelection;return F!==!1&&G&&!n.get().length&&m(G),L=c,c=null,L}function $(F,L,V,G){c&&I(!1),typeof L=="string"&&(G=V,V=L,L=null),G=le({},a,G||{});var re=G.data||{},ee,oe,pe,ge,ce;G.trapClick?ge=_:ge=b,F?(ee=Ff(F)||F,oe=wa(F),Z8(F),ee.type==="dragstart"&&Hg(ee)):(ee=null,oe={x:0,y:0}),pe=d(oe),L||(L=pe),ce=hot(ee),c=le({prefix:V,data:re,payload:{},globalStart:oe,displacement:Ao(L,pe),localStart:pe,isTouch:ce},G),G.manual||(ce?(nt.bind(document,"touchstart",S,!0),nt.bind(document,"touchcancel",I,!0),nt.bind(document,"touchmove",g,!0),nt.bind(document,"touchend",b,!0)):(nt.bind(document,"mousemove",g),nt.bind(document,"dragstart",Hg),nt.bind(document,"selectstart",Hg),nt.bind(document,"mousedown",ge,!0),nt.bind(document,"mouseup",ge,!0)),nt.bind(document,"keyup",E),t.on("element.hover",D),t.on("element.out",k)),h("init"),G.autoActivate&&g(F,!0)}t.on("diagram.destroy",I),this.init=$,this.move=g,this.hover=D,this.out=k,this.end=b,this.cancel=I,this.context=function(){return c},this.setOptions=function(F){le(a,F)}}q7.$inject=["eventBus","canvas","selection","elementRegistry"];var Ro={__depends__:[Tpe,Gi],dragging:["type",q7]};function l0(t,e,n){this._canvas=n,this._opts=le({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},t);var i=this;e.on("drag.move",function(a){var c=i._toBorderPoint(a);i.startScroll(c)}),e.on(["drag.cleanup"],function(){i.stopScroll()})}l0.$inject=["config.autoScroll","eventBus","canvas"];l0.prototype.startScroll=function(t){var e=this._canvas,n=this._opts,i=this,a=e.getContainer().getBoundingClientRect(),c=[t.x,t.y,a.width-t.x,a.height-t.y];this.stopScroll();for(var d=0,h=0,m=0;m<4;m++)mot(c[m],n.scrollThresholdOut[m],n.scrollThresholdIn[m])&&(m===0?d=n.scrollStep:m==1?h=n.scrollStep:m==2?d=-n.scrollStep:m==3&&(h=-n.scrollStep));(d!==0||h!==0)&&(e.scroll({dx:d,dy:h}),this._scrolling=setTimeout(function(){i.startScroll(t)},n.scrollRepeatTimeout))};function mot(t,e,n){return e<t&&t<n}l0.prototype.stopScroll=function(){clearTimeout(this._scrolling)};l0.prototype.setOptions=function(t){this._opts=le({},this._opts,t)};l0.prototype._toBorderPoint=function(t){var e=this._canvas._container.getBoundingClientRect(),n=wa(t.originalEvent);return{x:n.x-e.left,y:n.y-e.top}};var Ppe={__depends__:[Ro],__init__:["autoScroll"],autoScroll:["type",l0]};function _w(t){this._commandStack=t.get("commandStack",!1)}_w.$inject=["injector"];_w.prototype.allowed=function(t,e){var n=!0,i=this._commandStack;return i&&(n=i.canExecute(t,e)),n===void 0?!0:n};var Yi={__init__:["rules"],rules:["type",_w]};var Ipe=wf(JF()),W7=Math.round,got=Math.max;function vot(t,e){var n=t.x,i=t.y;return[["M",n,i],["m",0,-e],["a",e,e,0,1,1,0,2*e],["a",e,e,0,1,1,0,-2*e],["z"]]}function yot(t){var e=[];return t.forEach(function(n,i){e.push([i===0?"M":"L",n.x,n.y])}),e}var Mpe=10;function bot(t,e){var n,i;for(n=0;i=t[n];n++)if(zp(i,e)<=Mpe)return{point:t[n],bendpoint:!0,index:n};return null}function xot(t,e){var n=(0,Ipe.default)(vot(e,Mpe),yot(t)),i=n[0],a=n[n.length-1],c;return i?i!==a?i.segment2!==a.segment2?(c=got(i.segment2,a.segment2)-1,{point:t[c],bendpoint:!0,index:c}):{point:{x:W7(i.x+a.x)/2,y:W7(i.y+a.y)/2},index:i.segment2}:{point:{x:W7(i.x),y:W7(i.y)},index:i.segment2}:null}function Cw(t,e){return bot(t,e)||xot(t,e)}function Ape(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function WB(t){return Math.atan((t[1].y-t[0].y)/(t[1].x-t[0].x))}function Rpe(t,e){return e?{x:Math.cos(e)*t.x-Math.sin(e)*t.y,y:Math.sin(e)*t.x+Math.cos(e)*t.y}:t}function Eot(t,e,n){var i=[{n:t[0]-n[0],lambda:e[0]},{n:t[1]-n[1],lambda:e[1]}],a=i[0].n*e[0]+i[1].n*e[1],c=i[0].lambda*e[0]+i[1].lambda*e[1];return-a/c}function Sw(t,e){var n=e[0],i=e[1],a={x:i.x-n.x,y:i.y-n.y},c=Eot([n.x,n.y],[a.x,a.y],[t.x,t.y]);return{x:n.x+c*a.x,y:n.y+c*a.y}}function G7(t,e){var n=Sw(t,e),i={x:n.x-t.x,y:n.y-t.y};return Ape(i)}function Ow(t,e){return Ape({x:t.x-e.x,y:t.y-e.y})}var GB="djs-bendpoint",QB="djs-segment-dragger";function wot(t,e){var n=wa(e),i=t._container.getBoundingClientRect(),a;a={x:i.left,y:i.top};var c=t.viewbox();return{x:c.x+(n.x-a.x)/c.scale,y:c.y+(n.y-a.y)/c.scale}}function Dw(t,e,n){var i=wot(t,n),a=Cw(e,i);return a}function Tw(t,e){var n=We("g");St(n).add(GB),et(t,n);var i=We("circle");Ne(i,{cx:0,cy:0,r:4}),St(i).add("djs-visual"),et(n,i);var a=We("circle");return Ne(a,{cx:0,cy:0,r:10}),St(a).add("djs-hit"),et(n,a),e&&St(n).add(e),n}function _ot(t,e,n,i){var a=We("g");et(t,a);var c=18,d=6,h=11,m=Cot(e,n,i),g=d+h,b=We("rect");Ne(b,{x:-c/2,y:-d/2,width:c,height:d}),St(b).add("djs-visual"),et(a,b);var E=We("rect");return Ne(E,{x:-m/2,y:-g/2,width:m,height:g}),St(E).add("djs-hit"),et(a,E),F8(a,i==="v"?90:0,0,0),a}function Y7(t,e,n){var i=We("g"),a=nw(e,n),c=xa(e,n);return et(t,i),_ot(i,e,n,c),St(i).add(QB),St(i).add(c==="h"?"horizontal":"vertical"),Qr(i,a.x,a.y),i}function Q7(t){return Math.abs(Math.round(t*2/3))}function Lpe(t,e){var n=Sot(t,e);return Sw(t,n)}function Cot(t,e,n){var i=e.x-t.x,a=e.y-t.y;return Q7(n==="h"?i:a)}function Sot(t,e){for(var n=e.waypoints,i=1/0,a,c=0;c<n.length-1;c++){var d=n[c],h=n[c+1],m=G7(t,[d,h]);m<i&&(i=m,a=c)}return[n[a],n[a+1]]}function X7(t,e,n,i,a){function c(F,L,V){var G=F.index,re=F.point,ee,oe,pe,ge,ce,he;return G<=0||F.bendpoint?!1:(ee=L[G-1],oe=L[G],pe=nw(ee,oe),ge=xa(ee,oe),ce=Math.abs(re.x-pe.x),he=Math.abs(re.y-pe.y),ge&&ce<=V&&he<=V)}function d(F,L){var V=F.waypoints,G,re,ee,oe;return L.index<=0||L.bendpoint||(G={start:V[L.index-1],end:V[L.index]},re=xa(G.start,G.end),!re)?null:(re==="h"?ee=G.end.x-G.start.x:ee=G.end.y-G.start.y,oe=Q7(ee)/2,oe)}function h(F,L){var V=L.waypoints,G=Dw(e,V,F),re;if(G)return re=d(L,G),c(G,V,re)?a.start(F,L,G.index):i.start(F,L,G.index,!G.bendpoint),!0}function m(F,L,V){nt.bind(F,L,function(G){n.triggerMouseEvent(L,G,V),G.stopPropagation()})}function g(F,L){var V=e.getLayer("overlays"),G=Et('.djs-bendpoints[data-element-id="'+Vf(F.id)+'"]',V);return!G&&L&&(G=We("g"),Ne(G,{"data-element-id":F.id}),St(G).add("djs-bendpoints"),et(V,G),m(G,"mousedown",F),m(G,"click",F),m(G,"dblclick",F)),G}function b(F,L){return Et('.djs-segment-dragger[data-segment-idx="'+F+'"]',L)}function E(F,L){L.waypoints.forEach(function(V,G){var re=Tw(F);et(F,re),Qr(re,V.x,V.y)}),Tw(F,"floating")}function _(F,L){for(var V=L.waypoints,G,re,ee,oe=1;oe<V.length;oe++)G=V[oe-1],re=V[oe],xa(G,re)&&(ee=Y7(F,G,re),Ne(ee,{"data-segment-idx":oe}),m(ee,"mousemove",L))}function S(F){J(ew("."+GB,F),function(L){xn(L)})}function D(F){J(ew("."+QB,F),function(L){xn(L)})}function k(F){var L=g(F);return L||(L=g(F,!0),E(L,F),_(L,F)),L}function I(F){var L=g(F);L&&(D(L),S(L),_(L,F),E(L,F))}function R(F,L){var V=Et(".floating",F),G=L.point;V&&Qr(V,G.x,G.y)}function $(F,L,V){var G=b(L.index,F),re=V[L.index-1],ee=V[L.index],oe=L.point,pe=nw(re,ee),ge=xa(re,ee),ce,he;G&&(ce=Oot(G),he={x:oe.x-pe.x,y:oe.y-pe.y},ge==="v"&&(he={x:he.y,y:he.x}),Qr(ce,he.x,he.y))}t.on("connection.changed",function(F){I(F.element)}),t.on("connection.remove",function(F){var L=g(F.element);L&&xn(L)}),t.on("element.marker.update",function(F){var L=F.element,V;L.waypoints&&(V=k(L),F.add?St(V).add(F.marker):St(V).remove(F.marker))}),t.on("element.mousemove",function(F){var L=F.element,V=L.waypoints,G,re;if(V){if(G=g(L,!0),re=Dw(e,V,F.originalEvent),!re)return;R(G,re),re.bendpoint||$(G,re,V)}}),t.on("element.mousedown",function(F){if(ll(F)){var L=F.originalEvent,V=F.element;if(V.waypoints)return h(L,V)}}),t.on("selection.changed",function(F){var L=F.newSelection,V=L[0];V&&V.waypoints&&k(V)}),t.on("element.hover",function(F){var L=F.element;L.waypoints&&(k(L),n.registerEvent(F.gfx,"mousemove","element.mousemove"))}),t.on("element.out",function(F){n.unregisterEvent(F.gfx,"mousemove","element.mousemove")}),t.on("element.updateId",function(F){var L=F.element,V=F.newId;if(L.waypoints){var G=g(L);G&&Ne(G,{"data-element-id":V})}}),this.addHandles=k,this.updateHandles=I,this.getBendpointsContainer=g,this.getSegmentDragger=b}X7.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];function Oot(t){return Et(".djs-visual",t)}var $pe=Math.round,Ug="reconnectStart",qg="reconnectEnd",kw="updateWaypoints";function Iw(t,e,n,i,a,c){this._injector=t,this.start=function(d,h,m,g){var b=n.getGraphics(h),E=h.source,_=h.target,S=h.waypoints,D;!g&&m===0?D=Ug:!g&&m===S.length-1?D=qg:D=kw;var k=D===kw?"connection.updateWaypoints":"connection.reconnect",I=a.allowed(k,{connection:h,source:E,target:_});I===!1&&(I=a.allowed(k,{connection:h,source:_,target:E})),I!==!1&&i.init(d,"bendpoint.move",{data:{connection:h,connectionGfx:b,context:{allowed:I,bendpointIndex:m,connection:h,source:E,target:_,insert:g,type:D}}})},e.on("bendpoint.move.hover",function(d){var h=d.context,m=h.connection,g=m.source,b=m.target,E=d.hover,_=h.type;h.hover=E;var S;if(E){var D=_===kw?"connection.updateWaypoints":"connection.reconnect";if(S=h.allowed=a.allowed(D,{connection:m,source:_===Ug?E:g,target:_===qg?E:b}),S){h.source=_===Ug?E:g,h.target=_===qg?E:b;return}S===!1&&(S=h.allowed=a.allowed(D,{connection:m,source:_===qg?E:b,target:_===Ug?E:g})),S&&(h.source=_===qg?E:b,h.target=_===Ug?E:g)}}),e.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(d){var h=d.context,m=h.type;h.hover=null,h.source=null,h.target=null,m!==kw&&(h.allowed=!1)}),e.on("bendpoint.move.end",function(d){var h=d.context,m=h.allowed,g=h.bendpointIndex,b=h.connection,E=h.insert,_=b.waypoints.slice(),S=h.source,D=h.target,k=h.type,I=h.hints||{},R={x:$pe(d.x),y:$pe(d.y)};if(!m)return!1;k===kw?(E?_.splice(g,0,R):_[g]=R,I.bendpointMove={insert:E,bendpointIndex:g},_=this.cropWaypoints(b,_),c.updateWaypoints(b,afe(_),I)):(k===Ug?(I.docking="source",Pw(h)&&(I.docking="target",I.newWaypoints=_.reverse())):k===qg&&(I.docking="target",Pw(h)&&(I.docking="source",I.newWaypoints=_.reverse())),c.reconnect(b,S,D,R,I))},this)}Iw.$inject=["injector","eventBus","canvas","dragging","rules","modeling"];Iw.prototype.cropWaypoints=function(t,e){var n=this._injector.get("connectionDocking",!1);if(!n)return e;var i=t.waypoints;return t.waypoints=e,t.waypoints=n.getCroppedWaypoints(t),e=t.waypoints,t.waypoints=i,e};function Pw(t){var e=t.hover,n=t.source,i=t.target,a=t.type;if(a===Ug)return e&&i&&e===i&&n!==i;if(a===qg)return e&&n&&e===n&&n!==i}var Dot="reconnectStart",Tot="reconnectEnd",Npe="updateWaypoints",Mw="connect-ok",K7="connect-not-ok",Fpe="connect-hover",Bpe="djs-updating",jpe="djs-dragging",Vpe=1100;function Z7(t,e,n,i){this._injector=e;var a=e.get("connectionPreview",!1);n.on("bendpoint.move.start",function(c){var d=c.context,h=d.bendpointIndex,m=d.connection,g=d.insert,b=m.waypoints,E=b.slice();d.waypoints=b,g&&E.splice(h,0,{x:c.x,y:c.y}),m.waypoints=E;var _=d.draggerGfx=Tw(i.getLayer("overlays"));St(_).add("djs-dragging"),i.addMarker(m,jpe),i.addMarker(m,Bpe)}),n.on("bendpoint.move.hover",function(c){var d=c.context,h=d.allowed,m=d.hover,g=d.type;if(m){if(i.addMarker(m,Fpe),g===Npe)return;h?(i.removeMarker(m,K7),i.addMarker(m,Mw)):h===!1&&(i.removeMarker(m,Mw),i.addMarker(m,K7))}}),n.on(["bendpoint.move.out","bendpoint.move.cleanup"],Vpe,function(c){var d=c.context,h=d.hover,m=d.target;h&&(i.removeMarker(h,Fpe),i.removeMarker(h,m?Mw:K7))}),n.on("bendpoint.move.move",function(c){var d=c.context,h=d.allowed,m=d.bendpointIndex,g=d.draggerGfx,b=d.hover,E=d.type,_=d.connection,S=_.source,D=_.target,k=_.waypoints.slice(),I={x:c.x,y:c.y},R=d.hints||{},$={};a&&(R.connectionStart&&($.connectionStart=R.connectionStart),R.connectionEnd&&($.connectionEnd=R.connectionEnd),E===Dot?Pw(d)?($.connectionEnd=$.connectionEnd||I,$.source=D,$.target=b||S,k=k.reverse()):($.connectionStart=$.connectionStart||I,$.source=b||S,$.target=D):E===Tot?Pw(d)?($.connectionStart=$.connectionStart||I,$.source=b||D,$.target=S,k=k.reverse()):($.connectionEnd=$.connectionEnd||I,$.source=S,$.target=b||D):($.noCropping=!0,$.noLayout=!0,k[m]=I),E===Npe&&(k=t.cropWaypoints(_,k)),$.waypoints=k,a.drawPreview(d,h,$)),Qr(g,c.x,c.y)},this),n.on(["bendpoint.move.end","bendpoint.move.cancel"],Vpe,function(c){var d=c.context,h=d.connection,m=d.draggerGfx,g=d.hover,b=d.target,E=d.waypoints;h.waypoints=E,xn(m),i.removeMarker(h,Bpe),i.removeMarker(h,jpe),g&&(i.removeMarker(g,Mw),i.removeMarker(g,b?Mw:K7)),a&&a.cleanUp(d)})}Z7.$inject=["bendpointMove","injector","eventBus","canvas"];var zpe="connect-hover",Hpe="djs-updating";function Upe(t,e,n){return YB(t,e,t[e]+n)}function YB(t,e,n){return{x:e==="x"?n:t.x,y:e==="y"?n:t.y}}function kot(t,e,n,i){var a=Math.max(e[i],n[i]),c=Math.min(e[i],n[i]),d=20,h=Math.min(Math.max(c+d,t[i]),a-d);return YB(e,i,h)}function Wpe(t){return t==="x"?"y":"x"}function qpe(t,e,n){var i,a;return t.original?t.original:(i=Je(e),a=Wpe(n),YB(t,a,i[a]))}function J7(t,e,n,i,a,c){var d=t.get("connectionDocking",!1);this.start=function(E,_,S){var D,k=n.getGraphics(_),I=S-1,R=S,$=_.waypoints,F=$[I],L=$[R],V=Dw(n,$,E),G,re,ee;G=xa(F,L),G&&(re=G==="v"?"x":"y",I===0&&(F=qpe(F,_.source,re)),R===$.length-1&&(L=qpe(L,_.target,re)),V?ee=V.point:ee={x:(F.x+L.x)/2,y:(F.y+L.y)/2},D={connection:_,segmentStartIndex:I,segmentEndIndex:R,segmentStart:F,segmentEnd:L,axis:re,dragPosition:ee},i.init(E,ee,"connectionSegment.move",{cursor:re==="x"?"resize-ew":"resize-ns",data:{connection:_,connectionGfx:k,context:D}}))};function h(E,_){if(!d)return _;var S=E.waypoints,D;return E.waypoints=_,D=d.getCroppedWaypoints(E),E.waypoints=S,D}function m(E){a.update("connection",E.connection,E.connectionGfx)}function g(E,_,S){var D=E.newWaypoints,k=E.segmentStartIndex+_,I=D[k],R=E.segmentEndIndex+_,$=D[R],F=Wpe(E.axis),L=kot(S,I,$,F);Qr(E.draggerGfx,L.x,L.y)}function b(E,_){var S=0,D=E.filter(function(k,I){return l2(E[I-1],E[I+1],k)?(S=I<=_?S-1:S,!1):!0});return{waypoints:D,segmentOffset:S}}e.on("connectionSegment.move.start",function(E){var _=E.context,S=E.connection,D=n.getLayer("overlays");_.originalWaypoints=S.waypoints.slice(),_.draggerGfx=Y7(D,_.segmentStart,_.segmentEnd),St(_.draggerGfx).add("djs-dragging"),n.addMarker(S,Hpe)}),e.on("connectionSegment.move.move",function(E){var _=E.context,S=_.connection,D=_.segmentStartIndex,k=_.segmentEndIndex,I=_.segmentStart,R=_.segmentEnd,$=_.axis,F=_.originalWaypoints.slice(),L=Upe(I,$,E["d"+$]),V=Upe(R,$,E["d"+$]),G=F.length,re=0;F[D]=L,F[k]=V;var ee,oe;D<2&&(ee=Cr(S.source,L),D===1?ee==="intersect"&&(F.shift(),F[0]=L,re--):ee!=="intersect"&&(F.unshift(I),re++)),k>G-3&&(oe=Cr(S.target,V),k===G-2?oe==="intersect"&&(F.pop(),F[F.length-1]=V):oe!=="intersect"&&F.push(R)),_.newWaypoints=S.waypoints=h(S,F),g(_,re,E),_.newSegmentStartIndex=D+re,m(E)}),e.on("connectionSegment.move.hover",function(E){E.context.hover=E.hover,n.addMarker(E.hover,zpe)}),e.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(E){var _=E.context.hover;_&&n.removeMarker(_,zpe)}),e.on("connectionSegment.move.cleanup",function(E){var _=E.context,S=_.connection;_.draggerGfx&&xn(_.draggerGfx),n.removeMarker(S,Hpe)}),e.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(E){var _=E.context,S=_.connection;S.waypoints=_.originalWaypoints,m(E)}),e.on("connectionSegment.move.end",function(E){var _=E.context,S=_.connection,D=_.newWaypoints,k=_.newSegmentStartIndex;D=D.map(function(V){return{original:V.original,x:Math.round(V.x),y:Math.round(V.y)}});var I=b(D,k),R=I.waypoints,$=h(S,R),F=I.segmentOffset,L={segmentMove:{segmentStartIndex:_.segmentStartIndex,newSegmentStartIndex:k+F}};c.updateWaypoints(S,$,L)})}J7.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var Pot=Math.abs,Gpe=Math.round;function Qpe(t,e,n){n=n===void 0?10:n;var i,a;for(i=0;i<e.length;i++)if(a=e[i],Pot(a-t)<=n)return a}function eD(t){return{x:t.x,y:t.y}}function tD(t){return{x:t.x+t.width,y:t.y+t.height}}function _a(t,e){return!t||isNaN(t.x)||isNaN(t.y)?e:{x:Gpe(t.x+t.width/2),y:Gpe(t.y+t.height/2)}}function eu(t,e){var n=t.snapped;return n?typeof e=="string"?n[e]:n.x&&n.y:!1}function hr(t,e,n){if(typeof e!="string")throw new Error("axis must be in [x, y]");if(typeof n!="number"&&n!==!1)throw new Error("value must be Number or false");var i,a=t[e],c=t.snapped=t.snapped||{};return n===!1?c[e]=!1:(c[e]=!0,i=n-a,t[e]+=i,t["d"+e]+=i),a}function nD(t){return t.children||[]}var Iot=Math.abs,Ype=Math.round,XB=10;function rD(t){function e(c,d){if(Ue(c)){for(var h=c.length;h--;)if(Iot(c[h]-d)<=XB)return c[h]}else{c=+c;var m=d%c;if(m<XB)return d-m;if(m>c-XB)return d-m+c}return d}function n(c,d){if(c.waypoints)return Lpe(d,c);if(c.width)return{x:Ype(c.width/2+c.x),y:Ype(c.height/2+c.y)}}function i(c){var d=c.context,h=d.snapPoints,m=d.connection,g=m.waypoints,b=d.segmentStart,E=d.segmentStartIndex,_=d.segmentEnd,S=d.segmentEndIndex,D=d.axis;if(h)return h;var k=[g[E-1],b,_,g[S+1]];return E<2&&k.unshift(n(m.source,c)),S>g.length-3&&k.unshift(n(m.target,c)),d.snapPoints=h={horizontal:[],vertical:[]},J(k,function(I){I&&(I=I.original||I,D==="y"&&h.horizontal.push(I.y),D==="x"&&h.vertical.push(I.x))}),h}t.on("connectionSegment.move.move",1500,function(c){var d=i(c),h=c.x,m=c.y,g,b;if(d){g=e(d.vertical,h),b=e(d.horizontal,m);var E=h-g,_=m-b;le(c,{dx:c.dx-E,dy:c.dy-_,x:g,y:b}),(E||d.vertical.indexOf(h)!==-1)&&hr(c,"x",g),(_||d.horizontal.indexOf(m)!==-1)&&hr(c,"y",b)}});function a(c){var d=c.snapPoints,h=c.connection.waypoints,m=c.bendpointIndex;if(d)return d;var g=[h[m-1],h[m+1]];return c.snapPoints=d={horizontal:[],vertical:[]},J(g,function(b){b&&(b=b.original||b,d.horizontal.push(b.y),d.vertical.push(b.x))}),d}t.on(["connect.hover","connect.move","connect.end"],1500,function(c){var d=c.context,h=d.hover,m=h&&n(h,c);!Tn(h)||!m||!m.x||!m.y||(hr(c,"x",m.x),hr(c,"y",m.y))}),t.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(c){var d=c.context,h=a(d),m=d.hover,g=m&&n(m,c),b=c.x,E=c.y,_,S;if(h){_=e(g?h.vertical.concat([g.x]):h.vertical,b),S=e(g?h.horizontal.concat([g.y]):h.horizontal,E);var D=b-_,k=E-S;le(c,{dx:c.dx-D,dy:c.dy-k,x:c.x-D,y:c.y-k}),(D||h.vertical.indexOf(b)!==-1)&&hr(c,"x",_),(k||h.horizontal.indexOf(E)!==-1)&&hr(c,"y",S)}})}rD.$inject=["eventBus"];var Xpe={__depends__:[Ro,Yi],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",X7],bendpointMove:["type",Iw],bendpointMovePreview:["type",Z7],connectionSegmentMove:["type",J7],bendpointSnapping:["type",rD]};function oD(t,e,n,i){function a(d,h){return i.allowed("connection.create",{source:d,target:h})}function c(d,h){return a(h,d)}t.on("connect.hover",function(d){var h=d.context,m=h.start,g=d.hover,b;if(h.hover=g,b=h.canExecute=a(m,g),!n2(b)){if(b!==!1){h.source=m,h.target=g;return}b=h.canExecute=c(m,g),!n2(b)&&b!==!1&&(h.source=g,h.target=m)}}),t.on(["connect.out","connect.cleanup"],function(d){var h=d.context;h.hover=null,h.source=null,h.target=null,h.canExecute=!1}),t.on("connect.end",function(d){var h=d.context,m=h.canExecute,g=h.connectionStart,b={x:d.x,y:d.y},E=h.source,_=h.target;if(!m)return!1;var S=null,D={connectionStart:iD(h)?b:g,connectionEnd:iD(h)?g:b};Un(m)&&(S=m),h.connection=n.connect(E,_,S,D)}),this.start=function(d,h,m,g){Un(m)||(g=m,m=Je(h)),e.init(d,"connect",{autoActivate:g,data:{shape:h,context:{start:h,connectionStart:m}}})}}oD.$inject=["eventBus","dragging","modeling","rules"];function iD(t){var e=t.hover,n=t.source,i=t.target;return e&&n&&e===n&&n!==i}var Mot=1100,Aot=900,Kpe="connect-ok",Zpe="connect-not-ok";function sD(t,e,n){var i=t.get("connectionPreview",!1);i&&e.on("connect.move",function(a){var c=a.context,d=c.canExecute,h=c.hover,m=c.source,g=c.start,b=c.startPosition,E=c.target,_=c.connectionStart||b,S=c.connectionEnd||{x:a.x,y:a.y},D=_,k=S;iD(c)&&(D=S,k=_),i.drawPreview(c,d,{source:m||g,target:E||h,connectionStart:D,connectionEnd:k})}),e.on("connect.hover",Aot,function(a){var c=a.context,d=a.hover,h=c.canExecute;h!==null&&n.addMarker(d,h?Kpe:Zpe)}),e.on(["connect.out","connect.cleanup"],Mot,function(a){var c=a.hover;c&&(n.removeMarker(c,Kpe),n.removeMarker(c,Zpe))}),i&&e.on("connect.cleanup",function(a){i.cleanUp(a.context)})}sD.$inject=["injector","eventBus","canvas"];var R2={__depends__:[Gi,Yi,Ro],__init__:["connectPreview"],connect:["type",oD],connectPreview:["type",sD]};var Rot="djs-dragger";function tu(t,e,n,i){this._canvas=e,this._graphicsFactory=n,this._elementFactory=i,this._connectionDocking=t.get("connectionDocking",!1),this._layouter=t.get("layouter",!1)}tu.$inject=["injector","canvas","graphicsFactory","elementFactory"];tu.prototype.drawPreview=function(t,e,n){n=n||{};var i=t.connectionPreviewGfx,a=t.getConnection,c=n.source,d=n.target,h=n.waypoints,m=n.connectionStart,g=n.connectionEnd,b=n.noLayout,E=n.noCropping,_=n.noNoop,S,D=this;if(i||(i=t.connectionPreviewGfx=this.createConnectionPreviewGfx()),Dg(i),a||(a=t.getConnection=Lot(function(k,I,R){return D.getConnection(k,I,R)})),e&&(S=a(e,c,d)),!S){!_&&this.drawNoopPreview(i,n);return}S.waypoints=h||[],this._layouter&&!b&&(S.waypoints=this._layouter.layoutConnection(S,{source:c,target:d,connectionStart:m,connectionEnd:g,waypoints:n.waypoints||S.waypoints})),(!S.waypoints||!S.waypoints.length)&&(S.waypoints=[c?Je(c):m,d?Je(d):g]),this._connectionDocking&&(c||d)&&!E&&(S.waypoints=this._connectionDocking.getCroppedWaypoints(S,c,d)),this._graphicsFactory.drawConnection(i,S,{stroke:"var(--element-dragger-color)"})};tu.prototype.drawNoopPreview=function(t,e){var n=e.source,i=e.target,a=e.connectionStart||Je(n),c=e.connectionEnd||Je(i),d=this.cropWaypoints(a,c,n,i),h=this.createNoopConnection(d[0],d[1]);et(t,h)};tu.prototype.cropWaypoints=function(t,e,n,i){var a=this._graphicsFactory,c=n&&a.getShapePath(n),d=i&&a.getShapePath(i),h=a.getConnectionPath({waypoints:[t,e]});return t=n&&iw(c,h,!0)||t,e=i&&iw(d,h,!1)||e,[t,e]};tu.prototype.cleanUp=function(t){t&&t.connectionPreviewGfx&&xn(t.connectionPreviewGfx)};tu.prototype.getConnection=function(t){var e=$ot(t);return this._elementFactory.createConnection(e)};tu.prototype.createConnectionPreviewGfx=function(){var t=We("g");return Ne(t,{pointerEvents:"none"}),St(t).add(Rot),et(this._canvas.getActiveLayer(),t),t};tu.prototype.createNoopConnection=function(t,e){return jp([t,e],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};function Lot(t){var e={};return function(n){var i=JSON.stringify(n),a=e[i];return a||(a=e[i]=t.apply(null,arguments)),a}}function $ot(t){return Un(t)?t:{}}var Jpe={__init__:["connectionPreview"],connectionPreview:["type",tu]};var e0e=Math.min,t0e=Math.max;function KB(t){t.preventDefault()}function Aw(t){t.stopPropagation()}function Not(t){return t.nodeType===Node.TEXT_NODE}function Fot(t){return[].slice.call(t)}function cl(t){this.container=t.container,this.parent=jt('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=Et("[contenteditable]",this.parent),this.keyHandler=t.keyHandler||function(){},this.resizeHandler=t.resizeHandler||function(){},this.autoResize=ai(this.autoResize,this),this.handlePaste=ai(this.handlePaste,this)}cl.prototype.create=function(t,e,n,i){var a=this,c=this.parent,d=this.content,h=this.container;i=this.options=i||{},e=this.style=e||{};var m=qi(e,["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);le(c.style,{width:t.width+"px",height:t.height+"px",maxWidth:t.maxWidth+"px",maxHeight:t.maxHeight+"px",minWidth:t.minWidth+"px",minHeight:t.minHeight+"px",left:t.x+"px",top:t.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},m);var g=qi(e,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return le(d.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},g),i.centerVertically&&le(d.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},g),d.innerText=n,nt.bind(d,"keydown",this.keyHandler),nt.bind(d,"mousedown",Aw),nt.bind(d,"paste",a.handlePaste),i.autoResize&&nt.bind(d,"input",this.autoResize),i.resizable&&this.resizable(e),h.appendChild(c),this.setSelection(d.lastChild,d.lastChild&&d.lastChild.length),c};cl.prototype.handlePaste=function(t){var e=this.options,n=this.style;t.preventDefault();var i;if(t.clipboardData?i=t.clipboardData.getData("text/plain"):i=window.clipboardData.getData("Text"),this.insertText(i),e.autoResize){var a=this.autoResize(n);a&&this.resizeHandler(a)}};cl.prototype.insertText=function(t){t=Bot(t);var e=document.execCommand("insertText",!1,t);e||this._insertTextIE(t)};cl.prototype._insertTextIE=function(t){var e=this.getSelection(),n=e.startContainer,i=e.endContainer,a=e.startOffset,c=e.endOffset,d=e.commonAncestorContainer,h=Fot(d.childNodes),m,g;if(Not(d)){var b=n.textContent;n.textContent=b.substring(0,a)+t+b.substring(c),m=n,g=a+t.length}else if(n===this.content&&i===this.content){var E=document.createTextNode(t);this.content.insertBefore(E,h[a]),m=E,g=E.textContent.length}else{var _=h.indexOf(n),S=h.indexOf(i);h.forEach(function(D,k){k===_?D.textContent=n.textContent.substring(0,a)+t+i.textContent.substring(c):k>_&&k<=S&&Gs(D)}),m=n,g=a+t.length}m&&g!==void 0&&setTimeout(function(){self.setSelection(m,g)})};cl.prototype.autoResize=function(){var t=this.parent,e=this.content,n=parseInt(this.style.fontSize)||12;if(e.scrollHeight>t.offsetHeight||e.scrollHeight<t.offsetHeight-n){var i=t.getBoundingClientRect(),a=e.scrollHeight;t.style.height=a+"px",this.resizeHandler({width:i.width,height:i.height,dx:0,dy:a-i.height})}};cl.prototype.resizable=function(){var t=this,e=this.parent,n=this.resizeHandle,i=parseInt(this.style.minWidth)||0,a=parseInt(this.style.minHeight)||0,c=parseInt(this.style.maxWidth)||1/0,d=parseInt(this.style.maxHeight)||1/0;if(!n){n=this.resizeHandle=jt('<div class="djs-direct-editing-resize-handle"></div>');var h,m,g,b,E=function(D){KB(D),Aw(D),h=D.clientX,m=D.clientY;var k=e.getBoundingClientRect();g=k.width,b=k.height,nt.bind(document,"mousemove",_),nt.bind(document,"mouseup",S)},_=function(D){KB(D),Aw(D);var k=e0e(t0e(g+D.clientX-h,i),c),I=e0e(t0e(b+D.clientY-m,a),d);e.style.width=k+"px",e.style.height=I+"px",t.resizeHandler({width:g,height:b,dx:D.clientX-h,dy:D.clientY-m})},S=function(D){KB(D),Aw(D),nt.unbind(document,"mousemove",_,!1),nt.unbind(document,"mouseup",S,!1)};nt.bind(n,"mousedown",E)}le(n.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),e.appendChild(n)};cl.prototype.destroy=function(){var t=this.parent,e=this.content,n=this.resizeHandle;e.innerText="",t.removeAttribute("style"),e.removeAttribute("style"),nt.unbind(e,"keydown",this.keyHandler),nt.unbind(e,"mousedown",Aw),nt.unbind(e,"input",this.autoResize),nt.unbind(e,"paste",this.handlePaste),n&&(n.removeAttribute("style"),Gs(n)),Gs(t)};cl.prototype.getValue=function(){return this.content.innerText.trim()};cl.prototype.getSelection=function(){var t=window.getSelection(),e=t.getRangeAt(0);return e};cl.prototype.setSelection=function(t,e){var n=document.createRange();t===null?n.selectNodeContents(this.content):(n.setStart(t,e),n.setEnd(t,e));var i=window.getSelection();i.removeAllRanges(),i.addRange(n)};function Bot(t){return t.replace(/\r\n|\r|\n/g,`
`)}function Ca(t,e){this._eventBus=t,this._providers=[],this._textbox=new cl({container:e.getContainer(),keyHandler:ai(this._handleKey,this),resizeHandler:ai(this._handleResize,this)})}Ca.$inject=["eventBus","canvas"];Ca.prototype.registerProvider=function(t){this._providers.push(t)};Ca.prototype.isActive=function(t){return!!(this._active&&(!t||this._active.element===t))};Ca.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())};Ca.prototype._fire=function(t,e){this._eventBus.fire("directEditing."+t,e||{active:this._active})};Ca.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0};Ca.prototype.complete=function(){var t=this._active;if(t){var e,n=t.context.bounds,i=this.$textbox.getBoundingClientRect(),a=this.getValue(),c=t.context.text;(a!==c||i.height!==n.height||i.width!==n.width)&&(e=this._textbox.container.getBoundingClientRect(),t.provider.update(t.element,a,t.context.text,{x:i.left-e.left,y:i.top-e.top,width:i.width,height:i.height})),this._fire("complete"),this.close()}};Ca.prototype.getValue=function(){return this._textbox.getValue()};Ca.prototype._handleKey=function(t){t.stopPropagation();var e=t.keyCode||t.charCode;if(e===27)return t.preventDefault(),this.cancel();if(e===13&&!t.shiftKey)return t.preventDefault(),this.complete()};Ca.prototype._handleResize=function(t){this._fire("resize",t)};Ca.prototype.activate=function(t){this.isActive()&&this.cancel();var e,n=st(this._providers,function(i){return(e=i.activate(t))?i:null});return e&&(this.$textbox=this._textbox.create(e.bounds,e.style,e.text,e.options),this._active={element:t,context:e,provider:n},e.options&&e.options.resizable&&(this.resizable=!0),this._fire("activate")),!!e};var aD={__depends__:[fd],__init__:["directEditing"],directEditing:["type",Ca]};var jot=["marker-start","marker-mid","marker-end"],Vot=["circle","ellipse","line","path","polygon","polyline","path","rect"];function pd(t,e,n,i){this._elementRegistry=t,this._canvas=n,this._styles=i,this._clonedMarkers={};var a=this;e.on("drag.cleanup",function(){a.cleanUp()})}pd.$inject=["elementRegistry","eventBus","canvas","styles"];pd.prototype.cleanUp=function(){var t=this;J(t._clonedMarkers,function(e){xn(e)}),t._clonedMarkers={}};pd.prototype.getGfx=function(t){return this._elementRegistry.getGraphics(t)};pd.prototype.addDragger=function(t,e,n,i="djs-dragger"){n=n||this.getGfx(t);var a=jF(n),c=n.getBoundingClientRect();return this._cloneMarkers(Pg(a),i),Ne(a,this._styles.cls(i,[],{x:c.top,y:c.left})),et(e,a),Ne(a,"data-preview-support-element-id",t.id),a};pd.prototype.addFrame=function(t,e){var n=We("rect",{class:"djs-resize-overlay",width:t.width,height:t.height,x:t.x,y:t.y});return et(e,n),Ne(n,"data-preview-support-element-id",t.id),n};pd.prototype._cloneMarkers=function(t,e="djs-dragger"){var n=this;if(t.childNodes)for(var i=0;i<t.childNodes.length;i++)n._cloneMarkers(t.childNodes[i],e);qot(t)&&jot.forEach(function(a){if(Ne(t,a)){var c=zot(t,a,n._canvas.getContainer());n._cloneMarker(t,c,a,e)}})};pd.prototype._cloneMarker=function(t,e,n,i="djs-dragger"){var a=e.id+"-"+i,c=this._clonedMarkers[a];if(!c){c=jF(e);var d=a+"-clone";c.id=d,St(c).add(i),this._clonedMarkers[a]=c;var h=Et("defs",this._canvas._svg);h||(h=We("defs"),et(this._canvas._svg,h)),et(h,c)}var m=Uot(this._clonedMarkers[a].id);Ne(t,n,m)};function zot(t,e,n){var i=Hot(Ne(t,e));return Et("marker#"+i,n||document)}function Hot(t){return t.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}function Uot(t){return"url(#"+t+")"}function qot(t){return Vot.indexOf(t.nodeName)!==-1}var md={__init__:["previewSupport"],previewSupport:["type",pd]};var Wot="drop-ok",n0e="drop-not-ok",r0e="attach-ok",i0e="new-parent",o0e="create",Got=2e3;function lD(t,e,n,i,a){function c(m,g,b,E,_){if(!g)return!1;m=Ze(m,function($){var F=$.labelTarget;return!$.parent&&!(po($)&&m.indexOf(F)!==-1)});var S=st(m,function($){return!Tn($)}),D=!1,k=!1,I=!1;a0e(m)&&(D=a.allowed("shape.attach",{position:b,shape:S,target:g})),D||(a0e(m)?I=a.allowed("shape.create",{position:b,shape:S,source:E,target:g}):I=a.allowed("elements.create",{elements:m,position:b,target:g}));var R=_.connectionTarget;return I||D?(S&&E&&(k=a.allowed("connection.create",{source:R===E?S:E,target:R===E?E:S,hints:{targetParent:g,targetAttach:D}})),{attach:D,connect:k}):I===null||D===null?null:!1}function d(m,g){[r0e,Wot,n0e,i0e].forEach(function(b){b===g?t.addMarker(m,b):t.removeMarker(m,b)})}n.on(["create.move","create.hover"],function(m){var g=m.context,b=g.elements,E=m.hover,_=g.source,S=g.hints||{};if(!E){g.canExecute=!1,g.target=null;return}s0e(m);var D={x:m.x,y:m.y},k=g.canExecute=E&&c(b,E,D,_,S);E&&k!==null&&(g.target=E,k&&k.attach?d(E,r0e):d(E,k?i0e:n0e))}),n.on(["create.end","create.out","create.cleanup"],function(m){var g=m.hover;g&&d(g,null)}),n.on("create.end",function(m){var g=m.context,b=g.source,E=g.shape,_=g.elements,S=g.target,D=g.canExecute,k=D&&D.attach,I=D&&D.connect,R=g.hints||{};if(D===!1||!S)return!1;s0e(m);var $={x:m.x,y:m.y};I?E=i.appendShape(b,E,$,S,{attach:k,connection:I===!0?{}:I,connectionTarget:R.connectionTarget}):(_=i.createElements(_,$,S,le({},R,{attach:k})),E=st(_,function(F){return!Tn(F)})),le(g,{elements:_,shape:E}),le(m,{elements:_,shape:E})});function h(){var m=e.context();m&&m.prefix===o0e&&e.cancel()}n.on("create.init",function(){n.on("elements.changed",h),n.once(["create.cancel","create.end"],Got,function(){n.off("elements.changed",h)})}),this.start=function(m,g,b){Ue(g)||(g=[g]);var E=st(g,function(D){return!Tn(D)});if(E){b=le({elements:g,hints:{},shape:E},b||{}),J(g,function(D){ot(D.x)||(D.x=0),ot(D.y)||(D.y=0)});var _=Ze(g,function(D){return!D.hidden}),S=En(_);J(g,function(D){Tn(D)&&(D.waypoints=Nn(D.waypoints,function(k){return{x:k.x-S.x-S.width/2,y:k.y-S.y-S.height/2}})),le(D,{x:D.x-S.x-S.width/2,y:D.y-S.y-S.height/2})}),e.init(m,o0e,{cursor:"grabbing",autoActivate:!0,data:{shape:E,elements:g,context:b}})}}}lD.$inject=["canvas","dragging","eventBus","modeling","rules"];function s0e(t){var e=t.context,n=e.createConstraints;n&&(n.left&&(t.x=Math.max(t.x,n.left)),n.right&&(t.x=Math.min(t.x,n.right)),n.top&&(t.y=Math.max(t.y,n.top)),n.bottom&&(t.y=Math.min(t.y,n.bottom)))}function a0e(t){return t&&t.length===1&&!Tn(t[0])}var Qot=750;function cD(t,e,n,i,a){function c(d){var h=We("g");Ne(h,a.cls("djs-drag-group",["no-events"]));var m=We("g");return d.forEach(function(g){var b;g.hidden||(g.waypoints?(b=n._createContainer("connection",m),n.drawConnection(Pg(b),g)):(b=n._createContainer("shape",m),n.drawShape(Pg(b),g),Qr(b,g.x,g.y)),i.addDragger(g,h,b))}),h}e.on("create.move",Qot,function(d){var h=d.hover,m=d.context,g=m.elements,b=m.dragGroup;b||(b=m.dragGroup=c(g));var E;h?(b.parentNode||(E=t.getActiveLayer(),et(E,b)),Qr(b,d.x,d.y)):xn(b)}),e.on("create.cleanup",function(d){var h=d.context,m=h.dragGroup;m&&xn(m)})}cD.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];var c0={__depends__:[Ro,md,Yi,Gi],__init__:["create","createPreview"],create:["type",lD],createPreview:["type",cD]};function Wg(){}Wg.prototype.get=function(){return this._data};Wg.prototype.set=function(t){this._data=t};Wg.prototype.clear=function(){var t=this._data;return delete this._data,t};Wg.prototype.isEmpty=function(){return!this._data};var l0e={clipboard:["type",Wg]};function Rw(t){var e=this;this._lastMoveEvent=null;function n(i){e._lastMoveEvent=i}t.on("canvas.init",function(i){var a=e._svg=i.svg;a.addEventListener("mousemove",n)}),t.on("canvas.destroy",function(){e._lastMouseEvent=null,e._svg.removeEventListener("mousemove",n)})}Rw.$inject=["eventBus"];Rw.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||Yot(0,0)};function Yot(t,e){var n=document.createEvent("MouseEvent"),i=t,a=e,c=t,d=e;return n.initMouseEvent&&n.initMouseEvent("mousemove",!0,!0,window,0,i,a,c,d,!1,!1,!1,!1,0,null),n}var gd={__init__:["mouse"],mouse:["type",Rw]};function ul(t,e,n,i,a,c,d,h){this._canvas=t,this._create=e,this._clipboard=n,this._elementFactory=i,this._eventBus=a,this._modeling=c,this._mouse=d,this._rules=h,a.on("copyPaste.copyElement",function(m){var g=m.descriptor,b=m.element,E=m.elements;g.priority=1,g.id=b.id;var _=st(E,function(S){return S===b.parent});_&&(g.parent=b.parent.id),Xot(b)&&(g.priority=2,g.host=b.host.id),Tn(b)&&(g.priority=3,g.source=b.source.id,g.target=b.target.id,g.waypoints=Kot(b)),po(b)&&(g.priority=4,g.labelTarget=b.labelTarget.id),J(["x","y","width","height"],function(S){ot(b[S])&&(g[S]=b[S])}),g.hidden=b.hidden,g.collapsed=b.collapsed}),a.on("copyPaste.pasteElements",function(m){var g=m.hints;le(g,{createElementsBehavior:!1})})}ul.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"];ul.prototype.copy=function(t){var e,n;return Ue(t)||(t=t?[t]:[]),e=this._eventBus.fire("copyPaste.canCopyElements",{elements:t}),e===!1?n={}:n=this.createTree(Ue(e)?e:t),this._clipboard.set(n),this._eventBus.fire("copyPaste.elementsCopied",{elements:t,tree:n}),n};ul.prototype.paste=function(t){var e=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=t&&t.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});var i=this._createElements(e);if(t&&t.element&&t.point)return this._paste(i,t.element,t.point,n);this._create.start(this._mouse.getLastMoveEvent(),i,{hints:n||{}})}};ul.prototype._paste=function(t,e,n,i){J(t,function(c){ot(c.x)||(c.x=0),ot(c.y)||(c.y=0)});var a=En(t);return J(t,function(c){Tn(c)&&(c.waypoints=Nn(c.waypoints,function(d){return{x:d.x-a.x-a.width/2,y:d.y-a.y-a.height/2}})),le(c,{x:c.x-a.x-a.width/2,y:c.y-a.y-a.height/2})}),this._modeling.createElements(t,n,e,le({},i))};ul.prototype._createElements=function(t){var e=this,n=this._eventBus,i={},a=[];return J(t,function(c,d){d=parseInt(d,10),c=fr(c,"priority"),J(c,function(h){var m=le({},xs(h,["priority"]));i[h.parent]?m.parent=i[h.parent]:delete m.parent,n.fire("copyPaste.pasteElement",{cache:i,descriptor:m});var g;if(Tn(m)){m.source=i[h.source],m.target=i[h.target],g=i[h.id]=e.createConnection(m),a.push(g);return}if(po(m)){m.labelTarget=i[m.labelTarget],g=i[h.id]=e.createLabel(m),a.push(g);return}m.host&&(m.host=i[m.host]),g=i[h.id]=e.createShape(m),a.push(g)})}),a};ul.prototype.createConnection=function(t){var e=this._elementFactory.createConnection(xs(t,["id"]));return e};ul.prototype.createLabel=function(t){var e=this._elementFactory.createLabel(xs(t,["id"]));return e};ul.prototype.createShape=function(t){var e=this._elementFactory.createShape(xs(t,["id"]));return e};ul.prototype.hasRelations=function(t,e){var n,i,a;return!(Tn(t)&&(i=st(e,Mo({id:t.source.id})),a=st(e,Mo({id:t.target.id})),!i||!a)||po(t)&&(n=st(e,Mo({id:t.labelTarget.id})),!n))};ul.prototype.createTree=function(t){var e=this._rules,n=this,i={},a=[],c=Vp(t);function d(g,b){return e.allowed("element.copy",{element:g,elements:b})}function h(g,b){var E=st(a,function(_){return g===_.element});if(!E){a.push({element:g,depth:b});return}E.depth<b&&(a=m(E,a),a.push({element:E.element,depth:b}))}function m(g,b){var E=b.indexOf(g);return E!==-1&&b.splice(E,1),b}return Qc(c,function(g,b,E){if(po(g))return;J(g.labels,function(D){h(D,E)});function _(D){D&&D.length&&J(D,function(k){J(k.labels,function(I){h(I,E)}),h(k,E)})}J([g.attachers,g.incoming,g.outgoing],_),h(g,E);var S=[];return g.children&&(S=g.children.slice()),n._eventBus.fire("copyPaste.createTree",{element:g,children:S}),S}),t=Nn(a,function(g){return g.element}),a=Nn(a,function(g){return g.descriptor={},n._eventBus.fire("copyPaste.copyElement",{descriptor:g.descriptor,element:g.element,elements:t}),g}),a=fr(a,function(g){return g.descriptor.priority}),t=Nn(a,function(g){return g.element}),J(a,function(g){var b=g.depth;if(!n.hasRelations(g.element,t)){u0e(g.element,t);return}if(!d(g.element,t)){u0e(g.element,t);return}i[b]||(i[b]=[]),i[b].push(g.descriptor)}),i};function Xot(t){return!!t.host}function Kot(t){return Nn(t.waypoints,function(e){return e=c0e(e),e.original&&(e.original=c0e(e.original)),e})}function c0e(t){return le({},t)}function u0e(t,e){var n=e.indexOf(t);return n===-1?e:e.splice(n,1)}var d0e={__depends__:[l0e,c0,gd,Yi],__init__:["copyPaste"],copyPaste:["type",ul]};function ZB(t,e,n){Ue(n)||(n=[n]),J(n,function(i){Hi(t[i])||(e[i]=t[i])})}var JB=750;function uD(t,e,n){function i(m,g){var b=t.create(m.$type);return n.copyElement(m,b,null,g)}e.on("copyPaste.copyElement",JB,function(m){var g=m.descriptor,b=m.element,E=K(b);if(Mn(b))return g;var _=g.businessObject=i(E,!0),S=g.di=i(wt(b),!0);S.bpmnElement=_,ZB(_,g,"name"),ZB(S,g,"isExpanded"),E.default&&(g.default=E.default.id)});var a="-bpmn-js-refs";function c(m){return m[a]=m[a]||{}}function d(m,g){m[a]=g}function h(m,g,b){var E=K(m);return m.default&&(b[m.default]={element:E,property:"default"}),m.host&&(K(m).attachedToRef=K(g[m.host])),xs(b,dr(b,function(_,S,D){var k=S.element,I=S.property;return D===m.id&&(k[I]=E,_.push(m.id)),_},[]))}e.on("copyPaste.pasteElement",function(m){var g=m.cache,b=m.descriptor,E=b.businessObject,_=b.di;if(Mn(b)){b.businessObject=K(g[b.labelTarget]),b.di=wt(g[b.labelTarget]);return}E=b.businessObject=i(E),_=b.di=i(_),_.bpmnElement=E,ZB(b,E,["isExpanded","name"]),b.type=E.$type}),e.on("copyPaste.copyElement",JB,function(m){var g=m.descriptor,b=m.element;if(M(b,"bpmn:Participant")){var E=K(b);E.processRef&&(g.processRef=i(E.processRef,!0))}}),e.on("copyPaste.pasteElement",function(m){var g=m.descriptor,b=g.processRef;b&&(g.processRef=i(b))}),e.on("copyPaste.pasteElement",JB,function(m){var g=m.cache,b=m.descriptor;d(g,h(b,g,c(g)))})}uD.$inject=["bpmnFactory","eventBus","moddleCopy"];var Zot=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"];function Gg(t,e,n){this._bpmnFactory=e,this._eventBus=t,this._moddle=n,t.on("moddleCopy.canCopyProperties",function(i){var a=i.propertyNames;if(!(!a||!a.length))return fr(a,function(c){return c==="extensionElements"})}),t.on("moddleCopy.canCopyProperty",function(i){var a=i.parent,c=Un(a)&&a.$descriptor,d=i.propertyName;if(d&&Zot.indexOf(d)!==-1||d&&c&&!st(c.properties,Mo({name:d})))return!1}),t.on("moddleCopy.canSetCopiedProperty",function(i){var a=i.property;if(Jot(a,"bpmn:ExtensionElements")&&(!a.values||!a.values.length))return!1})}Gg.$inject=["eventBus","bpmnFactory","moddle"];Gg.prototype.copyElement=function(t,e,n,i=!1){var a=this;n&&!Ue(n)&&(n=[n]),n=n||dD(t.$descriptor);var c=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:n,sourceElement:t,targetElement:e,clone:i});return c===!1||(Ue(c)&&(n=c),J(n,function(d){var h;Ui(t,d)&&(h=t.get(d));var m=a.copyProperty(h,e,d,i);if(In(m)){var g=a._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:e,property:m,propertyName:d});g!==!1&&e.set(d,m)}})),e};Gg.prototype.copyProperty=function(t,e,n,i=!1){var a=this,c=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:e,property:t,propertyName:n,clone:i});if(c!==!1){if(c)return Un(c)&&c.$type&&!c.$parent&&(c.$parent=e),c;var d=this._moddle.getPropertyDescriptor(e,n);if(!d.isReference)return d.isId?t&&this._copyId(t,e,i):Ue(t)?dr(t,function(h,m){return c=a.copyProperty(m,e,n,i),c?h.concat(c):h},[]):Un(t)&&t.$type?this._moddle.getElementDescriptor(t).isGeneric?void 0:(c=a._bpmnFactory.create(t.$type),c.$parent=e,c=a.copyElement(t,c,null,i),c):t}};Gg.prototype._copyId=function(t,e,n=!1){if(n)return t;if(!this._moddle.ids.assigned(t))return this._moddle.ids.claim(t,e),t};function dD(t,e){return dr(t.properties,function(n,i){return e&&i.default?n:n.concat(i.name)},[])}function Jot(t,e){return t&&At(t.$instanceOf)&&t.$instanceOf(e)}var fD={__depends__:[d0e],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",uD],moddleCopy:["type",Gg]};var f0e=Math.round;function Lw(t,e){this._modeling=t,this._eventBus=e}Lw.$inject=["modeling","eventBus"];Lw.prototype.replaceElement=function(t,e,n){if(t.waypoints)return null;var i=this._modeling,a=this._eventBus;a.fire("replace.start",{element:t,attrs:e,hints:n});var c=e.width||t.width,d=e.height||t.height,h=e.x||t.x,m=e.y||t.y,g=f0e(h+c/2),b=f0e(m+d/2),E=i.replaceShape(t,le({},e,{x:g,y:b,width:c,height:d}),n);return a.fire("replace.end",{element:t,newElement:E,hints:n}),E};function hD(t,e){e.on("replace.end",500,function(n){let{newElement:i,hints:a={}}=n;a.select!==!1&&t.select(i)})}hD.$inject=["selection","eventBus"];var h0e={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",hD],replace:["type",Lw]};function est(t,e,n){Ue(n)||(n=[n]),J(n,function(i){Hi(t[i])||(e[i]=t[i])})}var tst=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function nst(t,e){var n=t&&Ui(t,"collapsed")?t.collapsed:!bt(t),i;return e&&(Ui(e,"collapsed")||Ui(e,"isExpanded"))?i=Ui(e,"collapsed")?e.collapsed:!e.isExpanded:i=n,n!==i}function mD(t,e,n,i,a,c){function d(h,m,g){g=g||{};var b=m.type,E=h.businessObject;if(pD(E)&&b==="bpmn:SubProcess"&&nst(h,m))return i.toggleCollapse(h),h;var _=t.create(b),S={type:b,businessObject:_};S.di={},est(h.di,S.di,["fill","stroke","background-color","border-color","color"]);var D=dD(E.$descriptor),k=dD(_.$descriptor,!0),I=rst(D,k);le(_,qi(m,tst));var R=Ze(I,function(F){return F==="eventDefinitions"?p0e(h,m.eventDefinitionType):F==="loopCharacteristics"?!bi(_):!(Ui(_,F)||F==="processRef"&&m.isExpanded===!1||F==="triggeredByEvent")});if(_=n.copyElement(E,_,R),m.eventDefinitionType&&(p0e(_,m.eventDefinitionType)||(S.eventDefinitionType=m.eventDefinitionType,S.eventDefinitionAttrs=m.eventDefinitionAttrs)),M(E,"bpmn:Activity")){if(pD(E))S.isExpanded=bt(h);else if(m&&Ui(m,"isExpanded")){S.isExpanded=m.isExpanded;var $=e.getDefaultSize(_,{isExpanded:S.isExpanded});S.width=$.width,S.height=$.height,S.x=h.x-(S.width-h.width)/2,S.y=h.y-(S.height-h.height)/2}bt(h)&&!M(E,"bpmn:Task")&&S.isExpanded&&(S.width=h.width,S.height=h.height)}return pD(E)&&!pD(_)&&(g.moveChildren=!1),M(E,"bpmn:Participant")&&(m.isExpanded===!0?_.processRef=t.create("bpmn:Process"):g.moveChildren=!1,S.width=h.width,S.height=e.getDefaultSize(S).height),c.allowed("shape.resize",{shape:_})||(S.height=e.getDefaultSize(S).height,S.width=e.getDefaultSize(S).width),_.name=E.name,He(E,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&He(_,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(_.default=E.default),m.host&&!M(E,"bpmn:BoundaryEvent")&&M(_,"bpmn:BoundaryEvent")&&(S.host=m.host),(S.type==="bpmn:DataStoreReference"||S.type==="bpmn:DataObjectReference")&&(S.x=h.x+(h.width-S.width)/2),a.replaceElement(h,S,g)}this.replaceElement=d}mD.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules"];function pD(t){return M(t,"bpmn:SubProcess")}function p0e(t,e){var n=K(t);return e&&n.get("eventDefinitions").some(function(i){return M(i,e)})}function rst(t,e){return t.filter(function(n){return e.includes(n)})}var gD={__depends__:[fD,h0e,Gi],bpmnReplace:["type",mD]};function ej(t){return function(e){var n=e.target,i=K(t),a=i.eventDefinitions&&i.eventDefinitions[0],c=i.$type===n.type,d=(a&&a.$type)===n.eventDefinitionType,h=!!n.triggeredByEvent==!!i.triggeredByEvent,m=n.isExpanded===void 0||n.isExpanded===bt(t);return!c||!d||!h||!m}}var m0e=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],g0e=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],v0e=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Intermediate Catch Event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message Intermediate Throw Event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Intermediate Catch Event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Intermediate Throw Event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Intermediate Catch Event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link Intermediate Catch Event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link Intermediate Throw Event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation Intermediate Throw Event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal Intermediate Catch Event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal Intermediate Throw Event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],y0e=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message End Event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation End Event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error End Event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel End Event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation End Event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal End Event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate End Event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],b0e=[{label:"Exclusive Gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel Gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive Gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex Gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event based Gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],x0e=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],tj=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],E0e=tj,nj=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User Task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service Task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send Task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive Task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual Task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business Rule Task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script Task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call Activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub Process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}],w0e=[{label:"Data Store Reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],_0e=[{label:"Data Object Reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],C0e=[{label:"Message Boundary Event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Boundary Event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Boundary Event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Boundary Event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Error Boundary Event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel Boundary Event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Signal Boundary Event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Compensation Boundary Event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],S0e=[{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Error Start Event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Escalation Start Event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Compensation Start Event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],O0e=[{label:"Sequence Flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default Flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional Flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],D0e=[{label:"Expanded Pool",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(t){var e="Empty Pool";return t.children&&t.children.length&&(e+=" (removes content)"),e},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}];function Sa(t,e,n,i,a,c,d){this._bpmnFactory=t,this._popupMenu=e,this._modeling=n,this._moddle=i,this._bpmnReplace=a,this._rules=c,this._translate=d,this._register()}Sa.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate"];Sa.prototype._register=function(){this._popupMenu.registerProvider("bpmn-replace",this)};Sa.prototype.getPopupMenuEntries=function(t){var e=t.businessObject,n=this._rules,i=[];if(Ue(t)||!n.allowed("shape.replace",{element:t}))return{};var a=ej(t);return M(e,"bpmn:DataObjectReference")?this._createEntries(t,w0e):M(e,"bpmn:DataStoreReference")&&!M(t.parent,"bpmn:Collaboration")?this._createEntries(t,_0e):M(e,"bpmn:StartEvent")&&!M(e.$parent,"bpmn:SubProcess")?(i=Ze(m0e,a),this._createEntries(t,i)):M(e,"bpmn:Participant")?(i=Ze(D0e,function(c){return bt(t)!==c.target.isExpanded}),this._createEntries(t,i)):M(e,"bpmn:StartEvent")&&bi(e.$parent)?(i=Ze(S0e,function(c){var d=c.target,h=d.isInterrupting!==!1,m=K(d).isInterrupting===h;return a(c)||!a(c)&&!m}),this._createEntries(t,i)):M(e,"bpmn:StartEvent")&&!bi(e.$parent)&&M(e.$parent,"bpmn:SubProcess")?(i=Ze(g0e,a),this._createEntries(t,i)):M(e,"bpmn:EndEvent")?(i=Ze(y0e,function(c){var d=c.target;return d.eventDefinitionType=="bpmn:CancelEventDefinition"&&!M(e.$parent,"bpmn:Transaction")?!1:a(c)}),this._createEntries(t,i)):M(e,"bpmn:BoundaryEvent")?(i=Ze(C0e,function(c){var d=c.target;if(d.eventDefinitionType=="bpmn:CancelEventDefinition"&&!M(e.attachedToRef,"bpmn:Transaction"))return!1;var h=d.cancelActivity!==!1,m=e.cancelActivity==h;return a(c)||!a(c)&&!m}),this._createEntries(t,i)):M(e,"bpmn:IntermediateCatchEvent")||M(e,"bpmn:IntermediateThrowEvent")?(i=Ze(v0e,a),this._createEntries(t,i)):M(e,"bpmn:Gateway")?(i=Ze(b0e,a),this._createEntries(t,i)):M(e,"bpmn:Transaction")?(i=Ze(tj,a),this._createEntries(t,i)):bi(e)&&bt(t)?(i=Ze(E0e,a),this._createEntries(t,i)):M(e,"bpmn:SubProcess")&&bt(t)?(i=Ze(x0e,a),this._createEntries(t,i)):M(e,"bpmn:AdHocSubProcess")&&!bt(t)?(i=Ze(nj,function(c){var d=c.target,h=d.type==="bpmn:SubProcess",m=d.isExpanded===!0;return ej(d,d)&&(!h||m)}),this._createEntries(t,i)):M(e,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(t,O0e):M(e,"bpmn:FlowNode")?(i=Ze(nj,a),M(e,"bpmn:SubProcess")&&!bt(t)&&(i=Ze(i,function(c){return c.label!=="Sub Process (collapsed)"})),this._createEntries(t,i)):{}};Sa.prototype.getPopupMenuHeaderEntries=function(t){var e={};return M(t,"bpmn:Activity")&&!bi(t)&&(e=se(se({},e),this._getLoopCharacteristicsHeaderEntries(t))),M(t,"bpmn:DataObjectReference")&&(e=se(se({},e),this._getCollectionHeaderEntries(t))),M(t,"bpmn:Participant")&&(e=se(se({},e),this._getParticipantMultiplicityHeaderEntries(t))),M(t,"bpmn:SubProcess")&&!M(t,"bpmn:Transaction")&&!bi(t)&&(e=se(se({},e),this._getAdHocHeaderEntries(t))),e};Sa.prototype._createEntries=function(t,e){var n={},i=this;return J(e,function(a){n[a.actionName]=i._createEntry(a,t)}),n};Sa.prototype._createSequenceFlowEntries=function(t,e){var n=K(t),i={},a=this._modeling,c=this._moddle,d=this;return J(e,function(h){switch(h.actionName){case"replace-with-default-flow":n.sourceRef.default!==n&&(M(n.sourceRef,"bpmn:ExclusiveGateway")||M(n.sourceRef,"bpmn:InclusiveGateway")||M(n.sourceRef,"bpmn:ComplexGateway")||M(n.sourceRef,"bpmn:Activity"))&&(i=Me(se({},i),{[h.actionName]:d._createEntry(h,t,function(){a.updateProperties(t.source,{default:n})})}));break;case"replace-with-conditional-flow":!n.conditionExpression&&M(n.sourceRef,"bpmn:Activity")&&(i=Me(se({},i),{[h.actionName]:d._createEntry(h,t,function(){var m=c.create("bpmn:FormalExpression",{body:""});a.updateProperties(t,{conditionExpression:m})})}));break;default:M(n.sourceRef,"bpmn:Activity")&&n.conditionExpression&&(i=Me(se({},i),{[h.actionName]:d._createEntry(h,t,function(){a.updateProperties(t,{conditionExpression:void 0})})})),(M(n.sourceRef,"bpmn:ExclusiveGateway")||M(n.sourceRef,"bpmn:InclusiveGateway")||M(n.sourceRef,"bpmn:ComplexGateway")||M(n.sourceRef,"bpmn:Activity"))&&n.sourceRef.default===n&&(i=Me(se({},i),{[h.actionName]:d._createEntry(h,t,function(){a.updateProperties(t.source,{default:void 0})})}))}}),i};Sa.prototype._createEntry=function(t,e,n){var i=this._translate,a=this._bpmnReplace.replaceElement,c=function(){return a(e,t.target)},d=t.label;return d&&typeof d=="function"&&(d=d(e)),n=n||c,{label:i(d),className:t.className,action:n}};Sa.prototype._getLoopCharacteristicsHeaderEntries=function(t){var e=this,n=this._translate;function i(g,b){var E=K(t).loopCharacteristics;b.active?E=void 0:((Hi(b.options.isSequential)||!E||!M(E,b.options.loopCharacteristics))&&(E=e._moddle.create(b.options.loopCharacteristics)),E.isSequential=b.options.isSequential),e._modeling.updateProperties(t,{loopCharacteristics:E})}var a=K(t),c=a.loopCharacteristics,d,h,m;return c&&(d=c.isSequential,h=c.isSequential===void 0,m=c.isSequential!==void 0&&!c.isSequential),{"toggle-parallel-mi":{className:"bpmn-icon-parallel-mi-marker",title:n("Parallel Multi Instance"),active:m,action:i,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},"toggle-sequential-mi":{className:"bpmn-icon-sequential-mi-marker",title:n("Sequential Multi Instance"),active:d,action:i,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},"toggle-loop":{className:"bpmn-icon-loop-marker",title:n("Loop"),active:h,action:i,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}}};Sa.prototype._getCollectionHeaderEntries=function(t){var e=this,n=this._translate,i=t.businessObject.dataObjectRef;if(!i)return{};function a(d,h){e._modeling.updateModdleProperties(t,i,{isCollection:!h.active})}var c=i.isCollection;return{"toggle-is-collection":{className:"bpmn-icon-parallel-mi-marker",title:n("Collection"),active:c,action:a}}};Sa.prototype._getParticipantMultiplicityHeaderEntries=function(t){var e=this,n=this._bpmnFactory,i=this._translate;function a(d,h){var m=h.active,g;m||(g=n.create("bpmn:ParticipantMultiplicity")),e._modeling.updateProperties(t,{participantMultiplicity:g})}var c=t.businessObject.participantMultiplicity;return{"toggle-participant-multiplicity":{className:"bpmn-icon-parallel-mi-marker",title:i("Participant Multiplicity"),active:!!c,action:a}}};Sa.prototype._getAdHocHeaderEntries=function(t){var e=this._translate,n=K(t),i=M(n,"bpmn:AdHocSubProcess"),a=this._bpmnReplace.replaceElement;return{"toggle-adhoc":{className:"bpmn-icon-ad-hoc-marker",title:e("Ad-hoc"),active:i,action:function(c,d){return i?a(t,{type:"bpmn:SubProcess"},{autoResize:!1,layoutConnection:!1}):a(t,{type:"bpmn:AdHocSubProcess"},{autoResize:!1,layoutConnection:!1})}}}};var T0e={__depends__:[k2,gD,H7],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",Sa]};var yD=Math.max,bD=Math.min,ost=20;function xD(t,e){return{top:t.top-e.top,right:t.right-e.right,bottom:t.bottom-e.bottom,left:t.left-e.left}}function k0e(t,e,n){var i=n.x,a=n.y,c={x:t.x,y:t.y,width:t.width,height:t.height};return e.indexOf("n")!==-1?(c.y=t.y+a,c.height=t.height-a):e.indexOf("s")!==-1&&(c.height=t.height+a),e.indexOf("e")!==-1?c.width=t.width+i:e.indexOf("w")!==-1&&(c.x=t.x+i,c.width=t.width-i),c}function P0e(t,e){return{x:t.x+(e.left||0),y:t.y+(e.top||0),width:t.width-(e.left||0)+(e.right||0),height:t.height-(e.top||0)+(e.bottom||0)}}function vD(t,e,n){var i=e[t],a=n.min&&n.min[t],c=n.max&&n.max[t];return ot(a)&&(i=(/top|left/.test(t)?bD:yD)(i,a)),ot(c)&&(i=(/top|left/.test(t)?yD:bD)(i,c)),i}function I0e(t,e){if(!e)return t;var n=Xe(t);return kg({top:vD("top",n,e),right:vD("right",n,e),bottom:vD("bottom",n,e),left:vD("left",n,e)})}function M0e(t,e,n,i){var a=Xe(e),c={top:/n/.test(t)?a.bottom-n.height:a.top,left:/w/.test(t)?a.right-n.width:a.left,bottom:/s/.test(t)?a.top+n.height:a.bottom,right:/e/.test(t)?a.left+n.width:a.right},d=i?Xe(i):c,h={top:bD(c.top,d.top),left:bD(c.left,d.left),bottom:yD(c.bottom,d.bottom),right:yD(c.right,d.right)};return kg(h)}function $w(t,e){return typeof t<"u"?t:ost}function sst(t,e){var n,i,a,c;return typeof e=="object"?(n=$w(e.left),i=$w(e.right),a=$w(e.top),c=$w(e.bottom)):n=i=a=c=$w(e),{x:t.x-n,y:t.y-a,width:t.width+n+i,height:t.height+a+c}}function ast(t){return!(t.waypoints||t.type==="label")}function ED(t,e){var n;if(t.length===void 0?n=Ze(t.children,ast):n=t,n.length)return sst(En(n),e)}var wD=Math.abs;function lst(t,e){return xD(Xe(e),Xe(t))}var cst=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"],u0=30;function L2(t,e){return e=e||[],t.children.filter(function(n){M(n,"bpmn:Lane")&&(L2(n,e),e.push(n))}),e}function nc(t){return t.children.filter(function(e){return M(e,"bpmn:Lane")})}function _s(t){return Vg(t,cst)||t}function A0e(t,e){var n=_s(t),i=M(n,"bpmn:Process")?[]:[n],a=L2(n,i),c=Xe(t),d=Xe(e),h=lst(t,e),m=[];return a.forEach(function(g){if(g!==t){var b=0,E=h.right,_=0,S=h.left,D=Xe(g);h.top&&(wD(D.bottom-c.top)<10&&(_=d.top-D.bottom),wD(D.top-c.top)<5&&(b=d.top-D.top)),h.bottom&&(wD(D.top-c.bottom)<10&&(b=d.bottom-D.top),wD(D.bottom-c.bottom)<5&&(_=d.bottom-D.bottom)),(b||E||_||S)&&m.push({shape:g,newBounds:P0e(g,{top:b,right:E,bottom:_,left:S})})}}),m}function Qg(t,e,n,i,a,c,d,h,m,g,b,E){t=t||{},i.registerProvider(this),this._contextPad=i,this._modeling=a,this._elementFactory=c,this._connect=d,this._create=h,this._popupMenu=m,this._canvas=g,this._rules=b,this._translate=E,t.autoPlace!==!1&&(this._autoPlace=e.get("autoPlace",!1)),n.on("create.end",250,function(_){var S=_.context,D=S.shape;if(!(!Kc(_)||!i.isOpen(D))){var k=i.getEntries(D);k.replace&&k.replace.action.click(_,D)}})}Qg.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate"];Qg.prototype.getMultiElementContextPadEntries=function(t){var e=this._modeling,n={};return this._isDeleteAllowed(t)&&le(n,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Remove"),action:{click:function(i,a){e.removeElements(a.slice())}}}}),n};Qg.prototype._isDeleteAllowed=function(t){var e=this._rules.allowed("elements.delete",{elements:t});return Ue(e)?Gc(e,function(n){return ust(e,n)}):e};Qg.prototype.getContextPadEntries=function(t){var e=this._contextPad,n=this._modeling,i=this._elementFactory,a=this._connect,c=this._create,d=this._popupMenu,h=this._rules,m=this._autoPlace,g=this._translate,b={};if(t.type==="label")return b;var E=t.businessObject;function _(F,L){a.start(F,L)}function S(F,L){n.removeElements([L])}function D(F){var L=5,V=e.getPad(F).html,G=V.getBoundingClientRect(),re={x:G.left,y:G.bottom+L};return re}function k(F,L,V,G){typeof V!="string"&&(G=V,V=g("Append {type}",{type:F.replace(/^bpmn:/,"")}));function re(oe,pe){var ge=i.createShape(le({type:F},G));c.start(oe,ge,{source:pe})}var ee=m?function(oe,pe){var ge=i.createShape(le({type:F},G));m.append(pe,ge)}:re;return{group:"model",className:L,title:V,action:{dragstart:re,click:ee}}}function I(F){return function(L,V){n.splitLane(V,F),e.open(V,!0)}}if(He(E,["bpmn:Lane","bpmn:Participant"])&&bt(t)){var R=nc(t);le(b,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:g("Add Lane above"),action:{click:function(F,L){n.addLane(L,"top")}}}}),R.length<2&&(t.height>=120&&le(b,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:g("Divide into two Lanes"),action:{click:I(2)}}}),t.height>=180&&le(b,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:g("Divide into three Lanes"),action:{click:I(3)}}})),le(b,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:g("Add Lane below"),action:{click:function(F,L){n.addLane(L,"bottom")}}}})}M(E,"bpmn:FlowNode")&&(M(E,"bpmn:EventBasedGateway")?le(b,{"append.receive-task":k("bpmn:ReceiveTask","bpmn-icon-receive-task",g("Append ReceiveTask")),"append.message-intermediate-event":k("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",g("Append MessageIntermediateCatchEvent"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":k("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",g("Append TimerIntermediateCatchEvent"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":k("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",g("Append ConditionIntermediateCatchEvent"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":k("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",g("Append SignalIntermediateCatchEvent"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):R0e(E,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?le(b,{"append.compensation-activity":k("bpmn:Task","bpmn-icon-task",g("Append compensation activity"),{isForCompensation:!0})}):!M(E,"bpmn:EndEvent")&&!E.isForCompensation&&!R0e(E,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")&&!bi(E)&&le(b,{"append.end-event":k("bpmn:EndEvent","bpmn-icon-end-event-none",g("Append EndEvent")),"append.gateway":k("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",g("Append Gateway")),"append.append-task":k("bpmn:Task","bpmn-icon-task",g("Append Task")),"append.intermediate-event":k("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",g("Append Intermediate/Boundary Event"))})),d.isEmpty(t,"bpmn-replace")||le(b,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:g("Change type"),action:{click:function(F,L){var V=le(D(L),{cursor:{x:F.x,y:F.y}});d.open(L,"bpmn-replace",V,{title:g("Change element"),width:300,search:!0})}}}}),M(E,"bpmn:SequenceFlow")&&le(b,{"append.text-annotation":k("bpmn:TextAnnotation","bpmn-icon-text-annotation")}),He(E,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&le(b,{"append.text-annotation":k("bpmn:TextAnnotation","bpmn-icon-text-annotation"),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:g("Connect using "+(E.isForCompensation?"":"Sequence/MessageFlow or ")+"Association"),action:{click:_,dragstart:_}}}),M(E,"bpmn:TextAnnotation")&&le(b,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:g("Connect using Association"),action:{click:_,dragstart:_}}}),He(E,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&le(b,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:g("Connect using DataInputAssociation"),action:{click:_,dragstart:_}}}),M(E,"bpmn:Group")&&le(b,{"append.text-annotation":k("bpmn:TextAnnotation","bpmn-icon-text-annotation")});var $=h.allowed("elements.delete",{elements:[t]});return Ue($)&&($=$[0]===t),$&&le(b,{delete:{group:"edit",className:"bpmn-icon-trash",title:g("Remove"),action:{click:S}}}),b};function R0e(t,e,n){var i=t.$instanceOf(e),a=!1,c=t.eventDefinitions||[];return J(c,function(d){d.$type===n&&(a=!0)}),i&&a}function ust(t,e){return t.indexOf(e)!==-1}var L0e={__depends__:[aD,O7,Gi,R2,c0,T0e],__init__:["contextPadProvider"],contextPadProvider:["type",Qg]};var dst={horizontal:["x","width"],vertical:["y","height"]},$0e=5;function nu(t,e){this._modeling=t,this._filters=[],this.registerFilter(function(n){var i=e.allowed("elements.distribute",{elements:n});return Ue(i)?i:i?n:[]})}nu.$inject=["modeling","rules"];nu.prototype.registerFilter=function(t){if(typeof t!="function")throw new Error("the filter has to be a function");this._filters.push(t)};nu.prototype.trigger=function(t,e){var n=this._modeling,i,a;if(!(t.length<3)&&(this._setOrientation(e),a=this._filterElements(t),i=this._createGroups(a),!(i.length<=2)))return n.distributeElements(i,this._axis,this._dimension),i};nu.prototype._filterElements=function(t){var e=this._filters,n=this._axis,i=this._dimension,a=[].concat(t);return e.length?(J(e,function(c){a=c(a,n,i)}),a):t};nu.prototype._createGroups=function(t){var e=[],n=this,i=this._axis,a=this._dimension;if(!i)throw new Error('must have a defined "axis" and "dimension"');var c=fr(t,i);return J(c,function(d,h){var m=n._findRange(d,i,a),g,b=e[e.length-1];b&&n._hasIntersection(b.range,m)?e[e.length-1].elements.push(d):(g={range:m,elements:[d]},e.push(g))}),e};nu.prototype._setOrientation=function(t){var e=dst[t];this._axis=e[0],this._dimension=e[1]};nu.prototype._hasIntersection=function(t,e){return Math.max(t.min,t.max)>=Math.min(e.min,e.max)&&Math.min(t.min,t.max)<=Math.max(e.min,e.max)};nu.prototype._findRange=function(t){var e=t[this._axis],n=t[this._dimension];return{min:e+$0e,max:e+n-$0e}};var N0e={__init__:["distributeElements"],distributeElements:["type",nu]};function $2(t){es.call(this,t)}$2.$inject=["eventBus"];ke($2,es);$2.prototype.init=function(){this.addRule("elements.distribute",function(t){var e=t.elements;return e=Ze(e,function(n){var i=He(n,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(n.labelTarget||i)}),e=Vp(e),e.length<3?!1:e})};var fst={horizontal:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linejoin%3Around%22%20d%3D%22M450%20400V150h900v250%22%2F%3E%3Crect%20x%3D%22150%22%20y%3D%22450%22%20width%3D%22600%22%20height%3D%221200%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%221050%22%20y%3D%22450%22%20width%3D%22600%22%20height%3D%22800%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",vertical:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linejoin%3Around%22%20d%3D%22M400%201350H150V450h250%22%2F%3E%3Crect%20x%3D%22450%22%20y%3D%22150%22%20width%3D%221200%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%22450%22%20y%3D%221050%22%20width%3D%22800%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E"},rj=fst;var hst=900;function Yg(t,e,n,i){this._distributeElements=e,this._translate=n,this._popupMenu=t,this._rules=i,t.registerProvider("align-elements",hst,this)}Yg.$inject=["popupMenu","distributeElements","translate","rules"];Yg.prototype.getPopupMenuEntries=function(t){var e={};return this._isAllowed(t)&&le(e,this._getEntries(t)),e};Yg.prototype._isAllowed=function(t){return this._rules.allowed("elements.distribute",{elements:t})};Yg.prototype._getEntries=function(t){var e=this._distributeElements,n=this._translate,i=this._popupMenu,a={"distribute-elements-horizontal":{group:"distribute",title:n("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageUrl:rj.horizontal,action:function(c,d){e.trigger(t,"horizontal"),i.close()}},"distribute-elements-vertical":{group:"distribute",title:n("Distribute elements vertically"),imageUrl:rj.vertical,action:function(c,d){e.trigger(t,"vertical"),i.close()}}};return a};var F0e={__depends__:[k2,N0e],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",$2],distributeElementsMenuProvider:["type",Yg]};var B0e="is not a registered action",pst="is already registered";function Ks(t,e){this._actions={};var n=this;t.on("diagram.init",function(){n._registerDefaultActions(e),t.fire("editorActions.init",{editorActions:n})})}Ks.$inject=["eventBus","injector"];Ks.prototype._registerDefaultActions=function(t){var e=t.get("commandStack",!1),n=t.get("modeling",!1),i=t.get("selection",!1),a=t.get("zoomScroll",!1),c=t.get("copyPaste",!1),d=t.get("canvas",!1),h=t.get("rules",!1),m=t.get("keyboardMove",!1),g=t.get("keyboardMoveSelection",!1);e&&(this.register("undo",function(){e.undo()}),this.register("redo",function(){e.redo()})),c&&i&&this.register("copy",function(){var b=i.get();if(b.length)return c.copy(b)}),c&&this.register("paste",function(){c.paste()}),a&&this.register("stepZoom",function(b){a.stepZoom(b.value)}),d&&this.register("zoom",function(b){d.zoom(b.value)}),n&&i&&h&&this.register("removeSelection",function(){var b=i.get();if(b.length){var E=h.allowed("elements.delete",{elements:b}),_;E!==!1&&(Ue(E)?_=E:_=b,_.length&&n.removeElements(_.slice()))}}),m&&this.register("moveCanvas",function(b){m.moveCanvas(b)}),g&&this.register("moveSelection",function(b){g.moveSelection(b.direction,b.accelerated)})};Ks.prototype.trigger=function(t,e){if(!this._actions[t])throw ij(t,B0e);return this._actions[t](e)};Ks.prototype.register=function(t,e){var n=this;if(typeof t=="string")return this._registerAction(t,e);J(t,function(i,a){n._registerAction(a,i)})};Ks.prototype._registerAction=function(t,e){if(this.isRegistered(t))throw ij(t,pst);this._actions[t]=e};Ks.prototype.unregister=function(t){if(!this.isRegistered(t))throw ij(t,B0e);this._actions[t]=void 0};Ks.prototype.getActions=function(){return Object.keys(this._actions)};Ks.prototype.isRegistered=function(t){return!!this._actions[t]};function ij(t,e){return new Error(t+" "+e)}var j0e={__init__:["editorActions"],editorActions:["type",Ks]};function N2(t){t.invoke(Ks,this)}ke(N2,Ks);N2.$inject=["injector"];N2.prototype._registerDefaultActions=function(t){Ks.prototype._registerDefaultActions.call(this,t);var e=t.get("canvas",!1),n=t.get("elementRegistry",!1),i=t.get("selection",!1),a=t.get("spaceTool",!1),c=t.get("lassoTool",!1),d=t.get("handTool",!1),h=t.get("globalConnect",!1),m=t.get("distributeElements",!1),g=t.get("alignElements",!1),b=t.get("directEditing",!1),E=t.get("searchPad",!1),_=t.get("modeling",!1),S=t.get("contextPad",!1);e&&n&&i&&this._registerAction("selectElements",function(){var D=e.getRootElement(),k=n.filter(function(I){return I!==D});return i.select(k),k}),a&&this._registerAction("spaceTool",function(){a.toggle()}),c&&this._registerAction("lassoTool",function(){c.toggle()}),d&&this._registerAction("handTool",function(){d.toggle()}),h&&this._registerAction("globalConnectTool",function(){h.toggle()}),i&&m&&this._registerAction("distributeElements",function(D){var k=i.get(),I=D.type;k.length&&m.trigger(k,I)}),i&&g&&this._registerAction("alignElements",function(D){var k=i.get(),I=[],R=D.type;k.length&&(I=Ze(k,function($){return!M($,"bpmn:Lane")}),g.trigger(I,R))}),i&&_&&this._registerAction("setColor",function(D){var k=i.get();k.length&&_.setColor(k,D)}),i&&b&&this._registerAction("directEditing",function(){var D=i.get();D.length&&b.activate(D[0])}),E&&this._registerAction("find",function(){E.toggle()}),e&&_&&this._registerAction("moveToOrigin",function(){var D=e.getRootElement(),k,I;M(D,"bpmn:Collaboration")?I=n.filter(function(R){return M(R.parent,"bpmn:Collaboration")}):I=n.filter(function(R){return R!==D&&!M(R.parent,"bpmn:SubProcess")}),k=En(I),_.moveElements(I,{x:-k.x,y:-k.y},D)}),i&&S&&this._registerAction("replaceElement",function(D){S.triggerEntry("replace","click",D)})};var V0e={__depends__:[j0e],editorActions:["type",N2]};function _D(t){t.on(["create.init","shape.move.init"],function(e){var n=e.context,i=e.shape;He(i,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(n.gridSnappingContext||(n.gridSnappingContext={}),n.gridSnappingContext.snapLocation="top-left")})}_D.$inject=["eventBus"];var Nw=10;function CD(t,e,n){return n||(n="round"),Math[n](t/e)*e}var mst=1200,gst=800;function vd(t,e,n){var i=!n||n.active!==!1;this._eventBus=e;var a=this;e.on("diagram.init",gst,function(){a.setActive(i)}),e.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],mst,function(c){var d=c.originalEvent;if(!(!a.active||d&&go(d))){var h=c.context,m=h.gridSnappingContext;m||(m=h.gridSnappingContext={}),["x","y"].forEach(function(g){var b={},E=yst(c,g,t);E&&(b.offset=E);var _=vst(c,g);_&&le(b,_),eu(c,g)||a.snapEvent(c,g,b)})}})}vd.prototype.snapEvent=function(t,e,n){var i=this.snapValue(t[e],n);hr(t,e,i)};vd.prototype.getGridSpacing=function(){return Nw};vd.prototype.snapValue=function(t,e){var n=0;e&&e.offset&&(n=e.offset),t+=n,t=CD(t,Nw);var i,a;return e&&e.min&&(i=e.min,ot(i)&&(i=CD(i+n,Nw,"ceil"),t=Math.max(t,i))),e&&e.max&&(a=e.max,ot(a)&&(a=CD(a+n,Nw,"floor"),t=Math.min(t,a))),t-=n,t};vd.prototype.isActive=function(){return this.active};vd.prototype.setActive=function(t){this.active=t,this._eventBus.fire("gridSnapping.toggle",{active:t})};vd.prototype.toggleActive=function(){this.setActive(!this.active)};vd.$inject=["elementRegistry","eventBus","config.gridSnapping"];function vst(t,e){var n=t.context,i=n.createConstraints,a=n.resizeConstraints||{},c=n.gridSnappingContext,d=c.snapConstraints;if(d&&d[e])return d[e];d||(d=c.snapConstraints={}),d[e]||(d[e]={});var h=n.direction;i&&(SD(e)?(d.x.min=i.left,d.x.max=i.right):(d.y.min=i.top,d.y.max=i.bottom));var m=a.min,g=a.max;return m&&(SD(e)?H0e(h)?d.x.max=m.left:d.x.min=m.right:z0e(h)?d.y.max=m.top:d.y.min=m.bottom),g&&(SD(e)?H0e(h)?d.x.min=g.left:d.x.max=g.right:z0e(h)?d.y.min=g.top:d.y.max=g.bottom),d[e]}function yst(t,e,n){var i=t.context,a=t.shape,c=i.gridSnappingContext,d=c.snapLocation,h=c.snapOffset;return h&&ot(h[e])||(h||(h=c.snapOffset={}),ot(h[e])||(h[e]=0),!a)||(n.get(a.id)||(SD(e)?h[e]+=a[e]+a.width/2:h[e]+=a[e]+a.height/2),!d)||(e==="x"?/left/.test(d)?h[e]-=a.width/2:/right/.test(d)&&(h[e]+=a.width/2):/top/.test(d)?h[e]-=a.height/2:/bottom/.test(d)&&(h[e]+=a.height/2)),h[e]}function SD(t){return t==="x"}function z0e(t){return t.indexOf("n")!==-1}function H0e(t){return t.indexOf("w")!==-1}function Uf(t,e){De.call(this,t),this._gridSnapping=e;var n=this;this.preExecute("shape.resize",function(i){var a=i.context,c=a.hints||{},d=c.autoResize;if(d){var h=a.shape,m=a.newBounds;kr(d)?a.newBounds=n.snapComplex(m,d):a.newBounds=n.snapSimple(h,m)}})}Uf.$inject=["eventBus","gridSnapping","modeling"];ke(Uf,De);Uf.prototype.snapSimple=function(t,e){var n=this._gridSnapping;return e.width=n.snapValue(e.width,{min:e.width}),e.height=n.snapValue(e.height,{min:e.height}),e.x=t.x+t.width/2-e.width/2,e.y=t.y+t.height/2-e.height/2,e};Uf.prototype.snapComplex=function(t,e){return/w|e/.test(e)&&(t=this.snapHorizontally(t,e)),/n|s/.test(e)&&(t=this.snapVertically(t,e)),t};Uf.prototype.snapHorizontally=function(t,e){var n=this._gridSnapping,i=/w/.test(e),a=/e/.test(e),c={};return c.width=n.snapValue(t.width,{min:t.width}),a&&(i?(c.x=n.snapValue(t.x,{max:t.x}),c.width+=n.snapValue(t.x-c.x,{min:t.x-c.x})):t.x=t.x+t.width-c.width),le(t,c),t};Uf.prototype.snapVertically=function(t,e){var n=this._gridSnapping,i=/n/.test(e),a=/s/.test(e),c={};return c.height=n.snapValue(t.height,{min:t.height}),i&&(a?(c.y=n.snapValue(t.y,{max:t.y}),c.height+=n.snapValue(t.y-c.y,{min:t.y-c.y})):t.y=t.y+t.height-c.height),le(t,c),t};var bst=2e3;function OD(t,e){t.on(["spaceTool.move","spaceTool.end"],bst,function(n){var i=n.context;if(i.initialized){var a=i.axis,c;a==="x"?(c=e.snapValue(n.dx),n.x=n.x+c-n.dx,n.dx=c):(c=e.snapValue(n.dy),n.y=n.y+c-n.dy,n.dy=c)}})}OD.$inject=["eventBus","gridSnapping"];var U0e={__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",Uf],gridSnappingSpaceToolBehavior:["type",OD]};var q0e={__depends__:[U0e],__init__:["gridSnapping"],gridSnapping:["type",vd]};var xst=2e3;function DD(t,e){t.on("autoPlace",xst,function(n){var i=n.source,a=Je(i),c=n.shape,d=V7(i,c);return["x","y"].forEach(function(h){var m={};d[h]!==a[h]&&(d[h]>a[h]?m.min=d[h]:m.max=d[h],M(c,"bpmn:TextAnnotation")&&(Est(h)?m.offset=-c.width/2:m.offset=-c.height/2),d[h]=e.snapValue(d[h],m))}),d})}DD.$inject=["eventBus","gridSnapping"];function Est(t){return t==="x"}var wst=1750;function TD(t,e,n){e.on(["create.start","shape.move.start"],wst,function(i){var a=i.context,c=a.shape,d=t.getRootElement();if(!(!M(c,"bpmn:Participant")||!M(d,"bpmn:Process")||!d.children.length)){var h=a.createConstraints;h&&(c.width=n.snapValue(c.width,{min:c.width}),c.height=n.snapValue(c.height,{min:c.height}))}})}TD.$inject=["canvas","eventBus","gridSnapping"];var _st=3e3;function F2(t,e,n){De.call(this,t),this._gridSnapping=e;var i=this;this.postExecuted(["connection.create","connection.layout"],_st,function(a){var c=a.context,d=c.connection,h=c.hints||{},m=d.waypoints;h.connectionStart||h.connectionEnd||h.createElementsBehavior===!1||Cst(m)&&n.updateWaypoints(d,i.snapMiddleSegments(m))})}F2.$inject=["eventBus","gridSnapping","modeling"];ke(F2,De);F2.prototype.snapMiddleSegments=function(t){var e=this._gridSnapping,n;t=t.slice();for(var i=1;i<t.length-2;i++)n=Dst(e,t[i],t[i+1]),t[i]=n[0],t[i+1]=n[1];return t};function Cst(t){return t.length>3}function Sst(t){return t==="h"}function Ost(t){return t==="v"}function Dst(t,e,n){var i=xa(e,n),a={};return Sst(i)&&(a.y=t.snapValue(e.y)),Ost(i)&&(a.x=t.snapValue(e.x)),("x"in a||"y"in a)&&(e=le({},e,a),n=le({},n,a)),[e,n]}var W0e={__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",DD],gridSnappingParticipantBehavior:["type",TD],gridSnappingLayoutConnectionBehavior:["type",F2]};var G0e={__depends__:[q0e,W0e],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",_D]};var Tst=30,kst=30;function Xg(t,e){this._interactionEvents=e;var n=this;t.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(i){var a=i.element,c=i.gfx;if(M(a,"bpmn:Lane"))return n._createParticipantHit(a,c);if(M(a,"bpmn:Participant"))return bt(a)?n._createParticipantHit(a,c):n._createDefaultHit(a,c);if(M(a,"bpmn:SubProcess"))return bt(a)?n._createSubProcessHit(a,c):n._createDefaultHit(a,c)})}Xg.$inject=["eventBus","interactionEvents"];Xg.prototype._createDefaultHit=function(t,e){return this._interactionEvents.removeHits(e),this._interactionEvents.createDefaultHit(t,e),!0};Xg.prototype._createParticipantHit=function(t,e){return this._interactionEvents.removeHits(e),this._interactionEvents.createBoxHit(e,"no-move",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(e,"click-stroke",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(e,"all",{width:Tst,height:t.height}),!0};Xg.prototype._createSubProcessHit=function(t,e){return this._interactionEvents.removeHits(e),this._interactionEvents.createBoxHit(e,"no-move",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(e,"click-stroke",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(e,"all",{width:t.width,height:kst}),!0};var Q0e={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",Xg]};function B2(t){t.invoke(Hf,this)}ke(B2,Hf);B2.$inject=["injector"];B2.prototype.registerBindings=function(t,e){Hf.prototype.registerBindings.call(this,t,e);function n(i,a){e.isRegistered(i)&&t.addListener(a)}n("selectElements",function(i){var a=i.keyEvent;if(t.isKey(["a","A"],a)&&t.isCmd(a))return e.trigger("selectElements"),!0}),n("find",function(i){var a=i.keyEvent;if(t.isKey(["f","F"],a)&&t.isCmd(a))return e.trigger("find"),!0}),n("spaceTool",function(i){var a=i.keyEvent;if(!t.hasModifier(a)&&t.isKey(["s","S"],a))return e.trigger("spaceTool"),!0}),n("lassoTool",function(i){var a=i.keyEvent;if(!t.hasModifier(a)&&t.isKey(["l","L"],a))return e.trigger("lassoTool"),!0}),n("handTool",function(i){var a=i.keyEvent;if(!t.hasModifier(a)&&t.isKey(["h","H"],a))return e.trigger("handTool"),!0}),n("globalConnectTool",function(i){var a=i.keyEvent;if(!t.hasModifier(a)&&t.isKey(["c","C"],a))return e.trigger("globalConnectTool"),!0}),n("directEditing",function(i){var a=i.keyEvent;if(!t.hasModifier(a)&&t.isKey(["e","E"],a))return e.trigger("directEditing"),!0}),n("replaceElement",function(i){var a=i.keyEvent;if(!t.hasModifier(a)&&t.isKey(["r","R"],a))return e.trigger("replaceElement",a),!0})};var Y0e={__depends__:[C2],__init__:["keyboardBindings"],keyboardBindings:["type",B2]};var Pst={moveSpeed:1,moveSpeedAccelerated:10},Ist=1500,X0e="left",K0e="up",Z0e="right",J0e="down",Mst={ArrowLeft:X0e,Left:X0e,ArrowUp:K0e,Up:K0e,ArrowRight:Z0e,Right:Z0e,ArrowDown:J0e,Down:J0e},Ast={left:function(t){return{x:-t,y:0}},up:function(t){return{x:0,y:-t}},right:function(t){return{x:t,y:0}},down:function(t){return{x:0,y:t}}};function kD(t,e,n,i,a){var c=this;this._config=le({},Pst,t||{}),e.addListener(Ist,function(d){var h=d.keyEvent,m=Mst[h.key];if(m&&!e.isCmd(h)){var g=e.isShift(h);return c.moveSelection(m,g),!0}}),this.moveSelection=function(d,h){var m=a.get();if(m.length){var g=this._config[h?"moveSpeedAccelerated":"moveSpeed"],b=Ast[d](g),E=i.allowed("elements.move",{shapes:m});E&&n.moveElements(m,b)}}}kD.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];var eme={__depends__:[C2,Gi],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",kD]};var tme=10;function Kg(t,e,n,i){this._dragging=i,this._rules=e;var a=this;function c(m,g){var b=m.shape,E=m.direction,_=m.resizeConstraints,S;m.delta=g,S=k0e(b,E,g),m.newBounds=I0e(S,_),m.canExecute=a.canResize(m)}function d(m){var g=m.resizeConstraints,b=m.minBounds;g===void 0&&(b===void 0&&(b=a.computeMinResizeBox(m)),m.resizeConstraints={min:Xe(b)})}function h(m){var g=m.shape,b=m.canExecute,E=m.newBounds;if(b){if(E=L8(E),!Rst(g,E))return;n.resizeShape(g,E)}}t.on("resize.start",function(m){d(m.context)}),t.on("resize.move",function(m){var g={x:m.dx,y:m.dy};c(m.context,g)}),t.on("resize.end",function(m){h(m.context)})}Kg.prototype.canResize=function(t){var e=this._rules,n=qi(t,["newBounds","shape","delta","direction"]);return e.allowed("shape.resize",n)};Kg.prototype.activate=function(t,e,n){var i=this._dragging,a,c;if(typeof n=="string"&&(n={direction:n}),a=le({shape:e},n),c=a.direction,!c)throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");i.init(t,oj(e,c),"resize",{autoActivate:!0,cursor:Lst(c),data:{shape:e,context:a}})};Kg.prototype.computeMinResizeBox=function(t){var e=t.shape,n=t.direction,i,a;return i=t.minDimensions||{width:tme,height:tme},a=ED(e,t.childrenBoxPadding),M0e(n,e,i,a)};Kg.$inject=["eventBus","rules","modeling","dragging"];function Rst(t,e){return t.x!==e.x||t.y!==e.y||t.width!==e.width||t.height!==e.height}function oj(t,e){var n=Je(t),i=Xe(t),a={x:n.x,y:n.y};return e.indexOf("n")!==-1?a.y=i.top:e.indexOf("s")!==-1&&(a.y=i.bottom),e.indexOf("e")!==-1?a.x=i.right:e.indexOf("w")!==-1&&(a.x=i.left),a}function Lst(t){var e="resize-";return t==="n"||t==="s"?e+"ns":t==="e"||t==="w"?e+"ew":t==="nw"||t==="se"?e+"nwse":e+"nesw"}var nme="djs-resizing",rme="resize-not-ok",$st=500;function PD(t,e,n){function i(c){var d=c.shape,h=c.newBounds,m=c.frame;m||(m=c.frame=n.addFrame(d,e.getActiveLayer()),e.addMarker(d,nme)),h.width>5&&Ne(m,{x:h.x,width:h.width}),h.height>5&&Ne(m,{y:h.y,height:h.height}),c.canExecute?St(m).remove(rme):St(m).add(rme)}function a(c){var d=c.shape,h=c.frame;h&&xn(c.frame),e.removeMarker(d,nme)}t.on("resize.move",$st,function(c){i(c.context)}),t.on("resize.cleanup",function(c){a(c.context)})}PD.$inject=["eventBus","canvas","previewSupport"];var ID=-6,MD=8,AD=20,Fw="djs-resizer",Nst=["n","w","s","e","nw","ne","se","sw"];function yd(t,e,n,i){this._resize=i,this._canvas=e;var a=this;t.on("selection.changed",function(c){var d=c.newSelection;a.removeResizers(),d.length===1&&J(d,ai(a.addResizer,a))}),t.on("shape.changed",function(c){var d=c.element;n.isSelected(d)&&(a.removeResizers(),a.addResizer(d))})}yd.prototype.makeDraggable=function(t,e,n){var i=this._resize;function a(c){ll(c)&&i.activate(c,t,n)}nt.bind(e,"mousedown",a),nt.bind(e,"touchstart",a)};yd.prototype._createResizer=function(t,e,n,i){var a=this._getResizersParent(),c=Fst(i),d=We("g");St(d).add(Fw),St(d).add(Fw+"-"+t.id),St(d).add(Fw+"-"+i),et(a,d);var h=We("rect");Ne(h,{x:-MD/2+c.x,y:-MD/2+c.y,width:MD,height:MD}),St(h).add(Fw+"-visual"),et(d,h);var m=We("rect");return Ne(m,{x:-AD/2+c.x,y:-AD/2+c.y,width:AD,height:AD}),St(m).add(Fw+"-hit"),et(d,m),aw(d,e,n),d};yd.prototype.createResizer=function(t,e){var n=oj(t,e),i=this._createResizer(t,n.x,n.y,e);this.makeDraggable(t,i,e)};yd.prototype.addResizer=function(t){var e=this;Tn(t)||!this._resize.canResize({shape:t})||J(Nst,function(n){e.createResizer(t,n)})};yd.prototype.removeResizers=function(){var t=this._getResizersParent();Dg(t)};yd.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")};yd.$inject=["eventBus","canvas","selection","resize"];function Fst(t){var e={x:0,y:0};return t.indexOf("e")!==-1?e.x=-ID:t.indexOf("w")!==-1&&(e.x=ID),t.indexOf("s")!==-1?e.y=-ID:t.indexOf("n")!==-1&&(e.y=ID),e}var RD={__depends__:[Yi,Ro,md],__init__:["resize","resizePreview","resizeHandles"],resize:["type",Kg],resizePreview:["type",PD],resizeHandles:["type",yd]};var Bst=2e3;function Zg(t,e,n,i,a,c,d){this._bpmnFactory=e,this._canvas=n,this._modeling=a,this._textRenderer=d,i.registerProvider(this),t.on("element.dblclick",function(m){h(m.element,!0)}),t.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],function(){i.isActive()&&i.complete()}),t.on(["shape.remove","connection.remove"],Bst,function(m){i.isActive(m.element)&&i.cancel()}),t.on(["commandStack.changed"],function(m){i.isActive()&&i.cancel()}),t.on("directEditing.activate",function(m){c.removeResizers()}),t.on("create.end",500,function(m){var g=m.context,b=g.shape,E=m.context.canExecute,_=m.isTouch;_||E&&(g.hints&&g.hints.createElementsBehavior===!1||h(b))}),t.on("autoPlace.end",500,function(m){h(m.shape)});function h(m,g){(g||He(m,["bpmn:Task","bpmn:TextAnnotation","bpmn:Participant"])||sj(m))&&i.activate(m)}}Zg.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"];Zg.prototype.activate=function(t){var e=xi(t);if(e!==void 0){var n={text:e},i=this.getEditingBBox(t);le(n,i);var a={};return(He(t,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||sj(t))&&le(a,{centerVertically:!0}),Jl(t)&&le(a,{autoResize:!0}),M(t,"bpmn:TextAnnotation")&&le(a,{resizable:!0,autoResize:!0}),le(n,{options:a}),n}};Zg.prototype.getEditingBBox=function(t){var e=this._canvas,n=t.label||t,i=e.getAbsoluteBBox(n),a={x:i.x+i.width/2,y:i.y+i.height/2},c={x:i.x,y:i.y},d=e.zoom(),h=this._textRenderer.getDefaultStyle(),m=this._textRenderer.getExternalStyle(),g=m.fontSize*d,b=m.lineHeight,E=h.fontSize*d,_=h.lineHeight,S={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};(M(t,"bpmn:Lane")||zst(t))&&(le(c,{width:i.height,height:30*d,x:i.x-i.height/2+15*d,y:a.y-30*d/2}),le(S,{fontSize:E+"px",lineHeight:_,paddingTop:7*d+"px",paddingBottom:7*d+"px",paddingLeft:5*d+"px",paddingRight:5*d+"px",transform:"rotate(-90deg)"})),(He(t,["bpmn:Task","bpmn:CallActivity"])||Vst(t)||sj(t))&&(le(c,{width:i.width,height:i.height}),le(S,{fontSize:E+"px",lineHeight:_,paddingTop:7*d+"px",paddingBottom:7*d+"px",paddingLeft:5*d+"px",paddingRight:5*d+"px"})),jst(t)&&(le(c,{width:i.width,x:i.x}),le(S,{fontSize:E+"px",lineHeight:_,paddingTop:7*d+"px",paddingBottom:7*d+"px",paddingLeft:5*d+"px",paddingRight:5*d+"px"}));var D=90*d,k=7*d,I=4*d;if(n.labelTarget&&(le(c,{width:D,height:i.height+k+I,x:a.x-D/2,y:i.y-k}),le(S,{fontSize:g+"px",lineHeight:b,paddingTop:k+"px",paddingBottom:I+"px"})),Jl(n)&&!Kp(n)&&!Mn(n)){var R=fw(t),$=e.getAbsoluteBBox({x:R.x,y:R.y,width:0,height:0}),F=g+k+I;le(c,{width:D,height:F,x:$.x-D/2,y:$.y-F/2}),le(S,{fontSize:g+"px",lineHeight:b,paddingTop:k+"px",paddingBottom:I+"px"})}return M(t,"bpmn:TextAnnotation")&&(le(c,{width:i.width,height:i.height,minWidth:30*d,minHeight:10*d}),le(S,{textAlign:"left",paddingTop:5*d+"px",paddingBottom:7*d+"px",paddingLeft:7*d+"px",paddingRight:5*d+"px",fontSize:E+"px",lineHeight:_})),{bounds:c,style:S}};Zg.prototype.update=function(t,e,n,i){var a,c;M(t,"bpmn:TextAnnotation")&&(c=this._canvas.getAbsoluteBBox(t),a={x:t.x,y:t.y,width:t.width/c.width*i.width,height:t.height/c.height*i.height}),Hst(e)&&(e=null),this._modeling.updateLabel(t,e,a)};function sj(t){return M(t,"bpmn:SubProcess")&&!bt(t)}function jst(t){return M(t,"bpmn:SubProcess")&&bt(t)}function Vst(t){return M(t,"bpmn:Participant")&&!bt(t)}function zst(t){return M(t,"bpmn:Participant")&&bt(t)}function Hst(t){return!t||!t.trim()}var ime="djs-element-hidden",ome="djs-label-hidden";function LD(t,e,n){var i=this,a=e.getDefaultLayer(),c,d,h;t.on("directEditing.activate",function(m){var g=m.active;if(c=g.element.label||g.element,M(c,"bpmn:TextAnnotation")){d=e.getAbsoluteBBox(c),h=We("g");var b=n.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:c.width,containerHeight:c.height,position:{mx:0,my:0}}),E=i.path=We("path");Ne(E,{d:b,strokeWidth:2,stroke:Ust(c)}),et(h,E),et(a,h),Qr(h,c.x,c.y)}M(c,"bpmn:TextAnnotation")||c.labelTarget?e.addMarker(c,ime):(M(c,"bpmn:Task")||M(c,"bpmn:CallActivity")||M(c,"bpmn:SubProcess")||M(c,"bpmn:Participant"))&&e.addMarker(c,ome)}),t.on("directEditing.resize",function(m){if(M(c,"bpmn:TextAnnotation")){var g=m.height,b=m.dy,E=Math.max(c.height/d.height*(g+b),0),_=n.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:c.width,containerHeight:E,position:{mx:0,my:0}});Ne(i.path,{d:_})}}),t.on(["directEditing.complete","directEditing.cancel"],function(m){var g=m.active;g&&(e.removeMarker(g.element.label||g.element,ime),e.removeMarker(c,ome)),c=void 0,d=void 0,h&&(xn(h),h=void 0)})}LD.$inject=["eventBus","canvas","pathMap"];function Ust(t,e){var n=wt(t);return n.get("stroke")||e||"black"}var sme={__depends__:[_2,RD,aD],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",Zg],labelEditingPreview:["type",LD]};var aj=["top","bottom","left","right"],$D=10;function Bw(t,e){De.call(this,t),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(a){var c=a.context,d=c.connection,h=d.source,m=d.target,g=c.hints||{};g.createElementsBehavior!==!1&&(n(h),n(m))}),this.postExecuted(["label.create"],function(a){var c=a.context,d=c.shape,h=c.hints||{};h.createElementsBehavior!==!1&&n(d.labelTarget)}),this.postExecuted(["elements.create"],function(a){var c=a.context,d=c.elements,h=c.hints||{};h.createElementsBehavior!==!1&&d.forEach(function(m){n(m)})});function n(a){if(Kp(a)){var c=Gst(a);c&&i(a,c)}}function i(a,c){var d=Je(a),h=a.label,m=Je(h);if(h.parent){var g=Xe(a),b;switch(c){case"top":b={x:d.x,y:g.top-$D-h.height/2};break;case"left":b={x:g.left-$D-h.width/2,y:d.y};break;case"bottom":b={x:d.x,y:g.bottom+$D+h.height/2};break;case"right":b={x:g.right+$D+h.width/2,y:d.y};break}var E=Ao(b,m);e.moveShape(h,E)}}}ke(Bw,De);Bw.$inject=["eventBus","modeling"];function qst(t){var e=t.host,n=Je(t),i=Cr(n,e),a;i.indexOf("-")>=0?a=i.split("-"):a=[i];var c=aj.filter(function(d){return a.indexOf(d)===-1});return c}function Wst(t){var e=Je(t),n=[].concat(t.incoming.map(function(i){return i.waypoints[i.waypoints.length-2]}),t.outgoing.map(function(i){return i.waypoints[1]})).map(function(i){return ame(e,i)});return n}function Gst(t){var e=Je(t.label),n=Je(t),i=ame(n,e);if(Qst(i)){var a=Wst(t);if(t.host){var c=qst(t);a=a.concat(c)}var d=aj.filter(function(h){return a.indexOf(h)===-1});if(d.indexOf(i)===-1)return d[0]}}function ame(t,e){return Cr(e,t,5)}function Qst(t){return aj.indexOf(t)!==-1}function jw(t){De.call(this,t),this.preExecute("shape.append",function(e){var n=e.source,i=e.shape;e.position||(M(i,"bpmn:TextAnnotation")?e.position={x:n.x+n.width/2+75,y:n.y-50-i.height/2}:e.position={x:n.x+n.width+80+i.width/2,y:n.y+n.height/2})},!0)}ke(jw,De);jw.$inject=["eventBus"];function Vw(t,e){t.invoke(De,this),this.postExecute("shape.move",function(n){var i=n.newParent,a=n.shape,c=Ze(a.incoming.concat(a.outgoing),function(d){return M(d,"bpmn:Association")});J(c,function(d){e.moveConnection(d,{x:0,y:0},i)})},!0)}ke(Vw,De);Vw.$inject=["injector","modeling"];var lme=500;function j2(t,e){e.invoke(De,this),this._bpmnReplace=t;var n=this;this.postExecuted("elements.create",lme,function(i){var a=i.elements;a=a.filter(function(c){var d=c.host;return cme(c,d)}),a.length===1&&a.map(function(c){return a.indexOf(c)}).forEach(function(c){var d=a[c];i.elements[c]=n._replaceShape(a[c],d)})},!0),this.preExecute("elements.move",lme,function(i){var a=i.shapes,c=i.newHost;if(a.length===1){var d=a[0];cme(d,c)&&(i.shapes=[n._replaceShape(d,c)])}},!0)}j2.$inject=["bpmnReplace","injector"];ke(j2,De);j2.prototype._replaceShape=function(t,e){var n=Yst(t),i={type:"bpmn:BoundaryEvent",host:e};return n&&(i.eventDefinitionType=n.$type),this._bpmnReplace.replaceElement(t,i,{layoutConnection:!1})};function Yst(t){var e=K(t),n=e.eventDefinitions;return n&&n[0]}function cme(t,e){return!Mn(t)&&He(t,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!e}function zw(t,e){De.call(this,t);function n(i){return Ze(i.attachers,function(a){return M(a,"bpmn:BoundaryEvent")})}this.postExecute("connection.create",function(i){var a=i.context.source,c=i.context.target,d=n(c);M(a,"bpmn:EventBasedGateway")&&M(c,"bpmn:ReceiveTask")&&d.length>0&&e.removeElements(d)}),this.postExecute("connection.reconnect",function(i){var a=i.context.oldSource,c=i.context.newSource;M(a,"bpmn:Gateway")&&M(c,"bpmn:EventBasedGateway")&&J(c.outgoing,function(d){var h=d.target,m=n(h);M(h,"bpmn:ReceiveTask")&&m.length>0&&e.removeElements(m)})})}zw.$inject=["eventBus","modeling"];ke(zw,De);function Hw(t){t.invoke(De,this),this.preExecute("shape.create",1500,function(e){var n=e.context,i=n.parent,a=n.shape;M(i,"bpmn:Lane")&&!M(a,"bpmn:Lane")&&(n.parent=Vg(i,"bpmn:Participant"))})}Hw.$inject=["injector"];ke(Hw,De);function Uw(t,e){De.call(this,t),this.preExecute("shape.create",function(n){var i=n.context,a=i.shape;if(M(a,"bpmn:DataObjectReference")&&a.type!=="label"){var c=e.create("bpmn:DataObject");a.businessObject.dataObjectRef=c}})}Uw.$inject=["eventBus","bpmnFactory"];ke(Uw,De);var lj=20,cj=20,ume=30,ND=2e3;function qw(t,e,n){De.call(this,e),e.on(["create.start","shape.move.start"],ND,function(a){var c=a.context,d=c.shape,h=t.getRootElement();if(!(!M(d,"bpmn:Participant")||!M(h,"bpmn:Process")||!h.children.length)){var m=h.children.filter(function(E){return!M(E,"bpmn:Group")&&!Mn(E)&&!Zst(E)});if(m.length){var g=En(m),b=Xst(d,g);le(d,b),c.createConstraints=Kst(d,g)}}}),e.on("create.start",ND,function(a){var c=a.context,d=c.shape,h=t.getRootElement(),m=t.getGraphics(h);function g(b){b.element=h,b.gfx=m}M(d,"bpmn:Participant")&&M(h,"bpmn:Process")&&(e.on("element.hover",ND,g),e.once("create.cleanup",function(){e.off("element.hover",g)}))});function i(){var a=t.getRootElement();return M(a,"bpmn:Collaboration")?a:n.makeCollaboration()}this.preExecute("elements.create",ND,function(a){var c=a.elements,d=a.parent,h=Jst(c),m;h&&M(d,"bpmn:Process")&&(a.parent=i(),m=a.hints=a.hints||{},m.participant=h,m.process=d,m.processRef=K(h).get("processRef"))},!0),this.preExecute("shape.create",function(a){var c=a.parent,d=a.shape;M(d,"bpmn:Participant")&&M(c,"bpmn:Process")&&(a.parent=i(),a.process=c,a.processRef=K(d).get("processRef"))},!0),this.execute("shape.create",function(a){var c=a.hints||{},d=a.process||c.process,h=a.shape,m=c.participant;d&&(!m||h===m)&&K(h).set("processRef",K(d))},!0),this.revert("shape.create",function(a){var c=a.hints||{},d=a.process||c.process,h=a.processRef||c.processRef,m=a.shape,g=c.participant;d&&(!g||m===g)&&K(m).set("processRef",h)},!0),this.postExecute("shape.create",function(a){var c=a.hints||{},d=a.process||a.hints.process,h=a.shape,m=c.participant;if(d){var g=d.children.slice();m?h===m&&n.moveElements(g,{x:0,y:0},m):n.moveElements(g,{x:0,y:0},h)}},!0)}qw.$inject=["canvas","eventBus","modeling"];ke(qw,De);function Xst(t,e){e={width:e.width+lj*2+ume,height:e.height+cj*2};var n=Math.max(t.width,e.width),i=Math.max(t.height,e.height);return{x:-n/2,y:-i/2,width:n,height:i}}function Kst(t,e){return e=Xe(e),{bottom:e.top+t.height/2-cj,left:e.right-t.width/2+lj,top:e.bottom-t.height/2+cj,right:e.left+t.width/2-lj-ume}}function Zst(t){return!!t.waypoints}function Jst(t){return st(t,function(e){return M(e,"bpmn:Participant")})}var dme="__targetRef_placeholder";function Ww(t,e){De.call(this,t),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],fme(c)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],fme(c));function n(d,h,m){var g=d.get("dataInputAssociations");return st(g,function(b){return b!==m&&b.targetRef===h})}function i(d,h){var m=d.get("properties"),g=st(m,function(b){return b.name===dme});return!g&&h&&(g=e.create("bpmn:Property",{name:dme}),Dn(m,g)),g}function a(d,h){var m=i(d);m&&(n(d,m,h)||Xn(d.get("properties"),m))}function c(d){var h=d.context,m=h.connection,g=m.businessObject,b=m.target,E=b&&b.businessObject,_=h.newTarget,S=_&&_.businessObject,D=h.oldTarget||h.target,k=D&&D.businessObject,I=m.businessObject,R;k&&k!==E&&a(k,g),S&&S!==E&&a(S,g),E?(R=i(E,!0),I.targetRef=R):I.targetRef=null}}Ww.$inject=["eventBus","bpmnFactory"];ke(Ww,De);function fme(t){return function(e){var n=e.context,i=n.connection;if(M(i,"bpmn:DataInputAssociation"))return t(e)}}function V2(t){this._bpmnUpdater=t}V2.$inject=["bpmnUpdater"];V2.prototype.execute=function(t){var e=t.dataStoreBo,n=t.dataStoreDi,i=t.newSemanticParent,a=t.newDiParent;return t.oldSemanticParent=e.$parent,t.oldDiParent=n.$parent,this._bpmnUpdater.updateSemanticParent(e,i),this._bpmnUpdater.updateDiParent(n,a),[]};V2.prototype.revert=function(t){var e=t.dataStoreBo,n=t.dataStoreDi,i=t.oldSemanticParent,a=t.oldDiParent;return this._bpmnUpdater.updateSemanticParent(e,i),this._bpmnUpdater.updateDiParent(n,a),[]};function Gw(t,e,n,i){De.call(this,i),e.registerHandler("dataStore.updateContainment",V2);function a(){return n.filter(function(h){return M(h,"bpmn:Participant")&&K(h).processRef})[0]}function c(h){return h.children.filter(function(m){return M(m,"bpmn:DataStoreReference")&&!m.labelTarget})}function d(h,m){var g=h.businessObject||h;if(m=m||a(),m){var b=m.businessObject||m;e.execute("dataStore.updateContainment",{dataStoreBo:g,dataStoreDi:wt(h),newSemanticParent:b.processRef||b,newDiParent:wt(m)})}}this.preExecute("shape.create",function(h){var m=h.context,g=m.shape;M(g,"bpmn:DataStoreReference")&&g.type!=="label"&&(m.hints||(m.hints={}),m.hints.autoResize=!1)}),this.preExecute("elements.move",function(h){var m=h.context,g=m.shapes,b=g.filter(function(E){return M(E,"bpmn:DataStoreReference")});b.length&&(m.hints||(m.hints={}),m.hints.autoResize=g.filter(function(E){return!M(E,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(h){var m=h.context,g=m.shape,b=g.parent;M(g,"bpmn:DataStoreReference")&&g.type!=="label"&&M(b,"bpmn:Collaboration")&&d(g)}),this.postExecute("shape.move",function(h){var m=h.context,g=m.shape,b=m.oldParent,E=g.parent;if(!M(b,"bpmn:Collaboration")&&M(g,"bpmn:DataStoreReference")&&g.type!=="label"&&M(E,"bpmn:Collaboration")){var _=M(b,"bpmn:Participant")?b:tat(b,"bpmn:Participant");d(g,_)}}),this.postExecute("shape.delete",function(h){var m=h.context,g=m.shape,b=t.getRootElement();He(g,["bpmn:Participant","bpmn:SubProcess"])&&M(b,"bpmn:Collaboration")&&c(b).filter(function(E){return eat(E,g)}).forEach(function(E){d(E)})}),this.postExecute("canvas.updateRoot",function(h){var m=h.context,g=m.oldRoot,b=m.newRoot,E=c(g);E.forEach(function(_){M(b,"bpmn:Process")&&d(_,b)})})}Gw.$inject=["canvas","commandStack","elementRegistry","eventBus"];ke(Gw,De);function eat(t,e){for(var n=t.businessObject||t,i=e.businessObject||e;n.$parent;){if(n.$parent===i.processRef||i)return!0;n=n.$parent}return!1}function tat(t,e){for(;t.parent;){if(M(t.parent,e))return t.parent;t=t.parent}}var nat=500;function Qw(t,e){De.call(this,t);function n(i,a){var c=nc(a),d=[],h=[];if(Qc(c,function(E){return E.y>i.y?h.push(E):d.push(E),E.children}),!!c.length){var m;h.length&&d.length?m=i.height/2:m=i.height;var g,b;d.length&&(g=e.calculateAdjustments(d,"y",m,i.y-10),e.makeSpace(g.movingShapes,g.resizingShapes,{x:0,y:m},"s")),h.length&&(b=e.calculateAdjustments(h,"y",-m,i.y+i.height+10),e.makeSpace(b.movingShapes,b.resizingShapes,{x:0,y:-m},"n"))}}this.postExecuted("shape.delete",nat,function(i){var a=i.context,c=a.hints,d=a.shape,h=a.oldParent;M(d,"bpmn:Lane")&&(c&&c.nested||n(d,h))})}Qw.$inject=["eventBus","spaceTool"];ke(Qw,De);var hme=500;function z2(t,e){e.invoke(De,this),this._bpmnReplace=t;var n=this;this.postExecuted("elements.create",hme,function(i){var a=i.elements;a.filter(function(c){var d=c.host;return pme(c,d)}).map(function(c){return a.indexOf(c)}).forEach(function(c){i.elements[c]=n._replaceShape(a[c])})},!0),this.preExecute("elements.move",hme,function(i){var a=i.shapes,c=i.newHost;a.forEach(function(d,h){var m=d.host;pme(d,iat(a,m)?m:c)&&(a[h]=n._replaceShape(d))})},!0)}z2.$inject=["bpmnReplace","injector"];ke(z2,De);z2.prototype._replaceShape=function(t){var e=rat(t),n;return e?n={type:"bpmn:IntermediateCatchEvent",eventDefinitionType:e.$type}:n={type:"bpmn:IntermediateThrowEvent"},this._bpmnReplace.replaceElement(t,n,{layoutConnection:!1})};function rat(t){var e=K(t),n=e.eventDefinitions;return n&&n[0]}function pme(t,e){return!Mn(t)&&M(t,"bpmn:BoundaryEvent")&&!e}function iat(t,e){return t.indexOf(e)!==-1}function Yw(t,e,n){De.call(this,t);function i(a,c,d){var h=c.waypoints,m,g,b,E,_,S,D,k=a.outgoing.slice(),I=a.incoming.slice(),R;ot(d.width)?R=Je(d):R=d;var $=Cw(h,R);if($){if(m=h.slice(0,$.index),g=h.slice($.index+($.bendpoint?1:0)),!m.length||!g.length)return;b=$.bendpoint?h[$.index]:R,(m.length===1||!mme(a,m[m.length-1]))&&m.push(gme(b)),(g.length===1||!mme(a,g[0]))&&g.unshift(gme(b))}E=c.source,_=c.target,e.canConnect(E,a,c)&&(n.reconnectEnd(c,a,m||R),S=c),e.canConnect(a,_,c)&&(S?D=n.connect(a,_,{type:c.type,waypoints:g}):(n.reconnectStart(c,a,g||R),D=c));var F=[].concat(S&&Ze(I,function(L){return L.source===S.source})||[],D&&Ze(k,function(L){return L.target===D.target})||[]);F.length&&n.removeElements(F)}this.preExecute("elements.move",function(a){var c=a.newParent,d=a.shapes,h=a.delta,m=d[0];if(!(!m||!c)){c&&c.waypoints&&(a.newParent=c=c.parent);var g=Je(m),b={x:g.x+h.x,y:g.y+h.y},E=st(c.children,function(_){var S=e.canInsert(d,_);return S&&Cw(_.waypoints,b)});E&&(a.targetFlow=E,a.position=b)}},!0),this.postExecuted("elements.move",function(a){var c=a.shapes,d=a.targetFlow,h=a.position;d&&i(c[0],d,h)},!0),this.preExecute("shape.create",function(a){var c=a.parent,d=a.shape;e.canInsert(d,c)&&(a.targetFlow=c,a.parent=c.parent)},!0),this.postExecuted("shape.create",function(a){var c=a.shape,d=a.targetFlow,h=a.position;d&&i(c,d,h)},!0)}ke(Yw,De);Yw.$inject=["eventBus","bpmnRules","modeling"];function mme(t,e){var n=e.x,i=e.y;return n>=t.x&&n<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}function gme(t){return le({},t)}function Xw(t,e){De.call(this,t),this.preExecuted("connection.create",function(n){var i=n.context,a=i.connection,c=i.source,d=i.target,h=i.hints;if(!(h&&h.createElementsBehavior===!1)&&H2(a)){var m=[];M(c,"bpmn:EventBasedGateway")?m=d.incoming.filter(H2):m=d.incoming.filter(function(g){return H2(g)&&M(g.source,"bpmn:EventBasedGateway")}),m.forEach(function(g){e.removeConnection(g)})}}),this.preExecuted("shape.replace",function(n){var i=n.context,a=i.newShape;if(M(a,"bpmn:EventBasedGateway")){var c=a.outgoing.filter(H2).reduce(function(d,h){return d.includes(h.target)?d:d.concat(h.target)},[]);c.forEach(function(d){d.incoming.filter(H2).forEach(function(h){let m=d.incoming.filter(H2).filter(function(g){return g.source===a});(h.source!==a||m.length>1)&&e.removeConnection(h)})})}})}Xw.$inject=["eventBus","modeling"];ke(Xw,De);function H2(t){return M(t,"bpmn:SequenceFlow")}var FD=1500,oat=2e3;function BD(t,e,n){e.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],FD,function(i){var a=i.context,c=a.shape||i.shape,d=i.hover;M(d,"bpmn:Lane")&&!He(c,["bpmn:Lane","bpmn:Participant"])&&(i.hover=_s(d),i.hoverGfx=t.getGraphics(i.hover));var h=n.getRootElement();d!==h&&(c.labelTarget||M(c,"bpmn:Group"))&&(i.hover=h,i.hoverGfx=t.getGraphics(i.hover))}),e.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],FD,function(i){var a=i.hover;M(a,"bpmn:Lane")&&(i.hover=_s(a)||a,i.hoverGfx=t.getGraphics(i.hover))}),e.on(["bendpoint.move.hover"],FD,function(i){var a=i.context,c=i.hover,d=a.type;M(c,"bpmn:Lane")&&/reconnect/.test(d)&&(i.hover=_s(c)||c,i.hoverGfx=t.getGraphics(i.hover))}),e.on(["connect.start"],FD,function(i){var a=i.context,c=a.start;M(c,"bpmn:Lane")&&(a.start=_s(c)||c)}),e.on("shape.move.start",oat,function(i){var a=i.shape;M(a,"bpmn:Lane")&&(i.shape=_s(a)||a)})}BD.$inject=["elementRegistry","eventBus","canvas"];function vme(t){return t.create("bpmn:Category")}function yme(t){return t.create("bpmn:CategoryValue")}function bme(t,e,n){return Dn(e.get("categoryValue"),t),t.$parent=e,Dn(n.get("rootElements"),e),e.$parent=n,t}function xme(t){var e=t.$parent;return e&&(Xn(e.get("categoryValue"),t),t.$parent=null),t}function Eme(t){var e=t.$parent;return e&&(Xn(e.get("rootElements"),t),t.$parent=null),t}var wme=770;function Kw(t,e,n,i,a,c){a.invoke(De,this);function d(){return n.filter(function(D){return M(D,"bpmn:Group")})}function h(D,k){return D.some(function(I){var R=K(I),$=R.categoryValueRef&&R.categoryValueRef.$parent;return $===k})}function m(D,k){return D.some(function(I){var R=K(I);return R.categoryValueRef===k})}function g(D,k,I){var R=d().filter(function($){return $.businessObject!==I});k&&!h(R,k)&&Eme(k),D&&!m(R,D)&&xme(D)}function b(D,k){return bme(D,k,e.getDefinitions())}function E(D,k){var I=K(D),R=I.categoryValueRef;R||(R=I.categoryValueRef=k.categoryValue=k.categoryValue||yme(t));var $=R.$parent;$||($=R.$parent=k.category=k.category||vme(t)),b(R,$,e.getDefinitions())}function _(D,k){var I=k.category,R=k.categoryValue,$=K(D);R?($.categoryValueRef=null,g(R,I,$)):g(null,$.categoryValueRef.$parent,$)}this.execute("label.create",function(D){var k=D.context,I=k.labelTarget;M(I,"bpmn:Group")&&E(I,k)}),this.revert("label.create",function(D){var k=D.context,I=k.labelTarget;M(I,"bpmn:Group")&&_(I,k)}),this.execute("shape.delete",function(D){var k=D.context,I=k.shape,R=K(I);if(!(!M(I,"bpmn:Group")||I.labelTarget)){var $=k.categoryValue=R.categoryValueRef,F;$&&(F=k.category=$.$parent,g($,F,R),R.categoryValueRef=null)}}),this.reverted("shape.delete",function(D){var k=D.context,I=k.shape;if(!(!M(I,"bpmn:Group")||I.labelTarget)){var R=k.category,$=k.categoryValue,F=K(I);$&&(F.categoryValueRef=$,b($,R))}}),this.execute("shape.create",function(D){var k=D.context,I=k.shape;!M(I,"bpmn:Group")||I.labelTarget||K(I).categoryValueRef&&E(I,k)}),this.reverted("shape.create",function(D){var k=D.context,I=k.shape;!M(I,"bpmn:Group")||I.labelTarget||K(I).categoryValueRef&&_(I,k)});function S(D,k){var I=t.create(D.$type);return c.copyElement(D,I,null,k)}i.on("copyPaste.copyElement",wme,function(D){var k=D.descriptor,I=D.element;if(!(!M(I,"bpmn:Group")||I.labelTarget)){var R=K(I);if(R.categoryValueRef){var $=R.categoryValueRef;k.categoryValue=S($,!0),$.$parent&&(k.category=S($.$parent,!0))}}}),i.on("copyPaste.pasteElement",wme,function(D){var k=D.descriptor,I=k.businessObject,R=k.categoryValue,$=k.category;R&&(R=I.categoryValueRef=S(R)),$&&(R.$parent=S($)),delete k.category,delete k.categoryValue})}Kw.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"];ke(Kw,De);function U2(t,e,n,i){var a,c,d,h,m;return a=(i.y-n.y)*(e.x-t.x)-(i.x-n.x)*(e.y-t.y),a==0?null:(c=t.y-n.y,d=t.x-n.x,m=(i.x-n.x)*c-(i.y-n.y)*d,h=m/a,{x:Math.round(t.x+h*(e.x-t.x)),y:Math.round(t.y+h*(e.y-t.y))})}function jD(t){function e(i,a,c){var d={x:c.x,y:c.y-50},h={x:c.x-50,y:c.y},m=U2(i,a,c,d),g=U2(i,a,c,h),b;m&&g?_me(m,c)>_me(g,c)?b=g:b=m:b=m||g,i.original=b}function n(i){var a=i.waypoints;e(a[0],a[1],Je(i.source)),e(a[a.length-1],a[a.length-2],Je(i.target))}t.on("bpmnElement.added",function(i){var a=i.element;a.waypoints&&n(a)})}jD.$inject=["eventBus"];function _me(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Zw(t){De.call(this,t);var e=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(n){var i=n.context.shape,a=K(i),c=wt(i);He(a,e)&&!c.get("isHorizontal")&&c.set("isHorizontal",!0)})}Zw.$inject=["eventBus"];ke(Zw,De);var Tme=Math.sqrt,kme=Math.min,sat=Math.max,Cme=Math.abs;function Sme(t){return Math.pow(t,2)}function Jw(t,e){return Tme(Sme(t.x-e.x)+Sme(t.y-e.y))}function Pme(t,e){var n=0,i,a,c,d,h,m,g,b,E,_,S;for(n=0;n<e.length-1;n++){if(i=e[n],a=e[n+1],Dme(i,a)?g=[i]:(c=Jw(t,i),d=Jw(t,a),m=kme(c,d),g=aat(i,a,t,m)),g.length<1)throw new Error("expected between [1, 2] circle -> line intersections");g.length===1&&(b={type:"bendpoint",position:g[0],segmentIndex:n,bendpointIndex:Dme(i,g[0])?n:n+1}),g.length===2&&(h=cat(g[0],g[1]),b={type:"segment",position:h,segmentIndex:n,relativeLocation:Jw(i,h)/Jw(i,a)}),E=Jw(b.position,t),(!S||_>E)&&(S=b,_=E)}return S}function aat(t,e,n,i){var a=e.x-t.x,c=e.y-t.y,d=n.x-t.x,h=n.y-t.y,m=a*a+c*c,g=a*d+c*h,b=d*d+h*h-i*i,E=g/m,_=b/m,S=E*E-_;if(S<0&&S>-1e-6&&(S=0),S<0)return[];var D=Tme(S),k=-E+D,I=-E-D,R={x:t.x-a*k,y:t.y-c*k};if(S===0)return[R];var $={x:t.x-a*I,y:t.y-c*I};return[R,$].filter(function(F){return lat(F,t,e)})}function lat(t,e,n){return Ome(t.x,e.x,n.x)&&Ome(t.y,e.y,n.y)}function Ome(t,e,n){return t>=kme(e,n)-VD&&t<=sat(e,n)+VD}function cat(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}var VD=.1;function Dme(t,e){return Cme(t.x-e.x)<=VD&&Cme(t.y-e.y)<=VD}function Mme(t,e,n,i){var a=n.segmentIndex,c=e.length-t.length;if(i.segmentMove){var d=i.segmentMove.segmentStartIndex,h=i.segmentMove.newSegmentStartIndex;return a===d?h:a>=h?a+c<h?h:a+c:a}if(i.bendpointMove){var m=i.bendpointMove.insert,g=i.bendpointMove.bendpointIndex,b;if(c===0)return a;if(a>=g&&(b=m?a+1:a-1),a<g&&(b=a,m&&n.type!=="bendpoint"&&g-1===a)){var E=Ame(e,g);E<n.relativeLocation&&b++}return b}return c===0?a:i.connectionStart&&a===0?0:i.connectionEnd&&a===t.length-2?e.length-2:Math.floor((e.length-2)/2)}function zD(t,e,n,i){var a=0,c=0,d={point:t,delta:{x:0,y:0}},h=Pme(t,n),m=h.segmentIndex,g=Mme(n,e,h,i);if(g<0||g>e.length-2||g===null)return d;var b=Ime(n,m),E=Ime(e,g),_=h.position,S=dat(b,_),D=uat(b,E);if(h.type==="bendpoint"){var k=e.length-n.length,I=h.bendpointIndex,R=n[I];if(e.indexOf(R)!==-1)return d;if(k===0){var $=e[I];return a=$.x-h.position.x,c=$.y-h.position.y,{delta:{x:a,y:c},point:{x:t.x+a,y:t.y+c}}}k<0&&I!==0&&I<n.length-1&&(S=Ame(n,I))}var F={x:(E[1].x-E[0].x)*S+E[0].x,y:(E[1].y-E[0].y)*S+E[0].y},L=Rpe({x:t.x-_.x,y:t.y-_.y},D);return a=F.x+L.x-t.x,c=F.y+L.y-t.y,{point:Kl(F),delta:Kl({x:a,y:c})}}function Ame(t,e){var n=Ow(t[e-1],t[e]),i=Ow(t[e],t[e+1]),a=n/(n+i);return a}function uat(t,e){var n=WB(t),i=WB(e);return i-n}function Ime(t,e){return[t[e],t[e+1]]}function dat(t,e){var n=Ow(t[0],t[1]),i=Ow(t[0],e);return n===0?0:i/n}function Rme(t,e,n,i){var a=Je(t);return zD(a,e,n,i).delta}function Jg(t,e,n){var i=S2(e),a=S2(n),c=Ao(t,i),d={x:c.x*(n.width/e.width),y:c.y*(n.height/e.height)};return Kl({x:a.x+d.x,y:a.y+d.y})}function uj(t,e,n){var i=S2(t),a=S2(e),c=S2(n),d=Ao(t,i),h=Ao(i,a),m=fat(i,e,n);if(m)return m;var g={x:h.x*(n.width/e.width),y:h.y*(n.height/e.height)},b={x:c.x+g.x,y:c.y+g.y};return Kl({x:b.x+d.x-t.x,y:b.y+d.y-t.y})}function fat(t,e,n){var i=Xe(e),a=Xe(n);if(hat(i,a))return null;var c=Cr(e,t),d,h,m;if(c==="top")d={x:0,y:a.bottom-i.bottom};else if(c==="bottom")d={x:0,y:a.top-i.top};else if(c==="right")d={x:a.left-i.left,y:0};else if(c==="left")d={x:a.right-i.right,y:0};else return null;return h={x:t.x+d.x,y:t.y+d.y},m=Cr(n,h),m!==c?null:d}function hat(t,e){return pat(t,e)||mat(t,e)}function pat(t,e){return t.right!==e.right&&t.left!==e.left}function mat(t,e){return t.top!==e.top&&t.bottom!==e.bottom}var Lme="name",$me="text";function e5(t,e,n,i){De.call(this,t),this.postExecute("element.updateProperties",a),this.postExecute("element.updateModdleProperties",d=>{K(d.context.element)===d.context.moddleElement&&a(d)});function a(d){var h=d.context,m=h.element,g=h.properties;if(Lme in g&&e.updateLabel(m,g[Lme]),$me in g&&M(m,"bpmn:TextAnnotation")){var b=i.getTextAnnotationBounds({x:m.x,y:m.y,width:m.width,height:m.height},g[$me]||"");e.updateLabel(m,g.text,b)}}this.postExecute(["shape.create","connection.create"],function(d){var h=d.context,m=h.hints||{};if(m.createElementsBehavior!==!1){var g=h.shape||h.connection;Mn(g)||!Jl(g)||xi(g)&&e.updateLabel(g,xi(g))}}),this.postExecute("shape.delete",function(d){var h=d.context,m=h.labelTarget,g=h.hints||{};m&&g.unsetLabel!==!1&&e.updateLabel(m,null,null,{removeShape:!1})});function c(d){var h=d.context,m=h.connection,g=m.label,b=le({},h.hints),E=h.newWaypoints||m.waypoints,_=h.oldWaypoints;return typeof b.startChanged>"u"&&(b.startChanged=!!b.connectionStart),typeof b.endChanged>"u"&&(b.endChanged=!!b.connectionEnd),Rme(g,E,_,b)}this.postExecute(["connection.layout","connection.updateWaypoints"],function(d){var h=d.context,m=h.hints||{};if(m.labelBehavior!==!1){var g=h.connection,b=g.label,E;!b||!b.parent||(E=c(d),e.moveShape(b,E))}}),this.postExecute(["shape.replace"],function(d){var h=d.context,m=h.newShape,g=h.oldShape,b=K(m);b&&Jl(b)&&g.label&&m.label&&(m.label.x=g.label.x,m.label.y=g.label.y)}),this.postExecute("shape.resize",function(d){var h=d.context,m=h.shape,g=h.newBounds,b=h.oldBounds;if(Kp(m)){var E=m.label,_=Je(E),S=yat(b),D=vat(_,S),k=gat(D,b,g);e.moveShape(E,k)}})}ke(e5,De);e5.$inject=["eventBus","modeling","bpmnFactory","textRenderer"];function gat(t,e,n){var i=Jg(t,e,n);return Kl(Ao(i,t))}function vat(t,e){if(e.length){var n=bat(t,e);return Sw(t,n)}}function yat(t){return[[{x:t.x,y:t.y},{x:t.x+(t.width||0),y:t.y}],[{x:t.x+(t.width||0),y:t.y},{x:t.x+(t.width||0),y:t.y+(t.height||0)}],[{x:t.x,y:t.y+(t.height||0)},{x:t.x+(t.width||0),y:t.y+(t.height||0)}],[{x:t.x,y:t.y},{x:t.x,y:t.y+(t.height||0)}]]}function bat(t,e){var n=e.map(function(a){return{line:a,distance:G7(t,a)}}),i=fr(n,"distance");return i[0].line}function Nme(t,e,n,i){return zD(t,e,n,i).point}function t5(t,e){De.call(this,t);function n(i,a){var c=i.context,d=c.connection,h=le({},c.hints),m=c.newWaypoints||d.waypoints,g=c.oldWaypoints;return typeof h.startChanged>"u"&&(h.startChanged=!!h.connectionStart),typeof h.endChanged>"u"&&(h.endChanged=!!h.connectionEnd),Nme(a,m,g,h)}this.postExecute(["connection.layout","connection.updateWaypoints"],function(i){var a=i.context,c=a.connection,d=c.outgoing,h=c.incoming;h.forEach(function(m){var g=m.waypoints[m.waypoints.length-1],b=n(i,g),E=[].concat(m.waypoints.slice(0,-1),[b]);e.updateWaypoints(m,E)}),d.forEach(function(m){var g=m.waypoints[0],b=n(i,g),E=[].concat([b],m.waypoints.slice(1));e.updateWaypoints(m,E)})}),this.postExecute(["connection.move"],function(i){var a=i.context,c=a.connection,d=c.outgoing,h=c.incoming,m=a.delta;h.forEach(function(g){var b=g.waypoints[g.waypoints.length-1],E={x:b.x+m.x,y:b.y+m.y},_=[].concat(g.waypoints.slice(0,-1),[E]);e.updateWaypoints(g,_)}),d.forEach(function(g){var b=g.waypoints[0],E={x:b.x+m.x,y:b.y+m.y},_=[].concat([E],g.waypoints.slice(1));e.updateWaypoints(g,_)})})}ke(t5,De);t5.$inject=["eventBus","modeling"];function d0(t,e,n){var i=HD(t),a=Bme(i,e),c=i[0];return a.length?a[a.length-1]:Jg(c.original||c,n,e)}function f0(t,e,n){var i=HD(t),a=Bme(i,e),c=i[i.length-1];return a.length?a[0]:Jg(c.original||c,n,e)}function q2(t,e,n){var i=HD(t),a=Fme(e,n),c=i[0];return Jg(c.original||c,a,e)}function W2(t,e,n){var i=HD(t),a=Fme(e,n),c=i[i.length-1];return Jg(c.original||c,a,e)}function Fme(t,e){return{x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height}}function HD(t){var e=t.waypoints;if(!e.length)throw new Error("connection#"+t.id+": no waypoints");return e}function Bme(t,e){var n=Nn(t,Eat);return Ze(n,function(i){return xat(i,e)})}function xat(t,e){return Cr(e,t,1)==="intersect"}function Eat(t){return t.original||t}function n5(t,e){De.call(this,t),this.postExecute("shape.replace",function(n){var i=n.oldShape,a=n.newShape;if(wat(i,a)){var c=_at(i);c.incoming.forEach(function(d){var h=f0(d,a,i);e.reconnectEnd(d,a,h)}),c.outgoing.forEach(function(d){var h=d0(d,a,i);e.reconnectStart(d,a,h)})}},!0)}n5.$inject=["eventBus","modeling"];ke(n5,De);function wat(t,e){return M(t,"bpmn:Participant")&&bt(t)&&M(e,"bpmn:Participant")&&!bt(e)}function _at(t){var e=ad([t],!1),n=[],i=[];return e.forEach(function(a){a!==t&&(a.incoming.forEach(function(c){M(c,"bpmn:MessageFlow")&&n.push(c)}),a.outgoing.forEach(function(c){M(c,"bpmn:MessageFlow")&&i.push(c)}))},[]),{incoming:n,outgoing:i}}var Cat="flow elements must be children of pools/participants";function UD(t,e,n){function i(a,c,d){e.add({position:{x:a.x+5,y:a.y+5},type:"error",timeout:d||2e3,html:"<div>"+c+"</div>"})}t.on(["shape.move.rejected","create.rejected"],function(a){var c=a.context,d=c.shape,h=c.target;M(h,"bpmn:Collaboration")&&M(d,"bpmn:FlowNode")&&i(a,n(Cat))})}UD.$inject=["eventBus","tooltips","translate"];function r5(t,e){De.call(this,t),this.preExecute("shape.resize",function(n){var i=n.shape,a=wt(i),c=a&&a.get("label"),d=c&&c.get("bounds");d&&e.updateModdleProperties(i,c,{bounds:void 0})},!0)}ke(r5,De);r5.$inject=["eventBus","modeling"];function i5(t,e,n){De.call(this,t),this.preExecute("shape.delete",function(i){var a=i.context.shape;if(!(a.incoming.length!==1||a.outgoing.length!==1)){var c=a.incoming[0],d=a.outgoing[0];if(!(!M(c,"bpmn:SequenceFlow")||!M(d,"bpmn:SequenceFlow"))&&e.canConnect(c.source,d.target,c)){var h=Sat(c.waypoints,d.waypoints);n.reconnectEnd(c,d.target,h)}}})}ke(i5,De);i5.$inject=["eventBus","bpmnRules","modeling"];function G2(t){return t.original||t}function Sat(t,e){var n=U2(G2(t[t.length-2]),G2(t[t.length-1]),G2(e[1]),G2(e[0]));return n?[].concat(t.slice(0,t.length-1),[n],e.slice(1)):[G2(t[0]),G2(e[e.length-1])]}function o5(t,e){De.call(this,t),this.preExecute("shape.delete",function(n){var i=n.shape,a=i.parent;M(i,"bpmn:Participant")&&(n.collaborationRoot=a)},!0),this.postExecute("shape.delete",function(n){var i=n.collaborationRoot;i&&!i.businessObject.participants.length&&e.makeProcess()},!0)}o5.$inject=["eventBus","modeling"];ke(o5,De);function s5(t,e,n,i){De.call(this,t);var a=i.get("dragging",!1);function c(m){var g=m.source,b=m.target,E=m.parent;if(E){var _,S;M(m,"bpmn:SequenceFlow")&&(n.canConnectSequenceFlow(g,b)||(S=!0),n.canConnectMessageFlow(g,b)&&(_="bpmn:MessageFlow")),M(m,"bpmn:MessageFlow")&&(n.canConnectMessageFlow(g,b)||(S=!0),n.canConnectSequenceFlow(g,b)&&(_="bpmn:SequenceFlow")),M(m,"bpmn:Association")&&!n.canConnectAssociation(g,b)&&(S=!0),S&&e.removeConnection(m),_&&e.connect(g,b,{type:_,waypoints:m.waypoints.slice()})}}function d(m){var g=m.context,b=g.connection,E=g.newSource||b.source,_=g.newTarget||b.target,S,D;S=n.canConnect(E,_),!(!S||S.type===b.type)&&(D=e.connect(E,_,{type:S.type,waypoints:b.waypoints.slice()}),e.removeConnection(b),g.connection=D,a&&h(b,D))}function h(m,g){var b=a.context(),E=b&&b.payload.previousSelection,_;!E||!E.length||(_=E.indexOf(m),_!==-1&&E.splice(_,1,g))}this.postExecuted("elements.move",function(m){var g=m.closure,b=g.allConnections;J(b,c)},!0),this.preExecute("connection.reconnect",d),this.postExecuted("element.updateProperties",function(m){var g=m.context,b=g.properties,E=g.element,_=E.businessObject,S;b.default&&(S=st(E.outgoing,Mo({id:E.businessObject.default.id})),S&&e.updateProperties(S,{conditionExpression:void 0})),b.conditionExpression&&_.sourceRef.default===_&&e.updateProperties(E.source,{default:void 0})})}ke(s5,De);s5.$inject=["eventBus","modeling","bpmnRules","injector"];function Q2(t,e,n,i,a,c){i.invoke(De,this),this._bpmnReplace=t,this._elementRegistry=n,this._selection=c,this.postExecuted(["elements.create"],500,function(d){var h=d.context,m=h.parent,g=h.elements,b=dr(g,function(E,_){var S=e.canReplace([_],_.host||_.parent||m);return S?E.concat(S.replacements):E},[]);b.length&&this._replaceElements(g,b)},this),this.postExecuted(["elements.move"],500,function(d){var h=d.context,m=h.newParent,g=h.newHost,b=[];J(h.closure.topLevel,function(_){bi(_)?b=b.concat(_.children):b=b.concat(_)}),b.length===1&&g&&(m=g);var E=e.canReplace(b,m);E&&this._replaceElements(b,E.replacements,g)},this),this.postExecute(["shape.replace"],1500,function(d){var h=d.context,m=h.oldShape,g=h.newShape,b=m.attachers,E;b&&b.length&&(E=e.canReplace(b,g),this._replaceElements(b,E.replacements))},this),this.postExecuted(["shape.replace"],1500,function(d){var h=d.context,m=h.oldShape,g=h.newShape;a.unclaimId(m.businessObject.id,m.businessObject),a.updateProperties(g,{id:m.id})})}ke(Q2,De);Q2.prototype._replaceElements=function(t,e){var n=this._elementRegistry,i=this._bpmnReplace,a=this._selection;J(e,function(c){var d={type:c.newElementType},h=n.get(c.oldElementId),m=t.indexOf(h);t[m]=i.replaceElement(h,d,{select:!1})}),e&&a.select(t)};Q2.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var Oat=1500,jme={width:140,height:120},h0={width:300,height:60},Y2={width:300,height:150},dj={width:140,height:120},fj={width:50,height:30};function QD(t){t.on("resize.start",Oat,function(e){var n=e.context,i=n.shape,a=n.direction,c=n.balanced;(M(i,"bpmn:Lane")||M(i,"bpmn:Participant"))&&(n.resizeConstraints=Aat(i,a,c)),M(i,"bpmn:Participant")&&(n.minDimensions=Y2),M(i,"bpmn:SubProcess")&&bt(i)&&(n.minDimensions=dj),M(i,"bpmn:TextAnnotation")&&(n.minDimensions=fj)})}QD.$inject=["eventBus"];var qD=Math.abs,Dat=Math.min,Tat=Math.max;function Vme(t,e,n,i){var a=t[e];t[e]=a===void 0?n:i(n,a)}function WD(t,e,n){return Vme(t,e,n,Dat)}function GD(t,e,n){return Vme(t,e,n,Tat)}var kat=20,Pat=50,Iat=20,Mat=20;function Aat(t,e,n){var i=_s(t),a=!0,c=!0,d=L2(i,[i]),h=Xe(t),m={},g={};/e/.test(e)?g.right=h.left+h0.width:/w/.test(e)&&(g.left=h.right-h0.width),d.forEach(function(E){var _=Xe(E);/n/.test(e)&&(_.top<h.top-10&&(a=!1),n&&qD(h.top-_.bottom)<10&&GD(m,"top",_.top+h0.height),qD(h.top-_.top)<5&&WD(g,"top",_.bottom-h0.height)),/s/.test(e)&&(_.bottom>h.bottom+10&&(c=!1),n&&qD(h.bottom-_.top)<10&&WD(m,"bottom",_.bottom-h0.height),qD(h.bottom-_.bottom)<5&&GD(g,"bottom",_.top+h0.height))});var b=i.children.filter(function(E){return!E.hidden&&!E.waypoints&&(M(E,"bpmn:FlowElement")||M(E,"bpmn:Artifact"))});return b.forEach(function(E){var _=Xe(E);a&&/n/.test(e)&&WD(g,"top",_.top-Iat),/e/.test(e)&&GD(g,"right",_.right+kat),c&&/s/.test(e)&&GD(g,"bottom",_.bottom+Mat),/w/.test(e)&&WD(g,"left",_.left-Pat)}),{min:g,max:m}}var zme=1001;function YD(t,e){t.on("resize.start",zme+500,function(n){var i=n.context,a=i.shape;(M(a,"bpmn:Lane")||M(a,"bpmn:Participant"))&&(i.balanced=!Kc(n))}),t.on("resize.end",zme,function(n){var i=n.context,a=i.shape,c=i.canExecute,d=i.newBounds;if(M(a,"bpmn:Lane")||M(a,"bpmn:Participant"))return c&&(d=L8(d),e.resizeLane(a,d,i.balanced)),!1})}YD.$inject=["eventBus","modeling"];var Rat=500;function a5(t,e,n,i,a){n.invoke(De,this);function c(b){return He(b,["bpmn:ReceiveTask","bpmn:SendTask"])||Lat(b,["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])}function d(b){var E=t.getDefinitions(),_=E.get("rootElements");return!!st(_,Mo({id:b.id}))}function h(b){if(M(b,"bpmn:ErrorEventDefinition"))return"errorRef";if(M(b,"bpmn:EscalationEventDefinition"))return"escalationRef";if(M(b,"bpmn:MessageEventDefinition"))return"messageRef";if(M(b,"bpmn:SignalEventDefinition"))return"signalRef"}function m(b){if(He(b,["bpmn:ReceiveTask","bpmn:SendTask"]))return b.get("messageRef");var E=b.get("eventDefinitions"),_=E[0];return _.get(h(_))}function g(b,E){if(He(b,["bpmn:ReceiveTask","bpmn:SendTask"]))return b.set("messageRef",E);var _=b.get("eventDefinitions"),S=_[0];return S.set(h(S),E)}this.executed(["shape.create","element.updateProperties","element.updateModdleProperties"],function(b){var E=b.shape||b.element;if(c(E)){var _=K(E),S=m(_),D;S&&!d(S)&&(D=t.getDefinitions().get("rootElements"),Dn(D,S),b.addedRootElement=S)}},!0),this.reverted(["shape.create","element.updateProperties","element.updateModdleProperties"],function(b){var E=b.addedRootElement;if(E){var _=t.getDefinitions().get("rootElements");Xn(_,E)}},!0),e.on("copyPaste.copyElement",function(b){var E=b.descriptor,_=b.element;if(!(_.labelTarget||!c(_))){var S=K(_),D=m(S);D&&(E.referencedRootElement=D)}}),e.on("copyPaste.pasteElement",Rat,function(b){var E=b.descriptor,_=E.businessObject,S=E.referencedRootElement;S&&(d(S)||(S=i.copyElement(S,a.create(S.$type))),g(_,S),delete E.referencedRootElement)})}a5.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"];ke(a5,De);function Lat(t,e){return Ue(e)||(e=[e]),ho(e,function(n){return dw(t,n)})}var $at=Math.max;function XD(t){t.on("spaceTool.getMinDimensions",function(e){var n=e.shapes,i=e.axis,a=e.start,c={};return J(n,function(d){var h=d.id;M(d,"bpmn:Participant")&&(Nat(i)?c[h]=Y2:c[h]={width:Y2.width,height:Fat(d,a)}),M(d,"bpmn:SubProcess")&&bt(d)&&(c[h]=dj),M(d,"bpmn:TextAnnotation")&&(c[h]=fj),M(d,"bpmn:Group")&&(c[h]=jme)}),c})}XD.$inject=["eventBus"];function Nat(t){return t==="x"}function Fat(t,e){var n;return Bat(t)?(n=jat(t,e),$at(Y2.height,n)):Y2.height}function Bat(t){return!!nc(t).length}function jat(t,e){var n=nc(t),i;return i=Hme(n,e),t.height-i.height+h0.height}function Hme(t,e){var n,i,a;for(n=0;n<t.length;n++)if(i=t[n],e>=i.y&&e<=i.y+i.height)return a=nc(i),a.length?Hme(a,e):i}var Ume=400,Vat=600,qme={x:180,y:160};function bd(t,e,n,i,a,c,d){De.call(this,e),this._canvas=t,this._eventBus=e,this._modeling=n,this._elementFactory=i,this._bpmnFactory=a,this._bpmnjs=c,this._elementRegistry=d;var h=this;function m(E){return M(E,"bpmn:SubProcess")&&!bt(E)}function g(E){var _=E.shape,S=E.newRootElement,D=K(_);S=h._addDiagram(S||D),E.newRootElement=t.addRootElement(S)}function b(E){var _=E.shape,S=K(_);h._removeDiagram(S);var D=E.newRootElement=d.get(ec(S));t.removeRootElement(D)}this.executed("shape.create",function(E){var _=E.shape;m(_)&&g(E)},!0),this.postExecuted("shape.create",function(E){var _=E.shape,S=E.newRootElement;!S||!_.children||(h._showRecursively(_.children),h._moveChildrenToShape(_,S))},!0),this.reverted("shape.create",function(E){var _=E.shape;m(_)&&b(E)},!0),this.preExecuted("shape.delete",function(E){var _=E.shape;if(m(_)){var S=d.get(ec(_));S&&n.removeElements(S.children.slice())}},!0),this.executed("shape.delete",function(E){var _=E.shape;m(_)&&b(E)},!0),this.reverted("shape.delete",function(E){var _=E.shape;m(_)&&g(E)},!0),this.preExecuted("shape.replace",function(E){var _=E.oldShape,S=E.newShape;!m(_)||!m(S)||(E.oldRoot=t.removeRootElement(ec(_)))},!0),this.postExecuted("shape.replace",function(E){var _=E.newShape,S=E.oldRoot,D=t.findRoot(ec(_));if(!(!S||!D)){var k=S.children;n.moveElements(k,{x:0,y:0},D)}},!0),this.executed("element.updateProperties",function(E){var _=E.element;if(M(_,"bpmn:SubProcess")){var S=E.properties,D=E.oldProperties,k=D.id,I=S.id;if(k!==I){if(a7(_)){d.updateId(_,t0(I)),d.updateId(k,I);return}var R=d.get(t0(k));R&&d.updateId(t0(k),t0(I))}}},!0),this.reverted("element.updateProperties",function(E){var _=E.element;if(M(_,"bpmn:SubProcess")){var S=E.properties,D=E.oldProperties,k=D.id,I=S.id;if(k!==I){if(a7(_)){d.updateId(_,t0(k)),d.updateId(I,k);return}var R=d.get(t0(I));R&&d.updateId(R,t0(k))}}},!0),e.on("element.changed",function(E){var _=E.element;if(a7(_)){var S=_,D=d.get(_B(S));!D||D===S||e.fire("element.changed",{element:D})}}),this.executed("shape.toggleCollapse",Ume,function(E){var _=E.shape;M(_,"bpmn:SubProcess")&&(bt(_)?b(E):(g(E),h._showRecursively(_.children)))},!0),this.reverted("shape.toggleCollapse",Ume,function(E){var _=E.shape;M(_,"bpmn:SubProcess")&&(bt(_)?b(E):(g(E),h._showRecursively(_.children)))},!0),this.postExecuted("shape.toggleCollapse",Vat,function(E){var _=E.shape;if(M(_,"bpmn:SubProcess")){var S=E.newRootElement;S&&(bt(_)?h._moveChildrenToShape(S,_):h._moveChildrenToShape(_,S))}},!0),e.on("copyPaste.createTree",function(E){var _=E.element,S=E.children;if(m(_)){var D=ec(_),k=d.get(D);k&&S.push.apply(S,k.children)}}),e.on("copyPaste.copyElement",function(E){var _=E.descriptor,S=E.element,D=E.elements,k=S.parent,I=M(wt(k),"bpmndi:BPMNPlane");if(I){var R=_B(k),$=st(D,function(F){return F.id===R});$&&(_.parent=$.id)}}),e.on("copyPaste.pasteElement",function(E){var _=E.descriptor;_.parent&&(m(_.parent)||_.parent.hidden)&&(_.hidden=!0)})}ke(bd,De);bd.prototype._moveChildrenToShape=function(t,e){var n=this._modeling,i=t.children,a;if(i){i=i.concat(i.reduce(function(g,b){return b.label&&b.label.parent!==t?g.concat(b.label):g},[]));var c=i.filter(function(g){return!g.hidden});if(!c.length){n.moveElements(i,{x:0,y:0},e,{autoResize:!1});return}var d=En(c);if(!e.x)a={x:qme.x-d.x,y:qme.y-d.y};else{var h=Je(e),m=Je(d);a={x:h.x-m.x,y:h.y-m.y}}n.moveElements(i,a,e,{autoResize:!1})}};bd.prototype._showRecursively=function(t,e){var n=this,i=[];return t.forEach(function(a){a.hidden=!!e,i=i.concat(a),a.children&&(i=i.concat(n._showRecursively(a.children,a.collapsed||e)))}),i};bd.prototype._addDiagram=function(t){var e=this._bpmnjs,n=e.getDefinitions().diagrams;return t.businessObject||(t=this._createNewDiagram(t)),n.push(t.di.$parent),t};bd.prototype._createNewDiagram=function(t){var e=this._bpmnFactory,n=this._elementFactory,i=e.create("bpmndi:BPMNPlane",{bpmnElement:t}),a=e.create("bpmndi:BPMNDiagram",{plane:i});i.$parent=a;var c=n.createRoot({id:ec(t),type:t.$type,di:i,businessObject:t,collapsed:!0});return c};bd.prototype._removeDiagram=function(t){var e=this._bpmnjs,n=e.getDefinitions().diagrams,i=st(n,function(a){return a.plane.bpmnElement.id===t.id});return n.splice(n.indexOf(i),1),i};bd.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"];function l5(t,e){t.invoke(De,this),this.postExecuted("shape.replace",function(n){var i=n.context.oldShape,a=n.context.newShape;if(!(!M(a,"bpmn:SubProcess")||!(M(i,"bpmn:Task")||M(i,"bpmn:CallActivity"))||!bt(a))){var c=zat(a);e.createShape({type:"bpmn:StartEvent"},c,a)}})}l5.$inject=["injector","modeling"];ke(l5,De);function zat(t){return{x:t.x+t.width/6,y:t.y+t.height/2}}function c5(t,e){De.call(this,t),this.postExecuted("shape.toggleCollapse",1500,function(n){var i=n.shape;if(bt(i))return;var a=ad(i);a.forEach(function(d){var h=d.incoming.slice(),m=d.outgoing.slice();J(h,function(g){c(g,!0)}),J(m,function(g){c(g,!1)})});function c(d,h){a.indexOf(d.source)!==-1&&a.indexOf(d.target)!==-1||(h?e.reconnectEnd(d,i,Je(i)):e.reconnectStart(d,i,Je(i)))}},!0)}ke(c5,De);c5.$inject=["eventBus","modeling"];var hj=500;function u5(t,e,n){De.call(this,t);function i(d){d.length&&d.forEach(function(h){h.type==="label"&&!h.businessObject.name&&(h.hidden=!0)})}function a(d,h){var m=d.children,g=h,b,E;return b=Hat(m).concat([d]),E=ED(b),E?(g.width=Math.max(E.width,g.width),g.height=Math.max(E.height,g.height),g.x=E.x+(E.width-g.width)/2,g.y=E.y+(E.height-g.height)/2):(g.x=d.x+(d.width-g.width)/2,g.y=d.y+(d.height-g.height)/2),g}function c(d,h){return{x:d.x+(d.width-h.width)/2,y:d.y+(d.height-h.height)/2,width:h.width,height:h.height}}this.executed(["shape.toggleCollapse"],hj,function(d){var h=d.context,m=h.shape;M(m,"bpmn:SubProcess")&&(m.collapsed?wt(m).isExpanded=!1:(i(m.children),wt(m).isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],hj,function(d){var h=d.context,m=h.shape;m.collapsed?wt(m).isExpanded=!1:wt(m).isExpanded=!0}),this.postExecuted(["shape.toggleCollapse"],hj,function(d){var h=d.context.shape,m=e.getDefaultSize(h),g;h.collapsed?g=c(h,m):g=a(h,m),n.resizeShape(h,g,null,{autoResize:h.collapsed?!1:"nwse"})})}ke(u5,De);u5.$inject=["eventBus","elementFactory","modeling"];function Hat(t){return t.filter(function(e){return!e.hidden})}function d5(t,e,n,i){e.invoke(De,this),this.preExecute("shape.delete",function(a){var c=a.context,d=c.shape,h=d.businessObject;Mn(d)||(M(d,"bpmn:Participant")&&bt(d)&&n.ids.unclaim(h.processRef.id),i.unclaimId(h.id,h))}),this.preExecute("connection.delete",function(a){var c=a.context,d=c.connection,h=d.businessObject;i.unclaimId(h.id,h)}),this.preExecute("canvas.updateRoot",function(){var a=t.getRootElement(),c=a.businessObject;M(a,"bpmn:Collaboration")&&n.ids.unclaim(c.id)})}ke(d5,De);d5.$inject=["canvas","injector","moddle","modeling"];function f5(t,e){De.call(this,t),this.preExecute("connection.delete",function(n){var i=n.context,a=i.connection,c=a.source;Uat(a,c)&&e.updateProperties(c,{default:null})})}ke(f5,De);f5.$inject=["eventBus","modeling"];function Uat(t,e){if(!M(t,"bpmn:SequenceFlow"))return!1;var n=K(e),i=K(t);return n.get("default")===i}var qat=500,Wat=5e3;function h5(t,e,n){De.call(this,t);var i;function a(){return i=i||new Gat,i.enter(),i}function c(){if(!i)throw new Error(n("out of bounds release"));return i}function d(){if(!i)throw new Error(n("out of bounds release"));var m=i.leave();return m&&(e.updateLaneRefs(i.flowNodes,i.lanes),i=null),m}var h=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(h,Wat,function(m){a()}),this.postExecuted(h,qat,function(m){d()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(m){var g=m.context,b=g.shape,E=c();b.labelTarget||(M(b,"bpmn:Lane")&&E.addLane(b),M(b,"bpmn:FlowNode")&&E.addFlowNode(b))})}h5.$inject=["eventBus","modeling","translate"];ke(h5,De);function Gat(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(t){this.lanes.push(t)},this.addFlowNode=function(t){this.flowNodes.push(t)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}var Wme={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","modelingFeedback","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior"],adaptiveLabelPositioningBehavior:["type",Bw],appendBehavior:["type",jw],associationBehavior:["type",Vw],attachEventBehavior:["type",j2],boundaryEventBehavior:["type",zw],createBehavior:["type",Hw],createDataObjectBehavior:["type",Uw],createParticipantBehavior:["type",qw],dataInputAssociationBehavior:["type",Ww],dataStoreBehavior:["type",Gw],deleteLaneBehavior:["type",Qw],detachEventBehavior:["type",z2],dropOnFlowBehavior:["type",Yw],eventBasedGatewayBehavior:["type",Xw],fixHoverBehavior:["type",BD],groupBehavior:["type",Kw],importDockingFix:["type",jD],isHorizontalFix:["type",Zw],labelBehavior:["type",e5],layoutConnectionBehavior:["type",t5],messageFlowBehavior:["type",n5],modelingFeedback:["type",UD],removeElementBehavior:["type",i5],removeEmbeddedLabelBoundsBehavior:["type",r5],removeParticipantBehavior:["type",o5],replaceConnectionBehavior:["type",s5],replaceElementBehaviour:["type",Q2],resizeBehavior:["type",QD],resizeLaneBehavior:["type",YD],rootElementReferenceBehavior:["type",a5],spaceToolBehavior:["type",XD],subProcessPlaneBehavior:["type",bd],subProcessStartEventBehavior:["type",l5],toggleCollapseConnectionBehaviour:["type",c5],toggleElementCollapseBehaviour:["type",u5],unclaimIdBehavior:["type",d5],unsetDefaultFlowBehavior:["type",f5],updateFlowNodeRefsBehavior:["type",h5]};function KD(t,e){var n=Cr(t,e,-15);return n!=="intersect"?n:null}function vo(t){es.call(this,t)}ke(vo,es);vo.$inject=["eventBus"];vo.prototype.init=function(){this.addRule("connection.start",function(t){var e=t.source;return Qat(e)}),this.addRule("connection.create",function(t){var e=t.source,n=t.target,i=t.hints||{},a=i.targetParent,c=i.targetAttach;if(c)return!1;a&&(n.parent=a);try{return ZD(e,n)}finally{a&&(n.parent=null)}}),this.addRule("connection.reconnect",function(t){var e=t.connection,n=t.source,i=t.target;return ZD(n,i,e)}),this.addRule("connection.updateWaypoints",function(t){return{type:t.connection.type}}),this.addRule("shape.resize",function(t){var e=t.shape,n=t.newBounds;return rge(e,n)}),this.addRule("elements.create",function(t){var e=t.elements,n=t.position,i=t.target;return Yme(i)&&!JD(e,i,n)?!1:Gc(e,function(a){return Yme(a)?ZD(a.source,a.target,a):a.host?p5(a,a.host,null,n):vj(a,i,null,n)})}),this.addRule("elements.move",function(t){var e=t.target,n=t.shapes,i=t.position;return p5(n,e,null,i)||tge(n,e,i)||nge(n,e,i)||JD(n,e,i)}),this.addRule("shape.create",function(t){return vj(t.shape,t.target,t.source,t.position)}),this.addRule("shape.attach",function(t){return p5(t.shape,t.target,null,t.position)}),this.addRule("element.copy",function(t){var e=t.element,n=t.elements;return age(n,e)})};vo.prototype.canConnectMessageFlow=oge;vo.prototype.canConnectSequenceFlow=sge;vo.prototype.canConnectDataAssociation=xj;vo.prototype.canConnectAssociation=ige;vo.prototype.canMove=nge;vo.prototype.canAttach=p5;vo.prototype.canReplace=tge;vo.prototype.canDrop=X2;vo.prototype.canInsert=JD;vo.prototype.canCreate=vj;vo.prototype.canConnect=ZD;vo.prototype.canResize=rge;vo.prototype.canCopy=age;function Qat(t){return pj(t)?null:He(t,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}function pj(t){return!t||Mn(t)}function Yat(t,e){return t===e}function Gme(t){do{if(M(t,"bpmn:Process"))return K(t);if(M(t,"bpmn:Participant"))return K(t).processRef||K(t)}while(t=t.parent)}function mj(t){return M(t,"bpmn:TextAnnotation")}function yj(t){return M(t,"bpmn:Group")&&!t.labelTarget}function bj(t){return M(t,"bpmn:BoundaryEvent")&&xd(t,"bpmn:CompensateEventDefinition")}function K2(t){return K(t).isForCompensation}function Xat(t,e){var n=Gme(t),i=Gme(e);return n===i}function Kat(t){return M(t,"bpmn:InteractionNode")&&!M(t,"bpmn:BoundaryEvent")&&(!M(t,"bpmn:Event")||M(t,"bpmn:ThrowEvent")&&Kme(t,"bpmn:MessageEventDefinition"))}function Zat(t){return M(t,"bpmn:InteractionNode")&&!K2(t)&&(!M(t,"bpmn:Event")||M(t,"bpmn:CatchEvent")&&Kme(t,"bpmn:MessageEventDefinition"))&&!(M(t,"bpmn:BoundaryEvent")&&!xd(t,"bpmn:MessageEventDefinition"))}function Qme(t){for(var e=t;e=e.parent;){if(M(e,"bpmn:FlowElementsContainer"))return K(e);if(M(e,"bpmn:Participant"))return K(e).processRef}return null}function Jat(t,e){var n=Qme(t),i=Qme(e);return n===i}function xd(t,e){var n=K(t);return!!st(n.eventDefinitions||[],function(i){return M(i,e)})}function Kme(t,e){var n=K(t);return(n.eventDefinitions||[]).every(function(i){return M(i,e)})}function elt(t){return M(t,"bpmn:FlowNode")&&!M(t,"bpmn:EndEvent")&&!bi(t)&&!(M(t,"bpmn:IntermediateThrowEvent")&&xd(t,"bpmn:LinkEventDefinition"))&&!bj(t)&&!K2(t)}function tlt(t){return M(t,"bpmn:FlowNode")&&!M(t,"bpmn:StartEvent")&&!M(t,"bpmn:BoundaryEvent")&&!bi(t)&&!(M(t,"bpmn:IntermediateCatchEvent")&&xd(t,"bpmn:LinkEventDefinition"))&&!K2(t)}function nlt(t){return M(t,"bpmn:ReceiveTask")||M(t,"bpmn:IntermediateCatchEvent")&&(xd(t,"bpmn:MessageEventDefinition")||xd(t,"bpmn:TimerEventDefinition")||xd(t,"bpmn:ConditionalEventDefinition")||xd(t,"bpmn:SignalEventDefinition"))}function Yme(t){return t.waypoints}function rlt(t){for(var e=[];t;)t=t.parent,t&&e.push(t);return e}function gj(t,e){var n=rlt(e);return n.indexOf(t)!==-1}function ZD(t,e,n){if(pj(t)||pj(e))return null;if(!M(n,"bpmn:DataAssociation")){if(oge(t,e))return{type:"bpmn:MessageFlow"};if(sge(t,e))return{type:"bpmn:SequenceFlow"}}var i=xj(t,e);return i||(bj(t)&&K2(e)?{type:"bpmn:Association",associationDirection:"One"}:ige(t,e)?{type:"bpmn:Association"}:!1)}function X2(t,e){return Mn(t)||yj(t)?!0:M(e,"bpmn:Participant")&&!bt(e)?!1:M(t,"bpmn:Participant")?M(e,"bpmn:Process")||M(e,"bpmn:Collaboration"):He(t,["bpmn:DataInput","bpmn:DataOutput"])&&t.parent?e===t.parent:M(t,"bpmn:Lane")?M(e,"bpmn:Participant")||M(e,"bpmn:Lane"):M(t,"bpmn:BoundaryEvent")&&!ilt(t)?!1:M(t,"bpmn:FlowElement")&&!M(t,"bpmn:DataStoreReference")?M(e,"bpmn:FlowElementsContainer")?bt(e):He(e,["bpmn:Participant","bpmn:Lane"]):M(t,"bpmn:DataStoreReference")&&M(e,"bpmn:Collaboration")?ho(K(e).get("participants"),function(n){return!!n.get("processRef")}):He(t,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?He(e,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):M(t,"bpmn:MessageFlow")?M(e,"bpmn:Collaboration")||t.source.parent==e||t.target.parent==e:!1}function ilt(t){return K(t).cancelActivity&&(Zme(t)||Jme(t))}function olt(t){return!Mn(t)&&M(t,"bpmn:BoundaryEvent")}function slt(t){return M(t,"bpmn:Lane")}function alt(t){return olt(t)||M(t,"bpmn:IntermediateThrowEvent")&&Zme(t)?!0:M(t,"bpmn:IntermediateCatchEvent")&&Jme(t)}function Zme(t){var e=K(t);return e&&!(e.eventDefinitions&&e.eventDefinitions.length)}function Jme(t){return ege(t,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function ege(t,e){return e.some(function(n){return xd(t,n)})}function llt(t){return M(t,"bpmn:ReceiveTask")&&st(t.incoming,function(e){return M(e.source,"bpmn:EventBasedGateway")})}function p5(t,e,n,i){if(Array.isArray(t)||(t=[t]),t.length!==1)return!1;var a=t[0];return Mn(a)||!alt(a)||bi(e)||!M(e,"bpmn:Activity")||K2(e)||i&&!KD(i,e)||llt(e)?!1:"attach"}function tge(t,e,n){if(!e)return!1;var i={replacements:[]};return J(t,function(a){bi(e)||M(a,"bpmn:StartEvent")&&a.type!=="label"&&X2(a,e)&&(Q8(a)||i.replacements.push({oldElementId:a.id,newElementType:"bpmn:StartEvent"}),(Jfe(a)||ehe(a)||the(a))&&i.replacements.push({oldElementId:a.id,newElementType:"bpmn:StartEvent"}),ege(a,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&M(e,"bpmn:SubProcess")&&i.replacements.push({oldElementId:a.id,newElementType:"bpmn:StartEvent"})),M(e,"bpmn:Transaction")||xd(a,"bpmn:CancelEventDefinition")&&a.type!=="label"&&(M(a,"bpmn:EndEvent")&&X2(a,e)&&i.replacements.push({oldElementId:a.id,newElementType:"bpmn:EndEvent"}),M(a,"bpmn:BoundaryEvent")&&p5(a,e,null,n)&&i.replacements.push({oldElementId:a.id,newElementType:"bpmn:BoundaryEvent"}))}),i.replacements.length?i:!1}function nge(t,e){return ho(t,slt)?!1:e?t.every(function(n){return X2(n,e)}):!0}function vj(t,e,n,i){return e?Mn(t)||yj(t)?!0:Yat(n,e)||n&&gj(n,e)?!1:X2(t,e,i)||JD(t,e,i):!1}function rge(t,e){return M(t,"bpmn:SubProcess")?bt(t)&&(!e||e.width>=100&&e.height>=80):M(t,"bpmn:Lane")?!e||e.width>=130&&e.height>=60:M(t,"bpmn:Participant")?!e||e.width>=250&&e.height>=50:!!(mj(t)||yj(t))}function clt(t,e){var n=mj(t),i=mj(e);return(n||i)&&n!==i}function ige(t,e){return bj(t)&&K2(e)?!0:gj(e,t)||gj(t,e)?!1:clt(t,e)?!0:!!xj(t,e)}function oge(t,e){return Xme(t)&&!Xme(e)?!1:Kat(t)&&Zat(e)&&!Xat(t,e)}function sge(t,e){return elt(t)&&tlt(e)&&Jat(t,e)&&!(M(t,"bpmn:EventBasedGateway")&&!nlt(e))}function xj(t,e){return He(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&He(e,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:He(e,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&He(t,["bpmn:Activity","bpmn:CatchEvent"])?{type:"bpmn:DataOutputAssociation"}:!1}function JD(t,e,n){if(!e)return!1;if(Array.isArray(t)){if(t.length!==1)return!1;t=t[0]}return e.source===t||e.target===t?!1:He(e,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!Mn(e)&&M(t,"bpmn:FlowNode")&&!M(t,"bpmn:BoundaryEvent")&&X2(t,e.parent,n)}function ult(t,e){return t&&e&&t.indexOf(e)!==-1}function age(t,e){return Mn(e)?!0:!(M(e,"bpmn:Lane")&&!ult(t,e.parent))}function Xme(t){return Vg(t,"bpmn:Process")||Vg(t,"bpmn:Collaboration")}var lge={__depends__:[Yi],__init__:["bpmnRules"],bpmnRules:["type",vo]};var dlt=2e3;function eT(t,e){t.on("saveXML.start",dlt,n);function n(){var i=e.getRootElements();J(i,function(a){var c=wt(a),d,h;d=ad([a],!1),d=Ze(d,function(m){return m!==a&&!m.labelTarget}),h=Nn(d,wt),c.set("planeElement",h)})}}eT.$inject=["eventBus","canvas"];var cge={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",eT]};function Z2(t){De.call(this,t);var e=this;this.preExecute(["shape.create","connection.create"],function(n){var i=n.context,a=i.shape||i.connection,c=i.parent,d=e.getOrdering(a,c);d&&(d.parent!==void 0&&(i.parent=d.parent),i.parentIndex=d.index)}),this.preExecute(["shape.move","connection.move"],function(n){var i=n.context,a=i.shape||i.connection,c=i.newParent||a.parent,d=e.getOrdering(a,c);d&&(d.parent!==void 0&&(i.newParent=d.parent),i.newParentIndex=d.index)})}Z2.prototype.getOrdering=function(t,e){return null};ke(Z2,De);function m5(t,e,n){Z2.call(this,t);var i=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function a(h){if(h.labelTarget)return{level:10};var m=st(i,function(g){return He(h,[g.type])});return m&&m.order||{level:1}}function c(h){var m=h.order;if(m||(h.order=m=a(h)),!m)throw new Error("no order for <"+h.id+">");return m}function d(h,m,g){for(var b=m;b&&!He(b,g);)b=b.parent;if(!b)throw new Error("no parent for <"+h.id+"> in <"+(m&&m.id)+">");return b}this.getOrdering=function(h,m){if(h.labelTarget)return{parent:e.findRoot(m)||e.getRootElement(),index:-1};var g=c(h);g.containers&&(m=d(h,m,g.containers));var b=m.children.indexOf(h),E=Yl(m.children,function(_){return!h.labelTarget&&_.labelTarget?!1:g.level<c(_).level});return E!==-1&&b!==-1&&b<E&&(E-=1),{index:E,parent:m}}}m5.$inject=["eventBus","canvas","translate"];ke(m5,Z2);var uge={__depends__:[Zp],__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",m5]};var flt=250;function qf(t,e){this._eventBus=t,this._dragging=e,this._tools=[],this._active=null}qf.$inject=["eventBus","dragging"];qf.prototype.registerTool=function(t,e){var n=this._tools;if(!e)throw new Error(`A tool has to be registered with it's "events"`);n.push(t),this.bindEvents(t,e)};qf.prototype.isActive=function(t){return t&&this._active===t};qf.prototype.length=function(t){return this._tools.length};qf.prototype.setActive=function(t){var e=this._eventBus;this._active!==t&&(this._active=t,e.fire("tool-manager.update",{tool:t}))};qf.prototype.bindEvents=function(t,e){var n=this._eventBus,i=this._dragging,a=[];n.on(e.tool+".init",function(c){var d=c.context;if(!d.reactivate&&this.isActive(t)){this.setActive(null),i.cancel();return}this.setActive(t)},this),J(e,function(c){a.push(c+".ended"),a.push(c+".canceled")}),n.on(a,flt,function(c){this._active&&(hlt(c)||this.setActive(null))},this)};function hlt(t){var e=t.originalEvent&&t.originalEvent.target;return e&&Ko(e,'.group[data-group="tools"]')}var p0={__depends__:[Ro],__init__:["toolManager"],toolManager:["type",qf]};function dge(t,e){if(t==="x"){if(e>0)return"e";if(e<0)return"w"}if(t==="y"){if(e>0)return"s";if(e<0)return"n"}return null}function fge(t,e){var n=[];return J(t.concat(e),function(i){var a=i.incoming,c=i.outgoing;J(a.concat(c),function(d){var h=d.source,m=d.target;(g5(t,h)||g5(t,m)||g5(e,h)||g5(e,m))&&(g5(n,d)||n.push(d))})}),n}function g5(t,e){return t.indexOf(e)!==-1}function hge(t,e,n){var i=t.x,a=t.y,c=t.width,d=t.height,h=n.x,m=n.y;switch(e){case"n":return{x:i,y:a+m,width:c,height:d-m};case"s":return{x:i,y:a,width:c,height:d+m};case"w":return{x:i+h,y:a,width:c-h,height:d};case"e":return{x:i,y:a,width:c+h,height:d};default:throw new Error("unknown direction: "+e)}}var Ej=Math.abs,plt=Math.round,Wf={x:"width",y:"height"},gge="crosshair",m0={n:"top",w:"left",s:"bottom",e:"right"},mlt=1500,tT={n:"s",w:"e",s:"n",e:"w"},nT=20;function Zs(t,e,n,i,a,c,d){this._canvas=t,this._dragging=e,this._eventBus=n,this._modeling=i,this._rules=a,this._toolManager=c,this._mouse=d;var h=this;c.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),n.on("spaceTool.selection.end",function(m){n.once("spaceTool.selection.ended",function(){h.activateMakeSpace(m.originalEvent)})}),n.on("spaceTool.move",mlt,function(m){var g=m.context,b=g.initialized;b||(b=g.initialized=h.init(m,g)),b&&mge(m)}),n.on("spaceTool.end",function(m){var g=m.context,b=g.axis,E=g.direction,_=g.movingShapes,S=g.resizingShapes,D=g.start;if(g.initialized){mge(m);var k={x:0,y:0};k[b]=plt(m["d"+b]),h.makeSpace(_,S,k,E,D),n.once("spaceTool.ended",function(I){h.activateSelection(I.originalEvent,!0,!0)})}})}Zs.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"];Zs.prototype.activateSelection=function(t,e,n){this._dragging.init(t,"spaceTool.selection",{autoActivate:e,cursor:gge,data:{context:{reactivate:n}},trapClick:!1})};Zs.prototype.activateMakeSpace=function(t){this._dragging.init(t,"spaceTool",{autoActivate:!0,cursor:gge,data:{context:{}}})};Zs.prototype.makeSpace=function(t,e,n,i,a){return this._modeling.createSpace(t,e,n,i,a)};Zs.prototype.init=function(t,e){var n=Ej(t.dx)>Ej(t.dy)?"x":"y",i=t["d"+n],a=t[n]-i;if(Ej(i)<5)return!1;i<0&&(i*=-1),Kc(t)&&(i*=-1);var c=dge(n,i),d=this._canvas.getRootElement();!E2(t)&&t.hover&&(d=t.hover);var h=[...ad(d,!0),...d.attachers||[]],m=this.calculateAdjustments(h,n,i,a),g=this._eventBus.fire("spaceTool.getMinDimensions",{axis:n,direction:c,shapes:m.resizingShapes,start:a}),b=glt(m,n,c,a,g);return le(e,m,{axis:n,direction:c,spaceToolConstraints:b,start:a}),Lg("resize-"+(n==="x"?"ew":"ns")),!0};Zs.prototype.calculateAdjustments=function(t,e,n,i){var a=this._rules,c=[],d=[],h=[],m=[];function g(_){c.includes(_)||c.push(_);var S=_.label;S&&!c.includes(S)&&c.push(S)}function b(_){d.includes(_)||d.push(_)}J(t,function(_){if(!(!_.parent||po(_))){if(Tn(_)){m.push(_);return}var S=_[e],D=S+_[Wf[e]];if(vlt(_)&&(n>0&&Je(_)[e]>i||n<0&&Je(_)[e]<i)){h.push(_);return}if(n>0&&S>i||n<0&&D<i){g(_);return}if(S<i&&D>i&&a.allowed("shape.resize",{shape:_})){b(_);return}}}),J(c,function(_){var S=_.attachers;S&&J(S,function(D){g(D)})});var E=c.concat(d);return J(h,function(_){var S=_.host;e1(E,S)&&g(_)}),E=c.concat(d),J(m,function(_){var S=_.source,D=_.target,k=_.label;e1(E,S)&&e1(E,D)&&k&&g(k)}),{movingShapes:c,resizingShapes:d}};Zs.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateSelection(t,!!t)};Zs.prototype.isActive=function(){var t=this._dragging.context();return t?/^spaceTool/.test(t.prefix):!1};function pge(t){return{top:t.top-nT,right:t.right+nT,bottom:t.bottom+nT,left:t.left-nT}}function mge(t){var e=t.context,n=e.spaceToolConstraints;if(n){var i,a;ot(n.left)&&(i=Math.max(t.x,n.left),t.dx=t.dx+i-t.x,t.x=i),ot(n.right)&&(i=Math.min(t.x,n.right),t.dx=t.dx+i-t.x,t.x=i),ot(n.top)&&(a=Math.max(t.y,n.top),t.dy=t.dy+a-t.y,t.y=a),ot(n.bottom)&&(a=Math.min(t.y,n.bottom),t.dy=t.dy+a-t.y,t.y=a)}}function glt(t,e,n,i,a){var c=t.movingShapes,d=t.resizingShapes;if(d.length){var h={},m,g;return J(d,function(b){var E=b.attachers,_=b.children,S=Xe(b),D=Ze(_,function(pe){return!Tn(pe)&&!po(pe)&&!e1(c,pe)&&!e1(d,pe)}),k=Ze(_,function(pe){return!Tn(pe)&&!po(pe)&&e1(c,pe)}),I,R,$,F=[],L=[],V,G,re,ee;D.length&&(R=pge(Xe(En(D))),I=i-S[m0[n]]+R[m0[n]],n==="n"?h.bottom=g=ot(g)?Math.min(g,I):I:n==="w"?h.right=g=ot(g)?Math.min(g,I):I:n==="s"?h.top=m=ot(m)?Math.max(m,I):I:n==="e"&&(h.left=m=ot(m)?Math.max(m,I):I)),k.length&&($=pge(Xe(En(k))),I=i-$[m0[tT[n]]]+S[m0[tT[n]]],n==="n"?h.bottom=g=ot(g)?Math.min(g,I):I:n==="w"?h.right=g=ot(g)?Math.min(g,I):I:n==="s"?h.top=m=ot(m)?Math.max(m,I):I:n==="e"&&(h.left=m=ot(m)?Math.max(m,I):I)),E&&E.length&&(E.forEach(function(pe){e1(c,pe)?F.push(pe):L.push(pe)}),F.length&&(V=Xe(En(F.map(Je))),G=S[m0[tT[n]]]-(V[m0[tT[n]]]-i)),L.length&&(re=Xe(En(L.map(Je))),ee=re[m0[n]]-(S[m0[n]]-i)),n==="n"?(I=Math.min(G||1/0,ee||1/0),h.bottom=g=ot(g)?Math.min(g,I):I):n==="w"?(I=Math.min(G||1/0,ee||1/0),h.right=g=ot(g)?Math.min(g,I):I):n==="s"?(I=Math.max(G||-1/0,ee||-1/0),h.top=m=ot(m)?Math.max(m,I):I):n==="e"&&(I=Math.max(G||-1/0,ee||-1/0),h.left=m=ot(m)?Math.max(m,I):I));var oe=a&&a[b.id];oe&&(n==="n"?(I=i+b[Wf[e]]-oe[Wf[e]],h.bottom=g=ot(g)?Math.min(g,I):I):n==="w"?(I=i+b[Wf[e]]-oe[Wf[e]],h.right=g=ot(g)?Math.min(g,I):I):n==="s"?(I=i-b[Wf[e]]+oe[Wf[e]],h.top=m=ot(m)?Math.max(m,I):I):n==="e"&&(I=i-b[Wf[e]]+oe[Wf[e]],h.left=m=ot(m)?Math.max(m,I):I))}),h}}function e1(t,e){return t.indexOf(e)!==-1}function vlt(t){return!!t.host}var wj="djs-dragging",vge="djs-resizing",ylt=250,rT=Math.max;function iT(t,e,n,i,a){function c(d,h){J(d,function(m){a.addDragger(m,h),n.addMarker(m,wj)})}t.on("spaceTool.selection.start",function(d){var h=n.getLayer("space"),m=d.context,g={x:"M 0,-10000 L 0,10000",y:"M -10000,0 L 10000,0"},b=We("g");Ne(b,i.cls("djs-crosshair-group",["no-events"])),et(h,b);var E=We("path");Ne(E,"d",g.x),St(E).add("djs-crosshair"),et(b,E);var _=We("path");Ne(_,"d",g.y),St(_).add("djs-crosshair"),et(b,_),m.crosshairGroup=b}),t.on("spaceTool.selection.move",function(d){var h=d.context.crosshairGroup;Qr(h,d.x,d.y)}),t.on("spaceTool.selection.cleanup",function(d){var h=d.context,m=h.crosshairGroup;m&&xn(m)}),t.on("spaceTool.move",ylt,function(d){var h=d.context,m=h.line,g=h.axis,b=h.movingShapes,E=h.resizingShapes;if(h.initialized){if(!h.dragGroup){var _=n.getLayer("space");m=We("path"),Ne(m,"d","M0,0 L0,0"),St(m).add("djs-crosshair"),et(_,m),h.line=m;var S=We("g");Ne(S,i.cls("djs-drag-group",["no-events"])),et(n.getActiveLayer(),S),c(b,S);var D=h.movingConnections=e.filter(function(L){var V=!1;J(b,function(oe){J(oe.outgoing,function(pe){L===pe&&(V=!0)})});var G=!1;J(b,function(oe){J(oe.incoming,function(pe){L===pe&&(G=!0)})});var re=!1;J(E,function(oe){J(oe.outgoing,function(pe){L===pe&&(re=!0)})});var ee=!1;return J(E,function(oe){J(oe.incoming,function(pe){L===pe&&(ee=!0)})}),Tn(L)&&(V||re)&&(G||ee)});c(D,S),h.dragGroup=S}if(!h.frameGroup){var k=We("g");Ne(k,i.cls("djs-frame-group",["no-events"])),et(n.getActiveLayer(),k);var I=[];J(E,function(L){var V=a.addFrame(L,k),G=V.getBBox();I.push({element:V,initialBounds:G}),n.addMarker(L,vge)}),h.frameGroup=k,h.frames=I}var R={x:"M"+d.x+", -10000 L"+d.x+", 10000",y:"M -10000, "+d.y+" L 10000, "+d.y};Ne(m,{d:R[g]});var $={x:"y",y:"x"},F={x:d.dx,y:d.dy};F[$[h.axis]]=0,Qr(h.dragGroup,F.x,F.y),J(h.frames,function(L){var V=L.element,G=L.initialBounds,re,ee;h.direction==="e"?Ne(V,{width:rT(G.width+F.x,5)}):(re=rT(G.width-F.x,5),Ne(V,{width:re,x:G.x+G.width-re})),h.direction==="s"?Ne(V,{height:rT(G.height+F.y,5)}):(ee=rT(G.height-F.y,5),Ne(V,{height:ee,y:G.y+G.height-ee}))})}}),t.on("spaceTool.cleanup",function(d){var h=d.context,m=h.movingShapes,g=h.movingConnections,b=h.resizingShapes,E=h.line,_=h.dragGroup,S=h.frameGroup;J(m,function(D){n.removeMarker(D,wj)}),J(g,function(D){n.removeMarker(D,wj)}),_&&(xn(E),xn(_)),J(b,function(D){n.removeMarker(D,vge)}),S&&xn(S)})}iT.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];var yge={__init__:["spaceToolPreview"],__depends__:[Ro,Yi,p0,md,gd],spaceTool:["type",Zs],spaceToolPreview:["type",iT]};function J2(t){t.invoke(Zs,this)}J2.$inject=["injector"];ke(J2,Zs);J2.prototype.calculateAdjustments=function(t,e,n,i){var a=Zs.prototype.calculateAdjustments.call(this,t,e,n,i);return a.resizingShapes=a.resizingShapes.filter(function(c){return!M(c,"bpmn:TextAnnotation")}),a};var oT={__depends__:[yge],spaceTool:["type",J2]};function Sr(t,e){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=e,this._eventBus=t,this._uid=1,t.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}Sr.$inject=["eventBus","injector"];Sr.prototype.execute=function(t,e){if(!t)throw new Error("command required");this._currentExecution.trigger="execute";let n={command:t,context:e};this._pushAction(n),this._internalExecute(n),this._popAction()};Sr.prototype.canExecute=function(t,e){let n={command:t,context:e},i=this._getHandler(t),a=this._fire(t,"canExecute",n);if(a===void 0){if(!i)return!1;i.canExecute&&(a=i.canExecute(e))}return a};Sr.prototype.clear=function(t){this._stack.length=0,this._stackIdx=-1,t!==!1&&this._fire("changed",{trigger:"clear"})};Sr.prototype.undo=function(){let t=this._getUndoAction(),e;if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),e=this._getUndoAction(),!(!e||e.id!==t.id));)t=e;this._popAction()}};Sr.prototype.redo=function(){let t=this._getRedoAction(),e;if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),e=this._getRedoAction(),!(!e||e.id!==t.id));)t=e;this._popAction()}};Sr.prototype.register=function(t,e){this._setHandler(t,e)};Sr.prototype.registerHandler=function(t,e){if(!t||!e)throw new Error("command and handlerCls must be defined");let n=this._injector.instantiate(e);this.register(t,n)};Sr.prototype.canUndo=function(){return!!this._getUndoAction()};Sr.prototype.canRedo=function(){return!!this._getRedoAction()};Sr.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]};Sr.prototype._getUndoAction=function(){return this._stack[this._stackIdx]};Sr.prototype._internalUndo=function(t){let e=t.command,n=t.context,i=this._getHandler(e);this._atomicDo(()=>{this._fire(e,"revert",t),i.revert&&this._markDirty(i.revert(n)),this._revertedAction(t),this._fire(e,"reverted",t)})};Sr.prototype._fire=function(t,e,n){arguments.length<3&&(n=e,e=null);let i=e?[t+"."+e,e]:[t],a;n=this._eventBus.createEvent(n);for(let c of i)if(a=this._eventBus.fire("commandStack."+c,n),n.cancelBubble)break;return a};Sr.prototype._createId=function(){return this._uid++};Sr.prototype._atomicDo=function(t){let e=this._currentExecution;e.atomic=!0;try{t()}finally{e.atomic=!1}};Sr.prototype._internalExecute=function(t,e){let n=t.command,i=t.context,a=this._getHandler(n);if(!a)throw new Error("no command handler registered for <"+n+">");this._pushAction(t),e||(this._fire(n,"preExecute",t),a.preExecute&&a.preExecute(i),this._fire(n,"preExecuted",t)),this._atomicDo(()=>{this._fire(n,"execute",t),a.execute&&this._markDirty(a.execute(i)),this._executedAction(t,e),this._fire(n,"executed",t)}),e||(this._fire(n,"postExecute",t),a.postExecute&&a.postExecute(i),this._fire(n,"postExecuted",t)),this._popAction()};Sr.prototype._pushAction=function(t){let e=this._currentExecution,n=e.actions,i=n[0];if(e.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+t.command+")");t.id||(t.id=i&&i.id||this._createId()),n.push(t)};Sr.prototype._popAction=function(){let t=this._currentExecution,e=t.trigger,n=t.actions,i=t.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:MF("id",i.reverse())}),i.length=0,this._fire("changed",{trigger:e}),t.trigger=null)};Sr.prototype._markDirty=function(t){let e=this._currentExecution;t&&(t=Ue(t)?t:[t],e.dirty=e.dirty.concat(t))};Sr.prototype._executedAction=function(t,e){let n=++this._stackIdx;e||this._stack.splice(n,this._stack.length,t)};Sr.prototype._revertedAction=function(t){this._stackIdx--};Sr.prototype._getHandler=function(t){return this._handlerMap[t]};Sr.prototype._setHandler=function(t,e){if(!t||!e)throw new Error("command and handler required");if(this._handlerMap[t])throw new Error("overriding handler for command <"+t+">");this._handlerMap[t]=e};var bge={commandStack:["type",Sr]};var blt=new w2("tt");function xlt(t){var e=jt('<div class="djs-tooltip-container" />');return Nr(e,{position:"absolute",width:"0",height:"0"}),t.insertBefore(e,t.firstChild),e}function Elt(t,e,n){Nr(t,{left:e+"px",top:n+"px"})}function Cj(t,e){t.style.display=e===!1?"none":""}var xge="djs-tooltip",_j="."+xge;function ts(t,e){this._eventBus=t,this._canvas=e,this._ids=blt,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=xlt(e.getContainer());var n=this;Wi.bind(this._tooltipRoot,_j,"mousedown",function(i){i.stopPropagation()}),Wi.bind(this._tooltipRoot,_j,"mouseover",function(i){n.trigger("mouseover",i)}),Wi.bind(this._tooltipRoot,_j,"mouseout",function(i){n.trigger("mouseout",i)}),this._init()}ts.$inject=["eventBus","canvas"];ts.prototype.add=function(t){if(!t.position)throw new Error("must specifiy tooltip position");if(!t.html)throw new Error("must specifiy tooltip html");var e=this._ids.next();return t=le({},this._tooltipDefaults,t,{id:e}),this._addTooltip(t),t.timeout&&this.setTimeout(t),e};ts.prototype.trigger=function(t,e){var n=e.delegateTarget||e.target,i=this.get(vi(n,"data-tooltip-id"));i&&(t==="mouseover"&&i.timeout&&this.clearTimeout(i),t==="mouseout"&&i.timeout&&(i.timeout=1e3,this.setTimeout(i)))};ts.prototype.get=function(t){return typeof t!="string"&&(t=t.id),this._tooltips[t]};ts.prototype.clearTimeout=function(t){if(t=this.get(t),!!t){var e=t.removeTimer;e&&(clearTimeout(e),t.removeTimer=null)}};ts.prototype.setTimeout=function(t){if(t=this.get(t),!!t){this.clearTimeout(t);var e=this;t.removeTimer=setTimeout(function(){e.remove(t)},t.timeout)}};ts.prototype.remove=function(t){var e=this.get(t);e&&(Gs(e.html),Gs(e.htmlContainer),delete e.htmlContainer,delete this._tooltips[e.id])};ts.prototype.show=function(){Cj(this._tooltipRoot)};ts.prototype.hide=function(){Cj(this._tooltipRoot,!1)};ts.prototype._updateRoot=function(t){var e=t.scale||1,n=t.scale||1,i="matrix("+e+",0,0,"+n+","+-1*t.x*e+","+-1*t.y*n+")";this._tooltipRoot.style.transform=i,this._tooltipRoot.style["-ms-transform"]=i};ts.prototype._addTooltip=function(t){var e=t.id,n=t.html,i,a=this._tooltipRoot;n.get&&n.constructor.prototype.jquery&&(n=n.get(0)),kr(n)&&(n=jt(n)),i=jt('<div data-tooltip-id="'+e+'" class="'+xge+'">'),Nr(i,{position:"absolute"}),i.appendChild(n),t.type&&_r(i).add("djs-tooltip-"+t.type),t.className&&_r(i).add(t.className),t.htmlContainer=i,a.appendChild(i),this._tooltips[e]=t,this._updateTooltip(t)};ts.prototype._updateTooltip=function(t){var e=t.position,n=t.htmlContainer;Elt(n,e.x,e.y)};ts.prototype._updateTooltipVisibilty=function(t){J(this._tooltips,function(e){var n=e.show,i=e.htmlContainer,a=!0;n&&((n.minZoom>t.scale||n.maxZoom<t.scale)&&(a=!1),Cj(i,a))})};ts.prototype._init=function(){var t=this;function e(n){t._updateRoot(n),t._updateTooltipVisibilty(n),t.show()}this._eventBus.on("canvas.viewbox.changing",function(n){t.hide()}),this._eventBus.on("canvas.viewbox.changed",function(n){e(n.viewbox)})};var Ege={__init__:["tooltips"],tooltips:["type",ts]};function rc(t,e){if(typeof e!="function")throw new Error("removeFn iterator must be a function");if(t){for(var n;n=t[0];)e(n);return t}}var wlt=250,wge=1400;function v5(t,e,n){De.call(this,e);var i=t.get("movePreview",!1);e.on("shape.move.start",wge,function(a){var c=a.context,d=c.shapes,h=c.validatedShapes;c.shapes=_ge(d),c.validatedShapes=_ge(h)}),i&&e.on("shape.move.start",wlt,function(a){var c=a.context,d=c.shapes,h=[];J(d,function(m){J(m.labels,function(g){!g.hidden&&c.shapes.indexOf(g)===-1&&h.push(g),m.labelTarget&&h.push(m)})}),J(h,function(m){i.makeDraggable(c,m,!0)})}),this.preExecuted("elements.move",wge,function(a){var c=a.context,d=c.closure,h=d.enclosedElements,m=[];J(h,function(g){J(g.labels,function(b){h[b.id]||m.push(b)})}),d.addAll(m)}),this.preExecute(["connection.delete","shape.delete"],function(a){var c=a.context,d=c.connection||c.shape;rc(d.labels,function(h){n.removeShape(h,{nested:!0})})}),this.execute("shape.delete",function(a){var c=a.context,d=c.shape,h=d.labelTarget;h&&(c.labelTargetIndex=a2(h.labels,d),c.labelTarget=h,d.labelTarget=null)}),this.revert("shape.delete",function(a){var c=a.context,d=c.shape,h=c.labelTarget,m=c.labelTargetIndex;h&&(Dn(h.labels,d,m),d.labelTarget=h)})}ke(v5,De);v5.$inject=["injector","eventBus","modeling"];function _ge(t){return Ze(t,function(e){return t.indexOf(e.labelTarget)===-1})}var Cge={__init__:["labelSupport"],labelSupport:["type",v5]};var _lt=251,Sge=1401,Oge="attach-ok";function y5(t,e,n,i,a){De.call(this,e);var c=t.get("movePreview",!1);e.on("shape.move.start",Sge,function(d){var h=d.context,m=h.shapes,g=h.validatedShapes;h.shapes=Clt(m),h.validatedShapes=Slt(g)}),c&&e.on("shape.move.start",_lt,function(d){var h=d.context,m=h.shapes,g=Sj(m);J(g,function(b){c.makeDraggable(h,b,!0),J(b.labels,function(E){c.makeDraggable(h,E,!0)})})}),c&&e.on("shape.move.start",function(d){var h=d.context,m=h.shapes;if(m.length===1){var g=m[0],b=g.host;b&&(n.addMarker(b,Oge),e.once(["shape.move.out","shape.move.cleanup"],function(){n.removeMarker(b,Oge)}))}}),this.preExecuted("elements.move",Sge,function(d){var h=d.context,m=h.closure,g=h.shapes,b=Sj(g);J(b,function(E){m.add(E,m.topLevel[E.host.id])})}),this.postExecuted("elements.move",function(d){var h=d.context,m=h.shapes,g=h.newHost,b;g&&m.length!==1||(g?b=m:b=Ze(m,function(E){var _=E.host;return Olt(E)&&!Dlt(m,_)}),J(b,function(E){a.updateAttachment(E,g)}))}),this.postExecuted("elements.move",function(d){var h=d.context.shapes;J(h,function(m){J(m.attachers,function(g){J(g.outgoing.slice(),function(b){var E=i.allowed("connection.reconnect",{connection:b,source:b.source,target:b.target});E||a.removeConnection(b)}),J(g.incoming.slice(),function(b){var E=i.allowed("connection.reconnect",{connection:b,source:b.source,target:b.target});E||a.removeConnection(b)})})})}),this.postExecute("shape.create",function(d){var h=d.context,m=h.shape,g=h.host;g&&a.updateAttachment(m,g)}),this.postExecute("shape.replace",function(d){var h=d.context,m=h.oldShape,g=h.newShape;rc(m.attachers,function(b){var E=i.allowed("elements.move",{target:g,shapes:[b]});E==="attach"?a.updateAttachment(b,g):a.removeShape(b)}),g.attachers.length&&J(g.attachers,function(b){var E=uj(b,m,g);a.moveShape(b,E,b.parent)})}),this.postExecute("shape.resize",function(d){var h=d.context,m=h.shape,g=h.oldBounds,b=h.newBounds,E=m.attachers,_=h.hints||{};_.attachSupport!==!1&&J(E,function(S){var D=uj(S,g,b);a.moveShape(S,D,S.parent),J(S.labels,function(k){a.moveShape(k,D,k.parent)})})}),this.preExecute("shape.delete",function(d){var h=d.context.shape;rc(h.attachers,function(m){a.removeShape(m)}),h.host&&a.updateAttachment(h,null)})}ke(y5,De);y5.$inject=["injector","eventBus","canvas","rules","modeling"];function Sj(t){return Af(Nn(t,function(e){return e.attachers||[]}))}function Clt(t){var e=Sj(t);return Tde("id",t,e)}function Slt(t){var e=sl(t,"id");return Ze(t,function(n){for(;n;){if(n.host&&e[n.host.id])return!1;n=n.parent}return!0})}function Olt(t){return!!t.host}function Dlt(t,e){return t.indexOf(e)!==-1}var Dge={__depends__:[Yi],__init__:["attachSupport"],attachSupport:["type",y5]};function Oa(t){this._model=t}Oa.$inject=["moddle"];Oa.prototype._needsId=function(t){return He(t,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])};Oa.prototype._ensureId=function(t){if(t.id){this._model.ids.claim(t.id,t);return}var e;M(t,"bpmn:Activity")?e="Activity":M(t,"bpmn:Event")?e="Event":M(t,"bpmn:Gateway")?e="Gateway":He(t,["bpmn:SequenceFlow","bpmn:MessageFlow"])?e="Flow":e=(t.$type||"").replace(/^[^:]*:/g,""),e+="_",!t.id&&this._needsId(t)&&(t.id=this._model.ids.nextPrefixed(e,t))};Oa.prototype.create=function(t,e){var n=this._model.create(t,e||{});return this._ensureId(n),n};Oa.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})};Oa.prototype.createDiShape=function(t,e){return this.create("bpmndi:BPMNShape",le({bpmnElement:t,bounds:this.createDiBounds()},e))};Oa.prototype.createDiBounds=function(t){return this.create("dc:Bounds",t)};Oa.prototype.createDiWaypoints=function(t){var e=this;return Nn(t,function(n){return e.createDiWaypoint(n)})};Oa.prototype.createDiWaypoint=function(t){return this.create("dc:Point",qi(t,["x","y"]))};Oa.prototype.createDiEdge=function(t,e){return this.create("bpmndi:BPMNEdge",le({bpmnElement:t,waypoint:this.createDiWaypoints([])},e))};Oa.prototype.createDiPlane=function(t,e){return this.create("bpmndi:BPMNPlane",le({bpmnElement:t},e))};function Cs(t,e,n,i){De.call(this,t),this._bpmnFactory=e,this._translate=i;var a=this;function c(D){var k=D.context,I=k.hints||{},R;!k.cropped&&I.createElementsBehavior!==!1&&(R=k.connection,R.waypoints=n.getCroppedWaypoints(R),k.cropped=!0)}this.executed(["connection.layout","connection.create"],c),this.reverted(["connection.layout"],function(D){delete D.context.cropped});function d(D){var k=D.context;a.updateParent(k.shape||k.connection,k.oldParent)}function h(D){var k=D.context,I=k.shape||k.connection,R=k.parent||k.newParent;a.updateParent(I,R)}this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Da(d)),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Da(h));function m(D){var k=D.context,I=k.oldRoot,R=I.children;J(R,function($){M($,"bpmn:BaseElement")&&a.updateParent($)})}this.executed(["canvas.updateRoot"],m),this.reverted(["canvas.updateRoot"],m);function g(D){var k=D.context.shape;M(k,"bpmn:BaseElement")&&a.updateBounds(k)}this.executed(["shape.move","shape.create","shape.resize"],Da(function(D){D.context.shape.type!=="label"&&g(D)})),this.reverted(["shape.move","shape.create","shape.resize"],Da(function(D){D.context.shape.type!=="label"&&g(D)})),t.on("shape.changed",function(D){D.element.type==="label"&&g({context:{shape:D.element}})});function b(D){a.updateConnection(D.context)}this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],Da(b)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],Da(b));function E(D){a.updateConnectionWaypoints(D.context.connection)}this.executed(["connection.layout","connection.move","connection.updateWaypoints"],Da(E)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],Da(E)),this.executed("connection.reconnect",Da(function(D){var k=D.context,I=k.connection,R=k.oldSource,$=k.newSource,F=K(I),L=K(R),V=K($);F.conditionExpression&&!He(V,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(k.oldConditionExpression=F.conditionExpression,delete F.conditionExpression),R!==$&&L.default===F&&(k.oldDefault=L.default,delete L.default)})),this.reverted("connection.reconnect",Da(function(D){var k=D.context,I=k.connection,R=k.oldSource,$=k.newSource,F=K(I),L=K(R),V=K($);k.oldConditionExpression&&(F.conditionExpression=k.oldConditionExpression),k.oldDefault&&(L.default=k.oldDefault,delete V.default)}));function _(D){a.updateAttachment(D.context)}this.executed(["element.updateAttachment"],Da(_)),this.reverted(["element.updateAttachment"],Da(_)),this.executed("element.updateLabel",Da(S)),this.reverted("element.updateLabel",Da(S));function S(D){let{element:k}=D.context,I=xi(k),R=wt(k),$=R&&R.get("label");Jl(k)||(I&&!$?R.set("label",e.create("bpmndi:BPMNLabel")):!I&&$&&R.set("label",void 0))}}ke(Cs,De);Cs.$inject=["eventBus","bpmnFactory","connectionDocking","translate"];Cs.prototype.updateAttachment=function(t){var e=t.shape,n=e.businessObject,i=e.host;n.attachedToRef=i&&i.businessObject};Cs.prototype.updateParent=function(t,e){if(!Mn(t)&&!(M(t,"bpmn:DataStoreReference")&&t.parent&&M(t.parent,"bpmn:Collaboration"))){var n=t.parent,i=t.businessObject,a=wt(t),c=n&&n.businessObject,d=wt(n);M(t,"bpmn:FlowNode")&&this.updateFlowNodeRefs(i,c,e&&e.businessObject),M(t,"bpmn:DataOutputAssociation")&&(t.source?c=t.source.businessObject:c=null),M(t,"bpmn:DataInputAssociation")&&(t.target?c=t.target.businessObject:c=null),this.updateSemanticParent(i,c),M(t,"bpmn:DataObjectReference")&&i.dataObjectRef&&this.updateSemanticParent(i.dataObjectRef,c),this.updateDiParent(a,d)}};Cs.prototype.updateBounds=function(t){var e=wt(t),n=klt(t);if(n){var i=Ao(n,e.get("bounds"));le(n,{x:t.x+i.x,y:t.y+i.y})}var a=Mn(t)?this._getLabel(e):e,c=a.bounds;c||(c=this._bpmnFactory.createDiBounds(),a.set("bounds",c)),le(c,{x:t.x,y:t.y,width:t.width,height:t.height})};Cs.prototype.updateFlowNodeRefs=function(t,e,n){if(n!==e){var i,a;M(n,"bpmn:Lane")&&(i=n.get("flowNodeRef"),Xn(i,t)),M(e,"bpmn:Lane")&&(a=e.get("flowNodeRef"),Dn(a,t))}};Cs.prototype.updateDiConnection=function(t,e,n){var i=wt(t),a=wt(e),c=wt(n);i.sourceElement&&i.sourceElement.bpmnElement!==K(e)&&(i.sourceElement=e&&a),i.targetElement&&i.targetElement.bpmnElement!==K(n)&&(i.targetElement=n&&c)};Cs.prototype.updateDiParent=function(t,e){if(e&&!M(e,"bpmndi:BPMNPlane")&&(e=e.$parent),t.$parent!==e){var n=(e||t.$parent).get("planeElement");e?(n.push(t),t.$parent=e):(Xn(n,t),t.$parent=null)}};function Tlt(t){for(;t&&!M(t,"bpmn:Definitions");)t=t.$parent;return t}Cs.prototype.getLaneSet=function(t){var e,n;return M(t,"bpmn:Lane")?(e=t.childLaneSet,e||(e=this._bpmnFactory.create("bpmn:LaneSet"),t.childLaneSet=e,e.$parent=t),e):(M(t,"bpmn:Participant")&&(t=t.processRef),n=t.get("laneSets"),e=n[0],e||(e=this._bpmnFactory.create("bpmn:LaneSet"),e.$parent=t,n.push(e)),e)};Cs.prototype.updateSemanticParent=function(t,e,n){var i,a=this._translate;if(t.$parent!==e&&!((M(t,"bpmn:DataInput")||M(t,"bpmn:DataOutput"))&&(M(e,"bpmn:Participant")&&"processRef"in e&&(e=e.processRef),"ioSpecification"in e&&e.ioSpecification===t.$parent))){if(M(t,"bpmn:Lane"))e&&(e=this.getLaneSet(e)),i="lanes";else if(M(t,"bpmn:FlowElement")){if(e){if(M(e,"bpmn:Participant"))e=e.processRef;else if(M(e,"bpmn:Lane"))do e=e.$parent.$parent;while(M(e,"bpmn:Lane"))}i="flowElements"}else if(M(t,"bpmn:Artifact")){for(;e&&!M(e,"bpmn:Process")&&!M(e,"bpmn:SubProcess")&&!M(e,"bpmn:Collaboration");)if(M(e,"bpmn:Participant")){e=e.processRef;break}else e=e.$parent;i="artifacts"}else if(M(t,"bpmn:MessageFlow"))i="messageFlows";else if(M(t,"bpmn:Participant")){i="participants";var c=t.processRef,d;c&&(d=Tlt(t.$parent||e),t.$parent&&(Xn(d.get("rootElements"),c),c.$parent=null),e&&(Dn(d.get("rootElements"),c),c.$parent=d))}else M(t,"bpmn:DataOutputAssociation")?i="dataOutputAssociations":M(t,"bpmn:DataInputAssociation")&&(i="dataInputAssociations");if(!i)throw new Error(a("no parent for {element} in {parent}",{element:t.id,parent:e.id}));var h;if(t.$parent&&(h=t.$parent.get(i),Xn(h,t)),e?(h=e.get(i),h.push(t),t.$parent=e):t.$parent=null,n){var m=n.get(i);Xn(h,t),e&&(m||(m=[],e.set(i,m)),m.push(t))}}};Cs.prototype.updateConnectionWaypoints=function(t){var e=wt(t);e.set("waypoint",this._bpmnFactory.createDiWaypoints(t.waypoints))};Cs.prototype.updateConnection=function(t){var e=t.connection,n=K(e),i=e.source,a=K(i),c=e.target,d=K(e.target),h;if(M(n,"bpmn:DataAssociation"))M(n,"bpmn:DataInputAssociation")?(n.get("sourceRef")[0]=a,h=t.parent||t.newParent||d,this.updateSemanticParent(n,d,h)):M(n,"bpmn:DataOutputAssociation")&&(h=t.parent||t.newParent||a,this.updateSemanticParent(n,a,h),n.targetRef=d);else{var m=M(n,"bpmn:SequenceFlow");n.sourceRef!==a&&(m&&(Xn(n.sourceRef&&n.sourceRef.get("outgoing"),n),a&&a.get("outgoing")&&a.get("outgoing").push(n)),n.sourceRef=a),n.targetRef!==d&&(m&&(Xn(n.targetRef&&n.targetRef.get("incoming"),n),d&&d.get("incoming")&&d.get("incoming").push(n)),n.targetRef=d)}this.updateConnectionWaypoints(e),this.updateDiConnection(e,i,c)};Cs.prototype._getLabel=function(t){return t.label||(t.label=this._bpmnFactory.createDiLabel()),t.label};function Da(t){return function(e){var n=e.context,i=n.shape||n.connection||n.element;M(i,"bpmn:BaseElement")&&t(e)}}function klt(t){if(M(t,"bpmn:Activity")){var e=wt(t);if(e){var n=e.get("label");if(n)return n.get("bounds")}}}function Ed(t,e,n){Zl.call(this),this._bpmnFactory=t,this._moddle=e,this._translate=n}ke(Ed,Zl);Ed.$inject=["bpmnFactory","moddle","translate"];Ed.prototype._baseCreate=Zl.prototype.create;Ed.prototype.create=function(t,e){if(t==="label"){var n=e.di||this._bpmnFactory.createDiLabel();return this._baseCreate(t,le({type:"label",di:n},g2,e))}return this.createElement(t,e)};Ed.prototype.createElement=function(t,e){var n,i=this._translate;e=le({},e||{});var a=e.businessObject,c=e.di;if(!a){if(!e.type)throw new Error(i("no shape type specified"));a=this._bpmnFactory.create(e.type),W8(a)}if(!Ilt(c)){var d=le({},c||{},{id:a.id+"_di"});t==="root"?c=this._bpmnFactory.createDiPlane(a,d):t==="connection"?c=this._bpmnFactory.createDiEdge(a,d):c=this._bpmnFactory.createDiShape(a,d)}M(a,"bpmn:Group")&&(e=le({isFrame:!0},e)),e=Plt(a,e,["processRef","isInterrupting","associationDirection","isForCompensation"]),e.isExpanded&&(e=Tge(c,e,"isExpanded")),M(a,"bpmn:SubProcess")&&(e.collapsed=!bt(a,c)),M(a,"bpmn:ExclusiveGateway")&&(c.isMarkerVisible=!0),In(e.triggeredByEvent)&&(a.triggeredByEvent=e.triggeredByEvent,delete e.triggeredByEvent),In(e.cancelActivity)&&(a.cancelActivity=e.cancelActivity,delete e.cancelActivity);var h,m;return e.eventDefinitionType&&(h=a.get("eventDefinitions")||[],m=this._bpmnFactory.create(e.eventDefinitionType,e.eventDefinitionAttrs),e.eventDefinitionType==="bpmn:ConditionalEventDefinition"&&(m.condition=this._bpmnFactory.create("bpmn:FormalExpression")),h.push(m),m.$parent=a,a.eventDefinitions=h,delete e.eventDefinitionType),n=this.getDefaultSize(a,c),e=le({id:a.id},n,e,{businessObject:a,di:c}),this._baseCreate(t,e)};Ed.prototype.getDefaultSize=function(t,e){var n=K(t);return e=e||wt(t),M(n,"bpmn:SubProcess")?bt(n,e)?{width:350,height:200}:{width:100,height:80}:M(n,"bpmn:Task")?{width:100,height:80}:M(n,"bpmn:Gateway")?{width:50,height:50}:M(n,"bpmn:Event")?{width:36,height:36}:M(n,"bpmn:Participant")?bt(n,e)?{width:600,height:250}:{width:400,height:60}:M(n,"bpmn:Lane")?{width:400,height:100}:M(n,"bpmn:DataObjectReference")?{width:36,height:50}:M(n,"bpmn:DataStoreReference")?{width:50,height:50}:M(n,"bpmn:TextAnnotation")?{width:100,height:30}:M(n,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}};Ed.prototype.createParticipantShape=function(t){return Un(t)||(t={isExpanded:t}),t=le({type:"bpmn:Participant"},t||{}),t.isExpanded!==!1&&(t.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(t)};function Plt(t,e,n){return J(n,function(i){e=Tge(t,e,i)}),e}function Tge(t,e,n){return e[n]===void 0?e:(t[n]=e[n],xs(e,[n]))}function Ilt(t){return He(t,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])}function eb(t,e){this._modeling=t,this._canvas=e}eb.$inject=["modeling","canvas"];eb.prototype.preExecute=function(t){var e=this._modeling,n=t.elements,i=t.alignment;J(n,function(a){var c={x:0,y:0};In(i.left)?c.x=i.left-a.x:In(i.right)?c.x=i.right-a.width-a.x:In(i.center)?c.x=i.center-Math.round(a.width/2)-a.x:In(i.top)?c.y=i.top-a.y:In(i.bottom)?c.y=i.bottom-a.height-a.y:In(i.middle)&&(c.y=i.middle-Math.round(a.height/2)-a.y),e.moveElements([a],c,a.parent)})};eb.prototype.postExecute=function(t){};function tb(t){this._modeling=t}tb.$inject=["modeling"];tb.prototype.preExecute=function(t){var e=t.source;if(!e)throw new Error("source required");var n=t.target||e.parent,i=t.shape,a=t.hints||{};i=t.shape=this._modeling.createShape(i,t.position,n,{attach:a.attach}),t.shape=i};tb.prototype.postExecute=function(t){var e=t.hints||{};Mlt(t.source,t.shape)||(e.connectionTarget===t.source?this._modeling.connect(t.shape,t.source,t.connection):this._modeling.connect(t.source,t.shape,t.connection))};function Mlt(t,e){return ho(t.outgoing,function(n){return n.target===e})}function nb(t,e){this._canvas=t,this._layouter=e}nb.$inject=["canvas","layouter"];nb.prototype.execute=function(t){var e=t.connection,n=t.source,i=t.target,a=t.parent,c=t.parentIndex,d=t.hints;if(!n||!i)throw new Error("source and target required");if(!a)throw new Error("parent required");return e.source=n,e.target=i,e.waypoints||(e.waypoints=this._layouter.layoutConnection(e,d)),this._canvas.addConnection(e,a,c),e};nb.prototype.revert=function(t){var e=t.connection;return this._canvas.removeConnection(e),e.source=null,e.target=null,e};var sT=Math.round;function b5(t){this._modeling=t}b5.$inject=["modeling"];b5.prototype.preExecute=function(t){var e=t.elements,n=t.parent,i=t.parentIndex,a=t.position,c=t.hints,d=this._modeling;J(e,function(E){ot(E.x)||(E.x=0),ot(E.y)||(E.y=0)});var h=Ze(e,function(E){return!E.hidden}),m=En(h);J(e,function(E){Tn(E)&&(E.waypoints=Nn(E.waypoints,function(_){return{x:sT(_.x-m.x-m.width/2+a.x),y:sT(_.y-m.y-m.height/2+a.y)}})),le(E,{x:sT(E.x-m.x-m.width/2+a.x),y:sT(E.y-m.y-m.height/2+a.y)})});var g=Vp(e),b={};J(e,function(E){if(Tn(E)){b[E.id]=ot(i)?d.createConnection(b[E.source.id],b[E.target.id],i,E,E.parent||n,c):d.createConnection(b[E.source.id],b[E.target.id],E,E.parent||n,c);return}var _=le({},c);g.indexOf(E)===-1&&(_.autoResize=!1),po(E)&&(_=xs(_,["attach"])),b[E.id]=ot(i)?d.createShape(E,qi(E,["x","y","width","height"]),E.parent||n,i,_):d.createShape(E,qi(E,["x","y","width","height"]),E.parent||n,_)}),t.elements=r2(b)};var kge=Math.round;function ru(t){this._canvas=t}ru.$inject=["canvas"];ru.prototype.execute=function(t){var e=t.shape,n=t.position,i=t.parent,a=t.parentIndex;if(!i)throw new Error("parent required");if(!n)throw new Error("position required");return n.width!==void 0?le(e,n):le(e,{x:n.x-kge(e.width/2),y:n.y-kge(e.height/2)}),this._canvas.addShape(e,i,a),e};ru.prototype.revert=function(t){var e=t.shape;return this._canvas.removeShape(e),e};function t1(t){ru.call(this,t)}ke(t1,ru);t1.$inject=["canvas"];var Alt=ru.prototype.execute;t1.prototype.execute=function(t){var e=t.shape;return Llt(e),e.labelTarget=t.labelTarget,Alt.call(this,t)};var Rlt=ru.prototype.revert;t1.prototype.revert=function(t){return t.shape.labelTarget=null,Rlt.call(this,t)};function Llt(t){["width","height"].forEach(function(e){typeof t[e]>"u"&&(t[e]=0)})}function n1(t,e){this._canvas=t,this._modeling=e}n1.$inject=["canvas","modeling"];n1.prototype.preExecute=function(t){var e=this._modeling,n=t.connection;rc(n.incoming,function(i){e.removeConnection(i,{nested:!0})}),rc(n.outgoing,function(i){e.removeConnection(i,{nested:!0})})};n1.prototype.execute=function(t){var e=t.connection,n=e.parent;return t.parent=n,t.parentIndex=a2(n.children,e),t.source=e.source,t.target=e.target,this._canvas.removeConnection(e),e.source=null,e.target=null,e};n1.prototype.revert=function(t){var e=t.connection,n=t.parent,i=t.parentIndex;return e.source=t.source,e.target=t.target,Dn(n.children,e,i),this._canvas.addConnection(e,n),e};function x5(t,e){this._modeling=t,this._elementRegistry=e}x5.$inject=["modeling","elementRegistry"];x5.prototype.postExecute=function(t){var e=this._modeling,n=this._elementRegistry,i=t.elements;J(i,function(a){n.get(a.id)&&(a.waypoints?e.removeConnection(a):e.removeShape(a))})};function r1(t,e){this._canvas=t,this._modeling=e}r1.$inject=["canvas","modeling"];r1.prototype.preExecute=function(t){var e=this._modeling,n=t.shape;rc(n.incoming,function(i){e.removeConnection(i,{nested:!0})}),rc(n.outgoing,function(i){e.removeConnection(i,{nested:!0})}),rc(n.children,function(i){Tn(i)?e.removeConnection(i,{nested:!0}):e.removeShape(i,{nested:!0})})};r1.prototype.execute=function(t){var e=this._canvas,n=t.shape,i=n.parent;return t.oldParent=i,t.oldParentIndex=a2(i.children,n),e.removeShape(n),n};r1.prototype.revert=function(t){var e=this._canvas,n=t.shape,i=t.oldParent,a=t.oldParentIndex;return Dn(i.children,n,a),e.addShape(n,i),n};function rb(t){this._modeling=t}rb.$inject=["modeling"];var Pge={x:"y",y:"x"};rb.prototype.preExecute=function(t){var e=this._modeling,n=t.groups,i=t.axis,a=t.dimension;function c(I,R){I.range.min=Math.min(R[i],I.range.min),I.range.max=Math.max(R[i]+R[a],I.range.max)}function d(I){return I[i]+I[a]/2}function h(I){return I.length-1}function m(I){return I.max-I.min}function g(I,R){var $={y:0};$[i]=I-d(R),$[i]&&($[Pge[i]]=0,e.moveElements([R],$,R.parent))}var b=n[0],E=h(n),_=n[E],S,D,k=0;J(n,function(I,R){var $,F,L;if(I.elements.length<2){R&&R!==n.length-1&&(c(I,I.elements[0]),k+=m(I.range));return}$=fr(I.elements,i),F=$[0],R===E&&(F=$[h($)]),L=d(F),I.range=null,J($,function(V){if(g(L,V),I.range===null){I.range={min:V[i],max:V[i]+V[a]};return}c(I,V)}),R&&R!==n.length-1&&(k+=m(I.range))}),D=Math.abs(_.range.min-b.range.max),S=Math.round((D-k)/(n.length-1)),!(S<n.length-1)&&J(n,function(I,R){var $={},F;I===b||I===_||(F=n[R-1],I.range.max=0,J(I.elements,function(L,V){$[Pge[i]]=0,$[i]=F.range.max-L[i]+S,I.range.min!==L[i]&&($[i]+=L[i]-I.range.min),$[i]&&e.moveElements([L],$,L.parent),I.range.max=Math.max(L[i]+L[a],V?I.range.max:0)}))})};rb.prototype.postExecute=function(t){};function ib(t,e){this._layouter=t,this._canvas=e}ib.$inject=["layouter","canvas"];ib.prototype.execute=function(t){var e=t.connection,n=e.waypoints;return le(t,{oldWaypoints:n}),e.waypoints=this._layouter.layoutConnection(e,t.hints),e};ib.prototype.revert=function(t){var e=t.connection;return e.waypoints=t.oldWaypoints,e};function E5(){}E5.prototype.execute=function(t){var e=t.connection,n=t.delta,i=t.newParent||e.parent,a=t.newParentIndex,c=e.parent;return t.oldParent=c,t.oldParentIndex=Xn(c.children,e),Dn(i.children,e,a),e.parent=i,J(e.waypoints,function(d){d.x+=n.x,d.y+=n.y,d.original&&(d.original.x+=n.x,d.original.y+=n.y)}),e};E5.prototype.revert=function(t){var e=t.connection,n=e.parent,i=t.oldParent,a=t.oldParentIndex,c=t.delta;return Xn(n.children,e),Dn(i.children,e,a),e.parent=i,J(e.waypoints,function(d){d.x-=c.x,d.y-=c.y,d.original&&(d.original.x-=c.x,d.original.y-=c.y)}),e};function w5(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}w5.prototype.add=function(t,e){return this.addAll([t],e)};w5.prototype.addAll=function(t,e){var n=qde(t,!!e,this);return le(this,n),this};function g0(t){this._modeling=t}g0.prototype.moveRecursive=function(t,e,n){return t?this.moveClosure(this.getClosure(t),e,n):[]};g0.prototype.moveClosure=function(t,e,n,i,a){var c=this._modeling,d=t.allShapes,h=t.allConnections,m=t.enclosedConnections,g=t.topLevel,b=!1;a&&a.parent===n&&(b=!0),J(d,function(E){c.moveShape(E,e,g[E.id]&&!b&&n,{recurse:!1,layout:!1})}),J(h,function(E){var _=!!d[E.source.id],S=!!d[E.target.id];m[E.id]&&_&&S?c.moveConnection(E,e,g[E.id]&&!b&&n):c.layoutConnection(E,{connectionStart:_&&q2(E,E.source,e),connectionEnd:S&&W2(E,E.target,e)})})};g0.prototype.getClosure=function(t){return new w5().addAll(t,!0)};function ob(t){this._helper=new g0(t)}ob.$inject=["modeling"];ob.prototype.preExecute=function(t){t.closure=this._helper.getClosure(t.shapes)};ob.prototype.postExecute=function(t){var e=t.hints,n;e&&e.primaryShape&&(n=e.primaryShape,e.oldParent=n.parent),this._helper.moveClosure(t.closure,t.delta,t.newParent,t.newHost,n)};function Gf(t){this._modeling=t,this._helper=new g0(t)}Gf.$inject=["modeling"];Gf.prototype.execute=function(t){var e=t.shape,n=t.delta,i=t.newParent||e.parent,a=t.newParentIndex,c=e.parent;return t.oldBounds=qi(e,["x","y","width","height"]),t.oldParent=c,t.oldParentIndex=Xn(c.children,e),Dn(i.children,e,a),le(e,{parent:i,x:e.x+n.x,y:e.y+n.y}),e};Gf.prototype.postExecute=function(t){var e=t.shape,n=t.delta,i=t.hints,a=this._modeling;i.layout!==!1&&(J(e.incoming,function(c){a.layoutConnection(c,{connectionEnd:W2(c,e,n)})}),J(e.outgoing,function(c){a.layoutConnection(c,{connectionStart:q2(c,e,n)})})),i.recurse!==!1&&this.moveChildren(t)};Gf.prototype.revert=function(t){var e=t.shape,n=t.oldParent,i=t.oldParentIndex,a=t.delta;return Dn(n.children,e,i),le(e,{parent:n,x:e.x-a.x,y:e.y-a.y}),e};Gf.prototype.moveChildren=function(t){var e=t.delta,n=t.shape;this._helper.moveRecursive(n.children,e,null)};Gf.prototype.getNewParent=function(t){return t.newParent||t.shape.parent};function i1(t){this._modeling=t}i1.$inject=["modeling"];i1.prototype.execute=function(t){var e=t.newSource,n=t.newTarget,i=t.connection,a=t.dockingOrPoints;if(!e&&!n)throw new Error("newSource or newTarget required");return Ue(a)&&(t.oldWaypoints=i.waypoints,i.waypoints=a),e&&(t.oldSource=i.source,i.source=e),n&&(t.oldTarget=i.target,i.target=n),i};i1.prototype.postExecute=function(t){var e=t.connection,n=t.newSource,i=t.newTarget,a=t.dockingOrPoints,c=t.hints||{},d={};c.connectionStart&&(d.connectionStart=c.connectionStart),c.connectionEnd&&(d.connectionEnd=c.connectionEnd),c.layoutConnection!==!1&&(n&&(!i||c.docking==="source")&&(d.connectionStart=d.connectionStart||Ige(Ue(a)?a[0]:a)),i&&(!n||c.docking==="target")&&(d.connectionEnd=d.connectionEnd||Ige(Ue(a)?a[a.length-1]:a)),c.newWaypoints&&(d.waypoints=c.newWaypoints),this._modeling.layoutConnection(e,d))};i1.prototype.revert=function(t){var e=t.oldSource,n=t.oldTarget,i=t.oldWaypoints,a=t.connection;return e&&(a.source=e),n&&(a.target=n),i&&(a.waypoints=i),a};function Ige(t){return t.original||t}function iu(t,e){this._modeling=t,this._rules=e}iu.$inject=["modeling","rules"];iu.prototype.preExecute=function(t){var e=this,n=this._modeling,i=this._rules,a=t.oldShape,c=t.newData,d=t.hints||{},h;function m(D,k,I){return i.allowed("connection.reconnect",{connection:I,source:D,target:k})}var g={x:c.x,y:c.y},b={x:a.x,y:a.y,width:a.width,height:a.height};h=t.newShape=t.newShape||e.createShape(c,g,a.parent,d),a.host&&n.updateAttachment(h,a.host);var E;d.moveChildren!==!1&&(E=a.children.slice(),n.moveElements(E,{x:0,y:0},h,d));var _=a.incoming.slice(),S=a.outgoing.slice();J(_,function(D){var k=D.source,I=m(k,h,D);I&&e.reconnectEnd(D,h,f0(D,h,b),d)}),J(S,function(D){var k=D.target,I=m(h,k,D);I&&e.reconnectStart(D,h,d0(D,h,b),d)})};iu.prototype.postExecute=function(t){var e=t.oldShape;this._modeling.removeShape(e)};iu.prototype.execute=function(t){};iu.prototype.revert=function(t){};iu.prototype.createShape=function(t,e,n,i){return this._modeling.createShape(t,e,n,i)};iu.prototype.reconnectStart=function(t,e,n,i){this._modeling.reconnectStart(t,e,n,i)};iu.prototype.reconnectEnd=function(t,e,n,i){this._modeling.reconnectEnd(t,e,n,i)};function o1(t){this._modeling=t}o1.$inject=["modeling"];o1.prototype.execute=function(t){var e=t.shape,n=t.newBounds,i=t.minBounds;if(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(i&&(n.width<i.width||n.height<i.height))throw new Error("width and height cannot be less than minimum height and width");if(!i&&n.width<10||n.height<10)throw new Error("width and height cannot be less than 10px");return t.oldBounds={width:e.width,height:e.height,x:e.x,y:e.y},le(e,{width:n.width,height:n.height,x:n.x,y:n.y}),e};o1.prototype.postExecute=function(t){var e=this._modeling,n=t.shape,i=t.oldBounds,a=t.hints||{};a.layout!==!1&&(J(n.incoming,function(c){e.layoutConnection(c,{connectionEnd:f0(c,n,i)})}),J(n.outgoing,function(c){e.layoutConnection(c,{connectionStart:d0(c,n,i)})}))};o1.prototype.revert=function(t){var e=t.shape,n=t.oldBounds;return le(e,{width:n.width,height:n.height,x:n.x,y:n.y}),e};function wd(t){this._modeling=t}wd.$inject=["modeling"];wd.prototype.preExecute=function(t){var e=t.delta,n=t.direction,i=t.movingShapes,a=t.resizingShapes,c=t.start,d={};this.moveShapes(i,e),J(a,function(h){d[h.id]=Nlt(h)}),this.resizeShapes(a,e,n),this.updateConnectionWaypoints(fge(i,a),e,n,c,i,a,d)};wd.prototype.execute=function(){};wd.prototype.revert=function(){};wd.prototype.moveShapes=function(t,e){var n=this;J(t,function(i){n._modeling.moveShape(i,e,null,{autoResize:!1,layout:!1,recurse:!1})})};wd.prototype.resizeShapes=function(t,e,n){var i=this;J(t,function(a){var c=hge(a,n,e);i._modeling.resizeShape(a,c,null,{attachSupport:!1,autoResize:!1,layout:!1})})};wd.prototype.updateConnectionWaypoints=function(t,e,n,i,a,c,d){var h=this,m=a.concat(c);J(t,function(g){var b=g.source,E=g.target,_=$lt(g),S=Rge(n),D={};v0(m,b)&&v0(m,E)?(_=Nn(_,function(k){return Age(k,i,n)&&(k[S]=k[S]+e[S]),k.original&&Age(k.original,i,n)&&(k.original[S]=k.original[S]+e[S]),k}),h._modeling.updateWaypoints(g,_,{labelBehavior:!1})):(v0(m,b)||v0(m,E))&&(v0(a,b)?D.connectionStart=q2(g,b,e):v0(a,E)?D.connectionEnd=W2(g,E,e):v0(c,b)?D.connectionStart=d0(g,b,d[b.id]):v0(c,E)&&(D.connectionEnd=f0(g,E,d[E.id])),h._modeling.layoutConnection(g,D))})};function Mge(t){return le({},t)}function $lt(t){return Nn(t.waypoints,function(e){return e=Mge(e),e.original&&(e.original=Mge(e.original)),e})}function Rge(t){switch(t){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function Age(t,e,n){var i=Rge(n);if(/e|s/.test(n))return t[i]>e;if(/n|w/.test(n))return t[i]<e}function v0(t,e){return t.indexOf(e)!==-1}function Nlt(t){return{x:t.x,y:t.y,height:t.height,width:t.width}}function sb(t){this._modeling=t}sb.$inject=["modeling"];sb.prototype.execute=function(t){var e=t.shape,n=e.children;t.oldChildrenVisibility=Lge(n),e.collapsed=!e.collapsed;var i=$ge(n,e.collapsed);return[e].concat(i)};sb.prototype.revert=function(t){var e=t.shape,n=t.oldChildrenVisibility,i=e.children,a=Nge(i,n);return e.collapsed=!e.collapsed,[e].concat(a)};function Lge(t){var e={};return J(t,function(n){e[n.id]=n.hidden,n.children&&(e=le({},e,Lge(n.children)))}),e}function $ge(t,e){var n=[];return J(t,function(i){i.hidden=e,n=n.concat(i),i.children&&(n=n.concat($ge(i.children,i.collapsed||e)))}),n}function Nge(t,e){var n=[];return J(t,function(i){i.hidden=e[i.id],n=n.concat(i),i.children&&(n=n.concat(Nge(i.children,e)))}),n}function ab(t){this._modeling=t}ab.$inject=["modeling"];ab.prototype.execute=function(t){var e=t.shape,n=t.newHost,i=e.host;return t.oldHost=i,t.attacherIdx=Fge(i,e),Bge(n,e),e.host=n,e};ab.prototype.revert=function(t){var e=t.shape,n=t.newHost,i=t.oldHost,a=t.attacherIdx;return e.host=i,Fge(n,e),Bge(i,e,a),e};function Fge(t,e){return Xn(t&&t.attachers,e)}function Bge(t,e,n){if(t){var i=t.attachers;i||(t.attachers=i=[]),Dn(i,e,n)}}function _5(){}_5.prototype.execute=function(t){var e=t.connection,n=t.newWaypoints;return t.oldWaypoints=e.waypoints,e.waypoints=n,e};_5.prototype.revert=function(t){var e=t.connection,n=t.oldWaypoints;return e.waypoints=n,e};function qn(t,e,n){this._eventBus=t,this._elementFactory=e,this._commandStack=n;var i=this;t.on("diagram.init",function(){i.registerHandlers(n)})}qn.$inject=["eventBus","elementFactory","commandStack"];qn.prototype.getHandlers=function(){return{"shape.append":tb,"shape.create":ru,"shape.delete":r1,"shape.move":Gf,"shape.resize":o1,"shape.replace":iu,"shape.toggleCollapse":sb,spaceTool:wd,"label.create":t1,"connection.create":nb,"connection.delete":n1,"connection.move":E5,"connection.layout":ib,"connection.updateWaypoints":_5,"connection.reconnect":i1,"elements.create":b5,"elements.move":ob,"elements.delete":x5,"elements.distribute":rb,"elements.align":eb,"element.updateAttachment":ab}};qn.prototype.registerHandlers=function(t){J(this.getHandlers(),function(e,n){t.registerHandler(n,e)})};qn.prototype.moveShape=function(t,e,n,i,a){typeof i=="object"&&(a=i,i=null);var c={shape:t,delta:e,newParent:n,newParentIndex:i,hints:a||{}};this._commandStack.execute("shape.move",c)};qn.prototype.updateAttachment=function(t,e){var n={shape:t,newHost:e};this._commandStack.execute("element.updateAttachment",n)};qn.prototype.moveElements=function(t,e,n,i){i=i||{};var a=i.attach,c=n,d;a===!0?(d=n,c=n.parent):a===!1&&(d=null);var h={shapes:t,delta:e,newParent:c,newHost:d,hints:i};this._commandStack.execute("elements.move",h)};qn.prototype.moveConnection=function(t,e,n,i,a){typeof i=="object"&&(a=i,i=void 0);var c={connection:t,delta:e,newParent:n,newParentIndex:i,hints:a||{}};this._commandStack.execute("connection.move",c)};qn.prototype.layoutConnection=function(t,e){var n={connection:t,hints:e||{}};this._commandStack.execute("connection.layout",n)};qn.prototype.createConnection=function(t,e,n,i,a,c){typeof n=="object"&&(c=a,a=i,i=n,n=void 0),i=this._create("connection",i);var d={source:t,target:e,parent:a,parentIndex:n,connection:i,hints:c};return this._commandStack.execute("connection.create",d),d.connection};qn.prototype.createShape=function(t,e,n,i,a){typeof i!="number"&&(a=i,i=void 0),a=a||{};var c=a.attach,d,h;t=this._create("shape",t),c?(d=n.parent,h=n):d=n;var m={position:e,shape:t,parent:d,parentIndex:i,host:h,hints:a};return this._commandStack.execute("shape.create",m),m.shape};qn.prototype.createElements=function(t,e,n,i,a){Ue(t)||(t=[t]),typeof i!="number"&&(a=i,i=void 0),a=a||{};var c={position:e,elements:t,parent:n,parentIndex:i,hints:a};return this._commandStack.execute("elements.create",c),c.elements};qn.prototype.createLabel=function(t,e,n,i){n=this._create("label",n);var a={labelTarget:t,position:e,parent:i||t.parent,shape:n};return this._commandStack.execute("label.create",a),a.shape};qn.prototype.appendShape=function(t,e,n,i,a){a=a||{},e=this._create("shape",e);var c={source:t,position:n,target:i,shape:e,connection:a.connection,connectionParent:a.connectionParent,hints:a};return this._commandStack.execute("shape.append",c),c.shape};qn.prototype.removeElements=function(t){var e={elements:t};this._commandStack.execute("elements.delete",e)};qn.prototype.distributeElements=function(t,e,n){var i={groups:t,axis:e,dimension:n};this._commandStack.execute("elements.distribute",i)};qn.prototype.removeShape=function(t,e){var n={shape:t,hints:e||{}};this._commandStack.execute("shape.delete",n)};qn.prototype.removeConnection=function(t,e){var n={connection:t,hints:e||{}};this._commandStack.execute("connection.delete",n)};qn.prototype.replaceShape=function(t,e,n){var i={oldShape:t,newData:e,hints:n||{}};return this._commandStack.execute("shape.replace",i),i.newShape};qn.prototype.alignElements=function(t,e){var n={elements:t,alignment:e};this._commandStack.execute("elements.align",n)};qn.prototype.resizeShape=function(t,e,n,i){var a={shape:t,newBounds:e,minBounds:n,hints:i};this._commandStack.execute("shape.resize",a)};qn.prototype.createSpace=function(t,e,n,i,a){var c={delta:n,direction:i,movingShapes:t,resizingShapes:e,start:a};this._commandStack.execute("spaceTool",c)};qn.prototype.updateWaypoints=function(t,e,n){var i={connection:t,newWaypoints:e,hints:n||{}};this._commandStack.execute("connection.updateWaypoints",i)};qn.prototype.reconnect=function(t,e,n,i,a){var c={connection:t,newSource:e,newTarget:n,dockingOrPoints:i,hints:a||{}};this._commandStack.execute("connection.reconnect",c)};qn.prototype.reconnectStart=function(t,e,n,i){i||(i={}),this.reconnect(t,e,t.target,n,le(i,{docking:"source"}))};qn.prototype.reconnectEnd=function(t,e,n,i){i||(i={}),this.reconnect(t,t.source,e,n,le(i,{docking:"target"}))};qn.prototype.connect=function(t,e,n,i){return this.createConnection(t,e,n||{},t.parent,i)};qn.prototype._create=function(t,e){return Sfe(e)?e:this._elementFactory.create(t,e)};qn.prototype.toggleCollapse=function(t,e){var n={shape:t,hints:e||{}};this._commandStack.execute("shape.toggleCollapse",n)};function s1(t){this._elementRegistry=t}s1.$inject=["elementRegistry"];s1.prototype.execute=function(t){var e=t.element,n=t.moddleElement,i=t.properties;if(!n)throw new Error("<moddleElement> required");var a=t.changed||this._getVisualReferences(n).concat(e),c=t.oldProperties||Flt(n,Rf(i));return jge(n,i),t.oldProperties=c,t.changed=a,a};s1.prototype.revert=function(t){var e=t.oldProperties,n=t.moddleElement,i=t.changed;return jge(n,e),i};s1.prototype._getVisualReferences=function(t){var e=this._elementRegistry;return M(t,"bpmn:DataObject")?Blt(t,e):[]};function Flt(t,e){return dr(e,function(n,i){return n[i]=t.get(i),n},{})}function jge(t,e){J(e,function(n,i){t.set(i,n)})}function Blt(t,e){return e.filter(function(n){return M(n,"bpmn:DataObjectReference")&&K(n).dataObjectRef===t})}var C5="default",Qf="id",Vge="di",jlt={width:0,height:0};function a1(t,e,n,i,a){this._elementRegistry=t,this._moddle=e,this._translate=n,this._modeling=i,this._textRenderer=a}a1.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"];a1.prototype.execute=function(t){var e=t.element,n=[e],i=this._translate;if(!e)throw new Error(i("element required"));var a=this._elementRegistry,c=this._moddle.ids,d=e.businessObject,h=qlt(t.properties),m=t.oldProperties||Vlt(e,h);return zge(h,d)&&(c.unclaim(d[Qf]),a.updateId(e,h[Qf]),c.claim(h[Qf],d)),C5 in h&&(h[C5]&&n.push(a.get(h[C5].id)),d[C5]&&n.push(a.get(d[C5].id))),Hge(e,h),t.oldProperties=m,t.changed=n,n};a1.prototype.postExecute=function(t){var e=t.element,n=e.label,i=n&&K(n).name;if(i){var a=this._textRenderer.getExternalLabelBounds(n,i);this._modeling.resizeShape(n,a,jlt)}};a1.prototype.revert=function(t){var e=t.element,n=t.properties,i=t.oldProperties,a=e.businessObject,c=this._elementRegistry,d=this._moddle.ids;return Hge(e,i),zge(n,a)&&(d.unclaim(n[Qf]),c.updateId(e,i[Qf]),d.claim(i[Qf],a)),t.changed};function zge(t,e){return Qf in t&&t[Qf]!==e[Qf]}function Vlt(t,e){var n=Rf(e),i=t.businessObject,a=wt(t);return dr(n,function(c,d){return d!==Vge?c[d]=i.get(d):c[d]=zlt(a,Rf(e.di)),c},{})}function zlt(t,e){return dr(e,function(n,i){return n[i]=t&&t.get(i),n},{})}function Hge(t,e){var n=t.businessObject,i=wt(t);J(e,function(a,c){c!==Vge?n.set(c,a):i&&Hlt(i,a)})}function Hlt(t,e){J(e,function(n,i){t.set(i,n)})}var Ult=["default"];function qlt(t){var e=le({},t);return Ult.forEach(function(n){n in t&&(e[n]=K(e[n]))}),e}function lb(t,e){this._canvas=t,this._modeling=e}lb.$inject=["canvas","modeling"];lb.prototype.execute=function(t){var e=this._canvas,n=t.newRoot,i=n.businessObject,a=e.getRootElement(),c=a.businessObject,d=c.$parent,h=wt(a);return e.setRootElement(n),e.removeRootElement(a),Dn(d.rootElements,i),i.$parent=d,Xn(d.rootElements,c),c.$parent=null,a.di=null,h.bpmnElement=i,n.di=h,t.oldRoot=a,[]};lb.prototype.revert=function(t){var e=this._canvas,n=t.newRoot,i=n.businessObject,a=t.oldRoot,c=a.businessObject,d=i.$parent,h=wt(n);return e.setRootElement(a),e.removeRootElement(n),Xn(d.rootElements,i),i.$parent=null,Dn(d.rootElements,c),c.$parent=d,n.di=null,h.bpmnElement=c,a.di=h,[]};function S5(t,e){this._modeling=t,this._spaceTool=e}S5.$inject=["modeling","spaceTool"];S5.prototype.preExecute=function(t){var e=this._spaceTool,n=this._modeling,i=t.shape,a=t.location,c=_s(i),d=c===i,h=d?i:i.parent,m=nc(h);m.length||n.createShape({type:"bpmn:Lane"},{x:i.x+u0,y:i.y,width:i.width-u0,height:i.height},h);var g=[];Qc(c,function(k){return g.push(k),k.label&&g.push(k.label),k===i?[]:Ze(k.children,function(I){return I!==i})});var b=a==="top"?-120:120,E=a==="top"?i.y:i.y+i.height,_=E+(a==="top"?10:-10),S=a==="top"?"n":"s",D=e.calculateAdjustments(g,"y",b,_);e.makeSpace(D.movingShapes,D.resizingShapes,{x:0,y:b},S,_),t.newLane=n.createShape({type:"bpmn:Lane"},{x:i.x+(d?u0:0),y:E-(a==="top"?120:0),width:i.width-(d?u0:0),height:120},h)};function O5(t,e){this._modeling=t,this._translate=e}O5.$inject=["modeling","translate"];O5.prototype.preExecute=function(t){var e=this._modeling,n=this._translate,i=t.shape,a=t.count,c=nc(i),d=c.length;if(d>a)throw new Error(n("more than {count} child lanes",{count:a}));var h=Math.round(i.height/a),m,g,b,E,_;for(_=0;_<a;_++)m=i.y+_*h,_===a-1?g=i.height-h*_:g=h,b={x:i.x+u0,y:m,width:i.width-u0,height:g},_<d?e.resizeShape(c[_],b):(E={type:"bpmn:Lane"},e.createShape(E,b,i))};function l1(t,e){this._modeling=t,this._spaceTool=e}l1.$inject=["modeling","spaceTool"];l1.prototype.preExecute=function(t){var e=t.shape,n=t.newBounds,i=t.balanced;i!==!1?this.resizeBalanced(e,n):this.resizeSpace(e,n)};l1.prototype.resizeBalanced=function(t,e){var n=this._modeling,i=A0e(t,e);n.resizeShape(t,e),i.forEach(function(a){n.resizeShape(a.shape,a.newBounds)})};l1.prototype.resizeSpace=function(t,e){var n=this._spaceTool,i=Xe(t),a=Xe(e),c=xD(a,i),d=_s(t),h=[],m=[];Qc(d,function(D){return h.push(D),(M(D,"bpmn:Lane")||M(D,"bpmn:Participant"))&&m.push(D),D.children});var g,b,E,_,S;(c.bottom||c.top)&&(g=c.bottom||c.top,b=t.y+(c.bottom?t.height:0)+(c.bottom?-10:10),E=c.bottom?"s":"n",_=c.top>0||c.bottom<0?-g:g,S=n.calculateAdjustments(h,"y",_,b),n.makeSpace(S.movingShapes,S.resizingShapes,{x:0,y:g},E)),(c.left||c.right)&&(g=c.right||c.left,b=t.x+(c.right?t.width:0)+(c.right?-10:100),E=c.right?"e":"w",_=c.left>0||c.right<0?-g:g,S=n.calculateAdjustments(m,"x",_,b),n.makeSpace(S.movingShapes,S.resizingShapes,{x:g,y:0},E))};var D5="flowNodeRef",Oj="lanes";function c1(t){this._elementRegistry=t}c1.$inject=["elementRegistry"];c1.prototype._computeUpdates=function(t,e){var n=[],i=[],a={},c=[];function d(b,E){var _=Xe(E),S={x:b.x+b.width/2,y:b.y+b.height/2};return S.x>_.left&&S.x<_.right&&S.y>_.top&&S.y<_.bottom}function h(b){n.indexOf(b)===-1&&(c.push(b),n.push(b))}function m(b){var E=_s(b);return a[E.id]||(a[E.id]=L2(E)),a[E.id]}function g(b){if(!b.parent)return[];var E=m(b);return E.filter(function(_){return d(b,_)}).map(function(_){return _.businessObject})}return e.forEach(function(b){var E=_s(b);if(!(!E||n.indexOf(E)!==-1)){var _=E.children.filter(function(S){return M(S,"bpmn:FlowNode")});_.forEach(h),n.push(E)}}),t.forEach(h),c.forEach(function(b){var E=b.businessObject,_=E.get(Oj),S=_.slice(),D=g(b);i.push({flowNode:E,remove:S,add:D})}),e.forEach(function(b){var E=b.businessObject;b.parent||E.get(D5).forEach(function(_){i.push({flowNode:_,remove:[E],add:[]})})}),i};c1.prototype.execute=function(t){var e=t.updates;return e||(e=t.updates=this._computeUpdates(t.flowNodeShapes,t.laneShapes)),e.forEach(function(n){var i=n.flowNode,a=i.get(Oj);n.remove.forEach(function(c){Xn(a,c),Xn(c.get(D5),i)}),n.add.forEach(function(c){Dn(a,c),Dn(c.get(D5),i)})}),[]};c1.prototype.revert=function(t){var e=t.updates;return e.forEach(function(n){var i=n.flowNode,a=i.get(Oj);n.add.forEach(function(c){Xn(a,c),Xn(c.get(D5),i)}),n.remove.forEach(function(c){Dn(a,c),Dn(c.get(D5),i)})}),[]};function cb(t){this._moddle=t}cb.$inject=["moddle"];cb.prototype.execute=function(t){var e=this._moddle.ids,n=t.id,i=t.element,a=t.claiming;return a?e.claim(n,i):e.unclaim(n),[]};cb.prototype.revert=function(t){var e=this._moddle.ids,n=t.id,i=t.element,a=t.claiming;return a?e.unclaim(n):e.claim(n,i),[]};var Wlt={fill:void 0,stroke:void 0};function T5(t){this._commandStack=t,this._normalizeColor=function(e){if(e){if(kr(e)){var n=Glt(e);if(n)return n}throw new Error("invalid color value: "+e)}}}T5.$inject=["commandStack"];T5.prototype.postExecute=function(t){var e=t.elements,n=t.colors||Wlt,i=this,a={};"fill"in n&&le(a,{"background-color":this._normalizeColor(n.fill)}),"stroke"in n&&le(a,{"border-color":this._normalizeColor(n.stroke)}),J(e,function(c){var d=Qlt(c)?qi(a,["border-color"]):a,h=wt(c);if(Ylt(d),Mn(c))i._commandStack.execute("element.updateModdleProperties",{element:c,moddleElement:h.label,properties:{color:a["border-color"]}});else{if(!He(h,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;i._commandStack.execute("element.updateProperties",{element:c,properties:{di:d}})}})};function Glt(t){var e=document.createElement("canvas").getContext("2d");return e.fillStyle="transparent",e.fillStyle=t,/^#[0-9a-fA-F]{6}$/.test(e.fillStyle)?e.fillStyle:null}function Qlt(t){return!!t.waypoints}function Ylt(t){"border-color"in t&&(t.stroke=t["border-color"]),"background-color"in t&&(t.fill=t["background-color"])}var Xlt={width:0,height:0};function aT(t,e,n){function i(m,g){var b=m.label||m,E=m.labelTarget||m;return bB(b,g,E!==b),[b,E]}function a(m){var g=m.element,b=g.businessObject,E=m.newLabel;if(!Mn(g)&&Jl(g)&&!Kp(g)&&!Uge(E)){var _=7,S=fw(g);S={x:S.x,y:S.y+_},t.createLabel(g,S,{id:b.id+"_label",businessObject:b,di:g.di})}}function c(m){return m.oldLabel=xi(m.element),i(m.element,m.newLabel)}function d(m){return i(m.element,m.oldLabel)}function h(m){var g=m.element,b=g.label||g,E=m.newLabel,_=m.newBounds,S=m.hints||{};if(!(!Mn(b)&&!M(b,"bpmn:TextAnnotation"))){if(Mn(b)&&Uge(E)){S.removeShape!==!1&&t.removeShape(b,{unsetLabel:!1});return}var D=xi(g);typeof _>"u"&&(_=e.getExternalLabelBounds(b,D)),_&&t.resizeShape(b,_,Xlt)}}this.preExecute=a,this.execute=c,this.revert=d,this.postExecute=h}aT.$inject=["modeling","textRenderer","bpmnFactory"];function Uge(t){return!t||!t.trim()}function yo(t,e,n,i){qn.call(this,t,e,n),this._bpmnRules=i}ke(yo,qn);yo.$inject=["eventBus","elementFactory","commandStack","bpmnRules"];yo.prototype.getHandlers=function(){var t=qn.prototype.getHandlers.call(this);return t["element.updateModdleProperties"]=s1,t["element.updateProperties"]=a1,t["canvas.updateRoot"]=lb,t["lane.add"]=S5,t["lane.resize"]=l1,t["lane.split"]=O5,t["lane.updateRefs"]=c1,t["id.updateClaim"]=cb,t["element.setColor"]=T5,t["element.updateLabel"]=aT,t};yo.prototype.updateLabel=function(t,e,n,i){this._commandStack.execute("element.updateLabel",{element:t,newLabel:e,newBounds:n,hints:i||{}})};yo.prototype.connect=function(t,e,n,i){var a=this._bpmnRules;if(n||(n=a.canConnect(t,e)),!!n)return this.createConnection(t,e,n,t.parent,i)};yo.prototype.updateModdleProperties=function(t,e,n){this._commandStack.execute("element.updateModdleProperties",{element:t,moddleElement:e,properties:n})};yo.prototype.updateProperties=function(t,e){this._commandStack.execute("element.updateProperties",{element:t,properties:e})};yo.prototype.resizeLane=function(t,e,n){this._commandStack.execute("lane.resize",{shape:t,newBounds:e,balanced:n})};yo.prototype.addLane=function(t,e){var n={shape:t,location:e};return this._commandStack.execute("lane.add",n),n.newLane};yo.prototype.splitLane=function(t,e){this._commandStack.execute("lane.split",{shape:t,count:e})};yo.prototype.makeCollaboration=function(){var t=this._create("root",{type:"bpmn:Collaboration"}),e={newRoot:t};return this._commandStack.execute("canvas.updateRoot",e),t};yo.prototype.makeProcess=function(){var t=this._create("root",{type:"bpmn:Process"}),e={newRoot:t};this._commandStack.execute("canvas.updateRoot",e)};yo.prototype.updateLaneRefs=function(t,e){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:t,laneShapes:e})};yo.prototype.claimId=function(t,e){this._commandStack.execute("id.updateClaim",{id:t,element:e,claiming:!0})};yo.prototype.unclaimId=function(t,e){this._commandStack.execute("id.updateClaim",{id:t,element:e})};yo.prototype.setColor=function(t,e){t.length||(t=[t]),this._commandStack.execute("element.setColor",{elements:t,colors:e})};function lT(){}lT.prototype.layoutConnection=function(t,e){return e=e||{},[e.connectionStart||Je(e.source||t.source),e.connectionEnd||Je(e.target||t.target)]};var cT=20,Klt=5,uT=Math.round,qge=20,Zlt={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function Jlt(t,e){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[e].test(t)}function ect(t,e){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[t].test(e)}function Yge(t,e,n){var i=Cr(e,t,Klt),a=n.split(":")[0],c=uT((e.x-t.x)/2+t.x),d=uT((e.y-t.y)/2+t.y),h,m,g=ect(a,i),b=/h|r|l/.test(a),E=!1,_=!1;return g?(h=b?{x:c,y:t.y}:{x:t.x,y:d},m=b?"h:h":"v:v"):(E=Jlt(i,a),m=b?"h:v":"v:h",E?b?(_=d===t.y,h={x:t.x+cT*(/l/.test(a)?-1:1),y:_?d+cT:d}):(_=c===t.x,h={x:_?c+cT:c,y:t.y+cT*(/t/.test(a)?-1:1)}):h={x:c,y:d}),{waypoints:Dj(t,h,m).concat(h),directions:m,turnNextDirections:_}}function tct(t,e,n){return Yge(t,e,n)}function nct(t,e,n){var i=Yge(e,t,Wge(n));return{waypoints:i.waypoints.slice().reverse(),directions:Wge(i.directions),turnNextDirections:i.turnNextDirections}}function rct(t,e){var n=t.directions.split(":")[1],i=e.directions.split(":")[0];t.turnNextDirections&&(n=n=="h"?"v":"h"),e.turnNextDirections&&(i=i=="h"?"v":"h");var a=n+":"+i,c=Dj(t.waypoints[t.waypoints.length-1],e.waypoints[0],a);return{waypoints:c,directions:a}}function Wge(t){return t.split(":").reverse().join(":")}function ict(t,e,n){var i=uT((e.x-t.x)/2+t.x),a=uT((e.y-t.y)/2+t.y);if(n==="h:v")return[{x:e.x,y:t.y}];if(n==="v:h")return[{x:t.x,y:e.y}];if(n==="h:h")return[{x:i,y:t.y},{x:i,y:e.y}];if(n==="v:v")return[{x:t.x,y:a},{x:e.x,y:a}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}function Dj(t,e,n){if(n=n||"h:h",!fct(n))throw new Error("unknown directions: <"+n+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(Kge(n)){var i=tct(t,e,n),a=nct(t,e,n),c=rct(i,a);return[].concat(i.waypoints,c.waypoints,a.waypoints)}return ict(t,e,n)}function oct(t,e,n){var i=Dj(t,e,n);return i.unshift(t),i.push(e),kj(i)}function sct(t,e,n,i,a){var c=a&&a.preferredLayouts||[],d=or(c,"straight")[0]||"h:h",h=Zlt[d]||0,m=Cr(t,e,h),g=dct(m,d);n=n||Je(t),i=i||Je(e);var b=g.split(":"),E=Qge(n,t,b[0],hct(m)),_=Qge(i,e,b[1],m);return oct(E,_,g)}function Xge(t,e,n,i,a,c){Ue(n)&&(a=n,c=i,n=Je(t),i=Je(e)),c=le({preferredLayouts:[]},c),a=a||[];var d=c.preferredLayouts,h=d.indexOf("straight")!==-1,m;return m=h&&lct(t,e,n,i,c),m||(m=c.connectionEnd&&uct(e,t,i,a),m)||(m=c.connectionStart&&cct(t,e,n,a),m)?m:!c.connectionStart&&!c.connectionEnd&&a&&a.length?a:sct(t,e,n,i,c)}function act(t,e,n){return t>=e&&t<=n}function Gge(t,e,n){var i={x:"width",y:"height"};return act(e[t],n[t],n[t]+n[i[t]])}function lct(t,e,n,i,a){var c={},d,h;return h=Cr(t,e),/^(top|bottom|left|right)$/.test(h)?(/top|bottom/.test(h)&&(d="x"),/left|right/.test(h)&&(d="y"),a.preserveDocking==="target"?Gge(d,i,t)?(c[d]=i[d],[{x:c.x!==void 0?c.x:n.x,y:c.y!==void 0?c.y:n.y,original:{x:c.x!==void 0?c.x:n.x,y:c.y!==void 0?c.y:n.y}},{x:i.x,y:i.y}]):null:Gge(d,n,e)?(c[d]=n[d],[{x:n.x,y:n.y},{x:c.x!==void 0?c.x:i.x,y:c.y!==void 0?c.y:i.y,original:{x:c.x!==void 0?c.x:i.x,y:c.y!==void 0?c.y:i.y}}]):null):null}function cct(t,e,n,i){return Tj(t,e,n,i)}function uct(t,e,n,i){var a=i.slice().reverse();return a=Tj(t,e,n,a),a?a.reverse():null}function Tj(t,e,n,i){function a(b){return b.length<3?!0:b.length>4?!1:!!st(b,function(E,_){var S=b[_-1];return S&&zp(E,S)<3})}function c(b,E,_){var S=xa(E,b);switch(S){case"v":return{x:_.x,y:b.y};case"h":return{x:b.x,y:_.y}}return{x:b.x,y:b.y}}function d(b,E,_){var S;for(S=b.length-2;S!==0;S--)if(XF(b[S],E,qge)||XF(b[S],_,qge))return b.slice(S);return b}if(a(i))return null;var h=i[0],m=i.slice(),g;return m[0]=n,m[1]=c(m[1],h,n),g=d(m,t,e),g!==m&&(m=Tj(t,e,n,g)),m&&xa(m)?null:m}function dct(t,e){if(Kge(e))return e;switch(t){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return e}}function fct(t){return t&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(t)}function Kge(t){return t&&/t|r|b|l/.test(t)}function hct(t){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[t]}function Qge(t,e,n,i){if(n==="h"&&(n=/left/.test(i)?"l":"r"),n==="v"&&(n=/top/.test(i)?"t":"b"),n==="t")return{original:t,x:t.x,y:e.y};if(n==="r")return{original:t,x:e.x+e.width,y:t.y};if(n==="b")return{original:t,x:t.x,y:e.y+e.height};if(n==="l")return{original:t,x:e.x,y:t.y};throw new Error("unexpected dockingDirection: <"+n+">")}function kj(t){return t.reduce(function(e,n,i){var a=e[e.length-1],c=t[i+1];return l2(a,c,n,0)||e.push(n),e},[])}var pct=-10,mct=40,Mj={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},dT={top:"t",right:"r",bottom:"b",left:"l"};function M5(){}ke(M5,lT);M5.prototype.layoutConnection=function(t,e){e||(e={});var n=e.source||t.source,i=e.target||t.target,a=e.waypoints||t.waypoints,c=e.connectionStart,d=e.connectionEnd,h,m;return c||(c=Zge(a&&a[0],n)),d||(d=Zge(a&&a[a.length-1],i)),(M(t,"bpmn:Association")||M(t,"bpmn:DataAssociation"))&&a&&!Jge(n,i)?[].concat([c],a.slice(1,-1),[d]):(M(t,"bpmn:MessageFlow")?h=vct(n,i):(M(t,"bpmn:SequenceFlow")||Jge(n,i))&&(n===i?h={preferredLayouts:Sct(n,t)}:M(n,"bpmn:BoundaryEvent")?h={preferredLayouts:Oct(n,i,d)}:I5(n)||I5(i)?h=bct(n):M(n,"bpmn:Gateway")?h={preferredLayouts:["v:h"]}:M(i,"bpmn:Gateway")?h={preferredLayouts:["h:v"]}:h={preferredLayouts:["h:h"]}),h&&(h=le(h,e),m=kj(Xge(n,i,c,d,a,h))),m||[c,d])};function gct(t){var e=t.host;return Cr(Je(t),e,pct)}function vct(t,e){return{preferredLayouts:["straight","v:v"],preserveDocking:yct(t,e)}}function yct(t,e){return M(e,"bpmn:Participant")?"source":M(t,"bpmn:Participant")?"target":I5(e)?"source":I5(t)||M(e,"bpmn:Event")?"target":M(t,"bpmn:Event")?"source":null}function bct(t){return{preferredLayouts:["straight","h:h"],preserveDocking:xct(t)}}function xct(t){return I5(t)?"target":"source"}function Zge(t,e){return t?t.original||t:Je(e)}function Jge(t,e){return M(e,"bpmn:Activity")&&M(t,"bpmn:BoundaryEvent")&&e.businessObject.isForCompensation}function I5(t){return M(t,"bpmn:SubProcess")&&bt(t)}function k5(t,e){return t===e}function Ect(t,e){return e.indexOf(t)!==-1}function P5(t){var e=/right|left/.exec(t);return e&&e[0]}function u1(t){var e=/top|bottom/.exec(t);return e&&e[0]}function wct(t,e){return Mj[t]===e}function _ct(t,e){var n=P5(t),i=Mj[n];return e.indexOf(i)!==-1}function Cct(t,e){var n=u1(t),i=Mj[n];return e.indexOf(i)!==-1}function Ij(t){return t==="right"||t==="left"}function Sct(t,e){var n=e.waypoints,i=n&&n.length&&Cr(n[0],t);return i==="top"?["t:r"]:i==="right"?["r:b"]:i==="left"?["l:t"]:["b:l"]}function Oct(t,e,n){var i=Je(t),a=Je(e),c=gct(t),d,h,m=k5(t.host,e),g=Ect(c,["top","right","bottom","left"]),b=Cr(a,i,{x:t.width/2+e.width/2,y:t.height/2+e.height/2});return m?Dct(c,g,t,e,n):(d=Tct(c,b,g),h=kct(c,b,g),[d+":"+h])}function Dct(t,e,n,i,a){var c=e?t:u1(t),d=dT[c],h;return e?Ij(t)?h=e1e("y",n,i,a)?"h":"b":h=e1e("x",n,i,a)?"v":"l":h="v",[d+":"+h]}function e1e(t,e,n,i){var a=mct;return!(Pj(t,i,n,a)||Pj(t,i,{x:n.x+n.width,y:n.y+n.height},a)||Pj(t,i,Je(e),a))}function Pj(t,e,n,i){return Math.abs(e[t]-n[t])<i}function Tct(t,e,n){return n?dT[t]:k5(u1(t),u1(e))||wct(P5(t),P5(e))?dT[u1(t)]:dT[P5(t)]}function kct(t,e,n){return n?Ij(t)?_ct(t,e)||k5(t,e)?"h":"v":Cct(t,e)||k5(t,e)?"v":"h":Ij(e)||k5(u1(t),u1(e))&&P5(e)?"h":"v"}function t1e(t){return le({original:t.point.original||t.point},t.actual)}function _d(t,e){this._elementRegistry=t,this._graphicsFactory=e}_d.$inject=["elementRegistry","graphicsFactory"];_d.prototype.getCroppedWaypoints=function(t,e,n){e=e||t.source,n=n||t.target;var i=this.getDockingPoint(t,e,!0),a=this.getDockingPoint(t,n),c=t.waypoints.slice(i.idx+1,a.idx);return c.unshift(t1e(i)),c.push(t1e(a)),c};_d.prototype.getDockingPoint=function(t,e,n){var i=t.waypoints,a,c,d;return a=n?0:i.length-1,c=i[a],d=this._getIntersection(e,t,n),{point:c,actual:d||c,idx:a}};_d.prototype._getIntersection=function(t,e,n){var i=this._getShapePath(t),a=this._getConnectionPath(e);return iw(i,a,n)};_d.prototype._getConnectionPath=function(t){return this._graphicsFactory.getConnectionPath(t)};_d.prototype._getShapePath=function(t){return this._graphicsFactory.getShapePath(t)};_d.prototype._getGfx=function(t){return this._elementRegistry.getGraphics(t)};var n1e={__init__:["modeling","bpmnUpdater"],__depends__:[Wme,lge,cge,uge,gD,bge,Ege,Cge,Dge,Gi,_2,oT],bpmnFactory:["type",Oa],bpmnUpdater:["type",Cs],elementFactory:["type",Ed],modeling:["type",yo],layouter:["type",M5],connectionDocking:["type",_d]};var Pct=500,Ict=1250,Mct=1500,fT=Math.round;function Act(t){return{x:t.x+fT(t.width/2),y:t.y+fT(t.height/2)}}function hT(t,e,n,i,a){function c(h,m,g,b){return a.allowed("elements.move",{shapes:h,delta:m,position:g,target:b})}t.on("shape.move.start",Mct,function(h){var m=h.context,g=h.shape,b=i.get().slice();b.indexOf(g)===-1&&(b=[g]),b=Rct(b),le(m,{shapes:b,validatedShapes:b,shape:g})}),t.on("shape.move.start",Ict,function(h){var m=h.context,g=m.validatedShapes,b;if(b=m.canExecute=c(g),!b)return!1}),t.on("shape.move.move",Pct,function(h){var m=h.context,g=m.validatedShapes,b=h.hover,E={x:h.dx,y:h.dy},_={x:h.x,y:h.y},S;if(S=c(g,E,_,b),m.delta=E,m.canExecute=S,S===null){m.target=null;return}m.target=b}),t.on("shape.move.end",function(h){var m=h.context,g=m.delta,b=m.canExecute,E=b==="attach",_=m.shapes;if(b===!1)return!1;g.x=fT(g.x),g.y=fT(g.y),!(g.x===0&&g.y===0)&&n.moveElements(_,g,m.target,{primaryShape:m.shape,attach:E})}),t.on("element.mousedown",function(h){if(ll(h)){var m=Ff(h);if(!m)throw new Error("must supply DOM mousedown event");return d(m,h.element)}});function d(h,m,g,b){if(Un(g)&&(b=g,g=!1),!(m.waypoints||!m.parent)&&!St(h.target).has("djs-hit-no-move")){var E=Act(m);return e.init(h,E,"shape.move",{cursor:"grabbing",autoActivate:g,data:{shape:m,context:b||{}}}),!0}}this.start=d}hT.$inject=["eventBus","dragging","modeling","selection","rules"];function Rct(t){var e=sl(t,"id");return Ze(t,function(n){for(;n=n.parent;)if(e[n.id])return!1;return!0})}var r1e=499,Aj="djs-dragging",i1e="drop-ok",o1e="drop-not-ok",s1e="new-parent",a1e="attach-ok";function pT(t,e,n,i){function a(m){var g=c(m),b=Lct(g);return b}function c(m){var g=ad(m,!0),b=Nn(g,function(E){return(E.incoming||[]).concat(E.outgoing||[])});return Af(g.concat(b))}function d(m,g){[a1e,i1e,o1e,s1e].forEach(function(b){b===g?e.addMarker(m,b):e.removeMarker(m,b)})}function h(m,g,b){i.addDragger(g,m.dragGroup),b&&e.addMarker(g,Aj),m.allDraggedElements?m.allDraggedElements.push(g):m.allDraggedElements=[g]}t.on("shape.move.start",r1e,function(m){var g=m.context,b=g.shapes,E=g.allDraggedElements,_=a(b);if(!g.dragGroup){var S=We("g");Ne(S,n.cls("djs-drag-group",["no-events"]));var D=e.getActiveLayer();et(D,S),g.dragGroup=S}_.forEach(function(k){i.addDragger(k,g.dragGroup)}),E?E=Af([E,c(b)]):E=c(b),J(E,function(k){e.addMarker(k,Aj)}),g.allDraggedElements=E,g.differentParents=$ct(b)}),t.on("shape.move.move",r1e,function(m){var g=m.context,b=g.dragGroup,E=g.target,_=g.shape.parent,S=g.canExecute;E&&(S==="attach"?d(E,a1e):g.canExecute&&E&&E.id!==_.id?d(E,s1e):d(E,g.canExecute?i1e:o1e)),Qr(b,m.dx,m.dy)}),t.on(["shape.move.out","shape.move.cleanup"],function(m){var g=m.context,b=g.target;b&&d(b,null)}),t.on("shape.move.cleanup",function(m){var g=m.context,b=g.allDraggedElements,E=g.dragGroup;J(b,function(_){e.removeMarker(_,Aj)}),E&&xn(E)}),this.makeDraggable=h}pT.$inject=["eventBus","canvas","styles","previewSupport"];function Lct(t){var e=Ze(t,function(n){return Tn(n)?st(t,Mo({id:n.source.id}))&&st(t,Mo({id:n.target.id})):!0});return e}function $ct(t){return Dde(sl(t,function(e){return e.parent&&e.parent.id}))!==1}var l1e={__depends__:[fd,Gi,n7,Yi,Ro,md],__init__:["move","movePreview"],move:["type",hT],movePreview:["type",pT]};var u1e=".djs-palette-toggle",d1e=".entry",Nct=u1e+", "+d1e,Rj="djs-palette-",Fct="shown",Lj="open",c1e="two-column",Bct=1e3;function Kr(t,e){this._eventBus=t,this._canvas=e;var n=this;t.on("tool-manager.update",function(i){var a=i.tool;n.updateToolHighlight(a)}),t.on("i18n.changed",function(){n._update()}),t.on("diagram.init",function(){n._diagramInitialized=!0,n._rebuild()})}Kr.$inject=["eventBus","canvas"];Kr.prototype.registerProvider=function(t,e){e||(e=t,t=Bct),this._eventBus.on("palette.getProviders",t,function(n){n.providers.push(e)}),this._rebuild()};Kr.prototype.getEntries=function(){var t=this._getProviders();return t.reduce(Vct,{})};Kr.prototype._rebuild=function(){if(this._diagramInitialized){var t=this._getProviders();t.length&&(this._container||this._init(),this._update())}};Kr.prototype._init=function(){var t=this,e=this._eventBus,n=this._getParentContainer(),i=this._container=jt(Kr.HTML_MARKUP);n.appendChild(i),_r(n).add(Rj+Fct),Wi.bind(i,Nct,"click",function(a){var c=a.delegateTarget;if(o2(c,u1e))return t.toggle();t.trigger("click",a)}),nt.bind(i,"mousedown",function(a){a.stopPropagation()}),Wi.bind(i,d1e,"dragstart",function(a){t.trigger("dragstart",a)}),e.on("canvas.resized",this._layoutChanged,this),e.fire("palette.create",{container:i})};Kr.prototype._getProviders=function(t){var e=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(e),e.providers};Kr.prototype._toggleState=function(t){t=t||{};var e=this._getParentContainer(),n=this._container,i=this._eventBus,a,c=_r(n),d=_r(e);"twoColumn"in t?a=t.twoColumn:a=this._needsCollapse(e.clientHeight,this._entries||{}),c.toggle(c1e,a),d.toggle(Rj+c1e,a),"open"in t&&(c.toggle(Lj,t.open),d.toggle(Rj+Lj,t.open)),i.fire("palette.changed",{twoColumn:a,open:this.isOpen()})};Kr.prototype._update=function(){var t=Et(".djs-palette-entries",this._container),e=this._entries=this.getEntries();Fp(t),J(e,function(n,i){var a=n.group||"default",c=Et("[data-group="+Vf(a)+"]",t);c||(c=jt('<div class="group"></div>'),vi(c,"data-group",a),t.appendChild(c));var d=n.html||(n.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),h=jt(d);if(c.appendChild(h),!n.separator&&(vi(h,"data-action",i),n.title&&vi(h,"title",n.title),n.className&&jct(h,n.className),n.imageUrl)){var m=jt("<img>");vi(m,"src",n.imageUrl),h.appendChild(m)}}),this.open()};Kr.prototype.trigger=function(t,e,n){var i,a,c=e.delegateTarget||e.target;return c?(i=vi(c,"data-action"),a=e.originalEvent||e,this.triggerEntry(i,t,a,n)):e.preventDefault()};Kr.prototype.triggerEntry=function(t,e,n,i){var a=this._entries,c,d;if(c=a[t],!!c&&(d=c.action,this._eventBus.fire("palette.trigger",{entry:c,event:n})!==!1)){if(At(d)){if(e==="click")return d(n,i)}else if(d[e])return d[e](n,i);n.preventDefault()}};Kr.prototype._layoutChanged=function(){this._toggleState({})};Kr.prototype._needsCollapse=function(t,e){var n=50,i=Object.keys(e).length*46;return t<i+n};Kr.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})};Kr.prototype.open=function(){this._toggleState({open:!0})};Kr.prototype.toggle=function(){this.isOpen()?this.close():this.open()};Kr.prototype.isActiveTool=function(t){return t&&this._activeTool===t};Kr.prototype.updateToolHighlight=function(t){var e,n;this._toolsContainer||(e=Et(".djs-palette-entries",this._container),this._toolsContainer=Et("[data-group=tools]",e)),n=this._toolsContainer,J(n.children,function(i){var a=i.getAttribute("data-action");if(a){var c=_r(i);a=a.replace("-tool",""),c.contains("entry")&&a===t?c.add("highlighted-entry"):c.remove("highlighted-entry")}})};Kr.prototype.isOpen=function(){return _r(this._container).has(Lj)};Kr.prototype._getParentContainer=function(){return this._canvas.getContainer()};Kr.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';function jct(t,e){var n=_r(t),i=Ue(e)?e:e.split(/\s+/g);i.forEach(function(a){n.add(a)})}function Vct(t,e){var n=e.getPaletteEntries();return At(n)?n(t):(J(n,function(i,a){t[a]=i}),t)}var f1e={__init__:["palette"],palette:["type",Kr]};var h1e="crosshair";function Yf(t,e,n,i,a,c,d){this._selection=a,this._dragging=n,this._mouse=d;var h=this,m={create:function(g){var b=e.getActiveLayer(),E;E=g.frame=We("rect"),Ne(E,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),et(b,E)},update:function(g){var b=g.frame,E=g.bbox;Ne(b,{x:E.x,y:E.y,width:E.width,height:E.height})},remove:function(g){g.frame&&xn(g.frame)}};c.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),t.on("lasso.selection.end",function(g){var b=g.originalEvent.target;!g.hover&&!(b instanceof SVGElement)||t.once("lasso.selection.ended",function(){h.activateLasso(g.originalEvent,!0)})}),t.on("lasso.end",function(g){var b=$j(g),E=i.filter(function(_){return _});h.select(E,b)}),t.on("lasso.start",function(g){var b=g.context;b.bbox=$j(g),m.create(b)}),t.on("lasso.move",function(g){var b=g.context;b.bbox=$j(g),m.update(b)}),t.on("lasso.cleanup",function(g){var b=g.context;m.remove(b)}),t.on("element.mousedown",1500,function(g){if(E2(g))return h.activateLasso(g.originalEvent),!0})}Yf.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"];Yf.prototype.activateLasso=function(t,e){this._dragging.init(t,"lasso",{autoActivate:e,cursor:h1e,data:{context:{}}})};Yf.prototype.activateSelection=function(t,e){this._dragging.init(t,"lasso.selection",{trapClick:!1,autoActivate:e,cursor:h1e,data:{context:{}}})};Yf.prototype.select=function(t,e){var n=Wde(t,e);this._selection.select(r2(n))};Yf.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateSelection(t,!!t)};Yf.prototype.isActive=function(){var t=this._dragging.context();return t&&/^lasso/.test(t.prefix)};function $j(t){var e={x:t.x-t.dx,y:t.y-t.dy},n={x:t.x,y:t.y},i;return e.x<=n.x&&e.y<n.y||e.x<n.x&&e.y<=n.y?i={x:e.x,y:e.y,width:n.x-e.x,height:n.y-e.y}:e.x>=n.x&&e.y<n.y||e.x>n.x&&e.y<=n.y?i={x:n.x,y:e.y,width:e.x-n.x,height:n.y-e.y}:e.x<=n.x&&e.y>n.y||e.x<n.x&&e.y>=n.y?i={x:e.x,y:n.y,width:n.x-e.x,height:e.y-n.y}:e.x>=n.x&&e.y>n.y||e.x>n.x&&e.y>=n.y?i={x:n.x,y:n.y,width:e.x-n.x,height:e.y-n.y}:i={x:n.x,y:n.y,width:0,height:0},i}var p1e={__depends__:[p0,gd],__init__:["lassoTool"],lassoTool:["type",Yf]};var Nj=1500,g1e="grab";function y0(t,e,n,i,a,c){this._dragging=n,this._mouse=c;var d=this,h=i.get("keyboard",!1);a.registerTool("hand",{tool:"hand",dragging:"hand.move"}),t.on("element.mousedown",Nj,function(m){if(Kc(m))return d.activateMove(m.originalEvent,!0),!1}),h&&h.addListener(Nj,function(m){if(!(!m1e(m.keyEvent)||d.isActive())){var g=d._mouse.getLastMoveEvent();d.activateMove(g,!!g)}},"keyboard.keydown"),h&&h.addListener(Nj,function(m){!m1e(m.keyEvent)||!d.isActive()||d.toggle()},"keyboard.keyup"),t.on("hand.end",function(m){var g=m.originalEvent.target;if(!m.hover&&!(g instanceof SVGElement))return!1;t.once("hand.ended",function(){d.activateMove(m.originalEvent,{reactivate:!0})})}),t.on("hand.move.move",function(m){var g=e.viewbox().scale;e.scroll({dx:m.dx*g,dy:m.dy*g})}),t.on("hand.move.end",function(m){var g=m.context,b=g.reactivate;return!Kc(m)&&b&&t.once("hand.move.ended",function(E){d.activateHand(E.originalEvent,!0,!0)}),!1})}y0.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"];y0.prototype.activateMove=function(t,e,n){typeof e=="object"&&(n=e,e=!1),this._dragging.init(t,"hand.move",{autoActivate:e,cursor:g1e,data:{context:n||{}}})};y0.prototype.activateHand=function(t,e,n){this._dragging.init(t,"hand",{trapClick:!1,autoActivate:e,cursor:g1e,data:{context:{reactivate:n}}})};y0.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateHand(t,!!t)};y0.prototype.isActive=function(){var t=this._dragging.context();return t?/^(hand|hand\.move)$/.test(t.prefix):!1};function m1e(t){return Yr("Space",t)}var v1e={__depends__:[p0,gd],__init__:["handTool"],handTool:["type",y0]};var y1e="connect-ok",b1e="connect-not-ok";function b0(t,e,n,i,a,c,d){var h=this;this._dragging=e,this._rules=c,this._mouse=d,a.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),t.on("global-connect.hover",function(m){var g=m.context,b=m.hover,E=g.canStartConnect=h.canStartConnect(b);E!==null&&(g.startTarget=b,i.addMarker(b,E?y1e:b1e))}),t.on(["global-connect.out","global-connect.cleanup"],function(m){var g=m.context.startTarget,b=m.context.canStartConnect;g&&i.removeMarker(g,b?y1e:b1e)}),t.on(["global-connect.ended"],function(m){var g=m.context,b=g.startTarget,E={x:m.x,y:m.y},_=h.canStartConnect(b);if(_)return t.once("element.out",function(){t.once(["connect.ended","connect.canceled"],function(){t.fire("global-connect.drag.ended")}),n.start(null,b,E)}),!1})}b0.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"];b0.prototype.start=function(t,e){this._dragging.init(t,"global-connect",{autoActivate:e,trapClick:!1,data:{context:{}}})};b0.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();return this.start(t,!!t)};b0.prototype.isActive=function(){var t=this._dragging.context();return t&&/^global-connect/.test(t.prefix)};b0.prototype.canStartConnect=function(t){return this._rules.allowed("connection.start",{source:t})};var x1e={__depends__:[R2,Yi,Ro,p0,gd],globalConnect:["type",b0]};function A5(t,e,n,i,a,c,d,h){this._palette=t,this._create=e,this._elementFactory=n,this._spaceTool=i,this._lassoTool=a,this._handTool=c,this._globalConnect=d,this._translate=h,t.registerProvider(this)}A5.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"];A5.prototype.getPaletteEntries=function(){var t={},e=this._create,n=this._elementFactory,i=this._spaceTool,a=this._lassoTool,c=this._handTool,d=this._globalConnect,h=this._translate;function m(E,_,S,D,k){function I($){var F=n.createShape(le({type:E},k));if(k){var L=wt(F);L.isExpanded=k.isExpanded}e.start($,F)}var R=E.replace(/^bpmn:/,"");return{group:_,className:S,title:D||h("Create {type}",{type:R}),action:{dragstart:I,click:I}}}function g(E){var _=n.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),S=n.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:_});e.start(E,[_,S],{hints:{autoSelect:[_]}})}function b(E){e.start(E,n.createParticipantShape())}return le(t,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:h("Activate the hand tool"),action:{click:function(E){c.activateHand(E)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:h("Activate the lasso tool"),action:{click:function(E){a.activateSelection(E)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:h("Activate the create/remove space tool"),action:{click:function(E){i.activateSelection(E)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:h("Activate the global connect tool"),action:{click:function(E){d.start(E)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":m("bpmn:StartEvent","event","bpmn-icon-start-event-none",h("Create StartEvent")),"create.intermediate-event":m("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",h("Create Intermediate/Boundary Event")),"create.end-event":m("bpmn:EndEvent","event","bpmn-icon-end-event-none",h("Create EndEvent")),"create.exclusive-gateway":m("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",h("Create Gateway")),"create.task":m("bpmn:Task","activity","bpmn-icon-task",h("Create Task")),"create.data-object":m("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",h("Create DataObjectReference")),"create.data-store":m("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",h("Create DataStoreReference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:h("Create expanded SubProcess"),action:{dragstart:g,click:g}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:h("Create Pool/Participant"),action:{dragstart:b,click:b}},"create.group":m("bpmn:Group","artifact","bpmn-icon-group",h("Create Group"))}),t};var E1e={__depends__:[f1e,c0,oT,p1e,v1e,x1e,Zp],__init__:["paletteProvider"],paletteProvider:["type",A5]};var zct=250;function R5(t,e,n,i,a){De.call(this,t);function c(h){var m=h.canExecute.replacements;J(m,function(g){var b=g.oldElementId,E={type:g.newElementType};if(!h.visualReplacements[b]){var _=e.get(b);le(E,{x:_.x,y:_.y});var S=n.createShape(E);i.addShape(S,_.parent);var D=Et('[data-element-id="'+Vf(_.id)+'"]',h.dragGroup);D&&Ne(D,{display:"none"});var k=a.addDragger(S,h.dragGroup);h.visualReplacements[b]=k,i.removeShape(S)}})}function d(h){var m=h.visualReplacements;J(m,function(g,b){var E=Et('[data-element-id="'+Vf(b)+'"]',h.dragGroup);E&&Ne(E,{display:"inline"}),g.remove(),m[b]&&delete m[b]})}t.on("shape.move.move",zct,function(h){var m=h.context,g=m.canExecute;m.visualReplacements||(m.visualReplacements={}),g&&g.replacements?c(m):d(m)})}R5.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"];ke(R5,De);var w1e={__depends__:[md],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",R5]};var Hct=1250,Fj=40,Uct=20,qct=10,_1e=20,S1e=["x","y"],Wct=Math.abs;function mT(t){t.on(["connect.hover","connect.move","connect.end"],Hct,function(e){var n=e.context,i=n.canExecute,a=n.start,c=n.hover,d=n.source,h=n.target;e.originalEvent&&go(e.originalEvent)||(n.initialConnectionStart||(n.initialConnectionStart=n.connectionStart),i&&c&&Gct(e,c,Kct(c)),c&&Xct(i,["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"])?(n.connectionStart=_a(a),He(c,["bpmn:Event","bpmn:Gateway"])&&C1e(e,_a(c)),He(c,["bpmn:Task","bpmn:SubProcess"])&&Qct(e,c),M(d,"bpmn:BoundaryEvent")&&h===d.host&&Yct(e)):O1e(i,"bpmn:MessageFlow")?(M(a,"bpmn:Event")&&(n.connectionStart=_a(a)),M(c,"bpmn:Event")&&C1e(e,_a(c))):n.connectionStart=n.initialConnectionStart)})}mT.$inject=["eventBus"];function Gct(t,e,n){S1e.forEach(function(i){var a=D1e(i,e);t[i]<e[i]+n?hr(t,i,e[i]+n):t[i]>e[i]+a-n&&hr(t,i,e[i]+a-n)})}function Qct(t,e){var n=_a(e);S1e.forEach(function(i){Zct(t,e,i)&&hr(t,i,n[i])})}function Yct(t){var e=t.context,n=e.source,i=e.target;if(!Jct(e)){var a=_a(n),c=Cr(a,i,-10),d=[];/top|bottom/.test(c)&&d.push("x"),/left|right/.test(c)&&d.push("y"),d.forEach(function(h){var m=t[h],g;Wct(m-a[h])<Fj&&(m>a[h]?g=a[h]+Fj:g=a[h]-Fj,hr(t,h,g))})}}function C1e(t,e){hr(t,"x",e.x),hr(t,"y",e.y)}function O1e(t,e){return t&&t.type===e}function Xct(t,e){return ho(e,function(n){return O1e(t,n)})}function D1e(t,e){return t==="x"?e.width:e.height}function Kct(t){return M(t,"bpmn:Task")?qct:Uct}function Zct(t,e,n){return t[n]>e[n]+_1e&&t[n]<e[n]+D1e(n,e)-_1e}function Jct(t){var e=t.hover,n=t.source;return e&&n&&e===n}function ou(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}ou.prototype.getSnapOrigin=function(t){return this._snapOrigins[t]};ou.prototype.setSnapOrigin=function(t,e){this._snapOrigins[t]=e,this._snapLocations.indexOf(t)===-1&&this._snapLocations.push(t)};ou.prototype.addDefaultSnap=function(t,e){var n=this._defaultSnaps[t];n||(n=this._defaultSnaps[t]=[]),n.push(e)};ou.prototype.getSnapLocations=function(){return this._snapLocations};ou.prototype.setSnapLocations=function(t){this._snapLocations=t};ou.prototype.pointsForTarget=function(t){var e=t.id||t,n=this._targets[e];return n||(n=this._targets[e]=new gT,n.initDefaults(this._defaultSnaps)),n};function gT(){this._snapValues={}}gT.prototype.add=function(t,e){var n=this._snapValues[t];n||(n=this._snapValues[t]={x:[],y:[]}),n.x.indexOf(e.x)===-1&&n.x.push(e.x),n.y.indexOf(e.y)===-1&&n.y.push(e.y)};gT.prototype.snap=function(t,e,n,i){var a=this._snapValues[e];return a&&Qpe(t[n],a[n],i)};gT.prototype.initDefaults=function(t){var e=this;J(t||{},function(n,i){J(n,function(a){e.add(i,a)})})};var eut=1250;function dl(t,e,n){var i=this;this._elementRegistry=t,e.on(["create.start","shape.move.start"],function(a){i.initSnap(a)}),e.on(["create.move","create.end","shape.move.move","shape.move.end"],eut,function(a){var c=a.context,d=c.shape,h=c.snapContext,m=c.target;if(!(a.originalEvent&&go(a.originalEvent))&&!(eu(a)||!m)){var g=h.pointsForTarget(m);g.initialized||(g=i.addSnapTargetPoints(g,d,m),g.initialized=!0),n.snap(a,g)}}),e.on(["create.cleanup","shape.move.cleanup"],function(){n.hide()})}dl.$inject=["elementRegistry","eventBus","snapping"];dl.prototype.initSnap=function(t){var e=this._elementRegistry,n=t.context,i=n.shape,a=n.snapContext;a||(a=n.snapContext=new ou);var c;e.get(i.id)?c=_a(i,t):c={x:t.x+_a(i).x,y:t.y+_a(i).y};var d={x:c.x-i.width/2,y:c.y-i.height/2},h={x:c.x+i.width/2,y:c.y+i.height/2};return a.setSnapOrigin("mid",{x:c.x-t.x,y:c.y-t.y}),po(i)||(a.setSnapOrigin("top-left",{x:d.x-t.x,y:d.y-t.y}),a.setSnapOrigin("bottom-right",{x:h.x-t.x,y:h.y-t.y})),a};dl.prototype.addSnapTargetPoints=function(t,e,n){var i=this.getSnapTargets(e,n);return J(i,function(a){if(po(a)){po(e)&&t.add("mid",_a(a));return}if(Tn(a)){if(a.waypoints.length<3)return;var c=a.waypoints.slice(1,-1);J(c,function(d){t.add("mid",d)});return}t.add("mid",_a(a))}),!ot(e.x)||!ot(e.y)||this._elementRegistry.get(e.id)&&t.add("mid",_a(e)),t};dl.prototype.getSnapTargets=function(t,e){return nD(e).filter(function(n){return!tut(n)})};function tut(t){return!!t.hidden}var T1e=1500;function x0(t,e){e.invoke(dl,this),t.on(["create.move","create.end"],T1e,out),t.on(["create.move","create.end","shape.move.move","shape.move.end"],T1e,function(n){var i=n.context,a=i.canExecute,c=i.target,d=a&&(a==="attach"||a.attach);d&&!eu(n)&&nut(n,c)})}ke(x0,dl);x0.$inject=["eventBus","injector"];x0.prototype.initSnap=function(t){var e=dl.prototype.initSnap.call(this,t),n=t.shape,i=!!this._elementRegistry.get(n.id);return J(n.outgoing,function(a){var c=a.waypoints[0];c=c.original||c,e.setSnapOrigin(a.id+"-docking",P1e(c,i,t))}),J(n.incoming,function(a){var c=a.waypoints[a.waypoints.length-1];c=c.original||c,e.setSnapOrigin(a.id+"-docking",P1e(c,i,t))}),M(n,"bpmn:Participant")&&e.setSnapLocations(["top-left","bottom-right","mid"]),e};x0.prototype.addSnapTargetPoints=function(t,e,n){dl.prototype.addSnapTargetPoints.call(this,t,e,n);var i=this.getSnapTargets(e,n);J(i,function(c){(iut(c)||rut([e,c],"bpmn:TextAnnotation"))&&(t.add("top-left",eD(c)),t.add("bottom-right",tD(c)))});var a=this._elementRegistry;return J(e.incoming,function(c){if(a.get(e.id)){k1e(i,c.source)||t.add("mid",Je(c.source));var d=c.waypoints[0];t.add(c.id+"-docking",d.original||d)}}),J(e.outgoing,function(c){if(a.get(e.id)){k1e(i,c.target)||t.add("mid",Je(c.target));var d=c.waypoints[c.waypoints.length-1];t.add(c.id+"-docking",d.original||d)}}),M(n,"bpmn:SequenceFlow")&&(t=this.addSnapTargetPoints(t,e,n.parent)),t};x0.prototype.getSnapTargets=function(t,e){return dl.prototype.getSnapTargets.call(this,t,e).filter(function(n){return!M(n,"bpmn:Lane")})};function nut(t,e){var n=Xe(e),i=KD(t,e),a=t.context,c=a.shape,d;c.parent?d={x:0,y:0}:d=Je(c),/top/.test(i)?hr(t,"y",n.top-d.y):/bottom/.test(i)&&hr(t,"y",n.bottom-d.y),/left/.test(i)?hr(t,"x",n.left-d.x):/right/.test(i)&&hr(t,"x",n.right-d.x)}function rut(t,e){return t.every(function(n){return M(n,e)})}function iut(t){return M(t,"bpmn:SubProcess")&&bt(t)?!0:M(t,"bpmn:Participant")}function out(t){var e=t.context,n=e.createConstraints;if(n){var i=n.top,a=n.right,c=n.bottom,d=n.left;(d&&d>=t.x||a&&a<=t.x)&&hr(t,"x",t.x),(i&&i>=t.y||c&&c<=t.y)&&hr(t,"y",t.y)}}function k1e(t,e){return t.indexOf(e)!==-1}function P1e(t,e,n){return e?{x:t.x-n.x,y:t.y-n.y}:{x:t.x,y:t.y}}var sut=1250;function d1(t,e){var n=this;t.on(["resize.start"],function(i){n.initSnap(i)}),t.on(["resize.move","resize.end"],sut,function(i){var a=i.context,c=a.shape,d=c.parent,h=a.direction,m=a.snapContext;if(!(i.originalEvent&&go(i.originalEvent))&&!eu(i)){var g=m.pointsForTarget(d);g.initialized||(g=n.addSnapTargetPoints(g,c,d,h),g.initialized=!0),cut(h)&&hr(i,"x",i.x),uut(h)&&hr(i,"y",i.y),e.snap(i,g)}}),t.on(["resize.cleanup"],function(){e.hide()})}d1.prototype.initSnap=function(t){var e=t.context,n=e.shape,i=e.direction,a=e.snapContext;a||(a=e.snapContext=new ou);var c=I1e(n,i);return a.setSnapOrigin("corner",{x:c.x-t.x,y:c.y-t.y}),a};d1.prototype.addSnapTargetPoints=function(t,e,n,i){var a=this.getSnapTargets(e,n);return J(a,function(c){t.add("corner",tD(c)),t.add("corner",eD(c))}),t.add("corner",I1e(e,i)),t};d1.$inject=["eventBus","snapping"];d1.prototype.getSnapTargets=function(t,e){return nD(e).filter(function(n){return!aut(n,t)&&!Tn(n)&&!lut(n)&&!po(n)})};function I1e(t,e){var n=Je(t),i=Xe(t),a={x:n.x,y:n.y};return e.indexOf("n")!==-1?a.y=i.top:e.indexOf("s")!==-1&&(a.y=i.bottom),e.indexOf("e")!==-1?a.x=i.right:e.indexOf("w")!==-1&&(a.x=i.left),a}function aut(t,e){return t.host===e}function lut(t){return!!t.hidden}function cut(t){return t==="n"||t==="s"}function uut(t){return t==="e"||t==="w"}var dut=7,fut=1e3;function Cd(t){this._canvas=t,this._asyncHide=i2(ai(this.hide,this),fut)}Cd.$inject=["canvas"];Cd.prototype.snap=function(t,e){var n=t.context,i=n.snapContext,a=i.getSnapLocations(),c={x:eu(t,"x"),y:eu(t,"y")};J(a,function(d){var h=i.getSnapOrigin(d),m={x:t.x+h.x,y:t.y+h.y};if(J(["x","y"],function(g){var b;c[g]||(b=e.snap(m,d,g,dut),b!==void 0&&(c[g]={value:b,originValue:b-h[g]}))}),c.x&&c.y)return!1}),this.showSnapLine("vertical",c.x&&c.x.value),this.showSnapLine("horizontal",c.y&&c.y.value),J(["x","y"],function(d){var h=c[d];Un(h)&&hr(t,d,h.originValue)})};Cd.prototype._createLine=function(t){var e=this._canvas.getLayer("snap"),n=We("path");return Ne(n,{d:"M0,0 L0,0"}),St(n).add("djs-snap-line"),et(e,n),{update:function(i){ot(i)?t==="horizontal"?Ne(n,{d:"M-100000,"+i+" L+100000,"+i,display:""}):Ne(n,{d:"M "+i+",-100000 L "+i+", +100000",display:""}):Ne(n,{display:"none"})}}};Cd.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}};Cd.prototype.showSnapLine=function(t,e){var n=this.getSnapLine(t);n&&n.update(e),this._asyncHide()};Cd.prototype.getSnapLine=function(t){return this._snapLines||this._createSnapLines(),this._snapLines[t]};Cd.prototype.hide=function(){J(this._snapLines,function(t){t.update()})};var M1e={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",dl],resizeSnapping:["type",d1],snapping:["type",Cd]};var A1e={__depends__:[M1e],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",mT],createMoveSnapping:["type",x0]};function Dt(t,e,n,i){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=t,this._eventBus=e,this._overlays=n,this._selection=i,this._container=jt(Dt.BOX_HTML),this._searchInput=Et(Dt.INPUT_SELECTOR,this._container),this._resultsContainer=Et(Dt.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),e.on(["canvas.destroy","diagram.destroy"],this.close,this)}Dt.$inject=["canvas","eventBus","overlays","selection"];Dt.prototype._bindEvents=function(){var t=this;function e(n,i,a,c){t._eventMaps.push({el:n,type:a,listener:Wi.bind(n,i,a,c)})}e(document,"html","click",function(n){t.close()}),e(this._container,Dt.INPUT_SELECTOR,"click",function(n){n.stopPropagation(),n.delegateTarget.focus()}),e(this._container,Dt.RESULT_SELECTOR,"mouseover",function(n){n.stopPropagation(),t._scrollToNode(n.delegateTarget),t._preselect(n.delegateTarget)}),e(this._container,Dt.RESULT_SELECTOR,"click",function(n){n.stopPropagation(),t._select(n.delegateTarget)}),e(this._container,Dt.INPUT_SELECTOR,"keydown",function(n){Yr("ArrowUp",n)&&n.preventDefault(),Yr("ArrowDown",n)&&n.preventDefault()}),e(this._container,Dt.INPUT_SELECTOR,"keyup",function(n){if(Yr("Escape",n))return t.close();if(Yr("Enter",n)){var i=t._getCurrentResult();return i?t._select(i):t.close()}if(Yr("ArrowUp",n))return t._scrollToDirection(!0);if(Yr("ArrowDown",n))return t._scrollToDirection();Yr(["ArrowLeft","ArrowRight"],n)||t._search(n.delegateTarget.value)})};Dt.prototype._unbindEvents=function(){this._eventMaps.forEach(function(t){Wi.unbind(t.el,t.type,t.listener)})};Dt.prototype._search=function(t){var e=this;if(this._clearResults(),!(!t||t==="")){var n=this._searchProvider.find(t);if(n.length){n.forEach(function(a){var c=a.element.id,d=e._createResultNode(a,c);e._results[c]={element:a.element,node:d}});var i=Et(Dt.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(i),this._preselect(i)}}};Dt.prototype._scrollToDirection=function(t){var e=this._getCurrentResult();if(e){var n=t?e.previousElementSibling:e.nextElementSibling;n&&(this._scrollToNode(n),this._preselect(n))}};Dt.prototype._scrollToNode=function(t){if(!(!t||t===this._getCurrentResult())){var e=t.offsetTop,n=this._resultsContainer.scrollTop,i=e-this._resultsContainer.clientHeight+t.clientHeight;e<n?this._resultsContainer.scrollTop=e:n<i&&(this._resultsContainer.scrollTop=i)}};Dt.prototype._clearResults=function(){Fp(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire("searchPad.cleared")};Dt.prototype._getCurrentResult=function(){return Et(Dt.RESULT_SELECTED_SELECTOR,this._resultsContainer)};Dt.prototype._createResultNode=function(t,e){var n=jt(Dt.RESULT_HTML);return t.primaryTokens.length>0&&R1e(n,t.primaryTokens,Dt.RESULT_PRIMARY_HTML),R1e(n,t.secondaryTokens,Dt.RESULT_SECONDARY_HTML),vi(n,Dt.RESULT_ID_ATTRIBUTE,e),this._resultsContainer.appendChild(n),n};Dt.prototype.registerProvider=function(t){this._searchProvider=t};Dt.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._bindEvents(),this._open=!0,_r(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))};Dt.prototype.close=function(){this.isOpen()&&(this._unbindEvents(),this._open=!1,_r(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire("searchPad.closed"))};Dt.prototype.toggle=function(){this.isOpen()?this.close():this.open()};Dt.prototype.isOpen=function(){return this._open};Dt.prototype._preselect=function(t){var e=this._getCurrentResult();if(t!==e){e&&_r(e).remove(Dt.RESULT_SELECTED_CLASS);var n=vi(t,Dt.RESULT_ID_ATTRIBUTE),i=this._results[n].element;_r(t).add(Dt.RESULT_SELECTED_CLASS),this._resetOverlay(i),this._canvas.scrollToElement(i,{top:400}),this._selection.select(i),this._eventBus.fire("searchPad.preselected",i)}};Dt.prototype._select=function(t){var e=vi(t,Dt.RESULT_ID_ATTRIBUTE),n=this._results[e].element;this.close(),this._resetOverlay(),this._canvas.scrollToElement(n,{top:400}),this._selection.select(n),this._eventBus.fire("searchPad.selected",n)};Dt.prototype._resetOverlay=function(t){if(this._overlayId&&this._overlays.remove(this._overlayId),t){var e=En(t),n=hut(e);this._overlayId=this._overlays.add(t,n)}};function hut(t){var e=6,n=t.width+e*2,i=t.height+e*2,a={width:n+"px",height:i+"px"},c=jt('<div class="'+Dt.OVERLAY_CLASS+'"></div>');return Nr(c,a),{position:{bottom:i-e,right:n-e},show:!0,html:c}}function R1e(t,e,n){var i=put(e),a=jt(n);a.innerHTML=i,t.appendChild(a)}function put(t){var e="";return t.forEach(function(n){n.matched?e+='<strong class="'+Dt.RESULT_HIGHLIGHT_CLASS+'">'+mw(n.matched)+"</strong>":e+=mw(n.normal)}),e!==""?e:null}Dt.CONTAINER_SELECTOR=".djs-search-container";Dt.INPUT_SELECTOR=".djs-search-input input";Dt.RESULTS_CONTAINER_SELECTOR=".djs-search-results";Dt.RESULT_SELECTOR=".djs-search-result";Dt.RESULT_SELECTED_CLASS="djs-search-result-selected";Dt.RESULT_SELECTED_SELECTOR="."+Dt.RESULT_SELECTED_CLASS;Dt.RESULT_ID_ATTRIBUTE="data-result-id";Dt.RESULT_HIGHLIGHT_CLASS="djs-search-highlight";Dt.OVERLAY_CLASS="djs-search-overlay";Dt.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>';Dt.RESULT_HTML='<div class="djs-search-result"></div>';Dt.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>';Dt.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';var L1e={__depends__:[e0,Gi],searchPad:["type",Dt]};function L5(t,e,n){this._elementRegistry=t,this._canvas=n,e.registerProvider(this)}L5.$inject=["elementRegistry","searchPad","canvas"];L5.prototype.find=function(t){var e=this._canvas.getRootElement(),n=this._elementRegistry.filter(function(i){return!i.labelTarget});return n=Ze(n,function(i){return i!==e}),n=Nn(n,function(i){return{primaryTokens:N1e(xi(i),t),secondaryTokens:N1e(i.id,t),element:i}}),n=Ze(n,function(i){return $1e(i.primaryTokens)||$1e(i.secondaryTokens)}),n=fr(n,function(i){return xi(i.element)+i.element.id}),n};function $1e(t){var e=Ze(t,function(n){return!!n.matched});return e.length>0}function N1e(t,e){var n=[],i=t;if(!t)return n;t=t.toLowerCase(),e=e.toLowerCase();var a=t.indexOf(e);return a>-1?(a!==0&&n.push({normal:i.substr(0,a)}),n.push({matched:i.substr(a,e.length)}),e.length+a<t.length&&n.push({normal:i.substr(e.length+a,t.length)})):n.push({normal:i}),n}var F1e={__depends__:[L1e],__init__:["bpmnSearch"],bpmnSearch:["type",L5]};var mut='<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>';function ns(t){Rg.call(this,t)}ke(ns,Rg);ns.Viewer=Zc;ns.NavigatedViewer=$g;ns.prototype.createDiagram=function(){return this.importXML(mut)};ns.prototype.createDiagram=Xp(ns.prototype.createDiagram);ns.prototype._interactionModules=[g7,x7,zhe,E7];ns.prototype._modelingModules=[_pe,H7,Ppe,Ope,Xpe,R2,Jpe,L0e,fD,c0,F0e,V0e,G0e,Q0e,Y0e,eme,sme,n1e,l1e,E1e,w1e,RD,A1e,F1e];ns.prototype._modules=[].concat(Zc.prototype._modules,ns.prototype._interactionModules,ns.prototype._modelingModules);var _4e=wf(Hj());var ZW={};Qse(ZW,{BpmnPropertiesPanelModule:()=>IW,BpmnPropertiesProviderModule:()=>LW,CamundaPlatformPropertiesProviderModule:()=>_Ot,CamundaPlatformTooltipProvider:()=>SOt,ZeebePropertiesProviderModule:()=>qW,ZeebeTooltipProvider:()=>COt,useService:()=>A});var F5,pt,Y1e,gut,f1,q1e,X1e,Uj,K1e,N5={},Z1e=[],vut=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,bT=Array.isArray;function Xf(t,e){for(var n in e)t[n]=e[n];return t}function J1e(t){var e=t.parentNode;e&&e.removeChild(t)}function hn(t,e,n){var i,a,c,d={};for(c in e)c=="key"?i=e[c]:c=="ref"?a=e[c]:d[c]=e[c];if(arguments.length>2&&(d.children=arguments.length>3?F5.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(c in t.defaultProps)d[c]===void 0&&(d[c]=t.defaultProps[c]);return $5(t,d,i,a,null)}function $5(t,e,n,i,a){var c={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:a??++Y1e,__i:-1,__u:0};return a==null&&pt.vnode!=null&&pt.vnode(c),c}function Gj(){return{current:null}}function Js(t){return t.children}function ic(t,e){this.props=t,this.context=e}function ub(t,e){if(e==null)return t.__?ub(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?ub(t):null}function eve(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return eve(t)}}function qj(t){(!t.__d&&(t.__d=!0)&&f1.push(t)&&!yT.__r++||q1e!==pt.debounceRendering)&&((q1e=pt.debounceRendering)||X1e)(yT)}function yT(){var t,e,n,i,a,c,d,h,m;for(f1.sort(Uj);t=f1.shift();)t.__d&&(e=f1.length,i=void 0,c=(a=(n=t).__v).__e,h=[],m=[],(d=n.__P)&&((i=Xf({},a)).__v=a.__v+1,pt.vnode&&pt.vnode(i),Qj(d,i,a,n.__n,d.ownerSVGElement!==void 0,32&a.__u?[c]:null,h,c??ub(a),!!(32&a.__u),m),i.__.__k[i.__i]=i,rve(h,i,m),i.__e!=c&&eve(i)),f1.length>e&&f1.sort(Uj));yT.__r=0}function tve(t,e,n,i,a,c,d,h,m,g,b){var E,_,S,D,k,I=i&&i.__k||Z1e,R=e.length;for(n.__d=m,yut(n,e,I),m=n.__d,E=0;E<R;E++)(S=n.__k[E])!=null&&typeof S!="boolean"&&typeof S!="function"&&(_=S.__i===-1?N5:I[S.__i]||N5,S.__i=E,Qj(t,S,_,a,c,d,h,m,g,b),D=S.__e,S.ref&&_.ref!=S.ref&&(_.ref&&Yj(_.ref,null,S),b.push(S.ref,S.__c||D,S)),k==null&&D!=null&&(k=D),65536&S.__u||_.__k===S.__k?m=nve(S,m,t):typeof S.type=="function"&&S.__d!==void 0?m=S.__d:D&&(m=D.nextSibling),S.__d=void 0,S.__u&=-196609);n.__d=m,n.__e=k}function yut(t,e,n){var i,a,c,d,h,m=e.length,g=n.length,b=g,E=0;for(t.__k=[],i=0;i<m;i++)(a=t.__k[i]=(a=e[i])==null||typeof a=="boolean"||typeof a=="function"?null:typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?$5(null,a,null,null,a):bT(a)?$5(Js,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?$5(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a)!=null?(a.__=t,a.__b=t.__b+1,h=but(a,n,d=i+E,b),a.__i=h,c=null,h!==-1&&(b--,(c=n[h])&&(c.__u|=131072)),c==null||c.__v===null?(h==-1&&E--,typeof a.type!="function"&&(a.__u|=65536)):h!==d&&(h===d+1?E++:h>d?b>m-d?E+=h-d:E--:E=h<d&&h==d-1?h-d:0,h!==i+E&&(a.__u|=65536))):(c=n[i])&&c.key==null&&c.__e&&(c.__e==t.__d&&(t.__d=ub(c)),Wj(c,c,!1),n[i]=null,b--);if(b)for(i=0;i<g;i++)(c=n[i])!=null&&!(131072&c.__u)&&(c.__e==t.__d&&(t.__d=ub(c)),Wj(c,c))}function nve(t,e,n){var i,a;if(typeof t.type=="function"){for(i=t.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=t,e=nve(i[a],e,n));return e}return t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e),e&&e.nextSibling}function Sd(t,e){return e=e||[],t==null||typeof t=="boolean"||(bT(t)?t.some(function(n){Sd(n,e)}):e.push(t)),e}function but(t,e,n,i){var a=t.key,c=t.type,d=n-1,h=n+1,m=e[n];if(m===null||m&&a==m.key&&c===m.type)return n;if(i>(m!=null&&!(131072&m.__u)?1:0))for(;d>=0||h<e.length;){if(d>=0){if((m=e[d])&&!(131072&m.__u)&&a==m.key&&c===m.type)return d;d--}if(h<e.length){if((m=e[h])&&!(131072&m.__u)&&a==m.key&&c===m.type)return h;h++}}return-1}function W1e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||vut.test(e)?n:n+"px"}function vT(t,e,n,i,a){var c;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||W1e(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||W1e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")c=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+c]=n,n?i?n.u=i.u:(n.u=Date.now(),t.addEventListener(e,c?Q1e:G1e,c)):t.removeEventListener(e,c?Q1e:G1e,c);else{if(a)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function G1e(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(pt.event?pt.event(t):t)}function Q1e(t){return this.l[t.type+!0](pt.event?pt.event(t):t)}function Qj(t,e,n,i,a,c,d,h,m,g){var b,E,_,S,D,k,I,R,$,F,L,V,G,re,ee,oe=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(m=!!(32&n.__u),c=[h=e.__e=n.__e]),(b=pt.__b)&&b(e);e:if(typeof oe=="function")try{if(R=e.props,$=(b=oe.contextType)&&i[b.__c],F=b?$?$.props.value:b.__:i,n.__c?I=(E=e.__c=n.__c).__=E.__E:("prototype"in oe&&oe.prototype.render?e.__c=E=new oe(R,F):(e.__c=E=new ic(R,F),E.constructor=oe,E.render=Eut),$&&$.sub(E),E.props=R,E.state||(E.state={}),E.context=F,E.__n=i,_=E.__d=!0,E.__h=[],E._sb=[]),E.__s==null&&(E.__s=E.state),oe.getDerivedStateFromProps!=null&&(E.__s==E.state&&(E.__s=Xf({},E.__s)),Xf(E.__s,oe.getDerivedStateFromProps(R,E.__s))),S=E.props,D=E.state,E.__v=e,_)oe.getDerivedStateFromProps==null&&E.componentWillMount!=null&&E.componentWillMount(),E.componentDidMount!=null&&E.__h.push(E.componentDidMount);else{if(oe.getDerivedStateFromProps==null&&R!==S&&E.componentWillReceiveProps!=null&&E.componentWillReceiveProps(R,F),!E.__e&&(E.shouldComponentUpdate!=null&&E.shouldComponentUpdate(R,E.__s,F)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(E.props=R,E.state=E.__s,E.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(pe){pe&&(pe.__=e)}),L=0;L<E._sb.length;L++)E.__h.push(E._sb[L]);E._sb=[],E.__h.length&&d.push(E);break e}E.componentWillUpdate!=null&&E.componentWillUpdate(R,E.__s,F),E.componentDidUpdate!=null&&E.__h.push(function(){E.componentDidUpdate(S,D,k)})}if(E.context=F,E.props=R,E.__P=t,E.__e=!1,V=pt.__r,G=0,"prototype"in oe&&oe.prototype.render){for(E.state=E.__s,E.__d=!1,V&&V(e),b=E.render(E.props,E.state,E.context),re=0;re<E._sb.length;re++)E.__h.push(E._sb[re]);E._sb=[]}else do E.__d=!1,V&&V(e),b=E.render(E.props,E.state,E.context),E.state=E.__s;while(E.__d&&++G<25);E.state=E.__s,E.getChildContext!=null&&(i=Xf(Xf({},i),E.getChildContext())),_||E.getSnapshotBeforeUpdate==null||(k=E.getSnapshotBeforeUpdate(S,D)),tve(t,bT(ee=b!=null&&b.type===Js&&b.key==null?b.props.children:b)?ee:[ee],e,n,i,a,c,d,h,m,g),E.base=e.__e,e.__u&=-161,E.__h.length&&d.push(E),I&&(E.__E=E.__=null)}catch(pe){e.__v=null,m||c!=null?(e.__e=h,e.__u|=m?160:32,c[c.indexOf(h)]=null):(e.__e=n.__e,e.__k=n.__k),pt.__e(pe,e,n)}else c==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=xut(n.__e,e,n,i,a,c,d,m,g);(b=pt.diffed)&&b(e)}function rve(t,e,n){e.__d=void 0;for(var i=0;i<n.length;i++)Yj(n[i],n[++i],n[++i]);pt.__c&&pt.__c(e,t),t.some(function(a){try{t=a.__h,a.__h=[],t.some(function(c){c.call(a)})}catch(c){pt.__e(c,a.__v)}})}function xut(t,e,n,i,a,c,d,h,m){var g,b,E,_,S,D,k,I=n.props,R=e.props,$=e.type;if($==="svg"&&(a=!0),c!=null){for(g=0;g<c.length;g++)if((S=c[g])&&"setAttribute"in S==!!$&&($?S.localName===$:S.nodeType===3)){t=S,c[g]=null;break}}if(t==null){if($===null)return document.createTextNode(R);t=a?document.createElementNS("http://www.w3.org/2000/svg",$):document.createElement($,R.is&&R),c=null,h=!1}if($===null)I===R||h&&t.data===R||(t.data=R);else{if(c=c&&F5.call(t.childNodes),I=n.props||N5,!h&&c!=null)for(I={},g=0;g<t.attributes.length;g++)I[(S=t.attributes[g]).name]=S.value;for(g in I)S=I[g],g=="children"||(g=="dangerouslySetInnerHTML"?E=S:g==="key"||g in R||vT(t,g,null,S,a));for(g in R)S=R[g],g=="children"?_=S:g=="dangerouslySetInnerHTML"?b=S:g=="value"?D=S:g=="checked"?k=S:g==="key"||h&&typeof S!="function"||I[g]===S||vT(t,g,S,I[g],a);if(b)h||E&&(b.__html===E.__html||b.__html===t.innerHTML)||(t.innerHTML=b.__html),e.__k=[];else if(E&&(t.innerHTML=""),tve(t,bT(_)?_:[_],e,n,i,a&&$!=="foreignObject",c,d,c?c[0]:n.__k&&ub(n,0),h,m),c!=null)for(g=c.length;g--;)c[g]!=null&&J1e(c[g]);h||(g="value",D!==void 0&&(D!==t[g]||$==="progress"&&!D||$==="option"&&D!==I[g])&&vT(t,g,D,I[g],!1),g="checked",k!==void 0&&k!==t[g]&&vT(t,g,k,I[g],!1))}return t}function Yj(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(i){pt.__e(i,n)}}function Wj(t,e,n){var i,a;if(pt.unmount&&pt.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||Yj(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(c){pt.__e(c,e)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(a=0;a<i.length;a++)i[a]&&Wj(i[a],e,n||typeof t.type!="function");n||t.__e==null||J1e(t.__e),t.__=t.__e=t.__d=void 0}function Eut(t,e,n){return this.constructor(t,n)}function oc(t,e,n){var i,a,c,d;pt.__&&pt.__(t,e),a=(i=typeof n=="function")?null:n&&n.__k||e.__k,c=[],d=[],Qj(e,t=(!i&&n||e).__k=hn(Js,null,[t]),a||N5,N5,e.ownerSVGElement!==void 0,!i&&n?[n]:a?null:e.firstChild?F5.call(e.childNodes):null,c,!i&&n?n:a?a.__e:e.firstChild,i,d),rve(c,t,d)}function Xj(t,e){oc(t,e,Xj)}function ive(t,e,n){var i,a,c,d,h=Xf({},t.props);for(c in t.type&&t.type.defaultProps&&(d=t.type.defaultProps),e)c=="key"?i=e[c]:c=="ref"?a=e[c]:h[c]=e[c]===void 0&&d!==void 0?d[c]:e[c];return arguments.length>2&&(h.children=arguments.length>3?F5.call(arguments,2):n),$5(t.type,h,i||t.key,a||t.ref,null)}function Ta(t,e){var n={__c:e="__cC"+K1e++,__:t,Consumer:function(i,a){return i.children(a)},Provider:function(i){var a,c;return this.getChildContext||(a=[],(c={})[e]=this,this.getChildContext=function(){return c},this.shouldComponentUpdate=function(d){this.props.value!==d.value&&a.some(function(h){h.__e=!0,qj(h)})},this.sub=function(d){a.push(d);var h=d.componentWillUnmount;d.componentWillUnmount=function(){a.splice(a.indexOf(d),1),h&&h.call(d)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}F5=Z1e.slice,pt={__e:function(t,e,n,i){for(var a,c,d;e=e.__;)if((a=e.__c)&&!a.__)try{if((c=a.constructor)&&c.getDerivedStateFromError!=null&&(a.setState(c.getDerivedStateFromError(t)),d=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,i||{}),d=a.__d),d)return a.__E=a}catch(h){t=h}throw t}},Y1e=0,gut=function(t){return t!=null&&t.constructor==null},ic.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Xf({},this.state),typeof t=="function"&&(t=t(Xf({},n),this.props)),t&&Xf(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),qj(this))},ic.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),qj(this))},ic.prototype.render=Js,f1=[],X1e=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Uj=function(t,e){return t.__v.__b-e.__v.__b},yT.__r=0,K1e=0;var E0,jr,Kj,ove,db=0,fve=[],xT=[],sve=pt.__b,ave=pt.__r,lve=pt.diffed,cve=pt.__c,uve=pt.unmount;function fb(t,e){pt.__h&&pt.__h(jr,t,db||e),db=0;var n=jr.__H||(jr.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:xT}),n.__[t]}function Tt(t){return db=1,Jj(gve,t)}function Jj(t,e,n){var i=fb(E0++,2);if(i.t=t,!i.__c&&(i.__=[n?n(e):gve(void 0,e),function(h){var m=i.__N?i.__N[0]:i.__[0],g=i.t(m,h);m!==g&&(i.__N=[g,i.__[1]],i.__c.setState({}))}],i.__c=jr,!jr.u)){var a=function(h,m,g){if(!i.__c.__H)return!0;var b=i.__c.__H.__.filter(function(_){return _.__c});if(b.every(function(_){return!_.__N}))return!c||c.call(this,h,m,g);var E=!1;return b.forEach(function(_){if(_.__N){var S=_.__[0];_.__=_.__N,_.__N=void 0,S!==_.__[0]&&(E=!0)}}),!(!E&&i.__c.props===h)&&(!c||c.call(this,h,m,g))};jr.u=!0;var c=jr.shouldComponentUpdate,d=jr.componentWillUpdate;jr.componentWillUpdate=function(h,m,g){if(this.__e){var b=c;c=void 0,a(h,m,g),c=b}d&&d.call(this,h,m,g)},jr.shouldComponentUpdate=a}return i.__N||i.__}function at(t,e){var n=fb(E0++,3);!pt.__s&&eV(n.__H,e)&&(n.__=t,n.i=e,jr.__H.__h.push(n))}function Od(t,e){var n=fb(E0++,4);!pt.__s&&eV(n.__H,e)&&(n.__=t,n.i=e,jr.__h.push(n))}function Wn(t){return db=5,wi(function(){return{current:t}},[])}function hve(t,e,n){db=6,Od(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},n==null?n:n.concat(t))}function wi(t,e){var n=fb(E0++,7);return eV(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function Or(t,e){return db=8,wi(function(){return t},e)}function Xi(t){var e=jr.context[t.__c],n=fb(E0++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(jr)),e.props.value):t.__}function pve(t,e){pt.useDebugValue&&pt.useDebugValue(e?e(t):t)}function mve(){var t=fb(E0++,11);if(!t.__){for(var e=jr.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function wut(){for(var t;t=fve.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ET),t.__H.__h.forEach(Zj),t.__H.__h=[]}catch(e){t.__H.__h=[],pt.__e(e,t.__v)}}pt.__b=function(t){jr=null,sve&&sve(t)},pt.__r=function(t){ave&&ave(t),E0=0;var e=(jr=t.__c).__H;e&&(Kj===jr?(e.__h=[],jr.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=xT,n.__N=n.i=void 0})):(e.__h.forEach(ET),e.__h.forEach(Zj),e.__h=[],E0=0)),Kj=jr},pt.diffed=function(t){lve&&lve(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(fve.push(e)!==1&&ove===pt.requestAnimationFrame||((ove=pt.requestAnimationFrame)||_ut)(wut)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==xT&&(n.__=n.__V),n.i=void 0,n.__V=xT})),Kj=jr=null},pt.__c=function(t,e){e.some(function(n){try{n.__h.forEach(ET),n.__h=n.__h.filter(function(i){return!i.__||Zj(i)})}catch(i){e.some(function(a){a.__h&&(a.__h=[])}),e=[],pt.__e(i,n.__v)}}),cve&&cve(t,e)},pt.unmount=function(t){uve&&uve(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{ET(i)}catch(a){e=a}}),n.__H=void 0,e&&pt.__e(e,n.__v))};var dve=typeof requestAnimationFrame=="function";function _ut(t){var e,n=function(){clearTimeout(i),dve&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);dve&&(e=requestAnimationFrame(n))}function ET(t){var e=jr,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),jr=e}function Zj(t){var e=jr;t.__c=t.__(),jr=e}function eV(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}function gve(t,e){return typeof e=="function"?e(t):e}var kU={};Qse(kU,{ArrowIcon:()=>Gb,CheckboxEntry:()=>as,CloseIcon:()=>yU,CollapsibleEntry:()=>V0,CreateIcon:()=>hP,DebounceInputModule:()=>A4,DeleteIcon:()=>pP,DescriptionContext:()=>bU,DescriptionEntry:()=>ch,DragIcon:()=>mU,DropdownButton:()=>Dvt,ErrorsContext:()=>gP,EventContext:()=>xU,ExternalLinkIcon:()=>gU,FeelCheckboxEntry:()=>gvt,FeelEntry:()=>j0,FeelIcon:()=>vU,FeelNumberEntry:()=>hvt,FeelPopupModule:()=>R4,FeelTemplatingEntry:()=>vvt,FeelTextAreaEntry:()=>pvt,FeelToggleSwitchEntry:()=>mvt,Group:()=>Ut,Header:()=>Zxe,HeaderButton:()=>Pvt,HelpIcon:()=>fP,LayoutContext:()=>gc,ListEntry:()=>z0,ListGroup:()=>Zi,ListItem:()=>aEe,NumberFieldEntry:()=>rvt,Placeholder:()=>pU,Popup:()=>$1,PopupIcon:()=>mP,PropertiesPanel:()=>M4,PropertiesPanelContext:()=>gc,SelectEntry:()=>sr,SimpleEntry:()=>TU,TemplatingEntry:()=>Lvt,TextAreaEntry:()=>Ts,TextFieldEntry:()=>Le,ToggleSwitchEntry:()=>vP,TooltipContext:()=>EU,TooltipEntry:()=>lh,isCheckboxEntryEdited:()=>gl,isFeelEntryEdited:()=>Zr,isNumberFieldEntryEdited:()=>ivt,isSelectEntryEdited:()=>pr,isSimpleEntryEdited:()=>Vvt,isTemplatingEntryEdited:()=>Nvt,isTextAreaEntryEdited:()=>Ra,isTextFieldEntryEdited:()=>Ve,isToggleSwitchEntryEdited:()=>yP,useDescriptionContext:()=>eEe,useElementVisible:()=>nEe,useError:()=>B0,useErrors:()=>wU,useEvent:()=>Wb,useKeyFactory:()=>tEe,useLayoutState:()=>_U,usePrevious:()=>N1,useShowEntryEvent:()=>F1,useStaticCallback:()=>ah,useStickyIntersectionObserver:()=>CU,useTooltipContext:()=>Jxe});function Sve(t,e){for(var n in e)t[n]=e[n];return t}function nV(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function rV(t){this.props=t}function Cut(t,e){function n(a){var c=this.props.ref,d=c==a.ref;return!d&&c&&(c.call?c(null):c.current=null),e?!e(this.props,a)||!d:nV(this.props,a)}function i(a){return this.shouldComponentUpdate=n,hn(t,a)}return i.displayName="Memo("+(t.displayName||t.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(rV.prototype=new ic).isPureReactComponent=!0,rV.prototype.shouldComponentUpdate=function(t,e){return nV(this.props,t)||nV(this.state,e)};var vve=pt.__b;pt.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),vve&&vve(t)};var Sut=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Dd(t){function e(n){var i=Sve({},n);return delete i.ref,t(i,n.ref||null)}return e.$$typeof=Sut,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var yve=function(t,e){return t==null?null:Sd(Sd(t).map(e))},Out={map:yve,forEach:yve,count:function(t){return t?Sd(t).length:0},only:function(t){var e=Sd(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:Sd},Dut=pt.__e;pt.__e=function(t,e,n,i){if(t.then){for(var a,c=e;c=c.__;)if((a=c.__c)&&a.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),a.__c(t,e)}Dut(t,e,n,i)};var bve=pt.unmount;function Ove(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),t.__c.__H=null),(t=Sve({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(i){return Ove(i,e,n)})),t}function Dve(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(i){return Dve(i,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function wT(){this.__u=0,this.t=null,this.__b=null}function Tve(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Tut(t){var e,n,i;function a(c){if(e||(e=t()).then(function(d){n=d.default||d},function(d){i=d}),i)throw i;if(!n)throw e;return hn(n,c)}return a.displayName="Lazy",a.__f=!0,a}function B5(){this.u=null,this.o=null}pt.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),bve&&bve(t)},(wT.prototype=new ic).__c=function(t,e){var n=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var a=Tve(i.__v),c=!1,d=function(){c||(c=!0,n.__R=null,a?a(h):h())};n.__R=d;var h=function(){if(!--i.__u){if(i.state.__a){var m=i.state.__a;i.__v.__k[0]=Dve(m,m.__c.__P,m.__c.__O)}var g;for(i.setState({__a:i.__b=null});g=i.t.pop();)g.forceUpdate()}};i.__u++||32&e.__u||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(d,d)},wT.prototype.componentWillUnmount=function(){this.t=[]},wT.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=Ove(this.__b,n,i.__O=i.__P)}this.__b=null}var a=e.__a&&hn(Js,null,t.fallback);return a&&(a.__u&=-33),[hn(Js,null,e.__a?null:t.children),a]};var xve=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function kut(t){return this.getChildContext=function(){return t.context},t.children}function Put(t){var e=this,n=t.i;e.componentWillUnmount=function(){oc(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,a){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),oc(hn(kut,{context:e.context},t.__v),e.l)}function _T(t,e){var n=hn(Put,{__v:t,i:e});return n.containerInfo=e,n}(B5.prototype=new ic).__a=function(t){var e=this,n=Tve(e.__v),i=e.o.get(t);return i[0]++,function(a){var c=function(){e.props.revealOrder?(i.push(a),xve(e,t,i)):a()};n?n(c):c()}},B5.prototype.render=function(t){this.u=null,this.o=new Map;var e=Sd(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},B5.prototype.componentDidUpdate=B5.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){xve(t,n,e)})};var kve=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Iut=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Mut=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Aut=/[A-Z0-9]/g,Rut=typeof document<"u",Lut=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function $ut(t,e,n){return e.__k==null&&(e.textContent=""),oc(t,e),typeof n=="function"&&n(),t?t.__c:null}function Nut(t,e,n){return Xj(t,e),typeof n=="function"&&n(),t?t.__c:null}ic.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(ic.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Eve=pt.event;function Fut(){}function But(){return this.cancelBubble}function jut(){return this.defaultPrevented}pt.event=function(t){return Eve&&(t=Eve(t)),t.persist=Fut,t.isPropagationStopped=But,t.isDefaultPrevented=jut,t.nativeEvent=t};var iV,Vut={enumerable:!1,configurable:!0,get:function(){return this.class}},wve=pt.vnode;pt.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,i=e.type,a={};for(var c in n){var d=n[c];if(!(c==="value"&&"defaultValue"in n&&d==null||Rut&&c==="children"&&i==="noscript"||c==="class"||c==="className")){var h=c.toLowerCase();c==="defaultValue"&&"value"in n&&n.value==null?c="value":c==="download"&&d===!0?d="":h==="ondoubleclick"?c="ondblclick":h!=="onchange"||i!=="input"&&i!=="textarea"||Lut(n.type)?h==="onfocus"?c="onfocusin":h==="onblur"?c="onfocusout":Mut.test(c)?c=h:i.indexOf("-")===-1&&Iut.test(c)?c=c.replace(Aut,"-$&").toLowerCase():d===null&&(d=void 0):h=c="oninput",h==="oninput"&&a[c=h]&&(c="oninputCapture"),a[c]=d}}i=="select"&&a.multiple&&Array.isArray(a.value)&&(a.value=Sd(n.children).forEach(function(m){m.props.selected=a.value.indexOf(m.props.value)!=-1})),i=="select"&&a.defaultValue!=null&&(a.value=Sd(n.children).forEach(function(m){m.props.selected=a.multiple?a.defaultValue.indexOf(m.props.value)!=-1:a.defaultValue==m.props.value})),n.class&&!n.className?(a.class=n.class,Object.defineProperty(a,"className",Vut)):(n.className&&!n.class||n.class&&n.className)&&(a.class=a.className=n.className),e.props=a}(t),t.$$typeof=kve,wve&&wve(t)};var _ve=pt.__r;pt.__r=function(t){_ve&&_ve(t),iV=t.__c};var Cve=pt.diffed;pt.diffed=function(t){Cve&&Cve(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value),iV=null};var zut={ReactCurrentDispatcher:{current:{readContext:function(t){return iV.__n[t.__c].props.value}}}};function Hut(t){return hn.bind(null,t)}function CT(t){return!!t&&t.$$typeof===kve}function Uut(t){return CT(t)&&t.type===Js}function qut(t){return CT(t)?ive.apply(null,arguments):t}function Wut(t){return!!t.__k&&(oc(null,t),!0)}function Gut(t){return t&&(t.base||t.nodeType===1&&t)||null}var Qut=function(t,e){return t(e)},Yut=function(t,e){return t(e)},Xut=Js;function Pve(t){t()}function Kut(t){return t}function Zut(){return[!1,Pve]}var Jut=Od,edt=CT;function tdt(t,e){var n=e(),i=Tt({h:{__:n,v:e}}),a=i[0].h,c=i[1];return Od(function(){a.__=n,a.v=e,tV(a)&&c({h:a})},[t,n,e]),at(function(){return tV(a)&&c({h:a}),t(function(){tV(a)&&c({h:a})})},[t]),n}function tV(t){var e,n,i=t.v,a=t.__;try{var c=i();return!((e=a)===(n=c)&&(e!==0||1/e==1/n)||e!=e&&n!=n)}catch{return!0}}var ye={useState:Tt,useId:mve,useReducer:Jj,useEffect:at,useLayoutEffect:Od,useInsertionEffect:Jut,useTransition:Zut,useDeferredValue:Kut,useSyncExternalStore:tdt,startTransition:Pve,useRef:Wn,useImperativeHandle:hve,useMemo:wi,useCallback:Or,useContext:Xi,useDebugValue:pve,version:"17.0.2",Children:Out,render:$ut,hydrate:Nut,unmountComponentAtNode:Wut,createPortal:_T,createElement:hn,createContext:Ta,createFactory:Hut,cloneElement:qut,createRef:Gj,Fragment:Js,isValidElement:CT,isElement:edt,isFragment:Uut,findDOMNode:Gut,Component:ic,PureComponent:rV,memo:Cut,forwardRef:Dd,flushSync:Yut,unstable_batchedUpdates:Qut,StrictMode:Xut,Suspense:wT,SuspenseList:B5,lazy:Tut,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:zut};var rdt=0,Ean=Array.isArray;function z(t,e,n,i,a,c){var d,h,m={};for(h in e)h=="ref"?d=e[h]:m[h]=e[h];var g={type:t,props:m,key:n,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--rdt,__i:-1,__u:0,__source:a,__self:c};if(typeof t=="function"&&(d=t.defaultProps))for(h in d)m[h]===void 0&&(m[h]=d[h]);return pt.vnode&&pt.vnode(g),g}var Jn=wf(Ive());var idt=0,ka=class{constructor(e,n){this.from=e,this.to=n}},kt=class{constructor(e={}){this.id=idt++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=_i.match(e)),n=>{let i=e(n);return i===void 0?null:[this,i]}}};kt.closedBy=new kt({deserialize:t=>t.split(" ")});kt.openedBy=new kt({deserialize:t=>t.split(" ")});kt.group=new kt({deserialize:t=>t.split(" ")});kt.isolate=new kt({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});kt.contextHash=new kt({perNode:!0});kt.lookAhead=new kt({perNode:!0});kt.mounted=new kt({perNode:!0});var h1=class{constructor(e,n,i){this.tree=e,this.overlay=n,this.parser=i}static get(e){return e&&e.props&&e.props[kt.mounted.id]}},odt=Object.create(null),_i=class t{constructor(e,n,i,a=0){this.name=e,this.props=n,this.id=i,this.flags=a}static define(e){let n=e.props&&e.props.length?Object.create(null):odt,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),a=new t(e.name||"",n,e.id,i);if(e.props){for(let c of e.props)if(Array.isArray(c)||(c=c(a)),c){if(c[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[c[0].id]=c[1]}}return a}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(kt.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let i in e)for(let a of i.split(" "))n[a]=e[i];return i=>{for(let a=i.prop(kt.group),c=-1;c<(a?a.length:0);c++){let d=n[c<0?i.name:a[c]];if(d)return d}}}};_i.none=new _i("",Object.create(null),0,8);var w0=class t{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let i of this.types){let a=null;for(let c of e){let d=c(i);d&&(a||(a=Object.assign({},i.props)),a[d[0].id]=d[1])}n.push(a?new _i(i.name,a,i.id,i.flags):i)}return new t(n)}},OT=new WeakMap,Mve=new WeakMap,Vr=function(t){return t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t}(Vr||{}),Kn=class t{constructor(e,n,i,a,c){if(this.type=e,this.children=n,this.positions=i,this.length=a,this.props=null,c&&c.length){this.props=Object.create(null);for(let[d,h]of c)this.props[typeof d=="number"?d:d.id]=h}}toString(){let e=h1.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let i of this.children){let a=i.toString();a&&(n&&(n+=","),n+=a)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new hb(this.topNode,e)}cursorAt(e,n=0,i=0){let a=OT.get(this)||this.topNode,c=new hb(a);return c.moveTo(e,n),OT.set(this,c._tree),c}get topNode(){return new sc(this,0,0,null)}resolve(e,n=0){let i=j5(OT.get(this)||this.topNode,e,n,!1);return OT.set(this,i),i}resolveInner(e,n=0){let i=j5(Mve.get(this)||this.topNode,e,n,!0);return Mve.set(this,i),i}resolveStack(e,n=0){return sdt(this,e,n)}iterate(e){let{enter:n,leave:i,from:a=0,to:c=this.length}=e,d=e.mode||0,h=(d&Vr.IncludeAnonymous)>0;for(let m=this.cursor(d|Vr.IncludeAnonymous);;){let g=!1;if(m.from<=c&&m.to>=a&&(!h&&m.type.isAnonymous||n(m)!==!1)){if(m.firstChild())continue;g=!0}for(;g&&i&&(h||!m.type.isAnonymous)&&i(m),!m.nextSibling();){if(!m.parent())return;g=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:mV(_i.none,this.children,this.positions,0,this.children.length,0,this.length,(n,i,a)=>new t(this.type,n,i,a,this.propValues),e.makeTree||((n,i,a)=>new t(_i.none,n,i,a)))}static build(e){return adt(e)}};Kn.empty=new Kn(_i.none,[],[],0);var oV=class t{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new t(this.buffer,this.index)}},_0=class t{constructor(e,n,i){this.buffer=e,this.length=n,this.set=i}get type(){return _i.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],i=this.buffer[e+3],a=this.set.types[n],c=a.name;if(/\W/.test(c)&&!a.isError&&(c=JSON.stringify(c)),e+=4,i==e)return c;let d=[];for(;e<i;)d.push(this.childString(e)),e=this.buffer[e+3];return c+"("+d.join(",")+")"}findChild(e,n,i,a,c){let{buffer:d}=this,h=-1;for(let m=e;m!=n&&!(Bve(c,a,d[m+1],d[m+2])&&(h=m,i>0));m=d[m+3]);return h}slice(e,n,i){let a=this.buffer,c=new Uint16Array(n-e),d=0;for(let h=e,m=0;h<n;){c[m++]=a[h++],c[m++]=a[h++]-i;let g=c[m++]=a[h++]-i;c[m++]=a[h++]-e,d=Math.max(d,g)}return new t(c,d,this.set)}};function Bve(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function j5(t,e,n,i){for(var a;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let d=!i&&t instanceof sc&&t.index<0?null:t.parent;if(!d)return t;t=d}let c=i?0:Vr.IgnoreOverlays;if(i)for(let d=t,h=d.parent;h;d=h,h=d.parent)d instanceof sc&&d.index<0&&((a=h.enter(e,n,c))===null||a===void 0?void 0:a.from)!=d.from&&(t=h);for(;;){let d=t.enter(e,n,c);if(!d)return t;t=d}}var TT=class{cursor(e=0){return new hb(this,e)}getChild(e,n=null,i=null){let a=Ave(this,e,n,i);return a.length?a[0]:null}getChildren(e,n=null,i=null){return Ave(this,e,n,i)}resolve(e,n=0){return j5(this,e,n,!1)}resolveInner(e,n=0){return j5(this,e,n,!0)}matchContext(e){return sV(this,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),i=this;for(;n;){let a=n.lastChild;if(!a||a.to!=n.to)break;a.type.isError&&a.from==a.to?(i=n,n=a.prevSibling):n=a}return i}get node(){return this}get next(){return this.parent}},sc=class t extends TT{constructor(e,n,i,a){super(),this._tree=e,this.from=n,this.index=i,this._parent=a}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,i,a,c=0){for(let d=this;;){for(let{children:h,positions:m}=d._tree,g=n>0?h.length:-1;e!=g;e+=n){let b=h[e],E=m[e]+d.from;if(Bve(a,i,E,E+b.length)){if(b instanceof _0){if(c&Vr.ExcludeBuffers)continue;let _=b.findChild(0,b.buffer.length,n,i-E,a);if(_>-1)return new V5(new aV(d,b,e,E),null,_)}else if(c&Vr.IncludeAnonymous||!b.type.isAnonymous||pV(b)){let _;if(!(c&Vr.IgnoreMounts)&&(_=h1.get(b))&&!_.overlay)return new t(_.tree,E,e,d);let S=new t(b,E,e,d);return c&Vr.IncludeAnonymous||!S.type.isAnonymous?S:S.nextChild(n<0?b.children.length-1:0,n,i,a)}}}if(c&Vr.IncludeAnonymous||!d.type.isAnonymous||(d.index>=0?e=d.index+n:e=n<0?-1:d._parent._tree.children.length,d=d._parent,!d))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,i=0){let a;if(!(i&Vr.IgnoreOverlays)&&(a=h1.get(this._tree))&&a.overlay){let c=e-this.from;for(let{from:d,to:h}of a.overlay)if((n>0?d<=c:d<c)&&(n<0?h>=c:h>c))return new t(a.tree,a.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function Ave(t,e,n,i){let a=t.cursor(),c=[];if(!a.firstChild())return c;if(n!=null){for(let d=!1;!d;)if(d=a.type.is(n),!a.nextSibling())return c}for(;;){if(i!=null&&a.type.is(i))return c;if(a.type.is(e)&&c.push(a.node),!a.nextSibling())return i==null?c:[]}}function sV(t,e,n=e.length-1){for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}var aV=class{constructor(e,n,i,a){this.parent=e,this.buffer=n,this.index=i,this.start=a}},V5=class t extends TT{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,i){super(),this.context=e,this._parent=n,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,n,i){let{buffer:a}=this.context,c=a.findChild(this.index+4,a.buffer[this.index+3],e,n-this.context.start,i);return c<0?null:new t(this.context,this,c)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,i=0){if(i&Vr.ExcludeBuffers)return null;let{buffer:a}=this.context,c=a.findChild(this.index+4,a.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return c<0?null:new t(this.context,this,c)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new t(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new t(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:i}=this.context,a=this.index+4,c=i.buffer[this.index+3];if(c>a){let d=i.buffer[this.index+1];e.push(i.slice(a,c,d)),n.push(0)}return new Kn(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function jve(t){if(!t.length)return null;let e=0,n=t[0];for(let c=1;c<t.length;c++){let d=t[c];(d.from>n.from||d.to<n.to)&&(n=d,e=c)}let i=n instanceof sc&&n.index<0?null:n.parent,a=t.slice();return i?a[e]=i:a.splice(e,1),new lV(a,n)}var lV=class{constructor(e,n){this.heads=e,this.node=n}get next(){return jve(this.heads)}};function sdt(t,e,n){let i=t.resolveInner(e,n),a=null;for(let c=i instanceof sc?i:i.context.parent;c;c=c.parent)if(c.index<0){let d=c.parent;(a||(a=[i])).push(d.resolve(e,n)),c=d}else{let d=h1.get(c.tree);if(d&&d.overlay&&d.overlay[0].from<=e&&d.overlay[d.overlay.length-1].to>=e){let h=new sc(d.tree,d.overlay[0].from+c.from,-1,c);(a||(a=[i])).push(j5(h,e,n,!1))}}return a?jve(a):i}var hb=class{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof sc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:i,buffer:a}=this.buffer;return this.type=n||a.set.types[a.buffer[e]],this.from=i+a.buffer[e+1],this.to=i+a.buffer[e+2],!0}yield(e){return e?e instanceof sc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,i,this.mode));let{buffer:a}=this.buffer,c=a.findChild(this.index+4,a.buffer[this.index+3],e,n-this.buffer.start,i);return c<0?!1:(this.stack.push(this.index),this.yieldBuf(c))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,i=this.mode){return this.buffer?i&Vr.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Vr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Vr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,i=this.stack.length-1;if(e<0){let a=i<0?0:this.stack[i]+4;if(this.index!=a)return this.yieldBuf(n.findChild(a,this.index,-1,0,4))}else{let a=n.buffer[this.index+3];if(a<(i<0?n.buffer.length:n.buffer[this.stack[i]+3]))return this.yieldBuf(a)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,i,{buffer:a}=this;if(a){if(e>0){if(this.index<a.buffer.buffer.length)return!1}else for(let c=0;c<this.index;c++)if(a.buffer.buffer[c+3]<this.index)return!1;({index:n,parent:i}=a)}else({index:n,_parent:i}=this._tree);for(;i;{index:n,_parent:i}=i)if(n>-1)for(let c=n+e,d=e<0?-1:i._tree.children.length;c!=d;c+=e){let h=i._tree.children[c];if(this.mode&Vr.IncludeAnonymous||h instanceof _0||!h.type.isAnonymous||pV(h))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,i=0;if(e&&e.context==this.buffer)e:for(let a=this.index,c=this.stack.length;c>=0;){for(let d=e;d;d=d._parent)if(d.index==a){if(a==this.index)return d;n=d,i=c+1;break e}a=this.stack[--c]}for(let a=i;a<this.stack.length;a++)n=new V5(this.buffer,n,this.stack[a]);return this.bufferNode=new V5(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let i=0;;){let a=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(a=!0)}for(;a&&n&&n(this),a=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,a=!0}}}matchContext(e){if(!this.buffer)return sV(this.node,e);let{buffer:n}=this.buffer,{types:i}=n.set;for(let a=e.length-1,c=this.stack.length-1;a>=0;c--){if(c<0)return sV(this.node,e,a);let d=i[n.buffer[this.stack[c]]];if(!d.isAnonymous){if(e[a]&&e[a]!=d.name)return!1;a--}}return!0}};function pV(t){return t.children.some(e=>e instanceof _0||!e.type.isAnonymous||pV(e))}function adt(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:a=1024,reused:c=[],minRepeatType:d=i.types.length}=t,h=Array.isArray(n)?new oV(n,n.length):n,m=i.types,g=0,b=0;function E(V,G,re,ee,oe,pe){let{id:ge,start:ce,end:he,size:Se}=h,Qe=b;for(;Se<0;)if(h.next(),Se==-1){let B=c[ge];re.push(B),ee.push(ce-V);return}else if(Se==-3){g=ge;return}else if(Se==-4){b=ge;return}else throw new RangeError(`Unrecognized record size: ${Se}`);let je=m[ge],xe,_t,ne=ce-V;if(he-ce<=a&&(_t=I(h.pos-G,oe))){let B=new Uint16Array(_t.size-_t.skip),ue=h.pos-_t.size,Ee=B.length;for(;h.pos>ue;)Ee=R(_t.start,B,Ee);xe=new _0(B,he-_t.start,i),ne=_t.start-V}else{let B=h.pos-Se;h.next();let ue=[],Ee=[],de=ge>=d?ge:-1,_e=0,Ie=he;for(;h.pos>B;)de>=0&&h.id==de&&h.size>=0?(h.end<=Ie-a&&(D(ue,Ee,ce,_e,h.end,Ie,de,Qe),_e=ue.length,Ie=h.end),h.next()):pe>2500?_(ce,B,ue,Ee):E(ce,B,ue,Ee,de,pe+1);if(de>=0&&_e>0&&_e<ue.length&&D(ue,Ee,ce,_e,ce,Ie,de,Qe),ue.reverse(),Ee.reverse(),de>-1&&_e>0){let tt=S(je);xe=mV(je,ue,Ee,0,ue.length,0,he-ce,tt,tt)}else xe=k(je,ue,Ee,he-ce,Qe-he)}re.push(xe),ee.push(ne)}function _(V,G,re,ee){let oe=[],pe=0,ge=-1;for(;h.pos>G;){let{id:ce,start:he,end:Se,size:Qe}=h;if(Qe>4)h.next();else{if(ge>-1&&he<ge)break;ge<0&&(ge=Se-a),oe.push(ce,he,Se),pe++,h.next()}}if(pe){let ce=new Uint16Array(pe*4),he=oe[oe.length-2];for(let Se=oe.length-3,Qe=0;Se>=0;Se-=3)ce[Qe++]=oe[Se],ce[Qe++]=oe[Se+1]-he,ce[Qe++]=oe[Se+2]-he,ce[Qe++]=Qe;re.push(new _0(ce,oe[2]-he,i)),ee.push(he-V)}}function S(V){return(G,re,ee)=>{let oe=0,pe=G.length-1,ge,ce;if(pe>=0&&(ge=G[pe])instanceof Kn){if(!pe&&ge.type==V&&ge.length==ee)return ge;(ce=ge.prop(kt.lookAhead))&&(oe=re[pe]+ge.length+ce)}return k(V,G,re,ee,oe)}}function D(V,G,re,ee,oe,pe,ge,ce){let he=[],Se=[];for(;V.length>ee;)he.push(V.pop()),Se.push(G.pop()+re-oe);V.push(k(i.types[ge],he,Se,pe-oe,ce-pe)),G.push(oe-re)}function k(V,G,re,ee,oe=0,pe){if(g){let ge=[kt.contextHash,g];pe=pe?[ge].concat(pe):[ge]}if(oe>25){let ge=[kt.lookAhead,oe];pe=pe?[ge].concat(pe):[ge]}return new Kn(V,G,re,ee,pe)}function I(V,G){let re=h.fork(),ee=0,oe=0,pe=0,ge=re.end-a,ce={size:0,start:0,skip:0};e:for(let he=re.pos-V;re.pos>he;){let Se=re.size;if(re.id==G&&Se>=0){ce.size=ee,ce.start=oe,ce.skip=pe,pe+=4,ee+=4,re.next();continue}let Qe=re.pos-Se;if(Se<0||Qe<he||re.start<ge)break;let je=re.id>=d?4:0,xe=re.start;for(re.next();re.pos>Qe;){if(re.size<0)if(re.size==-3)je+=4;else break e;else re.id>=d&&(je+=4);re.next()}oe=xe,ee+=Se,pe+=je}return(G<0||ee==V)&&(ce.size=ee,ce.start=oe,ce.skip=pe),ce.size>4?ce:void 0}function R(V,G,re){let{id:ee,start:oe,end:pe,size:ge}=h;if(h.next(),ge>=0&&ee<d){let ce=re;if(ge>4){let he=h.pos-(ge-4);for(;h.pos>he;)re=R(V,G,re)}G[--re]=ce,G[--re]=pe-V,G[--re]=oe-V,G[--re]=ee}else ge==-3?g=ee:ge==-4&&(b=ee);return re}let $=[],F=[];for(;h.pos>0;)E(t.start||0,t.bufferStart||0,$,F,-1,0);let L=(e=t.length)!==null&&e!==void 0?e:$.length?F[0]+$[0].length:0;return new Kn(m[t.topID],$.reverse(),F.reverse(),L)}var Rve=new WeakMap;function DT(t,e){if(!t.isAnonymous||e instanceof _0||e.type!=t)return 1;let n=Rve.get(e);if(n==null){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof Kn)){n=1;break}n+=DT(t,i)}Rve.set(e,n)}return n}function mV(t,e,n,i,a,c,d,h,m){let g=0;for(let D=i;D<a;D++)g+=DT(t,e[D]);let b=Math.ceil(g*1.5/8),E=[],_=[];function S(D,k,I,R,$){for(let F=I;F<R;){let L=F,V=k[F],G=DT(t,D[F]);for(F++;F<R;F++){let re=DT(t,D[F]);if(G+re>=b)break;G+=re}if(F==L+1){if(G>b){let re=D[L];S(re.children,re.positions,0,re.children.length,k[L]+$);continue}E.push(D[L])}else{let re=k[F-1]+D[F-1].length-V;E.push(mV(t,D,k,L,F,V,re,null,m))}_.push(V+$-c)}}return S(e,n,i,a,0),(h||m)(E,_,d)}var Kf=class t{constructor(e,n,i,a,c=!1,d=!1){this.from=e,this.to=n,this.tree=i,this.offset=a,this.open=(c?1:0)|(d?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],i=!1){let a=[new t(0,e.length,e,0,!1,i)];for(let c of n)c.to>e.length&&a.push(c);return a}static applyChanges(e,n,i=128){if(!n.length)return e;let a=[],c=1,d=e.length?e[0]:null;for(let h=0,m=0,g=0;;h++){let b=h<n.length?n[h]:null,E=b?b.fromA:1e9;if(E-m>=i)for(;d&&d.from<E;){let _=d;if(m>=_.from||E<=_.to||g){let S=Math.max(_.from,m)-g,D=Math.min(_.to,E)-g;_=S>=D?null:new t(S,D,_.tree,_.offset+g,h>0,!!b)}if(_&&a.push(_),d.to>E)break;d=c<e.length?e[c++]:null}if(!b)break;m=b.toA,g=b.toA-b.toB}return a}},C0=class{startParse(e,n,i){return typeof e=="string"&&(e=new cV(e)),i=i?i.length?i.map(a=>new ka(a.from,a.to)):[new ka(0,0)]:[new ka(0,e.length)],this.createParse(e,n||[],i)}parse(e,n,i){let a=this.startParse(e,n,i);for(;;){let c=a.advance();if(c)return c}}},cV=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}};function gV(t){return(e,n,i,a)=>new fV(e,t,n,i,a)}var kT=class{constructor(e,n,i,a,c){this.parser=e,this.parse=n,this.overlay=i,this.target=a,this.from=c}};function Lve(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}var uV=class{constructor(e,n,i,a,c,d,h){this.parser=e,this.predicate=n,this.mounts=i,this.index=a,this.start=c,this.target=d,this.prev=h,this.depth=0,this.ranges=[]}},dV=new kt({perNode:!0}),fV=class{constructor(e,n,i,a,c){this.nest=n,this.input=i,this.fragments=a,this.ranges=c,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let i=this.baseParse.advance();if(!i)return null;if(this.baseParse=null,this.baseTree=i,this.startInner(),this.stoppedAt!=null)for(let a of this.inner)a.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let i=this.baseTree;return this.stoppedAt!=null&&(i=new Kn(i.type,i.children,i.positions,i.length,i.propValues.concat([[dV,this.stoppedAt]]))),i}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let i=Object.assign(Object.create(null),e.target.props);i[kt.mounted.id]=new h1(n,e.overlay,e.parser),e.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new hV(this.fragments),n=null,i=null,a=new hb(new sc(this.baseTree,this.ranges[0].from,0,null),Vr.IncludeAnonymous|Vr.IgnoreMounts);e:for(let c,d;;){let h=!0,m;if(this.stoppedAt!=null&&a.from>=this.stoppedAt)h=!1;else if(e.hasNode(a)){if(n){let g=n.mounts.find(b=>b.frag.from<=a.from&&b.frag.to>=a.to&&b.mount.overlay);if(g)for(let b of g.mount.overlay){let E=b.from+g.pos,_=b.to+g.pos;E>=a.from&&_<=a.to&&!n.ranges.some(S=>S.from<_&&S.to>E)&&n.ranges.push({from:E,to:_})}}h=!1}else if(i&&(d=ldt(i.ranges,a.from,a.to)))h=d!=2;else if(!a.type.isAnonymous&&(c=this.nest(a,this.input))&&(a.from<a.to||!c.overlay)){a.tree||cdt(a);let g=e.findMounts(a.from,c.parser);if(typeof c.overlay=="function")n=new uV(c.parser,c.overlay,g,this.inner.length,a.from,a.tree,n);else{let b=Nve(this.ranges,c.overlay||(a.from<a.to?[new ka(a.from,a.to)]:[]));b.length&&Lve(b),(b.length||!c.overlay)&&this.inner.push(new kT(c.parser,b.length?c.parser.startParse(this.input,Fve(g,b),b):c.parser.startParse(""),c.overlay?c.overlay.map(E=>new ka(E.from-a.from,E.to-a.from)):null,a.tree,b.length?b[0].from:a.from)),c.overlay?b.length&&(i={ranges:b,depth:0,prev:i}):h=!1}}else n&&(m=n.predicate(a))&&(m===!0&&(m=new ka(a.from,a.to)),m.from<m.to&&n.ranges.push(m));if(h&&a.firstChild())n&&n.depth++,i&&i.depth++;else for(;!a.nextSibling();){if(!a.parent())break e;if(n&&!--n.depth){let g=Nve(this.ranges,n.ranges);g.length&&(Lve(g),this.inner.splice(n.index,0,new kT(n.parser,n.parser.startParse(this.input,Fve(n.mounts,g),g),n.ranges.map(b=>new ka(b.from-n.start,b.to-n.start)),n.target,g[0].from))),n=n.prev}i&&!--i.depth&&(i=i.prev)}}}};function ldt(t,e,n){for(let i of t){if(i.from>=n)break;if(i.to>e)return i.from<=e&&i.to>=n?2:1}return 0}function $ve(t,e,n,i,a,c){if(e<n){let d=t.buffer[e+1];i.push(t.slice(e,n,d)),a.push(d-c)}}function cdt(t){let{node:e}=t,n=[],i=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let a=t.tree,c=a.children.indexOf(i),d=a.children[c],h=d.buffer,m=[c];function g(b,E,_,S,D,k){let I=n[k],R=[],$=[];$ve(d,b,I,R,$,S);let F=h[I+1],L=h[I+2];m.push(R.length);let V=k?g(I+4,h[I+3],d.set.types[h[I]],F,L-F,k-1):e.toTree();return R.push(V),$.push(F-S),$ve(d,h[I+3],E,R,$,S),new Kn(_,R,$,D)}a.children[c]=g(0,h.length,_i.none,0,d.length,n.length-1);for(let b of m){let E=t.tree.children[b],_=t.tree.positions[b];t.yield(new sc(E,_+t.from,b,t._tree))}}var PT=class{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(Vr.IncludeAnonymous|Vr.IgnoreMounts)}moveTo(e){let{cursor:n}=this,i=e-this.offset;for(;!this.done&&n.from<i;)n.to>=e&&n.enter(i,1,Vr.IgnoreOverlays|Vr.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof Kn)n=n.children[0];else break}return!1}},hV=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let i=this.curFrag=e[0];this.curTo=(n=i.tree.prop(dV))!==null&&n!==void 0?n:i.to,this.inner=new PT(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(dV))!==null&&e!==void 0?e:n.to,this.inner=new PT(n.tree,-n.offset)}}findMounts(e,n){var i;let a=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let c=this.inner.cursor.node;c;c=c.parent){let d=(i=c.tree)===null||i===void 0?void 0:i.prop(kt.mounted);if(d&&d.parser==n)for(let h=this.fragI;h<this.fragments.length;h++){let m=this.fragments[h];if(m.from>=c.to)break;m.tree==this.curFrag.tree&&a.push({frag:m,pos:c.from-m.offset,mount:d})}}}return a}};function Nve(t,e){let n=null,i=e;for(let a=1,c=0;a<t.length;a++){let d=t[a-1].to,h=t[a].from;for(;c<i.length;c++){let m=i[c];if(m.from>=h)break;m.to<=d||(n||(i=n=e.slice()),m.from<d?(n[c]=new ka(m.from,d),m.to>h&&n.splice(c+1,0,new ka(h,m.to))):m.to>h?n[c--]=new ka(h,m.to):n.splice(c--,1))}}return i}function udt(t,e,n,i){let a=0,c=0,d=!1,h=!1,m=-1e9,g=[];for(;;){let b=a==t.length?1e9:d?t[a].to:t[a].from,E=c==e.length?1e9:h?e[c].to:e[c].from;if(d!=h){let _=Math.max(m,n),S=Math.min(b,E,i);_<S&&g.push(new ka(_,S))}if(m=Math.min(b,E),m==1e9)break;b==m&&(d?(d=!1,a++):d=!0),E==m&&(h?(h=!1,c++):h=!0)}return g}function Fve(t,e){let n=[];for(let{pos:i,mount:a,frag:c}of t){let d=i+(a.overlay?a.overlay[0].from:0),h=d+a.tree.length,m=Math.max(c.from,d),g=Math.min(c.to,h);if(a.overlay){let b=a.overlay.map(_=>new ka(_.from+i,_.to+i)),E=udt(e,b,m,g);for(let _=0,S=m;;_++){let D=_==E.length,k=D?g:E[_].from;if(k>S&&n.push(new Kf(S,k,a.tree,-d,c.from>=S||c.openStart,c.to<=k||c.openEnd)),D)break;S=E[_].to}}else n.push(new Kf(m,g,a.tree,-d,c.from>=d||c.openStart,c.to<=h||c.openEnd))}return n}var bV=class t{constructor(e,n,i,a,c,d,h,m,g,b=0,E){this.p=e,this.stack=n,this.state=i,this.reducePos=a,this.pos=c,this.score=d,this.buffer=h,this.bufferBase=m,this.curContext=g,this.lookAhead=b,this.parent=E}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,i=0){let a=e.parser.context;return new t(e,[],n,i,i,0,[],0,a?new IT(a,a.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let i=e>>19,a=e&65535,{parser:c}=this.p,d=this.reducePos<this.pos-25;d&&this.setLookAhead(this.pos);let h=c.dynamicPrecedence(a);if(h&&(this.score+=h),i==0){this.pushState(c.getGoto(this.state,a,!0),this.reducePos),a<c.minRepeatTerm&&this.storeNode(a,this.reducePos,this.reducePos,d?8:4,!0),this.reduceContext(a,this.reducePos);return}let m=this.stack.length-(i-1)*3-(e&262144?6:0),g=m?this.stack[m-2]:this.p.ranges[0].from,b=this.reducePos-g;b>=2e3&&!(!((n=this.p.parser.nodeSet.types[a])===null||n===void 0)&&n.isAnonymous)&&(g==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=b):this.p.lastBigReductionSize<b&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=g,this.p.lastBigReductionSize=b));let E=m?this.stack[m-1]:0,_=this.bufferBase+this.buffer.length-E;if(a<c.minRepeatTerm||e&131072){let S=c.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(a,g,S,_+4,!0)}if(e&262144)this.state=this.stack[m];else{let S=this.stack[m-3];this.state=c.getGoto(S,a,!0)}for(;this.stack.length>m;)this.stack.pop();this.reduceContext(a,g)}storeNode(e,n,i,a=4,c=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let d=this,h=this.buffer.length;if(h==0&&d.parent&&(h=d.bufferBase-d.parent.bufferBase,d=d.parent),h>0&&d.buffer[h-4]==0&&d.buffer[h-1]>-1){if(n==i)return;if(d.buffer[h-2]>=n){d.buffer[h-2]=i;return}}}if(!c||this.pos==i)this.buffer.push(e,n,i,a);else{let d=this.buffer.length;if(d>0&&this.buffer[d-4]!=0){let h=!1;for(let m=d;m>0&&this.buffer[m-2]>i;m-=4)if(this.buffer[m-1]>=0){h=!0;break}if(h)for(;d>0&&this.buffer[d-2]>i;)this.buffer[d]=this.buffer[d-4],this.buffer[d+1]=this.buffer[d-3],this.buffer[d+2]=this.buffer[d-2],this.buffer[d+3]=this.buffer[d-1],d-=4,a>4&&(a-=4)}this.buffer[d]=e,this.buffer[d+1]=n,this.buffer[d+2]=i,this.buffer[d+3]=a}}shift(e,n,i,a){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=a,this.shiftContext(n,i),n<=this.p.parser.maxNode&&this.buffer.push(n,i,a,4);else{let c=e,{parser:d}=this.p;(a>this.pos||n<=d.maxNode)&&(this.pos=a,d.stateFlag(c,1)||(this.reducePos=a)),this.pushState(c,i),this.shiftContext(n,i),n<=d.maxNode&&this.buffer.push(n,i,a,4)}}apply(e,n,i,a){e&65536?this.reduce(e):this.shift(e,n,i,a)}useNode(e,n){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let a=this.pos;this.reducePos=this.pos=a+e.length,this.pushState(n,a),this.buffer.push(i,a,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let i=e.buffer.slice(n),a=e.bufferBase+n;for(;e&&a==e.bufferBase;)e=e.parent;return new t(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,a,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,i?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new xV(this);;){let i=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(i==0)return!1;if(!(i&65536))return!0;n.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let a=[];for(let c=0,d;c<n.length;c+=2)(d=n[c+1])!=this.state&&this.p.parser.hasAction(d,e)&&a.push(n[c],d);if(this.stack.length<120)for(let c=0;a.length<8&&c<n.length;c+=2){let d=n[c+1];a.some((h,m)=>m&1&&h==d)||a.push(n[c],d)}n=a}let i=[];for(let a=0;a<n.length&&i.length<4;a+=2){let c=n[a+1];if(c==this.state)continue;let d=this.split();d.pushState(c,this.pos),d.storeNode(0,d.pos,d.pos,4,!0),d.shiftContext(n[a],this.pos),d.reducePos=this.pos,d.score-=200,i.push(d)}return i}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let i=n>>19,a=n&65535,c=this.stack.length-i*3;if(c<0||e.getGoto(this.stack[c],a,!1)<0){let d=this.findForcedReduction();if(d==null)return!1;n=d}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],i=(a,c)=>{if(!n.includes(a))return n.push(a),e.allActions(a,d=>{if(!(d&393216))if(d&65536){let h=(d>>19)-c;if(h>1){let m=d&65535,g=this.stack.length-h*3;if(g>=0&&e.getGoto(this.stack[g],m,!1)>=0)return h<<19|65536|m}}else{let h=i(d,c+1);if(h!=null)return h}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new IT(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}},IT=class{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}},xV=class{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let a=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=a}},EV=class t{constructor(e,n,i){this.stack=e,this.pos=n,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new t(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new t(this.stack,this.pos,this.index)}};function z5(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let i=0,a=0;i<t.length;){let c=0;for(;;){let d=t.charCodeAt(i++),h=!1;if(d==126){c=65535;break}d>=92&&d--,d>=34&&d--;let m=d-32;if(m>=46&&(m-=46,h=!0),c+=m,h)break;c*=46}n?n[a++]=c:n=new e(c)}return n}var pb=class{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}},Vve=new pb,wV=class{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Vve,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let i=this.range,a=this.rangeIndex,c=this.pos+e;for(;c<i.from;){if(!a)return null;let d=this.ranges[--a];c-=i.from-d.to,i=d}for(;n<0?c>i.to:c>=i.to;){if(a==this.ranges.length-1)return null;let d=this.ranges[++a];c+=d.from-i.to,i=d}return c}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,i,a;if(n>=0&&n<this.chunk.length)i=this.pos+e,a=this.chunk.charCodeAt(n);else{let c=this.resolveOffset(e,1);if(c==null)return-1;if(i=c,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)a=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let d=this.rangeIndex,h=this.range;for(;h.to<=i;)h=this.ranges[++d];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>h.to&&(this.chunk2=this.chunk2.slice(0,h.to-i)),a=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),a}acceptToken(e,n=0){let i=n?this.resolveOffset(n,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=Vve,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let i="";for(let a of this.ranges){if(a.from>=n)break;a.to>e&&(i+=this.input.read(Math.max(a.from,e),Math.min(a.to,n)))}return i}},S0=class{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:i}=n.p;Wve(this.data,e,n,this.id,i.data,i.tokenPrecTable)}};S0.prototype.contextual=S0.prototype.fallback=S0.prototype.extend=!1;var _V=class{constructor(e,n,i){this.precTable=n,this.elseToken=i,this.data=typeof e=="string"?z5(e):e}token(e,n){let i=e.pos,a=0;for(;;){let c=e.next<0,d=e.resolveOffset(1,1);if(Wve(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(c||a++,d==null)break;e.reset(d,e.token)}a&&(e.reset(i,e.token),e.acceptToken(this.elseToken,a))}};_V.prototype.contextual=S0.prototype.fallback=S0.prototype.extend=!1;var Td=class{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}};function Wve(t,e,n,i,a,c){let d=0,h=1<<i,{dialect:m}=n.p.parser;e:for(;h&t[d];){let g=t[d+1];for(let S=d+3;S<g;S+=2)if((t[S+1]&h)>0){let D=t[S];if(m.allows(D)&&(e.token.value==-1||e.token.value==D||fdt(D,e.token.value,a,c))){e.acceptToken(D);break}}let b=e.next,E=0,_=t[d+2];if(e.next<0&&_>E&&t[g+_*3-3]==65535){d=t[g+_*3-1];continue e}for(;E<_;){let S=E+_>>1,D=g+S+(S<<1),k=t[D],I=t[D+1]||65536;if(b<k)_=S;else if(b>=I)E=S+1;else{d=t[D+2],e.advance();continue e}}break}}function zve(t,e,n){for(let i=e,a;(a=t[i])!=65535;i++)if(a==n)return i-e;return-1}function fdt(t,e,n,i){let a=zve(n,i,e);return a<0||zve(n,i,t)<a}var fl=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG),vV=null;function Hve(t,e,n){let i=t.cursor(Vr.IncludeAnonymous);for(i.moveTo(e);;)if(!(n<0?i.childBefore(e):i.childAfter(e)))for(;;){if((n<0?i.to<e:i.from>e)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(t.length,Math.max(i.from+1,e+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:t.length}}var CV=class{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Hve(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Hve(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let i=this.trees[n],a=this.index[n];if(a==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let c=i.children[a],d=this.start[n]+i.positions[a];if(d>e)return this.nextStart=d,null;if(c instanceof Kn){if(d==e){if(d<this.safeFrom)return null;let h=d+c.length;if(h<=this.safeTo){let m=c.prop(kt.lookAhead);if(!m||h+m<this.fragment.to)return c}}this.index[n]++,d+c.length>=Math.max(this.safeFrom,e)&&(this.trees.push(c),this.start.push(d),this.index.push(0))}else this.index[n]++,this.nextStart=d+c.length}}},SV=class{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new pb)}getActions(e){let n=0,i=null,{parser:a}=e.p,{tokenizers:c}=a,d=a.stateSlot(e.state,3),h=e.curContext?e.curContext.hash:0,m=0;for(let g=0;g<c.length;g++){if(!(1<<g&d))continue;let b=c[g],E=this.tokens[g];if(!(i&&!b.fallback)&&((b.contextual||E.start!=e.pos||E.mask!=d||E.context!=h)&&(this.updateCachedToken(E,b,e),E.mask=d,E.context=h),E.lookAhead>E.end+25&&(m=Math.max(E.lookAhead,m)),E.value!=0)){let _=n;if(E.extended>-1&&(n=this.addActions(e,E.extended,E.end,n)),n=this.addActions(e,E.value,E.end,n),!b.extend&&(i=E,n>_))break}}for(;this.actions.length>n;)this.actions.pop();return m&&e.setLookAhead(m),!i&&e.pos==this.stream.end&&(i=new pb,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,n=this.addActions(e,i.value,i.end,n)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new pb,{pos:i,p:a}=e;return n.start=i,n.end=Math.min(i+1,a.stream.end),n.value=i==a.stream.end?a.parser.eofTerm:0,n}updateCachedToken(e,n,i){let a=this.stream.clipPos(i.pos);if(n.token(this.stream.reset(a,e),i),e.value>-1){let{parser:c}=i.p;for(let d=0;d<c.specialized.length;d++)if(c.specialized[d]==e.value){let h=c.specializers[d](this.stream.read(e.start,e.end),i);if(h>=0&&i.p.parser.dialect.allows(h>>1)){h&1?e.extended=h>>1:e.value=h>>1;break}}}else e.value=0,e.end=this.stream.clipPos(a+1)}putAction(e,n,i,a){for(let c=0;c<a;c+=3)if(this.actions[c]==e)return a;return this.actions[a++]=e,this.actions[a++]=n,this.actions[a++]=i,a}addActions(e,n,i,a){let{state:c}=e,{parser:d}=e.p,{data:h}=d;for(let m=0;m<2;m++)for(let g=d.stateSlot(c,m?2:1);;g+=3){if(h[g]==65535)if(h[g+1]==1)g=Zf(h,g+2);else{a==0&&h[g+1]==2&&(a=this.putAction(Zf(h,g+2),n,i,a));break}h[g]==n&&(a=this.putAction(Zf(h,g+1),n,i,a))}return a}},OV=class{constructor(e,n,i,a){this.parser=e,this.input=n,this.ranges=a,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new wV(n,a),this.tokens=new SV(e,this.stream),this.topTerm=e.top[1];let{from:c}=a[0];this.stacks=[bV.start(this,e.top[0],c)],this.fragments=i.length&&this.stream.end-c>e.bufferLength*4?new CV(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,i=this.stacks=[],a,c;if(this.bigReductionCount>300&&e.length==1){let[d]=e;for(;d.forceReduce()&&d.stack.length&&d.stack[d.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let d=0;d<e.length;d++){let h=e[d];for(;;){if(this.tokens.mainToken=null,h.pos>n)i.push(h);else{if(this.advanceStack(h,i,e))continue;{a||(a=[],c=[]),a.push(h);let m=this.tokens.getMainToken(h);c.push(m.value,m.end)}}break}}if(!i.length){let d=a&&hdt(a);if(d)return fl&&console.log("Finish with "+this.stackID(d)),this.stackToTree(d);if(this.parser.strict)throw fl&&a&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&a){let d=this.stoppedAt!=null&&a[0].pos>this.stoppedAt?a[0]:this.runRecovery(a,c,i);if(d)return fl&&console.log("Force-finish "+this.stackID(d)),this.stackToTree(d.forceAll())}if(this.recovering){let d=this.recovering==1?1:this.recovering*3;if(i.length>d)for(i.sort((h,m)=>m.score-h.score);i.length>d;)i.pop();i.some(h=>h.reducePos>n)&&this.recovering--}else if(i.length>1){e:for(let d=0;d<i.length-1;d++){let h=i[d];for(let m=d+1;m<i.length;m++){let g=i[m];if(h.sameState(g)||h.buffer.length>500&&g.buffer.length>500)if((h.score-g.score||h.buffer.length-g.buffer.length)>0)i.splice(m--,1);else{i.splice(d--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let d=1;d<i.length;d++)i[d].pos<this.minStackPos&&(this.minStackPos=i[d].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,i){let a=e.pos,{parser:c}=this,d=fl?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&a>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let g=e.curContext&&e.curContext.tracker.strict,b=g?e.curContext.hash:0;for(let E=this.fragments.nodeAt(a);E;){let _=this.parser.nodeSet.types[E.type.id]==E.type?c.getGoto(e.state,E.type.id):-1;if(_>-1&&E.length&&(!g||(E.prop(kt.contextHash)||0)==b))return e.useNode(E,_),fl&&console.log(d+this.stackID(e)+` (via reuse of ${c.getName(E.type.id)})`),!0;if(!(E instanceof Kn)||E.children.length==0||E.positions[0]>0)break;let S=E.children[0];if(S instanceof Kn&&E.positions[0]==0)E=S;else break}}let h=c.stateSlot(e.state,4);if(h>0)return e.reduce(h),fl&&console.log(d+this.stackID(e)+` (via always-reduce ${c.getName(h&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let m=this.tokens.getActions(e);for(let g=0;g<m.length;){let b=m[g++],E=m[g++],_=m[g++],S=g==m.length||!i,D=S?e:e.split(),k=this.tokens.mainToken;if(D.apply(b,E,k?k.start:D.pos,_),fl&&console.log(d+this.stackID(D)+` (via ${b&65536?`reduce of ${c.getName(b&65535)}`:"shift"} for ${c.getName(E)} @ ${a}${D==e?"":", split"})`),S)return!0;D.pos>a?n.push(D):i.push(D)}return!1}advanceFully(e,n){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return Uve(e,n),!0}}runRecovery(e,n,i){let a=null,c=!1;for(let d=0;d<e.length;d++){let h=e[d],m=n[d<<1],g=n[(d<<1)+1],b=fl?this.stackID(h)+" -> ":"";if(h.deadEnd&&(c||(c=!0,h.restart(),fl&&console.log(b+this.stackID(h)+" (restarted)"),this.advanceFully(h,i))))continue;let E=h.split(),_=b;for(let S=0;E.forceReduce()&&S<10&&(fl&&console.log(_+this.stackID(E)+" (via force-reduce)"),!this.advanceFully(E,i));S++)fl&&(_=this.stackID(E)+" -> ");for(let S of h.recoverByInsert(m))fl&&console.log(b+this.stackID(S)+" (via recover-insert)"),this.advanceFully(S,i);this.stream.end>h.pos?(g==h.pos&&(g++,m=0),h.recoverByDelete(m,g),fl&&console.log(b+this.stackID(h)+` (via recover-delete ${this.parser.getName(m)})`),Uve(h,i)):(!a||a.score<h.score)&&(a=h)}return a}stackToTree(e){return e.close(),Kn.build({buffer:EV.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(vV||(vV=new WeakMap)).get(e);return n||vV.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}};function Uve(t,e){for(let n=0;n<e.length;n++){let i=e[n];if(i.pos==t.pos&&i.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}var DV=class{constructor(e,n,i){this.source=e,this.flags=n,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}},yV=t=>t,MT=class{constructor(e){this.start=e.start,this.shift=e.shift||yV,this.reduce=e.reduce||yV,this.reuse=e.reuse||yV,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}},mb=class t extends C0{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let h=0;h<e.repeatNodeCount;h++)n.push("");let i=Object.keys(e.topRules).map(h=>e.topRules[h][1]),a=[];for(let h=0;h<n.length;h++)a.push([]);function c(h,m,g){a[h].push([m,m.deserialize(String(g))])}if(e.nodeProps)for(let h of e.nodeProps){let m=h[0];typeof m=="string"&&(m=kt[m]);for(let g=1;g<h.length;){let b=h[g++];if(b>=0)c(b,m,h[g++]);else{let E=h[g+-b];for(let _=-b;_>0;_--)c(h[g++],m,E);g++}}}this.nodeSet=new w0(n.map((h,m)=>_i.define({name:m>=this.minRepeatTerm?void 0:h,id:m,props:a[m],top:i.indexOf(m)>-1,error:m==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(m)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=1024;let d=z5(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let h=0;h<this.specializerSpecs.length;h++)this.specialized[h]=this.specializerSpecs[h].term;this.specializers=this.specializerSpecs.map(qve),this.states=z5(e.states,Uint32Array),this.data=z5(e.stateData),this.goto=z5(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(h=>typeof h=="number"?new S0(d,h):h),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,i){let a=new OV(this,e,n,i);for(let c of this.wrappers)a=c(a,e,n,i);return a}getGoto(e,n,i=!1){let a=this.goto;if(n>=a[0])return-1;for(let c=a[n+1];;){let d=a[c++],h=d&1,m=a[c++];if(h&&i)return m;for(let g=c+(d>>1);c<g;c++)if(a[c]==e)return m;if(h)return-1}}hasAction(e,n){let i=this.data;for(let a=0;a<2;a++)for(let c=this.stateSlot(e,a?2:1),d;;c+=3){if((d=i[c])==65535)if(i[c+1]==1)d=i[c=Zf(i,c+2)];else{if(i[c+1]==2)return Zf(i,c+2);break}if(d==n||d==0)return Zf(i,c+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,i=>i==n?!0:null)}allActions(e,n){let i=this.stateSlot(e,4),a=i?n(i):void 0;for(let c=this.stateSlot(e,1);a==null;c+=3){if(this.data[c]==65535)if(this.data[c+1]==1)c=Zf(this.data,c+2);else break;a=n(Zf(this.data,c+1))}return a}nextStates(e){let n=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Zf(this.data,i+2);else break;if(!(this.data[i+2]&1)){let a=this.data[i+1];n.some((c,d)=>d&1&&c==a)||n.push(this.data[i],a)}}return n}configure(e){let n=Object.assign(Object.create(t.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=i}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(i=>{let a=e.tokenizers.find(c=>c.from==i);return a?a.to:i})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((i,a)=>{let c=e.specializers.find(h=>h.from==i.external);if(!c)return i;let d=Object.assign(Object.assign({},i),{external:c.to});return n.specializers[a]=qve(d),d})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),i=n.map(()=>!1);if(e)for(let c of e.split(" ")){let d=n.indexOf(c);d>=0&&(i[d]=!0)}let a=null;for(let c=0;c<n.length;c++)if(!i[c])for(let d=this.dialects[n[c]],h;(h=this.data[d++])!=65535;)(a||(a=new Uint8Array(this.maxTerm+1)))[h]=1;return new DV(e,i,a)}static deserialize(e){return new t(e)}};function Zf(t,e){return t[e]|t[e+1]<<16}function hdt(t){let e=null;for(let n of t){let i=n.p.stoppedAt;(n.pos==n.p.stream.end||i!=null&&n.pos>i)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function qve(t){if(t.external){let e=t.extend?1:0;return(n,i)=>t.external(n,i)<<1|e}return t.get}var pdt=0,hl=class t{constructor(e,n,i,a){this.name=e,this.set=n,this.base=i,this.modified=a,this.id=pdt++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let i=typeof e=="string"?e:"?";if(e instanceof t&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let a=new t(i,[],null,[]);if(a.set.push(a),n)for(let c of n.set)a.set.push(c);return a}static defineModifier(e){let n=new $T(e);return i=>i.modified.indexOf(n)>-1?i:$T.get(i.base||i,i.modified.concat(n).sort((a,c)=>a.id-c.id))}},mdt=0,$T=class t{constructor(e){this.name=e,this.instances=[],this.id=mdt++}static get(e,n){if(!n.length)return e;let i=n[0].instances.find(h=>h.base==e&&gdt(n,h.modified));if(i)return i;let a=[],c=new hl(e.name,a,e,n);for(let h of n)h.instances.push(c);let d=vdt(n);for(let h of e.set)if(!h.modified.length)for(let m of d)a.push(t.get(h,m));return c}};function gdt(t,e){return t.length==e.length&&t.every((n,i)=>n==e[i])}function vdt(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,a=e.length;i<a;i++)e.push(e[i].concat(t[n]));return e.sort((n,i)=>i.length-n.length)}function Jf(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let a of n.split(" "))if(a){let c=[],d=2,h=a;for(let E=0;;){if(h=="..."&&E>0&&E+3==a.length){d=1;break}let _=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(h);if(!_)throw new RangeError("Invalid path: "+a);if(c.push(_[0]=="*"?"":_[0][0]=='"'?JSON.parse(_[0]):_[0]),E+=_[0].length,E==a.length)break;let S=a[E++];if(E==a.length&&S=="!"){d=0;break}if(S!="/")throw new RangeError("Invalid path: "+a);h=a.slice(E)}let m=c.length-1,g=c[m];if(!g)throw new RangeError("Invalid path: "+a);let b=new gb(i,d,m>0?c.slice(0,m):null);e[g]=b.sort(e[g])}}return Yve.add(e)}var Yve=new kt,gb=class{constructor(e,n,i,a){this.tags=e,this.mode=n,this.context=i,this.next=a}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}};gb.empty=new gb([],2,null);function IV(t,e){let n=Object.create(null);for(let c of t)if(!Array.isArray(c.tag))n[c.tag.id]=c.class;else for(let d of c.tag)n[d.id]=c.class;let{scope:i,all:a=null}=e||{};return{style:c=>{let d=a;for(let h of c)for(let m of h.set){let g=n[m.id];if(g){d=d?d+" "+g:g;break}}return d},scope:i}}function ydt(t,e){let n=null;for(let i of t){let a=i.style(e);a&&(n=n?n+" "+a:a)}return n}function Xve(t,e,n,i=0,a=t.length){let c=new kV(i,Array.isArray(e)?e:[e],n);c.highlightRange(t.cursor(),i,a,"",c.highlighters),c.flush(a)}var kV=class{constructor(e,n,i){this.at=e,this.highlighters=n,this.span=i,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,i,a,c){let{type:d,from:h,to:m}=e;if(h>=i||m<=n)return;d.isTop&&(c=this.highlighters.filter(S=>!S.scope||S.scope(d)));let g=a,b=bdt(e)||gb.empty,E=ydt(c,b.tags);if(E&&(g&&(g+=" "),g+=E,b.mode==1&&(a+=(a?" ":"")+E)),this.startSpan(Math.max(n,h),g),b.opaque)return;let _=e.tree&&e.tree.prop(kt.mounted);if(_&&_.overlay){let S=e.node.enter(_.overlay[0].from+h,1),D=this.highlighters.filter(I=>!I.scope||I.scope(_.tree.type)),k=e.firstChild();for(let I=0,R=h;;I++){let $=I<_.overlay.length?_.overlay[I]:null,F=$?$.from+h:m,L=Math.max(n,R),V=Math.min(i,F);if(L<V&&k)for(;e.from<V&&(this.highlightRange(e,L,V,a,c),this.startSpan(Math.min(V,e.to),g),!(e.to>=F||!e.nextSibling())););if(!$||F>i)break;R=$.to+h,R>n&&(this.highlightRange(S.cursor(),Math.max(n,$.from+h),Math.min(i,R),"",D),this.startSpan(Math.min(i,R),g))}k&&e.parent()}else if(e.firstChild()){_&&(a="");do if(!(e.to<=n)){if(e.from>=i)break;this.highlightRange(e,n,i,a,c),this.startSpan(Math.min(i,e.to),g)}while(e.nextSibling());e.parent()}}};function bdt(t){let e=t.type.prop(Yve);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}var Ke=hl.define,AT=Ke(),O0=Ke(),Gve=Ke(O0),Qve=Ke(O0),D0=Ke(),RT=Ke(D0),TV=Ke(D0),Id=Ke(),p1=Ke(Id),kd=Ke(),Pd=Ke(),PV=Ke(),H5=Ke(PV),LT=Ke(),ie={comment:AT,lineComment:Ke(AT),blockComment:Ke(AT),docComment:Ke(AT),name:O0,variableName:Ke(O0),typeName:Gve,tagName:Ke(Gve),propertyName:Qve,attributeName:Ke(Qve),className:Ke(O0),labelName:Ke(O0),namespace:Ke(O0),macroName:Ke(O0),literal:D0,string:RT,docString:Ke(RT),character:Ke(RT),attributeValue:Ke(RT),number:TV,integer:Ke(TV),float:Ke(TV),bool:Ke(D0),regexp:Ke(D0),escape:Ke(D0),color:Ke(D0),url:Ke(D0),keyword:kd,self:Ke(kd),null:Ke(kd),atom:Ke(kd),unit:Ke(kd),modifier:Ke(kd),operatorKeyword:Ke(kd),controlKeyword:Ke(kd),definitionKeyword:Ke(kd),moduleKeyword:Ke(kd),operator:Pd,derefOperator:Ke(Pd),arithmeticOperator:Ke(Pd),logicOperator:Ke(Pd),bitwiseOperator:Ke(Pd),compareOperator:Ke(Pd),updateOperator:Ke(Pd),definitionOperator:Ke(Pd),typeOperator:Ke(Pd),controlOperator:Ke(Pd),punctuation:PV,separator:Ke(PV),bracket:H5,angleBracket:Ke(H5),squareBracket:Ke(H5),paren:Ke(H5),brace:Ke(H5),content:Id,heading:p1,heading1:Ke(p1),heading2:Ke(p1),heading3:Ke(p1),heading4:Ke(p1),heading5:Ke(p1),heading6:Ke(p1),contentSeparator:Ke(Id),list:Ke(Id),quote:Ke(Id),emphasis:Ke(Id),strong:Ke(Id),link:Ke(Id),monospace:Ke(Id),strikethrough:Ke(Id),inserted:Ke(),deleted:Ke(),changed:Ke(),invalid:Ke(),meta:LT,documentMeta:Ke(LT),annotation:Ke(LT),processingInstruction:Ke(LT),definition:hl.defineModifier("definition"),constant:hl.defineModifier("constant"),function:hl.defineModifier("function"),standard:hl.defineModifier("standard"),local:hl.defineModifier("local"),special:hl.defineModifier("special")};for(let t in ie){let e=ie[t];e instanceof hl&&(e.name=t)}var kan=IV([{tag:ie.link,class:"tok-link"},{tag:ie.heading,class:"tok-heading"},{tag:ie.emphasis,class:"tok-emphasis"},{tag:ie.strong,class:"tok-strong"},{tag:ie.keyword,class:"tok-keyword"},{tag:ie.atom,class:"tok-atom"},{tag:ie.bool,class:"tok-bool"},{tag:ie.url,class:"tok-url"},{tag:ie.labelName,class:"tok-labelName"},{tag:ie.inserted,class:"tok-inserted"},{tag:ie.deleted,class:"tok-deleted"},{tag:ie.literal,class:"tok-literal"},{tag:ie.string,class:"tok-string"},{tag:ie.number,class:"tok-number"},{tag:[ie.regexp,ie.escape,ie.special(ie.string)],class:"tok-string2"},{tag:ie.variableName,class:"tok-variableName"},{tag:ie.local(ie.variableName),class:"tok-variableName tok-local"},{tag:ie.definition(ie.variableName),class:"tok-variableName tok-definition"},{tag:ie.special(ie.variableName),class:"tok-variableName2"},{tag:ie.definition(ie.propertyName),class:"tok-propertyName tok-definition"},{tag:ie.typeName,class:"tok-typeName"},{tag:ie.namespace,class:"tok-namespace"},{tag:ie.className,class:"tok-className"},{tag:ie.macroName,class:"tok-macroName"},{tag:ie.propertyName,class:"tok-propertyName"},{tag:ie.operator,class:"tok-operator"},{tag:ie.comment,class:"tok-comment"},{tag:ie.meta,class:"tok-meta"},{tag:ie.invalid,class:"tok-invalid"},{tag:ie.punctuation,class:"tok-punctuation"}]);var xdt=120,RV=121,nye=122,Edt=123,Kve=127,wdt=4,_dt=130,Cdt=7,Sdt=8,Odt=9,Ddt=10,Tdt=138,rye=19,kdt=139,Pdt=23,Idt=140,Mdt=27,Adt=37,Rdt=41,Ldt=144,$dt=145,Ndt=146,Fdt=147,Bdt=47,jdt=67,iye=152,oye=69,sye=153,aye=71,Vdt=154,zdt=75,Hdt=159,Udt=78,qdt=79,Wdt=80,Gdt=165,lye=88,Qdt=89,Ydt=167,Xdt=96,Kdt=169,Zdt=97,Jdt=99,eft=100,LV=typeof process<"u"&&process.env&&/\bfparse(:dbg)?\b/.test(process.env.LOG),$V=typeof process<"u"&&process.env&&/\bfparse:dbg\b/.test(process.env.LOG),eh=typeof process<"u"&&process.env&&/\bcontext\b/.test(process.env.LOG),cye=[9,11,12,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],tft=uye(`
\r`),Zve=42,nft=uye("'./-+*^");function uye(t){return Array.from(t).map(e=>e.charCodeAt(0))}function rft(t){return t===63||t>=65&&t<=90||t===95||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=55296&&t<=56319||t>=56320&&t<=57343}function ift(t){return nft.includes(t)}function oft(t){return t>=48&&t<=57||t===183||t>=768&&t<=879||t>=8255&&t<=8256}function sft(t){return cye.includes(t)}function Jve(t,e){return e.concat(t.split(/\n/g).join(`
`+e))}function aft(t,e=0){let n=t.peek(e);return n===Zve&&t.peek(e+1)===Zve?{offset:2,token:"**"}:ift(n)?{offset:1,token:String.fromCharCode(n)}:null}function FT(t,e=0,n=!1){for(let i=!1,a=[],c=0;;c++){let d=t.peek(e+c);if(rft(d)||(i||n)&&oft(d))i||(i=!0),a.push(d);else return a.length?{token:String.fromCharCode(...a),offset:c}:null}}function dye(t,e){for(let n=!1,i=0;;i++){let a=t.peek(e+i);if(sft(a))n||(n=!0);else return n?{token:" ",offset:i}:null}}function lft(t,e){let n=e.contextKeys(),i=e.tokens;for(let a=0,c=[],d=null;;){let h=i.length+c.length>0,m=c.length>0,g=FT(t,a,h)||h&&aft(t,a)||m&&dye(t,a);if(!g)return d;let{token:b,offset:E}=g;if(a+=E,b===" ")continue;c=[...c,b];let _=[...i,...c].join(" ");if(n.some(S=>S===_)){let S=c[0];d={token:S,offset:S.length,term:nye}}if(!n.some(S=>S.startsWith(_))){if(eye.some(S=>S===_)){let S=c[0];d={token:S,offset:S.length,term:RV}}if(!eye.some(S=>S.startsWith(_)))return d}}}var cft={[RV]:"identifier",[nye]:"nameIdentifier"},uft=new Td((t,e)=>{$V&&console.log("%s: T <identifier | nameIdentifier>",t.pos);let n=lft(t,e.context),i=e.context.tokens,a=n||FT(t,0,i.length>0);a&&(t.advance(a.offset),t.acceptToken(n?n.term:RV),LV&&console.log("%s: MATCH <%s> <%s>",t.pos,n?cft[n.term]:"identifier",a.token))},{contextual:!0}),dft=new Td((t,e)=>{$V&&console.log("%s: T <propertyIdentifier>",t.pos);let n=e.context.tokens,i=FT(t,0,n.length>0);i&&(t.advance(i.offset),t.acceptToken(xdt),LV&&console.log("%s: MATCH <propertyIdentifier> <%s>",t.pos,i.token))}),fft=new Td((t,e)=>{$V&&console.log("%s: T <insertSemi>",t.pos);let n,i=!1;for(n=0;;n++){let a=t.peek(n);if(!cye.includes(a)){tft.includes(a)&&(i=!0);break}}if(i){let a=FT(t,n+1);if(dye(t,n+1)||a&&/^(then|else|return|satisfies)$/.test(a.token))return;LV&&console.log("%s: MATCH <insertSemi>",t.pos),t.acceptToken(Edt)}}),hft={[Vdt]:"FunctionInvocation",[sye]:"FilterExpression",[iye]:"PathExpression"},pft={[Kdt]:"Context",[Ydt]:"FunctionDefinition",[_dt]:"ForExpression",[Gdt]:"List",[kdt]:"IfExpression",[Idt]:"QuantifiedExpression"},mft={[Xdt]:"Context",[Qdt]:"FunctionDefinition",[wdt]:"ForExpression",[lye]:"List",[rye]:"IfExpression",[Pdt]:"QuantifiedExpression",[jdt]:"PathExpression",[aye]:"FunctionInvocation",[oye]:"FilterExpression",[Rdt]:"ArithmeticExpression"},U5=class t{constructor(e){this.fn=e}get(e){return this.fn(e)}static of(e){return new t(e)}},gft={"date and time":1,date:1,time:1,duration:1},eye=Object.keys(gft),MV=class{constructor(e={}){this.value=e}getKeys(){return Object.keys(this.value)}get(e){let n=this.value[e],i=this.constructor;return i.isAtomic(n)?n:i.of(n)}set(e,n){return this.constructor.of(Me(se({},this.value),{[e]:n}))}static isAtomic(e){return!e||e instanceof this||e instanceof U5||typeof e!="object"}static of(...e){let n=a=>!a||typeof a!="object"?{}:a instanceof this?a.value:se({},a),i=e.reduce((a,c)=>se(se({},a),n(c)),{});return new this(i)}},AV=class t{constructor({name:e="Expressions",tokens:n=[],children:i=[],parent:a=null,context:c=null,value:d=null,raw:h=null}={}){this.name=e,this.tokens=n,this.children=i,this.parent=a,this.context=c,this.value=d,this.raw=h}enterScope(e){let n=this.of({name:e,parent:this});return eh&&console.log("[%s] enter",n.path,n.context),n}exitScope(e){return this.parent?(eh&&console.log(`[%s] exit %o
%s`,this.path,this.context,Jve(e,"  ")),this.parent.pushChild(this)):(eh&&console.log(`[%s] NO exit %o
%s`,this.path,this.context,Jve(e,"  ")),this)}token(e){return eh&&console.log("[%s] token <%s> + <%s>",this.path,this.tokens.join(" "),e),this.assign({tokens:[...this.tokens,e]})}literal(e){return eh&&console.log("[%s] literal %o",this.path,e),this.pushChild(this.of({name:"Literal",value:e}))}computedValue(){for(let e=this;;e=vb(e.children)){if(!e)return null;if(e.value)return e.value}}contextKeys(){return this.context.getKeys().map(NT)}get path(){return this.parent?.path?.concat(" > ",this.name)||this.name}get(e){let n=[e,e&&NT(e)],i=this.context.getKeys().find(c=>n.includes(NT(c)));if(typeof i>"u")return;let a=this.context.get(i);return a instanceof U5?a.get(this):a}resolveName(){let e=this.tokens.join(" "),n=[],i=this.assign({tokens:n}),a=this.of({name:"VariableName",parent:i,value:this.get(e),raw:e});return eh&&console.log("[%s] resolve name <%s=%s>",a.path,e,this.get(e)),i.pushChild(a)}pushChild(e){if(!e)return this;let n=this.assign({children:[...this.children,e]});return e.parent=n,n}pushChildren(e){let n=this;for(let i of e)n=n.pushChild(i);return n}declareName(){if(this.tokens.length===0)throw Error("no tokens to declare name");let e=this.tokens.join(" ");return eh&&console.log("[%s] declareName <%s>",this.path,e),this.assign({tokens:[]}).pushChild(this.of({name:"Name",value:e}))}define(e,n){if(typeof e!="string")return eh&&console.log("[%s] no define <%s=%s>",this.path,e,n),this;eh&&console.log("[%s] define <%s=%s>",this.path,e,n);let i=this.context.set(e,n);return this.assign({context:i})}assign(e={}){return t.of(se(se({},this),e))}of(e={}){let n={context:this.context,parent:this.parent};return t.of(se(se({},n),e))}static of(e){let{name:n,tokens:i=[],children:a=[],parent:c=null,context:d,value:h,raw:m}=e;if(!d)throw new Error("must provide <context>");return new t({name:n,tokens:[...i],children:[...a],context:d,parent:c,value:h,raw:m})}};function NT(t){return t.replace(/\s*([./\-'+]|\*\*?)\s*/g," $1 ").replace(/\s{2,}/g," ").trim()}function tye(t,e,n){let i=t.children.filter(g=>g.name!==e),a=t.children.filter(g=>g.name===e),c=i[0],d=i[Math.max(1,i.length-1)],h=c?.computedValue(),m=d?.computedValue()||null;return t.assign({children:a}).enterScope(e).pushChildren(i).exitScope(n).define(h,m)}function NV(t={},e=MV){let n=AV.of({context:e.of(t)});return new MT({start:n,reduce(i,a,c,d){if(a===rye){let[E,_]=i.children.slice(-2);i=i.assign({value:e.of(E?.computedValue(),_?.computedValue())})}if(a===lye&&(i=i.assign({value:e.of(...i.children.map(E=>E?.computedValue()))})),a===oye){let[E,_]=i.children.slice(-2);i=i.assign({value:E?.computedValue()})}if(a===aye){let[E,..._]=i.children;E?.raw==="get value"&&(i=yft(i,_))}let h=pft[a];if(h)return i.enterScope(h);let m=hft[a];if(m){let{children:E,context:_}=i,S=E.slice(0,-1),D=vb(E),k=null;return a===iye&&(k=e.of(D?.computedValue())),a===sye&&(k=e.of(_,D?.computedValue()).set("item",D?.computedValue())),i.assign({children:S}).enterScope(m).pushChild(D).assign({context:k||_})}let g=d.read(d.pos,c.pos);if(mft[a])return i.exitScope(g);if(a===Zdt){let E=i.children.filter(D=>D.name!=="ContextEntry"),_=E[0],S=vb(E);return tye(i,"ContextEntry",g).assign({value:e.of(i.value).set(_?.computedValue(),S?.computedValue())})}if(a===Cdt||a===Mdt)return tye(i,"InExpression",g);if(a===Tdt)return i.define("partial",U5.of(E=>vb(E.children)?.computedValue()));if(a===zdt){let E=vb(i.children).computedValue();return i.define(E,1)}if(a===Ldt||a===$dt||a===Ndt){let E=i.children.slice(0,-1),_=vb(i.children);return i.assign({children:E}).enterScope("ArithmeticExpression").pushChild(_)}if(a===Fdt)return i.enterScope("ArithmeticExpression");if(a===Odt||a===Ddt||a===eft)return i.token(g);if(a===qdt)return i.literal(g.replace(/^"|"$/g,""));if(a===Wdt)return i.literal(g==="true");if(a===Udt)return i.literal(parseFloat(g));if(a===Hdt)return i.literal(null);if(a===Bdt)return i.resolveName();if(a===Sdt||a===Jdt)return i.declareName();if((a===Kve||a===Adt)&&i.tokens.length>0)throw new Error("uncleared name");if(a===Kve){let E=i;for(;E.parent;)E=E.exitScope(g);return E}return i}})}var vft=NV({});function yft(t,e){if(!e.length)return t.assign({value:null});if(e[0].name==="Name"&&(e=bft(e,["m","key"])),e.length!==2)return t.assign({value:null});let[n,i]=e,a=i?.computedValue(),c=n?.computedValue();return!c||typeof c!="object"||typeof a!="string"?t.assign({value:null}):t.assign({value:[NT(a),a].reduce((d,h)=>c.get(h)||d,null)})}function bft(t,e){let n={};for(let i=0;i<t.length;i+=2){let[a,c]=t.slice(i,i+2);n[a.value]=c}return e.map(i=>n[i])}function vb(t){return t[t.length-1]}var xft=Jf({StringLiteral:ie.string,NumericLiteral:ie.number,BooleanLiteral:ie.bool,"AtLiteral!":ie.special(ie.string),CompareOp:ie.compareOperator,ArithOp:ie.arithmeticOperator,"for if then else some every satisfies between return":ie.controlKeyword,"in instance of and or":ie.operatorKeyword,function:ie.definitionKeyword,as:ie.keyword,"Type/...":ie.typeName,Wildcard:ie.special(ie.variableName),null:ie.null,LineComment:ie.lineComment,BlockComment:ie.blockComment,'VariableName! "?"':ie.variableName,"DateTimeConstructor! SpecialFunctionName!":ie.function(ie.special(ie.variableName)),"List Interval":ie.list,Context:ie.definition(ie.literal),"Name!":ie.definition(ie.variableName),"Key/Name! ContextEntryType/Name!":ie.definition(ie.propertyName),"PathExpression/VariableName!":ie.function(ie.propertyName),"FormalParameter/ParameterName!":ie.function(ie.definition(ie.variableName)),"( )":ie.paren,"[ ]":ie.squareBracket,"{ }":ie.brace,".":ie.derefOperator,", ;":ie.separator,"..":ie.punctuation}),Eft={__proto__:null,for:10,in:32,return:36,if:40,then:42,else:44,some:48,every:50,satisfies:56,or:60,and:64,between:72,instance:86,of:89,days:99,time:101,duration:103,years:105,months:107,date:109,list:115,context:121,function:128,null:154,true:326,false:326,"?":168,external:184,not:209},BT=mb.deserialize({version:14,states:"CpO`QYOOO`QYOOO$gQYOOOOQU'#Ce'#CeO$qQYO'#C`O%zQYO'#FPOOQQ'#Fe'#FeO&UQYO'#FeO`QYO'#DVOOQU'#Em'#EmO'rQ^O'#D]OOQO'#Fl'#FlO)oQWO'#DuOOQQ'#D|'#D|OOQQ'#D}'#D}OOQQ'#EO'#EOO)tOWO'#ERO)oQWO'#EPOOQQ'#EP'#EPOOQQ'#Fr'#FrOOQQ'#Fp'#FpOOQQ'#Fw'#FwOOQQ'#ET'#ETO`QYO'#EVOOQQ'#FR'#FRO)yQ^O'#FRO+pQYO'#EWO+wQWO'#EXOOQP'#F{'#F{O+|QXO'#E`OOQQ'#Fx'#FxOOQQ'#FQ'#FQQOQWOOOOQQ'#FS'#FSOOQQ'#F]'#F]O`QYO'#CoOOQQ'#F^'#F^O$qQYO'#CsO,XQYO'#DvOOQQ'#Fq'#FqO,^QYO'#EQOOQO'#EQ'#EQO`QYO'#EUO`QYO'#ETOOQO'#Fy'#FyQ,fQWOOO,kQYO'#DRO-bQWO'#FaOOQO'#DT'#DTO-mQYO'#FeO-tQWOOO.kQYO'#CdO.xQYO'#FUOOQQ'#Cc'#CcO.}QYO'#FTOOQQ'#Cb'#CbO/VQYO,58zO`QYO,59iOOQQ'#Fb'#FbOOQQ'#Fc'#FcOOQQ'#Fd'#FdO`QYO,59qO`QYO,59qO`QYO,59qOOQQ'#Fj'#FjO$qQYO,5:]OOQQ'#Fk'#FkO`QYO,5:_O`QYO,59eO`QYO,59gO`QYO,59iO0uQYO,59iO0|QYO,59rOOQQ,5:h,5:hO1RQYO,59qOOQU-E8k-E8kO2uQYO'#FmOOQQ,5:a,5:aOOQQ,5:m,5:mOOQQ,5:k,5:kO2|QYO,5:qOOQQ,5;m,5;mO3WQYO,5:pO3eQWO,5:rO3jQYO,5:sOOQP'#Ed'#EdO4aQXO'#EcOOQO'#Eb'#EbO4hQWO'#EaO4mQWO'#F|O4uQWO,5:zO4zQYO,59ZO.xQYO'#F`OOQQ'#Cw'#CwO5RQYO'#F_OOQQ'#Cv'#CvO5ZQYO,59_O5`QYO,5:bO5eQYO,5:lO3PQYO,5:pO5jQYO,5:oO`QYO'#EvQ,fQWOOO`QYO'#ElO6aQWO,5;{O`QYOOOOQR'#Cf'#CfOOQQ'#Ei'#EiO7ZQYO,59OO`QYO,5;pOOQQ'#FX'#FXO$qQYO'#EjO7kQYO,5;oO`QYO1G.fOOQQ'#F['#F[O8bQYO1G/TO;XQYO1G/]O;cQYO1G/]O;mQYO1G/]OOQQ1G/w1G/wO=aQYO1G/yO=hQYO1G/PO>qQYO1G/RO?zQYO1G/TO`QYO1G/TOOQQ1G/T1G/TO@bQYO1G/^O@|Q^O'#CdOB`QYO'#FoOOQO'#Dy'#DyOBjQWO'#DxOBoQWO'#FnOOQO'#Dw'#DwOOQO'#Dz'#DzOBwQWO,5<XOOQQ1G0]1G0]O`QYO1G0[O`QYO'#ErOB|QWO,5<ZOOQQ1G0^1G0^OCXQWO'#EZOCdQWO'#FzOOQO'#EY'#EYOClQWO1G0_OOQP'#Et'#EtOCqQXO,5:}O`QYO,5:{OCxQXO'#EuODQQWO,5<hOOQQ1G0f1G0fO`QYO1G.uO`QYO,5;zO$qQYO'#EkODYQYO,5;yO`QYO1G.yODbQYO1G/|OOQO1G0W1G0WOOQO,5;b,5;bOOQO-E8t-E8tOOQO,5;W,5;WOOQO-E8j-E8jODgQWOOOOQQ-E8g-E8gODlQYO'#CmOOQQ1G1[1G1[OOQQ,5;U,5;UOOQQ-E8h-E8hODyQYO7+$QOOQQ7+%e7+%eO`QYO7+$oOEpQYO,5:qOE}QWO7+$oOFSQYO'#D[OOQQ'#DZ'#DZOGvQYO'#D^OG{QYO'#D^OHQQYO'#D^OHVQ`O'#DfOH[Q`O'#DiOHaQ`O'#DmOOQQ7+$x7+$xO`QYO,5:dO$qQYO'#EqOHfQWO,5<YOOQQ1G1s1G1sOIlQYO7+%vOIyQYO,5;^OOQO-E8p-E8pO@bQYO,5:uO$qQYO'#EsOJWQWO,5<fOJ`QYO7+%yOOQP-E8r-E8rOJgQYO1G0gOOQO,5;a,5;aOOQO-E8s-E8sOJqQYO7+$aOJxQYO1G1fOOQQ,5;V,5;VOOQQ-E8i-E8iOKSQYO7+$eOOQO7+%h7+%hO`QYO,59XOKyQYO<<HZOOQQ<<HZ<<HZO$qQYO'#EnOMSQYO,59vONvQYO,59xON{QYO,59xO! QQYO,59xO! VQYO,5:QO$qQYO,5:TO! qQbO,5:XO! xQYO1G0OOOQO,5;],5;]OOQO-E8o-E8oO!!SQYO<<IbOOQQ<<Ib<<IbOOQO1G0a1G0aOOQO,5;_,5;_OOQO-E8q-E8qO!%OQYO'#E]OOQQ<<Ie<<IeO`QYO<<IeO`QYO<<G{O!%uQYO1G.sOOQQ,5;Y,5;YOOQQ-E8l-E8lO!&PQYO1G/dOOQQ1G/d1G/dO!&UQbO'#D]O!&gQ`O'#D[O!&rQ`O1G/lO!&wQWO'#DlO!&|Q`O'#FfOOQO'#Dk'#DkO!'UQ`O1G/oOOQO'#Dp'#DpO!'ZQ`O'#FhOOQO'#Do'#DoO!'cQ`O1G/sOOQQAN?PAN?PO!'hQYOAN=gOOQQ7+%O7+%OO!(_Q`O,59vOOQQ7+%W7+%WO! VQYO,5:WO$qQYO'#EoO!(jQ`O,5<QOOQQ7+%Z7+%ZO! VQYO'#EpO!(rQ`O,5<SO!(zQ`O7+%_OOQO1G/r1G/rOOQO,5;Z,5;ZOOQO-E8m-E8mOOQO,5;[,5;[OOQO-E8n-E8nO@bQYO<<HyOOQQAN>eAN>eO$qQYO'#EnO! VQYO<<HyO!)PQ`O7+%_O!)UQ`O1G/sO! qQbO,5:XO!)ZQ`O'#Dm",stateData:"!)h~O#qOS#rOSPOSQOS~OTqOZVO[UOdrOhtOitOs{OvgO!SyO!TyO!UvO!WxO!b|O!fzO!heO!owO!vhO#RlO#mRO#nRO$g]O$h^O$i_O$j`O~OTqO[UOdrOhtOitOs{OvgO!SyO!TyO!UvO!WxO!b|O!fzO!heO!owO!vhO#RlO#mRO#nRO$g]O$h^O$i_O$j`O~OZ!RO#[!SO~P!|O#mRO#nRO~OZ![O[![O]!]O^!]O_!^O`!iOn!fOp!gOr!ZOs!ZOt!hO{!jO!h!dO#y!bOv$`X~O#k#sX$q#sX~P$yO$g!kOT$XXZ$XX[$XXd$XXh$XXi$XXs$XXv$XX!S$XX!T$XX!U$XX!W$XX!b$XX!f$XX!h$XX!o$XX!v$XX#R$XX#m$XX#n$XX$h$XX$i$XX$j$XX~O#mRO#nROZ!PX[!PX]!PX^!PX_!PX`!PXn!PXp!PXr!PXs!PXt!PXv!PX{!PX!h!PX#k!PX#o!PX#y!PX$q!PX#}!PXx!PX#|!PX!f!PXe!PXb!PX#Q!PXf!PXl!PX~Ov!nO~O$h^O~O#o!sOZ#uX[#uX]#uX^#uX_#uX`#uXn#uXp#uXr#uXs#uXt#uXv#uX{#uX!h#uX#k#uX#y#uX$q#uX#}#uXx#uX#|#uX!f#uXe#uXb#uX#Q#uXf#uXl#uX~O!f$cP~P`Ov!vO~O#l!wO$h^O#Q$pP~Op#TO~Op#UOv!tX~O$q#XO~O#kuX#}uX$quXxuX#|uX!fuXeuXbuX#QuXfuXluX~P$yO#}#ZO#k$TXx$TX~O#k#ZX~P&UOv#]O~OZ#^O[#^O]#^O^#^O_#^O#mRO#nRO#y#^O#z#^O$ZWX~O`WXxWX#}WX~P-yO`#bO~O#}#cOb#wX~Ob#fO~OTqOZVO[UOdrOhtOitOs{O!SyO!TyO!UvO!WxO!b|O!fzO!heO!owO!vhO#RlO#mRO#nRO$g]O$h^O$i_O$j`O~Ov#pO~P/[O|#rO~O{!jO!h!dO#y!bOZya[ya]ya^ya_ya`yanyapyaryasyatyav$`X#kya$qya#}yaxya#|ya!fyaeyabya#Qyafyalya~Ox$cP~P`Ox#{O#|#|O~P$yO#|#|O#}#}O!f$cX~P$yO!f$PO~O#mRO#nROx$nP~OZ#^O[#^O]#^O^#^O_#^O#l!wO#y#^O#z#^O~O$Z#VX~P3uO$Z$WO~O#}$XO#Q$pX~O#Q$ZO~Oe$[O~P$yO#}$^Ol$RX~Ol$`O~O!V$aO~O!S$bO~O#k!wa$q!wa#}!wax!wa#|!wa!f!wae!wab!wa#Q!waf!wal!wa~P$yO#}#ZO#k$Tax$Ta~OZ#^O[#^O]#^O^#^O_#^O#mRO#nRO#y#^O#z#^O~O`Wa$ZWaxWa#}Wa~P6lO#}#cOb#wa~OZ![O[![O]!]O^!]O_!^O{!jO!h!dO#y!bOv$`X~O`qinqipqirqisqitqi#kqi$qqi#}qixqi#|qi!fqieqibqi#Qqifqilqi~P7sO_!^O{!jO!h!dO#y!bOZyi[yi`yinyipyiryisyityiv$`X#kyi$qyi#}yixyi#|yi!fyieyibyi#Qyifyilyi~O]!]O^!]O~P9kO]yi^yi~P9kO{!jO!h!dO#y!bOZyi[yi]yi^yi_yi`yinyipyiryisyityiv$`X#kyi$qyi#}yixyi#|yi!fyieyibyi#Qyifyilyi~O!f$nO~P$yO`!iOp!gOr!ZOs!ZOt!hOnmi#kmi$qmi#}mixmi#|mi!fmiemibmi#Qmifmilmi~P7sO`!iOr!ZOs!ZOt!hOnoipoi#koi$qoi#}oixoi#|oi!foieoiboi#Qoifoiloi~P7sO`!iOn!fOp$oOr!ZOs!ZOt!hO~P7sO!R$tO!U$uO!W$vO!Z$wO!^$xO!b$yO#mRO#nRO~OZ#aX[#aX]#aX^#aX_#aX`#aXn#aXp#aXr#aXs#aXt#aXv#aXx#aX{#aX!h#aX#m#aX#n#aX#o#aX#y#aX#}#aX~P-yO#}#}Ox$cX~P$yO$Z${O~O#}$|Ox$bX~Ox%OO~O#}#}O!f$cax$ca~O$Z%SOx!}X#}!}X~O#}%TOx$nX~Ox%VO~O$Z#Va~P3uO#l!wO$h^O~O#}$XO#Q$pa~O#}$^Ol$Ra~O!T%aO~OxpO~O#|%bObaX#}aX~P$yO#kSq$qSq#}SqxSq#|Sq!fSqeSqbSq#QSqfSqlSq~P$yOx#{O#|#|O#}uX~P$yOx%dO~O#y%eOZ!OX[!OX]!OX^!OX_!OX`!OXn!OXp!OXr!OXs!OXt!OXv!OX{!OX!h!OX#k!OX$q!OX#}!OXx!OX#|!OX!f!OXe!OXb!OX#Q!OXf!OXl!OX~Op%gO~Op%hO~Op%iO~O![%jO~O![%kO~O![%lO~O#}$|Ox$ba~OZ![O[![O]!]O^!]O_!^O`!iOn!fOp!gOr!ZOs!ZOt!hO{!jO#y!bOv$`X~Ox%qO!f%qO!h%pO~PHnO!f#fa#}#fax#fa~P$yO#}%TOx$na~O#O%wO~P`O#Q#Ti#}#Ti~P$yOf%xO~P$yOl$Si#}$Si~P$yO#kgq$qgq#}gqxgq#|gq!fgqegqbgq#Qgqfgqlgq~P$yO`qynqypqyrqysqytqy#kqy$qqy#}qyxqy#|qy!fqyeqybqy#Qqyfqylqy~P7sO#y%eOZ!Oa[!Oa]!Oa^!Oa_!Oa`!Oan!Oap!Oar!Oas!Oat!Oav!Oa{!Oa!h!Oa#k!Oa$q!Oa#}!Oax!Oa#|!Oa!f!Oae!Oab!Oa#Q!Oaf!Oal!Oa~O!S%|O~O!V%|O~O!S%}O~O!R$tO!U$uO!W$vO!Z$wO!^$xO!b&sO#mRO#nRO~O!X$[P~P! VOx!li#}!li~P$yOT$_XZ$_X[$_X]!xy^!xy_!xy`!xyd$_Xh$_Xi$_Xn!xyp!xyr!xys$_Xt!xyv$_X{!xy!S$_X!T$_X!U$_X!W$_X!b$_X!f$_X!h$_X!o$_X!v$_X#R$_X#k!xy#m$_X#n$_X#y!xy$g$_X$h$_X$i$_X$j$_X$q!xy#}!xyx!xy#|!xye!xyb!xy#Q!xyf!xyl!xy~O#k#PX$q#PX#}#PXx#PX#|#PX!f#PXe#PXb#PX#Q#PXf#PXl#PX~P$yObai#}ai~P$yO!T&]O~O#mRO#nRO!X!PX#y!PX#}!PX~O#y&nO!X!OX#}!OX~O!X&_O~O$Z&`O~O#}&aO!X$YX~O!X&cO~O#}&dO!X$[X~O!X&fO~O#kc!R$qc!R#}c!Rxc!R#|c!R!fc!Rec!Rbc!R#Qc!Rfc!Rlc!R~P$yO#y&nO!X!Oa#}!Oa~O#}&aO!X$Ya~O#}&dO!X$[a~O$]&lO~O$]&oO~O!X&pO~O![&rO~OQP_^$g]#y~",goto:"Du$qPPPP$rP%k%n%t&W'qPPPPPP'zP$rPPP$rPP'}(QP$rP$rP$rPPP(WP(cP$r$rPP(l)R)^)RPPPPPPP)RPP)RP*k*n)RP*t*z$rP$rP$r+R+z+},T+zP,]-U,],].U.}P$r/v$r0o0o1h1kP1qPP0o1w1}.Q2RPP2ZP2^2e2k2q2w4S4^4d4j4p4w4}5T5ZPPPPPPPP5a5j7q8j9c9fPP9jPP9p9s:l;e;h;l;q<`=O=o>hP>kP>o?b@T@|ASAV$rA]A]PPPPBU7qB}CvCyDr!mhOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR!YSQ!WSR$k#cS!US#cS#Ou$^W#u!n!v$|%TT&R%k&a#WXOPQWYgjsz{!Z!_!`!a!c!e!f!g!h!i#X#Z#]#a#e#p#r#|#}$W$[$]$`$o${%S%V%b%e%j%l%w%x&O&`&d&l&n&o&rb!TSu!v#c$^$|%T%k&aU#_!T#`#sR#s!nU#_!T#`#sT$U!x$VR$j#aR#SuQ#QuR%^$^U!PQ#]#pQ#q!iR$e#ZQpQQ$g#]R$q#pQ$z#rQ%r%SQ&Q%jU&V%l&d&rQ&g&`T&m&l&oc$s#r%S%j%l&`&d&l&o&r!liOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xQ#k!cU$r#r%S&lS%z%e&n]&P%j%l&`&d&o&rR&U%kQ&S%kR&h&aQ&Y%lR&q&rS&W%l&rR&j&d!mZOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR#z!nQ#w!nR%n$|S#v!n$|T$Q!v%T!mcOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!lcOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xQ!p`T!ym$X!maOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mbOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mfOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mnOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR$T!vQ$R!vR%s%TQ%v%VR&Z%wQ!{mR%Y$XT!zm$XS!xm$XT$U!x$VRpQS#`!T#sR$h#`Q#d!WR$l#dQ$_#QR%_$_Q#[!PR$f#[!vYOPQWgjsz{!Z!_!`!a!c!e!f!g!h!i!n#X#Z#]#a#e#p#r#|#}$W$[$]$`$o${%S%V%b%e%w%x&lS!mY&O_&O%j%l&`&d&n&o&rQ%f$rS%{%f&^R&^&PQ&b&SR&i&bQ&e&WR&k&eQ$}#wR%o$}S$O!t#tR%R$OQ%U$RR%t%UQ$V!xR%W$VQ$Y!{R%Z$YQ#Y}R$d#YQpOQ}PR$c#XUTOP#XW!OQ!i#Z#]Q!lWQ!rgQ!tjQ!}sQ#VzQ#W{Q#g!ZQ#h!_Q#i!`Q#j!aQ#l!eQ#m!fQ#n!gQ#o!hQ#t!nQ$i#aQ$m#eQ$p#pQ%P#|Q%Q#}Q%X$WQ%[$[Q%]$]Q%`$`Q%c$oQ%m${S%u%V%wQ%y%bR&[%x!moOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mSOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR!XST!VS#cQ#a!UR$]#OR#e!Y!msOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!muOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR#RuT#Pu$^V!QQ#]#p!X!_T!O!r!t!}#V#W#g#l#m#n#o#t$i$m$p%P%Q%X%[%]%`%c%m%u%y&[!Z!`T!O!r!t!}#V#W#g#h#l#m#n#o#t$i$m$p%P%Q%X%[%]%`%c%m%u%y&[!]!aT!O!r!t!}#V#W#g#h#i#l#m#n#o#t$i$m$p%P%Q%X%[%]%`%c%m%u%y&[!mWOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR&T%kT&X%l&r!a!cT!O!l!r!t!}#V#W#g#h#i#j#l#m#n#o#t$i$m$p%P%Q%X%[%]%`%c%m%u%y&[!a!eT!O!l!r!t!}#V#W#g#h#i#j#l#m#n#o#t$i$m$p%P%Q%X%[%]%`%c%m%u%y&[!m[OPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xQ!o[R!qaR#x!nQ!ujR#y!n!mdOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mjOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mkOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR$S!v!mmOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR!|m",nodeNames:"\u26A0 LineComment BlockComment Expression ForExpression for InExpressions InExpression Name Identifier Identifier ArithOp ArithOp ArithOp ArithOp ArithOp in IterationContext return IfExpression if then else QuantifiedExpression some every InExpressions InExpression satisfies Disjunction or Conjunction and Comparison CompareOp CompareOp between PositiveUnaryTest ( PositiveUnaryTests ) ArithmeticExpression InstanceOfExpression instance of Type QualifiedName VariableName SpecialType days time duration years months date > ListType list < ContextType context ContextEntryTypes ContextEntryType FunctionType function ArgumentTypes ArgumentType PathExpression ] FilterExpression [ FunctionInvocation SpecialFunctionName NamedParameters NamedParameter ParameterName PositionalParameters null NumericLiteral StringLiteral BooleanLiteral DateTimeLiteral DateTimeConstructor AtLiteral ? SimplePositiveUnaryTest Interval ParenthesizedExpression List FunctionDefinition FormalParameters FormalParameter external FunctionBody } { Context ContextEntry Key Name Identifier Expressions UnaryTests Wildcard not",maxTerm:171,context:vft,nodeProps:[["closedBy",38,")",70,"]",95,"}"],["openedBy",40,"(",68,"[",94,"{"],["group",-5,77,78,79,80,81,"Literal"]],propSources:[xft],skippedNodes:[0,1,2],repeatNodeCount:14,tokenData:"+l~RuXY#fYZ$ZZ[#f]^$Zpq#fqr$`rs$kwx&cxy&hyz&mz{&r{|'P|}'U}!O'Z!O!P'h!P!Q(Q!Q![){![!]*^!]!^*c!^!_*h!_!`$f!`!a*w!b!c+R!}#O+W#P#Q+]#Q#R&z#o#p+b#q#r+g$f$g#f#BY#BZ#f$IS$I_#f$I|$I}$Z$I}$JO$Z$JT$JU#f$KV$KW#f&FU&FV#f?HT?HU#f~#kY#q~XY#fZ[#fpq#f$f$g#f#BY#BZ#f$IS$I_#f$JT$JU#f$KV$KW#f&FU&FV#f?HT?HU#f~$`O#r~~$cP!_!`$f~$kOr~~$pW$h~OY$kZr$krs%Ys#O$k#O#P%_#P;'S$k;'S;=`&]<%lO$k~%_O$h~~%bRO;'S$k;'S;=`%k;=`O$k~%pX$h~OY$kZr$krs%Ys#O$k#O#P%_#P;'S$k;'S;=`&];=`<%l$k<%lO$k~&`P;=`<%l$k~&hO#z~~&mOv~~&rOx~~&wP^~z{&z~'PO_~~'UO[~~'ZO#}~R'`PZP!`!a'cQ'hO$]Q~'mQ#y~!O!P's!Q!['x~'xO#|~~'}P$g~!Q!['x~(VQ]~z{(]!P!Q)d~(`TOz(]z{(o{;'S(];'S;=`)^<%lO(]~(rVOz(]z{(o{!P(]!P!Q)X!Q;'S(];'S;=`)^<%lO(]~)^OQ~~)aP;=`<%l(]~)iSP~OY)dZ;'S)d;'S;=`)u<%lO)d~)xP;=`<%l)d~*QQ$g~!O!P*W!Q![){~*ZP!Q!['x~*cO$Z~~*hO$q~R*oP![QsP!_!`*rP*wOsPR+OP!XQsP!_!`*r~+WO$j~~+]O!h~~+bO!f~~+gO#R~~+lO#Q~",tokenizers:[dft,uft,fft,0,1],topRules:{Expression:[0,3],Expressions:[1,101],UnaryTests:[2,102]},dynamicPrecedences:{31:-1,67:1,71:-1,73:-1},specialized:[{term:121,get:t=>Eft[t]||-1}],tokenPrec:2500});var kn=class t{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,i){[e,n]=_b(this,e,n);let a=[];return this.decompose(0,e,a,2),i.length&&i.decompose(0,i.length,a,3),this.decompose(n,this.length,a,1),bb.from(a,this.length-(n-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=_b(this,e,n);let i=[];return this.decompose(e,n,i,0),bb.from(i,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),a=new v1(this),c=new v1(e);for(let d=n,h=n;;){if(a.next(d),c.next(d),d=0,a.lineBreak!=c.lineBreak||a.done!=c.done||a.value!=c.value)return!1;if(h+=a.value.length,a.done||h>=i)return!0}}iter(e=1){return new v1(this,e)}iterRange(e,n=this.length){return new HT(this,e,n)}iterLines(e,n){let i;if(e==null)i=this.iter();else{n==null&&(n=this.lines+1);let a=this.line(e).from;i=this.iterRange(a,Math.max(a,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new UT(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?t.empty:e.length<=32?new pl(e):bb.from(pl.split(e,[]))}},pl=class t extends kn{constructor(e,n=wft(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,i,a){for(let c=0;;c++){let d=this.text[c],h=a+d.length;if((n?i:h)>=e)return new jV(a,h,i,d);a=h+1,i++}}decompose(e,n,i,a){let c=e<=0&&n>=this.length?this:new t(fye(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(a&1){let d=i.pop(),h=zT(c.text,d.text.slice(),0,c.length);if(h.length<=32)i.push(new t(h,d.length+c.length));else{let m=h.length>>1;i.push(new t(h.slice(0,m)),new t(h.slice(m)))}}else i.push(c)}replace(e,n,i){if(!(i instanceof t))return super.replace(e,n,i);[e,n]=_b(this,e,n);let a=zT(this.text,zT(i.text,fye(this.text,0,e)),n),c=this.length+i.length-(n-e);return a.length<=32?new t(a,c):bb.from(t.split(a,[]),c)}sliceString(e,n=this.length,i=`
`){[e,n]=_b(this,e,n);let a="";for(let c=0,d=0;c<=n&&d<this.text.length;d++){let h=this.text[d],m=c+h.length;c>e&&d&&(a+=i),e<m&&n>c&&(a+=h.slice(Math.max(0,e-c),n-c)),c=m+1}return a}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let i=[],a=-1;for(let c of e)i.push(c),a+=c.length+1,i.length==32&&(n.push(new t(i,a)),i=[],a=-1);return a>-1&&n.push(new t(i,a)),n}},bb=class t extends kn{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,n,i,a){for(let c=0;;c++){let d=this.children[c],h=a+d.length,m=i+d.lines-1;if((n?m:h)>=e)return d.lineInner(e,n,i,a);a=h+1,i=m+1}}decompose(e,n,i,a){for(let c=0,d=0;d<=n&&c<this.children.length;c++){let h=this.children[c],m=d+h.length;if(e<=m&&n>=d){let g=a&((d<=e?1:0)|(m>=n?2:0));d>=e&&m<=n&&!g?i.push(h):h.decompose(e-d,n-d,i,g)}d=m+1}}replace(e,n,i){if([e,n]=_b(this,e,n),i.lines<this.lines)for(let a=0,c=0;a<this.children.length;a++){let d=this.children[a],h=c+d.length;if(e>=c&&n<=h){let m=d.replace(e-c,n-c,i),g=this.lines-d.lines+m.lines;if(m.lines<g>>4&&m.lines>g>>6){let b=this.children.slice();return b[a]=m,new t(b,this.length-(n-e)+i.length)}return super.replace(c,h,m)}c=h+1}return super.replace(e,n,i)}sliceString(e,n=this.length,i=`
`){[e,n]=_b(this,e,n);let a="";for(let c=0,d=0;c<this.children.length&&d<=n;c++){let h=this.children[c],m=d+h.length;d>e&&c&&(a+=i),e<m&&n>d&&(a+=h.sliceString(e-d,n-d,i)),d=m+1}return a}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof t))return 0;let i=0,[a,c,d,h]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;a+=n,c+=n){if(a==d||c==h)return i;let m=this.children[a],g=e.children[c];if(m!=g)return i+m.scanIdentical(g,n);i+=m.length+1}}static from(e,n=e.reduce((i,a)=>i+a.length+1,-1)){let i=0;for(let S of e)i+=S.lines;if(i<32){let S=[];for(let D of e)D.flatten(S);return new pl(S,n)}let a=Math.max(32,i>>5),c=a<<1,d=a>>1,h=[],m=0,g=-1,b=[];function E(S){let D;if(S.lines>c&&S instanceof t)for(let k of S.children)E(k);else S.lines>d&&(m>d||!m)?(_(),h.push(S)):S instanceof pl&&m&&(D=b[b.length-1])instanceof pl&&S.lines+D.lines<=32?(m+=S.lines,g+=S.length+1,b[b.length-1]=new pl(D.text.concat(S.text),D.length+1+S.length)):(m+S.lines>a&&_(),m+=S.lines,g+=S.length+1,b.push(S))}function _(){m!=0&&(h.push(b.length==1?b[0]:t.from(b,g)),g=-1,m=b.length=0)}for(let S of e)E(S);return _(),h.length==1?h[0]:new t(h,n)}};kn.empty=new pl([""],0);function wft(t){let e=-1;for(let n of t)e+=n.length+1;return e}function zT(t,e,n=0,i=1e9){for(let a=0,c=0,d=!0;c<t.length&&a<=i;c++){let h=t[c],m=a+h.length;m>=n&&(m>i&&(h=h.slice(0,i-a)),a<n&&(h=h.slice(n-a)),d?(e[e.length-1]+=h,d=!1):e.push(h)),a=m+1}return e}function fye(t,e,n){return zT(t,[""],e,n)}var v1=class{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof pl?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,a=this.nodes[i],c=this.offsets[i],d=c>>1,h=a instanceof pl?a.text.length:a.children.length;if(d==(n>0?h:0)){if(i==0)return this.done=!0,this.value="",this;n>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((c&1)==(n>0?0:1)){if(this.offsets[i]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(a instanceof pl){let m=a.text[d+(n<0?-1:0)];if(this.offsets[i]+=n,m.length>Math.max(0,e))return this.value=e==0?m:n>0?m.slice(e):m.slice(0,m.length-e),this;e-=m.length}else{let m=a.children[d+(n<0?-1:0)];e>m.length?(e-=m.length,this.offsets[i]+=n):(n<0&&this.offsets[i]--,this.nodes.push(m),this.offsets.push(n>0?1:(m instanceof pl?m.text.length:m.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}},HT=class{constructor(e,n,i){this.value="",this.done=!1,this.cursor=new v1(e,n>i?-1:1),this.pos=n>i?e.length:0,this.from=Math.min(n,i),this.to=Math.max(n,i)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let i=n<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:a}=this.cursor.next(e);return this.pos+=(a.length+e)*n,this.value=a.length<=i?a:n<0?a.slice(a.length-i):a.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}},UT=class{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:i,value:a}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=a,this.afterBreak=!1),this}get lineBreak(){return!1}};typeof Symbol<"u"&&(kn.prototype[Symbol.iterator]=function(){return this.iter()},v1.prototype[Symbol.iterator]=HT.prototype[Symbol.iterator]=UT.prototype[Symbol.iterator]=function(){return this});var jV=class{constructor(e,n,i,a){this.from=e,this.to=n,this.number=i,this.text=a}get length(){return this.to-this.from}};function _b(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}var xb="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<xb.length;t++)xb[t]+=xb[t-1];function _ft(t){for(let e=1;e<xb.length;e+=2)if(xb[e]>t)return xb[e-1]<=t;return!1}function hye(t){return t>=127462&&t<=127487}var pye=8205;function rs(t,e,n=!0,i=!0){return(n?wye:Cft)(t,e,i)}function wye(t,e,n){if(e==t.length)return e;e&&_ye(t.charCodeAt(e))&&Cye(t.charCodeAt(e-1))&&e--;let i=ta(t,e);for(e+=lc(i);e<t.length;){let a=ta(t,e);if(i==pye||a==pye||n&&_ft(a))e+=lc(a),i=a;else if(hye(a)){let c=0,d=e-2;for(;d>=0&&hye(ta(t,d));)c++,d-=2;if(c%2==0)break;e+=2}else break}return e}function Cft(t,e,n){for(;e>0;){let i=wye(t,e-2,n);if(i<e)return i;e--}return 0}function _ye(t){return t>=56320&&t<57344}function Cye(t){return t>=55296&&t<56320}function ta(t,e){let n=t.charCodeAt(e);if(!Cye(n)||e+1==t.length)return n;let i=t.charCodeAt(e+1);return _ye(i)?(n-55296<<10)+(i-56320)+65536:n}function ZV(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function lc(t){return t<65536?1:2}var VV=/\r\n?|\n/,bo=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(bo||(bo={})),k0=class t{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n+1];e+=i<0?this.sections[n]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,i=0,a=0;n<this.sections.length;){let c=this.sections[n++],d=this.sections[n++];d<0?(e(i,a,c),a+=c):a+=d,i+=c}}iterChangedRanges(e,n=!1){zV(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let i=this.sections[n++],a=this.sections[n++];a<0?e.push(i,a):e.push(a,i)}return new t(e)}composeDesc(e){return this.empty?e:e.empty?this:Sye(this,e)}mapDesc(e,n=!1){return e.empty?this:HV(this,e,n)}mapPos(e,n=-1,i=bo.Simple){let a=0,c=0;for(let d=0;d<this.sections.length;){let h=this.sections[d++],m=this.sections[d++],g=a+h;if(m<0){if(g>e)return c+(e-a);c+=h}else{if(i!=bo.Simple&&g>=e&&(i==bo.TrackDel&&a<e&&g>e||i==bo.TrackBefore&&a<e||i==bo.TrackAfter&&g>e))return null;if(g>e||g==e&&n<0&&!h)return e==a||n<0?c:c+m;c+=m}a=g}if(e>a)throw new RangeError(`Position ${e} is out of range for changeset of length ${a}`);return c}touchesRange(e,n=e){for(let i=0,a=0;i<this.sections.length&&a<=n;){let c=this.sections[i++],d=this.sections[i++],h=a+c;if(d>=0&&a<=n&&h>=e)return a<e&&h>n?"cover":!0;a=h}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let i=this.sections[n++],a=this.sections[n++];e+=(e?" ":"")+i+(a>=0?":"+a:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new t(e)}static create(e){return new t(e)}},Pa=class t extends k0{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return zV(this,(n,i,a,c,d)=>e=e.replace(a,a+(i-n),d),!1),e}mapDesc(e,n=!1){return HV(this,e,n,!0)}invert(e){let n=this.sections.slice(),i=[];for(let a=0,c=0;a<n.length;a+=2){let d=n[a],h=n[a+1];if(h>=0){n[a]=h,n[a+1]=d;let m=a>>1;for(;i.length<m;)i.push(kn.empty);i.push(d?e.slice(c,c+d):kn.empty)}c+=d}return new t(n,i)}compose(e){return this.empty?e:e.empty?this:Sye(this,e,!0)}map(e,n=!1){return e.empty?this:HV(this,e,n,!0)}iterChanges(e,n=!1){zV(this,e,n)}get desc(){return k0.create(this.sections)}filter(e){let n=[],i=[],a=[],c=new y1(this);e:for(let d=0,h=0;;){let m=d==e.length?1e9:e[d++];for(;h<m||h==m&&c.len==0;){if(c.done)break e;let b=Math.min(c.len,m-h);Ss(a,b,-1);let E=c.ins==-1?-1:c.off==0?c.ins:0;Ss(n,b,E),E>0&&T0(i,n,c.text),c.forward(b),h+=b}let g=e[d++];for(;h<g;){if(c.done)break e;let b=Math.min(c.len,g-h);Ss(n,b,-1),Ss(a,b,c.ins==-1?-1:c.off==0?c.ins:0),c.forward(b),h+=b}}return{changes:new t(n,i),filtered:k0.create(a)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n],a=this.sections[n+1];a<0?e.push(i):a==0?e.push([i]):e.push([i].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,i){let a=[],c=[],d=0,h=null;function m(b=!1){if(!b&&!a.length)return;d<n&&Ss(a,n-d,-1);let E=new t(a,c);h=h?h.compose(E.map(h)):E,a=[],c=[],d=0}function g(b){if(Array.isArray(b))for(let E of b)g(E);else if(b instanceof t){if(b.length!=n)throw new RangeError(`Mismatched change set length (got ${b.length}, expected ${n})`);m(),h=h?h.compose(b.map(h)):b}else{let{from:E,to:_=E,insert:S}=b;if(E>_||E<0||_>n)throw new RangeError(`Invalid change range ${E} to ${_} (in doc of length ${n})`);let D=S?typeof S=="string"?kn.of(S.split(i||VV)):S:kn.empty,k=D.length;if(E==_&&k==0)return;E<d&&m(),E>d&&Ss(a,E-d,-1),Ss(a,_-E,k),T0(c,a,D),d=_}}return g(e),m(!h),h}static empty(e){return new t(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],i=[];for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number")n.push(c,-1);else{if(!Array.isArray(c)||typeof c[0]!="number"||c.some((d,h)=>h&&typeof d!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(c.length==1)n.push(c[0],0);else{for(;i.length<a;)i.push(kn.empty);i[a]=kn.of(c.slice(1)),n.push(c[0],i[a].length)}}}return new t(n,i)}static createSet(e,n){return new t(e,n)}};function Ss(t,e,n,i=!1){if(e==0&&n<=0)return;let a=t.length-2;a>=0&&n<=0&&n==t[a+1]?t[a]+=e:e==0&&t[a]==0?t[a+1]+=n:i?(t[a]+=e,t[a+1]+=n):t.push(e,n)}function T0(t,e,n){if(n.length==0)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<i;)t.push(kn.empty);t.push(n)}}function zV(t,e,n){let i=t.inserted;for(let a=0,c=0,d=0;d<t.sections.length;){let h=t.sections[d++],m=t.sections[d++];if(m<0)a+=h,c+=h;else{let g=a,b=c,E=kn.empty;for(;g+=h,b+=m,m&&i&&(E=E.append(i[d-2>>1])),!(n||d==t.sections.length||t.sections[d+1]<0);)h=t.sections[d++],m=t.sections[d++];e(a,g,c,b,E),a=g,c=b}}}function HV(t,e,n,i=!1){let a=[],c=i?[]:null,d=new y1(t),h=new y1(e);for(let m=-1;;)if(d.ins==-1&&h.ins==-1){let g=Math.min(d.len,h.len);Ss(a,g,-1),d.forward(g),h.forward(g)}else if(h.ins>=0&&(d.ins<0||m==d.i||d.off==0&&(h.len<d.len||h.len==d.len&&!n))){let g=h.len;for(Ss(a,h.ins,-1);g;){let b=Math.min(d.len,g);d.ins>=0&&m<d.i&&d.len<=b&&(Ss(a,0,d.ins),c&&T0(c,a,d.text),m=d.i),d.forward(b),g-=b}h.next()}else if(d.ins>=0){let g=0,b=d.len;for(;b;)if(h.ins==-1){let E=Math.min(b,h.len);g+=E,b-=E,h.forward(E)}else if(h.ins==0&&h.len<b)b-=h.len,h.next();else break;Ss(a,g,m<d.i?d.ins:0),c&&m<d.i&&T0(c,a,d.text),m=d.i,d.forward(d.len-b)}else{if(d.done&&h.done)return c?Pa.createSet(a,c):k0.create(a);throw new Error("Mismatched change set lengths")}}function Sye(t,e,n=!1){let i=[],a=n?[]:null,c=new y1(t),d=new y1(e);for(let h=!1;;){if(c.done&&d.done)return a?Pa.createSet(i,a):k0.create(i);if(c.ins==0)Ss(i,c.len,0,h),c.next();else if(d.len==0&&!d.done)Ss(i,0,d.ins,h),a&&T0(a,i,d.text),d.next();else{if(c.done||d.done)throw new Error("Mismatched change set lengths");{let m=Math.min(c.len2,d.len),g=i.length;if(c.ins==-1){let b=d.ins==-1?-1:d.off?0:d.ins;Ss(i,m,b,h),a&&b&&T0(a,i,d.text)}else d.ins==-1?(Ss(i,c.off?0:c.len,m,h),a&&T0(a,i,c.textBit(m))):(Ss(i,c.off?0:c.len,d.off?0:d.ins,h),a&&!d.off&&T0(a,i,d.text));h=(c.ins>m||d.ins>=0&&d.len>m)&&(h||i.length>g),c.forward2(m),d.forward(m)}}}}var y1=class{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?kn.empty:e[n]}textBit(e){let{inserted:n}=this.set,i=this.i-2>>1;return i>=n.length&&!e?kn.empty:n[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}},yb=class t{constructor(e,n,i){this.from=e,this.to=n,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let i,a;return this.empty?i=a=e.mapPos(this.from,n):(i=e.mapPos(this.from,1),a=e.mapPos(this.to,-1)),i==this.from&&a==this.to?this:new t(i,a,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return ze.range(e,n);let i=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return ze.range(this.anchor,i)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ze.range(e.anchor,e.head)}static create(e,n,i){return new t(e,n,i)}},ze=class t{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:t.create(this.ranges.map(i=>i.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new t([this.main],0)}addRange(e,n=!0){return t.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let i=this.ranges.slice();return i[n]=e,t.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new t(e.ranges.map(n=>yb.fromJSON(n)),e.main)}static single(e,n=e){return new t([t.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,a=0;a<e.length;a++){let c=e[a];if(c.empty?c.from<=i:c.from<i)return t.normalized(e.slice(),n);i=c.to}return new t(e,n)}static cursor(e,n=0,i,a){return yb.create(e,e,(n==0?0:n<0?8:16)|(i==null?7:Math.min(6,i))|(a??16777215)<<6)}static range(e,n,i,a){let c=(i??16777215)<<6|(a==null?7:Math.min(6,a));return n<e?yb.create(n,e,48|c):yb.create(e,n,(n>e?8:0)|c)}static normalized(e,n=0){let i=e[n];e.sort((a,c)=>a.from-c.from),n=e.indexOf(i);for(let a=1;a<e.length;a++){let c=e[a],d=e[a-1];if(c.empty?c.from<=d.to:c.from<d.to){let h=d.from,m=Math.max(c.to,d.to);a<=n&&n--,e.splice(--a,2,c.anchor>c.head?t.range(m,h):t.range(h,m))}}return new t(e,n)}};function Oye(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}var JV=0,ct=class t{constructor(e,n,i,a,c){this.combine=e,this.compareInput=n,this.compare=i,this.isStatic=a,this.id=JV++,this.default=e([]),this.extensions=typeof c=="function"?c(this):c}get reader(){return this}static define(e={}){return new t(e.combine||(n=>n),e.compareInput||((n,i)=>n===i),e.compare||(e.combine?(n,i)=>n===i:ez),!!e.static,e.enables)}of(e){return new Eb([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Eb(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Eb(e,this,2,n)}from(e,n){return n||(n=i=>i),this.compute([e],i=>n(i.field(e)))}};function ez(t,e){return t==e||t.length==e.length&&t.every((n,i)=>n===e[i])}var Eb=class{constructor(e,n,i,a){this.dependencies=e,this.facet=n,this.type=i,this.value=a,this.id=JV++}dynamicSlot(e){var n;let i=this.value,a=this.facet.compareInput,c=this.id,d=e[c]>>1,h=this.type==2,m=!1,g=!1,b=[];for(let E of this.dependencies)E=="doc"?m=!0:E=="selection"?g=!0:((n=e[E.id])!==null&&n!==void 0?n:1)&1||b.push(e[E.id]);return{create(E){return E.values[d]=i(E),1},update(E,_){if(m&&_.docChanged||g&&(_.docChanged||_.selection)||UV(E,b)){let S=i(E);if(h?!mye(S,E.values[d],a):!a(S,E.values[d]))return E.values[d]=S,1}return 0},reconfigure:(E,_)=>{let S,D=_.config.address[c];if(D!=null){let k=GT(_,D);if(this.dependencies.every(I=>I instanceof ct?_.facet(I)===E.facet(I):I instanceof Lo?_.field(I,!1)==E.field(I,!1):!0)||(h?mye(S=i(E),k,a):a(S=i(E),k)))return E.values[d]=k,0}else S=i(E);return E.values[d]=S,1}}}};function mye(t,e,n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}function UV(t,e){let n=!1;for(let i of e)W5(t,i)&1&&(n=!0);return n}function Sft(t,e,n){let i=n.map(m=>t[m.id]),a=n.map(m=>m.type),c=i.filter(m=>!(m&1)),d=t[e.id]>>1;function h(m){let g=[];for(let b=0;b<i.length;b++){let E=GT(m,i[b]);if(a[b]==2)for(let _ of E)g.push(_);else g.push(E)}return e.combine(g)}return{create(m){for(let g of i)W5(m,g);return m.values[d]=h(m),1},update(m,g){if(!UV(m,c))return 0;let b=h(m);return e.compare(b,m.values[d])?0:(m.values[d]=b,1)},reconfigure(m,g){let b=UV(m,i),E=g.config.facets[e.id],_=g.facet(e);if(E&&!b&&ez(n,E))return m.values[d]=_,0;let S=h(m);return e.compare(S,_)?(m.values[d]=_,0):(m.values[d]=S,1)}}}var gye=ct.define({static:!0}),Lo=class t{constructor(e,n,i,a,c){this.id=e,this.createF=n,this.updateF=i,this.compareF=a,this.spec=c,this.provides=void 0}static define(e){let n=new t(JV++,e.create,e.update,e.compare||((i,a)=>i===a),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(gye).find(i=>i.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:i=>(i.values[n]=this.create(i),1),update:(i,a)=>{let c=i.values[n],d=this.updateF(c,a);return this.compareF(c,d)?0:(i.values[n]=d,1)},reconfigure:(i,a)=>a.config.address[this.id]!=null?(i.values[n]=a.field(this),0):(i.values[n]=this.create(i),1)}}init(e){return[this,gye.of({field:this,create:e})]}get extension(){return this}},m1={lowest:4,low:3,default:2,high:1,highest:0};function q5(t){return e=>new qT(e,t)}var th={highest:q5(m1.highest),high:q5(m1.high),default:q5(m1.default),low:q5(m1.low),lowest:q5(m1.lowest)},qT=class{constructor(e,n){this.inner=e,this.prec=n}},b1=class t{of(e){return new G5(this,e)}reconfigure(e){return t.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}},G5=class{constructor(e,n){this.compartment=e,this.inner=n}},WT=class t{constructor(e,n,i,a,c,d){for(this.base=e,this.compartments=n,this.dynamicSlots=i,this.address=a,this.staticValues=c,this.facets=d,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,i){let a=[],c=Object.create(null),d=new Map;for(let _ of Oft(e,n,d))_ instanceof Lo?a.push(_):(c[_.facet.id]||(c[_.facet.id]=[])).push(_);let h=Object.create(null),m=[],g=[];for(let _ of a)h[_.id]=g.length<<1,g.push(S=>_.slot(S));let b=i?.config.facets;for(let _ in c){let S=c[_],D=S[0].facet,k=b&&b[_]||[];if(S.every(I=>I.type==0))if(h[D.id]=m.length<<1|1,ez(k,S))m.push(i.facet(D));else{let I=D.combine(S.map(R=>R.value));m.push(i&&D.compare(I,i.facet(D))?i.facet(D):I)}else{for(let I of S)I.type==0?(h[I.id]=m.length<<1|1,m.push(I.value)):(h[I.id]=g.length<<1,g.push(R=>I.dynamicSlot(R)));h[D.id]=g.length<<1,g.push(I=>Sft(I,D,S))}}let E=g.map(_=>_(h));return new t(e,d,E,h,m,c)}};function Oft(t,e,n){let i=[[],[],[],[],[]],a=new Map;function c(d,h){let m=a.get(d);if(m!=null){if(m<=h)return;let g=i[m].indexOf(d);g>-1&&i[m].splice(g,1),d instanceof G5&&n.delete(d.compartment)}if(a.set(d,h),Array.isArray(d))for(let g of d)c(g,h);else if(d instanceof G5){if(n.has(d.compartment))throw new RangeError("Duplicate use of compartment in extensions");let g=e.get(d.compartment)||d.inner;n.set(d.compartment,g),c(g,h)}else if(d instanceof qT)c(d.inner,d.prec);else if(d instanceof Lo)i[h].push(d),d.provides&&c(d.provides,h);else if(d instanceof Eb)i[h].push(d),d.facet.extensions&&c(d.facet.extensions,m1.default);else{let g=d.extension;if(!g)throw new Error(`Unrecognized extension value in extension set (${d}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);c(g,h)}}return c(t,m1.default),i.reduce((d,h)=>d.concat(h))}function W5(t,e){if(e&1)return 2;let n=e>>1,i=t.status[n];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;t.status[n]=4;let a=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|a}function GT(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}var vye=ct.define(),FV=ct.define({combine:t=>t.some(e=>e),static:!0}),Dye=ct.define({combine:t=>t.length?t[0]:void 0,static:!0}),Tye=ct.define(),kye=ct.define(),Pye=ct.define(),yye=ct.define({combine:t=>t.length?t[0]:!1}),ac=class{constructor(e,n){this.type=e,this.value=n}static define(){return new qV}},qV=class{of(e){return new ac(this,e)}},WV=class{constructor(e){this.map=e}of(e){return new Zn(this,e)}},Zn=(()=>{class t{constructor(n,i){this.type=n,this.value=i}map(n){let i=this.type.map(this.value,n);return i===void 0?void 0:i==this.value?this:new t(this.type,i)}is(n){return this.type==n}static define(n={}){return new WV(n.map||(i=>i))}static mapEffects(n,i){if(!n.length)return n;let a=[];for(let c of n){let d=c.map(i);d&&a.push(d)}return a}}return t.reconfigure=t.define(),t.appendConfig=t.define(),t})(),su=(()=>{class t{constructor(n,i,a,c,d,h){this.startState=n,this.changes=i,this.selection=a,this.effects=c,this.annotations=d,this.scrollIntoView=h,this._doc=null,this._state=null,a&&Oye(a,i.newLength),d.some(m=>m.type==t.time)||(this.annotations=d.concat(t.time.of(Date.now())))}static create(n,i,a,c,d,h){return new t(n,i,a,c,d,h)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(n){for(let i of this.annotations)if(i.type==n)return i.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(n){let i=this.annotation(t.userEvent);return!!(i&&(i==n||i.length>n.length&&i.slice(0,n.length)==n&&i[n.length]=="."))}}return t.time=ac.define(),t.userEvent=ac.define(),t.addToHistory=ac.define(),t.remote=ac.define(),t})();function Dft(t,e){let n=[];for(let i=0,a=0;;){let c,d;if(i<t.length&&(a==e.length||e[a]>=t[i]))c=t[i++],d=t[i++];else if(a<e.length)c=e[a++],d=e[a++];else return n;!n.length||n[n.length-1]<c?n.push(c,d):n[n.length-1]<d&&(n[n.length-1]=d)}}function Iye(t,e,n){var i;let a,c,d;return n?(a=e.changes,c=Pa.empty(e.changes.length),d=t.changes.compose(e.changes)):(a=e.changes.map(t.changes),c=t.changes.mapDesc(e.changes,!0),d=t.changes.compose(a)),{changes:d,selection:e.selection?e.selection.map(c):(i=t.selection)===null||i===void 0?void 0:i.map(a),effects:Zn.mapEffects(t.effects,a).concat(Zn.mapEffects(e.effects,c)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function GV(t,e,n){let i=e.selection,a=wb(e.annotations);return e.userEvent&&(a=a.concat(su.userEvent.of(e.userEvent))),{changes:e.changes instanceof Pa?e.changes:Pa.of(e.changes||[],n,t.facet(Dye)),selection:i&&(i instanceof ze?i:ze.single(i.anchor,i.head)),effects:wb(e.effects),annotations:a,scrollIntoView:!!e.scrollIntoView}}function Mye(t,e,n){let i=GV(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let c=1;c<e.length;c++){e[c].filter===!1&&(n=!1);let d=!!e[c].sequential;i=Iye(i,GV(t,e[c],d?i.changes.newLength:t.doc.length),d)}let a=su.create(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return kft(n?Tft(a):a)}function Tft(t){let e=t.startState,n=!0;for(let a of e.facet(Tye)){let c=a(t);if(c===!1){n=!1;break}Array.isArray(c)&&(n=n===!0?c:Dft(n,c))}if(n!==!0){let a,c;if(n===!1)c=t.changes.invertedDesc,a=Pa.empty(e.doc.length);else{let d=t.changes.filter(n);a=d.changes,c=d.filtered.mapDesc(d.changes).invertedDesc}t=su.create(e,a,t.selection&&t.selection.map(c),Zn.mapEffects(t.effects,c),t.annotations,t.scrollIntoView)}let i=e.facet(kye);for(let a=i.length-1;a>=0;a--){let c=i[a](t);c instanceof su?t=c:Array.isArray(c)&&c.length==1&&c[0]instanceof su?t=c[0]:t=Mye(e,wb(c),!1)}return t}function kft(t){let e=t.startState,n=e.facet(Pye),i=t;for(let a=n.length-1;a>=0;a--){let c=n[a](t);c&&Object.keys(c).length&&(i=Iye(i,GV(e,c,t.changes.newLength),!0))}return i==t?t:su.create(e,t.changes,t.selection,i.effects,i.annotations,i.scrollIntoView)}var Pft=[];function wb(t){return t==null?Pft:Array.isArray(t)?t:[t]}var ea=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(ea||(ea={})),Ift=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,QV;try{QV=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Mft(t){if(QV)return QV.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||Ift.test(n)))return!0}return!1}function Aft(t){return e=>{if(!/\S/.test(e))return ea.Space;if(Mft(e))return ea.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return ea.Word;return ea.Other}}var is=(()=>{class t{constructor(n,i,a,c,d,h){this.config=n,this.doc=i,this.selection=a,this.values=c,this.status=n.statusTemplate.slice(),this.computeSlot=d,h&&(h._state=this);for(let m=0;m<this.config.dynamicSlots.length;m++)W5(this,m<<1);this.computeSlot=null}field(n,i=!0){let a=this.config.address[n.id];if(a==null){if(i)throw new RangeError("Field is not present in this state");return}return W5(this,a),GT(this,a)}update(...n){return Mye(this,n,!0)}applyTransaction(n){let i=this.config,{base:a,compartments:c}=i;for(let m of n.effects)m.is(b1.reconfigure)?(i&&(c=new Map,i.compartments.forEach((g,b)=>c.set(b,g)),i=null),c.set(m.value.compartment,m.value.extension)):m.is(Zn.reconfigure)?(i=null,a=m.value):m.is(Zn.appendConfig)&&(i=null,a=wb(a).concat(m.value));let d;i?d=n.startState.values.slice():(i=WT.resolve(a,c,this),d=new t(i,this.doc,this.selection,i.dynamicSlots.map(()=>null),(g,b)=>b.reconfigure(g,this),null).values);let h=n.startState.facet(FV)?n.newSelection:n.newSelection.asSingle();new t(i,n.newDoc,h,d,(m,g)=>g.update(m,n),n)}replaceSelection(n){return typeof n=="string"&&(n=this.toText(n)),this.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:n},range:ze.cursor(i.from+n.length)}))}changeByRange(n){let i=this.selection,a=n(i.ranges[0]),c=this.changes(a.changes),d=[a.range],h=wb(a.effects);for(let m=1;m<i.ranges.length;m++){let g=n(i.ranges[m]),b=this.changes(g.changes),E=b.map(c);for(let S=0;S<m;S++)d[S]=d[S].map(E);let _=c.mapDesc(b,!0);d.push(g.range.map(_)),c=c.compose(E),h=Zn.mapEffects(h,E).concat(Zn.mapEffects(wb(g.effects),_))}return{changes:c,selection:ze.create(d,i.mainIndex),effects:h}}changes(n=[]){return n instanceof Pa?n:Pa.of(n,this.doc.length,this.facet(t.lineSeparator))}toText(n){return kn.of(n.split(this.facet(t.lineSeparator)||VV))}sliceDoc(n=0,i=this.doc.length){return this.doc.sliceString(n,i,this.lineBreak)}facet(n){let i=this.config.address[n.id];return i==null?n.default:(W5(this,i),GT(this,i))}toJSON(n){let i={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(n)for(let a in n){let c=n[a];c instanceof Lo&&this.config.address[c.id]!=null&&(i[a]=c.spec.toJSON(this.field(n[a]),this))}return i}static fromJSON(n,i={},a){if(!n||typeof n.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let c=[];if(a){for(let d in a)if(Object.prototype.hasOwnProperty.call(n,d)){let h=a[d],m=n[d];c.push(h.init(g=>h.spec.fromJSON(m,g)))}}return t.create({doc:n.doc,selection:ze.fromJSON(n.selection),extensions:i.extensions?c.concat([i.extensions]):c})}static create(n={}){let i=WT.resolve(n.extensions||[],new Map),a=n.doc instanceof kn?n.doc:kn.of((n.doc||"").split(i.staticFacet(t.lineSeparator)||VV)),c=n.selection?n.selection instanceof ze?n.selection:ze.single(n.selection.anchor,n.selection.head):ze.single(0);return Oye(c,a.length),i.staticFacet(FV)||(c=c.asSingle()),new t(i,a,c,i.dynamicSlots.map(()=>null),(d,h)=>h.create(d),null)}get tabSize(){return this.facet(t.tabSize)}get lineBreak(){return this.facet(t.lineSeparator)||`
`}get readOnly(){return this.facet(yye)}phrase(n,...i){for(let a of this.facet(t.phrases))if(Object.prototype.hasOwnProperty.call(a,n)){n=a[n];break}return i.length&&(n=n.replace(/\$(\$|\d*)/g,(a,c)=>{if(c=="$")return"$";let d=+(c||1);return!d||d>i.length?a:i[d-1]})),n}languageDataAt(n,i,a=-1){let c=[];for(let d of this.facet(vye))for(let h of d(this,i,a))Object.prototype.hasOwnProperty.call(h,n)&&c.push(h[n]);return c}charCategorizer(n){return Aft(this.languageDataAt("wordChars",n).join(""))}wordAt(n){let{text:i,from:a,length:c}=this.doc.lineAt(n),d=this.charCategorizer(n),h=n-a,m=n-a;for(;h>0;){let g=rs(i,h,!1);if(d(i.slice(g,h))!=ea.Word)break;h=g}for(;m<c;){let g=rs(i,m);if(d(i.slice(m,g))!=ea.Word)break;m=g}return h==m?null:ze.range(h+a,m+a)}}return t.allowMultipleSelections=FV,t.tabSize=ct.define({combine:e=>e.length?e[0]:4}),t.lineSeparator=Dye,t.readOnly=yye,t.phrases=ct.define({compare(e,n){let i=Object.keys(e),a=Object.keys(n);return i.length==a.length&&i.every(c=>e[c]==n[c])}}),t.languageData=vye,t.changeFilter=Tye,t.transactionFilter=kye,t.transactionExtender=Pye,t})();b1.reconfigure=Zn.define();function nh(t,e,n={}){let i={};for(let a of t)for(let c of Object.keys(a)){let d=a[c],h=i[c];if(h===void 0)i[c]=d;else if(!(h===d||d===void 0))if(Object.hasOwnProperty.call(n,c))i[c]=n[c](h,d);else throw new Error("Config merge conflict for field "+c)}for(let a in e)i[a]===void 0&&(i[a]=e[a]);return i}var au=class{eq(e){return this==e}range(e,n=e){return Q5.create(e,n,this)}};au.prototype.startSide=au.prototype.endSide=0;au.prototype.point=!1;au.prototype.mapMode=bo.TrackDel;var Q5=class t{constructor(e,n,i){this.from=e,this.to=n,this.value=i}static create(e,n,i){return new t(e,n,i)}};function YV(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}var XV=class t{constructor(e,n,i,a){this.from=e,this.to=n,this.value=i,this.maxPoint=a}get length(){return this.to[this.to.length-1]}findIndex(e,n,i,a=0){let c=i?this.to:this.from;for(let d=a,h=c.length;;){if(d==h)return d;let m=d+h>>1,g=c[m]-e||(i?this.value[m].endSide:this.value[m].startSide)-n;if(m==d)return g>=0?d:h;g>=0?h=m:d=m+1}}between(e,n,i,a){for(let c=this.findIndex(n,-1e9,!0),d=this.findIndex(i,1e9,!1,c);c<d;c++)if(a(this.from[c]+e,this.to[c]+e,this.value[c])===!1)return!1}map(e,n){let i=[],a=[],c=[],d=-1,h=-1;for(let m=0;m<this.value.length;m++){let g=this.value[m],b=this.from[m]+e,E=this.to[m]+e,_,S;if(b==E){let D=n.mapPos(b,g.startSide,g.mapMode);if(D==null||(_=S=D,g.startSide!=g.endSide&&(S=n.mapPos(b,g.endSide),S<_)))continue}else if(_=n.mapPos(b,g.startSide),S=n.mapPos(E,g.endSide),_>S||_==S&&g.startSide>0&&g.endSide<=0)continue;(S-_||g.endSide-g.startSide)<0||(d<0&&(d=_),g.point&&(h=Math.max(h,S-_)),i.push(g),a.push(_-d),c.push(S-d))}return{mapped:i.length?new t(a,c,i,h):null,pos:d}}},li=(()=>{class t{constructor(n,i,a,c){this.chunkPos=n,this.chunk=i,this.nextLayer=a,this.maxPoint=c}static create(n,i,a,c){return new t(n,i,a,c)}get length(){let n=this.chunk.length-1;return n<0?0:Math.max(this.chunkEnd(n),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let n=this.nextLayer.size;for(let i of this.chunk)n+=i.value.length;return n}chunkEnd(n){return this.chunkPos[n]+this.chunk[n].length}update(n){let{add:i=[],sort:a=!1,filterFrom:c=0,filterTo:d=this.length}=n,h=n.filter;if(i.length==0&&!h)return this;if(a&&(i=i.slice().sort(YV)),this.isEmpty)return i.length?t.of(i):this;let m=new QT(this,null,-1).goto(0),g=0,b=[],E=new x1;for(;m.value||g<i.length;)if(g<i.length&&(m.from-i[g].from||m.startSide-i[g].value.startSide)>=0){let _=i[g++];E.addInner(_.from,_.to,_.value)||b.push(_)}else m.rangeIndex==1&&m.chunkIndex<this.chunk.length&&(g==i.length||this.chunkEnd(m.chunkIndex)<i[g].from)&&(!h||c>this.chunkEnd(m.chunkIndex)||d<this.chunkPos[m.chunkIndex])&&E.addChunk(this.chunkPos[m.chunkIndex],this.chunk[m.chunkIndex])?m.nextChunk():((!h||c>m.to||d<m.from||h(m.from,m.to,m.value))&&(E.addInner(m.from,m.to,m.value)||b.push(Q5.create(m.from,m.to,m.value))),m.next());return E.finishInner(this.nextLayer.isEmpty&&!b.length?t.empty:this.nextLayer.update({add:b,filter:h,filterFrom:c,filterTo:d}))}map(n){if(n.empty||this.isEmpty)return this;let i=[],a=[],c=-1;for(let h=0;h<this.chunk.length;h++){let m=this.chunkPos[h],g=this.chunk[h],b=n.touchesRange(m,m+g.length);if(b===!1)c=Math.max(c,g.maxPoint),i.push(g),a.push(n.mapPos(m));else if(b===!0){let{mapped:E,pos:_}=g.map(m,n);E&&(c=Math.max(c,E.maxPoint),i.push(E),a.push(_))}}let d=this.nextLayer.map(n);return i.length==0?d:new t(a,i,d||t.empty,c)}between(n,i,a){if(!this.isEmpty){for(let c=0;c<this.chunk.length;c++){let d=this.chunkPos[c],h=this.chunk[c];if(i>=d&&n<=d+h.length&&h.between(d,n-d,i-d,a)===!1)return}this.nextLayer.between(n,i,a)}}iter(n=0){return Y5.from([this]).goto(n)}get isEmpty(){return this.nextLayer==this}static iter(n,i=0){return Y5.from(n).goto(i)}static compare(n,i,a,c,d=-1){let h=n.filter(_=>_.maxPoint>0||!_.isEmpty&&_.maxPoint>=d),m=i.filter(_=>_.maxPoint>0||!_.isEmpty&&_.maxPoint>=d),g=bye(h,m,a),b=new g1(h,g,d),E=new g1(m,g,d);a.iterGaps((_,S,D)=>xye(b,_,E,S,D,c)),a.empty&&a.length==0&&xye(b,0,E,0,0,c)}static eq(n,i,a=0,c){c==null&&(c=999999999);let d=n.filter(E=>!E.isEmpty&&i.indexOf(E)<0),h=i.filter(E=>!E.isEmpty&&n.indexOf(E)<0);if(d.length!=h.length)return!1;if(!d.length)return!0;let m=bye(d,h),g=new g1(d,m,0).goto(a),b=new g1(h,m,0).goto(a);for(;;){if(g.to!=b.to||!KV(g.active,b.active)||g.point&&(!b.point||!g.point.eq(b.point)))return!1;if(g.to>c)return!0;g.next(),b.next()}}static spans(n,i,a,c,d=-1){let h=new g1(n,null,d).goto(i),m=i,g=h.openStart;for(;;){let b=Math.min(h.to,a);if(h.point){let E=h.activeForPoint(h.to),_=h.pointFrom<i?E.length+1:h.point.startSide<0?E.length:Math.min(E.length,g);c.point(m,b,h.point,E,_,h.pointRank),g=Math.min(h.openEnd(b),E.length)}else b>m&&(c.span(m,b,h.active,g),g=h.openEnd(b));if(h.to>a)return g+(h.point&&h.to>a?1:0);m=h.to,h.next()}}static of(n,i=!1){let a=new x1;for(let c of n instanceof Q5?[n]:i?Rft(n):n)a.add(c.from,c.to,c.value);return a.finish()}static join(n){if(!n.length)return t.empty;let i=n[n.length-1];for(let a=n.length-2;a>=0;a--)for(let c=n[a];c!=t.empty;c=c.nextLayer)i=new t(c.chunkPos,c.chunk,i,Math.max(c.maxPoint,i.maxPoint));return i}}return t.empty=new t([],[],null,-1),t})();function Rft(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let i=t[n];if(YV(e,i)>0)return t.slice().sort(YV);e=i}return t}li.empty.nextLayer=li.empty;var x1=class t{finishChunk(e){this.chunks.push(new XV(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,i){this.addInner(e,n,i)||(this.nextLayer||(this.nextLayer=new t)).add(e,n,i)}addInner(e,n,i){let a=e-this.lastTo||i.startSide-this.last.endSide;if(a<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return a<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=n,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let i=n.value.length-1;return this.last=n.value[i],this.lastFrom=n.from[i]+e,this.lastTo=n.to[i]+e,!0}finish(){return this.finishInner(li.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=li.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}};function bye(t,e,n){let i=new Map;for(let c of t)for(let d=0;d<c.chunk.length;d++)c.chunk[d].maxPoint<=0&&i.set(c.chunk[d],c.chunkPos[d]);let a=new Set;for(let c of e)for(let d=0;d<c.chunk.length;d++){let h=i.get(c.chunk[d]);h!=null&&(n?n.mapPos(h):h)==c.chunkPos[d]&&!n?.touchesRange(h,h+c.chunk[d].length)&&a.add(c.chunk[d])}return a}var QT=class{constructor(e,n,i,a=0){this.layer=e,this.skip=n,this.minPoint=i,this.rank=a}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,i){for(;this.chunkIndex<this.layer.chunk.length;){let a=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(a)||this.layer.chunkEnd(this.chunkIndex)<e||a.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let a=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!i||this.rangeIndex<a)&&this.setRangeIndex(a)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],i=e+n.from[this.rangeIndex];if(this.from=i,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}},Y5=class t{constructor(e){this.heap=e}static from(e,n=null,i=-1){let a=[];for(let c=0;c<e.length;c++)for(let d=e[c];!d.isEmpty;d=d.nextLayer)d.maxPoint>=i&&a.push(new QT(d,n,i,c));return a.length==1?a[0]:new t(a)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let i of this.heap)i.goto(e,n);for(let i=this.heap.length>>1;i>=0;i--)BV(this.heap,i);return this.next(),this}forward(e,n){for(let i of this.heap)i.forward(e,n);for(let i=this.heap.length>>1;i>=0;i--)BV(this.heap,i);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),BV(this.heap,0)}}};function BV(t,e){for(let n=t[e];;){let i=(e<<1)+1;if(i>=t.length)break;let a=t[i];if(i+1<t.length&&a.compare(t[i+1])>=0&&(a=t[i+1],i++),n.compare(a)<0)break;t[i]=n,t[e]=a,e=i}}var g1=class{constructor(e,n,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Y5.from(e,n,i)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){jT(this.active,e),jT(this.activeTo,e),jT(this.activeRank,e),this.minActive=Eye(this.active,this.activeTo)}addActive(e){let n=0,{value:i,to:a,rank:c}=this.cursor;for(;n<this.activeRank.length&&(c-this.activeRank[n]||a-this.activeTo[n])>0;)n++;VT(this.active,n,i),VT(this.activeTo,n,a),VT(this.activeRank,n,c),e&&VT(e,n,this.cursor.from),this.minActive=Eye(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let a=this.minActive;if(a>-1&&(this.activeTo[a]-this.cursor.from||this.active[a].endSide-this.cursor.startSide)<0){if(this.activeTo[a]>e){this.to=this.activeTo[a],this.endSide=this.active[a].endSide;break}this.removeActive(a),i&&jT(i,a)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let c=this.cursor.value;if(!c.point)this.addActive(i),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=c,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=c.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let a=i.length-1;a>=0&&i[a]<e;a--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&n.push(this.active[i]);return n.reverse()}openEnd(e){let n=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)n++;return n}};function xye(t,e,n,i,a,c){t.goto(e),n.goto(i);let d=i+a,h=i,m=i-e;for(;;){let g=t.to+m-n.to||t.endSide-n.endSide,b=g<0?t.to+m:n.to,E=Math.min(b,d);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&KV(t.activeForPoint(t.to),n.activeForPoint(n.to))||c.comparePoint(h,E,t.point,n.point):E>h&&!KV(t.active,n.active)&&c.compareRange(h,E,t.active,n.active),b>d)break;h=b,g<=0&&t.next(),g>=0&&n.next()}}function KV(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function jT(t,e){for(let n=e,i=t.length-1;n<i;n++)t[n]=t[n+1];t.pop()}function VT(t,e,n){for(let i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=n}function Eye(t,e){let n=-1,i=1e9;for(let a=0;a<e.length;a++)(e[a]-i||t[a].endSide-t[n].endSide)<0&&(n=a,i=e[a]);return n}function E1(t,e,n=t.length){let i=0;for(let a=0;a<n;)t.charCodeAt(a)==9?(i+=e-i%e,a++):(i++,a=rs(t,a));return i}function Aye(t,e,n,i){for(let a=0,c=0;;){if(c>=e)return a;if(a==t.length)break;c+=t.charCodeAt(a)==9?n-c%n:1,a=rs(t,a)}return i===!0?-1:t.length}var tz="\u037C",Rye=typeof Symbol>"u"?"__"+tz:Symbol.for(tz),nz=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Lye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{},cc=class{constructor(e,n){this.rules=[];let{finish:i}=n||{};function a(d){return/^@/.test(d)?[d]:d.split(/,\s*/)}function c(d,h,m,g){let b=[],E=/^@(\w+)\b/.exec(d[0]),_=E&&E[1]=="keyframes";if(E&&h==null)return m.push(d[0]+";");for(let S in h){let D=h[S];if(/&/.test(S))c(S.split(/,\s*/).map(k=>d.map(I=>k.replace(/&/,I))).reduce((k,I)=>k.concat(I)),D,m);else if(D&&typeof D=="object"){if(!E)throw new RangeError("The value of a property ("+S+") should be a primitive value.");c(a(S),D,b,_)}else D!=null&&b.push(S.replace(/_.*/,"").replace(/[A-Z]/g,k=>"-"+k.toLowerCase())+": "+D+";")}(b.length||_)&&m.push((i&&!E&&!g?d.map(i):d).join(", ")+" {"+b.join(" ")+"}")}for(let d in e)c(a(d),e[d],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Lye[Rye]||1;return Lye[Rye]=e+1,tz+e.toString(36)}static mount(e,n,i){let a=e[nz],c=i&&i.nonce;a?c&&a.setNonce(c):a=new rz(e,c),a.mount(Array.isArray(n)?n:[n],e)}},$ye=new Map,rz=class{constructor(e,n){let i=e.ownerDocument||e,a=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&a.CSSStyleSheet){let c=$ye.get(i);if(c)return e[nz]=c;this.sheet=new a.CSSStyleSheet,$ye.set(i,this)}else this.styleTag=i.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[nz]=this}mount(e,n){let i=this.sheet,a=0,c=0;for(let d=0;d<e.length;d++){let h=e[d],m=this.modules.indexOf(h);if(m<c&&m>-1&&(this.modules.splice(m,1),c--,m=-1),m==-1){if(this.modules.splice(c++,0,h),i)for(let g=0;g<h.rules.length;g++)i.insertRule(h.rules[g],a++)}else{for(;c<m;)a+=this.modules[c++].rules.length;a+=h.rules.length,c++}}if(i)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let d="";for(let m=0;m<this.modules.length;m++)d+=this.modules[m].getRules()+`
`;this.styleTag.textContent=d;let h=n.head||n;this.styleTag.parentNode!=h&&h.insertBefore(this.styleTag,h.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}};var rh={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Cb={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Lft=typeof navigator<"u"&&/Mac/.test(navigator.platform),$ft=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(Ki=0;Ki<10;Ki++)rh[48+Ki]=rh[96+Ki]=String(Ki);var Ki;for(Ki=1;Ki<=24;Ki++)rh[Ki+111]="F"+Ki;var Ki;for(Ki=65;Ki<=90;Ki++)rh[Ki]=String.fromCharCode(Ki+32),Cb[Ki]=String.fromCharCode(Ki);var Ki;for(YT in rh)Cb.hasOwnProperty(YT)||(Cb[YT]=rh[YT]);var YT;function Nye(t){var e=Lft&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||$ft&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Cb:rh)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function a4(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function fz(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Nft(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function ok(t,e){if(!e.anchorNode)return!1;try{return fz(t,e.anchorNode)}catch{return!1}}function Pb(t){return t.nodeType==3?C1(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function t4(t,e,n,i){return n?Fye(t,e,n,i,-1)||Fye(t,e,n,i,1):!1}function _1(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function uk(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function Fye(t,e,n,i,a){for(;;){if(t==n&&e==i)return!0;if(e==(a<0?0:ih(t))){if(t.nodeName=="DIV")return!1;let c=t.parentNode;if(!c||c.nodeType!=1)return!1;e=_1(t)+(a<0?0:1),t=c}else if(t.nodeType==1){if(t=t.childNodes[e+(a<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=a<0?ih(t):0}else return!1}}function ih(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function p4(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function Fft(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function C2e(t,e){let n=e.width/t.offsetWidth,i=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-t.offsetHeight)<1)&&(i=1),{scaleX:n,scaleY:i}}function Bft(t,e,n,i,a,c,d,h){let m=t.ownerDocument,g=m.defaultView||window;for(let b=t,E=!1;b&&!E;)if(b.nodeType==1){let _,S=b==m.body,D=1,k=1;if(S)_=Fft(g);else{if(/^(fixed|sticky)$/.test(getComputedStyle(b).position)&&(E=!0),b.scrollHeight<=b.clientHeight&&b.scrollWidth<=b.clientWidth){b=b.assignedSlot||b.parentNode;continue}let $=b.getBoundingClientRect();({scaleX:D,scaleY:k}=C2e(b,$)),_={left:$.left,right:$.left+b.clientWidth*D,top:$.top,bottom:$.top+b.clientHeight*k}}let I=0,R=0;if(a=="nearest")e.top<_.top?(R=-(_.top-e.top+d),n>0&&e.bottom>_.bottom+R&&(R=e.bottom-_.bottom+R+d)):e.bottom>_.bottom&&(R=e.bottom-_.bottom+d,n<0&&e.top-R<_.top&&(R=-(_.top+R-e.top+d)));else{let $=e.bottom-e.top,F=_.bottom-_.top;R=(a=="center"&&$<=F?e.top+$/2-F/2:a=="start"||a=="center"&&n<0?e.top-d:e.bottom-F+d)-_.top}if(i=="nearest"?e.left<_.left?(I=-(_.left-e.left+c),n>0&&e.right>_.right+I&&(I=e.right-_.right+I+c)):e.right>_.right&&(I=e.right-_.right+c,n<0&&e.left<_.left+I&&(I=-(_.left+I-e.left+c))):I=(i=="center"?e.left+(e.right-e.left)/2-(_.right-_.left)/2:i=="start"==h?e.left-c:e.right-(_.right-_.left)+c)-_.left,I||R)if(S)g.scrollBy(I,R);else{let $=0,F=0;if(R){let L=b.scrollTop;b.scrollTop+=R/k,F=(b.scrollTop-L)*k}if(I){let L=b.scrollLeft;b.scrollLeft+=I/D,$=(b.scrollLeft-L)*D}e={left:e.left-$,top:e.top-F,right:e.right-$,bottom:e.bottom-F},$&&Math.abs($-I)<1&&(i="nearest"),F&&Math.abs(F-R)<1&&(a="nearest")}if(S)break;b=b.assignedSlot||b.parentNode}else if(b.nodeType==11)b=b.host;else break}function jft(t){let e=t.ownerDocument,n,i;for(let a=t.parentNode;a&&!(a==e.body||n&&i);)if(a.nodeType==1)!i&&a.scrollHeight>a.clientHeight&&(i=a),!n&&a.scrollWidth>a.clientWidth&&(n=a),a=a.assignedSlot||a.parentNode;else if(a.nodeType==11)a=a.host;else break;return{x:n,y:i}}var hz=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:i}=e;this.set(n,Math.min(e.anchorOffset,n?ih(n):0),i,Math.min(e.focusOffset,i?ih(i):0))}set(e,n,i,a){this.anchorNode=e,this.anchorOffset=n,this.focusNode=i,this.focusOffset=a}},Sb=null;function S2e(t){if(t.setActive)return t.setActive();if(Sb)return t.focus(Sb);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Sb==null?{get preventScroll(){return Sb={preventScroll:!0},!0}}:void 0),!Sb){Sb=!1;for(let n=0;n<e.length;){let i=e[n++],a=e[n++],c=e[n++];i.scrollTop!=a&&(i.scrollTop=a),i.scrollLeft!=c&&(i.scrollLeft=c)}}}var Bye;function C1(t,e,n=e){let i=Bye||(Bye=document.createRange());return i.setEnd(t,n),i.setStart(t,e),i}function kb(t,e,n,i){let a={key:e,code:e,keyCode:n,which:n,cancelable:!0};i&&({altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,metaKey:a.metaKey}=i);let c=new KeyboardEvent("keydown",a);c.synthetic=!0,t.dispatchEvent(c);let d=new KeyboardEvent("keyup",a);return d.synthetic=!0,t.dispatchEvent(d),c.defaultPrevented||d.defaultPrevented}function Vft(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function O2e(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function zft(t,e){let n=e.focusNode,i=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=i)return!1;for(i=Math.min(i,ih(n));;)if(i){if(n.nodeType!=1)return!1;let a=n.childNodes[i-1];a.contentEditable=="false"?i--:(n=a,i=ih(n))}else{if(n==t)return!0;i=_1(n),n=n.parentNode}}function D2e(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function T2e(t,e){for(let n=t,i=e;;){if(n.nodeType==3&&i>0)return{node:n,offset:i};if(n.nodeType==1&&i>0){if(n.contentEditable=="false")return null;n=n.childNodes[i-1],i=ih(n)}else if(n.parentNode&&!uk(n))i=_1(n),n=n.parentNode;else return null}}function k2e(t,e){for(let n=t,i=e;;){if(n.nodeType==3&&i<n.nodeValue.length)return{node:n,offset:i};if(n.nodeType==1&&i<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[i],i=0}else if(n.parentNode&&!uk(n))i=_1(n)+1,n=n.parentNode;else return null}}var na=class t{constructor(e,n,i=!0){this.node=e,this.offset=n,this.precise=i}static before(e,n){return new t(e.parentNode,_1(e),n)}static after(e,n){return new t(e.parentNode,_1(e)+1,n)}},Gz=[],Ir=class t{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let i of this.children){if(i==e)return n;n+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let i=this.dom,a=null,c;for(let d of this.children){if(d.flags&7){if(!d.dom&&(c=a?a.nextSibling:i.firstChild)){let h=t.get(c);(!h||!h.parent&&h.canReuseDOM(d))&&d.reuseDOM(c)}d.sync(e,n),d.flags&=-8}if(c=a?a.nextSibling:i.firstChild,n&&!n.written&&n.node==i&&c!=d.dom&&(n.written=!0),d.dom.parentNode==i)for(;c&&c!=d.dom;)c=jye(c);else i.insertBefore(d.dom,c);a=d.dom}for(c=a?a.nextSibling:i.firstChild,c&&n&&n.node==i&&(n.written=!0);c;)c=jye(c)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,n),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let i;if(e==this.dom)i=this.dom.childNodes[n];else{let a=ih(e)==0?0:n==0?-1:1;for(;;){let c=e.parentNode;if(c==this.dom)break;a==0&&c.firstChild!=c.lastChild&&(e==c.firstChild?a=-1:a=1),e=c}a<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!t.get(i);)i=i.nextSibling;if(!i)return this.length;for(let a=0,c=0;;a++){let d=this.children[a];if(d.dom==i)return c;c+=d.length+d.breakAfter}}domBoundsAround(e,n,i=0){let a=-1,c=-1,d=-1,h=-1;for(let m=0,g=i,b=i;m<this.children.length;m++){let E=this.children[m],_=g+E.length;if(g<e&&_>n)return E.domBoundsAround(e,n,g);if(_>=e&&a==-1&&(a=m,c=g),g>n&&E.dom.parentNode==this.dom){d=m,h=b;break}b=_,g=_+E.breakAfter}return{from:c,to:h<0?i+this.length:h,startDOM:(a?this.children[a-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:d<this.children.length&&d>=0?this.children[d].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,i=Gz){this.markDirty();for(let a=e;a<n;a++){let c=this.children[a];c.parent==this&&i.indexOf(c)<0&&c.destroy()}this.children.splice(e,n-e,...i);for(let a=0;a<i.length;a++)i[a].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new dk(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,i,a,c,d){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}};Ir.prototype.breakAfter=0;function jye(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}var dk=class{constructor(e,n,i){this.children=e,this.pos=n,this.i=i,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}};function P2e(t,e,n,i,a,c,d,h,m){let{children:g}=t,b=g.length?g[e]:null,E=c.length?c[c.length-1]:null,_=E?E.breakAfter:d;if(!(e==i&&b&&!d&&!_&&c.length<2&&b.merge(n,a,c.length?E:null,n==0,h,m))){if(i<g.length){let S=g[i];S&&(a<S.length||S.breakAfter&&E?.breakAfter)?(e==i&&(S=S.split(a),a=0),!_&&E&&S.merge(0,a,E,!0,0,m)?c[c.length-1]=S:((a||S.children.length&&!S.children[0].length)&&S.merge(0,a,null,!1,0,m),c.push(S))):S?.breakAfter&&(E?E.breakAfter=1:d=1),i++}for(b&&(b.breakAfter=d,n>0&&(!d&&c.length&&b.merge(n,b.length,c[0],!1,h,0)?b.breakAfter=c.shift().breakAfter:(n<b.length||b.children.length&&b.children[b.children.length-1].length==0)&&b.merge(n,b.length,null,!1,h,0),e++));e<i&&c.length;)if(g[i-1].become(c[c.length-1]))i--,c.pop(),m=c.length?0:h;else if(g[e].become(c[0]))e++,c.shift(),h=c.length?0:m;else break;!c.length&&e&&i<g.length&&!g[e-1].breakAfter&&g[i].merge(0,0,g[e-1],!1,h,m)&&e--,(e<i||c.length)&&t.replaceChildren(e,i,c)}}function I2e(t,e,n,i,a,c){let d=t.childCursor(),{i:h,off:m}=d.findPos(n,1),{i:g,off:b}=d.findPos(e,-1),E=e-n;for(let _ of i)E+=_.length;t.length+=E,P2e(t,g,b,h,m,i,0,a,c)}var Ia=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},pz=typeof document<"u"?document:{documentElement:{style:{}}},mz=/Edge\/(\d+)/.exec(Ia.userAgent),M2e=/MSIE \d/.test(Ia.userAgent),gz=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ia.userAgent),Ok=!!(M2e||gz||mz),Vye=!Ok&&/gecko\/(\d+)/i.test(Ia.userAgent),iz=!Ok&&/Chrome\/(\d+)/.exec(Ia.userAgent),zye="webkitFontSmoothing"in pz.documentElement.style,A2e=!Ok&&/Apple Computer/.test(Ia.vendor),Hye=A2e&&(/Mobile\/\w+/.test(Ia.userAgent)||Ia.maxTouchPoints>2),dt={mac:Hye||/Mac/.test(Ia.platform),windows:/Win/.test(Ia.platform),linux:/Linux|X11/.test(Ia.platform),ie:Ok,ie_version:M2e?pz.documentMode||6:gz?+gz[1]:mz?+mz[1]:0,gecko:Vye,gecko_version:Vye?+(/Firefox\/(\d+)/.exec(Ia.userAgent)||[0,0])[1]:0,chrome:!!iz,chrome_version:iz?+iz[1]:0,ios:Hye,android:/Android\b/.test(Ia.userAgent),webkit:zye,safari:A2e,webkit_version:zye?+(/\bAppleWebKit\/(\d+)/.exec(Ia.userAgent)||[0,0])[1]:0,tabSize:pz.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"},Hft=256,$d=class t extends Ir{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,i){return this.flags&8||i&&(!(i instanceof t)||this.length-(n-e)+i.length>Hft||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new t(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new na(this.dom,e)}domBoundsAround(e,n,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return Uft(this.dom,e,n)}},A0=class t extends Ir{constructor(e,n=[],i=0){super(),this.mark=e,this.children=n,this.length=i;for(let a of n)a.setParent(this)}setAttrs(e){if(O2e(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,i,a,c,d){return i&&(!(i instanceof t&&i.mark.eq(this.mark))||e&&c<=0||n<this.length&&d<=0)?!1:(I2e(this,e,n,i?i.children.slice():[],c-1,d-1),this.markDirty(),!0)}split(e){let n=[],i=0,a=-1,c=0;for(let h of this.children){let m=i+h.length;m>e&&n.push(i<e?h.split(e-i):h),a<0&&i>=e&&(a=c),i=m,c++}let d=this.length-e;return this.length=e,a>-1&&(this.children.length=a,this.markDirty()),new t(this.mark,n,d)}domAtPos(e){return R2e(this,e)}coordsAt(e,n){return $2e(this,e,n)}};function Uft(t,e,n){let i=t.nodeValue.length;e>i&&(e=i);let a=e,c=e,d=0;e==0&&n<0||e==i&&n>=0?dt.chrome||dt.gecko||(e?(a--,d=1):c<i&&(c++,d=-1)):n<0?a--:c<i&&c++;let h=C1(t,a,c).getClientRects();if(!h.length)return null;let m=h[(d?d<0:n>=0)?0:h.length-1];return dt.safari&&!d&&m.width==0&&(m=Array.prototype.find.call(h,g=>g.width)||m),d?p4(m,d<0):m||null}var l4=class t extends Ir{static create(e,n,i){return new t(e,n,i)}constructor(e,n,i){super(),this.widget=e,this.length=n,this.side=i,this.prevWidget=null}split(e){let n=t.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,i,a,c,d){return i&&(!(i instanceof t)||!this.widget.compare(i.widget)||e>0&&c<=0||n<this.length&&d<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}become(e){return e instanceof t&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return kn.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,i=n&&n.state.doc,a=this.posAtStart;return i?i.slice(a,a+this.length):kn.empty}domAtPos(e){return(this.length?e==0:this.side>0)?na.before(this.dom):na.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;let a=this.dom.getClientRects(),c=null;if(!a.length)return null;let d=this.side?this.side<0:e>0;for(let h=d?a.length-1:0;c=a[h],!(e>0?h==0:h==a.length-1||c.top<c.bottom);h+=d?-1:1);return p4(c,!d)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},c4=class t extends Ir{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof t&&e.side==this.side}split(){return new t(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?na.before(this.dom):na.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return kn.empty}get isHidden(){return!0}};$d.prototype.children=l4.prototype.children=c4.prototype.children=Gz;function R2e(t,e){let n=t.dom,{children:i}=t,a=0;for(let c=0;a<i.length;a++){let d=i[a],h=c+d.length;if(!(h==c&&d.getSide()<=0)){if(e>c&&e<h&&d.dom.parentNode==n)return d.domAtPos(e-c);if(e<=c)break;c=h}}for(let c=a;c>0;c--){let d=i[c-1];if(d.dom.parentNode==n)return d.domAtPos(d.length)}for(let c=a;c<i.length;c++){let d=i[c];if(d.dom.parentNode==n)return d.domAtPos(0)}return new na(n,0)}function L2e(t,e,n){let i,{children:a}=t;n>0&&e instanceof A0&&a.length&&(i=a[a.length-1])instanceof A0&&i.mark.eq(e.mark)?L2e(i,e.children[0],n-1):(a.push(e),e.setParent(t)),t.length+=e.length}function $2e(t,e,n){let i=null,a=-1,c=null,d=-1;function h(g,b){for(let E=0,_=0;E<g.children.length&&_<=b;E++){let S=g.children[E],D=_+S.length;D>=b&&(S.children.length?h(S,b-_):(!c||c.isHidden&&n>0)&&(D>b||_==D&&S.getSide()>0)?(c=S,d=b-_):(_<b||_==D&&S.getSide()<0&&!S.isHidden)&&(i=S,a=b-_)),_=D}}h(t,e);let m=(n<0?i:c)||i||c;return m?m.coordsAt(Math.max(0,m==i?a:d),n):qft(t)}function qft(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Pb(e);return n[n.length-1]||null}function vz(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}var Uye=Object.create(null);function fk(t,e,n){if(t==e)return!0;t||(t=Uye),e||(e=Uye);let i=Object.keys(t),a=Object.keys(e);if(i.length-(n&&i.indexOf(n)>-1?1:0)!=a.length-(n&&a.indexOf(n)>-1?1:0))return!1;for(let c of i)if(c!=n&&(a.indexOf(c)==-1||t[c]!==e[c]))return!1;return!0}function yz(t,e,n){let i=!1;if(e)for(let a in e)n&&a in n||(i=!0,a=="style"?t.style.cssText="":t.removeAttribute(a));if(n)for(let a in n)e&&e[a]==n[a]||(i=!0,a=="style"?t.style.cssText=n[a]:t.setAttribute(a,n[a]));return i}function Wft(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let i=t.attributes[n];e[i.name]=i.value}return e}var lu=class{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}},dc=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(dc||(dc={})),Xt=class extends au{constructor(e,n,i,a){super(),this.startSide=e,this.endSide=n,this.widget=i,this.spec=a}get heightRelevant(){return!1}static mark(e){return new u4(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return n+=i&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new R0(e,n,n,i,e.widget||null,!1)}static replace(e){let n=!!e.block,i,a;if(e.isBlockGap)i=-5e8,a=4e8;else{let{start:c,end:d}=N2e(e,n);i=(c?n?-3e8:-1:5e8)-1,a=(d?n?2e8:1:-6e8)+1}return new R0(e,i,a,n,e.widget||null,!0)}static line(e){return new d4(e)}static set(e,n=!1){return li.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};Xt.none=li.empty;var u4=class t extends Xt{constructor(e){let{start:n,end:i}=N2e(e);super(n?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,i;return this==e||e instanceof t&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&fk(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}};u4.prototype.point=!1;var d4=class t extends Xt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof t&&this.spec.class==e.spec.class&&fk(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}};d4.prototype.mapMode=bo.TrackBefore;d4.prototype.point=!0;var R0=class t extends Xt{constructor(e,n,i,a,c,d){super(n,i,c,e),this.block=a,this.isReplace=d,this.mapMode=a?n<=0?bo.TrackBefore:bo.TrackAfter:bo.TrackDel}get type(){return this.startSide!=this.endSide?dc.WidgetRange:this.startSide<=0?dc.WidgetBefore:dc.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof t&&Gft(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}};R0.prototype.point=!0;function N2e(t,e=!1){let{inclusiveStart:n,inclusiveEnd:i}=t;return n==null&&(n=t.inclusive),i==null&&(i=t.inclusive),{start:n??e,end:i??e}}function Gft(t,e){return t==e||!!(t&&e&&t.compare(e))}function bz(t,e,n,i=0){let a=n.length-1;a>=0&&n[a]+i>=t?n[a]=Math.max(n[a],e):n.push(t,e)}var os=class t extends Ir{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,i,a,c,d){if(i){if(!(i instanceof t))return!1;this.dom||i.transferDOM(this)}return a&&this.setDeco(i?i.attrs:null),I2e(this,e,n,i?i.children.slice():[],c,d),!0}split(e){let n=new t;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i,off:a}=this.childPos(e);a&&(n.append(this.children[i].split(a),0),this.children[i].merge(a,this.children[i].length,null,!1,0,0),i++);for(let c=i;c<this.children.length;c++)n.append(this.children[c],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){fk(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){L2e(this,e,n)}addLineDeco(e){let n=e.spec.attributes,i=e.spec.class;n&&(this.attrs=vz(n,this.attrs||{})),i&&(this.attrs=vz({class:i},this.attrs||{}))}domAtPos(e){return R2e(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var i;this.dom?this.flags&4&&(O2e(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(yz(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let a=this.dom.lastChild;for(;a&&Ir.get(a)instanceof A0;)a=a.lastChild;if(!a||!this.length||a.nodeName!="BR"&&((i=Ir.get(a))===null||i===void 0?void 0:i.isEditable)==!1&&(!dt.ios||!this.children.some(c=>c instanceof $d))){let c=document.createElement("BR");c.cmIgnore=!0,this.dom.appendChild(c)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let i of this.children){if(!(i instanceof $d)||/[^ -~]/.test(i.text))return null;let a=Pb(i.dom);if(a.length!=1)return null;e+=a[0].width,n=a[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let i=$2e(this,e,n);if(!this.children.length&&i&&this.parent){let{heightOracle:a}=this.parent.view.viewState,c=i.bottom-i.top;if(Math.abs(c-a.lineHeight)<2&&a.textHeight<c){let d=(c-a.textHeight)/2;return{top:i.top+d,bottom:i.bottom-d,left:i.left,right:i.left}}}return i}become(e){return e instanceof t&&this.children.length==0&&e.children.length==0&&fk(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let i=0,a=0;i<e.children.length;i++){let c=e.children[i],d=a+c.length;if(d>=n){if(c instanceof t)return c;if(d>n)break}a=d+c.breakAfter}return null}},w1=class t extends Ir{constructor(e,n,i){super(),this.widget=e,this.length=n,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,n,i,a,c,d){return i&&(!(i instanceof t)||!this.widget.compare(i.widget)||e>0&&c<=0||n<this.length&&d<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?na.before(this.dom):na.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let i=new t(this.widget,n,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return Gz}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):kn.empty}domBoundsAround(){return null}become(e){return e instanceof t&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let i=this.widget.coordsAt(this.dom,e,n);return i||(this.widget instanceof f4?null:p4(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:i}=this.deco;return n==i?!1:e<0?n<0:i>0}},f4=class extends lu{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}},n4=class t{constructor(e,n,i,a){this.doc=e,this.pos=n,this.end=i,this.disallowBlockEffectsFor=a,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof w1&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new os),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(XT(new c4(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof w1)&&this.getLine()}buildText(e,n,i){for(;e>0;){if(this.textOff==this.text.length){let{value:c,lineBreak:d,done:h}=this.cursor.next(this.skip);if(this.skip=0,h)throw new Error("Ran out of text content when drawing inline views");if(d){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=c,this.textOff=0}let a=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-i)),this.getLine().append(XT(new $d(this.text.slice(this.textOff,this.textOff+a)),n),i),this.atCursorPos=!0,this.textOff+=a,e-=a,i=0}}span(e,n,i,a){this.buildText(n-e,i,a),this.pos=n,this.openStart<0&&(this.openStart=a)}point(e,n,i,a,c,d){if(this.disallowBlockEffectsFor[d]&&i instanceof R0){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let h=n-e;if(i instanceof R0)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new w1(i.widget||qye.block,h,i));else{let m=l4.create(i.widget||qye.inline,h,h?0:i.startSide),g=this.atCursorPos&&!m.isEditable&&c<=a.length&&(e<n||i.startSide>0),b=!m.isEditable&&(e<n||c>a.length||i.startSide<=0),E=this.getLine();this.pendingBuffer==2&&!g&&!m.isEditable&&(this.pendingBuffer=0),this.flushBuffer(a),g&&(E.append(XT(new c4(1),a),c),c=a.length+Math.max(0,c-a.length)),E.append(XT(m,a),c),this.atCursorPos=b,this.pendingBuffer=b?e<n||c>a.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=a.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);h&&(this.textOff+h<=this.text.length?this.textOff+=h:(this.skip+=h-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=c)}static build(e,n,i,a,c){let d=new t(e,n,i,c);return d.openEnd=li.spans(a,n,i,d),d.openStart<0&&(d.openStart=d.openEnd),d.finish(d.openEnd),d}};function XT(t,e){for(let n of e)t=new A0(n,[t],t.length);return t}var qye=(()=>{class t extends lu{constructor(n){super(),this.tag=n}eq(n){return n.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(n){return n.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}return t.inline=new t("span"),t.block=new t("div"),t})(),Hr=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Hr||(Hr={})),S1=Hr.LTR,Qz=Hr.RTL;function F2e(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}var Qft=F2e("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Yft=F2e("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),xz=Object.create(null),Md=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);xz[e]=n,xz[n]=-e}function B2e(t){return t<=247?Qft[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Yft[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}var Xft=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/,Rd=class{get dir(){return this.level%2?Qz:S1}constructor(e,n,i){this.from=e,this.to=n,this.level=i}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,i,a){let c=-1;for(let d=0;d<e.length;d++){let h=e[d];if(h.from<=n&&h.to>=n){if(h.level==i)return d;(c<0||(a!=0?a<0?h.from<n:h.to>n:e[c].level>h.level))&&(c=d)}}if(c<0)throw new RangeError("Index out of range");return c}};function j2e(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],a=e[n];if(i.from!=a.from||i.to!=a.to||i.direction!=a.direction||!j2e(i.inner,a.inner))return!1}return!0}var Dr=[];function Kft(t,e,n,i,a){for(let c=0;c<=i.length;c++){let d=c?i[c-1].to:e,h=c<i.length?i[c].from:n,m=c?256:a;for(let g=d,b=m,E=m;g<h;g++){let _=B2e(t.charCodeAt(g));_==512?_=b:_==8&&E==4&&(_=16),Dr[g]=_==4?2:_,_&7&&(E=_),b=_}for(let g=d,b=m,E=m;g<h;g++){let _=Dr[g];if(_==128)g<h-1&&b==Dr[g+1]&&b&24?_=Dr[g]=b:Dr[g]=256;else if(_==64){let S=g+1;for(;S<h&&Dr[S]==64;)S++;let D=g&&b==8||S<n&&Dr[S]==8?E==1?1:8:256;for(let k=g;k<S;k++)Dr[k]=D;g=S-1}else _==8&&E==1&&(Dr[g]=1);b=_,_&7&&(E=_)}}}function Zft(t,e,n,i,a){let c=a==1?2:1;for(let d=0,h=0,m=0;d<=i.length;d++){let g=d?i[d-1].to:e,b=d<i.length?i[d].from:n;for(let E=g,_,S,D;E<b;E++)if(S=xz[_=t.charCodeAt(E)])if(S<0){for(let k=h-3;k>=0;k-=3)if(Md[k+1]==-S){let I=Md[k+2],R=I&2?a:I&4?I&1?c:a:0;R&&(Dr[E]=Dr[Md[k]]=R),h=k;break}}else{if(Md.length==189)break;Md[h++]=E,Md[h++]=_,Md[h++]=m}else if((D=Dr[E])==2||D==1){let k=D==a;m=k?0:1;for(let I=h-3;I>=0;I-=3){let R=Md[I+2];if(R&2)break;if(k)Md[I+2]|=2;else{if(R&4)break;Md[I+2]|=4}}}}}function Jft(t,e,n,i){for(let a=0,c=i;a<=n.length;a++){let d=a?n[a-1].to:t,h=a<n.length?n[a].from:e;for(let m=d;m<h;){let g=Dr[m];if(g==256){let b=m+1;for(;;)if(b==h){if(a==n.length)break;b=n[a++].to,h=a<n.length?n[a].from:e}else if(Dr[b]==256)b++;else break;let E=c==1,_=(b<e?Dr[b]:i)==1,S=E==_?E?1:2:i;for(let D=b,k=a,I=k?n[k-1].to:t;D>m;)D==I&&(D=n[--k].from,I=k?n[k-1].to:t),Dr[--D]=S;m=b}else c=g,m++}}}function Ez(t,e,n,i,a,c,d){let h=i%2?2:1;if(i%2==a%2)for(let m=e,g=0;m<n;){let b=!0,E=!1;if(g==c.length||m<c[g].from){let k=Dr[m];k!=h&&(b=!1,E=k==16)}let _=!b&&h==1?[]:null,S=b?i:i+1,D=m;e:for(;;)if(g<c.length&&D==c[g].from){if(E)break e;let k=c[g];if(!b)for(let I=k.to,R=g+1;;){if(I==n)break e;if(R<c.length&&c[R].from==I)I=c[R++].to;else{if(Dr[I]==h)break e;break}}if(g++,_)_.push(k);else{k.from>m&&d.push(new Rd(m,k.from,S));let I=k.direction==S1!=!(S%2);wz(t,I?i+1:i,a,k.inner,k.from,k.to,d),m=k.to}D=k.to}else{if(D==n||(b?Dr[D]!=h:Dr[D]==h))break;D++}_?Ez(t,m,D,i+1,a,_,d):m<D&&d.push(new Rd(m,D,S)),m=D}else for(let m=n,g=c.length;m>e;){let b=!0,E=!1;if(!g||m>c[g-1].to){let k=Dr[m-1];k!=h&&(b=!1,E=k==16)}let _=!b&&h==1?[]:null,S=b?i:i+1,D=m;e:for(;;)if(g&&D==c[g-1].to){if(E)break e;let k=c[--g];if(!b)for(let I=k.from,R=g;;){if(I==e)break e;if(R&&c[R-1].to==I)I=c[--R].from;else{if(Dr[I-1]==h)break e;break}}if(_)_.push(k);else{k.to<m&&d.push(new Rd(k.to,m,S));let I=k.direction==S1!=!(S%2);wz(t,I?i+1:i,a,k.inner,k.from,k.to,d),m=k.from}D=k.from}else{if(D==e||(b?Dr[D-1]!=h:Dr[D-1]==h))break;D--}_?Ez(t,D,m,i+1,a,_,d):D<m&&d.push(new Rd(D,m,S)),m=D}}function wz(t,e,n,i,a,c,d){let h=e%2?2:1;Kft(t,a,c,i,h),Zft(t,a,c,i,h),Jft(a,c,i,h),Ez(t,a,c,e,n,i,d)}function eht(t,e,n){if(!t)return[new Rd(0,0,e==Qz?1:0)];if(e==S1&&!n.length&&!Xft.test(t))return V2e(t.length);if(n.length)for(;t.length>Dr.length;)Dr[Dr.length]=256;let i=[],a=e==S1?0:1;return wz(t,a,a,n,0,t.length,i),i}function V2e(t){return[new Rd(0,t,0)]}var z2e="";function tht(t,e,n,i,a){var c;let d=i.head-t.from,h=Rd.find(e,d,(c=i.bidiLevel)!==null&&c!==void 0?c:-1,i.assoc),m=e[h],g=m.side(a,n);if(d==g){let _=h+=a?1:-1;if(_<0||_>=e.length)return null;m=e[h=_],d=m.side(!a,n),g=m.side(a,n)}let b=rs(t.text,d,m.forward(a,n));(b<m.from||b>m.to)&&(b=g),z2e=t.text.slice(Math.min(d,b),Math.max(d,b));let E=h==(a?e.length-1:0)?null:e[h+(a?1:-1)];return E&&b==g&&E.level+(a?0:1)<m.level?ze.cursor(E.side(!a,n)+t.from,E.forward(a,n)?1:-1,E.level):ze.cursor(b+t.from,m.forward(a,n)?-1:1,m.level)}function nht(t,e,n){for(let i=e;i<n;i++){let a=B2e(t.charCodeAt(i));if(a==1)return S1;if(a==2||a==4)return Qz}return S1}var H2e=ct.define(),U2e=ct.define(),q2e=ct.define(),W2e=ct.define(),oz=ct.define(),G2e=ct.define(),Q2e=ct.define(),Wye=ct.define({combine:t=>t.some(e=>e)}),rht=ct.define({combine:t=>t.some(e=>e)}),Y2e=ct.define(),r4=class t{constructor(e,n="nearest",i="nearest",a=5,c=5,d=!1){this.range=e,this.y=n,this.x=i,this.yMargin=a,this.xMargin=c,this.isSnapshot=d}map(e){return e.empty?this:new t(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new t(ze.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}},KT=Zn.define({map:(t,e)=>t.map(e)}),X2e=Zn.define();function $o(t,e,n){let i=t.facet(W2e);i.length?i[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}var P0=ct.define({combine:t=>t.length?t[0]:!0}),iht=0,Z5=ct.define(),Os=class t{constructor(e,n,i,a,c){this.id=e,this.create=n,this.domEventHandlers=i,this.domEventObservers=a,this.extension=c(this)}static define(e,n){let{eventHandlers:i,eventObservers:a,provide:c,decorations:d}=n||{};return new t(iht++,e,i,a,h=>{let m=[Z5.of(h)];return d&&m.push(h4.of(g=>{let b=g.plugin(h);return b?d(b):Xt.none})),c&&m.push(c(h)),m})}static fromClass(e,n){return t.define(i=>new e(i),n)}},i4=class{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(i){if($o(n.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){$o(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(i){$o(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}},Gye=ct.define(),_z=ct.define(),h4=ct.define(),K2e=ct.define(),Yz=ct.define(),Z2e=ct.define();function Qye(t,e){let n=t.state.facet(Z2e);if(!n.length)return n;let i=n.map(c=>c instanceof Function?c(t):c),a=[];return li.spans(i,e.from,e.to,{point(){},span(c,d,h,m){let g=c-e.from,b=d-e.from,E=a;for(let _=h.length-1;_>=0;_--,m--){let S=h[_].spec.bidiIsolate,D;if(S==null&&(S=nht(e.text,g,b)),m>0&&E.length&&(D=E[E.length-1]).to==g&&D.direction==S)D.to=b,E=D.inner;else{let k={from:g,to:b,direction:S,inner:[]};E.push(k),E=k.inner}}}}),a}var J2e=ct.define();function ebe(t){let e=0,n=0,i=0,a=0;for(let c of t.state.facet(J2e)){let d=c(t);d&&(d.left!=null&&(e=Math.max(e,d.left)),d.right!=null&&(n=Math.max(n,d.right)),d.top!=null&&(i=Math.max(i,d.top)),d.bottom!=null&&(a=Math.max(a,d.bottom)))}return{left:e,right:n,top:i,bottom:a}}var X5=ct.define(),Ld=class t{constructor(e,n,i,a){this.fromA=e,this.toA=n,this.fromB=i,this.toB=a}join(e){return new t(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,i=this;for(;n>0;n--){let a=e[n-1];if(!(a.fromA>i.toA)){if(a.toA<i.fromA)break;i=i.join(a),e.splice(n-1,1)}}return e.splice(n,0,i),e}static extendWithRanges(e,n){if(n.length==0)return e;let i=[];for(let a=0,c=0,d=0,h=0;;a++){let m=a==e.length?null:e[a],g=d-h,b=m?m.fromB:1e9;for(;c<n.length&&n[c]<b;){let E=n[c],_=n[c+1],S=Math.max(h,E),D=Math.min(b,_);if(S<=D&&new t(S+g,D+g,S,D).addToSet(i),_>b)break;c+=2}if(!m)return i;new t(m.fromA,m.toA,m.fromB,m.toB).addToSet(i),d=m.toA,h=m.toB}}},hk=class t{constructor(e,n,i){this.view=e,this.state=n,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Pa.empty(this.startState.doc.length);for(let c of i)this.changes=this.changes.compose(c.changes);let a=[];this.changes.iterChangedRanges((c,d,h,m)=>a.push(new Ld(c,d,h,m))),this.changedRanges=a}static create(e,n,i){return new t(e,n,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}},pk=class extends Ir{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Xt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new os],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ld(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:g,toA:b})=>b<this.minWidthFrom||g>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let a=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?a=this.domChanged.newSel.head:!dht(e.changes,this.hasComposition)&&!e.selectionSet&&(a=e.state.selection.main.head));let c=a>-1?sht(this.view,e.changes,a):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:g,to:b}=this.hasComposition;i=new Ld(g,b,e.changes.mapPos(g,-1),e.changes.mapPos(b,1)).addToSet(i.slice())}this.hasComposition=c?{from:c.range.fromB,to:c.range.toB}:null,(dt.ie||dt.chrome)&&!c&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let d=this.decorations,h=this.updateDeco(),m=cht(d,h,e.changes);return i=Ld.extendWithRanges(i,m),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,c),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,i);let{observer:a}=this.view;a.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let d=dt.chrome||dt.ios?{node:a.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,d),this.flags&=-8,d&&(d.written||a.selectionRange.focusNode!=d.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(d=>d.flags&=-9);let c=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let d of this.children)d instanceof w1&&d.widget instanceof f4&&c.push(d.dom);a.updateGaps(c)}updateChildren(e,n,i){let a=i?i.range.addToSet(e.slice()):e,c=this.childCursor(n);for(let d=a.length-1;;d--){let h=d>=0?a[d]:null;if(!h)break;let{fromA:m,toA:g,fromB:b,toB:E}=h,_,S,D,k;if(i&&i.range.fromB<E&&i.range.toB>b){let L=n4.build(this.view.state.doc,b,i.range.fromB,this.decorations,this.dynamicDecorationMap),V=n4.build(this.view.state.doc,i.range.toB,E,this.decorations,this.dynamicDecorationMap);S=L.breakAtStart,D=L.openStart,k=V.openEnd;let G=this.compositionView(i);V.breakAtStart?G.breakAfter=1:V.content.length&&G.merge(G.length,G.length,V.content[0],!1,V.openStart,0)&&(G.breakAfter=V.content[0].breakAfter,V.content.shift()),L.content.length&&G.merge(0,0,L.content[L.content.length-1],!0,0,L.openEnd)&&L.content.pop(),_=L.content.concat(G).concat(V.content)}else({content:_,breakAtStart:S,openStart:D,openEnd:k}=n4.build(this.view.state.doc,b,E,this.decorations,this.dynamicDecorationMap));let{i:I,off:R}=c.findPos(g,1),{i:$,off:F}=c.findPos(m,-1);P2e(this,$,F,I,R,_,S,D,k)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let i of n.effects)i.is(X2e)&&(this.editContextFormatting=i.value)}compositionView(e){let n=new $d(e.text.nodeValue);n.flags|=8;for(let{deco:a}of e.marks)n=new A0(a,[n],n.length);let i=new os;return i.append(n,0),i}fixCompositionDOM(e){let n=(c,d)=>{d.flags|=8|(d.children.some(m=>m.flags&7)?1:0),this.markedForComposition.add(d);let h=Ir.get(c);h&&h!=d&&(h.dom=null),d.setDOM(c)},i=this.childPos(e.range.fromB,1),a=this.children[i.i];n(e.line,a);for(let c=e.marks.length-1;c>=-1;c--)i=a.childPos(i.off,1),a=a.children[i.i],n(c>=0?e.marks[c].node:e.text,a)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,a=i==this.dom,c=!a&&ok(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(a||n||c))return;let d=this.forceSelection;this.forceSelection=!1;let h=this.view.state.selection.main,m=this.moveToLine(this.domAtPos(h.anchor)),g=h.empty?m:this.moveToLine(this.domAtPos(h.head));if(dt.gecko&&h.empty&&!this.hasComposition&&oht(m)){let E=document.createTextNode("");this.view.observer.ignore(()=>m.node.insertBefore(E,m.node.childNodes[m.offset]||null)),m=g=new na(E,0),d=!0}let b=this.view.observer.selectionRange;(d||!b.focusNode||(!t4(m.node,m.offset,b.anchorNode,b.anchorOffset)||!t4(g.node,g.offset,b.focusNode,b.focusOffset))&&!this.suppressWidgetCursorChange(b,h))&&(this.view.observer.ignore(()=>{dt.android&&dt.chrome&&this.dom.contains(b.focusNode)&&uht(b.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let E=a4(this.view.root);if(E)if(h.empty){if(dt.gecko){let _=aht(m.node,m.offset);if(_&&_!=3){let S=(_==1?T2e:k2e)(m.node,m.offset);S&&(m=new na(S.node,S.offset))}}E.collapse(m.node,m.offset),h.bidiLevel!=null&&E.caretBidiLevel!==void 0&&(E.caretBidiLevel=h.bidiLevel)}else if(E.extend){E.collapse(m.node,m.offset);try{E.extend(g.node,g.offset)}catch{}}else{let _=document.createRange();h.anchor>h.head&&([m,g]=[g,m]),_.setEnd(g.node,g.offset),_.setStart(m.node,m.offset),E.removeAllRanges(),E.addRange(_)}c&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(m,g)),this.impreciseAnchor=m.precise?null:new na(b.anchorNode,b.anchorOffset),this.impreciseHead=g.precise?null:new na(b.focusNode,b.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&t4(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,i=a4(e.root),{anchorNode:a,anchorOffset:c}=e.observer.selectionRange;if(!i||!n.empty||!n.assoc||!i.modify)return;let d=os.find(this,n.head);if(!d)return;let h=d.posAtStart;if(n.head==h||n.head==h+d.length)return;let m=this.coordsAt(n.head,-1),g=this.coordsAt(n.head,1);if(!m||!g||m.bottom>g.top)return;let b=this.domAtPos(n.head+n.assoc);i.collapse(b.node,b.offset),i.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let E=e.observer.selectionRange;e.docView.posFromDOM(E.anchorNode,E.anchorOffset)!=n.from&&i.collapse(a,c)}moveToLine(e){let n=this.dom,i;if(e.node!=n)return e;for(let a=e.offset;!i&&a<n.childNodes.length;a++){let c=Ir.get(n.childNodes[a]);c instanceof os&&(i=c.domAtPos(0))}for(let a=e.offset-1;!i&&a>=0;a--){let c=Ir.get(n.childNodes[a]);c instanceof os&&(i=c.domAtPos(c.length))}return i?new na(i.node,i.offset,!0):e}nearest(e){for(let n=e;n;){let i=Ir.get(n);if(i&&i.rootView==this)return i;n=n.parentNode}return null}posFromDOM(e,n){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,n)+i.posAtStart}domAtPos(e){let{i:n,off:i}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let a=this.children[n];if(i<a.length||a instanceof os)break;n++,i=0}return this.children[n].domAtPos(i)}coordsAt(e,n){let i=null,a=0;for(let c=this.length,d=this.children.length-1;d>=0;d--){let h=this.children[d],m=c-h.breakAfter,g=m-h.length;if(m<e)break;if(g<=e&&(g<e||h.covers(-1))&&(m>e||h.covers(1))&&(!i||h instanceof os&&!(i instanceof os&&n>=0)))i=h,a=g;else if(i&&g==e&&m==e&&h instanceof w1&&Math.abs(n)<2){if(h.deco.startSide<0)break;d&&(i=null)}c=g}return i?i.coordsAt(e-a,n):null}coordsForChar(e){let{i:n,off:i}=this.childPos(e,1),a=this.children[n];if(!(a instanceof os))return null;for(;a.children.length;){let{i:h,off:m}=a.childPos(i,1);for(;;h++){if(h==a.children.length)return null;if((a=a.children[h]).length)break}i=m}if(!(a instanceof $d))return null;let c=rs(a.text,i);if(c==i)return null;let d=C1(a.dom,i,c).getClientRects();for(let h=0;h<d.length;h++){let m=d[h];if(h==d.length-1||m.top<m.bottom&&m.left<m.right)return m}return null}measureVisibleLineHeights(e){let n=[],{from:i,to:a}=e,c=this.view.contentDOM.clientWidth,d=c>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,h=-1,m=this.view.textDirection==Hr.LTR;for(let g=0,b=0;b<this.children.length;b++){let E=this.children[b],_=g+E.length;if(_>a)break;if(g>=i){let S=E.dom.getBoundingClientRect();if(n.push(S.height),d){let D=E.dom.lastChild,k=D?Pb(D):[];if(k.length){let I=k[k.length-1],R=m?I.right-S.left:S.right-I.left;R>h&&(h=R,this.minWidth=c,this.minWidthFrom=g,this.minWidthTo=_)}}}g=_+E.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Hr.RTL:Hr.LTR}measureTextSize(){for(let c of this.children)if(c instanceof os){let d=c.measureTextSize();if(d)return d}let e=document.createElement("div"),n,i,a;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let c=Pb(e.firstChild)[0];n=e.getBoundingClientRect().height,i=c?c.width/27:7,a=c?c.height:n,e.remove()}),{lineHeight:n,charWidth:i,textHeight:a}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new dk(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let i=0,a=0;;a++){let c=a==n.viewports.length?null:n.viewports[a],d=c?c.from-1:this.length;if(d>i){let h=(n.lineBlockAt(d).bottom-n.lineBlockAt(i).top)/this.view.scaleY;e.push(Xt.replace({widget:new f4(h),block:!0,inclusive:!0,isBlockGap:!0}).range(i,d))}if(!c)break;i=c.to+1}return Xt.set(e)}updateDeco(){let e=1,n=this.view.state.facet(h4).map(c=>(this.dynamicDecorationMap[e++]=typeof c=="function")?c(this.view):c),i=!1,a=this.view.state.facet(K2e).map((c,d)=>{let h=typeof c=="function";return h&&(i=!0),h?c(this.view):c});for(a.length&&(this.dynamicDecorationMap[e++]=i,n.push(li.join(a))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let g=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=g.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let g of this.view.state.facet(Y2e))try{if(g(this.view,e.range,e))return!0}catch(b){$o(this.view.state,b,"scroll handler")}let{range:n}=e,i=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),a;if(!i)return;!n.empty&&(a=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(i={left:Math.min(i.left,a.left),top:Math.min(i.top,a.top),right:Math.max(i.right,a.right),bottom:Math.max(i.bottom,a.bottom)});let c=ebe(this.view),d={left:i.left-c.left,top:i.top-c.top,right:i.right+c.right,bottom:i.bottom+c.bottom},{offsetWidth:h,offsetHeight:m}=this.view.scrollDOM;Bft(this.view.scrollDOM,d,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,h),-h),Math.max(Math.min(e.yMargin,m),-m),this.view.textDirection==Hr.LTR)}};function oht(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function tbe(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let i=T2e(n.focusNode,n.focusOffset),a=k2e(n.focusNode,n.focusOffset),c=i||a;if(a&&i&&a.node!=i.node){let h=Ir.get(a.node);if(!h||h instanceof $d&&h.text!=a.node.nodeValue)c=a;else if(t.docView.lastCompositionAfterCursor){let m=Ir.get(i.node);!m||m instanceof $d&&m.text!=i.node.nodeValue||(c=a)}}if(t.docView.lastCompositionAfterCursor=c!=i,!c)return null;let d=e-c.offset;return{from:d,to:d+c.node.nodeValue.length,node:c.node}}function sht(t,e,n){let i=tbe(t,n);if(!i)return null;let{node:a,from:c,to:d}=i,h=a.nodeValue;if(/[\n\r]/.test(h)||t.state.doc.sliceString(i.from,i.to)!=h)return null;let m=e.invertedDesc,g=new Ld(m.mapPos(c),m.mapPos(d),c,d),b=[];for(let E=a.parentNode;;E=E.parentNode){let _=Ir.get(E);if(_ instanceof A0)b.push({node:E,deco:_.mark});else{if(_ instanceof os||E.nodeName=="DIV"&&E.parentNode==t.contentDOM)return{range:g,text:a,marks:b,line:E};if(E!=t.contentDOM)b.push({node:E,deco:new u4({inclusive:!0,attributes:Wft(E),tagName:E.tagName.toLowerCase()})});else return null}}}function aht(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}var lht=class{constructor(){this.changes=[]}compareRange(e,n){bz(e,n,this.changes)}comparePoint(e,n){bz(e,n,this.changes)}};function cht(t,e,n){let i=new lht;return li.compare(t,e,n,i),i.changes}function uht(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function dht(t,e){let n=!1;return e&&t.iterChangedRanges((i,a)=>{i<e.to&&a>e.from&&(n=!0)}),n}function fht(t,e,n=1){let i=t.charCategorizer(e),a=t.doc.lineAt(e),c=e-a.from;if(a.length==0)return ze.cursor(e);c==0?n=1:c==a.length&&(n=-1);let d=c,h=c;n<0?d=rs(a.text,c,!1):h=rs(a.text,c);let m=i(a.text.slice(d,h));for(;d>0;){let g=rs(a.text,d,!1);if(i(a.text.slice(g,d))!=m)break;d=g}for(;h<a.length;){let g=rs(a.text,h);if(i(a.text.slice(h,g))!=m)break;h=g}return ze.range(d+a.from,h+a.from)}function hht(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function pht(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function sz(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Yye(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function Xye(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Cz(t,e,n){let i,a,c,d,h=!1,m,g,b,E;for(let D=t.firstChild;D;D=D.nextSibling){let k=Pb(D);for(let I=0;I<k.length;I++){let R=k[I];a&&sz(a,R)&&(R=Yye(Xye(R,a.bottom),a.top));let $=hht(e,R),F=pht(n,R);if($==0&&F==0)return D.nodeType==3?Kye(D,e,n):Cz(D,e,n);if(!i||d>F||d==F&&c>$){i=D,a=R,c=$,d=F;let L=F?n<R.top?-1:1:$?e<R.left?-1:1:0;h=!L||(L>0?I<k.length-1:I>0)}$==0?n>R.bottom&&(!b||b.bottom<R.bottom)?(m=D,b=R):n<R.top&&(!E||E.top>R.top)&&(g=D,E=R):b&&sz(b,R)?b=Xye(b,R.bottom):E&&sz(E,R)&&(E=Yye(E,R.top))}}if(b&&b.bottom>=n?(i=m,a=b):E&&E.top<=n&&(i=g,a=E),!i)return{node:t,offset:0};let _=Math.max(a.left,Math.min(a.right,e));if(i.nodeType==3)return Kye(i,_,n);if(h&&i.contentEditable!="false")return Cz(i,_,n);let S=Array.prototype.indexOf.call(t.childNodes,i)+(e>=(a.left+a.right)/2?1:0);return{node:t,offset:S}}function Kye(t,e,n){let i=t.nodeValue.length,a=-1,c=1e9,d=0;for(let h=0;h<i;h++){let m=C1(t,h,h+1).getClientRects();for(let g=0;g<m.length;g++){let b=m[g];if(b.top==b.bottom)continue;d||(d=e-b.left);let E=(b.top>n?b.top-n:n-b.bottom)-1;if(b.left-1<=e&&b.right+1>=e&&E<c){let _=e>=(b.left+b.right)/2,S=_;if((dt.chrome||dt.gecko)&&C1(t,h).getBoundingClientRect().left==b.right&&(S=!_),E<=0)return{node:t,offset:h+(S?1:0)};a=h+(S?1:0),c=E}}}return{node:t,offset:a>-1?a:d>0?t.nodeValue.length:0}}function nbe(t,e,n,i=-1){var a,c;let d=t.contentDOM.getBoundingClientRect(),h=d.top+t.viewState.paddingTop,m,{docHeight:g}=t.viewState,{x:b,y:E}=e,_=E-h;if(_<0)return 0;if(_>g)return t.state.doc.length;for(let L=t.viewState.heightOracle.textHeight/2,V=!1;m=t.elementAtHeight(_),m.type!=dc.Text;)for(;_=i>0?m.bottom+L:m.top-L,!(_>=0&&_<=g);){if(V)return n?null:0;V=!0,i=-i}E=h+_;let S=m.from;if(S<t.viewport.from)return t.viewport.from==0?0:n?null:Zye(t,d,m,b,E);if(S>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:Zye(t,d,m,b,E);let D=t.dom.ownerDocument,k=t.root.elementFromPoint?t.root:D,I=k.elementFromPoint(b,E);I&&!t.contentDOM.contains(I)&&(I=null),I||(b=Math.max(d.left+1,Math.min(d.right-1,b)),I=k.elementFromPoint(b,E),I&&!t.contentDOM.contains(I)&&(I=null));let R,$=-1;if(I&&((a=t.docView.nearest(I))===null||a===void 0?void 0:a.isEditable)!=!1){if(D.caretPositionFromPoint){let L=D.caretPositionFromPoint(b,E);L&&({offsetNode:R,offset:$}=L)}else if(D.caretRangeFromPoint){let L=D.caretRangeFromPoint(b,E);L&&({startContainer:R,startOffset:$}=L,(!t.contentDOM.contains(R)||dt.safari&&mht(R,$,b)||dt.chrome&&ght(R,$,b))&&(R=void 0))}}if(!R||!t.docView.dom.contains(R)){let L=os.find(t.docView,S);if(!L)return _>m.top+m.height/2?m.to:m.from;({node:R,offset:$}=Cz(L.dom,b,E))}let F=t.docView.nearest(R);if(!F)return null;if(F.isWidget&&((c=F.dom)===null||c===void 0?void 0:c.nodeType)==1){let L=F.dom.getBoundingClientRect();return e.y<L.top||e.y<=L.bottom&&e.x<=(L.left+L.right)/2?F.posAtStart:F.posAtEnd}else return F.localPosFromDOM(R,$)+F.posAtStart}function Zye(t,e,n,i,a){let c=Math.round((i-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let h=t.viewState.heightOracle.textHeight,m=Math.floor((a-n.top-(t.defaultLineHeight-h)*.5)/h);c+=m*t.viewState.heightOracle.lineLength}let d=t.state.sliceDoc(n.from,n.to);return n.from+Aye(d,c,t.state.tabSize)}function mht(t,e,n){let i;if(t.nodeType!=3||e!=(i=t.nodeValue.length))return!1;for(let a=t.nextSibling;a;a=a.nextSibling)if(a.nodeType!=1||a.nodeName!="BR")return!1;return C1(t,i-1,i).getBoundingClientRect().left>n}function ght(t,e,n){if(e!=0)return!1;for(let a=t;;){let c=a.parentNode;if(!c||c.nodeType!=1||c.firstChild!=a)return!1;if(c.classList.contains("cm-line"))break;a=c}let i=t.nodeType==1?t.getBoundingClientRect():C1(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-i.left>5}function vht(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let i of n.type)if(i.to>e||i.to==e&&(i.to==n.to||i.type==dc.Text))return i}return n}function yht(t,e,n,i){let a=vht(t,e.head),c=!i||a.type!=dc.Text||!(t.lineWrapping||a.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>a.from?e.head-1:e.head);if(c){let d=t.dom.getBoundingClientRect(),h=t.textDirectionAt(a.from),m=t.posAtCoords({x:n==(h==Hr.LTR)?d.right-1:d.left+1,y:(c.top+c.bottom)/2});if(m!=null)return ze.cursor(m,n?-1:1)}return ze.cursor(n?a.to:a.from,n?-1:1)}function Jye(t,e,n,i){let a=t.state.doc.lineAt(e.head),c=t.bidiSpans(a),d=t.textDirectionAt(a.from);for(let h=e,m=null;;){let g=tht(a,c,d,h,n),b=z2e;if(!g){if(a.number==(n?t.state.doc.lines:1))return h;b=`
`,a=t.state.doc.line(a.number+(n?1:-1)),c=t.bidiSpans(a),g=t.visualLineSide(a,!n)}if(m){if(!m(b))return h}else{if(!i)return g;m=i(b)}h=g}}function bht(t,e,n){let i=t.state.charCategorizer(e),a=i(n);return c=>{let d=i(c);return a==ea.Space&&(a=d),a==d}}function xht(t,e,n,i){let a=e.head,c=n?1:-1;if(a==(n?t.state.doc.length:0))return ze.cursor(a,e.assoc);let d=e.goalColumn,h,m=t.contentDOM.getBoundingClientRect(),g=t.coordsAtPos(a,e.assoc||-1),b=t.documentTop;if(g)d==null&&(d=g.left-m.left),h=c<0?g.top:g.bottom;else{let S=t.viewState.lineBlockAt(a);d==null&&(d=Math.min(m.right-m.left,t.defaultCharacterWidth*(a-S.from))),h=(c<0?S.top:S.bottom)+b}let E=m.left+d,_=i??t.viewState.heightOracle.textHeight>>1;for(let S=0;;S+=10){let D=h+(_+S)*c,k=nbe(t,{x:E,y:D},!1,c);if(D<m.top||D>m.bottom||(c<0?k<a:k>a)){let I=t.docView.coordsForChar(k),R=!I||D<I.top?-1:1;return ze.cursor(k,R,void 0,d)}}}function sk(t,e,n){for(;;){let i=0;for(let a of t)a.between(e-1,e+1,(c,d,h)=>{if(e>c&&e<d){let m=i||n||(e-c<d-e?-1:1);e=m<0?c:d,i=m}});if(!i)return e}}function az(t,e,n){let i=sk(t.state.facet(Yz).map(a=>a(t)),n.from,e.head>n.from?-1:1);return i==n.from?n:ze.cursor(i,i<n.from?1:-1)}var J5="\uFFFF",Sz=class{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(is.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=J5}readRange(e,n){if(!e)return this;let i=e.parentNode;for(let a=e;;){this.findPointBefore(i,a);let c=this.text.length;this.readNode(a);let d=a.nextSibling;if(d==n)break;let h=Ir.get(a),m=Ir.get(d);(h&&m?h.breakAfter:(h?h.breakAfter:uk(a))||uk(d)&&(a.nodeName!="BR"||a.cmIgnore)&&this.text.length>c)&&this.lineBreak(),a=d}return this.findPointBefore(i,n),this}readTextNode(e){let n=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,n.length));for(let i=0,a=this.lineSeparator?null:/\r\n?|\n/g;;){let c=-1,d=1,h;if(this.lineSeparator?(c=n.indexOf(this.lineSeparator,i),d=this.lineSeparator.length):(h=a.exec(n))&&(c=h.index,d=h[0].length),this.append(n.slice(i,c<0?n.length:c)),c<0)break;if(this.lineBreak(),d>1)for(let m of this.points)m.node==e&&m.pos>this.text.length&&(m.pos-=d-1);i=c+d}}readNode(e){if(e.cmIgnore)return;let n=Ir.get(e),i=n&&n.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let a=i.iter();!a.next().done;)a.lineBreak?this.lineBreak():this.append(a.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==n&&(i.pos=this.text.length)}findPointInside(e,n){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(Eht(e,i.node,i.offset)?n:0))}};function Eht(t,e,n){for(;;){if(!e||n<ih(e))return!1;if(e==t)return!0;n=_1(e)+1,e=e.parentNode}}var mk=class{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}},Oz=class{constructor(e,n,i,a){this.typeOver=a,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:c,impreciseAnchor:d}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,i,0))){let h=c||d?[]:Cht(e),m=new Sz(h,e.state);m.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=m.text,this.newSel=Sht(h,this.bounds.from)}else{let h=e.observer.selectionRange,m=c&&c.node==h.focusNode&&c.offset==h.focusOffset||!fz(e.contentDOM,h.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(h.focusNode,h.focusOffset),g=d&&d.node==h.anchorNode&&d.offset==h.anchorOffset||!fz(e.contentDOM,h.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(h.anchorNode,h.anchorOffset),b=e.viewport;if((dt.ios||dt.chrome)&&e.state.selection.main.empty&&m!=g&&(b.from>0||b.to<e.state.doc.length)){let E=Math.min(m,g),_=Math.max(m,g),S=b.from-E,D=b.to-_;(S==0||S==1||E==0)&&(D==0||D==-1||_==e.state.doc.length)&&(m=0,g=e.state.doc.length)}this.newSel=ze.single(g,m)}}};function rbe(t,e){let n,{newSel:i}=e,a=t.state.selection.main,c=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:d,to:h}=e.bounds,m=a.from,g=null;(c===8||dt.android&&e.text.length<h-d)&&(m=a.to,g="end");let b=_ht(t.state.doc.sliceString(d,h,J5),e.text,m-d,g);b&&(dt.chrome&&c==13&&b.toB==b.from+2&&e.text.slice(b.from,b.toB)==J5+J5&&b.toB--,n={from:d+b.from,to:d+b.toA,insert:kn.of(e.text.slice(b.from,b.toB).split(J5))})}else i&&(!t.hasFocus&&t.state.facet(P0)||i.main.eq(a))&&(i=null);if(!n&&!i)return!1;if(!n&&e.typeOver&&!a.empty&&i&&i.main.empty?n={from:a.from,to:a.to,insert:t.state.doc.slice(a.from,a.to)}:n&&n.from>=a.from&&n.to<=a.to&&(n.from!=a.from||n.to!=a.to)&&a.to-a.from-(n.to-n.from)<=4?n={from:a.from,to:a.to,insert:t.state.doc.slice(a.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,a.to))}:(dt.mac||dt.android)&&n&&n.from==n.to&&n.from==a.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(i&&n.insert.length==2&&(i=ze.single(i.main.anchor-1,i.main.head-1)),n={from:a.from,to:a.to,insert:kn.of([" "])}):dt.chrome&&n&&n.from==n.to&&n.from==a.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(i&&(i=ze.single(i.main.anchor-1,i.main.head-1)),n={from:a.from,to:a.to,insert:kn.of([" "])}),n)return Xz(t,n,i,c);if(i&&!i.main.eq(a)){let d=!1,h="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(d=!0),h=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:d,userEvent:h}),!0}else return!1}function Xz(t,e,n,i=-1){if(dt.ios&&t.inputState.flushIOSKey(e))return!0;let a=t.state.selection.main;if(dt.android&&(e.to==a.to&&(e.from==a.from||e.from==a.from-1&&t.state.sliceDoc(e.from,a.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&kb(t.contentDOM,"Enter",13)||(e.from==a.from-1&&e.to==a.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>a.head)&&kb(t.contentDOM,"Backspace",8)||e.from==a.from&&e.to==a.to+1&&e.insert.length==0&&kb(t.contentDOM,"Delete",46)))return!0;let c=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let d,h=()=>d||(d=wht(t,e,n));return t.state.facet(G2e).some(m=>m(t,e.from,e.to,c,h))||t.dispatch(h()),!0}function wht(t,e,n){let i,a=t.state,c=a.selection.main;if(e.from>=c.from&&e.to<=c.to&&e.to-e.from>=(c.to-c.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let h=c.from<e.from?a.sliceDoc(c.from,e.from):"",m=c.to>e.to?a.sliceDoc(e.to,c.to):"";i=a.replaceSelection(t.state.toText(h+e.insert.sliceString(0,void 0,t.state.lineBreak)+m))}else{let h=a.changes(e),m=n&&n.main.to<=h.newLength?n.main:void 0;if(a.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=c.to&&e.to>=c.to-10){let g=t.state.sliceDoc(e.from,e.to),b,E=n&&tbe(t,n.main.head);if(E){let D=e.insert.length-(e.to-e.from);b={from:E.from,to:E.to-D}}else b=t.state.doc.lineAt(c.head);let _=c.to-e.to,S=c.to-c.from;i=a.changeByRange(D=>{if(D.from==c.from&&D.to==c.to)return{changes:h,range:m||D.map(h)};let k=D.to-_,I=k-g.length;if(D.to-D.from!=S||t.state.sliceDoc(I,k)!=g||D.to>=b.from&&D.from<=b.to)return{range:D};let R=a.changes({from:I,to:k,insert:e.insert}),$=D.to-c.to;return{changes:R,range:m?ze.range(Math.max(0,m.anchor+$),Math.max(0,m.head+$)):D.map(R)}})}else i={changes:h,selection:m&&a.selection.replaceRange(m)}}let d="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,d+=".compose",t.inputState.compositionFirstChange&&(d+=".start",t.inputState.compositionFirstChange=!1)),a.update(i,{userEvent:d,scrollIntoView:!0})}function _ht(t,e,n,i){let a=Math.min(t.length,e.length),c=0;for(;c<a&&t.charCodeAt(c)==e.charCodeAt(c);)c++;if(c==a&&t.length==e.length)return null;let d=t.length,h=e.length;for(;d>0&&h>0&&t.charCodeAt(d-1)==e.charCodeAt(h-1);)d--,h--;if(i=="end"){let m=Math.max(0,c-Math.min(d,h));n-=d+m-c}if(d<c&&t.length<e.length){let m=n<=c&&n>=d?c-n:0;c-=m,h=c+(h-d),d=c}else if(h<c){let m=n<=c&&n>=h?c-n:0;c-=m,d=c+(d-h),h=c}return{from:c,toA:d,toB:h}}function Cht(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:i,focusNode:a,focusOffset:c}=t.observer.selectionRange;return n&&(e.push(new mk(n,i)),(a!=n||c!=i)&&e.push(new mk(a,c))),e}function Sht(t,e){if(t.length==0)return null;let n=t[0].pos,i=t.length==2?t[1].pos:n;return n>-1&&i>-1?ze.single(n+e,i+e):null}var Dz=class{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,dt.safari&&e.contentDOM.addEventListener("input",()=>null),dt.gecko&&jht(e.contentDOM.ownerDocument)}handleEvent(e){!Mht(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,n){let i=this.handlers[e];if(i){for(let a of i.observers)a(this.view,n);for(let a of i.handlers){if(n.defaultPrevented)break;if(a(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=Oht(e),i=this.handlers,a=this.view.contentDOM;for(let c in n)if(c!="scroll"){let d=!n[c].handlers.length,h=i[c];h&&d!=!h.handlers.length&&(a.removeEventListener(c,this.handleEvent),h=null),h||a.addEventListener(c,this.handleEvent,{passive:d})}for(let c in i)c!="scroll"&&!n[c]&&a.removeEventListener(c,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&obe.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),dt.android&&dt.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return dt.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=ibe.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||Dht.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,kb(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:dt.safari&&!dt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};function e2e(t,e){return(n,i)=>{try{return e.call(t,i,n)}catch(a){$o(n.state,a)}}}function Oht(t){let e=Object.create(null);function n(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of t){let a=i.spec;if(a&&a.domEventHandlers)for(let c in a.domEventHandlers){let d=a.domEventHandlers[c];d&&n(c).handlers.push(e2e(i.value,d))}if(a&&a.domEventObservers)for(let c in a.domEventObservers){let d=a.domEventObservers[c];d&&n(c).observers.push(e2e(i.value,d))}}for(let i in cu)n(i).handlers.push(cu[i]);for(let i in fc)n(i).observers.push(fc[i]);return e}var ibe=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Dht="dthko",obe=[16,17,18,20,91,92,224,225],ZT=6;function JT(t){return Math.max(0,t)*.7+8}function Tht(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}var Tz=class{constructor(e,n,i,a){this.view=e,this.startEvent=n,this.style=i,this.mustSelect=a,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=jft(e.contentDOM),this.atoms=e.state.facet(Yz).map(d=>d(e));let c=e.contentDOM.ownerDocument;c.addEventListener("mousemove",this.move=this.move.bind(this)),c.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(is.allowMultipleSelections)&&kht(e,n),this.dragging=Iht(e,n)&&lbe(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Tht(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,i=0,a=0,c=0,d=this.view.win.innerWidth,h=this.view.win.innerHeight;this.scrollParents.x&&({left:a,right:d}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:c,bottom:h}=this.scrollParents.y.getBoundingClientRect());let m=ebe(this.view);e.clientX-m.left<=a+ZT?n=-JT(a-e.clientX):e.clientX+m.right>=d-ZT&&(n=JT(e.clientX-d)),e.clientY-m.top<=c+ZT?i=-JT(c-e.clientY):e.clientY+m.bottom>=h-ZT&&(i=JT(e.clientY-h)),this.setScrollSpeed(n,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let i=0;i<e.ranges.length;i++){let a=e.ranges[i],c=null;if(a.empty){let d=sk(this.atoms,a.from,0);d!=a.from&&(c=ze.cursor(d,-1))}else{let d=sk(this.atoms,a.from,-1),h=sk(this.atoms,a.to,1);(d!=a.from||h!=a.to)&&(c=ze.range(a.from==a.anchor?d:h,a.from==a.head?d:h))}c&&(n||(n=e.ranges.slice()),n[i]=c)}return n?ze.create(n,e.mainIndex):e}select(e){let{view:n}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}};function kht(t,e){let n=t.state.facet(H2e);return n.length?n[0](e):dt.mac?e.metaKey:e.ctrlKey}function Pht(t,e){let n=t.state.facet(U2e);return n.length?n[0](e):dt.mac?!e.altKey:!e.ctrlKey}function Iht(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let i=a4(t.root);if(!i||i.rangeCount==0)return!0;let a=i.getRangeAt(0).getClientRects();for(let c=0;c<a.length;c++){let d=a[c];if(d.left<=e.clientX&&d.right>=e.clientX&&d.top<=e.clientY&&d.bottom>=e.clientY)return!0}return!1}function Mht(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,i;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(i=Ir.get(n))&&i.ignoreEvent(e))return!1;return!0}var cu=Object.create(null),fc=Object.create(null),sbe=dt.ie&&dt.ie_version<15||dt.ios&&dt.webkit_version<604;function Aht(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),abe(t,n.value)},50)}function abe(t,e){let{state:n}=t,i,a=1,c=n.toText(e),d=c.lines==n.selection.ranges.length;if(kz!=null&&n.selection.ranges.every(m=>m.empty)&&kz==c.toString()){let m=-1;i=n.changeByRange(g=>{let b=n.doc.lineAt(g.from);if(b.from==m)return{range:g};m=b.from;let E=n.toText((d?c.line(a++).text:e)+n.lineBreak);return{changes:{from:b.from,insert:E},range:ze.cursor(g.from+E.length)}})}else d?i=n.changeByRange(m=>{let g=c.line(a++);return{changes:{from:m.from,to:m.to,insert:g.text},range:ze.cursor(m.from+g.length)}}):i=n.replaceSelection(c);t.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}fc.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};cu.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);fc.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};fc.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};cu.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let i of t.state.facet(q2e))if(n=i(t,e),n)break;if(!n&&e.button==0&&(n=$ht(t,e)),n){let i=!t.hasFocus;t.inputState.startMouseSelection(new Tz(t,e,n,i)),i&&t.observer.ignore(()=>{S2e(t.contentDOM);let c=t.root.activeElement;c&&!c.contains(t.contentDOM)&&c.blur()});let a=t.inputState.mouseSelection;if(a)return a.start(e),a.dragging===!1}return!1};function t2e(t,e,n,i){if(i==1)return ze.cursor(e,n);if(i==2)return fht(t.state,e,n);{let a=os.find(t.docView,e),c=t.state.doc.lineAt(a?a.posAtEnd:e),d=a?a.posAtStart:c.from,h=a?a.posAtEnd:c.to;return h<t.state.doc.length&&h==c.to&&h++,ze.range(d,h)}}var n2e=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function Rht(t,e,n,i){let a=os.find(t.docView,e);if(!a)return 1;let c=e-a.posAtStart;if(c==0)return 1;if(c==a.length)return-1;let d=a.coordsAt(c,-1);if(d&&n2e(n,i,d))return-1;let h=a.coordsAt(c,1);return h&&n2e(n,i,h)?1:d&&d.bottom>=i?-1:1}function r2e(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:Rht(t,n,e.clientX,e.clientY)}}var Lht=dt.ie&&dt.ie_version<=11,i2e=null,o2e=0,s2e=0;function lbe(t){if(!Lht)return t.detail;let e=i2e,n=s2e;return i2e=t,s2e=Date.now(),o2e=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(o2e+1)%3:1}function $ht(t,e){let n=r2e(t,e),i=lbe(e),a=t.state.selection;return{update(c){c.docChanged&&(n.pos=c.changes.mapPos(n.pos),a=a.map(c.changes))},get(c,d,h){let m=r2e(t,c),g,b=t2e(t,m.pos,m.bias,i);if(n.pos!=m.pos&&!d){let E=t2e(t,n.pos,n.bias,i),_=Math.min(E.from,b.from),S=Math.max(E.to,b.to);b=_<b.from?ze.range(_,S):ze.range(S,_)}return d?a.replaceRange(a.main.extend(b.from,b.to)):h&&i==1&&a.ranges.length>1&&(g=Nht(a,m.pos))?g:h?a.addRange(b):ze.create([b])}}}function Nht(t,e){for(let n=0;n<t.ranges.length;n++){let{from:i,to:a}=t.ranges[n];if(i<=e&&a>=e)return ze.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}cu.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let a=t.docView.nearest(e.target);if(a&&a.isWidget){let c=a.posAtStart,d=c+a.length;(c>=n.to||d<=n.from)&&(n=ze.range(c,d))}}let{inputState:i}=t;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove"),!1};cu.dragend=t=>(t.inputState.draggedContent=null,!1);function a2e(t,e,n,i){if(!n)return;let a=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:c}=t.inputState,d=i&&c&&Pht(t,e)?{from:c.from,to:c.to}:null,h={from:a,insert:n},m=t.state.changes(d?[d,h]:h);t.focus(),t.dispatch({changes:m,selection:{anchor:m.mapPos(a,-1),head:m.mapPos(a,1)},userEvent:d?"move.drop":"input.drop"}),t.inputState.draggedContent=null}cu.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let i=Array(n.length),a=0,c=()=>{++a==n.length&&a2e(t,e,i.filter(d=>d!=null).join(t.state.lineBreak),!1)};for(let d=0;d<n.length;d++){let h=new FileReader;h.onerror=c,h.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(h.result)||(i[d]=h.result),c()},h.readAsText(n[d])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return a2e(t,e,i,!0),!0}return!1};cu.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=sbe?null:e.clipboardData;return n?(abe(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(Aht(t),!1)};function Fht(t,e){let n=t.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),t.focus()},50)}function Bht(t){let e=[],n=[],i=!1;for(let a of t.selection.ranges)a.empty||(e.push(t.sliceDoc(a.from,a.to)),n.push(a));if(!e.length){let a=-1;for(let{from:c}of t.selection.ranges){let d=t.doc.lineAt(c);d.number>a&&(e.push(d.text),n.push({from:d.from,to:Math.min(t.doc.length,d.to+1)})),a=d.number}i=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:i}}var kz=null;cu.copy=cu.cut=(t,e)=>{let{text:n,ranges:i,linewise:a}=Bht(t.state);if(!n&&!a)return!1;kz=a?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let c=sbe?null:e.clipboardData;return c?(c.clearData(),c.setData("text/plain",n),!0):(Fht(t,n),!1)};var cbe=ac.define();function ube(t,e){let n=[];for(let i of t.facet(Q2e)){let a=i(t,e);a&&n.push(a)}return n?t.update({effects:n,annotations:cbe.of(!0)}):null}function dbe(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=ube(t.state,e);n?t.dispatch(n):t.update([])}},10)}fc.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),dbe(t)};fc.blur=t=>{t.observer.clearSelectionRange(),dbe(t)};fc.compositionstart=fc.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};fc.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,dt.chrome&&dt.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};fc.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};cu.beforeinput=(t,e)=>{var n,i;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let c=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),d=e.getTargetRanges();if(c&&d.length){let h=d[0],m=t.posAtDOM(h.startContainer,h.startOffset),g=t.posAtDOM(h.endContainer,h.endOffset);return Xz(t,{from:m,to:g,insert:t.state.toText(c)},null),!0}}let a;if(dt.chrome&&dt.android&&(a=ibe.find(c=>c.inputType==e.inputType))&&(t.observer.delayAndroidKey(a.key,a.keyCode),a.key=="Backspace"||a.key=="Delete")){let c=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var d;(((d=window.visualViewport)===null||d===void 0?void 0:d.height)||0)>c+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return dt.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),dt.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>fc.compositionend(t,e),20),!1};var l2e=new Set;function jht(t){l2e.has(t)||(l2e.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}var c2e=["pre-wrap","normal","pre-line","break-spaces"],Ib=!1;function u2e(){Ib=!1}var Pz=class{constructor(e){this.lineWrapping=e,this.doc=kn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let i=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((n-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return c2e.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let i=0;i<e.length;i++){let a=e[i];a<0?i++:this.heightSamples[Math.floor(a*10)]||(n=!0,this.heightSamples[Math.floor(a*10)]=!0)}return n}refresh(e,n,i,a,c,d){let h=c2e.indexOf(e)>-1,m=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=h;if(this.lineWrapping=h,this.lineHeight=n,this.charWidth=i,this.textHeight=a,this.lineLength=c,m){this.heightSamples={};for(let g=0;g<d.length;g++){let b=d[g];b<0?g++:this.heightSamples[Math.floor(b*10)]=!0}}return m}},Iz=class{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}},Ad=class t{constructor(e,n,i,a,c){this.from=e,this.length=n,this.top=i,this.height=a,this._content=c}get type(){return typeof this._content=="number"?dc.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof R0?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new t(this.from,this.length+e.length,this.top,this.height+e.height,n)}},zr=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(zr||(zr={})),ak=.001,ml=class t{constructor(e,n,i=2){this.length=e,this.height=n,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>ak&&(Ib=!0),this.height=e)}replace(e,n,i){return t.of(i)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,i,a){let c=this,d=i.doc;for(let h=a.length-1;h>=0;h--){let{fromA:m,toA:g,fromB:b,toB:E}=a[h],_=c.lineAt(m,zr.ByPosNoHeight,i.setDoc(n),0,0),S=_.to>=g?_:c.lineAt(g,zr.ByPosNoHeight,i,0,0);for(E+=S.to-g,g=S.to;h>0&&_.from<=a[h-1].toA;)m=a[h-1].fromA,b=a[h-1].fromB,h--,m<_.from&&(_=c.lineAt(m,zr.ByPosNoHeight,i,0,0));b+=_.from-m,m=_.from;let D=Az.build(i.setDoc(d),e,b,E);c=gk(c,c.replace(m,g,D))}return c.updateHeight(i,0)}static empty(){return new uc(0,0)}static of(e){if(e.length==1)return e[0];let n=0,i=e.length,a=0,c=0;for(;;)if(n==i)if(a>c*2){let h=e[n-1];h.break?e.splice(--n,1,h.left,null,h.right):e.splice(--n,1,h.left,h.right),i+=1+h.break,a-=h.size}else if(c>a*2){let h=e[i];h.break?e.splice(i,1,h.left,null,h.right):e.splice(i,1,h.left,h.right),i+=2+h.break,c-=h.size}else break;else if(a<c){let h=e[n++];h&&(a+=h.size)}else{let h=e[--i];h&&(c+=h.size)}let d=0;return e[n-1]==null?(d=1,n--):e[n]==null&&(d=1,i++),new Mz(t.of(e.slice(0,n)),d,t.of(e.slice(i)))}};function gk(t,e){return t==e?t:(t.constructor!=e.constructor&&(Ib=!0),e)}ml.prototype.size=1;var vk=class extends ml{constructor(e,n,i){super(e,n),this.deco=i}blockAt(e,n,i,a){return new Ad(a,this.length,i,this.height,this.deco||0)}lineAt(e,n,i,a,c){return this.blockAt(0,i,a,c)}forEachLine(e,n,i,a,c,d){e<=c+this.length&&n>=c&&d(this.blockAt(0,i,a,c))}updateHeight(e,n=0,i=!1,a){return a&&a.from<=n&&a.more&&this.setHeight(a.heights[a.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}},uc=class t extends vk{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,i,a){return new Ad(a,this.length,i,this.height,this.breaks)}replace(e,n,i){let a=i[0];return i.length==1&&(a instanceof t||a instanceof M0&&a.flags&4)&&Math.abs(this.length-a.length)<10?(a instanceof M0?a=new t(a.length,this.height):a.height=this.height,this.outdated||(a.outdated=!1),a):ml.of(i)}updateHeight(e,n=0,i=!1,a){return a&&a.from<=n&&a.more?this.setHeight(a.heights[a.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}},M0=class t extends ml{constructor(e){super(e,0)}heightMetrics(e,n){let i=e.doc.lineAt(n).number,a=e.doc.lineAt(n+this.length).number,c=a-i+1,d,h=0;if(e.lineWrapping){let m=Math.min(this.height,e.lineHeight*c);d=m/c,this.length>c+1&&(h=(this.height-m)/(this.length-c-1))}else d=this.height/c;return{firstLine:i,lastLine:a,perLine:d,perChar:h}}blockAt(e,n,i,a){let{firstLine:c,lastLine:d,perLine:h,perChar:m}=this.heightMetrics(n,a);if(n.lineWrapping){let g=a+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),b=n.doc.lineAt(g),E=h+b.length*m,_=Math.max(i,e-E/2);return new Ad(b.from,b.length,_,E,0)}else{let g=Math.max(0,Math.min(d-c,Math.floor((e-i)/h))),{from:b,length:E}=n.doc.line(c+g);return new Ad(b,E,i+h*g,h,0)}}lineAt(e,n,i,a,c){if(n==zr.ByHeight)return this.blockAt(e,i,a,c);if(n==zr.ByPosNoHeight){let{from:S,to:D}=i.doc.lineAt(e);return new Ad(S,D-S,0,0,0)}let{firstLine:d,perLine:h,perChar:m}=this.heightMetrics(i,c),g=i.doc.lineAt(e),b=h+g.length*m,E=g.number-d,_=a+h*E+m*(g.from-c-E);return new Ad(g.from,g.length,Math.max(a,Math.min(_,a+this.height-b)),b,0)}forEachLine(e,n,i,a,c,d){e=Math.max(e,c),n=Math.min(n,c+this.length);let{firstLine:h,perLine:m,perChar:g}=this.heightMetrics(i,c);for(let b=e,E=a;b<=n;){let _=i.doc.lineAt(b);if(b==e){let D=_.number-h;E+=m*D+g*(e-c-D)}let S=m+g*_.length;d(new Ad(_.from,_.length,E,S,0)),E+=S,b=_.to+1}}replace(e,n,i){let a=this.length-n;if(a>0){let c=i[i.length-1];c instanceof t?i[i.length-1]=new t(c.length+a):i.push(null,new t(a-1))}if(e>0){let c=i[0];c instanceof t?i[0]=new t(e+c.length):i.unshift(new t(e-1),null)}return ml.of(i)}decomposeLeft(e,n){n.push(new t(e-1),null)}decomposeRight(e,n){n.push(null,new t(this.length-e-1))}updateHeight(e,n=0,i=!1,a){let c=n+this.length;if(a&&a.from<=n+this.length&&a.more){let d=[],h=Math.max(n,a.from),m=-1;for(a.from>n&&d.push(new t(a.from-n-1).updateHeight(e,n));h<=c&&a.more;){let b=e.doc.lineAt(h).length;d.length&&d.push(null);let E=a.heights[a.index++];m==-1?m=E:Math.abs(E-m)>=ak&&(m=-2);let _=new uc(b,E);_.outdated=!1,d.push(_),h+=b+1}h<=c&&d.push(null,new t(c-h).updateHeight(e,h));let g=ml.of(d);return(m<0||Math.abs(g.height-this.height)>=ak||Math.abs(m-this.heightMetrics(e,n).perLine)>=ak)&&(Ib=!0),gk(this,g)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}},Mz=class extends ml{constructor(e,n,i){super(e.length+n+i.length,e.height+i.height,n|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,n,i,a){let c=i+this.left.height;return e<c?this.left.blockAt(e,n,i,a):this.right.blockAt(e,n,c,a+this.left.length+this.break)}lineAt(e,n,i,a,c){let d=a+this.left.height,h=c+this.left.length+this.break,m=n==zr.ByHeight?e<d:e<h,g=m?this.left.lineAt(e,n,i,a,c):this.right.lineAt(e,n,i,d,h);if(this.break||(m?g.to<h:g.from>h))return g;let b=n==zr.ByPosNoHeight?zr.ByPosNoHeight:zr.ByPos;return m?g.join(this.right.lineAt(h,b,i,d,h)):this.left.lineAt(h,b,i,a,c).join(g)}forEachLine(e,n,i,a,c,d){let h=a+this.left.height,m=c+this.left.length+this.break;if(this.break)e<m&&this.left.forEachLine(e,n,i,a,c,d),n>=m&&this.right.forEachLine(e,n,i,h,m,d);else{let g=this.lineAt(m,zr.ByPos,i,a,c);e<g.from&&this.left.forEachLine(e,g.from-1,i,a,c,d),g.to>=e&&g.from<=n&&d(g),n>g.to&&this.right.forEachLine(g.to+1,n,i,h,m,d)}}replace(e,n,i){let a=this.left.length+this.break;if(n<a)return this.balanced(this.left.replace(e,n,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-a,n-a,i));let c=[];e>0&&this.decomposeLeft(e,c);let d=c.length;for(let h of i)c.push(h);if(e>0&&d2e(c,d-1),n<this.length){let h=c.length;this.decomposeRight(n,c),d2e(c,h)}return ml.of(c)}decomposeLeft(e,n){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(i++,e>=i&&n.push(null)),e>i&&this.right.decomposeLeft(e-i,n)}decomposeRight(e,n){let i=this.left.length,a=i+this.break;if(e>=a)return this.right.decomposeRight(e-a,n);e<i&&this.left.decomposeRight(e,n),this.break&&e<a&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?ml.of(this.break?[e,null,n]:[e,n]):(this.left=gk(this.left,e),this.right=gk(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,i=!1,a){let{left:c,right:d}=this,h=n+c.length+this.break,m=null;return a&&a.from<=n+c.length&&a.more?m=c=c.updateHeight(e,n,i,a):c.updateHeight(e,n,i),a&&a.from<=h+d.length&&a.more?m=d=d.updateHeight(e,h,i,a):d.updateHeight(e,h,i),m?this.balanced(c,d):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};function d2e(t,e){let n,i;t[e]==null&&(n=t[e-1])instanceof M0&&(i=t[e+1])instanceof M0&&t.splice(e-1,3,new M0(n.length+1+i.length))}var Vht=5,Az=class t{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let i=Math.min(n,this.lineEnd),a=this.nodes[this.nodes.length-1];a instanceof uc?a.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new uc(i-this.pos,-1)),this.writtenTo=i,n>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,i){if(e<n||i.heightRelevant){let a=i.widget?i.widget.estimatedHeight:0,c=i.widget?i.widget.lineBreaks:0;a<0&&(a=this.oracle.lineHeight);let d=n-e;i.block?this.addBlock(new vk(d,a,i)):(d||c||a>=Vht)&&this.addLineDeco(a,c,d)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new uc(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let i=new M0(n-e);return this.oracle.doc.lineAt(e).to==n&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof uc)return e;let n=new uc(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,i){let a=this.ensureLine();a.length+=i,a.collapsed+=i,a.widgetHeight=Math.max(a.widgetHeight,e),a.breaks+=n,this.writtenTo=this.pos=this.pos+i}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof uc)&&!this.isCovered?this.nodes.push(new uc(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let a of this.nodes)a instanceof uc&&a.updateHeight(this.oracle,i),i+=a?a.length:1;return this.nodes}static build(e,n,i,a){let c=new t(i,e);return li.spans(n,i,a,c,0),c.finish(i)}};function zht(t,e,n){let i=new Rz;return li.compare(t,e,n,i,0),i.changes}var Rz=class{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,i,a){(e<n||i&&i.heightRelevant||a&&a.heightRelevant)&&bz(e,n,this.changes,5)}};function Hht(t,e){let n=t.getBoundingClientRect(),i=t.ownerDocument,a=i.defaultView||window,c=Math.max(0,n.left),d=Math.min(a.innerWidth,n.right),h=Math.max(0,n.top),m=Math.min(a.innerHeight,n.bottom);for(let g=t.parentNode;g&&g!=i.body;)if(g.nodeType==1){let b=g,E=window.getComputedStyle(b);if((b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth)&&E.overflow!="visible"){let _=b.getBoundingClientRect();c=Math.max(c,_.left),d=Math.min(d,_.right),h=Math.max(h,_.top),m=Math.min(g==t.parentNode?a.innerHeight:m,_.bottom)}g=E.position=="absolute"||E.position=="fixed"?b.offsetParent:b.parentNode}else if(g.nodeType==11)g=g.host;else break;return{left:c-n.left,right:Math.max(c,d)-n.left,top:h-(n.top+e),bottom:Math.max(h,m)-(n.top+e)}}function Uht(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}var o4=class{constructor(e,n,i){this.from=e,this.to=n,this.size=i}static same(e,n){if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){let a=e[i],c=n[i];if(a.from!=c.from||a.to!=c.to||a.size!=c.size)return!1}return!0}draw(e,n){return Xt.replace({widget:new Lz(this.size*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}},Lz=class extends lu{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}},yk=class{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=f2e,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Hr.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(_z).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new Pz(n),this.stateDeco=e.facet(h4).filter(i=>typeof i!="function"),this.heightMap=ml.empty().applyChanges(this.stateDeco,kn.empty,this.heightOracle.setDoc(e.doc),[new Ld(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Xt.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let i=0;i<=1;i++){let a=i?n.head:n.anchor;if(!e.some(({from:c,to:d})=>a>=c&&a<=d)){let{from:c,to:d}=this.lineBlockAt(a);e.push(new Ob(c,d))}}return this.viewports=e.sort((i,a)=>i.from-a.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?f2e:new $z(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(e4(e,this.scaler))})}update(e,n=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(h4).filter(b=>typeof b!="function");let a=e.changedRanges,c=Ld.extendWithRanges(a,zht(i,this.stateDeco,e?e.changes:Pa.empty(this.state.doc.length))),d=this.heightMap.height,h=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);u2e(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),c),(this.heightMap.height!=d||Ib)&&(e.flags|=2),h?(this.scrollAnchorPos=e.changes.mapPos(h.from,-1),this.scrollAnchorHeight=h.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let m=c.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<m.from||n.range.head>m.to)||!this.viewportIsAppropriate(m))&&(m=this.getViewport(0,n));let g=m.from!=this.viewport.from||m.to!=this.viewport.to;this.viewport=m,e.flags|=this.updateForViewport(),(g||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(rht)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,i=window.getComputedStyle(n),a=this.heightOracle,c=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Hr.RTL:Hr.LTR;let d=this.heightOracle.mustRefreshForWrapping(c),h=n.getBoundingClientRect(),m=d||this.mustMeasureContent||this.contentDOMHeight!=h.height;this.contentDOMHeight=h.height,this.mustMeasureContent=!1;let g=0,b=0;if(h.width&&h.height){let{scaleX:L,scaleY:V}=C2e(n,h);(L>.005&&Math.abs(this.scaleX-L)>.005||V>.005&&Math.abs(this.scaleY-V)>.005)&&(this.scaleX=L,this.scaleY=V,g|=8,d=m=!0)}let E=(parseInt(i.paddingTop)||0)*this.scaleY,_=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=E||this.paddingBottom!=_)&&(this.paddingTop=E,this.paddingBottom=_,g|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(a.lineWrapping&&(m=!0),this.editorWidth=e.scrollDOM.clientWidth,g|=8);let S=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=S&&(this.scrollAnchorHeight=-1,this.scrollTop=S),this.scrolledToBottom=D2e(e.scrollDOM);let D=(this.printing?Uht:Hht)(n,this.paddingTop),k=D.top-this.pixelViewport.top,I=D.bottom-this.pixelViewport.bottom;this.pixelViewport=D;let R=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(R!=this.inView&&(this.inView=R,R&&(m=!0)),!this.inView&&!this.scrollTarget)return 0;let $=h.width;if((this.contentDOMWidth!=$||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=h.width,this.editorHeight=e.scrollDOM.clientHeight,g|=8),m){let L=e.docView.measureVisibleLineHeights(this.viewport);if(a.mustRefreshForHeights(L)&&(d=!0),d||a.lineWrapping&&Math.abs($-this.contentDOMWidth)>a.charWidth){let{lineHeight:V,charWidth:G,textHeight:re}=e.docView.measureTextSize();d=V>0&&a.refresh(c,V,G,re,$/G,L),d&&(e.docView.minWidth=0,g|=8)}k>0&&I>0?b=Math.max(k,I):k<0&&I<0&&(b=Math.min(k,I)),u2e();for(let V of this.viewports){let G=V.from==this.viewport.from?L:e.docView.measureVisibleLineHeights(V);this.heightMap=(d?ml.empty().applyChanges(this.stateDeco,kn.empty,this.heightOracle,[new Ld(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(a,0,d,new Iz(V.from,G))}Ib&&(g|=2)}let F=!this.viewportIsAppropriate(this.viewport,b)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return F&&(g&2&&(g|=this.updateScaler()),this.viewport=this.getViewport(b,this.scrollTarget),g|=this.updateForViewport()),(g&2||F)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(d?[]:this.lineGaps,e)),g|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),g}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),a=this.heightMap,c=this.heightOracle,{visibleTop:d,visibleBottom:h}=this,m=new Ob(a.lineAt(d-i*1e3,zr.ByHeight,c,0,0).from,a.lineAt(h+(1-i)*1e3,zr.ByHeight,c,0,0).to);if(n){let{head:g}=n.range;if(g<m.from||g>m.to){let b=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),E=a.lineAt(g,zr.ByPos,c,0,0),_;n.y=="center"?_=(E.top+E.bottom)/2-b/2:n.y=="start"||n.y=="nearest"&&g<m.from?_=E.top:_=E.bottom-b,m=new Ob(a.lineAt(_-1e3/2,zr.ByHeight,c,0,0).from,a.lineAt(_+b+1e3/2,zr.ByHeight,c,0,0).to)}}return m}mapViewport(e,n){let i=n.mapPos(e.from,-1),a=n.mapPos(e.to,1);return new Ob(this.heightMap.lineAt(i,zr.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(a,zr.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},i=0){if(!this.inView)return!0;let{top:a}=this.heightMap.lineAt(e,zr.ByPos,this.heightOracle,0,0),{bottom:c}=this.heightMap.lineAt(n,zr.ByPos,this.heightOracle,0,0),{visibleTop:d,visibleBottom:h}=this;return(e==0||a<=d-Math.max(10,Math.min(-i,250)))&&(n==this.state.doc.length||c>=h+Math.max(10,Math.min(i,250)))&&a>d-2*1e3&&c<h+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let i=[];for(let a of e)n.touchesRange(a.from,a.to)||i.push(new o4(n.mapPos(a.from),n.mapPos(a.to),a.size));return i}ensureLineGaps(e,n){let i=this.heightOracle.lineWrapping,a=i?1e4:2e3,c=a>>1,d=a<<1;if(this.defaultTextDirection!=Hr.LTR&&!i)return[];let h=[],m=(b,E,_,S)=>{if(E-b<c)return;let D=this.state.selection.main,k=[D.from];D.empty||k.push(D.to);for(let R of k)if(R>b&&R<E){m(b,R-10,_,S),m(R+10,E,_,S);return}let I=Wht(e,R=>R.from>=_.from&&R.to<=_.to&&Math.abs(R.from-b)<c&&Math.abs(R.to-E)<c&&!k.some($=>R.from<$&&R.to>$));if(!I){if(E<_.to&&n&&i&&n.visibleRanges.some(R=>R.from<=E&&R.to>=E)){let R=n.moveToLineBoundary(ze.cursor(E),!1,!0).head;R>b&&(E=R)}I=new o4(b,E,this.gapSize(_,b,E,S))}h.push(I)},g=b=>{if(b.length<d||b.type!=dc.Text)return;let E=qht(b.from,b.to,this.stateDeco);if(E.total<d)return;let _=this.scrollTarget?this.scrollTarget.range.head:null,S,D;if(i){let k=a/this.heightOracle.lineLength*this.heightOracle.lineHeight,I,R;if(_!=null){let $=tk(E,_),F=((this.visibleBottom-this.visibleTop)/2+k)/b.height;I=$-F,R=$+F}else I=(this.visibleTop-b.top-k)/b.height,R=(this.visibleBottom-b.top+k)/b.height;S=ek(E,I),D=ek(E,R)}else{let k=E.total*this.heightOracle.charWidth,I=a*this.heightOracle.charWidth,R,$;if(_!=null){let F=tk(E,_),L=((this.pixelViewport.right-this.pixelViewport.left)/2+I)/k;R=F-L,$=F+L}else R=(this.pixelViewport.left-I)/k,$=(this.pixelViewport.right+I)/k;S=ek(E,R),D=ek(E,$)}S>b.from&&m(b.from,S,b,E),D<b.to&&m(D,b.to,b,E)};for(let b of this.viewportLines)Array.isArray(b.type)?b.type.forEach(g):g(b);return h}gapSize(e,n,i,a){let c=tk(a,i)-tk(a,n);return this.heightOracle.lineWrapping?e.height*c:a.total*this.heightOracle.charWidth*c}updateLineGaps(e){o4.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Xt.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];li.spans(e,this.viewport.from,this.viewport.to,{span(a,c){n.push({from:a,to:c})},point(){}},20);let i=n.length!=this.visibleRanges.length||this.visibleRanges.some((a,c)=>a.from!=n[c].from||a.to!=n[c].to);return this.visibleRanges=n,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||e4(this.heightMap.lineAt(e,zr.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||e4(this.heightMap.lineAt(this.scaler.fromDOM(e),zr.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return e4(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}},Ob=class{constructor(e,n){this.from=e,this.to=n}};function qht(t,e,n){let i=[],a=t,c=0;return li.spans(n,t,e,{span(){},point(d,h){d>a&&(i.push({from:a,to:d}),c+=d-a),a=h}},20),a<e&&(i.push({from:a,to:e}),c+=e-a),{total:c,ranges:i}}function ek({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let i=Math.floor(t*n);for(let a=0;;a++){let{from:c,to:d}=e[a],h=d-c;if(i<=h)return c+i;i-=h}}function tk(t,e){let n=0;for(let{from:i,to:a}of t.ranges){if(e<=a){n+=e-i;break}n+=a-i}return n/t.total}function Wht(t,e){for(let n of t)if(e(n))return n}var f2e={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}},$z=class t{constructor(e,n,i){let a=0,c=0,d=0;this.viewports=i.map(({from:h,to:m})=>{let g=n.lineAt(h,zr.ByPos,e,0,0).top,b=n.lineAt(m,zr.ByPos,e,0,0).bottom;return a+=b-g,{from:h,to:m,top:g,bottom:b,domTop:0,domBottom:0}}),this.scale=(7e6-a)/(n.height-a);for(let h of this.viewports)h.domTop=d+(h.top-c)*this.scale,d=h.domBottom=h.domTop+(h.bottom-h.top),c=h.bottom}toDOM(e){for(let n=0,i=0,a=0;;n++){let c=n<this.viewports.length?this.viewports[n]:null;if(!c||e<c.top)return a+(e-i)*this.scale;if(e<=c.bottom)return c.domTop+(e-c.top);i=c.bottom,a=c.domBottom}}fromDOM(e){for(let n=0,i=0,a=0;;n++){let c=n<this.viewports.length?this.viewports[n]:null;if(!c||e<c.domTop)return i+(e-a)/this.scale;if(e<=c.domBottom)return c.top+(e-c.domTop);i=c.bottom,a=c.domBottom}}eq(e){return e instanceof t?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,i)=>n.from==e.viewports[i].from&&n.to==e.viewports[i].to):!1}};function e4(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),i=e.toDOM(t.bottom);return new Ad(t.from,t.length,n,i-n,Array.isArray(t._content)?t._content.map(a=>e4(a,e)):t._content)}var nk=ct.define({combine:t=>t.join(" ")}),lz=ct.define({combine:t=>t.indexOf(!0)>-1}),Nz=cc.newName(),fbe=cc.newName(),hbe=cc.newName(),pbe={"&light":"."+fbe,"&dark":"."+hbe};function Fz(t,e,n){return new cc(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,a=>{if(a=="&")return t;if(!n||!n[a])throw new RangeError(`Unsupported selector: ${a}`);return n[a]}):t+" "+i}})}var Ght=Fz("."+Nz,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},pbe),Qht={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},cz=dt.ie&&dt.ie_version<=11,Bz=class{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new hz,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let i of n)this.queue.push(i);(dt.ie&&dt.ie_version<=11||dt.ios&&e.composing)&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(dt.chrome&&dt.chrome_version<126)&&(this.editContext=new jz(e),e.state.facet(P0)&&(e.contentDOM.editContext=this.editContext.editContext)),cz&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,i)=>n!=e[i]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,a=this.selectionRange;if(i.state.facet(P0)?i.root.activeElement!=this.dom:!ok(i.dom,a))return;let c=a.anchorNode&&i.docView.nearest(a.anchorNode);if(c&&c.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(dt.ie&&dt.ie_version<=11||dt.android&&dt.chrome)&&!i.state.selection.main.empty&&a.focusNode&&t4(a.focusNode,a.focusOffset,a.anchorNode,a.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=a4(e.root);if(!n)return!1;let i=dt.safari&&e.root.nodeType==11&&Nft(this.dom.ownerDocument)==this.dom&&Yht(this.view,n)||n;if(!i||this.selectionRange.eq(i))return!1;let a=ok(this.dom,i);return a&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&zft(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),a&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let i=this.dom;i;)if(i.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=n)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Qht),cz&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),cz&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var i;if(!this.delayedAndroidKey){let a=()=>{let c=this.delayedAndroidKey;c&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=c.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&c.force&&kb(this.dom,c.key,c.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(a)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,i=-1,a=!1;for(let c of e){let d=this.readMutation(c);d&&(d.typeOver&&(a=!0),n==-1?{from:n,to:i}=d:(n=Math.min(d.from,n),i=Math.max(d.to,i)))}return{from:n,to:i,typeOver:a}}readChange(){let{from:e,to:n,typeOver:i}=this.processRecords(),a=this.selectionChanged&&ok(this.dom,this.selectionRange);if(e<0&&!a)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let c=new Oz(this.view,e,n,i);return this.view.docView.domChanged={newSel:c.newSel?c.newSel.main:null},c}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let i=this.view.state,a=rbe(this.view,n);return this.view.state==i&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),a}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let i=h2e(n,e.previousSibling||e.target.previousSibling,-1),a=h2e(n,e.nextSibling||e.target.nextSibling,1);return{from:i?n.posAfter(i):n.posAtStart,to:a?n.posBefore(a):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(P0)!=e.state.facet(P0)&&(e.view.contentDOM.editContext=e.state.facet(P0)?this.editContext.editContext:null))}destroy(){var e,n,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}};function h2e(t,e,n){for(;e;){let i=Ir.get(e);if(i&&i.parent==t)return i;let a=e.parentNode;e=a!=t.dom?a:n>0?e.nextSibling:e.previousSibling}return null}function p2e(t,e){let n=e.startContainer,i=e.startOffset,a=e.endContainer,c=e.endOffset,d=t.docView.domAtPos(t.state.selection.main.anchor);return t4(d.node,d.offset,a,c)&&([n,i,a,c]=[a,c,n,i]),{anchorNode:n,anchorOffset:i,focusNode:a,focusOffset:c}}function Yht(t,e){if(e.getComposedRanges){let a=e.getComposedRanges(t.root)[0];if(a)return p2e(t,a)}let n=null;function i(a){a.preventDefault(),a.stopImmediatePropagation(),n=a.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",i,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",i,!0),n?p2e(t,n):null}var jz=class{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let{anchor:a}=e.state.selection.main,c={from:this.toEditorPos(i.updateRangeStart),to:this.toEditorPos(i.updateRangeEnd),insert:kn.of(i.text.split(`
`))};c.from==this.from&&a<this.from?c.from=a:c.to==this.to&&a>this.to&&(c.to=a),!(c.from==c.to&&!c.insert.length)&&(this.pendingContextChange=c,e.state.readOnly||Xz(e,c,ze.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=i=>{let a=[],c=null;for(let d=this.toEditorPos(i.rangeStart),h=this.toEditorPos(i.rangeEnd);d<h;d++){let m=e.coordsForChar(d);c=m&&new DOMRect(m.left,m.top,m.right-m.left,m.bottom-m.top)||c||new DOMRect,a.push(c)}n.updateCharacterBounds(i.rangeStart,a)},this.handlers.textformatupdate=i=>{let a=[];for(let c of i.getTextFormats()){let d=c.underlineStyle,h=c.underlineThickness;if(d!="None"&&h!="None"){let m=`text-decoration: underline ${d=="Dashed"?"dashed ":d=="Squiggle"?"wavy ":""}${h=="Thin"?1:2}px`;a.push(Xt.mark({attributes:{style:m}}).range(this.toEditorPos(c.rangeStart),this.toEditorPos(c.rangeEnd)))}}e.dispatch({effects:X2e.of(Xt.set(a))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{e.inputState.composing=-1,e.inputState.compositionFirstChange=null};for(let i in this.handlers)n.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let a=a4(i.root);a&&a.rangeCount&&this.editContext.updateSelectionBounds(a.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,i=!1,a=this.pendingContextChange;return e.changes.iterChanges((c,d,h,m,g)=>{if(i)return;let b=g.length-(d-c);if(a&&d>=a.to)if(a.from==c&&a.to==d&&a.insert.eq(g)){a=this.pendingContextChange=null,n+=b,this.to+=b;return}else a=null,this.revertPending(e.state);if(c+=n,d+=n,d<=this.from)this.from+=b,this.to+=b;else if(c<this.to){if(c<this.from||d>this.to||this.to-this.from+g.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(c),this.toContextPos(d),g.toString()),this.to+=b}n+=b}),a&&!i&&this.revertPending(e.state),!i}update(e){let n=this.pendingContextChange;!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.resetRange(e.state),this.editContext.updateText(0,this.editContext.text.length,e.state.doc.sliceString(this.from,this.to)),this.setSelection(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),a=this.toContextPos(n.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=a)&&this.editContext.updateSelection(i,a)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e){return e+this.from}toContextPos(e){return e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}},It=(()=>{class t{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(n={}){var i;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),n.parent&&n.parent.appendChild(this.dom);let{dispatch:a}=n;this.dispatchTransactions=n.dispatchTransactions||a&&(c=>c.forEach(d=>a(d,this)))||(c=>this.update(c)),this.dispatch=this.dispatch.bind(this),this._root=n.root||Vft(n.parent)||document,this.viewState=new yk(n.state||is.create(n)),n.scrollTo&&n.scrollTo.is(KT)&&(this.viewState.scrollTarget=n.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Z5).map(c=>new i4(c));for(let c of this.plugins)c.update(this);this.observer=new Bz(this),this.inputState=new Dz(this),this.inputState.ensureHandlers(this.plugins),this.docView=new pk(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((i=document.fonts)===null||i===void 0)&&i.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...n){let i=n.length==1&&n[0]instanceof su?n:n.length==1&&Array.isArray(n[0])?n[0]:[this.state.update(...n)];this.dispatchTransactions(i,this)}update(n){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let i=!1,a=!1,c,d=this.state;for(let S of n){if(S.startState!=d)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");d=S.state}if(this.destroyed){this.viewState.state=d;return}let h=this.hasFocus,m=0,g=null;n.some(S=>S.annotation(cbe))?(this.inputState.notifiedFocused=h,m=1):h!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=h,g=ube(d,h),g||(m=1));let b=this.observer.delayedAndroidKey,E=null;if(b?(this.observer.clearDelayedAndroidKey(),E=this.observer.readChange(),(E&&!this.state.doc.eq(d.doc)||!this.state.selection.eq(d.selection))&&(E=null)):this.observer.clear(),d.facet(is.phrases)!=this.state.facet(is.phrases))return this.setState(d);c=hk.create(this,d,n),c.flags|=m;let _=this.viewState.scrollTarget;try{this.updateState=2;for(let S of n){if(_&&(_=_.map(S.changes)),S.scrollIntoView){let{main:D}=S.state.selection;_=new r4(D.empty?D:ze.cursor(D.head,D.head>D.anchor?-1:1))}for(let D of S.effects)D.is(KT)&&(_=D.value.clip(this.state))}this.viewState.update(c,_),this.bidiCache=bk.update(this.bidiCache,c.changes),c.empty||(this.updatePlugins(c),this.inputState.update(c)),i=this.docView.update(c),this.state.facet(X5)!=this.styleModules&&this.mountStyles(),a=this.updateAttrs(),this.showAnnouncements(n),this.docView.updateSelection(i,n.some(S=>S.isUserEvent("select.pointer")))}finally{this.updateState=0}if(c.startState.facet(nk)!=c.state.facet(nk)&&(this.viewState.mustMeasureContent=!0),(i||a||_||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),i&&this.docViewUpdate(),!c.empty)for(let S of this.state.facet(oz))try{S(c)}catch(D){$o(this.state,D,"update listener")}(g||E)&&Promise.resolve().then(()=>{g&&this.state==g.startState&&this.dispatch(g),E&&!rbe(this,E)&&b.force&&kb(this.contentDOM,b.key,b.keyCode)})}setState(n){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=n;return}this.updateState=2;let i=this.hasFocus;try{for(let a of this.plugins)a.destroy(this);this.viewState=new yk(n),this.plugins=n.facet(Z5).map(a=>new i4(a)),this.pluginMap.clear();for(let a of this.plugins)a.update(this);this.docView.destroy(),this.docView=new pk(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}i&&this.focus(),this.requestMeasure()}updatePlugins(n){let i=n.startState.facet(Z5),a=n.state.facet(Z5);if(i!=a){let c=[];for(let d of a){let h=i.indexOf(d);if(h<0)c.push(new i4(d));else{let m=this.plugins[h];m.mustUpdate=n,c.push(m)}}for(let d of this.plugins)d.mustUpdate!=n&&d.destroy(this);this.plugins=c,this.pluginMap.clear()}else for(let c of this.plugins)c.mustUpdate=n;for(let c=0;c<this.plugins.length;c++)this.plugins[c].update(this);i!=a&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let n of this.plugins){let i=n.value;if(i&&i.docViewUpdate)try{i.docViewUpdate(this)}catch(a){$o(this.state,a,"doc view update listener")}}}measure(n=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,n&&this.observer.forceFlush();let i=null,a=this.scrollDOM,c=a.scrollTop*this.scaleY,{scrollAnchorPos:d,scrollAnchorHeight:h}=this.viewState;Math.abs(c-this.viewState.scrollTop)>1&&(h=-1),this.viewState.scrollAnchorHeight=-1;try{for(let m=0;;m++){if(h<0)if(D2e(a))d=-1,h=this.viewState.heightMap.height;else{let D=this.viewState.scrollAnchorAt(c);d=D.from,h=D.top}this.updateState=1;let g=this.viewState.measure(this);if(!g&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(m>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let b=[];g&4||([this.measureRequests,b]=[b,this.measureRequests]);let E=b.map(D=>{try{return D.read(this)}catch(k){return $o(this.state,k),m2e}}),_=hk.create(this,this.state,[]),S=!1;_.flags|=g,i?i.flags|=g:i=_,this.updateState=2,_.empty||(this.updatePlugins(_),this.inputState.update(_),this.updateAttrs(),S=this.docView.update(_),S&&this.docViewUpdate());for(let D=0;D<b.length;D++)if(E[D]!=m2e)try{let k=b[D];k.write&&k.write(E[D],this)}catch(k){$o(this.state,k)}if(S&&this.docView.updateSelection(!0),!_.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,h=-1;continue}else{let k=(d<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(d).top)-h;if(k>1||k<-1){c=c+k,a.scrollTop=c/this.scaleY,h=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(i&&!i.empty)for(let m of this.state.facet(oz))m(i)}get themeClasses(){return Nz+" "+(this.state.facet(lz)?hbe:fbe)+" "+this.state.facet(nk)}updateAttrs(){let n=g2e(this,Gye,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),i={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(P0)?"true":"false",class:"cm-content",style:`${dt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(i["aria-readonly"]="true"),g2e(this,_z,i);let a=this.observer.ignore(()=>{let c=yz(this.contentDOM,this.contentAttrs,i),d=yz(this.dom,this.editorAttrs,n);return c||d});return this.editorAttrs=n,this.contentAttrs=i,a}showAnnouncements(n){let i=!0;for(let a of n)for(let c of a.effects)if(c.is(t.announce)){i&&(this.announceDOM.textContent=""),i=!1;let d=this.announceDOM.appendChild(document.createElement("div"));d.textContent=c.value}}mountStyles(){this.styleModules=this.state.facet(X5);let n=this.state.facet(t.cspNonce);cc.mount(this.root,this.styleModules.concat(Ght).reverse(),n?{nonce:n}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(n){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),n){if(this.measureRequests.indexOf(n)>-1)return;if(n.key!=null){for(let i=0;i<this.measureRequests.length;i++)if(this.measureRequests[i].key===n.key){this.measureRequests[i]=n;return}}this.measureRequests.push(n)}}plugin(n){let i=this.pluginMap.get(n);return(i===void 0||i&&i.spec!=n)&&this.pluginMap.set(n,i=this.plugins.find(a=>a.spec==n)||null),i&&i.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(n){return this.readMeasured(),this.viewState.elementAtHeight(n)}lineBlockAtHeight(n){return this.readMeasured(),this.viewState.lineBlockAtHeight(n)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(n){return this.viewState.lineBlockAt(n)}get contentHeight(){return this.viewState.contentHeight}moveByChar(n,i,a){return az(this,n,Jye(this,n,i,a))}moveByGroup(n,i){return az(this,n,Jye(this,n,i,a=>bht(this,n.head,a)))}visualLineSide(n,i){let a=this.bidiSpans(n),c=this.textDirectionAt(n.from),d=a[i?a.length-1:0];return ze.cursor(d.side(i,c)+n.from,d.forward(!i,c)?1:-1)}moveToLineBoundary(n,i,a=!0){return yht(this,n,i,a)}moveVertically(n,i,a){return az(this,n,xht(this,n,i,a))}domAtPos(n){return this.docView.domAtPos(n)}posAtDOM(n,i=0){return this.docView.posFromDOM(n,i)}posAtCoords(n,i=!0){return this.readMeasured(),nbe(this,n,i)}coordsAtPos(n,i=1){this.readMeasured();let a=this.docView.coordsAt(n,i);if(!a||a.left==a.right)return a;let c=this.state.doc.lineAt(n),d=this.bidiSpans(c),h=d[Rd.find(d,n-c.from,-1,i)];return p4(a,h.dir==Hr.LTR==i>0)}coordsForChar(n){return this.readMeasured(),this.docView.coordsForChar(n)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(n){return!this.state.facet(Wye)||n<this.viewport.from||n>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(n))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(n){if(n.length>Xht)return V2e(n.length);let i=this.textDirectionAt(n.from),a;for(let d of this.bidiCache)if(d.from==n.from&&d.dir==i&&(d.fresh||j2e(d.isolates,a=Qye(this,n))))return d.order;a||(a=Qye(this,n));let c=eht(n.text,i,a);return this.bidiCache.push(new bk(n.from,n.to,i,a,!0,c)),c}get hasFocus(){var n;return(this.dom.ownerDocument.hasFocus()||dt.safari&&((n=this.inputState)===null||n===void 0?void 0:n.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{S2e(this.contentDOM),this.docView.updateSelection()})}setRoot(n){this._root!=n&&(this._root=n,this.observer.setWindow((n.nodeType==9?n:n.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let n of this.plugins)n.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(n,i={}){return KT.of(new r4(typeof n=="number"?ze.cursor(n):n,i.y,i.x,i.yMargin,i.xMargin))}scrollSnapshot(){let{scrollTop:n,scrollLeft:i}=this.scrollDOM,a=this.viewState.scrollAnchorAt(n);return KT.of(new r4(ze.cursor(a.from),"start","start",a.top-n,i,!0))}setTabFocusMode(n){n==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof n=="boolean"?this.inputState.tabFocusMode=n?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+n)}static domEventHandlers(n){return Os.define(()=>({}),{eventHandlers:n})}static domEventObservers(n){return Os.define(()=>({}),{eventObservers:n})}static theme(n,i){let a=cc.newName(),c=[nk.of(a),X5.of(Fz(`.${a}`,n))];return i&&i.dark&&c.push(lz.of(!0)),c}static baseTheme(n){return th.lowest(X5.of(Fz("."+Nz,n,pbe)))}static findFromDOM(n){var i;let a=n.querySelector(".cm-content"),c=a&&Ir.get(a)||Ir.get(n);return((i=c?.rootView)===null||i===void 0?void 0:i.view)||null}}return t.styleModule=X5,t.inputHandler=G2e,t.scrollHandler=Y2e,t.focusChangeEffect=Q2e,t.perLineTextDirection=Wye,t.exceptionSink=W2e,t.updateListener=oz,t.editable=P0,t.mouseSelectionStyle=q2e,t.dragMovesSelection=U2e,t.clickAddsSelectionRange=H2e,t.decorations=h4,t.outerDecorations=K2e,t.atomicRanges=Yz,t.bidiIsolatedRanges=Z2e,t.scrollMargins=J2e,t.darkTheme=lz,t.cspNonce=ct.define({combine:e=>e.length?e[0]:""}),t.contentAttributes=_z,t.editorAttributes=Gye,t.lineWrapping=t.contentAttributes.of({class:"cm-lineWrapping"}),t.announce=Zn.define(),t})(),Xht=4096,m2e={},bk=class t{constructor(e,n,i,a,c,d){this.from=e,this.to=n,this.dir=i,this.isolates=a,this.fresh=c,this.order=d}static update(e,n){if(n.empty&&!e.some(c=>c.fresh))return e;let i=[],a=e.length?e[e.length-1].dir:Hr.LTR;for(let c=Math.max(0,e.length-10);c<e.length;c++){let d=e[c];d.dir==a&&!n.touchesRange(d.from,d.to)&&i.push(new t(n.mapPos(d.from,1),n.mapPos(d.to,-1),d.dir,d.isolates,!1,d.order))}return i}};function g2e(t,e,n){for(let i=t.state.facet(e),a=i.length-1;a>=0;a--){let c=i[a],d=typeof c=="function"?c(t):c;d&&vz(d,n)}return n}var Kht=dt.mac?"mac":dt.windows?"win":dt.linux?"linux":"key";function Zht(t,e){let n=t.split(/-(?!$)/),i=n[n.length-1];i=="Space"&&(i=" ");let a,c,d,h;for(let m=0;m<n.length-1;++m){let g=n[m];if(/^(cmd|meta|m)$/i.test(g))h=!0;else if(/^a(lt)?$/i.test(g))a=!0;else if(/^(c|ctrl|control)$/i.test(g))c=!0;else if(/^s(hift)?$/i.test(g))d=!0;else if(/^mod$/i.test(g))e=="mac"?h=!0:c=!0;else throw new Error("Unrecognized modifier name: "+g)}return a&&(i="Alt-"+i),c&&(i="Ctrl-"+i),h&&(i="Meta-"+i),d&&(i="Shift-"+i),i}function rk(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}var Jht=th.default(It.domEventHandlers({keydown(t,e){return rpt(ept(e.state),t,e,"editor")}})),L0=ct.define({enables:Jht}),v2e=new WeakMap;function ept(t){let e=t.facet(L0),n=v2e.get(e);return n||v2e.set(e,n=npt(e.reduce((i,a)=>i.concat(a),[]))),n}var I0=null,tpt=4e3;function npt(t,e=Kht){let n=Object.create(null),i=Object.create(null),a=(d,h)=>{let m=i[d];if(m==null)i[d]=h;else if(m!=h)throw new Error("Key binding "+d+" is used both as a regular binding and as a multi-stroke prefix")},c=(d,h,m,g,b)=>{var E,_;let S=n[d]||(n[d]=Object.create(null)),D=h.split(/ (?!$)/).map(R=>Zht(R,e));for(let R=1;R<D.length;R++){let $=D.slice(0,R).join(" ");a($,!0),S[$]||(S[$]={preventDefault:!0,stopPropagation:!1,run:[F=>{let L=I0={view:F,prefix:$,scope:d};return setTimeout(()=>{I0==L&&(I0=null)},tpt),!0}]})}let k=D.join(" ");a(k,!1);let I=S[k]||(S[k]={preventDefault:!1,stopPropagation:!1,run:((_=(E=S._any)===null||E===void 0?void 0:E.run)===null||_===void 0?void 0:_.slice())||[]});m&&I.run.push(m),g&&(I.preventDefault=!0),b&&(I.stopPropagation=!0)};for(let d of t){let h=d.scope?d.scope.split(" "):["editor"];if(d.any)for(let g of h){let b=n[g]||(n[g]=Object.create(null));b._any||(b._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:E}=d;for(let _ in b)b[_].run.push(S=>E(S,Vz))}let m=d[e]||d.key;if(m)for(let g of h)c(g,m,d.run,d.preventDefault,d.stopPropagation),d.shift&&c(g,"Shift-"+m,d.shift,d.preventDefault,d.stopPropagation)}return n}var Vz=null;function rpt(t,e,n,i){Vz=e;let a=Nye(e),c=ta(a,0),d=lc(c)==a.length&&a!=" ",h="",m=!1,g=!1,b=!1;I0&&I0.view==n&&I0.scope==i&&(h=I0.prefix+" ",obe.indexOf(e.keyCode)<0&&(g=!0,I0=null));let E=new Set,_=I=>{if(I){for(let R of I.run)if(!E.has(R)&&(E.add(R),R(n)))return I.stopPropagation&&(b=!0),!0;I.preventDefault&&(I.stopPropagation&&(b=!0),g=!0)}return!1},S=t[i],D,k;return S&&(_(S[h+rk(a,e,!d)])?m=!0:d&&(e.altKey||e.metaKey||e.ctrlKey)&&!(dt.windows&&e.ctrlKey&&e.altKey)&&(D=rh[e.keyCode])&&D!=a?(_(S[h+rk(D,e,!0)])||e.shiftKey&&(k=Cb[e.keyCode])!=a&&k!=D&&_(S[h+rk(k,e,!1)]))&&(m=!0):d&&e.shiftKey&&_(S[h+rk(a,e,!0)])&&(m=!0),!m&&_(S._any)&&(m=!0)),g&&(m=!0),m&&b&&e.stopPropagation(),Vz=null,m}var ipt=!dt.ios;var y2e={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};ipt&&(y2e[".cm-line"].caretColor=y2e[".cm-content"].caretColor="transparent !important");var zan=/x/.unicode!=null?"gu":"g";var zz=class extends lu{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let n=e.firstChild?Pb(e.firstChild):[];if(!n.length)return null;let i=window.getComputedStyle(e.parentNode),a=p4(n[0],i.direction!="rtl"),c=parseInt(i.lineHeight);return a.bottom-a.top>c*1.5?{left:a.left,right:a.right,top:a.top,bottom:a.top+c}:a}ignoreEvent(){return!1}};function Kz(t){return Os.fromClass(class{constructor(e){this.view=e,this.placeholder=t?Xt.set([Xt.widget({widget:new zz(t),side:1}).range(0)]):Xt.none}get decorations(){return this.view.state.doc.length?Xt.none:this.placeholder}},{decorations:e=>e.decorations})}var K5="-10000px",xk=class{constructor(e,n,i,a){this.facet=n,this.createTooltipView=i,this.removeTooltipView=a,this.input=e.state.facet(n),this.tooltips=this.input.filter(d=>d);let c=null;this.tooltipViews=this.tooltips.map(d=>c=i(d,c))}update(e,n){var i;let a=e.state.facet(this.facet),c=a.filter(m=>m);if(a===this.input){for(let m of this.tooltipViews)m.update&&m.update(e);return!1}let d=[],h=n?[]:null;for(let m=0;m<c.length;m++){let g=c[m],b=-1;if(g){for(let E=0;E<this.tooltips.length;E++){let _=this.tooltips[E];_&&_.create==g.create&&(b=E)}if(b<0)d[m]=this.createTooltipView(g,m?d[m-1]:null),h&&(h[m]=!!g.above);else{let E=d[m]=this.tooltipViews[b];h&&(h[m]=n[b]),E.update&&E.update(e)}}}for(let m of this.tooltipViews)d.indexOf(m)<0&&(this.removeTooltipView(m),(i=m.destroy)===null||i===void 0||i.call(m));return n&&(h.forEach((m,g)=>n[g]=m),n.length=h.length),this.input=a,this.tooltips=c,this.tooltipViews=d,!0}};function Dk(t={}){return lk.of(t)}function opt(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}var lk=ct.define({combine:t=>{var e,n,i;return{position:dt.ios?"absolute":((e=t.find(a=>a.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(a=>a.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((i=t.find(a=>a.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||opt}}}),b2e=new WeakMap,Zz=Os.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(lk);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new xk(t,m4,(n,i)=>this.createTooltip(n,i),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,i=t.state.facet(lk);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let a of this.manager.tooltipViews)a.dom.style.position=this.position;n=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let a of this.manager.tooltipViews)this.container.appendChild(a.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),i=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let a=document.createElement("div");a.className="cm-tooltip-arrow",n.dom.appendChild(a)}return n.dom.style.position=this.position,n.dom.style.top=K5,n.dom.style.left="0px",this.container.insertBefore(n.dom,i),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(t=i.destroy)===null||t===void 0||t.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,i=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(dt.gecko)i=a.offsetParent!=this.container.ownerDocument.body;else if(a.style.top==K5&&a.style.left=="0px"){let c=a.getBoundingClientRect();i=Math.abs(c.top+1e4)>1||Math.abs(c.left)>1}}if(i||this.position=="absolute")if(this.parent){let a=this.parent.getBoundingClientRect();a.width&&a.height&&(e=a.width/this.parent.offsetWidth,n=a.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((a,c)=>{let d=this.manager.tooltipViews[c];return d.getCoords?d.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(lk).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:i}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let h of this.manager.tooltipViews)h.dom.style.position="absolute"}let{editor:n,space:i,scaleX:a,scaleY:c}=t,d=[];for(let h=0;h<this.manager.tooltips.length;h++){let m=this.manager.tooltips[h],g=this.manager.tooltipViews[h],{dom:b}=g,E=t.pos[h],_=t.size[h];if(!E||E.bottom<=Math.max(n.top,i.top)||E.top>=Math.min(n.bottom,i.bottom)||E.right<Math.max(n.left,i.left)-.1||E.left>Math.min(n.right,i.right)+.1){b.style.top=K5;continue}let S=m.arrow?g.dom.querySelector(".cm-tooltip-arrow"):null,D=S?7:0,k=_.right-_.left,I=(e=b2e.get(g))!==null&&e!==void 0?e:_.bottom-_.top,R=g.offset||apt,$=this.view.textDirection==Hr.LTR,F=_.width>i.right-i.left?$?i.left:i.right-_.width:$?Math.max(i.left,Math.min(E.left-(S?14:0)+R.x,i.right-k)):Math.min(Math.max(i.left,E.left-k+(S?14:0)-R.x),i.right-k),L=this.above[h];!m.strictSide&&(L?E.top-(_.bottom-_.top)-R.y<i.top:E.bottom+(_.bottom-_.top)+R.y>i.bottom)&&L==i.bottom-E.bottom>E.top-i.top&&(L=this.above[h]=!L);let V=(L?E.top-i.top:i.bottom-E.bottom)-D;if(V<I&&g.resize!==!1){if(V<this.view.defaultLineHeight){b.style.top=K5;continue}b2e.set(g,I),b.style.height=(I=V)/c+"px"}else b.style.height&&(b.style.height="");let G=L?E.top-I-D-R.y:E.bottom+D+R.y,re=F+k;if(g.overlap!==!0)for(let ee of d)ee.left<re&&ee.right>F&&ee.top<G+I&&ee.bottom>G&&(G=L?ee.top-I-2-D:ee.bottom+D+2);if(this.position=="absolute"?(b.style.top=(G-t.parent.top)/c+"px",b.style.left=(F-t.parent.left)/a+"px"):(b.style.top=G/c+"px",b.style.left=F/a+"px"),S){let ee=E.left+($?R.x:-R.x)-(F+14-7);S.style.left=ee/a+"px"}g.overlap!==!0&&d.push({left:F,top:G,right:re,bottom:G+I}),b.classList.toggle("cm-tooltip-above",L),b.classList.toggle("cm-tooltip-below",!L),g.positioned&&g.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=K5}},{eventObservers:{scroll(){this.maybeMeasure()}}}),spt=It.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),apt={x:0,y:0},m4=ct.define({enables:[Zz,spt]}),Ek=ct.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])}),wk=class t{static create(e){return new t(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new xk(e,Ek,(n,i)=>this.createHostedView(n,i),n=>n.dom.remove())}createHostedView(e,n){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let i of this.manager.tooltipViews){let a=i[e];if(a!==void 0){if(n===void 0)n=a;else if(n!==a)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}},lpt=m4.compute([Ek],t=>{let e=t.facet(Ek);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var i;return(i=n.end)!==null&&i!==void 0?i:n.pos})),create:wk.create,above:e[0].above,arrow:e.some(n=>n.arrow)}}),Hz=class{constructor(e,n,i,a,c){this.view=e,this.source=n,this.field=i,this.setHover=a,this.hoverTime=c,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,i=e.docView.nearest(n.target);if(!i)return;let a,c=1;if(i instanceof l4)a=i.posAtStart;else{if(a=e.posAtCoords(n),a==null)return;let h=e.coordsAtPos(a);if(!h||n.y<h.top||n.y>h.bottom||n.x<h.left-e.defaultCharacterWidth||n.x>h.right+e.defaultCharacterWidth)return;let m=e.bidiSpans(e.state.doc.lineAt(a)).find(b=>b.from<=a&&b.to>=a),g=m&&m.dir==Hr.RTL?-1:1;c=n.x<h.left?-g:g}let d=this.source(e,a,c);if(d?.then){let h=this.pending={pos:a};d.then(m=>{this.pending==h&&(this.pending=null,m&&!(Array.isArray(m)&&!m.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(m)?m:[m])}))},m=>$o(e.state,m,"hover tooltip"))}else d&&!(Array.isArray(d)&&!d.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(d)?d:[d])})}get tooltip(){let e=this.view.plugin(Zz),n=e?e.manager.tooltips.findIndex(i=>i.create==wk.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:a,tooltip:c}=this;if(a.length&&c&&!cpt(c.dom,e)||this.pending){let{pos:d}=a[0]||this.pending,h=(i=(n=a[0])===null||n===void 0?void 0:n.end)!==null&&i!==void 0?i:d;(d==h?this.view.posAtCoords(this.lastMove)!=d:!upt(this.view,d,h,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=i=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}},ik=4;function cpt(t,e){let n=t.getBoundingClientRect();return e.clientX>=n.left-ik&&e.clientX<=n.right+ik&&e.clientY>=n.top-ik&&e.clientY<=n.bottom+ik}function upt(t,e,n,i,a,c){let d=t.scrollDOM.getBoundingClientRect(),h=t.documentTop+t.documentPadding.top+t.contentHeight;if(d.left>i||d.right<i||d.top>a||Math.min(d.bottom,h)<a)return!1;let m=t.posAtCoords({x:i,y:a},!1);return m>=e&&m<=n}function mbe(t,e={}){let n=Zn.define(),i=Lo.define({create(){return[]},update(a,c){if(a.length&&(e.hideOnChange&&(c.docChanged||c.selection)?a=[]:e.hideOn&&(a=a.filter(d=>!e.hideOn(c,d))),c.docChanged)){let d=[];for(let h of a){let m=c.changes.mapPos(h.pos,-1,bo.TrackDel);if(m!=null){let g=Object.assign(Object.create(null),h);g.pos=m,g.end!=null&&(g.end=c.changes.mapPos(g.end)),d.push(g)}}a=d}for(let d of c.effects)d.is(n)&&(a=d.value),d.is(dpt)&&(a=[]);return a},provide:a=>Ek.from(a)});return{active:i,extension:[i,Os.define(a=>new Hz(a,t,i,n,e.hoverTime||300)),lpt]}}function Jz(t,e){let n=t.plugin(Zz);if(!n)return null;let i=n.manager.tooltips.indexOf(e);return i<0?null:n.manager.tooltipViews[i]}var dpt=Zn.define();var x2e=ct.define({combine(t){let e,n;for(let i of t)e=e||i.topContainer,n=n||i.bottomContainer;return{topContainer:e,bottomContainer:n}}});var fpt=Os.fromClass(class{constructor(t){this.input=t.state.facet(_k),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(x2e);this.top=new Db(t,!0,e.topContainer),this.bottom=new Db(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(x2e);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Db(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Db(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(_k);if(n!=this.input){let i=n.filter(m=>m),a=[],c=[],d=[],h=[];for(let m of i){let g=this.specs.indexOf(m),b;g<0?(b=m(t.view),h.push(b)):(b=this.panels[g],b.update&&b.update(t)),a.push(b),(b.top?c:d).push(b)}this.specs=i,this.panels=a,this.top.sync(c),this.bottom.sync(d);for(let m of h)m.dom.classList.add("cm-panel"),m.mount&&m.mount()}else for(let i of this.panels)i.update&&i.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>It.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})}),Db=class{constructor(e,n,i){this.view=e,this.top=n,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=E2e(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=E2e(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}};function E2e(t){let e=t.nextSibling;return t.remove(),e}var _k=ct.define({enables:fpt}),uu=class extends au{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}};uu.prototype.elementClass="";uu.prototype.toDOM=void 0;uu.prototype.mapMode=bo.TrackBefore;uu.prototype.startSide=uu.prototype.endSide=-1;uu.prototype.point=!0;var uz=ct.define(),hpt=ct.define();var ck=ct.define();var Uz=ct.define({combine:t=>t.some(e=>e)});function ppt(t){let e=[mpt];return t&&t.fixed===!1&&e.push(Uz.of(!0)),e}var mpt=Os.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(ck).map(e=>new Ck(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(Uz),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,i=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(i<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(Uz)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=li.iter(this.view.state.facet(uz),this.view.viewport.from),i=[],a=this.gutters.map(c=>new Wz(c,this.view.viewport,-this.view.documentPadding.top));for(let c of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(c.type)){let d=!0;for(let h of c.type)if(h.type==dc.Text&&d){qz(n,i,h.from);for(let m of a)m.line(this.view,h,i);d=!1}else if(h.widget)for(let m of a)m.widget(this.view,h)}else if(c.type==dc.Text){qz(n,i,c.from);for(let d of a)d.line(this.view,c,i)}else if(c.widget)for(let d of a)d.widget(this.view,c);for(let c of a)c.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(ck),n=t.state.facet(ck),i=t.docChanged||t.heightChanged||t.viewportChanged||!li.eq(t.startState.facet(uz),t.state.facet(uz),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let a of this.gutters)a.update(t)&&(i=!0);else{i=!0;let a=[];for(let c of n){let d=e.indexOf(c);d<0?a.push(new Ck(this.view,c)):(this.gutters[d].update(t),a.push(this.gutters[d]))}for(let c of this.gutters)c.dom.remove(),a.indexOf(c)<0&&c.destroy();for(let c of a)this.dom.appendChild(c.dom);this.gutters=a}return i}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>It.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==Hr.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function w2e(t){return Array.isArray(t)?t:[t]}function qz(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}var Wz=class{constructor(e,n,i){this.gutter=e,this.height=i,this.i=0,this.cursor=li.iter(e.markers,n.from)}addElement(e,n,i){let{gutter:a}=this,c=(n.top-this.height)/e.scaleY,d=n.height/e.scaleY;if(this.i==a.elements.length){let h=new Sk(e,d,c,i);a.elements.push(h),a.dom.appendChild(h.dom)}else a.elements[this.i].update(e,d,c,i);this.height=n.bottom,this.i++}line(e,n,i){let a=[];qz(this.cursor,a,n.from),i.length&&(a=a.concat(i));let c=this.gutter.config.lineMarker(e,n,a);c&&a.unshift(c);let d=this.gutter;a.length==0&&!d.config.renderEmptyElements||this.addElement(e,n,a)}widget(e,n){let i=this.gutter.config.widgetMarker(e,n.widget,n),a=i?[i]:null;for(let c of e.state.facet(hpt)){let d=c(e,n.widget,n);d&&(a||(a=[])).push(d)}a&&this.addElement(e,n,a)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}},Ck=class{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in n.domEventHandlers)this.dom.addEventListener(i,a=>{let c=a.target,d;if(c!=this.dom&&this.dom.contains(c)){for(;c.parentNode!=this.dom;)c=c.parentNode;let m=c.getBoundingClientRect();d=(m.top+m.bottom)/2}else d=a.clientY;let h=e.lineBlockAtHeight(d-e.documentTop);n.domEventHandlers[i](e,h,a)&&a.preventDefault()});this.markers=w2e(n.markers(e)),n.initialSpacer&&(this.spacer=new Sk(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=w2e(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let a=this.config.updateSpacer(this.spacer.markers[0],e);a!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[a])}let i=e.view.viewport;return!li.eq(this.markers,n,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}},Sk=class{constructor(e,n,i,a){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,i,a)}update(e,n,i,a){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),gpt(this.markers,a)||this.setMarkers(e,a)}setMarkers(e,n){let i="cm-gutterElement",a=this.dom.firstChild;for(let c=0,d=0;;){let h=d,m=c<n.length?n[c++]:null,g=!1;if(m){let b=m.elementClass;b&&(i+=" "+b);for(let E=d;E<this.markers.length;E++)if(this.markers[E].compare(m)){h=E,g=!0;break}}else h=this.markers.length;for(;d<h;){let b=this.markers[d++];if(b.toDOM){b.destroy(a);let E=a.nextSibling;a.remove(),a=E}}if(!m)break;m.toDOM&&(g?a=a.nextSibling:this.dom.insertBefore(m.toDOM(e),a)),g&&d++}this.dom.className=i,this.markers=n}destroy(){this.setMarkers(null,[])}};function gpt(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}var vpt=ct.define(),ypt=ct.define(),Tb=ct.define({combine(t){return nh(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let i=Object.assign({},e);for(let a in n){let c=i[a],d=n[a];i[a]=c?(h,m,g)=>c(h,m,g)||d(h,m,g):d}return i}})}}),s4=class extends uu{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}};function dz(t,e){return t.state.facet(Tb).formatNumber(e,t.state)}var bpt=ck.compute([Tb],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(vpt)},lineMarker(e,n,i){return i.some(a=>a.toDOM)?null:new s4(dz(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,i)=>{for(let a of e.state.facet(ypt)){let c=a(e,n,i);if(c)return c}return null},lineMarkerChange:e=>e.startState.facet(Tb)!=e.state.facet(Tb),initialSpacer(e){return new s4(dz(e,_2e(e.state.doc.lines)))},updateSpacer(e,n){let i=dz(n.view,_2e(n.view.state.doc.lines));return i==e.number?e:new s4(i)},domEventHandlers:t.facet(Tb).domEventHandlers}));function Tk(t={}){return[Tb.of(t),ppt(),bpt]}function _2e(t){let e=9;for(;e<t;)e=e*10+9;return e}var eH,Mb=new kt;function Ept(t){return ct.define({combine:t?e=>e.concat(t):void 0})}var wpt=new kt,Nd=(()=>{class t{constructor(n,i,a=[],c=""){this.data=n,this.name=c,is.prototype.hasOwnProperty("tree")||Object.defineProperty(is.prototype,"tree",{get(){return Ur(this)}}),this.parser=i,this.extension=[Rb.of(this),is.languageData.of((d,h,m)=>{let g=gbe(d,h,m),b=g.type.prop(Mb);if(!b)return[];let E=d.facet(b),_=g.type.prop(wpt);if(_){let S=g.resolve(h-g.from,m);for(let D of _)if(D.test(S,d)){let k=d.facet(D.facet);return D.type=="replace"?k:k.concat(E)}}return E})].concat(a)}isActiveAt(n,i,a=-1){return gbe(n,i,a).type.prop(Mb)==this.data}findRegions(n){let i=n.facet(Rb);if(i?.data==this.data)return[{from:0,to:n.doc.length}];if(!i||!i.allowsNesting)return[];let a=[],c=(d,h)=>{if(d.prop(Mb)==this.data){a.push({from:h,to:h+d.length});return}let m=d.prop(kt.mounted);if(m){if(m.tree.prop(Mb)==this.data){if(m.overlay)for(let g of m.overlay)a.push({from:g.from+h,to:g.to+h});else a.push({from:h,to:h+d.length});return}else if(m.overlay){let g=a.length;if(c(m.tree,m.overlay[0].from+h),a.length>g)return}}for(let g=0;g<d.children.length;g++){let b=d.children[g];b instanceof Kn&&c(b,d.positions[g]+h)}};return c(Ur(n),0),a}get allowsNesting(){return!0}}return t.setState=Zn.define(),t})();function gbe(t,e,n){let i=t.facet(Rb),a=Ur(t).topNode;if(!i||i.allowsNesting)for(let c=a;c;c=c.enter(e,n,Vr.ExcludeBuffers))c.type.isTop&&(a=c);return a}var Ab=class t extends Nd{constructor(e,n,i){super(e,n,[],i),this.parser=n}static define(e){let n=Ept(e.languageData);return new t(n,e.parser.configure({props:[Mb.add(i=>i.isTop?n:void 0)]}),e.name)}configure(e,n){return new t(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function Ur(t){let e=t.field(Nd.state,!1);return e?e.tree:Kn.empty}var iH=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let i=this.cursorPos-this.string.length;return e<i||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-i,n-i)}},g4=null,oH=class t{constructor(e,n,i=[],a,c,d,h,m){this.parser=e,this.state=n,this.fragments=i,this.tree=a,this.treeLen=c,this.viewport=d,this.skipped=h,this.scheduleOn=m,this.parse=null,this.tempSkipped=[]}static create(e,n,i){return new t(e,n,[],Kn.empty,0,i,[],null)}startParse(){return this.parser.startParse(new iH(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Kn.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let a=Date.now()+e;e=()=>Date.now()>a}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let a=this.parse.advance();if(a)if(this.fragments=this.withoutTempSkipped(Kf.addTree(a,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=a,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Kf.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=g4;g4=this;try{return e()}finally{g4=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=vbe(e,n.from,n.to);return e}changes(e,n){let{fragments:i,tree:a,treeLen:c,viewport:d,skipped:h}=this;if(this.takeTree(),!e.empty){let m=[];if(e.iterChangedRanges((g,b,E,_)=>m.push({fromA:g,toA:b,fromB:E,toB:_})),i=Kf.applyChanges(i,m),a=Kn.empty,c=0,d={from:e.mapPos(d.from,-1),to:e.mapPos(d.to,1)},this.skipped.length){h=[];for(let g of this.skipped){let b=e.mapPos(g.from,1),E=e.mapPos(g.to,-1);b<E&&h.push({from:b,to:E})}}}return new t(this.parser,n,i,a,c,d,h,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:a,to:c}=this.skipped[i];a<e.to&&c>e.from&&(this.fragments=vbe(this.fragments,a,c),this.skipped.splice(i--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends C0{createParse(n,i,a){let c=a[0].from,d=a[a.length-1].to;return{parsedPos:c,advance(){let m=g4;if(m){for(let g of a)m.tempSkipped.push(g);e&&(m.scheduleOn=m.scheduleOn?Promise.all([m.scheduleOn,e]):e)}return this.parsedPos=d,new Kn(_i.none,[],[],d-c)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return g4}};function vbe(t,e,n){return Kf.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}var v4=class t{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,i)||n.takeTree(),new t(n)}static init(e){let n=Math.min(3e3,e.doc.length),i=oH.create(e.facet(Rb).parser,e,{from:0,to:n});return i.work(20,n)||i.takeTree(),new t(i)}};Nd.state=Lo.define({create:v4.init,update(t,e){for(let n of e.effects)if(n.is(Nd.setState))return n.value;return e.startState.facet(Rb)!=e.state.facet(Rb)?v4.init(e.state):t.apply(e)}});var Ebe=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Ebe=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});var tH=typeof navigator<"u"&&(!((eH=navigator.scheduling)===null||eH===void 0)&&eH.isInputPending)?()=>navigator.scheduling.isInputPending():null,_pt=Os.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Nd.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Nd.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=Ebe(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:a}}=this.view,c=i.field(Nd.state);if(c.tree==c.context.tree&&c.context.isDone(a+1e5))return;let d=Date.now()+Math.min(this.chunkBudget,100,e&&!tH?Math.max(25,e.timeRemaining()-5):1e9),h=c.context.treeLen<a&&i.doc.length>a+1e3,m=c.context.work(()=>tH&&tH()||Date.now()>d,a+(h?0:1e5));this.chunkBudget-=Date.now()-n,(m||this.chunkBudget<=0)&&(c.context.takeTree(),this.view.dispatch({effects:Nd.setState.of(new v4(c.context))})),this.chunkBudget>0&&!(m&&!h)&&this.scheduleWork(),this.checkAsyncSchedule(c.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>$o(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Rb=ct.define({combine(t){return t.length?t[0]:null},enables:t=>[Nd.state,_pt,It.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]}),Lb=class{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}};var Cpt=ct.define(),$b=ct.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function y4(t){let e=t.facet($b);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Nb(t,e){let n="",i=t.tabSize,a=t.facet($b)[0];if(a=="	"){for(;e>=i;)n+="	",e-=i;a=" "}for(let c=0;c<e;c++)n+=a;return n}function kk(t,e){t instanceof is&&(t=new O1(t));for(let i of t.state.facet(Cpt)){let a=i(t,e);if(a!==void 0)return a}let n=Ur(t.state);return n.length>=e?Spt(t,n,e):null}var O1=class{constructor(e,n={}){this.state=e,this.options=n,this.unit=y4(e)}lineAt(e,n=1){let i=this.state.doc.lineAt(e),{simulateBreak:a,simulateDoubleBreak:c}=this.options;return a!=null&&a>=i.from&&a<=i.to?c&&a==e?{text:"",from:e}:(n<0?a<e:a<=e)?{text:i.text.slice(a-i.from),from:a}:{text:i.text.slice(0,a-i.from),from:i.from}:i}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:a}=this.lineAt(e,n);return i.slice(e-a,Math.min(i.length,e+100-a))}column(e,n=1){let{text:i,from:a}=this.lineAt(e,n),c=this.countColumn(i,e-a),d=this.options.overrideIndentation?this.options.overrideIndentation(a):-1;return d>-1&&(c+=d-this.countColumn(i,i.search(/\S|$/))),c}countColumn(e,n=e.length){return E1(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:i,from:a}=this.lineAt(e,n),c=this.options.overrideIndentation;if(c){let d=c(a);if(d>-1)return d}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}},dH=new kt;function Spt(t,e,n){let i=e.resolveStack(n),a=i.node.enterUnfinishedNodesBefore(n);if(a!=i.node){let c=[];for(let d=a;d!=i.node;d=d.parent)c.push(d);for(let d=c.length-1;d>=0;d--)i={node:c[d],next:i}}return wbe(i,t,n)}function wbe(t,e,n){for(let i=t;i;i=i.next){let a=Dpt(i.node);if(a)return a(sH.create(e,n,i))}return 0}function Opt(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function Dpt(t){let e=t.type.prop(dH);if(e)return e;let n=t.firstChild,i;if(n&&(i=n.type.prop(kt.closedBy))){let a=t.lastChild,c=a&&i.indexOf(a.name)>-1;return d=>_be(d,!0,1,void 0,c&&!Opt(d)?a.from:void 0)}return t.parent==null?Tpt:null}function Tpt(){return 0}var sH=class t extends O1{constructor(e,n,i){super(e.state,e.options),this.base=e,this.pos=n,this.context=i}get node(){return this.context.node}static create(e,n,i){return new t(e,n,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(n.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(kpt(i,e))break;n=this.state.doc.lineAt(i.from)}return this.lineIndent(n.from)}continue(){return wbe(this.context.next,this.base,this.pos)}};function kpt(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function Ppt(t){let e=t.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let a=t.options.simulateBreak,c=t.state.doc.lineAt(n.from),d=a==null||a<=c.from?c.to:Math.min(c.to,a);for(let h=n.to;;){let m=e.childAfter(h);if(!m||m==i)return null;if(!m.type.isSkipped)return m.from<d?n:null;h=m.to}}function fH({closing:t,align:e=!0,units:n=1}){return i=>_be(i,e,n,t)}function _be(t,e,n,i,a){let c=t.textAfter,d=c.match(/^\s*/)[0].length,h=i&&c.slice(d,d+i.length)==i||a==t.pos+d,m=e?Ppt(t):null;return m?h?t.column(m.from):t.column(m.to):t.baseIndent+(h?0:t.unit*n)}function Pk({except:t,units:e=1}={}){return n=>{let i=t&&t.test(n.textAfter);return n.baseIndent+(i?0:e*n.unit)}}var Ipt=200;function Ik(){return is.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:i}=t.newSelection.main,a=n.lineAt(i);if(i>a.from+Ipt)return t;let c=n.sliceString(a.from,i);if(!e.some(g=>g.test(c)))return t;let{state:d}=t,h=-1,m=[];for(let{head:g}of d.selection.ranges){let b=d.doc.lineAt(g);if(b.from==h)continue;h=b.from;let E=kk(d,b.from);if(E==null)continue;let _=/^\s*/.exec(b.text)[0],S=Nb(d,E);_!=S&&m.push({from:b.from,to:b.from+_.length,insert:S})}return m.length?[t,{changes:m,sequential:!0}]:t})}var Mk=new kt;function D1(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}var Fd=class t{constructor(e,n){this.specs=e;let i;function a(h){let m=cc.newName();return(i||(i=Object.create(null)))["."+m]=h,m}let c=typeof n.all=="string"?n.all:n.all?a(n.all):void 0,d=n.scope;this.scope=d instanceof Nd?h=>h.prop(Mb)==d.data:d?h=>h==d:void 0,this.style=IV(e.map(h=>({tag:h.tag,class:h.class||a(Object.assign({},h,{tag:null}))})),{all:c}).style,this.module=i?new cc(i):null,this.themeType=n.themeType}static define(e,n){return new t(e,n||{})}},aH=ct.define(),Cbe=ct.define({combine(t){return t.length?[t[0]]:null}});function nH(t){let e=t.facet(aH);return e.length?e:t.facet(Cbe)}function Fb(t,e){let n=[Mpt],i;return t instanceof Fd&&(t.module&&n.push(It.styleModule.of(t.module)),i=t.themeType),e?.fallback?n.push(Cbe.of(t)):i?n.push(aH.computeN([It.darkTheme],a=>a.facet(It.darkTheme)==(i=="dark")?[t]:[])):n.push(aH.of(t)),n}var lH=class{constructor(e){this.markCache=Object.create(null),this.tree=Ur(e.state),this.decorations=this.buildDeco(e,nH(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=Ur(e.state),i=nH(e.state),a=i!=nH(e.startState),{viewport:c}=e.view,d=e.changes.mapPos(this.decoratedTo,1);n.length<c.to&&!a&&n.type==this.tree.type&&d>=c.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=d):(n!=this.tree||e.viewportChanged||a)&&(this.tree=n,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=c.to)}buildDeco(e,n){if(!n||!this.tree.length)return Xt.none;let i=new x1;for(let{from:a,to:c}of e.visibleRanges)Xve(this.tree,n,(d,h,m)=>{i.add(d,h,this.markCache[m]||(this.markCache[m]=Xt.mark({class:m})))},a,c);return i.finish()}},Mpt=th.high(Os.fromClass(lH,{decorations:t=>t.decorations})),eln=Fd.define([{tag:ie.meta,color:"#404740"},{tag:ie.link,textDecoration:"underline"},{tag:ie.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ie.emphasis,fontStyle:"italic"},{tag:ie.strong,fontWeight:"bold"},{tag:ie.strikethrough,textDecoration:"line-through"},{tag:ie.keyword,color:"#708"},{tag:[ie.atom,ie.bool,ie.url,ie.contentSeparator,ie.labelName],color:"#219"},{tag:[ie.literal,ie.inserted],color:"#164"},{tag:[ie.string,ie.deleted],color:"#a11"},{tag:[ie.regexp,ie.escape,ie.special(ie.string)],color:"#e40"},{tag:ie.definition(ie.variableName),color:"#00f"},{tag:ie.local(ie.variableName),color:"#30a"},{tag:[ie.typeName,ie.namespace],color:"#085"},{tag:ie.className,color:"#167"},{tag:[ie.special(ie.variableName),ie.macroName],color:"#256"},{tag:ie.definition(ie.propertyName),color:"#00c"},{tag:ie.comment,color:"#940"},{tag:ie.invalid,color:"#f00"}]),Apt=It.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Sbe=1e4,Obe="()[]{}",Dbe=ct.define({combine(t){return nh(t,{afterCursor:!0,brackets:Obe,maxScanDistance:Sbe,renderMatch:$pt})}}),Rpt=Xt.mark({class:"cm-matchingBracket"}),Lpt=Xt.mark({class:"cm-nonmatchingBracket"});function $pt(t){let e=[],n=t.matched?Rpt:Lpt;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}var Npt=Lo.define({create(){return Xt.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],i=e.state.facet(Dbe);for(let a of e.state.selection.ranges){if(!a.empty)continue;let c=du(e.state,a.head,-1,i)||a.head>0&&du(e.state,a.head-1,1,i)||i.afterCursor&&(du(e.state,a.head,1,i)||a.head<e.state.doc.length&&du(e.state,a.head+1,-1,i));c&&(n=n.concat(i.renderMatch(c,e.state)))}return Xt.set(n,!0)},provide:t=>It.decorations.from(t)}),Fpt=[Npt,Apt];function Ak(t={}){return[Dbe.of(t),Fpt]}var Bpt=new kt;function cH(t,e,n){let i=t.prop(e<0?kt.openedBy:kt.closedBy);if(i)return i;if(t.name.length==1){let a=n.indexOf(t.name);if(a>-1&&a%2==(e<0?1:0))return[n[a+e]]}return null}function uH(t){let e=t.type.prop(Bpt);return e?e(t.node):t}function du(t,e,n,i={}){let a=i.maxScanDistance||Sbe,c=i.brackets||Obe,d=Ur(t),h=d.resolveInner(e,n);for(let m=h;m;m=m.parent){let g=cH(m.type,n,c);if(g&&m.from<m.to){let b=uH(m);if(b&&(n>0?e>=b.from&&e<b.to:e>b.from&&e<=b.to))return jpt(t,e,n,m,b,g,c)}}return Vpt(t,e,n,d,h.type,a,c)}function jpt(t,e,n,i,a,c,d){let h=i.parent,m={from:a.from,to:a.to},g=0,b=h?.cursor();if(b&&(n<0?b.childBefore(i.from):b.childAfter(i.to)))do if(n<0?b.to<=i.from:b.from>=i.to){if(g==0&&c.indexOf(b.type.name)>-1&&b.from<b.to){let E=uH(b);return{start:m,end:E?{from:E.from,to:E.to}:void 0,matched:!0}}else if(cH(b.type,n,d))g++;else if(cH(b.type,-n,d)){if(g==0){let E=uH(b);return{start:m,end:E&&E.from<E.to?{from:E.from,to:E.to}:void 0,matched:!1}}g--}}while(n<0?b.prevSibling():b.nextSibling());return{start:m,matched:!1}}function Vpt(t,e,n,i,a,c,d){let h=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),m=d.indexOf(h);if(m<0||m%2==0!=n>0)return null;let g={from:n<0?e-1:e,to:n>0?e+1:e},b=t.doc.iterRange(e,n>0?t.doc.length:0),E=0;for(let _=0;!b.next().done&&_<=c;){let S=b.value;n<0&&(_+=S.length);let D=e+_*n;for(let k=n>0?0:S.length-1,I=n>0?S.length:-1;k!=I;k+=n){let R=d.indexOf(S[k]);if(!(R<0||i.resolveInner(D+k,1).type!=a))if(R%2==0==n>0)E++;else{if(E==1)return{start:g,end:{from:D+k,to:D+k+1},matched:R>>1==m>>1};E--}}n>0&&(_+=S.length)}return b.done?{start:g,matched:!1}:null}var zpt=Object.create(null),ybe=[_i.none];var bbe=[],xbe=Object.create(null),Hpt=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Hpt[t]=Upt(zpt,e);function rH(t,e){bbe.indexOf(t)>-1||(bbe.push(t),console.warn(e))}function Upt(t,e){let n=[];for(let h of e.split(" ")){let m=[];for(let g of h.split(".")){let b=t[g]||ie[g];b?typeof b=="function"?m.length?m=m.map(b):rH(g,`Modifier ${g} used at start of tag`):m.length?rH(g,`Tag ${g} used as modifier`):m=Array.isArray(b)?b:[b]:rH(g,`Unknown highlighting tag ${g}`)}for(let g of m)n.push(g)}if(!n.length)return 0;let i=e.replace(/ /g,"_"),a=i+" "+n.map(h=>h.id),c=xbe[a];if(c)return c.id;let d=xbe[a]=_i.define({id:ybe.length,name:i,props:[Jf({[i]:n})]});return ybe.push(d),d.id}var tln={rtl:Xt.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:Hr.RTL}),ltr:Xt.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:Hr.LTR}),auto:Xt.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})};var Lk=class{constructor(e,n,i,a){this.state=e,this.pos=n,this.explicit=i,this.view=a,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=Ur(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),i=Math.max(n.from,this.pos-250),a=n.text.slice(i-n.from,this.pos-n.from),c=a.search(Nbe(e,!1));return c<0?null:{from:i+c,to:this.pos,text:a.slice(c)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,i){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),i&&i.onDocChange&&(this.abortOnDocChange=!0))}};function Tbe(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function qpt(t){let e=Object.create(null),n=Object.create(null);for(let{label:a}of t){e[a[0]]=!0;for(let c=1;c<a.length;c++)n[a[c]]=!0}let i=Tbe(e)+Tbe(n)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function jk(t){let e=t.map(a=>typeof a=="string"?{label:a}:a),[n,i]=e.every(a=>/^\w+$/.test(a.label))?[/\w*$/,/\w+$/]:qpt(e);return a=>{let c=a.matchBefore(i);return c||a.explicit?{from:c?c.from:a.pos,options:e,validFor:n}:null}}function $be(t,e){return n=>{for(let i=Ur(n.state).resolveInner(n.pos,-1);i;i=i.parent){if(t.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(n)}}var $k=class{constructor(e,n,i,a){this.completion=e,this.source=n,this.match=i,this.score=a}};function $0(t){return t.selection.main.from}function Nbe(t,e){var n;let{source:i}=t,a=e&&i[0]!="^",c=i[i.length-1]!="$";return!a&&!c?t:new RegExp(`${a?"^":""}(?:${i})${c?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}var CH=ac.define();function Wpt(t,e,n,i){let{main:a}=t.selection,c=n-a.from,d=i-a.from;return Object.assign(Object.assign({},t.changeByRange(h=>h!=a&&n!=i&&t.sliceDoc(h.from+c,h.from+d)!=t.sliceDoc(n,i)?{range:h}:{changes:{from:h.from+c,to:i==a.from?h.to:h.from+d,insert:e},range:ze.cursor(h.from+c+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}var kbe=new WeakMap;function Gpt(t){if(!Array.isArray(t))return t;let e=kbe.get(t);return e||kbe.set(t,e=jk(t)),e}var Nk=Zn.define(),b4=Zn.define(),mH=class{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let i=ta(e,n),a=lc(i);this.chars.push(i);let c=e.slice(n,n+a),d=c.toUpperCase();this.folded.push(ta(d==c?c.toLowerCase():d,0)),n+=a}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:i,any:a,precise:c,byWord:d}=this;if(n.length==1){let $=ta(e,0),F=lc($),L=F==e.length?0:-100;if($!=n[0])if($==i[0])L+=-200;else return null;return this.ret(L,[0,F])}let h=e.indexOf(this.pattern);if(h==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let m=n.length,g=0;if(h<0){for(let $=0,F=Math.min(e.length,200);$<F&&g<m;){let L=ta(e,$);(L==n[g]||L==i[g])&&(a[g++]=$),$+=lc(L)}if(g<m)return null}let b=0,E=0,_=!1,S=0,D=-1,k=-1,I=/[a-z]/.test(e),R=!0;for(let $=0,F=Math.min(e.length,200),L=0;$<F&&E<m;){let V=ta(e,$);h<0&&(b<m&&V==n[b]&&(c[b++]=$),S<m&&(V==n[S]||V==i[S]?(S==0&&(D=$),k=$+1,S++):S=0));let G,re=V<255?V>=48&&V<=57||V>=97&&V<=122?2:V>=65&&V<=90?1:0:(G=ZV(V))!=G.toLowerCase()?1:G!=G.toUpperCase()?2:0;(!$||re==1&&I||L==0&&re!=0)&&(n[E]==V||i[E]==V&&(_=!0)?d[E++]=$:d.length&&(R=!1)),L=re,$+=lc(V)}return E==m&&d[0]==0&&R?this.result(-100+(_?-200:0),d,e):S==m&&D==0?this.ret(-200-e.length+(k==e.length?0:-100),[0,k]):h>-1?this.ret(-700-e.length,[h,h+this.pattern.length]):S==m?this.ret(-900-e.length,[D,k]):E==m?this.result(-100+(_?-200:0)+-700+(R?0:-1100),d,e):n.length==2?null:this.result((a[0]?-700:0)+-200+-1100,a,e)}result(e,n,i){let a=[],c=0;for(let d of n){let h=d+(this.astral?lc(ta(i,d)):1);c&&a[c-1]==d?a[c-1]=h:(a[c++]=d,a[c++]=h)}return this.ret(e-i.length,a)}},gH=class{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),i=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,n.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}},ss=ct.define({combine(t){return nh(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Qpt,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>i=>Pbe(e(i),n(i)),optionClass:(e,n)=>i=>Pbe(e(i),n(i)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function Pbe(t,e){return t?e?t+" "+e:t:e}function Qpt(t,e,n,i,a,c){let d=t.textDirection==Hr.RTL,h=d,m=!1,g="top",b,E,_=e.left-a.left,S=a.right-e.right,D=i.right-i.left,k=i.bottom-i.top;if(h&&_<Math.min(D,S)?h=!1:!h&&S<Math.min(D,_)&&(h=!0),D<=(h?_:S))b=Math.max(a.top,Math.min(n.top,a.bottom-k))-e.top,E=Math.min(400,h?_:S);else{m=!0,E=Math.min(400,(d?e.right:a.right-e.left)-30);let $=a.bottom-e.bottom;$>=k||$>e.top?b=n.bottom-e.top:(g="bottom",b=e.bottom-n.top)}let I=(e.bottom-e.top)/c.offsetHeight,R=(e.right-e.left)/c.offsetWidth;return{style:`${g}: ${b/I}px; max-width: ${E/R}px`,class:"cm-completionInfo-"+(m?d?"left-narrow":"right-narrow":h?"left":"right")}}function Ypt(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),n.type&&i.classList.add(...n.type.split(/\s+/g).map(a=>"cm-completionIcon-"+a)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(n,i,a,c){let d=document.createElement("span");d.className="cm-completionLabel";let h=n.displayLabel||n.label,m=0;for(let g=0;g<c.length;){let b=c[g++],E=c[g++];b>m&&d.appendChild(document.createTextNode(h.slice(m,b)));let _=d.appendChild(document.createElement("span"));_.appendChild(document.createTextNode(h.slice(b,E))),_.className="cm-completionMatchedText",m=E}return m<h.length&&d.appendChild(document.createTextNode(h.slice(m))),d},position:50},{render(n){if(!n.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=n.detail,i},position:80}),e.sort((n,i)=>n.position-i.position).map(n=>n.render)}function hH(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let a=Math.floor(e/n);return{from:a*n,to:(a+1)*n}}let i=Math.floor((t-e)/n);return{from:t-(i+1)*n,to:t-i*n}}var vH=class{constructor(e,n,i){this.view=e,this.stateField=n,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:m=>this.placeInfo(m),key:this},this.space=null,this.currentClass="";let a=e.state.field(n),{options:c,selected:d}=a.open,h=e.state.facet(ss);this.optionContent=Ypt(h),this.optionClass=h.optionClass,this.tooltipClass=h.tooltipClass,this.range=hH(c.length,d,h.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",m=>{let{options:g}=e.state.field(n).open;for(let b=m.target,E;b&&b!=this.dom;b=b.parentNode)if(b.nodeName=="LI"&&(E=/-(\d+)$/.exec(b.id))&&+E[1]<g.length){this.applyCompletion(e,g[+E[1]]),m.preventDefault();return}}),this.dom.addEventListener("focusout",m=>{let g=e.state.field(this.stateField,!1);g&&g.tooltip&&e.state.facet(ss).closeOnBlur&&m.relatedTarget!=e.contentDOM&&e.dispatch({effects:b4.of(null)})}),this.showOptions(c,a.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let i=e.state.field(this.stateField),a=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=a){let{options:c,selected:d,disabled:h}=i.open;(!a.open||a.open.options!=c)&&(this.range=hH(c.length,d,e.state.facet(ss).maxRenderedOptions),this.showOptions(c,i.id)),this.updateSel(),h!=((n=a.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!h)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of n.split(" "))i&&this.dom.classList.add(i);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=hH(n.options.length,n.selected,this.view.state.facet(ss).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:a}=i;if(!a)return;let c=typeof a=="string"?document.createTextNode(a):a(i);if(!c)return;"then"in c?c.then(d=>{d&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(d,i)}).catch(d=>$o(this.view.state,d,"completion info")):this.addInfoPane(c,i)}}addInfoPane(e,n){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:a,destroy:c}=e;i.appendChild(a),this.infoDestroy=c||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let i=this.list.firstChild,a=this.range.from;i;i=i.nextSibling,a++)i.nodeName!="LI"||!i.id?a--:a==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),n=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return n&&Kpt(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),a=e.getBoundingClientRect(),c=this.space;if(!c){let d=this.dom.ownerDocument.defaultView||window;c={left:0,top:0,right:d.innerWidth,bottom:d.innerHeight}}return a.top>Math.min(c.bottom,n.bottom)-10||a.bottom<Math.max(c.top,n.top)+10?null:this.view.state.facet(ss).positionInfo(this.view,n,a,i,c,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,i){let a=document.createElement("ul");a.id=n,a.setAttribute("role","listbox"),a.setAttribute("aria-expanded","true"),a.setAttribute("aria-label",this.view.state.phrase("Completions"));let c=null;for(let d=i.from;d<i.to;d++){let{completion:h,match:m}=e[d],{section:g}=h;if(g){let _=typeof g=="string"?g:g.name;if(_!=c&&(d>i.from||i.from==0))if(c=_,typeof g!="string"&&g.header)a.appendChild(g.header(g));else{let S=a.appendChild(document.createElement("completion-section"));S.textContent=_}}let b=a.appendChild(document.createElement("li"));b.id=n+"-"+d,b.setAttribute("role","option");let E=this.optionClass(h);E&&(b.className=E);for(let _ of this.optionContent){let S=_(h,this.view.state,this.view,m);S&&b.appendChild(S)}}return i.from&&a.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&a.classList.add("cm-completionListIncompleteBottom"),a}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}};function Xpt(t,e){return n=>new vH(n,t,e)}function Kpt(t,e){let n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),a=n.height/t.offsetHeight;i.top<n.top?t.scrollTop-=(n.top-i.top)/a:i.bottom>n.bottom&&(t.scrollTop+=(i.bottom-n.bottom)/a)}function Ibe(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function Zpt(t,e){let n=[],i=null,a=g=>{n.push(g);let{section:b}=g.completion;if(b){i||(i=[]);let E=typeof b=="string"?b:b.name;i.some(_=>_.name==E)||i.push(typeof b=="string"?{name:E}:b)}},c=e.facet(ss);for(let g of t)if(g.hasResult()){let b=g.result.getMatch;if(g.result.filter===!1)for(let E of g.result.options)a(new $k(E,g.source,b?b(E):[],1e9-n.length));else{let E=e.sliceDoc(g.from,g.to),_,S=c.filterStrict?new gH(E):new mH(E);for(let D of g.result.options)if(_=S.match(D.label)){let k=D.displayLabel?b?b(D,_.matched):[]:_.matched;a(new $k(D,g.source,k,_.score+(D.boost||0)))}}}if(i){let g=Object.create(null),b=0,E=(_,S)=>{var D,k;return((D=_.rank)!==null&&D!==void 0?D:1e9)-((k=S.rank)!==null&&k!==void 0?k:1e9)||(_.name<S.name?-1:1)};for(let _ of i.sort(E))b-=1e5,g[_.name]=b;for(let _ of n){let{section:S}=_.completion;S&&(_.score+=g[typeof S=="string"?S:S.name])}}let d=[],h=null,m=c.compareCompletions;for(let g of n.sort((b,E)=>E.score-b.score||m(b.completion,E.completion))){let b=g.completion;!h||h.label!=b.label||h.detail!=b.detail||h.type!=null&&b.type!=null&&h.type!=b.type||h.apply!=b.apply||h.boost!=b.boost?d.push(g):Ibe(g.completion)>Ibe(h)&&(d[d.length-1]=g),h=g.completion}return d}var yH=class t{constructor(e,n,i,a,c,d){this.options=e,this.attrs=n,this.tooltip=i,this.timestamp=a,this.selected=c,this.disabled=d}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new t(this.options,Mbe(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,i,a,c){let d=Zpt(e,n);if(!d.length)return a&&e.some(m=>m.state==1)?new t(a.options,a.attrs,a.tooltip,a.timestamp,a.selected,!0):null;let h=n.facet(ss).selectOnOpen?0:-1;if(a&&a.selected!=h&&a.selected!=-1){let m=a.options[a.selected].completion;for(let g=0;g<d.length;g++)if(d[g].completion==m){h=g;break}}return new t(d,Mbe(i,h),{pos:e.reduce((m,g)=>g.hasResult()?Math.min(m,g.from):m,1e8),create:i0t,above:c.aboveCursor},a?a.timestamp:Date.now(),h,!1)}map(e){return new t(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}},bH=class t{constructor(e,n,i){this.active=e,this.id=n,this.open=i}static start(){return new t(n0t,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,i=n.facet(ss),c=(i.override||n.languageDataAt("autocomplete",$0(n)).map(Gpt)).map(h=>(this.active.find(g=>g.source==h)||new oh(h,this.active.some(g=>g.state!=0)?1:0)).update(e,i));c.length==this.active.length&&c.every((h,m)=>h==this.active[m])&&(c=this.active);let d=this.open;d&&e.docChanged&&(d=d.map(e.changes)),e.selection||c.some(h=>h.hasResult()&&e.changes.touchesRange(h.from,h.to))||!Jpt(c,this.active)?d=yH.build(c,n,this.id,d,i):d&&d.disabled&&!c.some(h=>h.state==1)&&(d=null),!d&&c.every(h=>h.state!=1)&&c.some(h=>h.hasResult())&&(c=c.map(h=>h.hasResult()?new oh(h.source,0):h));for(let h of e.effects)h.is(jbe)&&(d=d&&d.setSelected(h.value,this.id));return c==this.active&&d==this.open?this:new t(c,this.id,d)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?e0t:t0t}};function Jpt(t,e){if(t==e)return!0;for(let n=0,i=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;i<e.length&&!e[i].hasResult;)i++;let a=n==t.length,c=i==e.length;if(a||c)return a==c;if(t[n++].result!=e[i++].result)return!1}}var e0t={"aria-autocomplete":"list"},t0t={};function Mbe(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}var n0t=[];function Fbe(t,e){if(t.isUserEvent("input.complete")){let i=t.annotation(CH);if(i&&e.activateOnCompletion(i))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}var oh=class t{constructor(e,n,i=-1){this.source=e,this.state=n,this.explicitPos=i}hasResult(){return!1}update(e,n){let i=Fbe(e,n),a=this;(i&8||i&16&&this.touches(e))&&(a=new t(a.source,0)),i&4&&a.state==0&&(a=new t(this.source,1)),a=a.updateFor(e,i);for(let c of e.effects)if(c.is(Nk))a=new t(a.source,1,c.value?$0(e.state):-1);else if(c.is(b4))a=new t(a.source,0);else if(c.is(Bbe))for(let d of c.value)d.source==a.source&&(a=d);return a}updateFor(e,n){return this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new t(this.source,this.state,e.mapPos(this.explicitPos))}touches(e){return e.changes.touchesRange($0(e.state))}},Fk=class t extends oh{constructor(e,n,i,a,c){super(e,2,n),this.result=i,this.from=a,this.to=c}hasResult(){return!0}updateFor(e,n){var i;if(!(n&3))return this.map(e.changes);let a=this.result;a.map&&!e.changes.empty&&(a=a.map(a,e.changes));let c=e.changes.mapPos(this.from),d=e.changes.mapPos(this.to,1),h=$0(e.state);if((this.explicitPos<0?h<=c:h<this.from)||h>d||!a||n&2&&$0(e.startState)==this.from)return new oh(this.source,n&4?1:0);let m=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return r0t(a.validFor,e.state,c,d)?new t(this.source,m,a,c,d):a.update&&(a=a.update(a,c,d,new Lk(e.state,h,m>=0)))?new t(this.source,m,a,a.from,(i=a.to)!==null&&i!==void 0?i:$0(e.state)):new oh(this.source,1,m)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new t(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new oh(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}};function r0t(t,e,n,i){if(!t)return!1;let a=e.sliceDoc(n,i);return typeof t=="function"?t(a,n,i,e):Nbe(t,!0).test(a)}var Bbe=Zn.define({map(t,e){return t.map(n=>n.map(e))}}),jbe=Zn.define(),Ma=Lo.define({create(){return bH.start()},update(t,e){return t.update(e)},provide:t=>[m4.from(t,e=>e.tooltip),It.contentAttributes.from(t,e=>e.attrs)]});function SH(t,e){let n=e.completion.apply||e.completion.label,i=t.state.field(Ma).active.find(a=>a.source==e.source);return i instanceof Fk?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},Wpt(t.state,n,i.from,i.to)),{annotations:CH.of(e.completion)})):n(t,e.completion,i.from,i.to),!0):!1}var i0t=Xpt(Ma,SH);function Rk(t,e="option"){return n=>{let i=n.state.field(Ma,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<n.state.facet(ss).interactionDelay)return!1;let a=1,c;e=="page"&&(c=Jz(n,i.open.tooltip))&&(a=Math.max(2,Math.floor(c.dom.offsetHeight/c.dom.querySelector("li").offsetHeight)-1));let{length:d}=i.open.options,h=i.open.selected>-1?i.open.selected+a*(t?1:-1):t?0:d-1;return h<0?h=e=="page"?0:d-1:h>=d&&(h=e=="page"?d-1:0),n.dispatch({effects:jbe.of(h)}),!0}}var o0t=t=>{let e=t.state.field(Ma,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(ss).interactionDelay?!1:SH(t,e.open.options[e.open.selected])},s0t=t=>t.state.field(Ma,!1)?(t.dispatch({effects:Nk.of(!0)}),!0):!1,a0t=t=>{let e=t.state.field(Ma,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:b4.of(null)}),!0)},xH=class{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}},l0t=50,c0t=1e3,u0t=Os.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Ma).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(Ma),n=t.state.facet(ss);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Ma)==e)return;let i=t.transactions.some(c=>{let d=Fbe(c,n);return d&8||(c.selection||c.docChanged)&&!(d&3)});for(let c=0;c<this.running.length;c++){let d=this.running[c];if(i||d.context.abortOnDocChange&&t.docChanged||d.updates.length+t.transactions.length>l0t&&Date.now()-d.time>c0t){for(let h of d.context.abortListeners)try{h()}catch(m){$o(this.view.state,m)}d.context.abortListeners=null,this.running.splice(c--,1)}else d.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(c=>c.effects.some(d=>d.is(Nk)))&&(this.pendingStart=!0);let a=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(c=>c.state==1&&!this.running.some(d=>d.active.source==c.source))?setTimeout(()=>this.startUpdate(),a):-1,this.composing!=0)for(let c of t.transactions)c.isUserEvent("input.type")?this.composing=2:this.composing==2&&c.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Ma);for(let n of e.active)n.state==1&&!this.running.some(i=>i.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=$0(e),i=new Lk(e,n,t.explicitPos==n,this.view),a=new xH(t,i);this.running.push(a),Promise.resolve(t.source(i)).then(c=>{a.context.aborted||(a.done=c||null,this.scheduleAccept())},c=>{this.view.dispatch({effects:b4.of(null)}),$o(this.view.state,c)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ss).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(ss);for(let i=0;i<this.running.length;i++){let a=this.running[i];if(a.done===void 0)continue;if(this.running.splice(i--,1),a.done){let d=new Fk(a.active.source,a.active.explicitPos,a.done,a.done.from,(t=a.done.to)!==null&&t!==void 0?t:$0(a.updates.length?a.updates[0].startState:this.view.state));for(let h of a.updates)d=d.update(h,n);if(d.hasResult()){e.push(d);continue}}let c=this.view.state.field(Ma).active.find(d=>d.source==a.active.source);if(c&&c.state==1)if(a.done==null){let d=new oh(a.active.source,0);for(let h of a.updates)d=d.update(h,n);d.state!=1&&e.push(d)}else this.startQuery(c)}e.length&&this.view.dispatch({effects:Bbe.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Ma,!1);if(e&&e.tooltip&&this.view.state.facet(ss).closeOnBlur){let n=e.open&&Jz(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:b4.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Nk.of(!1)}),20),this.composing=0}}}),d0t=typeof navigator=="object"&&/Win/.test(navigator.platform),f0t=th.highest(It.domEventHandlers({keydown(t,e){let n=e.state.field(Ma,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(d0t&&t.altKey)||t.metaKey)return!1;let i=n.open.options[n.open.selected],a=n.active.find(d=>d.source==i.source),c=i.completion.commitCharacters||a.result.commitCharacters;return c&&c.indexOf(t.key)>-1&&SH(e,i),!1}})),Vbe=It.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),EH=class{constructor(e,n,i,a){this.field=e,this.line=n,this.from=i,this.to=a}},wH=class t{constructor(e,n,i){this.field=e,this.from=n,this.to=i}map(e){let n=e.mapPos(this.from,-1,bo.TrackDel),i=e.mapPos(this.to,1,bo.TrackDel);return n==null||i==null?null:new t(this.field,n,i)}},_H=class t{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let i=[],a=[n],c=e.doc.lineAt(n),d=/^\s*/.exec(c.text)[0];for(let m of this.lines){if(i.length){let g=d,b=/^\t*/.exec(m)[0].length;for(let E=0;E<b;E++)g+=e.facet($b);a.push(n+g.length-b),m=g+m.slice(b)}i.push(m),n+=m.length+1}let h=this.fieldPositions.map(m=>new wH(m.field,a[m.line]+m.from,a[m.line]+m.to));return{text:i,ranges:h}}static parse(e){let n=[],i=[],a=[],c;for(let d of e.split(/\r\n?|\n/)){for(;c=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(d);){let h=c[1]?+c[1]:null,m=c[2]||c[3]||"",g=-1,b=m.replace(/\\[{}]/g,E=>E[1]);for(let E=0;E<n.length;E++)(h!=null?n[E].seq==h:b&&n[E].name==b)&&(g=E);if(g<0){let E=0;for(;E<n.length&&(h==null||n[E].seq!=null&&n[E].seq<h);)E++;n.splice(E,0,{seq:h,name:b}),g=E;for(let _ of a)_.field>=g&&_.field++}a.push(new EH(g,i.length,c.index,c.index+b.length)),d=d.slice(0,c.index)+m+d.slice(c.index+c[0].length)}d=d.replace(/\\([{}])/g,(h,m,g)=>{for(let b of a)b.line==i.length&&b.from>g&&(b.from--,b.to--);return m}),i.push(d)}return new t(i,a)}},h0t=Xt.widget({widget:new class extends lu{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),p0t=Xt.mark({class:"cm-snippetField"}),Bb=class t{constructor(e,n){this.ranges=e,this.active=n,this.deco=Xt.set(e.map(i=>(i.from==i.to?h0t:p0t).range(i.from,i.to)))}map(e){let n=[];for(let i of this.ranges){let a=i.map(e);if(!a)return null;n.push(a)}return new t(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(i=>i.field==this.active&&i.from<=n.from&&i.to>=n.to))}},E4=Zn.define({map(t,e){return t&&t.map(e)}}),m0t=Zn.define(),x4=Lo.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(E4))return n.value;if(n.is(m0t)&&t)return new Bb(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>It.decorations.from(t,e=>e?e.deco:Xt.none)});function OH(t,e){return ze.create(t.filter(n=>n.field==e).map(n=>ze.range(n.from,n.to)))}function g0t(t){let e=_H.parse(t);return(n,i,a,c)=>{let{text:d,ranges:h}=e.instantiate(n.state,a),m={changes:{from:a,to:c,insert:kn.of(d)},scrollIntoView:!0,annotations:i?[CH.of(i),su.userEvent.of("input.complete")]:void 0};if(h.length&&(m.selection=OH(h,0)),h.some(g=>g.field>0)){let g=new Bb(h,0),b=m.effects=[E4.of(g)];n.state.field(x4,!1)===void 0&&b.push(Zn.appendConfig.of([x4,E0t,w0t,Vbe]))}n.dispatch(n.state.update(m))}}function zbe(t){return({state:e,dispatch:n})=>{let i=e.field(x4,!1);if(!i||t<0&&i.active==0)return!1;let a=i.active+t,c=t>0&&!i.ranges.some(d=>d.field==a+t);return n(e.update({selection:OH(i.ranges,a),effects:E4.of(c?null:new Bb(i.ranges,a)),scrollIntoView:!0})),!0}}var v0t=({state:t,dispatch:e})=>t.field(x4,!1)?(e(t.update({effects:E4.of(null)})),!0):!1,y0t=zbe(1),b0t=zbe(-1);var x0t=[{key:"Tab",run:y0t,shift:b0t},{key:"Escape",run:v0t}],Abe=ct.define({combine(t){return t.length?t[0]:x0t}}),E0t=th.highest(L0.compute([Abe],t=>t.facet(Abe)));function sh(t,e){return Object.assign(Object.assign({},e),{apply:g0t(t)})}var w0t=It.domEventHandlers({mousedown(t,e){let n=e.state.field(x4,!1),i;if(!n||(i=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let a=n.ranges.find(c=>c.from<=i&&c.to>=i);return!a||a.field==n.active?!1:(e.dispatch({selection:OH(n.ranges,a.field),effects:E4.of(n.ranges.some(c=>c.field>a.field)?new Bb(n.ranges,a.field):null),scrollIntoView:!0}),!0)}});var Bk={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},T1=Zn.define({map(t,e){let n=e.mapPos(t,-1,bo.TrackAfter);return n??void 0}}),DH=new class extends au{};DH.startSide=1;DH.endSide=-1;var Hbe=Lo.define({create(){return li.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:i=>i>=n.from&&i<=n.to})}for(let n of e.effects)n.is(T1)&&(t=t.update({add:[DH.range(n.value,n.value+1)]}));return t}});function Vk(){return[O0t,Hbe]}var pH="()[]{}<>";function _0t(t){for(let e=0;e<pH.length;e+=2)if(pH.charCodeAt(e)==t)return pH.charAt(e+1);return ZV(t<128?t:t+1)}function C0t(t,e){return t.languageDataAt("closeBrackets",e)[0]||Bk}var S0t=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),O0t=It.inputHandler.of((t,e,n,i)=>{if((S0t?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let a=t.state.selection.main;if(i.length>2||i.length==2&&lc(ta(i,0))==1||e!=a.from||n!=a.to)return!1;let c=D0t(t.state,i);return c?(t.dispatch(c),!0):!1});function D0t(t,e){let n=C0t(t,t.selection.main.head),i=n.brackets||Bk.brackets;for(let a of i){let c=_0t(ta(a,0));if(e==a)return c==a?P0t(t,a,i.indexOf(a+a+a)>-1,n):T0t(t,a,c,n.before||Bk.before);if(e==c&&Ube(t,t.selection.main.from))return k0t(t,a,c)}return null}function Ube(t,e){let n=!1;return t.field(Hbe).between(0,t.doc.length,i=>{i==e&&(n=!0)}),n}function TH(t,e){let n=t.sliceString(e,e+2);return n.slice(0,lc(ta(n,0)))}function T0t(t,e,n,i){let a=null,c=t.changeByRange(d=>{if(!d.empty)return{changes:[{insert:e,from:d.from},{insert:n,from:d.to}],effects:T1.of(d.to+e.length),range:ze.range(d.anchor+e.length,d.head+e.length)};let h=TH(t.doc,d.head);return!h||/\s/.test(h)||i.indexOf(h)>-1?{changes:{insert:e+n,from:d.head},effects:T1.of(d.head+e.length),range:ze.cursor(d.head+e.length)}:{range:a=d}});return a?null:t.update(c,{scrollIntoView:!0,userEvent:"input.type"})}function k0t(t,e,n){let i=null,a=t.changeByRange(c=>c.empty&&TH(t.doc,c.head)==n?{changes:{from:c.head,to:c.head+n.length,insert:n},range:ze.cursor(c.head+n.length)}:i={range:c});return i?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function P0t(t,e,n,i){let a=i.stringPrefixes||Bk.stringPrefixes,c=null,d=t.changeByRange(h=>{if(!h.empty)return{changes:[{insert:e,from:h.from},{insert:e,from:h.to}],effects:T1.of(h.to+e.length),range:ze.range(h.anchor+e.length,h.head+e.length)};let m=h.head,g=TH(t.doc,m),b;if(g==e){if(Rbe(t,m))return{changes:{insert:e+e,from:m},effects:T1.of(m+e.length),range:ze.cursor(m+e.length)};if(Ube(t,m)){let _=n&&t.sliceDoc(m,m+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:m,to:m+_.length,insert:_},range:ze.cursor(m+_.length)}}}else{if(n&&t.sliceDoc(m-2*e.length,m)==e+e&&(b=Lbe(t,m-2*e.length,a))>-1&&Rbe(t,b))return{changes:{insert:e+e+e+e,from:m},effects:T1.of(m+e.length),range:ze.cursor(m+e.length)};if(t.charCategorizer(m)(g)!=ea.Word&&Lbe(t,m,a)>-1&&!I0t(t,m,e,a))return{changes:{insert:e+e,from:m},effects:T1.of(m+e.length),range:ze.cursor(m+e.length)}}return{range:c=h}});return c?null:t.update(d,{scrollIntoView:!0,userEvent:"input.type"})}function Rbe(t,e){let n=Ur(t).resolveInner(e+1);return n.parent&&n.from==e}function I0t(t,e,n,i){let a=Ur(t).resolveInner(e,-1),c=i.reduce((d,h)=>Math.max(d,h.length),0);for(let d=0;d<5;d++){let h=t.sliceDoc(a.from,Math.min(a.to,a.from+n.length+c)),m=h.indexOf(n);if(!m||m>-1&&i.indexOf(h.slice(0,m))>-1){let b=a.firstChild;for(;b&&b.from==a.from&&b.to-b.from>n.length+m;){if(t.sliceDoc(b.to-n.length,b.to)==n)return!1;b=b.firstChild}return!0}let g=a.to==e&&a.parent;if(!g)break;a=g}return!1}function Lbe(t,e,n){let i=t.charCategorizer(e);if(i(t.sliceDoc(e-1,e))!=ea.Word)return e;for(let a of n){let c=e-a.length;if(t.sliceDoc(c,e)==a&&i(t.sliceDoc(c-1,c))!=ea.Word)return c}return-1}function qbe(t={}){return[f0t,Ma,ss.of(t),u0t,A0t,Vbe]}var M0t=[{key:"Ctrl-Space",run:s0t},{key:"Escape",run:a0t},{key:"ArrowDown",run:Rk(!0)},{key:"ArrowUp",run:Rk(!1)},{key:"PageDown",run:Rk(!0,"page")},{key:"PageUp",run:Rk(!1,"page")},{key:"Enter",run:o0t}],A0t=th.highest(L0.computeN([ss],t=>t.facet(ss).defaultKeymap?[M0t]:[]));var R0t=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),i=MH(t.state,n.from);return i.line?L0t(t):i.block?N0t(t):!1};function IH(t,e){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let a=t(e,n);return a?(i(n.update(a)),!0):!1}}var L0t=IH(j0t,0);var $0t=IH(Jbe,0);var N0t=IH((t,e)=>Jbe(t,e,B0t(e)),0);function MH(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}var w4=50;function F0t(t,{open:e,close:n},i,a){let c=t.sliceDoc(i-w4,i),d=t.sliceDoc(a,a+w4),h=/\s*$/.exec(c)[0].length,m=/^\s*/.exec(d)[0].length,g=c.length-h;if(c.slice(g-e.length,g)==e&&d.slice(m,m+n.length)==n)return{open:{pos:i-h,margin:h&&1},close:{pos:a+m,margin:m&&1}};let b,E;a-i<=2*w4?b=E=t.sliceDoc(i,a):(b=t.sliceDoc(i,i+w4),E=t.sliceDoc(a-w4,a));let _=/^\s*/.exec(b)[0].length,S=/\s*$/.exec(E)[0].length,D=E.length-S-n.length;return b.slice(_,_+e.length)==e&&E.slice(D,D+n.length)==n?{open:{pos:i+_+e.length,margin:/\s/.test(b.charAt(_+e.length))?1:0},close:{pos:a-S-n.length,margin:/\s/.test(E.charAt(D-1))?1:0}}:null}function B0t(t){let e=[];for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),a=n.to<=i.to?i:t.doc.lineAt(n.to),c=e.length-1;c>=0&&e[c].to>i.from?e[c].to=a.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:a.to})}return e}function Jbe(t,e,n=e.selection.ranges){let i=n.map(c=>MH(e,c.from).block);if(!i.every(c=>c))return null;let a=n.map((c,d)=>F0t(e,i[d],c.from,c.to));if(t!=2&&!a.every(c=>c))return{changes:e.changes(n.map((c,d)=>a[d]?[]:[{from:c.from,insert:i[d].open+" "},{from:c.to,insert:" "+i[d].close}]))};if(t!=1&&a.some(c=>c)){let c=[];for(let d=0,h;d<a.length;d++)if(h=a[d]){let m=i[d],{open:g,close:b}=h;c.push({from:g.pos-m.open.length,to:g.pos+g.margin},{from:b.pos-b.margin,to:b.pos+m.close.length})}return{changes:c}}return null}function j0t(t,e,n=e.selection.ranges){let i=[],a=-1;for(let{from:c,to:d}of n){let h=i.length,m=1e9,g=MH(e,c).line;if(g){for(let b=c;b<=d;){let E=e.doc.lineAt(b);if(E.from>a&&(c==d||d>E.from)){a=E.from;let _=/^\s*/.exec(E.text)[0].length,S=_==E.length,D=E.text.slice(_,_+g.length)==g?_:-1;_<E.text.length&&_<m&&(m=_),i.push({line:E,comment:D,token:g,indent:_,empty:S,single:!1})}b=E.to+1}if(m<1e9)for(let b=h;b<i.length;b++)i[b].indent<i[b].line.text.length&&(i[b].indent=m);i.length==h+1&&(i[h].single=!0)}}if(t!=2&&i.some(c=>c.comment<0&&(!c.empty||c.single))){let c=[];for(let{line:h,token:m,indent:g,empty:b,single:E}of i)(E||!b)&&c.push({from:h.from+g,insert:m+" "});let d=e.changes(c);return{changes:d,selection:e.selection.map(d,1)}}else if(t!=1&&i.some(c=>c.comment>=0)){let c=[];for(let{line:d,comment:h,token:m}of i)if(h>=0){let g=d.from+h,b=g+m.length;d.text[b-d.from]==" "&&b++,c.push({from:g,to:b})}return{changes:c}}return null}function jb(t,e){return ze.create(t.ranges.map(e),t.mainIndex)}function Bd(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function fu({state:t,dispatch:e},n){let i=jb(t.selection,n);return i.eq(t.selection,!0)?!1:(e(Bd(t,i)),!0)}function Hk(t,e){return ze.cursor(e?t.to:t.from)}function e3e(t,e){return fu(t,n=>n.empty?t.moveByChar(n,e):Hk(n,e))}function Ds(t){return t.textDirectionAt(t.state.selection.main.head)==Hr.LTR}var t3e=t=>e3e(t,!Ds(t)),n3e=t=>e3e(t,Ds(t));function r3e(t,e){return fu(t,n=>n.empty?t.moveByGroup(n,e):Hk(n,e))}var V0t=t=>r3e(t,!Ds(t)),z0t=t=>r3e(t,Ds(t));var mln=typeof Intl<"u"&&Intl.Segmenter?new Intl.Segmenter(void 0,{granularity:"word"}):null;function H0t(t,e,n){if(e.type.prop(n))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Uk(t,e,n){let i=Ur(t).resolveInner(e.head),a=n?kt.closedBy:kt.openedBy;for(let m=e.head;;){let g=n?i.childAfter(m):i.childBefore(m);if(!g)break;H0t(t,g,a)?i=g:m=n?g.to:g.from}let c=i.type.prop(a),d,h;return c&&(d=n?du(t,i.from,1):du(t,i.to,-1))&&d.matched?h=n?d.end.to:d.end.from:h=n?i.to:i.from,ze.cursor(h,n?-1:1)}var U0t=t=>fu(t,e=>Uk(t.state,e,!Ds(t))),q0t=t=>fu(t,e=>Uk(t.state,e,Ds(t)));function i3e(t,e){return fu(t,n=>{if(!n.empty)return Hk(n,e);let i=t.moveVertically(n,e);return i.head!=n.head?i:t.moveToLineBoundary(n,e)})}var o3e=t=>i3e(t,!1),s3e=t=>i3e(t,!0);function a3e(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,i=0,a;if(e){for(let c of t.state.facet(It.scrollMargins)){let d=c(t);d?.top&&(n=Math.max(d?.top,n)),d?.bottom&&(i=Math.max(d?.bottom,i))}a=t.scrollDOM.clientHeight-n-i}else a=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:i,selfScroll:e,height:Math.max(t.defaultLineHeight,a-5)}}function l3e(t,e){let n=a3e(t),{state:i}=t,a=jb(i.selection,d=>d.empty?t.moveVertically(d,e,n.height):Hk(d,e));if(a.eq(i.selection))return!1;let c;if(n.selfScroll){let d=t.coordsAtPos(i.selection.main.head),h=t.scrollDOM.getBoundingClientRect(),m=h.top+n.marginTop,g=h.bottom-n.marginBottom;d&&d.top>m&&d.bottom<g&&(c=It.scrollIntoView(a.main.head,{y:"start",yMargin:d.top-m}))}return t.dispatch(Bd(i,a),{effects:c}),!0}var Wbe=t=>l3e(t,!1),kH=t=>l3e(t,!0);function N0(t,e,n){let i=t.lineBlockAt(e.head),a=t.moveToLineBoundary(e,n);if(a.head==e.head&&a.head!=(n?i.to:i.from)&&(a=t.moveToLineBoundary(e,n,!1)),!n&&a.head==i.from&&i.length){let c=/^\s*/.exec(t.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;c&&e.head!=i.from+c&&(a=ze.cursor(i.from+c))}return a}var W0t=t=>fu(t,e=>N0(t,e,!0)),G0t=t=>fu(t,e=>N0(t,e,!1)),Q0t=t=>fu(t,e=>N0(t,e,!Ds(t))),Y0t=t=>fu(t,e=>N0(t,e,Ds(t))),X0t=t=>fu(t,e=>ze.cursor(t.lineBlockAt(e.head).from,1)),K0t=t=>fu(t,e=>ze.cursor(t.lineBlockAt(e.head).to,-1));function Z0t(t,e,n){let i=!1,a=jb(t.selection,c=>{let d=du(t,c.head,-1)||du(t,c.head,1)||c.head>0&&du(t,c.head-1,1)||c.head<t.doc.length&&du(t,c.head+1,-1);if(!d||!d.end)return c;i=!0;let h=d.start.from==c.head?d.end.to:d.end.from;return n?ze.range(c.anchor,h):ze.cursor(h)});return i?(e(Bd(t,a)),!0):!1}var J0t=({state:t,dispatch:e})=>Z0t(t,e,!1);function hc(t,e){let n=jb(t.state.selection,i=>{let a=e(i);return ze.range(i.anchor,a.head,a.goalColumn,a.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Bd(t.state,n)),!0)}function c3e(t,e){return hc(t,n=>t.moveByChar(n,e))}var u3e=t=>c3e(t,!Ds(t)),d3e=t=>c3e(t,Ds(t));function f3e(t,e){return hc(t,n=>t.moveByGroup(n,e))}var emt=t=>f3e(t,!Ds(t)),tmt=t=>f3e(t,Ds(t));var nmt=t=>hc(t,e=>Uk(t.state,e,!Ds(t))),rmt=t=>hc(t,e=>Uk(t.state,e,Ds(t)));function h3e(t,e){return hc(t,n=>t.moveVertically(n,e))}var p3e=t=>h3e(t,!1),m3e=t=>h3e(t,!0);function g3e(t,e){return hc(t,n=>t.moveVertically(n,e,a3e(t).height))}var Gbe=t=>g3e(t,!1),Qbe=t=>g3e(t,!0),imt=t=>hc(t,e=>N0(t,e,!0)),omt=t=>hc(t,e=>N0(t,e,!1)),smt=t=>hc(t,e=>N0(t,e,!Ds(t))),amt=t=>hc(t,e=>N0(t,e,Ds(t))),lmt=t=>hc(t,e=>ze.cursor(t.lineBlockAt(e.head).from)),cmt=t=>hc(t,e=>ze.cursor(t.lineBlockAt(e.head).to)),Ybe=({state:t,dispatch:e})=>(e(Bd(t,{anchor:0})),!0),Xbe=({state:t,dispatch:e})=>(e(Bd(t,{anchor:t.doc.length})),!0),Kbe=({state:t,dispatch:e})=>(e(Bd(t,{anchor:t.selection.main.anchor,head:0})),!0),Zbe=({state:t,dispatch:e})=>(e(Bd(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),umt=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),dmt=({state:t,dispatch:e})=>{let n=qk(t).map(({from:i,to:a})=>ze.range(i,Math.min(a+1,t.doc.length)));return e(t.update({selection:ze.create(n),userEvent:"select"})),!0},fmt=({state:t,dispatch:e})=>{let n=jb(t.selection,i=>{var a;let c=Ur(t).resolveStack(i.from,1);for(let d=c;d;d=d.next){let{node:h}=d;if((h.from<i.from&&h.to>=i.to||h.to>i.to&&h.from<=i.from)&&(!((a=h.parent)===null||a===void 0)&&a.parent))return ze.range(h.to,h.from)}return i});return e(Bd(t,n)),!0},hmt=({state:t,dispatch:e})=>{let n=t.selection,i=null;return n.ranges.length>1?i=ze.create([n.main]):n.main.empty||(i=ze.create([ze.cursor(n.main.head)])),i?(e(Bd(t,i)),!0):!1};function _4(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:i}=t,a=i.changeByRange(c=>{let{from:d,to:h}=c;if(d==h){let m=e(c);m<d?(n="delete.backward",m=zk(t,m,!1)):m>d&&(n="delete.forward",m=zk(t,m,!0)),d=Math.min(d,m),h=Math.max(h,m)}else d=zk(t,d,!1),h=zk(t,h,!0);return d==h?{range:c}:{changes:{from:d,to:h},range:ze.cursor(d,d<c.head?-1:1)}});return a.changes.empty?!1:(t.dispatch(i.update(a,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?It.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function zk(t,e,n){if(t instanceof It)for(let i of t.state.facet(It.atomicRanges).map(a=>a(t)))i.between(e,e,(a,c)=>{a<e&&c>e&&(e=n?c:a)});return e}var v3e=(t,e,n)=>_4(t,i=>{let a=i.from,{state:c}=t,d=c.doc.lineAt(a),h,m;if(n&&!e&&a>d.from&&a<d.from+200&&!/[^ \t]/.test(h=d.text.slice(0,a-d.from))){if(h[h.length-1]=="	")return a-1;let g=E1(h,c.tabSize),b=g%y4(c)||y4(c);for(let E=0;E<b&&h[h.length-1-E]==" ";E++)a--;m=a}else m=rs(d.text,a-d.from,e,e)+d.from,m==a&&d.number!=(e?c.doc.lines:1)?m+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(d.text.slice(m-d.from,a-d.from))&&(m=rs(d.text,m-d.from,!1,!1)+d.from);return m}),PH=t=>v3e(t,!1,!0);var y3e=t=>v3e(t,!0,!1),b3e=(t,e)=>_4(t,n=>{let i=n.head,{state:a}=t,c=a.doc.lineAt(i),d=a.charCategorizer(i);for(let h=null;;){if(i==(e?c.to:c.from)){i==n.head&&c.number!=(e?a.doc.lines:1)&&(i+=e?1:-1);break}let m=rs(c.text,i-c.from,e)+c.from,g=c.text.slice(Math.min(i,m)-c.from,Math.max(i,m)-c.from),b=d(g);if(h!=null&&b!=h)break;(g!=" "||i!=n.head)&&(h=b),i=m}return i}),x3e=t=>b3e(t,!1),pmt=t=>b3e(t,!0),mmt=t=>_4(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)});var gmt=t=>_4(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),vmt=t=>_4(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)});var ymt=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:kn.of(["",""])},range:ze.cursor(i.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},bmt=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(i=>{if(!i.empty||i.from==0||i.from==t.doc.length)return{range:i};let a=i.from,c=t.doc.lineAt(a),d=a==c.from?a-1:rs(c.text,a-c.from,!1)+c.from,h=a==c.to?a+1:rs(c.text,a-c.from,!0)+c.from;return{changes:{from:d,to:h,insert:t.doc.slice(a,h).append(t.doc.slice(d,a))},range:ze.cursor(h)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function qk(t){let e=[],n=-1;for(let i of t.selection.ranges){let a=t.doc.lineAt(i.from),c=t.doc.lineAt(i.to);if(!i.empty&&i.to==c.from&&(c=t.doc.lineAt(i.to-1)),n>=a.number){let d=e[e.length-1];d.to=c.to,d.ranges.push(i)}else e.push({from:a.from,to:c.to,ranges:[i]});n=c.number+1}return e}function E3e(t,e,n){if(t.readOnly)return!1;let i=[],a=[];for(let c of qk(t)){if(n?c.to==t.doc.length:c.from==0)continue;let d=t.doc.lineAt(n?c.to+1:c.from-1),h=d.length+1;if(n){i.push({from:c.to,to:d.to},{from:c.from,insert:d.text+t.lineBreak});for(let m of c.ranges)a.push(ze.range(Math.min(t.doc.length,m.anchor+h),Math.min(t.doc.length,m.head+h)))}else{i.push({from:d.from,to:c.from},{from:c.to,insert:t.lineBreak+d.text});for(let m of c.ranges)a.push(ze.range(m.anchor-h,m.head-h))}}return i.length?(e(t.update({changes:i,scrollIntoView:!0,selection:ze.create(a,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}var xmt=({state:t,dispatch:e})=>E3e(t,e,!1),Emt=({state:t,dispatch:e})=>E3e(t,e,!0);function w3e(t,e,n){if(t.readOnly)return!1;let i=[];for(let a of qk(t))n?i.push({from:a.from,insert:t.doc.slice(a.from,a.to)+t.lineBreak}):i.push({from:a.to,insert:t.lineBreak+t.doc.slice(a.from,a.to)});return e(t.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var wmt=({state:t,dispatch:e})=>w3e(t,e,!1),_mt=({state:t,dispatch:e})=>w3e(t,e,!0),Cmt=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(qk(e).map(({from:a,to:c})=>(a>0?a--:c<e.doc.length&&c++,{from:a,to:c}))),i=jb(e.selection,a=>{let c;if(t.lineWrapping){let d=t.lineBlockAt(a.head),h=t.coordsAtPos(a.head,a.assoc||1);h&&(c=d.bottom+t.documentTop-h.bottom+t.defaultLineHeight/2)}return t.moveVertically(a,!0,c)}).map(n);return t.dispatch({changes:n,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Smt(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Ur(t).resolveInner(e),i=n.childBefore(e),a=n.childAfter(e),c;return i&&a&&i.to<=e&&a.from>=e&&(c=i.type.prop(kt.closedBy))&&c.indexOf(a.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(a.from).from&&!/\S/.test(t.sliceDoc(i.to,a.from))?{from:i.to,to:a.from}:null}var Omt=_3e(!1),Dmt=_3e(!0);function _3e(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let i=e.changeByRange(a=>{let{from:c,to:d}=a,h=e.doc.lineAt(c),m=!t&&c==d&&Smt(e,c);t&&(c=d=(d<=h.to?h:e.doc.lineAt(d)).to);let g=new O1(e,{simulateBreak:c,simulateDoubleBreak:!!m}),b=kk(g,c);for(b==null&&(b=E1(/^\s*/.exec(e.doc.lineAt(c).text)[0],e.tabSize));d<h.to&&/\s/.test(h.text[d-h.from]);)d++;m?{from:c,to:d}=m:c>h.from&&c<h.from+100&&!/\S/.test(h.text.slice(0,c))&&(c=h.from);let E=["",Nb(e,b)];return m&&E.push(Nb(e,g.lineIndent(h.from,-1))),{changes:{from:c,to:d,insert:kn.of(E)},range:ze.cursor(c+1+E[1].length)}});return n(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function AH(t,e){let n=-1;return t.changeByRange(i=>{let a=[];for(let d=i.from;d<=i.to;){let h=t.doc.lineAt(d);h.number>n&&(i.empty||i.to>h.from)&&(e(h,a,i),n=h.number),d=h.to+1}let c=t.changes(a);return{changes:a,range:ze.range(c.mapPos(i.anchor,1),c.mapPos(i.head,1))}})}var Tmt=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),i=new O1(t,{overrideIndentation:c=>{let d=n[c];return d??-1}}),a=AH(t,(c,d,h)=>{let m=kk(i,c.from);if(m==null)return;/\S/.test(c.text)||(m=0);let g=/^\s*/.exec(c.text)[0],b=Nb(t,m);(g!=b||h.from<c.from+g.length)&&(n[c.from]=m,d.push({from:c.from,to:c.from+g.length,insert:b}))});return a.changes.empty||e(t.update(a,{userEvent:"indent"})),!0},kmt=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(AH(t,(n,i)=>{i.push({from:n.from,insert:t.facet($b)})}),{userEvent:"input.indent"})),!0),Pmt=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(AH(t,(n,i)=>{let a=/^\s*/.exec(n.text)[0];if(!a)return;let c=E1(a,t.tabSize),d=0,h=Nb(t,Math.max(0,c-y4(t)));for(;d<a.length&&d<h.length&&a.charCodeAt(d)==h.charCodeAt(d);)d++;i.push({from:n.from+d,to:n.from+a.length,insert:h.slice(d)})}),{userEvent:"delete.dedent"})),!0),Imt=t=>(t.setTabFocusMode(),!0);var Mmt=[{key:"Ctrl-b",run:t3e,shift:u3e,preventDefault:!0},{key:"Ctrl-f",run:n3e,shift:d3e},{key:"Ctrl-p",run:o3e,shift:p3e},{key:"Ctrl-n",run:s3e,shift:m3e},{key:"Ctrl-a",run:X0t,shift:lmt},{key:"Ctrl-e",run:K0t,shift:cmt},{key:"Ctrl-d",run:y3e},{key:"Ctrl-h",run:PH},{key:"Ctrl-k",run:mmt},{key:"Ctrl-Alt-h",run:x3e},{key:"Ctrl-o",run:ymt},{key:"Ctrl-t",run:bmt},{key:"Ctrl-v",run:kH}],Amt=[{key:"ArrowLeft",run:t3e,shift:u3e,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:V0t,shift:emt,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Q0t,shift:smt,preventDefault:!0},{key:"ArrowRight",run:n3e,shift:d3e,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:z0t,shift:tmt,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Y0t,shift:amt,preventDefault:!0},{key:"ArrowUp",run:o3e,shift:p3e,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Ybe,shift:Kbe},{mac:"Ctrl-ArrowUp",run:Wbe,shift:Gbe},{key:"ArrowDown",run:s3e,shift:m3e,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Xbe,shift:Zbe},{mac:"Ctrl-ArrowDown",run:kH,shift:Qbe},{key:"PageUp",run:Wbe,shift:Gbe},{key:"PageDown",run:kH,shift:Qbe},{key:"Home",run:G0t,shift:omt,preventDefault:!0},{key:"Mod-Home",run:Ybe,shift:Kbe},{key:"End",run:W0t,shift:imt,preventDefault:!0},{key:"Mod-End",run:Xbe,shift:Zbe},{key:"Enter",run:Omt},{key:"Mod-a",run:umt},{key:"Backspace",run:PH,shift:PH},{key:"Delete",run:y3e},{key:"Mod-Backspace",mac:"Alt-Backspace",run:x3e},{key:"Mod-Delete",mac:"Alt-Delete",run:pmt},{mac:"Mod-Backspace",run:gmt},{mac:"Mod-Delete",run:vmt}].concat(Mmt.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),Wk=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:U0t,shift:nmt},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:q0t,shift:rmt},{key:"Alt-ArrowUp",run:xmt},{key:"Shift-Alt-ArrowUp",run:wmt},{key:"Alt-ArrowDown",run:Emt},{key:"Shift-Alt-ArrowDown",run:_mt},{key:"Escape",run:hmt},{key:"Mod-Enter",run:Dmt},{key:"Alt-l",mac:"Ctrl-l",run:dmt},{key:"Mod-i",run:fmt,preventDefault:!0},{key:"Mod-[",run:Pmt},{key:"Mod-]",run:kmt},{key:"Mod-Alt-\\",run:Tmt},{key:"Shift-Mod-k",run:Cmt},{key:"Shift-Mod-\\",run:J0t},{key:"Mod-/",run:R0t},{key:"Alt-A",run:$0t},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Imt}].concat(Amt);function pc(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var a=n[i];typeof a=="string"?t.setAttribute(i,a):a!=null&&(t[i]=a)}e++}for(;e<arguments.length;e++)C3e(t,arguments[e]);return t}function C3e(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)C3e(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}var RH=class{constructor(e,n,i){this.from=e,this.to=n,this.diagnostic=i}},k1=class t{constructor(e,n,i){this.diagnostics=e,this.panel=n,this.selected=i}static init(e,n,i){let a=e,c=i.facet(jd).markerFilter;c&&(a=c(a,i));let d=Xt.set(a.map(h=>h.from==h.to||h.from==h.to-1&&i.doc.lineAt(h.from).to==h.from?Xt.widget({widget:new LH(h),diagnostic:h}).range(h.from):Xt.mark({attributes:{class:"cm-lintRange cm-lintRange-"+h.severity+(h.markClass?" "+h.markClass:"")},diagnostic:h}).range(h.from,h.to)),!0);return new t(d,n,Vb(d))}};function Vb(t,e=null,n=0){let i=null;return t.between(n,1e9,(a,c,{spec:d})=>{if(!(e&&d.diagnostic!=e))return i=new RH(a,c,d.diagnostic),!1}),i}function Rmt(t,e){let n=e.pos,i=e.end||n,a=t.state.facet(jd).hideOn(t,n,i);if(a!=null)return a;let c=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(d=>d.is(P1))||t.changes.touchesRange(c.from,Math.max(c.to,i)))}function Lmt(t,e){return t.field(hu,!1)?e:e.concat(Zn.appendConfig.of(P3e))}function $mt(t,e){return{effects:Lmt(t,[P1.of(e)])}}var P1=Zn.define(),O3e=Zn.define(),D3e=Zn.define(),hu=Lo.define({create(){return new k1(Xt.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),i=null,a=t.panel;if(t.selected){let c=e.changes.mapPos(t.selected.from,1);i=Vb(n,t.selected.diagnostic,c)||Vb(n,null,c)}!n.size&&a&&e.state.facet(jd).autoPanel&&(a=null),t=new k1(n,a,i)}for(let n of e.effects)if(n.is(P1)){let i=e.state.facet(jd).autoPanel?n.value.length?Yk.open:null:t.panel;t=k1.init(n.value,i,e.state)}else n.is(O3e)?t=new k1(t.diagnostics,n.value?Yk.open:null,t.selected):n.is(D3e)&&(t=new k1(t.diagnostics,t.panel,n.value));return t},provide:t=>[_k.from(t,e=>e.panel),It.decorations.from(t,e=>e.diagnostics)]});var Nmt=Xt.mark({class:"cm-lintRange cm-lintRange-active"});function Fmt(t,e,n){let{diagnostics:i}=t.state.field(hu),a=[],c=2e8,d=0;i.between(e-(n<0?1:0),e+(n>0?1:0),(m,g,{spec:b})=>{e>=m&&e<=g&&(m==g||(e>m||n>0)&&(e<g||n<0))&&(a.push(b.diagnostic),c=Math.min(m,c),d=Math.max(g,d))});let h=t.state.facet(jd).tooltipFilter;return h&&(a=h(a,t.state)),a.length?{pos:c,end:d,above:t.state.doc.lineAt(c).to<d,create(){return{dom:Bmt(t,a)}}}:null}function Bmt(t,e){return pc("ul",{class:"cm-tooltip-lint"},e.map(n=>k3e(t,n,!1)))}var S3e=t=>{let e=t.state.field(hu,!1);return!e||!e.panel?!1:(t.dispatch({effects:O3e.of(!1)}),!0)};var jmt=Os.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(jd);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let t=Date.now();if(t<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:e}=this.view,{sources:n}=e.facet(jd);n.length&&Promise.all(n.map(i=>Promise.resolve(i(this.view)))).then(i=>{let a=i.reduce((c,d)=>c.concat(d));this.view.state.doc==e.doc&&this.view.dispatch($mt(this.view.state,a))},i=>{$o(this.view.state,i)})}}update(t){let e=t.state.facet(jd);(t.docChanged||e!=t.startState.facet(jd)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),jd=ct.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},nh(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?i=>e(i)||n(i):e:n}))}});function Xk(t,e={}){return[jd.of({source:t,config:e}),jmt,P3e]}function T3e(t){let e=[];if(t)e:for(let{name:n}of t){for(let i=0;i<n.length;i++){let a=n[i];if(/[a-zA-Z]/.test(a)&&!e.some(c=>c.toLowerCase()==a.toLowerCase())){e.push(a);continue e}}e.push("")}return e}function k3e(t,e,n){var i;let a=n?T3e(e.actions):[];return pc("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},pc("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(i=e.actions)===null||i===void 0?void 0:i.map((c,d)=>{let h=!1,m=_=>{if(_.preventDefault(),h)return;h=!0;let S=Vb(t.state.field(hu).diagnostics,e);S&&c.apply(t,S.from,S.to)},{name:g}=c,b=a[d]?g.indexOf(a[d]):-1,E=b<0?g:[g.slice(0,b),pc("u",g.slice(b,b+1)),g.slice(b+1)];return pc("button",{type:"button",class:"cm-diagnosticAction",onclick:m,onmousedown:m,"aria-label":` Action: ${g}${b<0?"":` (access key "${a[d]})"`}.`},E)}),e.source&&pc("div",{class:"cm-diagnosticSource"},e.source))}var LH=class extends lu{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return pc("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}},Qk=class{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=k3e(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}},Yk=class t{constructor(e){this.view=e,this.items=[];let n=a=>{if(a.keyCode==27)S3e(this.view),this.view.focus();else if(a.keyCode==38||a.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(a.keyCode==40||a.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(a.keyCode==36)this.moveSelection(0);else if(a.keyCode==35)this.moveSelection(this.items.length-1);else if(a.keyCode==13)this.view.focus();else if(a.keyCode>=65&&a.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:c}=this.items[this.selectedIndex],d=T3e(c.actions);for(let h=0;h<d.length;h++)if(d[h].toUpperCase().charCodeAt(0)==a.keyCode){let m=Vb(this.view.state.field(hu).diagnostics,c);m&&c.actions[h].apply(e,m.from,m.to)}}else return;a.preventDefault()},i=a=>{for(let c=0;c<this.items.length;c++)this.items[c].dom.contains(a.target)&&this.moveSelection(c)};this.list=pc("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:i}),this.dom=pc("div",{class:"cm-panel-lint"},this.list,pc("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>S3e(this.view)},"\xD7")),this.update()}get selectedIndex(){let e=this.view.state.field(hu).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(hu),i=0,a=!1,c=null;for(e.between(0,this.view.state.doc.length,(d,h,{spec:m})=>{let g=-1,b;for(let E=i;E<this.items.length;E++)if(this.items[E].diagnostic==m.diagnostic){g=E;break}g<0?(b=new Qk(this.view,m.diagnostic),this.items.splice(i,0,b),a=!0):(b=this.items[g],g>i&&(this.items.splice(i,g-i),a=!0)),n&&b.diagnostic==n.diagnostic?b.dom.hasAttribute("aria-selected")||(b.dom.setAttribute("aria-selected","true"),c=b):b.dom.hasAttribute("aria-selected")&&b.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)a=!0,this.items.pop();this.items.length==0&&(this.items.push(new Qk(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),a=!0),c?(this.list.setAttribute("aria-activedescendant",c.id),this.view.requestMeasure({key:this,read:()=>({sel:c.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:d,panel:h})=>{let m=h.height/this.list.offsetHeight;d.top<h.top?this.list.scrollTop-=(h.top-d.top)/m:d.bottom>h.bottom&&(this.list.scrollTop+=(d.bottom-h.bottom)/m)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),a&&this.sync()}sync(){let e=this.list.firstChild;function n(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)n();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(hu),i=Vb(n.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:D3e.of(i)})}static open(e){return new t(e)}};function Vmt(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Gk(t){return Vmt(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}var zmt=It.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Gk("#d11")},".cm-lintRange-warning":{backgroundImage:Gk("orange")},".cm-lintRange-info":{backgroundImage:Gk("#999")},".cm-lintRange-hint":{backgroundImage:Gk("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});var P3e=[hu,It.decorations.compute([hu],t=>{let{selected:e,panel:n}=t.field(hu);return!e||!n||e.from==e.to?Xt.none:Xt.set([Nmt.range(e.from,e.to)])}),mbe(Fmt,{hideOn:Rmt}),zmt];var Jk=class t{static create(e,n,i,a,c){let d=a+(a<<8)+e+(n<<4)|0;return new t(e,n,i,d,c,[],[])}constructor(e,n,i,a,c,d,h){this.type=e,this.value=n,this.from=i,this.hash=a,this.end=c,this.children=d,this.positions=h,this.hashProp=[[kt.contextHash,a]]}addChild(e,n){e.prop(kt.contextHash)!=this.hash&&(e=new Kn(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(n)}toTree(e,n=this.end){let i=this.children.length-1;return i>=0&&(n=Math.max(n,this.positions[i]+this.children[i].length+this.from)),new Kn(e.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(a,c,d)=>new Kn(_i.none,a,c,d,this.hashProp)})}},Ge=function(t){return t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.Autolink=33]="Autolink",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel",t[t.URL=44]="URL",t}(Ge||{}),FH=class{constructor(e,n){this.start=e,this.content=n,this.marks=[],this.parsers=[]}},BH=class{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return S4(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,n=0,i=0){for(let a=n;a<e;a++)i+=this.text.charCodeAt(a)==9?4-i%4:1;return i}findColumn(e){let n=0;for(let i=0;n<this.text.length&&i<e;n++)i+=this.text.charCodeAt(n)==9?4-i%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let e="";for(let n=0;n<this.basePos;n++)e+=" ";return e+this.text.slice(this.basePos)}};function I3e(t,e,n){if(n.pos==n.text.length||t!=e.block&&n.indent>=e.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let i=(t.type==Ge.OrderedList?eU:JH)(n,e,!1);return i>0&&(t.type!=Ge.BulletList||ZH(n,e,!1)<0)&&n.text.charCodeAt(n.pos+i-1)==t.value}var $3e={[Ge.Blockquote](t,e,n){return n.next!=62?!1:(n.markers.push(Fn(Ge.QuoteMark,e.lineStart+n.pos,e.lineStart+n.pos+1)),n.moveBase(n.pos+(mc(n.text.charCodeAt(n.pos+1))?2:1)),t.end=e.lineStart+n.text.length,!0)},[Ge.ListItem](t,e,n){return n.indent<n.baseIndent+t.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+t.value),!0)},[Ge.OrderedList]:I3e,[Ge.BulletList]:I3e,[Ge.Document](){return!0}};function mc(t){return t==32||t==9||t==10||t==13}function S4(t,e=0){for(;e<t.length&&mc(t.charCodeAt(e));)e++;return e}function M3e(t,e,n){for(;e>n&&mc(t.charCodeAt(e-1));)e--;return e}function N3e(t){if(t.next!=96&&t.next!=126)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(t.next==96){for(let n=e;n<t.text.length;n++)if(t.text.charCodeAt(n)==96)return-1}return e}function F3e(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function ZH(t,e,n){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let i=1;for(let a=t.pos+1;a<t.text.length;a++){let c=t.text.charCodeAt(a);if(c==t.next)i++;else if(!mc(c))return-1}return n&&t.next==45&&V3e(t)>-1&&t.depth==e.stack.length||i<3?-1:1}function B3e(t,e){for(let n=t.stack.length-1;n>=0;n--)if(t.stack[n].type==e)return!0;return!1}function JH(t,e,n){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||mc(t.text.charCodeAt(t.pos+1)))&&(!n||B3e(e,Ge.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function eU(t,e,n){let i=t.pos,a=t.next;for(;a>=48&&a<=57;){i++;if(i==t.text.length)return-1;a=t.text.charCodeAt(i)}return i==t.pos||i>t.pos+9||a!=46&&a!=41||i<t.text.length-1&&!mc(t.text.charCodeAt(i+1))||n&&!B3e(e,Ge.OrderedList)&&(t.skipSpace(i+1)==t.text.length||i>t.pos+1||t.next!=49)?-1:i+1-t.pos}function j3e(t){if(t.next!=35)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==35;)e++;if(e<t.text.length&&t.text.charCodeAt(e)!=32)return-1;let n=e-t.pos;return n>6?-1:n}function V3e(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let n=e;for(;e<t.text.length&&mc(t.text.charCodeAt(e));)e++;return e==t.text.length?n:-1}var jH=/^[ \t]*$/,z3e=/-->/,H3e=/\?>/,VH=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,z3e],[/^\s*<\?/,H3e],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,jH],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,jH]];function U3e(t,e,n){if(t.next!=60)return-1;let i=t.text.slice(t.pos);for(let a=0,c=VH.length-(n?1:0);a<c;a++)if(VH[a][0].test(i))return a;return-1}function A3e(t,e){let n=t.countIndent(e,t.pos,t.indent),i=t.countIndent(t.skipSpace(e),e,n);return i>=n+5?n+1:i}function I1(t,e,n){let i=t.length-1;i>=0&&t[i].to==e&&t[i].type==Ge.CodeText?t[i].to=n:t.push(Fn(Ge.CodeText,e,n))}var Kk={LinkReference:void 0,IndentedCode(t,e){let n=e.baseIndent+4;if(e.indent<n)return!1;let i=e.findColumn(n),a=t.lineStart+i,c=t.lineStart+e.text.length,d=[],h=[];for(I1(d,a,c);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length){I1(h,t.lineStart-1,t.lineStart);for(let m of e.markers)h.push(m)}else{if(e.indent<n)break;{if(h.length){for(let g of h)g.type==Ge.CodeText?I1(d,g.from,g.to):d.push(g);h=[]}I1(d,t.lineStart-1,t.lineStart);for(let g of e.markers)d.push(g);c=t.lineStart+e.text.length;let m=t.lineStart+e.findColumn(e.baseIndent+4);m<c&&I1(d,m,c)}}return h.length&&(h=h.filter(m=>m.type!=Ge.CodeText),h.length&&(e.markers=h.concat(e.markers))),t.addNode(t.buffer.writeElements(d,-a).finish(Ge.CodeBlock,c-a),a),!0},FencedCode(t,e){let n=N3e(e);if(n<0)return!1;let i=t.lineStart+e.pos,a=e.next,c=n-e.pos,d=e.skipSpace(n),h=M3e(e.text,e.text.length,d),m=[Fn(Ge.CodeMark,i,i+c)];d<h&&m.push(Fn(Ge.CodeInfo,t.lineStart+d,t.lineStart+h));for(let g=!0;t.nextLine()&&e.depth>=t.stack.length;g=!1){let b=e.pos;if(e.indent-e.baseIndent<4)for(;b<e.text.length&&e.text.charCodeAt(b)==a;)b++;if(b-e.pos>=c&&e.skipSpace(b)==e.text.length){for(let E of e.markers)m.push(E);m.push(Fn(Ge.CodeMark,t.lineStart+e.pos,t.lineStart+b)),t.nextLine();break}else{g||I1(m,t.lineStart-1,t.lineStart);for(let S of e.markers)m.push(S);let E=t.lineStart+e.basePos,_=t.lineStart+e.text.length;E<_&&I1(m,E,_)}}return t.addNode(t.buffer.writeElements(m,-i).finish(Ge.FencedCode,t.prevLineEnd()-i),i),!0},Blockquote(t,e){let n=F3e(e);return n<0?!1:(t.startContext(Ge.Blockquote,e.pos),t.addNode(Ge.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+n),null)},HorizontalRule(t,e){if(ZH(e,t,!1)<0)return!1;let n=t.lineStart+e.pos;return t.nextLine(),t.addNode(Ge.HorizontalRule,n),!0},BulletList(t,e){let n=JH(e,t,!1);if(n<0)return!1;t.block.type!=Ge.BulletList&&t.startContext(Ge.BulletList,e.basePos,e.next);let i=A3e(e,e.pos+1);return t.startContext(Ge.ListItem,e.basePos,i-e.baseIndent),t.addNode(Ge.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(i),null},OrderedList(t,e){let n=eU(e,t,!1);if(n<0)return!1;t.block.type!=Ge.OrderedList&&t.startContext(Ge.OrderedList,e.basePos,e.text.charCodeAt(e.pos+n-1));let i=A3e(e,e.pos+n);return t.startContext(Ge.ListItem,e.basePos,i-e.baseIndent),t.addNode(Ge.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(i),null},ATXHeading(t,e){let n=j3e(e);if(n<0)return!1;let i=e.pos,a=t.lineStart+i,c=M3e(e.text,e.text.length,i),d=c;for(;d>i&&e.text.charCodeAt(d-1)==e.next;)d--;(d==c||d==i||!mc(e.text.charCodeAt(d-1)))&&(d=e.text.length);let h=t.buffer.write(Ge.HeaderMark,0,n).writeElements(t.parser.parseInline(e.text.slice(i+n+1,d),a+n+1),-a);d<e.text.length&&h.write(Ge.HeaderMark,d-i,c-i);let m=h.finish(Ge.ATXHeading1-1+n,e.text.length-i);return t.nextLine(),t.addNode(m,a),!0},HTMLBlock(t,e){let n=U3e(e,t,!1);if(n<0)return!1;let i=t.lineStart+e.pos,a=VH[n][1],c=[],d=a!=jH;for(;!a.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){d=!1;break}for(let g of e.markers)c.push(g)}d&&t.nextLine();let h=a==z3e?Ge.CommentBlock:a==H3e?Ge.ProcessingInstructionBlock:Ge.HTMLBlock,m=t.prevLineEnd();return t.addNode(t.buffer.writeElements(c,-i).finish(h,m-i),i),!0},SetextHeading:void 0},zH=class{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,n,i){if(this.stage==-1)return!1;let a=i.content+`
`+n.scrub(),c=this.advance(a);return c>-1&&c<a.length?this.complete(e,i,c):!1}finish(e,n){return(this.stage==2||this.stage==3)&&S4(n.content,this.pos)==n.content.length?this.complete(e,n,n.content.length):!1}complete(e,n,i){return e.addLeafElement(n,Fn(Ge.LinkReference,this.start,this.start+i,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(K3e(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(Fn(Ge.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(Y3e(e,S4(e,this.pos),this.start)))return-1}else if(this.stage==2){let n=S4(e,this.pos),i=0;if(n>this.pos){let a=X3e(e,n,this.start);if(a){let c=$H(e,a.to-this.start);c>0&&(this.nextStage(a),i=c)}}return i||(i=$H(e,this.pos)),i>0&&i<e.length?i:-1}else return $H(e,this.pos)}}};function $H(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(n==10)break;if(!mc(n))return-1}return e}var HH=class{nextLine(e,n,i){let a=n.depth<e.stack.length?-1:V3e(n),c=n.next;if(a<0)return!1;let d=Fn(Ge.HeaderMark,e.lineStart+n.pos,e.lineStart+a);return e.nextLine(),e.addLeafElement(i,Fn(c==61?Ge.SetextHeading1:Ge.SetextHeading2,i.start,e.prevLineEnd(),[...e.parser.parseInline(i.content,i.start),d])),!0}finish(){return!1}},Hmt={LinkReference(t,e){return e.content.charCodeAt(0)==91?new zH(e):null},SetextHeading(){return new HH}},Umt=[(t,e)=>j3e(e)>=0,(t,e)=>N3e(e)>=0,(t,e)=>F3e(e)>=0,(t,e)=>JH(e,t,!0)>=0,(t,e)=>eU(e,t,!0)>=0,(t,e)=>ZH(e,t,!0)>=0,(t,e)=>U3e(e,t,!0)>=0],qmt={text:"",end:0},UH=class{constructor(e,n,i,a){this.parser=e,this.input=n,this.ranges=a,this.line=new BH,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=a[a.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=a[0].from,this.block=Jk.create(Ge.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=i.length?new XH(i,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let i=0;;){let a=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;i<e.markers.length&&(!a||e.markers[i].from<a.end);){let c=e.markers[i++];this.addNode(c.type,c.from,c.to)}if(!a)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let i of this.parser.blockParsers)if(i){let a=i(this,e);if(a!=!1){if(a==!0)return null;e.forward();continue e}}break}let n=new FH(this.lineStart+e.pos,e.text.slice(e.pos));for(let i of this.parser.leafBlockParsers)if(i){let a=i(this,n);a&&n.parsers.push(a)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let i of this.parser.endLeafBlock)if(i(this,e,n))break e}for(let i of n.parsers)if(i.nextLine(this,e,n))return null;n.content+=`
`+e.scrub();for(let i of e.markers)n.marks.push(i)}return this.finishLeaf(n),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=Z3e(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let n=qmt;if(n.end=e,e>=this.to)n.text="";else if(n.text=this.lineChunkAt(e),n.end+=n.text.length,this.ranges.length>1){let i=this.absoluteLineStart,a=this.rangeI;for(;this.ranges[a].to<n.end;){a++;let c=this.ranges[a].from,d=this.lineChunkAt(c);n.end=c+d.length,n.text=n.text.slice(0,this.ranges[a-1].to-i)+d,i=n.end-n.text.length}}return n}readLine(){let{line:e}=this,{text:n,end:i}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=i,e.reset(n);e.depth<this.stack.length;e.depth++){let a=this.stack[e.depth],c=this.parser.skipContextMarkup[a.type];if(!c)throw new Error("Unhandled block context "+Ge[a.type]);if(!c(a,this,e))break;e.forward()}}lineChunkAt(e){let n=this.input.chunk(e),i;if(this.input.lineChunks)i=n==`
`?"":n;else{let a=n.indexOf(`
`);i=a<0?n:n.slice(0,a)}return e+i.length>this.to?i.slice(0,this.to-e):i}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,n,i=0){this.block=Jk.create(e,i,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,n,i=0){this.startContext(this.parser.getNodeType(e),n,i)}addNode(e,n,i){typeof e=="number"&&(e=new Kn(this.parser.nodeSet.types[e],Hb,Hb,(i??this.prevLineEnd())-n)),this.block.addChild(e,n-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,n){this.addNode(this.buffer.writeElements(YH(n.children,e.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let e=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(e.toTree(this.parser.nodeSet),e.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?q3e(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let i of e.parsers)if(i.finish(this,e))return;let n=YH(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(n,-e.start).finish(Ge.Paragraph,e.content.length),e.start)}elt(e,n,i,a){return typeof e=="string"?Fn(this.parser.getNodeType(e),n,i,a):new tP(e,n)}get buffer(){return new eP(this.parser.nodeSet)}};function q3e(t,e,n,i,a){let c=t[e].to,d=[],h=[],m=n.from+i;function g(b,E){for(;E?b>=c:b>c;){let _=t[e+1].from-c;i+=_,b+=_,e++,c=t[e].to}}for(let b=n.firstChild;b;b=b.nextSibling){g(b.from+i,!0);let E=b.from+i,_,S=a.get(b.tree);S?_=S:b.to+i>c?(_=q3e(t,e,b,i,a),g(b.to+i,!1)):_=b.toTree(),d.push(_),h.push(E-m)}return g(n.to+i,!1),new Kn(n.type,d,h,n.to+i-m,n.tree?n.tree.propValues:void 0)}var qH=class t extends C0{constructor(e,n,i,a,c,d,h,m,g){super(),this.nodeSet=e,this.blockParsers=n,this.leafBlockParsers=i,this.blockNames=a,this.endLeafBlock=c,this.skipContextMarkup=d,this.inlineParsers=h,this.inlineNames=m,this.wrappers=g,this.nodeTypes=Object.create(null);for(let b of e.types)this.nodeTypes[b.name]=b.id}createParse(e,n,i){let a=new UH(this,e,n,i);for(let c of this.wrappers)a=c(a,e,n,i);return a}configure(e){let n=WH(e);if(!n)return this;let{nodeSet:i,skipContextMarkup:a}=this,c=this.blockParsers.slice(),d=this.leafBlockParsers.slice(),h=this.blockNames.slice(),m=this.inlineParsers.slice(),g=this.inlineNames.slice(),b=this.endLeafBlock.slice(),E=this.wrappers;if(C4(n.defineNodes)){a=Object.assign({},a);let _=i.types.slice(),S;for(let D of n.defineNodes){let{name:k,block:I,composite:R,style:$}=typeof D=="string"?{name:D}:D;if(_.some(V=>V.name==k))continue;R&&(a[_.length]=(V,G,re)=>R(G,re,V.value));let F=_.length,L=R?["Block","BlockContext"]:I?F>=Ge.ATXHeading1&&F<=Ge.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;_.push(_i.define({id:F,name:k,props:L&&[[kt.group,L]]})),$&&(S||(S={}),Array.isArray($)||$ instanceof hl?S[k]=$:Object.assign(S,$))}i=new w0(_),S&&(i=i.extend(Jf(S)))}if(C4(n.props)&&(i=i.extend(...n.props)),C4(n.remove))for(let _ of n.remove){let S=this.blockNames.indexOf(_),D=this.inlineNames.indexOf(_);S>-1&&(c[S]=d[S]=void 0),D>-1&&(m[D]=void 0)}if(C4(n.parseBlock))for(let _ of n.parseBlock){let S=h.indexOf(_.name);if(S>-1)c[S]=_.parse,d[S]=_.leaf;else{let D=_.before?Zk(h,_.before):_.after?Zk(h,_.after)+1:h.length-1;c.splice(D,0,_.parse),d.splice(D,0,_.leaf),h.splice(D,0,_.name)}_.endLeaf&&b.push(_.endLeaf)}if(C4(n.parseInline))for(let _ of n.parseInline){let S=g.indexOf(_.name);if(S>-1)m[S]=_.parse;else{let D=_.before?Zk(g,_.before):_.after?Zk(g,_.after)+1:g.length-1;m.splice(D,0,_.parse),g.splice(D,0,_.name)}}return n.wrap&&(E=E.concat(n.wrap)),new t(i,c,d,h,b,a,m,g,E)}getNodeType(e){let n=this.nodeTypes[e];if(n==null)throw new RangeError(`Unknown node type '${e}'`);return n}parseInline(e,n){let i=new QH(this,e,n);e:for(let a=n;a<i.end;){let c=i.char(a);for(let d of this.inlineParsers)if(d){let h=d(i,c,a);if(h>=0){a=h;continue e}}a++}return i.resolveMarkers(0)}};function C4(t){return t!=null&&t.length>0}function WH(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let e=WH(t[0]);if(t.length==1)return e;let n=WH(t.slice(1));if(!n||!e)return e||n;let i=(d,h)=>(d||Hb).concat(h||Hb),a=e.wrap,c=n.wrap;return{props:i(e.props,n.props),defineNodes:i(e.defineNodes,n.defineNodes),parseBlock:i(e.parseBlock,n.parseBlock),parseInline:i(e.parseInline,n.parseInline),remove:i(e.remove,n.remove),wrap:a?c?(d,h,m,g)=>a(c(d,h,m,g),h,m,g):a:c}}function Zk(t,e){let n=t.indexOf(e);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return n}var W3e=[_i.none];for(let t=1,e;e=Ge[t];t++)W3e[t]=_i.define({id:t,name:e,props:t>=Ge.Escape?[]:[[kt.group,t in $3e?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});var Hb=[],eP=class{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,n,i,a=0){return this.content.push(e,n,i,4+a*4),this}writeElements(e,n=0){for(let i of e)i.writeTo(this,n);return this}finish(e,n){return Kn.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:n})}},M1=class{constructor(e,n,i,a=Hb){this.type=e,this.from=n,this.to=i,this.children=a}writeTo(e,n){let i=e.content.length;e.writeElements(this.children,n),e.content.push(this.type,this.from+n,this.to+n,e.content.length+4-i)}toTree(e){return new eP(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}},tP=class{constructor(e,n){this.tree=e,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return Hb}writeTo(e,n){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}};function Fn(t,e,n,i){return new M1(t,e,n,i)}var G3e={resolve:"Emphasis",mark:"EmphasisMark"},Q3e={resolve:"Emphasis",mark:"EmphasisMark"},zb={},GH={},Aa=class{constructor(e,n,i,a){this.type=e,this.from=n,this.to=i,this.side=a}},R3e="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",D4=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{D4=new RegExp("[\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}]","u")}catch{}var NH={Escape(t,e,n){if(e!=92||n==t.end-1)return-1;let i=t.char(n+1);for(let a=0;a<R3e.length;a++)if(R3e.charCodeAt(a)==i)return t.append(Fn(Ge.Escape,n,n+2));return-1},Entity(t,e,n){if(e!=38)return-1;let i=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(n+1,n+31));return i?t.append(Fn(Ge.Entity,n,n+1+i[0].length)):-1},InlineCode(t,e,n){if(e!=96||n&&t.char(n-1)==96)return-1;let i=n+1;for(;i<t.end&&t.char(i)==96;)i++;let a=i-n,c=0;for(;i<t.end;i++)if(t.char(i)==96){if(c++,c==a&&t.char(i+1)!=96)return t.append(Fn(Ge.InlineCode,n,i+1,[Fn(Ge.CodeMark,n,n+a),Fn(Ge.CodeMark,i+1-a,i+1)]))}else c=0;return-1},HTMLTag(t,e,n){if(e!=60||n==t.end-1)return-1;let i=t.slice(n+1,t.end),a=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(i);if(a)return t.append(Fn(Ge.Autolink,n,n+1+a[0].length,[Fn(Ge.LinkMark,n,n+1),Fn(Ge.URL,n+1,n+a[0].length),Fn(Ge.LinkMark,n+a[0].length,n+1+a[0].length)]));let c=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(i);if(c)return t.append(Fn(Ge.Comment,n,n+1+c[0].length));let d=/^\?[^]*?\?>/.exec(i);if(d)return t.append(Fn(Ge.ProcessingInstruction,n,n+1+d[0].length));let h=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(i);return h?t.append(Fn(Ge.HTMLTag,n,n+1+h[0].length)):-1},Emphasis(t,e,n){if(e!=95&&e!=42)return-1;let i=n+1;for(;t.char(i)==e;)i++;let a=t.slice(n-1,n),c=t.slice(i,i+1),d=D4.test(a),h=D4.test(c),m=/\s|^$/.test(a),g=/\s|^$/.test(c),b=!g&&(!h||m||d),E=!m&&(!d||g||h),_=b&&(e==42||!E||d),S=E&&(e==42||!b||h);return t.append(new Aa(e==95?G3e:Q3e,n,i,(_?1:0)|(S?2:0)))},HardBreak(t,e,n){if(e==92&&t.char(n+1)==10)return t.append(Fn(Ge.HardBreak,n,n+2));if(e==32){let i=n+1;for(;t.char(i)==32;)i++;if(t.char(i)==10&&i>=n+2)return t.append(Fn(Ge.HardBreak,n,i+1))}return-1},Link(t,e,n){return e==91?t.append(new Aa(zb,n,n+1,1)):-1},Image(t,e,n){return e==33&&t.char(n+1)==91?t.append(new Aa(GH,n,n+2,1)):-1},LinkEnd(t,e,n){if(e!=93)return-1;for(let i=t.parts.length-1;i>=0;i--){let a=t.parts[i];if(a instanceof Aa&&(a.type==zb||a.type==GH)){if(!a.side||t.skipSpace(a.to)==n&&!/[(\[]/.test(t.slice(n+1,n+2)))return t.parts[i]=null,-1;let c=t.takeContent(i),d=t.parts[i]=Wmt(t,c,a.type==zb?Ge.Link:Ge.Image,a.from,n+1);if(a.type==zb)for(let h=0;h<i;h++){let m=t.parts[h];m instanceof Aa&&m.type==zb&&(m.side=0)}return d.to}}return-1}};function Wmt(t,e,n,i,a){let{text:c}=t,d=t.char(a),h=a;if(e.unshift(Fn(Ge.LinkMark,i,i+(n==Ge.Image?2:1))),e.push(Fn(Ge.LinkMark,a-1,a)),d==40){let m=t.skipSpace(a+1),g=Y3e(c,m-t.offset,t.offset),b;g&&(m=t.skipSpace(g.to),m!=g.to&&(b=X3e(c,m-t.offset,t.offset),b&&(m=t.skipSpace(b.to)))),t.char(m)==41&&(e.push(Fn(Ge.LinkMark,a,a+1)),h=m+1,g&&e.push(g),b&&e.push(b),e.push(Fn(Ge.LinkMark,m,h)))}else if(d==91){let m=K3e(c,a-t.offset,t.offset,!1);m&&(e.push(m),h=m.to)}return Fn(n,i,h,e)}function Y3e(t,e,n){if(t.charCodeAt(e)==60){for(let a=e+1;a<t.length;a++){let c=t.charCodeAt(a);if(c==62)return Fn(Ge.URL,e+n,a+1+n);if(c==60||c==10)return!1}return null}else{let a=0,c=e;for(let d=!1;c<t.length;c++){let h=t.charCodeAt(c);if(mc(h))break;if(d)d=!1;else if(h==40)a++;else if(h==41){if(!a)break;a--}else h==92&&(d=!0)}return c>e?Fn(Ge.URL,e+n,c+n):c==t.length?null:!1}}function X3e(t,e,n){let i=t.charCodeAt(e);if(i!=39&&i!=34&&i!=40)return!1;let a=i==40?41:i;for(let c=e+1,d=!1;c<t.length;c++){let h=t.charCodeAt(c);if(d)d=!1;else{if(h==a)return Fn(Ge.LinkTitle,e+n,c+1+n);h==92&&(d=!0)}}return null}function K3e(t,e,n,i){for(let a=!1,c=e+1,d=Math.min(t.length,c+999);c<d;c++){let h=t.charCodeAt(c);if(a)a=!1;else{if(h==93)return i?!1:Fn(Ge.LinkLabel,e+n,c+1+n);if(i&&!mc(h)&&(i=!1),h==91)return!1;h==92&&(a=!0)}}return null}var QH=class{constructor(e,n,i){this.parser=e,this.text=n,this.offset=i,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,n){return this.text.slice(e-this.offset,n-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,n,i,a,c){return this.append(new Aa(e,n,i,(a?1:0)|(c?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let n=this.parts[e];if(n instanceof Aa&&(n.type==zb||n.type==GH))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let i=e;i<this.parts.length;i++){let a=this.parts[i];if(!(a instanceof Aa&&a.type.resolve&&a.side&2))continue;let c=a.type==G3e||a.type==Q3e,d=a.to-a.from,h,m=i-1;for(;m>=e;m--){let k=this.parts[m];if(k instanceof Aa&&k.side&1&&k.type==a.type&&!(c&&(a.side&1||k.side&2)&&(k.to-k.from+d)%3==0&&((k.to-k.from)%3||d%3))){h=k;break}}if(!h)continue;let g=a.type.resolve,b=[],E=h.from,_=a.to;if(c){let k=Math.min(2,h.to-h.from,d);E=h.to-k,_=a.from+k,g=k==1?"Emphasis":"StrongEmphasis"}h.type.mark&&b.push(this.elt(h.type.mark,E,h.to));for(let k=m+1;k<i;k++)this.parts[k]instanceof M1&&b.push(this.parts[k]),this.parts[k]=null;a.type.mark&&b.push(this.elt(a.type.mark,a.from,_));let S=this.elt(g,E,_,b);this.parts[m]=c&&h.from!=E?new Aa(h.type,h.from,E,h.side):null,(this.parts[i]=c&&a.to!=_?new Aa(a.type,_,a.to,a.side):null)?this.parts.splice(i,0,S):this.parts[i]=S}let n=[];for(let i=e;i<this.parts.length;i++){let a=this.parts[i];a instanceof M1&&n.push(a)}return n}findOpeningDelimiter(e){for(let n=this.parts.length-1;n>=0;n--){let i=this.parts[n];if(i instanceof Aa&&i.type==e)return n}return null}takeContent(e){let n=this.resolveMarkers(e);return this.parts.length=e,n}skipSpace(e){return S4(this.text,e-this.offset)+this.offset}elt(e,n,i,a){return typeof e=="string"?Fn(this.parser.getNodeType(e),n,i,a):new tP(e,n)}};function YH(t,e){if(!e.length)return t;if(!t.length)return e;let n=t.slice(),i=0;for(let a of e){for(;i<n.length&&n[i].to<a.to;)i++;if(i<n.length&&n[i].from<a.from){let c=n[i];c instanceof M1&&(n[i]=new M1(c.type,c.from,c.to,YH(c.children,[a])))}else n.splice(i++,0,a)}return n}var Gmt=[Ge.CodeBlock,Ge.ListItem,Ge.OrderedList,Ge.BulletList],XH=class{constructor(e,n){this.fragments=e,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,n){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let c=this.fragment.to;for(;c>0&&this.input.read(c-1,c)!=`
`;)c--;this.fragmentEnd=c?c-1:0}let i=this.cursor;i||(i=this.cursor=this.fragment.tree.cursor(),i.firstChild());let a=e+this.fragment.offset;for(;i.to<=a;)if(!i.parent())return!1;for(;;){if(i.from>=a)return this.fragment.from<=n;if(!i.childAfter(a))return!1}}matches(e){let n=this.cursor.tree;return n&&n.prop(kt.contextHash)==e}takeNodes(e){let n=this.cursor,i=this.fragment.offset,a=this.fragmentEnd-(this.fragment.openEnd?1:0),c=e.absoluteLineStart,d=c,h=e.block.children.length,m=d,g=h;for(;;){if(n.to-i>a){if(n.type.isAnonymous&&n.firstChild())continue;break}let b=Z3e(n.from-i,e.ranges);if(n.to-i<=e.ranges[e.rangeI].to)e.addNode(n.tree,b);else{let E=new Kn(e.parser.nodeSet.types[Ge.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(E,n.tree),e.addNode(E,b)}if(n.type.is("Block")&&(Gmt.indexOf(n.type.id)<0?(d=n.to-i,h=e.block.children.length):(d=m,h=g,m=n.to-i,g=e.block.children.length)),!n.nextSibling())break}for(;e.block.children.length>h;)e.block.children.pop(),e.block.positions.pop();return d-c}};function Z3e(t,e){let n=t;for(let i=1;i<e.length;i++){let a=e[i-1].to,c=e[i].from;a<t&&(n-=c-a)}return n}var Qmt=Jf({"Blockquote/...":ie.quote,HorizontalRule:ie.contentSeparator,"ATXHeading1/... SetextHeading1/...":ie.heading1,"ATXHeading2/... SetextHeading2/...":ie.heading2,"ATXHeading3/...":ie.heading3,"ATXHeading4/...":ie.heading4,"ATXHeading5/...":ie.heading5,"ATXHeading6/...":ie.heading6,"Comment CommentBlock":ie.comment,Escape:ie.escape,Entity:ie.character,"Emphasis/...":ie.emphasis,"StrongEmphasis/...":ie.strong,"Link/... Image/...":ie.link,"OrderedList/... BulletList/...":ie.list,"BlockQuote/...":ie.quote,"InlineCode CodeText":ie.monospace,"URL Autolink":ie.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":ie.processingInstruction,"CodeInfo LinkLabel":ie.labelName,LinkTitle:ie.string,Paragraph:ie.content}),J3e=new qH(new w0(W3e).extend(Qmt),Object.keys(Kk).map(t=>Kk[t]),Object.keys(Kk).map(t=>Hmt[t]),Object.keys(Kk),Umt,$3e,Object.keys(NH).map(t=>NH[t]),Object.keys(NH),[]);var Ymt={resolve:"Strikethrough",mark:"StrikethroughMark"},Oln={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":ie.strikethrough}},{name:"StrikethroughMark",style:ie.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,e,n){if(e!=126||t.char(n+1)!=126||t.char(n+2)==126)return-1;let i=t.slice(n-1,n),a=t.slice(n+2,n+3),c=/\s|^$/.test(i),d=/\s|^$/.test(a),h=D4.test(i),m=D4.test(a);return t.addDelimiter(Ymt,n,n+2,!d&&(!m||c||h),!c&&(!h||d||m))},after:"Emphasis"}]};function O4(t,e,n=0,i,a=0){let c=0,d=!0,h=-1,m=-1,g=!1,b=()=>{i.push(t.elt("TableCell",a+h,a+m,t.parser.parseInline(e.slice(h,m),a+h)))};for(let E=n;E<e.length;E++){let _=e.charCodeAt(E);_==124&&!g?((!d||h>-1)&&c++,d=!1,i&&(h>-1&&b(),i.push(t.elt("TableDelimiter",E+a,E+a+1))),h=m=-1):(g||_!=32&&_!=9)&&(h<0&&(h=E),m=E+1),g=!g&&_==92}return h>-1&&(c++,i&&b()),c}function L3e(t,e){for(let n=e;n<t.length;n++){let i=t.charCodeAt(n);if(i==124)return!0;i==92&&n++}return!1}var exe=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/,nP=class{constructor(){this.rows=null}nextLine(e,n,i){if(this.rows==null){this.rows=!1;let a;if((n.next==45||n.next==58||n.next==124)&&exe.test(a=n.text.slice(n.pos))){let c=[];O4(e,i.content,0,c,i.start)==O4(e,a,n.pos)&&(this.rows=[e.elt("TableHeader",i.start,i.start+i.content.length,c),e.elt("TableDelimiter",e.lineStart+n.pos,e.lineStart+n.text.length)])}}else if(this.rows){let a=[];O4(e,n.text,n.pos,a,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+n.pos,e.lineStart+n.text.length,a))}return!1}finish(e,n){return this.rows?(e.addLeafElement(n,e.elt("Table",n.start,n.start+n.content.length,this.rows)),!0):!1}},Dln={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":ie.heading}},"TableRow",{name:"TableCell",style:ie.content},{name:"TableDelimiter",style:ie.processingInstruction}],parseBlock:[{name:"Table",leaf(t,e){return L3e(e.content,0)?new nP:null},endLeaf(t,e,n){if(n.parsers.some(a=>a instanceof nP)||!L3e(e.text,e.basePos))return!1;let i=t.scanLine(t.absoluteLineEnd+1).text;return exe.test(i)&&O4(t,e.text,e.basePos)==O4(t,i,e.basePos)},before:"SetextHeading"}]},KH=class{nextLine(){return!1}finish(e,n){return e.addLeafElement(n,e.elt("Task",n.start,n.start+n.content.length,[e.elt("TaskMarker",n.start,n.start+3),...e.parser.parseInline(n.content.slice(3),n.start+3)])),!0}},Tln={defineNodes:[{name:"Task",block:!0,style:ie.list},{name:"TaskMarker",style:ie.atom}],parseBlock:[{name:"TaskList",leaf(t,e){return/^\[[ xX]\][ \t]/.test(e.content)&&t.parentType().name=="ListItem"?new KH:null},after:"SetextHeading"}]};function txe(t,e,n){return(i,a,c)=>{if(a!=t||i.char(c+1)==t)return-1;let d=[i.elt(n,c,c+1)];for(let h=c+1;h<i.end;h++){let m=i.char(h);if(m==t)return i.addElement(i.elt(e,c,h+1,d.concat(i.elt(n,h,h+1))));if(m==92&&d.push(i.elt("Escape",h,h+++2)),mc(m))break}return-1}}var kln={defineNodes:[{name:"Superscript",style:ie.special(ie.content)},{name:"SuperscriptMark",style:ie.processingInstruction}],parseInline:[{name:"Superscript",parse:txe(94,"Superscript","SuperscriptMark")}]},Pln={defineNodes:[{name:"Subscript",style:ie.special(ie.content)},{name:"SubscriptMark",style:ie.processingInstruction}],parseInline:[{name:"Subscript",parse:txe(126,"Subscript","SubscriptMark")}]},Iln={defineNodes:[{name:"Emoji",style:ie.character}],parseInline:[{name:"Emoji",parse(t,e,n){let i;return e!=58||!(i=/^[a-zA-Z_0-9]+:/.exec(t.slice(n+1,t.end)))?-1:t.addElement(t.elt("Emoji",n,n+1+i[0].length))}}]};function Xmt(t){let e=[];return t.iterate({enter:n=>{let i=n.node;if(!i.type.isError)return;let a=i.parent,c=rxe(i),d={from:i.from,to:i.to,severity:"error",type:"Syntax Error"};if(i.from!==i.to)d.message=`Unrecognized token in <${a.name}>`;else if(c)d.message=`Unrecognized token <${c.name}> in <${a.name}>`,d.to=c.to;else{let h=a.enterUnfinishedNodesBefore(i.to);d.message=`Incomplete <${(h||a).name}>`}e.push(d)}}),e}function rxe(t){return t?t.nextSibling||rxe(t.parent):null}var Kmt="first-item",Zmt={create(t){return{enter(e){if(e.name!=="FilterExpression")return;let n=t.readContent(e.from,e.to);if(nxe().test(n)){let{from:i,to:a}=e;t.report({from:i,to:a,message:"First item is accessed via [1]",severity:"error",type:Kmt,actions:[{name:"fix",apply(c,d=i,h=a){t.updateContent(d,h,n.replace(nxe(),"[1]"))}}]})}}}}};function nxe(){return/\[\s*0\s*\]$/}var Jmt=[Zmt];function egt(t){let{readContent:e,syntaxTree:n,updateContent:i}=t,a=[],c={readContent:e,report:h=>{a.push(h)},updateContent:i},d=Jmt.map(h=>h.create(c));return n.iterate({enter:h=>{for(let m of d)m.enter&&m.enter(h)},leave:h=>{for(let m of d)m.leave&&m.leave(h)}}),a}function tgt(t){return[...Xmt(t.syntaxTree),...egt(t)]}var rP=()=>t=>{if(t.state.doc.length===0)return[];let e=Ur(t.state);return tgt({syntaxTree:e,readContent:(i,a)=>t.state.sliceDoc(i,a),updateContent:(i,a,c)=>t.dispatch({changes:{from:i,to:a,insert:c}})}).map(i=>Me(se({},i),{source:i.type}))};var ngt=Fb(Fd.define([{tag:ie.strong,fontWeight:"bold"},{tag:ie.emphasis,fontStyle:"italic"}])),rgt=It.theme({"& .cm-lintRange":{position:"relative"},"& .cm-lintRange::after":{content:'""',width:"100%",position:"absolute",left:"0px",bottom:"-2px",height:"3px",backgroundRepeat:"repeat-x"},"& .cm-lintRange.cm-lintRange-warning, & .cm-lintRange.cm-lintRange-error":{backgroundImage:"none"},"& .cm-lintPoint::after":{bottom:"-2px"}}),lxe=[rgt,ngt],ixe=t=>`%23${t.slice(1)}`,Kt={black:"#1f2b36",darkGrey:"#2f3d58",grey:"#404a5c",midGrey:"#576071",lightGrey:"#c5d1e5",offWhite:"#d9e0f5",snowWhite:"#eaf1ff",white:"#ffffff",mossGreen:"#7ab6aa",iceBlue:"#6cbfd8",waterBlue:"#065aaa",brightBlue:"#0a56b9",deepBlue:"#355472",red:"#9f1c15",orangeBrown:"#b4502f",yellow:"#debd71",lila:"#9a4890",purple:"#5b2c83"},xo={lightBackground:Kt.white,darkBackground:Kt.snowWhite,selection:Kt.snowWhite,tooltipBackground:Kt.offWhite,error:Kt.red,warning:Kt.yellow,invalid:"#b40000"},igt=It.theme({"&":{color:Kt.black,backgroundColor:xo.lightBackground},".cm-content":{caretColor:Kt.darkGrey},".cm-cursor, .cm-dropCursor":{borderLeftColor:Kt.darkGrey},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:xo.selection},".cm-panels":{backgroundColor:xo.darkBackground,color:Kt.grey},".cm-panels.cm-panels-top":{borderBottom:`2px solid ${Kt.black}`},".cm-panels.cm-panels-bottom":{borderTop:`2px solid ${Kt.black}`},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:`1px solid ${Kt.midGrey}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:Kt.offWhite},".cm-activeLine":{backgroundColor:xo.selection},".cm-selectionMatch":{backgroundColor:Kt.offWhite},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${Kt.grey}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:Kt.snowWhite},".cm-gutters":{backgroundColor:"#f3f7fe",color:"#52668d",border:"none",padding:"0 5px"},".cm-activeLineGutter":{backgroundColor:xo.selection},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:xo.tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:xo.tooltipBackground,borderBottomColor:xo.tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:xo.darkBackground,color:Kt.midGrey}},"& .cm-lintRange.cm-lintRange-warning::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${ixe(xo.warning)}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-lintRange.cm-lintRange-error::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${ixe(xo.error)}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-diagnostic-warning":{border:`1px solid ${xo.warning}`,borderLeft:`5px solid ${xo.warning}`,background:xo.lightBackground},"& .cm-diagnostic-error":{border:`1px solid ${xo.error}`,borderLeft:`5px solid ${xo.error}`,background:xo.lightBackground},"& .cm-diagnostic":{padding:"3px 8px"}},{dark:!1}),ogt=Fb(Fd.define([{tag:[ie.macroName,ie.variableName],color:Kt.waterBlue},{tag:[ie.special(ie.bracket)],color:Kt.waterBlue,fontWeight:"bold"},{tag:[ie.color,ie.name,ie.definition(ie.name),ie.constant(ie.name),ie.standard(ie.name),ie.propertyName],color:Kt.deepBlue},{tag:[ie.definition(ie.variableName),ie.function(ie.variableName),ie.function(ie.propertyName)],color:Kt.brightBlue},{tag:[ie.labelName],color:Kt.orangeBrown},{tag:[ie.annotation],color:xo.invalid},{tag:[ie.number,ie.changed,ie.annotation,ie.modifier,ie.self,ie.namespace,ie.atom,ie.bool,ie.special(ie.variableName)],color:Kt.red},{tag:[ie.typeName,ie.className,ie.attributeName],color:Kt.lila},{tag:[ie.operator,ie.operatorKeyword,ie.tagName,ie.keyword],color:Kt.purple},{tag:[ie.angleBracket,ie.squareBracket,ie.brace,ie.separator,ie.punctuation],color:Kt.midGrey},{tag:[ie.regexp],color:Kt.deepBlue},{tag:[ie.quote],color:Kt.darkGrey},{tag:[ie.string,ie.character,ie.deleted],color:Kt.orangeBrown},{tag:ie.link,color:Kt.mossGreen,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[ie.url,ie.escape,ie.special(ie.string)],color:Kt.red},{tag:[ie.meta],color:Kt.iceBlue},{tag:[ie.comment],color:Kt.midGrey,fontStyle:"italic"},{tag:ie.strong,fontWeight:"bold",color:Kt.deepBlue},{tag:ie.emphasis,fontStyle:"italic",color:Kt.deepBlue},{tag:ie.strikethrough,textDecoration:"line-through"},{tag:ie.heading,fontWeight:"bold",color:Kt.midGray},{tag:ie.special(ie.heading1),fontWeight:"bold",color:Kt.darkGrey},{tag:[ie.heading1,ie.heading2,ie.heading3,ie.heading4],fontWeight:"bold",color:Kt.midGrey},{tag:[ie.heading5,ie.heading6,ie.processingInstruction,ie.inserted],color:Kt.grey},{tag:[ie.contentSeparator],color:Kt.yellow},{tag:ie.invalid,color:Kt.midGrey,borderBottom:`1px dotted ${xo.invalid}`}])),sgt=[igt,ogt],agt="#abb2bf",tU="#f07178",lgt="#7d8799",cgt="#ffffff",Ub="#fffce1",nU="#ec9e6f",ugt="#21252b",rU="rgba(0, 0, 0, 0.5)",dgt="#292d3e",iU="#353a42",fgt="rgba(128, 203, 196, 0.2)",oxe="#ffcc00",hgt="%23",sxe="fff890",axe="red",pgt="#281e16",mgt="#281616",ggt=It.theme({"&":{color:"#ffffff",backgroundColor:dgt},".cm-content":{caretColor:oxe},"&.cm-focused .cm-cursor":{borderLeftColor:oxe},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:fgt},".cm-panels":{backgroundColor:ugt,color:"#ffffff"},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:rU},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{background:"#292d3e",color:"#676e95",border:"none",padding:"0 5px"},".cm-activeLineGutter":{backgroundColor:rU},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:iU},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:iU,borderBottomColor:iU},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:rU,color:agt}},"& .cm-lintRange.cm-lintRange-warning::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${hgt+sxe}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-lintRange.cm-lintRange-error::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${axe}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-diagnostic-warning":{borderLeft:`5px solid #${sxe}`,background:pgt},"& .cm-diagnostic-error":{borderLeft:`5px solid ${axe}`,background:mgt},"& .cm-diagnostic":{borderRadius:"2px",padding:"3px 8px"}},{dark:!0}),vgt=Fb(Fd.define([{tag:ie.heading1,color:Ub},{tag:ie.heading2,color:Ub},{tag:ie.heading3,color:Ub},{tag:ie.heading4,color:Ub},{tag:ie.heading5,color:Ub},{tag:ie.heading6,color:Ub},{tag:ie.special(ie.bracket),color:nU,fontWeight:"bold"},{tag:ie.keyword,color:"#c792ea"},{tag:ie.operator,color:"#89ddff"},{tag:ie.special(ie.variableName),color:"#eeffff"},{tag:ie.typeName,color:"#f07178"},{tag:ie.atom,color:"#f78c6c"},{tag:ie.number,color:"#ff5370"},{tag:ie.bool,color:"#ff5370"},{tag:ie.definition(ie.variableName),color:"#82aaff"},{tag:ie.string,color:"#c3e88d"},{tag:ie.comment,color:lgt},{tag:ie.tagName,color:"#ff5370"},{tag:ie.bracket,color:"#a2a1a4"},{tag:ie.meta,color:"#ffcb6b"},{tag:ie.special(ie.string),color:tU},{tag:ie.propertyName,color:nU},{tag:ie.variableName,color:nU},{tag:ie.attributeName,color:tU},{tag:ie.className,color:tU},{tag:ie.invalid,color:cgt}])),ygt=[ggt,vgt],cxe=[...lxe,...sgt],uxe=[...lxe,...ygt];var bgt=1,xgt=2,Egt=3,iP={"{":123,"}":125},wgt=(t,e=0)=>{let n=t.peek(e)===iP["}"],i=t.peek(e+1)===iP["}"];return n&&i||t.peek(e)===-1},_gt=new Td((t,e)=>{let n=0;for(;!wgt(t,n);)n++;n>0&&(t.advance(n),t.acceptToken(xgt))}),Cgt=(t,e=0)=>{let n=t.peek(e)===iP["{"],i=t.peek(e+1)===iP["{"];return n&&i||t.peek(e)===-1},Sgt=new Td((t,e)=>{let n=0;for(;!Cgt(t,n);)n++;n>0&&(t.advance(n),t.acceptToken(Egt))}),Ogt=new Td((t,e)=>{let n=0;for(;t.peek(n)!==-1;)n++;n>0&&(t.advance(n),t.acceptToken(bgt))}),Dgt=Jf({ConditionalSpanner:ie.special(ie.bracket),ConditionalSpannerClose:ie.special(ie.bracket),ConditionalSpannerCloseNl:ie.special(ie.bracket),LoopSpanner:ie.special(ie.bracket),LoopSpannerClose:ie.special(ie.bracket),LoopSpannerCloseNl:ie.special(ie.bracket),EmptyInsert:ie.special(ie.bracket),Insert:ie.special(ie.bracket)}),Tgt=mb.deserialize({version:14,states:"$bOQOaOOOfOXO'#CbOOO`'#Cm'#CmOqOWO'#CcOvOWO'#CfOOO`'#Cp'#CpOOO`'#Ci'#CiO{OaO'#ClO!jOSOOQOOOOOO!oOPO,58{O!tOXO,58|OOO`,58|,58|O!|OQO,58}O#ROQO,59QOOO`-E6g-E6gOOO`1G.g1G.gO#WOPO1G.gOOO`1G.h1G.hO#]OaO1G.iO#qOaO1G.lOOO`7+$R7+$RO$VOPO7+$TO$_OPO7+$WOOO`<<Go<<GoOOO`<<Gr<<Gr",stateData:"$g~ORUO_WObPOeROgSO^`P~OQYO_ZOc[O~OQ]O~OQ^O~ORUObPOeROgSO^`XW`XX`XZ`X[`X~OPXO~Oc`O~OQaOcbO~OfcO~OfdO~OceO~ORUObPOeROgSOW`PX`P~ORUObPOeROgSOZ`P[`P~OWhOXhO~OZiO[iO~O",goto:"!ZePPPPPfflPPlPPrPPz!TPP!TXQOVcdXTOVcdUVOcdR_VQXOQfcRgdXUOVcd",nodeNames:"\u26A0 Feel FeelBlock SimpleTextBlock Feelers Insert EmptyInsert ConditionalSpanner ConditionalSpannerClose ConditionalSpannerCloseNl LoopSpanner LoopSpannerClose LoopSpannerCloseNl",maxTerm:23,propSources:[Dgt],skippedNodes:[0],repeatNodeCount:1,tokenData:"%X~RR!_!`[#o#pa#q#r$r~aO_~~dP#o#pg~lQb~str!P!Q!{~uQ#]#^{#`#a!^~!OP#Y#Z!R~!UPpq!X~!^Oe~~!aP#c#d!d~!gP#c#d!j~!mP#d#e!p~!sPpq!v~!{Og~~#OQ#]#^#U#`#a#u~#XP#Y#Z#[~#_P#q#r#b~#eP#q#r#h~#mPW~YZ#p~#uOX~~#xP#c#d#{~$OP#c#d$R~$UP#d#e$X~$[P#q#r$_~$bP#q#r$e~$jPZ~YZ$m~$rO[~R$uP#q#r$xR%PPcPfQYZ%SQ%XOfQ",tokenizers:[0,1,Ogt,_gt,Sgt],topRules:{Feelers:[0,4]},tokenPrec:0});var kgt={ConditionalSpanner:D1,LoopSpanner:D1};function Pgt(t=null){let e=Tgt.configure({wrap:gV(n=>n.name=="Feel"||n.name=="FeelBlock"?{parser:BT}:t&&n.name=="SimpleTextBlock"?{parser:t}:null),props:[Mk.add(kgt)]});return Ab.define({parser:e})}var Igt=t=>new Lb(Pgt(t),[]);function Mgt(t){let e=[];return t.iterate({enter:n=>{n.type.name==="EmptyInsert"&&e.push({from:n.from,to:n.to,severity:"warning",message:"this insert is empty and will be ignored",type:"emptyInsert"})}}),e}function Agt(t){return[...Mgt(t)]}function Rgt(){let t=rP();return e=>{let n=t(e);if(e.state.doc.length===0)return[];let i=Ur(e.state),a=Agt(i);return[...n,...a.map(c=>Me(se({},c),{source:"feelers linter"}))]}}var Lgt=Xk(Rgt());function T4({container:t,tooltipContainer:e,hostLanguage:n,hostLanguageParser:i,onChange:a=()=>{},onKeyDown:c=()=>{},onLint:d=()=>{},contentAttributes:h={},readOnly:m=!1,value:g="",enableGutters:b=!1,singleLine:E=!1,lineWrap:_=!1,darkMode:S=!1}){let D=It.updateListener.of(G=>{G.docChanged&&a(G.state.doc.toString())}),k=It.updateListener.of(G=>{let re=G.transactions.flatMap(oe=>oe.effects).filter(oe=>oe.is(P1));if(!re.length)return;let ee=re.flatMap(oe=>oe.value);d(ee)}),I=It.contentAttributes.of(h),R=It.domEventHandlers({keydown:c});typeof e=="string"&&(e=document.querySelector(e));let $=e?Dk({tooltipSpace:function(){return e.getBoundingClientRect()}}):[],L=Igt(i||n&&(G=>{switch(G){case"markdown":return J3e;default:return null}})(n)),V=[Ak(),D,I,Vk(),Ik(),R,L0.of([...Wk]),L,Lgt,k,$,S?uxe:cxe,...b?[Tk()]:[],...E?[is.transactionFilter.of(G=>G.newDoc.lines>1?[]:G)]:[],..._?[It.lineWrapping]:[]];return m&&V.push(It.editable.of(!1)),E&&g&&(g=g.toString().split(`
`)[0]),this._cmEditor=new It({state:is.create({doc:g,extensions:V}),parent:t}),this}T4.prototype.setValue=function(t){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:t}})};T4.prototype.focus=function(t){let e=this._cmEditor;if(e.contentDOM.focus(),e.focus(),typeof t=="number"){let n=e.state.doc.length;e.dispatch({selection:{anchor:t<=n?t:n}})}};T4.prototype.getSelection=function(){return this._cmEditor.state.selection};var sU=[sh("function(${params}) ${body}",{label:"function",detail:"definition",type:"keyword"}),sh("for ${var} in ${collection} return ${value}",{label:"for",detail:"expression",type:"keyword"}),sh("every ${var} in ${collection} satisfies ${condition}",{label:"every",detail:"quantified expression",type:"keyword"}),sh("some ${var} in ${collection} satisfies ${condition}",{label:"some",detail:"quantified expression",type:"keyword"}),sh("if ${condition} then ${value} else ${other value}",{label:"if",detail:"block",type:"keyword"}),sh("{ ${key}: ${value} }",{label:"context",detail:"block",type:"keyword"})];function oU(){return oU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},oU.apply(this,arguments)}function k4(t){let{context:e,after:n,before:i,keyword:a}=t;return Bgt({nodes:e,before:i,after:n,keyword:a},jk([{label:a,type:"keyword",boost:10}]))}var aU=[k4({context:"InExpression",keyword:"in"}),k4({context:"IfExpression",keyword:"then",after:"if",before:"else"}),k4({context:"IfExpression",keyword:"else",after:"then"}),k4({context:"QuantifiedExpression",keyword:"satisfies"}),k4({context:"ForExpression",after:"InExpressions",keyword:"return"})],$gt=["StringLiteral","Identifier","LineComment","BlockComment","PathExpression"];function lU(t){return $be($gt,jk(t.map(e=>oU({},e,{type:"text"}))))}function dxe(t,e,n){return fxe(t,e,n,-1)}function Ngt(t,e,n){return fxe(t,e,n,1)}function fxe(t,e,n,i){let a=t[i>0?"childAfter":"childBefore"](e);for(;a;){if(n.includes(a.name))return a;if(a.type.isError&&a.firstChild&&n.includes(a.firstChild.name))return a.firstChild;a=a[i>0?"nextSibling":"prevSibling"]}return null}function Fgt(t,e){for(Array.isArray(e)||(e=[e]);t;t=t.parent){if(e.includes(t.name))return t;if(t.type.isTop)break}return null}function Bgt(t,e){let{nodes:n,before:i,after:a,keyword:c}=t;return d=>{let{state:h,pos:m}=d,g=Fgt(Ur(h).resolveInner(m,-1),n);return!g||dxe(g,m,[c,i])||Ngt(g,m,[c,a])||a&&!dxe(g,m,[a])?null:e(d)}}var hxe=Ab.define({parser:BT.configure({props:[dH.add({Context:fH({closing:"}"}),"List FilterExpression":fH({closing:"]"}),"ParenthesizedExpression FunctionInvocation":Pk({except:/^\s*\)/}),"ForExpression QuantifiedExpression IfExpression":Pk({except:/^\s*(then|else|return|satisfies)\b/}),FunctionDefinition:Pk({except:/^\s*(\(|\))/})}),Mk.add({Context:D1,List:D1,ParenthesizedExpression:D1,FunctionDefinition(t){let e=t.getChild(")");return e?{from:e.to,to:t.to}:null}})]}),languageData:{indentOnInput:/^\s*(\)|\}|\]|then|else|return|satisfies)$/,commentTokens:{line:"//",block:{open:"/*",close:"*/"}}}}),jgt=hxe.configure({top:"UnaryTests"},"FEEL unary tests"),Vgt=hxe.configure({top:"Expression"},"FEEL expression");function pxe(t={}){let n=(t.dialect==="unaryTests"?jgt:Vgt).configure({contextTracker:NV(t.context)}),i=t.completions||[lU(sU),aU].flat();return new Lb(n,[...i.map(a=>n.data.of({autocomplete:a}))])}var zgt=[Xk(rP())],Hgt=It.theme({"& .cm-content":{padding:"0px"},"& .cm-line":{padding:"0px"},"&.cm-editor.cm-focused":{outline:"none"},"& .cm-completionInfo":{whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis"},"& .cm-completionInfo > *":{whiteSpace:"normal"},"& .cm-completionInfo ul":{margin:0,paddingLeft:"15px"},"& .cm-completionInfo pre":{marginBottom:0,whiteSpace:"pre-wrap"},"& .cm-completionInfo p":{marginTop:0},"& .cm-completionInfo p:not(:last-of-type)":{marginBottom:0}}),Ugt=It.baseTheme({"& .variableName":{color:"#10f"},"& .number":{color:"#164"},"& .string":{color:"#a11"},"& .bool":{color:"#219"},"& .function":{color:"#aa3731",fontWeight:"bold"},"& .control":{color:"#708"}}),qgt=Fb(Fd.define([{tag:ie.variableName,class:"variableName"},{tag:ie.name,class:"variableName"},{tag:ie.number,class:"number"},{tag:ie.string,class:"string"},{tag:ie.bool,class:"bool"},{tag:ie.function(ie.variableName),class:"function"},{tag:ie.function(ie.special(ie.variableName)),class:"function"},{tag:ie.controlKeyword,class:"control"},{tag:ie.operatorKeyword,class:"control"}])),Wgt=[Hgt,Ugt,qgt];function mxe(t){return t&&t.from===t.to}function Ggt(t,e){let n=t.nextSibling;return mxe(t)||n&&n.from===e&&mxe(n)}function Qgt(t){return t&&t.parent&&t.parent.name==="VariableName"}function cU(t){return t?t.name==="PathExpression"?!0:cU(t.parent):!1}function Ygt({variables:t}){return e=>{let n=Ur(e.state).resolve(e.pos,-1);if(!cU(n))return;let i=Xgt(n),a=n===i?e.pos:n.from,c=uU(i,e),d=t;for(var h=0;h<c.length-1;h++){var m=d.find(b=>b.name===c[h].name);if(!m)return null;if(m.isList!=="optional"&&!!m.isList!==c[h].isList)return;d=m.entries}return d?(d=d.map(b=>({label:b.name,type:"variable",info:b.info,detail:b.detail})),{from:a,options:d}):void 0}}function Xgt(t){for(;t;){if(t.name==="PathExpression")return t;t=t.parent}}function uU(t,e){let n=[];for(let i=t.firstChild;i;i=i.nextSibling)i.name==="PathExpression"?n.push(...uU(i,e)):i.name==="FilterExpression"?n.push(...Kgt(i,e)):n.push({name:vxe(i,e),isList:!1});return n}function Kgt(t,e){let n=t.firstChild;if(n.name==="PathExpression"){let i=uU(n,e),a=i[i.length-1];return a.isList=!0,i}return[{name:vxe(n,e),isList:!0}]}function vxe(t,e){return e.state.sliceDoc(t.from,t.to)}function Zgt({variables:t=[],builtins:e=[]}){let n=Jgt(t,e);return n.length?i=>{let{pos:a,state:c}=i,d=Ur(c).resolve(a,-1);return Ggt(d,a)?i.explicit?{from:a,options:n}:null:!Qgt(d)||cU(d)?null:{from:d.from,options:n}}:i=>null}function Jgt(t,e){return[].concat(t.map(n=>gxe(n)),e.map(n=>gxe(n)))}function gxe(t,e){return t.type==="function"?e1t(t,e):{label:t.name,type:"variable",info:t.info,detail:t.detail,boost:e}}function e1t(t,e){let{name:n,info:i,detail:a,params:c=[]}=t,d=c.map(({name:b,type:E},_)=>({name:b||`param ${_+1}`,type:E})),h=`${n}(${d.map(b=>"${"+b.name+"}").join(", ")})`,m=d.map(({name:b,type:E})=>E?`${b}: ${E}`:b).join(", "),g=`${n}(${m})`;return sh(h,{label:g,type:"function",info:i,detail:a,boost:e})}function t1t({variables:t=[],builtins:e=[]}){return[Ygt({variables:t}),Zgt({variables:t,builtins:e}),lU(sU.map(n=>Me(se({},n),{boost:-1}))),...aU]}function n1t(t){return pxe(t)}function r1t(t,e){return t.slice().reverse().reduce((n,i)=>(n[i.name]=()=>{},n),{})}var yxe=ct.define(),bxe=ct.define(),xxe=ct.define();function Exe({dialect:t="expression",variables:e=[],builtins:n=[],completions:i=t1t({builtins:n,variables:e})}){let a=r1t([...e,...n]);return[xxe.of(t),yxe.of(n),bxe.of(e),n1t({dialect:t,context:a,completions:i})]}function i1t(t){let e=t.facet(yxe)[0],n=t.facet(bxe)[0],i=t.facet(xxe)[0];return{builtins:e,variables:n,dialect:i}}var o1t=[{name:"not(negand)",description:`<p>Returns the logical negation of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">not(negand: boolean): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">not(true)
// false

not(null)
// null
</code></pre>
`},{name:"is defined(value)",description:`<p><em>Camunda Extension</em></p>
<p>Checks if a given value is not <code>null</code>. If the value is <code>null</code> then the function returns <code>false</code>.
Otherwise, the function returns <code>true</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">is defined(value: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">is defined(1)
// true

is defined(null)
// false

is defined(x)
// false - if no variable &quot;x&quot; exists

is defined(x.y)
// false - if no variable &quot;x&quot; exists or it doesn&#39;t have a property &quot;y&quot;
</code></pre>
<p>:::caution Breaking change</p>
<p>This function worked differently in previous versions. It returned <code>true</code> if the value was <code>null</code>.
Since this version, the function returns <code>false</code> if the value is <code>null</code>.</p>
<p>:::</p>
`},{name:"get or else(value, default)",description:`<p><em>Camunda Extension</em></p>
<p>Return the provided value parameter if not <code>null</code>, otherwise return the default parameter</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get or else(value: Any, default: Any): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get or else(&quot;this&quot;, &quot;default&quot;)
// &quot;this&quot;

get or else(null, &quot;default&quot;)
// &quot;default&quot;

get or else(null, null)
// null
</code></pre>
`},{name:"assert(value, condition)",description:`<p><em>Camunda Extension</em></p>
<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.
Otherwise, the evaluation fails with an error.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">assert(value: Any, condition: Any)
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">assert(x, x != null)
// &quot;value&quot; - if x is &quot;value&quot;
// error - if x is null or doesn&#39;t exist

assert(x, x &gt;= 0)
// 4 - if x is 4
// error - if x is less than zero
</code></pre>
`},{name:"assert(value, condition, cause)",description:`<p><em>Camunda Extension</em></p>
<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.
Otherwise, the evaluation fails with an error containing the given message.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">assert(value: Any, condition: Any, cause: String)
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">assert(x, x != null, &quot;&#39;x&#39; should not be null&quot;)
// &quot;value&quot; - if x is &quot;value&quot;
// error(&#39;x&#39; should not be null) - if x is null or doesn&#39;t exist

assert(x, x &gt;= 0, &quot;&#39;x&#39; should be positive&quot;)
// 4 - if x is 4
// error(&#39;x&#39; should be positive) - if x is less than zero
</code></pre>
`},{name:"get value(context, key)",description:`<p>Returns the value of the context entry with the given key.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get value(context: context, key: string): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get value({foo: 123}, &quot;foo&quot;)
// 123

get value({a: 1}, &quot;b&quot;)
// null
</code></pre>
`},{name:"get value(context, keys)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the value of the context entry for a context path defined by the given keys.</p>
<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it returns the value at the nested entry <code>k1.k2</code> of the context.</p>
<p>If <code>keys</code> are empty or the nested entry defined by the keys doesn&#39;t exist in the context, it returns <code>null</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get value(context: context, keys: list&lt;string&gt;): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get value({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;])
// 0

get value({x: {y: {z:0}}}, [&quot;x&quot;, &quot;y&quot;])
// {z:0}

get value({a: {b: 3}}, [&quot;b&quot;])
// null
</code></pre>
`},{name:"get entries(context)",description:`<p>Returns the entries of the context as a list of key-value-pairs.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get entries(context: context): list&lt;context&gt;
</code></pre>
<p>The return value is a list of contexts. Each context contains two entries for &quot;key&quot; and &quot;value&quot;.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get entries({foo: 123})
// [{key: &quot;foo&quot;, value: 123}]
</code></pre>
`},{name:"context put(context, key, value)",description:`<p>Adds a new entry with the given key and value to the context. Returns a new context that includes the entry.</p>
<p>If an entry for the same key already exists in the context, it overrides the value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context put(context: context, key: string, value: Any): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context put({x:1}, &quot;y&quot;, 2)
// {x:1, y:2}
</code></pre>
<p>:::info
The function <code>context put()</code> replaced the previous function <code>put()</code> (Camunda Extension). The
previous function is deprecated and should not be used anymore.
:::</p>
`},{name:"context put(context, keys, value)",description:`<p>Adds a new entry with the given value to the context. The path of the entry is defined by the keys. Returns a new context that includes the entry.</p>
<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it adds the nested entry <code>k1.k2 = value</code> to the context.</p>
<p>If an entry for the same keys already exists in the context, it overrides the value.</p>
<p>If <code>keys</code> are empty, it returns <code>null</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context put(context: context, keys: list&lt;string&gt;, value: Any): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context put({x:1}, [&quot;y&quot;], 2)
// {x:1, y:2}

context put({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;], 2)
// {x:1, y: {z:2}}

context put({x:1}, [&quot;y&quot;, &quot;z&quot;], 2)
// {x:1, y: {z:2}}
</code></pre>
`},{name:"context merge(contexts)",description:`<p>Union the given contexts. Returns a new context that includes all entries of the given contexts.</p>
<p>If an entry for the same key already exists in a context, it overrides the value. The entries are overridden in the same order as in the list of contexts.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context merge(contexts: list&lt;context&gt;): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context merge([{x:1}, {y:2}])
// {x:1, y:2}

context merge([{x:1, y: 0}, {y:2}])
// {x:1, y:2}
</code></pre>
<p>:::info
The function <code>context merge()</code> replaced the previous function <code>put all()</code> (Camunda Extension). The
previous function is deprecated and should not be used anymore.
:::</p>
`},{name:"string(from)",description:`<p>Returns the given value as a string representation.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string(from: Any): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string(1.1)
// &quot;1.1&quot;

string(date(&quot;2012-12-25&quot;))
// &quot;2012-12-25&quot;
</code></pre>
`},{name:"number(from)",description:`<p>Parses the given string to a number.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">number(from: string): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">number(&quot;1500.5&quot;)
// 1500.5
</code></pre>
`},{name:"context(entries)",description:`<p>Constructs a context of the given list of key-value pairs. It is the reverse function to <a href="feel-built-in-functions-context.md#get-entriescontext">get entries()</a>.</p>
<p>Each key-value pair must be a context with two entries: <code>key</code> and <code>value</code>. The entry with name <code>key</code> must have a value of the type <code>string</code>.</p>
<p>It might override context entries if the keys are equal. The entries are overridden in the same order as the contexts in the given list.</p>
<p>Returns <code>null</code> if one of the entries is not a context or if a context doesn&#39;t contain the required entries.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context(entries: list&lt;context&gt;): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context([{&quot;key&quot;:&quot;a&quot;, &quot;value&quot;:1}, {&quot;key&quot;:&quot;b&quot;, &quot;value&quot;:2}])
// {a:1, b:2}
</code></pre>
`},{name:"date(from)",description:`<p>Returns a date from the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date(from: string): date
</code></pre>
<p>Parses the given string into a date.</p>
<pre><code class="language-feel">date(from: date and time): date
</code></pre>
<p>Extracts the date component from the given date and time.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date(&quot;2018-04-29&quot;)
// date(&quot;2018-04-29&quot;)

date(date and time(&quot;2012-12-25T11:00:00&quot;))
// date(&quot;2012-12-25&quot;)
</code></pre>
`},{name:"date(year, month, day)",description:`<p>Returns a date from the given components.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date(year: number, month: number, day: number): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date(2012, 12, 25)
// date(&quot;2012-12-25&quot;)
</code></pre>
`},{name:"time(from)",description:`<p>Returns a time from the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(from: string): time
</code></pre>
<p>Parses the given string into a time.</p>
<pre><code class="language-feel">time(from: date and time): time
</code></pre>
<p>Extracts the time component from the given date and time.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(&quot;12:00:00&quot;)
// time(&quot;12:00:00&quot;)

time(date and time(&quot;2012-12-25T11:00:00&quot;))
// time(&quot;11:00:00&quot;)
</code></pre>
`},{name:"time(hour, minute, second)",description:`<p>Returns a time from the given components.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(hour: number, minute: number, second: number): time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(23, 59, 0)
// time(&quot;23:59:00&quot;)
</code></pre>
`},{name:"time(hour, minute, second, offset)",description:`<p>Returns a time from the given components, including a timezone offset.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(hour: number, minute: number, second: number, offset: days and time duration): time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(14, 30, 0, duration(&quot;PT1H&quot;))
// time(&quot;14:30:00+01:00&quot;)
</code></pre>
`},{name:"date and time(from)",description:`<p>Parses the given string into a date and time.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(from: string): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(&quot;2018-04-29T09:30:00&quot;)
// date and time(&quot;2018-04-29T09:30:00&quot;)
</code></pre>
`},{name:"date and time(date, time)",description:`<p>Returns a date and time from the given components.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(date: date, time: time): date and time
</code></pre>
<pre><code class="language-feel">date and time(date: date and time, time: time): date and time
</code></pre>
<p>Returns a date and time value that consists of the date component of <code>date</code> combined with <code>time</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(date(&quot;2012-12-24&quot;),time(&quot;T23:59:00&quot;))
// date and time(&quot;2012-12-24T23:59:00&quot;)

date and time(date and time(&quot;2012-12-25T11:00:00&quot;),time(&quot;T23:59:00&quot;))
// date and time(&quot;2012-12-25T23:59:00&quot;)
</code></pre>
`},{name:"date and time(date, timezone)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the given date and time value at the given timezone.</p>
<p>If <code>date</code> has a different timezone than <code>timezone</code> then it adjusts the time to match the local time of <code>timezone</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(date: date and time, timezone: string): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(@&quot;2020-07-31T14:27:30@Europe/Berlin&quot;, &quot;America/Los_Angeles&quot;)
// date and time(&quot;2020-07-31T05:27:30@America/Los_Angeles&quot;)

date and time(@&quot;2020-07-31T14:27:30&quot;, &quot;Z&quot;)
// date and time(&quot;2020-07-31T12:27:30Z&quot;)
</code></pre>
`},{name:"duration(from)",description:`<p>Parses the given string into a duration. The duration is either a days and time duration or a years and months duration.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">duration(from: string): days and time duration
</code></pre>
<pre><code class="language-feel">duration(from: string): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">duration(&quot;P5D&quot;)
// duration(&quot;P5D&quot;)

duration(&quot;P32Y&quot;)
// duration(&quot;P32Y&quot;)
</code></pre>
`},{name:"years and months duration(from, to)",description:`<p>Returns the years and months duration between <code>from</code> and <code>to</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">years and months duration(from: date, to: date): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">years and months duration(date(&quot;2011-12-22&quot;), date(&quot;2013-08-24&quot;))
// duration(&quot;P1Y8M&quot;)
</code></pre>
`},{name:"list contains(list, element)",description:`<p>Returns <code>true</code> if the given list contains the element. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">list contains(list: list, element: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">list contains([1,2,3], 2)
// true
</code></pre>
`},{name:"count(list)",description:`<p>Returns the number of elements of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">count(list: list): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">count([1,2,3])
// 3
</code></pre>
`},{name:"min(list)",description:`<p>Returns the minimum of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">min(list: list): Any
</code></pre>
<p>All elements in <code>list</code> should have the same type and be comparable.</p>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">min([1,2,3])
// 1

min(1,2,3)
// 1
</code></pre>
`},{name:"max(list)",description:`<p>Returns the maximum of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">max(list: list): Any
</code></pre>
<p>All elements in <code>list</code> should have the same type and be comparable.</p>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">max([1,2,3])
// 3

max(1,2,3)
// 3
</code></pre>
`},{name:"sum(list)",description:`<p>Returns the sum of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sum(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sum([1,2,3])
// 6

sum(1,2,3)
// 6
</code></pre>
`},{name:"product(list)",description:`<p>Returns the product of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">product(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">product([2, 3, 4])
// 24

product(2, 3, 4)
// 24
</code></pre>
`},{name:"mean(list)",description:`<p>Returns the arithmetic mean (i.e. average) of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">mean(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">mean([1,2,3])
// 2

mean(1,2,3)
// 2
</code></pre>
`},{name:"median(list)",description:`<p>Returns the median element of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">median(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">median(8, 2, 5, 3, 4)
// 4

median([6, 1, 2, 3])
// 2.5
</code></pre>
`},{name:"stddev(list)",description:`<p>Returns the standard deviation of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">stddev(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">stddev(2, 4, 7, 5)
// 2.0816659994661326

stddev([2, 4, 7, 5])
// 2.0816659994661326
</code></pre>
`},{name:"mode(list)",description:`<p>Returns the mode of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">mode(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">mode(6, 3, 9, 6, 6)
// [6]

mode([6, 1, 9, 6, 1])
// [1, 6]
</code></pre>
`},{name:"all(list)",description:`<p>Returns <code>false</code> if any element of the given list is <code>false</code>. Otherwise, returns <code>true</code>.</p>
<p>If the given list is empty, it returns <code>true</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">all(list: list&lt;boolean&gt;): boolean
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">all([true,false])
// false

all(false,null,true)
// false
</code></pre>
<p>:::info
The function <code>all()</code> replaced the previous function <code>and()</code>. The previous function is deprecated and
should not be used anymore.
:::</p>
`},{name:"any(list)",description:`<p>Returns <code>true</code> if any element of the given list is <code>true</code>. Otherwise, returns <code>false</code>.</p>
<p>If the given list is empty, it returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">any(list: list&lt;boolean&gt;): boolean
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">any([false,true])
// true

any(false,null,true)
// true
</code></pre>
<p>:::info
The function <code>any()</code> replaced the previous function <code>or()</code>. The previous function is deprecated and
should not be used anymore.
:::</p>
`},{name:"sublist(list, start position)",description:`<p>Returns a partial list of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sublist(list: list, start position: number): list
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sublist([1,2,3], 2)
// [2,3]
</code></pre>
`},{name:"sublist(list, start position, length)",description:`<p>Returns a partial list of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sublist(list: list, start position: number, length: number): list
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sublist([1,2,3], 1, 2)
// [1,2]
</code></pre>
`},{name:"append(list, items)",description:`<p>Returns the given list with all <code>items</code> appended.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">append(list: list, items: Any): list
</code></pre>
<p>The parameter <code>items</code> can be a single element or a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">append([1], 2, 3)
// [1,2,3]
</code></pre>
`},{name:"concatenate(lists)",description:`<p>Returns a list that includes all elements of the given lists.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">concatenate(lists: list): list
</code></pre>
<p>The parameter <code>lists</code> is a sequence of lists.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">concatenate([1,2],[3])
// [1,2,3]

concatenate([1],[2],[3])
// [1,2,3]
</code></pre>
`},{name:"insert before(list, position, newItem)",description:`<p>Returns the given list with <code>newItem</code> inserted at <code>position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">insert before(list: list, position: number, newItem: Any): list
</code></pre>
<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">insert before([1,3],1,2)
// [2,1,3]
</code></pre>
`},{name:"remove(list, position)",description:`<p>Returns the given list without the element at <code>position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">remove(list: list, position: number): list
</code></pre>
<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">remove([1,2,3], 2)
// [1,3]
</code></pre>
`},{name:"reverse(list)",description:`<p>Returns the given list in revered order.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">reverse(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">reverse([1,2,3])
// [3,2,1]
</code></pre>
`},{name:"index of(list, match)",description:`<p>Returns an ascending list of positions containing <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">index of(list: list, match: Any): list&lt;number&gt;
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">index of([1,2,3,2],2)
// [2,4]
</code></pre>
`},{name:"union(list)",description:`<p>Returns a list that includes all elements of the given lists without duplicates.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">union(list: list): list
</code></pre>
<p>The parameter <code>list</code> is a sequence of lists.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">union([1,2],[2,3])
// [1,2,3]
</code></pre>
`},{name:"distinct values(list)",description:`<p>Returns the given list without duplicates.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">distinct values(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">distinct values([1,2,3,2,1])
// [1,2,3]
</code></pre>
`},{name:"duplicate values(list)",description:`<p><em>Camunda Extension</em></p>
<p>Returns all duplicate values of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">duplicate values(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">duplicate values([1,2,3,2,1])
// [1,2]
</code></pre>
`},{name:"flatten(list)",description:`<p>Returns a list that includes all elements of the given list without nested lists.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">flatten(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">flatten([[1,2],[[3]], 4])
// [1,2,3,4]
</code></pre>
`},{name:"sort(list, precedes)",description:`<p>Returns the given list sorted by the <code>precedes</code> function.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sort(list: list, precedes: function&lt;(Any, Any) -&gt; boolean&gt;): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sort(list: [3,1,4,5,2], precedes: function(x,y) x &lt; y)
// [1,2,3,4,5]
</code></pre>
`},{name:"string join(list)",description:`<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;])
// &quot;abc&quot;

string join([&quot;a&quot;,null,&quot;c&quot;])
// &quot;ac&quot;

string join([])
// &quot;&quot;
</code></pre>
`},{name:"string join(list, delimiter)",description:`<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p>The resulting string contains a <code>delimiter</code> between each element.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;], &quot;X&quot;)
// &quot;a&quot;

string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;)
// &quot;a, b, c&quot;
</code></pre>
`},{name:"string join(list, delimiter, prefix, suffix)",description:`<p><em>Camunda Extension</em></p>
<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p>The resulting string starts with <code>prefix</code>, contains a <code>delimiter</code> between each element, and ends
with <code>suffix</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string, prefix: string, suffix: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;, &quot;[&quot;, &quot;]&quot;)
// &quot;[a, b, c]&quot;
</code></pre>
`},{name:"decimal(n, scale)",description:`<p>Rounds the given value at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">decimal(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">decimal(1/3, 2)
// .33

decimal(1.5, 0)
// 2
</code></pre>
`},{name:"floor(n)",description:`<p>Rounds the given value with rounding mode flooring.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">floor(n: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">floor(1.5)
// 1

floor(-1.5)
// -2
</code></pre>
`},{name:"floor(n, scale)",description:`<p>Rounds the given value with rounding mode flooring at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">floor(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">floor(-1.56, 1)
// -1.6
</code></pre>
`},{name:"ceiling(n)",description:`<p>Rounds the given value with rounding mode ceiling.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ceiling(n: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ceiling(1.5)
// 2

ceiling(-1.5)
// -1
</code></pre>
`},{name:"ceiling(n, scale)",description:`<p>Rounds the given value with rounding mode ceiling at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ceiling(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ceiling(-1.56, 1)
// -1.5
</code></pre>
`},{name:"round up(n, scale)",description:`<p>Rounds the given value with the rounding mode round-up at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round up(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round up(5.5)
// 6

round up(-5.5)
// -6

round up(1.121, 2)
// 1.13

round up(-1.126, 2)
// -1.13
</code></pre>
`},{name:"round down(n, scale)",description:`<p>Rounds the given value with the rounding mode round-down at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round down(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round down(5.5, 0)
// 5

round down (-5.5, 0)
// -5

round down (1.121, 2)
// 1.12

round down (-1.126, 2)
// -1.12
</code></pre>
`},{name:"round half up(n, scale)",description:`<p>Rounds the given value with the rounding mode round-half-up at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round half up(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round half up(5.5, 0)
// 6

round half up(-5.5, 0)
// -6

round half up(1.121, 2)
// 1.12

round half up(-1.126, 2)
// -1.13
</code></pre>
`},{name:"round half down(n, scale)",description:`<p>Rounds the given value with the rounding mode round-half-down at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round half down(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round half down (5.5, 0)
// 5

round half down (-5.5, 0)
// -5

round half down (1.121, 2)
// 1.12

round half down (-1.126, 2)
// -1.13
</code></pre>
`},{name:"abs(number)",description:`<p>Returns the absolute value of the given numeric value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">abs(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">abs(10)
// 10

abs(-10)
// 10
</code></pre>
`},{name:"modulo(dividend, divisor)",description:`<p>Returns the remainder of the division of dividend by divisor.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">modulo(dividend: number, divisor: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">modulo(12, 5)
// 2
</code></pre>
`},{name:"sqrt(number)",description:`<p>Returns the square root of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sqrt(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sqrt(16)
// 4
</code></pre>
`},{name:"log(number)",description:`<p>Returns the natural logarithm (base e) of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">log(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">log(10)
// 2.302585092994046
</code></pre>
`},{name:"exp(number)",description:`<p>Returns the Euler\u2019s number e raised to the power of the given number .</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">exp(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">exp(5)
// 148.4131591025766
</code></pre>
`},{name:"odd(number)",description:`<p>Returns <code>true</code> if the given value is odd. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">odd(number: number): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">odd(5)
// true

odd(2)
// false
</code></pre>
`},{name:"even(number)",description:`<p>Returns <code>true</code> if the given is even. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">even(number: number): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">even(5)
// false

even(2)
// true
</code></pre>
`},{name:"random number()",description:`<p><em>Camunda Extension</em></p>
<p>Returns a random number between <code>0</code> and <code>1</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">random number(): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">random number()
// 0.9701618132579795
</code></pre>
`},{name:"before(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before(1, 10)
// true

before(10, 1)
// false
</code></pre>
`},{name:"before(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before([1..5], 10)
// true
</code></pre>
`},{name:"before(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before(1, [2..5])
// true
</code></pre>
`},{name:"before(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before([1..5], [6..10])
// true

before([1..5),[5..10])
// true
</code></pre>
`},{name:"after(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after(10, 1)
// true

after(1, 10)
// false
</code></pre>
`},{name:"after(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after([1..5], 10)
// false
</code></pre>
`},{name:"after(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after(12, [2..5])
// true
</code></pre>
`},{name:"after(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after([6..10], [1..5])
// true

after([5..10], [1..5))
// true
</code></pre>
`},{name:"meets(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">meets(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">meets([1..5], [5..10])
// true

meets([1..3], [4..6])
// false

meets([1..3], [3..5])
// true

meets([1..5], (5..8])
// false
</code></pre>
`},{name:"met by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">met by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">met by([5..10], [1..5])
// true

met by([3..4], [1..2])
// false

met by([3..5], [1..3])
// true

met by((5..8], [1..5))
// false

met by([5..10], [1..5))
// false
</code></pre>
`},{name:"overlaps(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps([5..10], [1..6])
// true

overlaps((3..7], [1..4])
// true

overlaps([1..3], (3..6])
// false

overlaps((5..8], [1..5))
// false

overlaps([4..10], [1..5))
// true
</code></pre>
`},{name:"overlaps before(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps before(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps before([1..5], [4..10])
// true

overlaps before([3..4], [1..2])
// false

overlaps before([1..3], (3..5])
// false

overlaps before([1..5), (3..8])
// true

overlaps before([1..5), [5..10])
// false
</code></pre>
`},{name:"overlaps after(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps after(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps after([4..10], [1..5])
// true

overlaps after([3..4], [1..2])
// false

overlaps after([3..5], [1..3))
// false

overlaps after((5..8], [1..5))
// false

overlaps after([4..10], [1..5))
// true
</code></pre>
`},{name:"finishes(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finishes(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finishes(5, [1..5])
// true

finishes(10, [1..7])
// false
</code></pre>
`},{name:"finishes(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finishes(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finishes([3..5], [1..5])
// true

finishes((1..5], [1..5))
// false

finishes([5..10], [1..10))
// false
</code></pre>
`},{name:"finished by(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finished by(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finished by([5..10], 10)
// true

finished by([3..4], 2)
// false
</code></pre>
`},{name:"finished by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finished by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finished by([1..5], [3..5])
// true

finished by((5..8], [1..5))
// false

finished by([5..10], (1..10))
// false
</code></pre>
`},{name:"includes(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">includes(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">includes([5..10], 6)
// true

includes([3..4], 5)
// false
</code></pre>
`},{name:"includes(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">includes(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">includes([1..10], [4..6])
// true

includes((5..8], [1..5))
// false

includes([1..10], [1..5))
// true
</code></pre>
`},{name:"during(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">during(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">during(5, [1..10])
// true

during(12, [1..10])
// false

during(1, (1..10])
// false
</code></pre>
`},{name:"during(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">during(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">during([4..6], [1..10))
// true

during((1..5], (1..10])
// true
</code></pre>
`},{name:"starts(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts(1, [1..5])
// true

starts(1, (1..8])
// false
</code></pre>
`},{name:"starts(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts((1..5], [1..5])
// false

starts([1..10], [1..5])
// false

starts((1..5), (1..10))
// true
</code></pre>
`},{name:"started by(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">started by(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">started by([1..10], 1)
// true

started by((1..10], 1)
// false
</code></pre>
`},{name:"started by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">started by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">started by([1..10], [1..5])
// true

started by((1..10], [1..5))
// false

started by([1..10], [1..10))
// true
</code></pre>
`},{name:"coincides(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">coincides(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">coincides(5, 5)
// true

coincides(3, 4)
// false
</code></pre>
`},{name:"coincides(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">coincides(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">coincides([1..5], [1..5])
// true

coincides((1..5], [1..5))
// false

coincides([1..5], [2..6])
// false
</code></pre>
`},{name:"substring(string, start position)",description:`<p>Returns a substring of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring(string: string, start position: number): string
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring(&quot;foobar&quot;, 3)
// &quot;obar&quot;
</code></pre>
`},{name:"substring(string, start position, length)",description:`<p>Returns a substring of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring(string: string, start position: number, length: number): string
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring(&quot;foobar&quot;, 3, 3)
// &quot;oba&quot;
</code></pre>
`},{name:"string length(string)",description:`<p>Returns the number of characters in the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string length(string: string): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string length(&quot;foo&quot;)
// 3
</code></pre>
`},{name:"upper case(string)",description:`<p>Returns the given value with all characters are uppercase.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">upper case(string: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">upper case(&quot;aBc4&quot;)
// &quot;ABC4&quot;
</code></pre>
`},{name:"lower case(string)",description:`<p>Returns the given value with all characters are lowercase.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">lower case(string: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">lower case(&quot;aBc4&quot;)
// &quot;abc4&quot;
</code></pre>
`},{name:"substring before(string, match)",description:`<p>Returns a substring of the given value that contains all characters before <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring before(string: string, match: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring before(&quot;foobar&quot;, &quot;bar&quot;)
// &quot;foo&quot;
</code></pre>
`},{name:"substring after(string, match)",description:`<p>Returns a substring of the given value that contains all characters after <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring after(string: string, match: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring after(&quot;foobar&quot;, &quot;ob&quot;)
// &quot;ar&quot;
</code></pre>
`},{name:"contains(string, match)",description:`<p>Returns <code>true</code> if the given value contains the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">contains(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">contains(&quot;foobar&quot;, &quot;of&quot;)
// false
</code></pre>
`},{name:"starts with(string, match)",description:`<p>Returns <code>true</code> if the given value starts with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts with(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts with(&quot;foobar&quot;, &quot;fo&quot;)
// true
</code></pre>
`},{name:"ends with(string, match)",description:`<p>Returns <code>true</code> if the given value ends with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ends with(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ends with(&quot;foobar&quot;, &quot;r&quot;)
// true
</code></pre>
`},{name:"matches(input, pattern)",description:`<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">matches(input: string, pattern: string): boolean
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">matches(&quot;foobar&quot;, &quot;^fo*bar&quot;)
// true
</code></pre>
`},{name:"matches(input, pattern, flags)",description:`<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">matches(input: string, pattern: string, flags: string): boolean
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>flags</code> can contain one or more of the following characters:</p>
<ul>
<li><code>s</code> (dot-all)</li>
<li><code>m</code> (multi-line)</li>
<li><code>i</code> (case insensitive)</li>
<li><code>x</code> (comments)</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">matches(&quot;FooBar&quot;, &quot;foo&quot;, &quot;i&quot;)
// true
</code></pre>
`},{name:"replace(input, pattern, replacement)",description:`<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string): string
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,
<code>$1</code> to access the first group.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">replace(&quot;abcd&quot;, &quot;(ab)|(a)&quot;, &quot;[1=$1][2=$2]&quot;)
// &quot;[1=ab][2=]cd&quot;

replace(&quot;0123456789&quot;, &quot;(\\d{3})(\\d{3})(\\d{4})&quot;, &quot;($1) $2-$3&quot;)
// &quot;(012) 345-6789&quot;
</code></pre>
`},{name:"replace(input, pattern, replacement, flags)",description:`<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string, flags: string): string
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,
<code>$1</code> to access the first group.</p>
<p>The <code>flags</code> can contain one or more of the following characters:</p>
<ul>
<li><code>s</code> (dot-all)</li>
<li><code>m</code> (multi-line)</li>
<li><code>i</code> (case insensitive)</li>
<li><code>x</code> (comments)</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">replace(&quot;How do you feel?&quot;, &quot;Feel&quot;, &quot;FEEL&quot;, &quot;i&quot;)
// &quot;How do you FEEL?&quot;
</code></pre>
`},{name:"split(string, delimiter)",description:`<p>Splits the given value into a list of substrings, breaking at each occurrence of the <code>delimiter</code> pattern.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">split(string: string, delimiter: string): list&lt;string&gt;
</code></pre>
<p>The <code>delimiter</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">split(&quot;John Doe&quot;, &quot;\\s&quot; )
// [&quot;John&quot;, &quot;Doe&quot;]

split(&quot;a;b;c;;&quot;, &quot;;&quot;)
// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;&quot;, &quot;&quot;]
</code></pre>
`},{name:"extract(string, pattern)",description:`<p><em>Camunda Extension</em></p>
<p>Returns all matches of the pattern in the given string. Returns an empty list if the pattern doesn&#39;t
match.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">extract(string: string, pattern: string): list&lt;string&gt;
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">extract(&quot;references are 1234, 1256, 1378&quot;, &quot;12[0-9]*&quot;)
// [&quot;1234&quot;,&quot;1256&quot;]
</code></pre>
`},{name:"now()",description:`<p>Returns the current date and time including the timezone.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">now(): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">now()
// date and time(&quot;2020-07-31T14:27:30@Europe/Berlin&quot;)
</code></pre>
`},{name:"today()",description:`<p>Returns the current date.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">today(): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">today()
// date(&quot;2020-07-31&quot;)
</code></pre>
`},{name:"day of week(date)",description:`<p>Returns the day of the week according to the Gregorian calendar. Note that it always returns the English name of the day.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">day of week(date: date): string
</code></pre>
<pre><code class="language-feel">day of week(date: date and time): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">day of week(date(&quot;2019-09-17&quot;))
// &quot;Tuesday&quot;

day of week(date and time(&quot;2019-09-17T12:00:00&quot;))
// &quot;Tuesday&quot;
</code></pre>
`},{name:"day of year(date)",description:`<p>Returns the Gregorian number of the day within the year.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">day of year(date: date): number
</code></pre>
<pre><code class="language-feel">day of year(date: date and time): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">day of year(date(&quot;2019-09-17&quot;))
// 260

day of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// 260
</code></pre>
`},{name:"week of year(date)",description:`<p>Returns the Gregorian number of the week within the year, according to ISO 8601.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">week of year(date: date): number
</code></pre>
<pre><code class="language-feel">week of year(date: date and time): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">week of year(date(&quot;2019-09-17&quot;))
// 38

week of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// 38
</code></pre>
`},{name:"month of year(date)",description:`<p>Returns the month of the year according to the Gregorian calendar. Note that it always returns the English name of the month.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">month of year(date: date): string
</code></pre>
<pre><code class="language-feel">month of year(date: date and time): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">month of year(date(&quot;2019-09-17&quot;))
// &quot;September&quot;

month of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// &quot;September&quot;
</code></pre>
`},{name:"abs(n)",description:`<p>Returns the absolute value of a given duration.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">abs(n: days and time duration): days and time duration
</code></pre>
<pre><code class="language-feel">abs(n: years and months duration): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">abs(duration(&quot;-PT5H&quot;))
// &quot;duration(&quot;PT5H&quot;)&quot;

abs(duration(&quot;PT5H&quot;))
// &quot;duration(&quot;PT5H&quot;)&quot;

abs(duration(&quot;-P2M&quot;))
// duration(&quot;P2M&quot;)
</code></pre>
`},{name:"last day of month(date)",description:`<p><em>Camunda Extension</em></p>
<p>Takes the month of the given date or date-time value and returns the last day of this month.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">last day of month(date: date): date
</code></pre>
<pre><code class="language-feel">last day of month(date: date and time): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">last day of month(date(&quot;2022-10-01&quot;))
// date(&quot;2022-10-31&quot;))

last day of month(date and time(&quot;2022-10-16T12:00:00&quot;))
// date(&quot;2022-10-31&quot;))
</code></pre>
`}];function s1t(t){return t.map(a1t)}function a1t(t){let{name:e,description:n}=t,i=e.match(/^([\w\s]+)\((.*)\)$/),a=i[1],d=i[2].split(", ").map(h=>({name:h}));return{name:a,type:"function",params:d,info:()=>jt(`<div class="description">${n}<div>`),boost:0}}var l1t=s1t(o1t),wxe=new b1,_xe=new b1;function A1({extensions:t=[],dialect:e="expression",container:n,contentAttributes:i={},tooltipContainer:a,onChange:c=()=>{},onKeyDown:d=()=>{},onLint:h=()=>{},placeholder:m="",readOnly:g=!1,value:b="",builtins:E=l1t,variables:_=[]}){let S=It.updateListener.of($=>{$.docChanged&&c($.state.doc.toString())}),D=It.updateListener.of($=>{let F=$.transactions.flatMap(V=>V.effects).filter(V=>V.is(P1));if(!F.length)return;let L=F.flatMap(V=>V.value);h(L)}),k=It.domEventHandlers({keydown:d});typeof a=="string"&&(a=document.querySelector(a));let I=a?Dk({tooltipSpace:function(){return a.getBoundingClientRect()}}):[],R=[qbe(),wxe.of(Exe({dialect:e,builtins:E,variables:_})),Ak(),Ik(),Vk(),It.contentAttributes.of(i),S,k,L0.of([...Wk]),zgt,D,I,_xe.of(Kz(m)),Wgt,...t];return g&&R.push(It.editable.of(!1)),this._cmEditor=new It({state:is.create({doc:b,extensions:R}),parent:n}),this}A1.prototype.setValue=function(t){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:t}})};A1.prototype.focus=function(t){let e=this._cmEditor;if(e.contentDOM.focus(),e.focus(),typeof t=="number"){let n=e.state.doc.length;e.dispatch({selection:{anchor:t<=n?t:n}})}};A1.prototype.getSelection=function(){return this._cmEditor.state.selection};A1.prototype.setVariables=function(t){let{dialect:e,builtins:n}=i1t(this._cmEditor.state);this._cmEditor.dispatch({effects:[wxe.reconfigure(Exe({dialect:e,builtins:n,variables:t}))]})};A1.prototype.setPlaceholder=function(t){this._cmEditor.dispatch({effects:_xe.reconfigure(Kz(t))})};var Sxe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],oP=Sxe.join(","),Oxe=typeof Element>"u",R1=Oxe?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,sP=!Oxe&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},aP=function t(e,n){var i;n===void 0&&(n=!0);var a=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"inert"),c=a===""||a==="true",d=c||n&&e&&t(e.parentNode);return d},c1t=function(e){var n,i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return i===""||i==="true"},Dxe=function(e,n,i){if(aP(e))return[];var a=Array.prototype.slice.apply(e.querySelectorAll(oP));return n&&R1.call(e,oP)&&a.unshift(e),a=a.filter(i),a},Txe=function t(e,n,i){for(var a=[],c=Array.from(e);c.length;){var d=c.shift();if(!aP(d,!1))if(d.tagName==="SLOT"){var h=d.assignedElements(),m=h.length?h:d.children,g=t(m,!0,i);i.flatten?a.push.apply(a,g):a.push({scopeParent:d,candidates:g})}else{var b=R1.call(d,oP);b&&i.filter(d)&&(n||!e.includes(d))&&a.push(d);var E=d.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(d),_=!aP(E,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(d));if(E&&_){var S=t(E===!0?d.children:E.children,!0,i);i.flatten?a.push.apply(a,S):a.push({scopeParent:d,candidates:S})}else c.unshift.apply(c,d.children)}}return a},kxe=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},F0=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||c1t(e))&&!kxe(e)?0:e.tabIndex},u1t=function(e,n){var i=F0(e);return i<0&&n&&!kxe(e)?0:i},d1t=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Pxe=function(e){return e.tagName==="INPUT"},f1t=function(e){return Pxe(e)&&e.type==="hidden"},h1t=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return n},p1t=function(e,n){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===n)return e[i]},m1t=function(e){if(!e.name)return!0;var n=e.form||sP(e),i=function(h){return n.querySelectorAll('input[type="radio"][name="'+h+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=i(window.CSS.escape(e.name));else try{a=i(e.name)}catch(d){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",d.message),!1}var c=p1t(a,e.form);return!c||c===e},g1t=function(e){return Pxe(e)&&e.type==="radio"},v1t=function(e){return g1t(e)&&!m1t(e)},y1t=function(e){var n,i=e&&sP(e),a=(n=i)===null||n===void 0?void 0:n.host,c=!1;if(i&&i!==e){var d,h,m;for(c=!!((d=a)!==null&&d!==void 0&&(h=d.ownerDocument)!==null&&h!==void 0&&h.contains(a)||e!=null&&(m=e.ownerDocument)!==null&&m!==void 0&&m.contains(e));!c&&a;){var g,b,E;i=sP(a),a=(g=i)===null||g===void 0?void 0:g.host,c=!!((b=a)!==null&&b!==void 0&&(E=b.ownerDocument)!==null&&E!==void 0&&E.contains(a))}}return c},Cxe=function(e){var n=e.getBoundingClientRect(),i=n.width,a=n.height;return i===0&&a===0},b1t=function(e,n){var i=n.displayCheck,a=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var c=R1.call(e,"details>summary:first-of-type"),d=c?e.parentElement:e;if(R1.call(d,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof a=="function"){for(var h=e;e;){var m=e.parentElement,g=sP(e);if(m&&!m.shadowRoot&&a(m)===!0)return Cxe(e);e.assignedSlot?e=e.assignedSlot:!m&&g!==e.ownerDocument?e=g.host:e=m}e=h}if(y1t(e))return!e.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return Cxe(e);return!1},x1t=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var a=n.children.item(i);if(a.tagName==="LEGEND")return R1.call(n,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}n=n.parentElement}return!1},lP=function(e,n){return!(n.disabled||aP(n)||f1t(n)||b1t(n,e)||h1t(n)||x1t(n))},dU=function(e,n){return!(v1t(n)||F0(n)<0||!lP(e,n))},E1t=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},w1t=function t(e){var n=[],i=[];return e.forEach(function(a,c){var d=!!a.scopeParent,h=d?a.scopeParent:a,m=u1t(h,d),g=d?t(a.candidates):h;m===0?d?n.push.apply(n,g):n.push(h):i.push({documentOrder:c,tabIndex:m,item:a,isScope:d,content:g})}),i.sort(d1t).reduce(function(a,c){return c.isScope?a.push.apply(a,c.content):a.push(c.content),a},[]).concat(n)},Ixe=function(e,n){n=n||{};var i;return n.getShadowRoot?i=Txe([e],n.includeContainer,{filter:dU.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:E1t}):i=Dxe(e,n.includeContainer,dU.bind(null,n)),w1t(i)},Mxe=function(e,n){n=n||{};var i;return n.getShadowRoot?i=Txe([e],n.includeContainer,{filter:lP.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):i=Dxe(e,n.includeContainer,lP.bind(null,n)),i},L1=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return R1.call(e,oP)===!1?!1:dU(n,e)},_1t=Sxe.concat("iframe").join(","),cP=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return R1.call(e,_1t)===!1?!1:lP(n,e)};function Axe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Rxe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Axe(Object(n),!0).forEach(function(i){C1t(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Axe(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function C1t(t,e,n){return e=O1t(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S1t(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O1t(t){var e=S1t(t,"string");return typeof e=="symbol"?e:String(e)}var Lxe={activateTrap:function(e,n){if(e.length>0){var i=e[e.length-1];i!==n&&i.pause()}var a=e.indexOf(n);a===-1||e.splice(a,1),e.push(n)},deactivateTrap:function(e,n){var i=e.indexOf(n);i!==-1&&e.splice(i,1),e.length>0&&e[e.length-1].unpause()}},D1t=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},T1t=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},I4=function(e){return e?.key==="Tab"||e?.keyCode===9},k1t=function(e){return I4(e)&&!e.shiftKey},P1t=function(e){return I4(e)&&e.shiftKey},$xe=function(e){return setTimeout(e,0)},Nxe=function(e,n){var i=-1;return e.every(function(a,c){return n(a)?(i=c,!1):!0}),i},P4=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return typeof e=="function"?e.apply(void 0,i):e},uP=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},I1t=[],Fxe=function(e,n){var i=n?.document||document,a=n?.trapStack||I1t,c=Rxe({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:k1t,isKeyBackward:P1t},n),d={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},h,m=function(ce,he,Se){return ce&&ce[he]!==void 0?ce[he]:c[Se||he]},g=function(ce,he){var Se=typeof he?.composedPath=="function"?he.composedPath():void 0;return d.containerGroups.findIndex(function(Qe){var je=Qe.container,xe=Qe.tabbableNodes;return je.contains(ce)||Se?.includes(je)||xe.find(function(_t){return _t===ce})})},b=function(ce){var he=c[ce];if(typeof he=="function"){for(var Se=arguments.length,Qe=new Array(Se>1?Se-1:0),je=1;je<Se;je++)Qe[je-1]=arguments[je];he=he.apply(void 0,Qe)}if(he===!0&&(he=void 0),!he){if(he===void 0||he===!1)return he;throw new Error("`".concat(ce,"` was specified but was not a node, or did not return a node"))}var xe=he;if(typeof he=="string"&&(xe=i.querySelector(he),!xe))throw new Error("`".concat(ce,"` as selector refers to no known node"));return xe},E=function(){var ce=b("initialFocus");if(ce===!1)return!1;if(ce===void 0||!cP(ce,c.tabbableOptions))if(g(i.activeElement)>=0)ce=i.activeElement;else{var he=d.tabbableGroups[0],Se=he&&he.firstTabbableNode;ce=Se||b("fallbackFocus")}if(!ce)throw new Error("Your focus-trap needs to have at least one focusable element");return ce},_=function(){if(d.containerGroups=d.containers.map(function(ce){var he=Ixe(ce,c.tabbableOptions),Se=Mxe(ce,c.tabbableOptions),Qe=he.length>0?he[0]:void 0,je=he.length>0?he[he.length-1]:void 0,xe=Se.find(function(B){return L1(B)}),_t=Se.slice().reverse().find(function(B){return L1(B)}),ne=!!he.find(function(B){return F0(B)>0});return{container:ce,tabbableNodes:he,focusableNodes:Se,posTabIndexesFound:ne,firstTabbableNode:Qe,lastTabbableNode:je,firstDomTabbableNode:xe,lastDomTabbableNode:_t,nextTabbableNode:function(ue){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,de=he.indexOf(ue);return de<0?Ee?Se.slice(Se.indexOf(ue)+1).find(function(_e){return L1(_e)}):Se.slice(0,Se.indexOf(ue)).reverse().find(function(_e){return L1(_e)}):he[de+(Ee?1:-1)]}}}),d.tabbableGroups=d.containerGroups.filter(function(ce){return ce.tabbableNodes.length>0}),d.tabbableGroups.length<=0&&!b("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(d.containerGroups.find(function(ce){return ce.posTabIndexesFound})&&d.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},S=function ge(ce){var he=ce.activeElement;if(he)return he.shadowRoot&&he.shadowRoot.activeElement!==null?ge(he.shadowRoot):he},D=function ge(ce){if(ce!==!1&&ce!==S(document)){if(!ce||!ce.focus){ge(E());return}ce.focus({preventScroll:!!c.preventScroll}),d.mostRecentlyFocusedNode=ce,D1t(ce)&&ce.select()}},k=function(ce){var he=b("setReturnFocus",ce);return he||(he===!1?!1:ce)},I=function(ce){var he=ce.target,Se=ce.event,Qe=ce.isBackward,je=Qe===void 0?!1:Qe;he=he||uP(Se),_();var xe=null;if(d.tabbableGroups.length>0){var _t=g(he,Se),ne=_t>=0?d.containerGroups[_t]:void 0;if(_t<0)je?xe=d.tabbableGroups[d.tabbableGroups.length-1].lastTabbableNode:xe=d.tabbableGroups[0].firstTabbableNode;else if(je){var B=Nxe(d.tabbableGroups,function(tt){var rn=tt.firstTabbableNode;return he===rn});if(B<0&&(ne.container===he||cP(he,c.tabbableOptions)&&!L1(he,c.tabbableOptions)&&!ne.nextTabbableNode(he,!1))&&(B=_t),B>=0){var ue=B===0?d.tabbableGroups.length-1:B-1,Ee=d.tabbableGroups[ue];xe=F0(he)>=0?Ee.lastTabbableNode:Ee.lastDomTabbableNode}else I4(Se)||(xe=ne.nextTabbableNode(he,!1))}else{var de=Nxe(d.tabbableGroups,function(tt){var rn=tt.lastTabbableNode;return he===rn});if(de<0&&(ne.container===he||cP(he,c.tabbableOptions)&&!L1(he,c.tabbableOptions)&&!ne.nextTabbableNode(he))&&(de=_t),de>=0){var _e=de===d.tabbableGroups.length-1?0:de+1,Ie=d.tabbableGroups[_e];xe=F0(he)>=0?Ie.firstTabbableNode:Ie.firstDomTabbableNode}else I4(Se)||(xe=ne.nextTabbableNode(he))}}else xe=b("fallbackFocus");return xe},R=function(ce){var he=uP(ce);if(!(g(he,ce)>=0)){if(P4(c.clickOutsideDeactivates,ce)){h.deactivate({returnFocus:c.returnFocusOnDeactivate});return}P4(c.allowOutsideClick,ce)||ce.preventDefault()}},$=function(ce){var he=uP(ce),Se=g(he,ce)>=0;if(Se||he instanceof Document)Se&&(d.mostRecentlyFocusedNode=he);else{ce.stopImmediatePropagation();var Qe,je=!0;if(d.mostRecentlyFocusedNode)if(F0(d.mostRecentlyFocusedNode)>0){var xe=g(d.mostRecentlyFocusedNode),_t=d.containerGroups[xe].tabbableNodes;if(_t.length>0){var ne=_t.findIndex(function(B){return B===d.mostRecentlyFocusedNode});ne>=0&&(c.isKeyForward(d.recentNavEvent)?ne+1<_t.length&&(Qe=_t[ne+1],je=!1):ne-1>=0&&(Qe=_t[ne-1],je=!1))}}else d.containerGroups.some(function(B){return B.tabbableNodes.some(function(ue){return F0(ue)>0})})||(je=!1);else je=!1;je&&(Qe=I({target:d.mostRecentlyFocusedNode,isBackward:c.isKeyBackward(d.recentNavEvent)})),D(Qe||d.mostRecentlyFocusedNode||E())}d.recentNavEvent=void 0},F=function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;d.recentNavEvent=ce;var Se=I({event:ce,isBackward:he});Se&&(I4(ce)&&ce.preventDefault(),D(Se))},L=function(ce){if(T1t(ce)&&P4(c.escapeDeactivates,ce)!==!1){ce.preventDefault(),h.deactivate();return}(c.isKeyForward(ce)||c.isKeyBackward(ce))&&F(ce,c.isKeyBackward(ce))},V=function(ce){var he=uP(ce);g(he,ce)>=0||P4(c.clickOutsideDeactivates,ce)||P4(c.allowOutsideClick,ce)||(ce.preventDefault(),ce.stopImmediatePropagation())},G=function(){if(d.active)return Lxe.activateTrap(a,h),d.delayInitialFocusTimer=c.delayInitialFocus?$xe(function(){D(E())}):D(E()),i.addEventListener("focusin",$,!0),i.addEventListener("mousedown",R,{capture:!0,passive:!1}),i.addEventListener("touchstart",R,{capture:!0,passive:!1}),i.addEventListener("click",V,{capture:!0,passive:!1}),i.addEventListener("keydown",L,{capture:!0,passive:!1}),h},re=function(){if(d.active)return i.removeEventListener("focusin",$,!0),i.removeEventListener("mousedown",R,!0),i.removeEventListener("touchstart",R,!0),i.removeEventListener("click",V,!0),i.removeEventListener("keydown",L,!0),h},ee=function(ce){var he=ce.some(function(Se){var Qe=Array.from(Se.removedNodes);return Qe.some(function(je){return je===d.mostRecentlyFocusedNode})});he&&D(E())},oe=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(ee):void 0,pe=function(){oe&&(oe.disconnect(),d.active&&!d.paused&&d.containers.map(function(ce){oe.observe(ce,{subtree:!0,childList:!0})}))};return h={get active(){return d.active},get paused(){return d.paused},activate:function(ce){if(d.active)return this;var he=m(ce,"onActivate"),Se=m(ce,"onPostActivate"),Qe=m(ce,"checkCanFocusTrap");Qe||_(),d.active=!0,d.paused=!1,d.nodeFocusedBeforeActivation=i.activeElement,he?.();var je=function(){Qe&&_(),G(),pe(),Se?.()};return Qe?(Qe(d.containers.concat()).then(je,je),this):(je(),this)},deactivate:function(ce){if(!d.active)return this;var he=Rxe({onDeactivate:c.onDeactivate,onPostDeactivate:c.onPostDeactivate,checkCanReturnFocus:c.checkCanReturnFocus},ce);clearTimeout(d.delayInitialFocusTimer),d.delayInitialFocusTimer=void 0,re(),d.active=!1,d.paused=!1,pe(),Lxe.deactivateTrap(a,h);var Se=m(he,"onDeactivate"),Qe=m(he,"onPostDeactivate"),je=m(he,"checkCanReturnFocus"),xe=m(he,"returnFocus","returnFocusOnDeactivate");Se?.();var _t=function(){$xe(function(){xe&&D(k(d.nodeFocusedBeforeActivation)),Qe?.()})};return xe&&je?(je(k(d.nodeFocusedBeforeActivation)).then(_t,_t),this):(_t(),this)},pause:function(ce){if(d.paused||!d.active)return this;var he=m(ce,"onPause"),Se=m(ce,"onPostPause");return d.paused=!0,he?.(),re(),pe(),Se?.(),this},unpause:function(ce){if(!d.paused||!d.active)return this;var he=m(ce,"onUnpause"),Se=m(ce,"onPostUnpause");return d.paused=!1,he?.(),_(),G(),pe(),Se?.(),this},updateContainerElements:function(ce){var he=[].concat(ce).filter(Boolean);return d.containers=he.map(function(Se){return typeof Se=="string"?i.querySelector(Se):Se}),d.active&&_(),pe(),this}},h.updateContainerElements(e),h};var Gb=function(e){return z("svg",Me(se({},e),{children:z("path",{fillRule:"evenodd",d:"m11.657 8-4.95 4.95a1 1 0 0 1-1.414-1.414L8.828 8 5.293 4.464A1 1 0 1 1 6.707 3.05L11.657 8Z"})}))};Gb.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var hP=function(e){return z("svg",Me(se({},e),{children:z("path",{fillRule:"evenodd",d:"M9 13V9h4a1 1 0 0 0 0-2H9V3a1 1 0 1 0-2 0v4H3a1 1 0 1 0 0 2h4v4a1 1 0 0 0 2 0Z"})}))};hP.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var pP=function(e){return z("svg",Me(se({},e),{children:z("path",{fillRule:"evenodd",d:"M12 6v7c0 1.1-.4 1.55-1.5 1.55h-5C4.4 14.55 4 14.1 4 13V6h8Zm-1.5 1.5h-5v4.3c0 .66.5 1.2 1.111 1.2H9.39c.611 0 1.111-.54 1.111-1.2V7.5ZM13 3h-2l-1-1H6L5 3H3v1.5h10V3Z"})}))};pP.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var mU=function(e){return z("svg",Me(se({},e),{children:[z("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),z("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),z("path",{d:"M7 3H5v2h2V3zm4 0H9v2h2V3zM7 7H5v2h2V7zm4 0H9v2h2V7zm-4 4H5v2h2v-2zm4 0H9v2h2v-2z",fill:"#161616"})]}))};mU.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var gU=function(e){return z("svg",Me(se({},e),{children:z("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.637 12.637v-4.72h1.362v4.721c0 .36-.137.676-.411.95-.275.275-.591.412-.95.412H3.362c-.38 0-.703-.132-.967-.396A1.315 1.315 0 0 1 2 12.638V3.362c0-.38.132-.703.396-.967S2.982 2 3.363 2h4.553v1.363H3.363v9.274h9.274ZM14 2H9.28l-.001 1.362h2.408L5.065 9.984l.95.95 6.622-6.622v2.409H14V2Z",fill:"currentcolor"})}))};gU.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var vU=function(e){return z("svg",Me(se({},e),{children:z("path",{d:"M3.617 11.99c-.137.684-.392 1.19-.765 1.518-.362.328-.882.492-1.558.492H0l.309-1.579h1.264l1.515-7.64h-.912l.309-1.579h.911l.236-1.191c.137-.685.387-1.192.75-1.52C4.753.164 5.277 0 5.953 0h1.294L6.94 1.579H5.675l-.323 1.623h1.264l-.309 1.579H5.043l-1.426 7.208ZM5.605 11.021l3.029-4.155L7.28 3.202h2.073l.706 2.547h.176l1.691-2.547H14l-3.014 4.051 1.338 3.768H10.25l-.706-2.606H9.37L7.678 11.02H5.605Z",fill:"currentcolor"})}))};vU.defaultProps={width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var fP=function(e){return z("svg",Me(se({},e),{children:[z("path",{d:"M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2Zm0 26a12 12 0 1 1 12-12 12 12 0 0 1-12 12Z"}),z("circle",{cx:"16",cy:"23.5",r:"1.5"}),z("path",{d:"M17 8h-1.5a4.49 4.49 0 0 0-4.5 4.5v.5h2v-.5a2.5 2.5 0 0 1 2.5-2.5H17a2.5 2.5 0 0 1 0 5h-2v4.5h2V17a4.5 4.5 0 0 0 0-9Z"}),z("path",{style:{fill:"none"},d:"M0 0h32v32H0z"})]}))};fP.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"};var mP=function(e){return z("svg",Me(se({},e),{children:[z("path",{fill:"currentColor",d:"M28 4H10a2.006 2.006 0 0 0-2 2v14a2.006 2.006 0 0 0 2 2h18a2.006 2.006 0 0 0 2-2V6a2.006 2.006 0 0 0-2-2Zm0 16H10V6h18Z"}),z("path",{fill:"currentColor",d:"M18 26H4V16h2v-2H4a2.006 2.006 0 0 0-2 2v10a2.006 2.006 0 0 0 2 2h14a2.006 2.006 0 0 0 2-2v-2h-2Z"})]}))};mP.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"};var yU=function(e){return z("svg",Me(se({},e),{children:z("path",{fillRule:"evenodd",d:"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8 12 4.7Z",fill:"currentColor"})}))};yU.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};function Zxe(t){let{element:e,headerProvider:n}=t,{getElementIcon:i,getDocumentationRef:a,getElementLabel:c,getTypeLabel:d}=n,h=c(e),m=d(e),g=a&&a(e),b=i(e);return z("div",{class:"bio-properties-panel-header",children:[z("div",{class:"bio-properties-panel-header-icon",children:b&&z(b,{width:"32",height:"32",viewBox:"0 0 32 32"})}),z("div",{class:"bio-properties-panel-header-labels",children:[z("div",{title:m,class:"bio-properties-panel-header-type",children:m}),h?z("div",{title:h,class:"bio-properties-panel-header-label",children:h}):null]}),z("div",{class:"bio-properties-panel-header-actions",children:g?z("a",{rel:"noopener",class:"bio-properties-panel-header-link",href:g,title:"Open documentation",target:"_blank",children:z(gU,{})}):null})]})}var bU=Ta({description:{},getDescriptionForId:()=>{}}),gP=Ta({errors:{}}),xU=Ta({eventBus:null}),gc=Ta({layout:{},setLayout:()=>{},getLayoutForKey:()=>{},setLayoutForKey:()=>{}}),EU=Ta({tooltip:{},getTooltipForId:()=>{}});function Jxe(t,e){let{getTooltipForId:n}=Xi(EU);return n(t,e)}function lh(t){let{forId:e,element:n}=t,i=Jxe(e,n),a=t.value||i;return a?z(A1t,Me(se({},t),{value:a,forId:$1t(e)})):t.children}function A1t(t){let{forId:e,value:n,parent:i,direction:a="right",position:c}=t,[d,h]=Tt(!1),[m,g]=Tt(!1),b=null,E=Wn(null),_=Wn(null),S=$=>co(this,null,function*(){let F=()=>h(!0);!d&&!b&&($ instanceof MouseEvent?b=setTimeout(F,200):(F(),g(!0)))}),D=()=>{h(!1),g(!1)},k=$=>{$.code==="Escape"&&D()},I=({x:$,y:F})=>{let L=_.current,V=E.current;return L&&(Bxe($,F,V.getBoundingClientRect())||Bxe($,F,L.getBoundingClientRect()))};at(()=>{let{current:$}=E;if(!$)return;let F=V=>{let G=document.activeElement===E.current||document.activeElement.closest(".bio-properties-panel-tooltip");d&&!I({x:V.x,y:V.y})&&!(G&&m)&&D()},L=V=>{let{relatedTarget:G}=V,re=ee=>!!ee.closest(".bio-properties-panel-tooltip");d&&!L1t(E.current)&&G&&!re(G)&&D()};return document.addEventListener("wheel",F),document.addEventListener("focusout",L),document.addEventListener("mousemove",F),()=>{document.removeEventListener("wheel",F),document.removeEventListener("mousemove",F),document.removeEventListener("focusout",L)}},[E.current,d,m]);let R=()=>z("div",{class:`bio-properties-panel-tooltip ${a}`,role:"tooltip",id:"bio-properties-panel-tooltip","aria-labelledby":e,style:c||R1t(E.current),ref:_,onClick:$=>$.stopPropagation(),children:[z("div",{class:"bio-properties-panel-tooltip-content",children:n}),z("div",{class:"bio-properties-panel-tooltip-arrow"})]});return z("div",{class:"bio-properties-panel-tooltip-wrapper",tabIndex:"0",ref:E,onMouseEnter:S,onMouseLeave:()=>{clearTimeout(b),b=null},onFocus:S,onKeyDown:k,children:[t.children,d?i?_T(R(),i.current):R():null]})}function Bxe(t,e,n){let{top:i,right:a,bottom:c,left:d}=n;return t>=d&&t<=a&&e>=i&&e<=c}function R1t(t){let e=t.getBoundingClientRect(),n=`calc(100% - ${e.x}px)`,i=`${e.top-10}px`;return`right: ${n}; top: ${i};`}function L1t(t){return t.matches(":hover")}function $1t(t){return`bio-properties-panel-${t}`}function eEe(t,e){let{getDescriptionForId:n}=Xi(bU);return n(t,e)}function B0(t){let{errors:e}=Xi(gP);return e[t]}function wU(){let{errors:t}=Xi(gP);return t}function Wb(t,e,n){let i=Xi(xU);n||({eventBus:n}=i);let a=Wn(!1);n&&!a.current&&n.on(t,e),at(()=>(n&&a.current&&n.on(t,e),a.current=!0,()=>{n&&n.off(t,e)}),[e,t,n])}var N1t=6;function tEe(t=[]){let e=wi(()=>new Map,t);return i=>{let a=e.get(i);return a||(a=Math.random().toString().slice(-N1t),e.set(i,a)),a}}function _U(t,e){let{getLayoutForKey:n,setLayoutForKey:i}=Xi(gc),a=n(t,e),c=Or(d=>{i(t,d)},[i]);return[a,c]}function N1(t){let e=Wn();return at(()=>{e.current=t}),e.current}function F1(t){let{onShow:e}=Xi(gc),n=Wn(),i=Wn(!1),a=Or(c=>{c.id===t&&(e(),i.current||(i.current=!0))},[t]);return at(()=>{i.current&&n.current&&(At(n.current.focus)&&n.current.focus(),At(n.current.select)&&n.current.select(),i.current=!1)}),Wb("propertiesPanel.showEntry",a),n}function CU(t,e,n){let[i,a]=Tt(Et(e)),c=Or(()=>{let d=Et(e);d!==i&&a(d)},[e,i]);at(()=>{c()},[c]),Wb("propertiesPanel.attach",c),Wb("propertiesPanel.detach",c),at(()=>{let d=IntersectionObserver;if(!d||!t.current||!i)return;let h=new d(m=>{i.scrollHeight!==0&&m.forEach(g=>{g.intersectionRatio<1?n(!0):g.intersectionRatio===1&&n(!1)})},{root:i,rootMargin:"0px 0px 999999% 0px",threshold:[1]});return h.observe(t.current),()=>{h.unobserve(t.current)}},[t.current,i,n])}function ah(t){let e=Wn(t);return e.current=t,Or((...n)=>e.current(...n),[])}function nEe(t){let[e,n]=Tt(!!t&&!!t.clientHeight);return Od(()=>{if(!t)return;let i=new ResizeObserver(([a])=>{requestAnimationFrame(()=>{let c=!!a.contentRect.height;c!==e&&n(c)})});return i.observe(t),()=>i.disconnect()},[t,e]),e}function Ut(t){let{element:e,entries:n=[],id:i,label:a,shouldOpen:c=!1}=t,d=Wn(null),[h,m]=_U(["groups",i,"open"],c),g=Or(()=>m(!0),[m]),b=()=>m(!h),[E,_]=Tt(!1),[S,D]=Tt(!1);at(()=>{let $=requestAnimationFrame(()=>{let F=n.find(L=>{let{id:V,isEdited:G}=L,re=Et(`[data-entry-id="${V}"]`);if(!At(G)||!re)return!1;let ee=Et(".bio-properties-panel-input",re);return G(ee)});_(F)});return()=>cancelAnimationFrame($)},[n,_]);let k=wU(),I=n.some($=>k[$.id]);CU(d,"div.bio-properties-panel-scroll-container",D);let R=Me(se({},Xi(gc)),{onShow:g});return z("div",{class:"bio-properties-panel-group","data-group-id":"group-"+i,ref:d,children:[z("div",{class:(0,Jn.default)("bio-properties-panel-group-header",E?"":"empty",h?"open":"",S&&h?"sticky":""),onClick:b,children:[z("div",{title:t.tooltip?null:a,"data-title":a,class:"bio-properties-panel-group-header-title",children:z(lh,{value:t.tooltip,forId:"group-"+i,element:e,parent:d,children:a})}),z("div",{class:"bio-properties-panel-group-header-buttons",children:[z(F1t,{edited:E,hasErrors:I}),z("button",{type:"button",title:"Toggle section",class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:z(Gb,{class:h?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})})]})]}),z("div",{class:(0,Jn.default)("bio-properties-panel-group-entries",h?"open":""),children:z(gc.Provider,{value:R,children:n.map($=>{let{component:F,id:L}=$;return hn(F,Me(se({},$),{element:e,key:L}))})})})]})}function F1t(t){let{edited:e,hasErrors:n}=t;return n?z("div",{title:"Section contains an error",class:"bio-properties-panel-dot bio-properties-panel-dot--error"}):e?z("div",{title:"Section contains data",class:"bio-properties-panel-dot"}):null}function pU(t){let{text:e,icon:n}=t;return z("div",{class:"bio-properties-panel open",children:z("section",{class:"bio-properties-panel-placeholder",children:[n&&z(n,{class:"bio-properties-panel-placeholder-icon"}),z("p",{class:"bio-properties-panel-placeholder-text",children:e})]})})}function ch(t){let{element:e,forId:n,value:i}=t,a=eEe(n,e),c=i||a;if(c)return z("div",{class:"bio-properties-panel-description",children:c})}var jxe=()=>{},B1t=function(t,e){let[n,i]=Tt(void 0);e.current=wi(()=>({focus:a=>{t?t.focus(a):(typeof a>"u"&&(a=1/0),i(a))}}),[t]),at(()=>{typeof n<"u"&&t&&(t.focus(n),i(!1))},[t,n])},SU=Dd((t,e)=>{let{onInput:n,disabled:i,tooltipContainer:a,enableGutters:c,value:d,onLint:h=jxe,onPopupOpen:m=jxe,popupOpen:g,contentAttributes:b={},hostLanguage:E=null,singleLine:_=!1}=t,S=Wn(),[D,k]=Tt(),[I,R]=Tt(d||"");B1t(D,e);let $=ah(L=>{n(L),R(L)});at(()=>{let L;return L=new T4({container:S.current,onChange:$,value:I,onLint:h,contentAttributes:b,tooltipContainer:a,enableGutters:c,hostLanguage:E,singleLine:_,lineWrap:!0}),k(L),()=>{h([]),S.current.innerHTML="",k(null)}},[]),at(()=>{D&&d!==I&&(D.setValue(d),R(d))},[d]);let F=()=>{e.current.focus()};return z("div",{class:(0,Jn.default)("bio-properties-panel-feelers-editor-container",g?"popupOpen":null),children:[z("div",{class:"bio-properties-panel-feelers-editor__open-popup-placeholder",children:"Opened in editor"}),z("div",{name:t.name,class:(0,Jn.default)("bio-properties-panel-feelers-editor bio-properties-panel-input",I?"edited":null,i?"disabled":null),ref:S,onClick:F}),z("button",{type:"button",title:"Open pop-up editor",class:"bio-properties-panel-open-feel-popup",onClick:()=>m("feelers"),children:z(mP,{})})]})}),fU=()=>{},j1t=function(t,e){let[n,i]=Tt(void 0);e.current=wi(()=>({focus:a=>{t?t.focus(a):(typeof a>"u"&&(a=1/0),i(a))}}),[t]),at(()=>{typeof n<"u"&&t&&(t.focus(n),i(!1))},[t,n])},rEe=Dd((t,e)=>{let{contentAttributes:n,enableGutters:i,value:a,onInput:c,onFeelToggle:d=fU,onLint:h=fU,onPopupOpen:m=fU,placeholder:g,popupOpen:b,disabled:E,tooltipContainer:_,variables:S}=t,D=Wn(),[k,I]=Tt(),[R,$]=Tt(a||"");j1t(k,e);let F=ah(V=>{c(V),$(V)});at(()=>{let V,G=re=>{if(re.key!=="Backspace"||!V)return;let ee=V.getSelection(),oe=ee.ranges[ee.mainIndex];oe.from===0&&oe.to===0&&d()};return V=new A1({container:D.current,onChange:F,onKeyDown:G,onLint:h,placeholder:g,tooltipContainer:_,value:R,variables:S,extensions:[...i?[Tk()]:[],It.lineWrapping],contentAttributes:n}),I(V),()=>{h([]),D.current.innerHTML="",I(null)}},[]),at(()=>{k&&a!==R&&(k.setValue(a),$(a))},[a]),at(()=>{k&&k.setVariables(S)},[S]),at(()=>{k&&k.setPlaceholder(g)},[g]);let L=()=>{e.current.focus()};return z("div",{class:(0,Jn.default)("bio-properties-panel-feel-editor-container",E?"disabled":null,b?"popupOpen":null),children:[z("div",{class:"bio-properties-panel-feel-editor__open-popup-placeholder",children:"Opened in editor"}),z("div",{name:t.name,class:(0,Jn.default)("bio-properties-panel-input",R?"edited":null),ref:D,onClick:L}),z("button",{type:"button",title:"Open pop-up editor",class:"bio-properties-panel-open-feel-popup",onClick:()=>m(),children:z(mP,{})})]})});function V1t(t){let{active:e}=t;return e?z("span",{class:"bio-properties-panel-feel-indicator",children:"="}):null}var z1t=()=>{};function H1t(t){let{feel:e=!1,active:n,disabled:i=!1,onClick:a=z1t}=t,c="FEEL expression is mandatory",d=`Click to ${n?"remove":"set a"} dynamic value with FEEL expression`,h=m=>{a(m),m.pointerType||m.stopPropagation()};return z("button",{type:"button",class:(0,Jn.default)("bio-properties-panel-feel-icon",n?"active":null,e==="required"?"required":"optional"),onClick:h,disabled:e==="required"||i,title:e==="required"?c:d,children:z(vU,{})})}var OU=Ta({open:()=>{},close:()=>{},source:null});function U1t(t,e){let n,i,a;function c(m){n=this,i=m.clientX,a=m.clientY,m.dataTransfer&&m.dataTransfer.setDragImage(e||q1t(),0,0),document.addEventListener("dragover",d,!0),document.addEventListener("dragenter",dP,!0),document.addEventListener("dragend",h),document.addEventListener("drop",dP)}function d(m){let g={x:m.clientX-i,y:m.clientY-a};return t.call(n,m,g)}function h(){document.removeEventListener("dragover",d,!0),document.removeEventListener("dragenter",dP,!0),document.removeEventListener("dragend",h),document.removeEventListener("drop",dP)}return c}function dP(t){t.preventDefault(),t.stopPropagation()}function q1t(){return jt('<canvas width="0" height="0" />')}var Vxe=()=>{};function W1t(t,e){let{container:n,className:i,delayInitialFocus:a,position:c,width:d,height:h,onClose:m,onPostActivate:g=Vxe,onPostDeactivate:b=Vxe,returnFocus:E=!0,closeOnEscape:_=!0,title:S}=t,D=Wn(null),k=Wn(null),I=e||k,R=wi(()=>K1t(n),[n]),$=V=>{V.stopPropagation(),_&&V.key==="Escape"&&m()},F=()=>{D.current&&D.current.activate()},L={};return c&&(L=Me(se({},L),{top:c.top+"px",left:c.left+"px"})),d&&(L.width=d+"px"),h&&(L.height=h+"px"),at(()=>(I.current&&I.current.addEventListener("focusin",F),()=>{I.current.removeEventListener("focusin",F)}),[I]),at(()=>(I.current&&(D.current=Fxe(I.current,{clickOutsideDeactivates:!0,delayInitialFocus:a,fallbackFocus:I.current,onPostActivate:g,onPostDeactivate:b,returnFocusOnDeactivate:E}),D.current.activate()),()=>D.current&&D.current.deactivate()),[I]),Wb("propertiesPanel.detach",m),_T(z("div",{"aria-label":S,tabIndex:-1,ref:I,onKeyDown:$,role:"dialog",class:(0,Jn.default)("bio-properties-panel-popup",i),style:L,children:t.children}),R||document.body)}var $1=Dd(W1t);$1.Title=G1t;$1.Body=Q1t;$1.Footer=Y1t;function G1t(t){let I=t,{children:e,className:n,draggable:i,emit:a=()=>{},title:c,showCloseButton:d=!1,closeButtonTooltip:h="Close popup",onClose:m}=I,g=Ae(I,["children","className","draggable","emit","title","showCloseButton","closeButtonTooltip","onClose"]),b=Wn({startPosition:null,newPosition:null}),E=Wn(),_=Wn(),S=(R,$)=>{X1t(R);let{x:F,y:L}=$,V={x:b.current.startPosition.x+F,y:b.current.startPosition.y+L},G=zxe(_.current);G.style.top=V.y+"px",G.style.left=V.x+"px",a("dragover",{newPosition:V,delta:$})},D=R=>{U1t(S,E.current)(R),R.stopPropagation();let L=zxe(_.current).getBoundingClientRect();b.current.startPosition={x:L.left,y:L.top},a("dragstart")},k=()=>{b.current.newPosition=null,a("dragend")};return z("div",Me(se({class:(0,Jn.default)("bio-properties-panel-popup__header",i&&"draggable",n),ref:_,draggable:i,onDragStart:D,onDragEnd:k},g),{children:[i&&z(Js,{children:[z("div",{ref:E,class:"bio-properties-panel-popup__drag-preview"}),z("div",{class:"bio-properties-panel-popup__drag-handle",children:z(mU,{})})]}),z("div",{class:"bio-properties-panel-popup__title",children:c}),e,d&&z("button",{title:h,class:"bio-properties-panel-popup__close",onClick:m,children:z(yU,{})})]}))}function Q1t(t){let a=t,{children:e,className:n}=a,i=Ae(a,["children","className"]);return z("div",Me(se({class:(0,Jn.default)("bio-properties-panel-popup__body",n)},i),{children:e}))}function Y1t(t){let a=t,{children:e,className:n}=a,i=Ae(a,["children","className"]);return z("div",Me(se({class:(0,Jn.default)("bio-properties-panel-popup__footer",n)},i),{children:t.children}))}function zxe(t){return t.closest(".bio-properties-panel-popup")}function X1t(t){t.preventDefault(),t.stopPropagation()}function K1t(t){return typeof t=="string"?Et(t):t}var iEe=700,Z1t=250;function J1t(t){let{element:e,eventBus:n={fire(){},on(){},off(){}},popupContainer:i}=t,a=N1(e),[c,d]=Tt({}),[h,m]=Tt(!1),[g,b]=Tt(null),[E,_]=Tt(null),S=($,F)=>{n.fire("feelPopup."+$,F)},D=Or(()=>!!h,[h]);nvt(()=>{h||S("closed")},[h]);let k=($,F,L)=>{b($),d(F),m(!0),_(L),S("open")},I=($={})=>{let{id:F}=$;F&&F!==g||(m(!1),b(null))},R={open:k,close:I,source:g};return at(()=>{e&&a&&e!==a&&I()},[e]),at(()=>{let $=L=>{let{entryId:V,popupConfig:G,sourceElement:re}=L;k(V,G,re)},F=()=>D();return n.on("feelPopup._close",I),n.on("feelPopup._open",$),n.on("feelPopup._isOpen",F),()=>{n.off("feelPopup._close",I),n.off("feelPopup._open",k),n.off("feelPopup._isOpen",F)}},[n,D]),z(OU.Provider,{value:R,children:[h&&z(evt,se({onClose:I,container:i,sourceElement:E,emit:S},c)),t.children]})}function evt(t){let{container:e,id:n,hostLanguage:i,onInput:a,onClose:c,position:d,singleLine:h,sourceElement:m,title:g,tooltipContainer:b,type:E,value:_,variables:S,emit:D}=t,k=Wn(),I=Wn(),R=Wn(!1),$=()=>{m&&m.focus()},F=V=>{V.key==="Escape"&&(R.current=tvt(V.target))},L=V=>{V.key==="Escape"&&(R.current||(c(),R.current=!1))};return at(()=>(D("opened",{domNode:I.current}),()=>D("close",{domNode:I.current})),[]),at(()=>{k.current&&k.current.focus()},[k]),z($1,{container:e,className:"bio-properties-panel-feel-popup",emit:D,position:d,title:g,onClose:c,returnFocus:!1,closeOnEscape:!1,delayInitialFocus:!1,onPostDeactivate:$,height:Z1t,width:iEe,ref:I,children:[z($1.Title,{title:g,emit:D,showCloseButton:!0,closeButtonTooltip:"Save and close",onClose:c,draggable:!0,children:[E==="feel"&&z("a",{href:"https://docs.camunda.io/docs/components/modeler/feel/what-is-feel/",target:"_blank",class:"bio-properties-panel-feel-popup__title-link",children:["Learn FEEL expressions",z(fP,{})]}),E==="feelers"&&z("a",{href:"https://docs.camunda.io/docs/components/modeler/forms/configuration/forms-config-templating-syntax/",target:"_blank",class:"bio-properties-panel-feel-popup__title-link",children:["Learn templating",z(fP,{})]})]}),z($1.Body,{children:z("div",{onKeyDownCapture:F,onKeyDown:L,class:"bio-properties-panel-feel-popup__body",children:[E==="feel"&&z(rEe,{enableGutters:!0,id:Hxe(n),name:n,onInput:a,value:_,variables:S,ref:k,tooltipContainer:b}),E==="feelers"&&z(SU,{id:Hxe(n),contentAttributes:{"aria-label":g},enableGutters:!0,hostLanguage:i,name:n,onInput:a,value:_,ref:k,singleLine:h,tooltipContainer:b})]})})]})}function Hxe(t){return`bio-properties-panel-${t}`}function tvt(t){return t.closest(".cm-editor").querySelector(".cm-tooltip-autocomplete")}function nvt(t,e){let n=Wn(!1);at(()=>{if(n.current)return t();n.current=!0},e)}function oEe(t){let{id:e,label:n,onInput:i,value:a,switcherLabel:c,inline:d,onFocus:h,onBlur:m,inputRef:g,tooltip:b}=t,[E,_]=Tt(a),S=()=>co(this,null,function*(){i(!a)}),D=k=>{S(),_(k.target.value)};return at(()=>{a!==E&&_(a)},[a]),z("div",{class:(0,Jn.default)("bio-properties-panel-toggle-switch",{inline:d}),children:[z("label",{class:"bio-properties-panel-label",for:Uxe(e),children:z(lh,{value:b,forId:e,element:t.element,children:n})}),z("div",{class:"bio-properties-panel-field-wrapper",children:[z("label",{class:"bio-properties-panel-toggle-switch__switcher",children:[z("input",{ref:g,id:Uxe(e),class:"bio-properties-panel-input",type:"checkbox",onFocus:h,onBlur:m,name:e,onInput:D,checked:!!E}),z("span",{class:"bio-properties-panel-toggle-switch__slider"})]}),c&&z("p",{class:"bio-properties-panel-toggle-switch__label",children:c})]})]})}function vP(t){let{element:e,id:n,description:i,label:a,switcherLabel:c,inline:d,getValue:h,setValue:m,onFocus:g,onBlur:b,tooltip:E}=t,_=h(e);return z("div",{class:"bio-properties-panel-entry bio-properties-panel-toggle-switch-entry","data-entry-id":n,children:[z(oEe,{id:n,label:a,value:_,onInput:m,onFocus:g,onBlur:b,switcherLabel:c,inline:d,tooltip:E,element:e}),z(ch,{forId:n,element:e,value:i})]})}function yP(t){return t&&!!t.checked}function Uxe(t){return`bio-properties-panel-${t}`}function sEe(t){let{debounce:e,disabled:n,displayLabel:i=!0,id:a,inputRef:c,label:d,max:h,min:m,onInput:g,step:b,value:E="",onFocus:_,onBlur:S}=t,[D,k]=Tt(E),I=wi(()=>e($=>{$.validity.valid&&g($.value?parseFloat($.value):void 0)}),[g,e]),R=$=>{I($.target),k($.target.value)};return at(()=>{E!==D&&k(E)},[E]),z("div",{class:"bio-properties-panel-numberfield",children:[i&&z("label",{for:qxe(a),class:"bio-properties-panel-label",children:d}),z("input",{id:qxe(a),ref:c,type:"number",name:a,spellCheck:"false",autoComplete:"off",disabled:n,class:"bio-properties-panel-input",max:h,min:m,onInput:R,onFocus:_,onBlur:S,step:b,value:D})]})}function rvt(t){let{debounce:e,description:n,disabled:i,element:a,getValue:c,id:d,label:h,max:m,min:g,setValue:b,step:E,onFocus:_,onBlur:S,validate:D}=t,k=B0(d),[I,R]=Tt(null),$=c(a);at(()=>{if(At(D)){let V=D($)||null;R(V)}},[$,D]);let F=V=>{let G=null;At(D)&&(G=D(V)||null),b(V,G),R(G)},L=k||I;return z("div",{class:(0,Jn.default)("bio-properties-panel-entry",L?"has-error":""),"data-entry-id":d,children:[z(sEe,{debounce:e,disabled:i,id:d,label:h,onFocus:_,onBlur:S,onInput:F,max:m,min:g,step:E,value:$},a),L&&z("div",{class:"bio-properties-panel-error",children:L}),z(ch,{forId:d,element:a,value:n})]})}function ivt(t){return t&&!!t.value}function qxe(t){return`bio-properties-panel-${t}`}var ovt=()=>{};function svt(t){let{debounce:e,id:n,element:i,label:a,hostLanguage:c,onInput:d,onError:h,placeholder:m,feel:g,value:b="",disabled:E=!1,variables:_,singleLine:S,tooltipContainer:D,OptionalComponent:k=lvt,tooltip:I}=t,[R,$]=Tt(b),F=F1(n),L=Wn(),V=kr(R)&&R.startsWith("=")||g==="required",G=kr(R)&&R.startsWith("=")?R.substring(1):R,[re,ee]=Tt(void 0),{open:oe,source:pe}=Xi(OU),ge=pe===n,ce=(ne=0)=>{let ue=L.current.contains(document.activeElement)?document.activeElement.selectionStart:1/0;ee(ue+ne)},he=wi(()=>e(ne=>{d(ne)}),[d,e]),Se=ne=>{$(ne),he(typeof ne>"u"||ne===""||ne==="="?void 0:ne)},Qe=ah(()=>{g!=="required"&&Se(V?G:"="+R)}),je=ne=>{V&&(ne="="+ne),ne!==R&&(Se(ne),!V&&kr(ne)&&ne.startsWith("=")&&ce(-1))},xe=ah(ne=>{if(!(ne&&ne.length)){h(void 0);return}h("Unparsable FEEL expression.")}),_t=(ne="feel")=>{let B={id:n,hostLanguage:c,onInput:je,position:yvt(L.current),singleLine:S,title:bvt(i,a),tooltipContainer:D,type:ne,value:G,variables:_};oe(n,B,F.current)};return at(()=>{typeof re<"u"&&(F.current.focus(re),ee(void 0))},[re]),at(()=>{if(b!==R){if(!b){Se(V?"=":"");return}Se(b)}},[b]),at(()=>{let ne=ue=>{V&&ue.clipboardData.setData("application/FEEL",ue.clipboardData.getData("text"))},B=ue=>{if(V||ge)return;ue.clipboardData.getData("application/FEEL")&&setTimeout(()=>{Qe(),ce()})};return L.current.addEventListener("copy",ne),L.current.addEventListener("cut",ne),L.current.addEventListener("paste",B),()=>{L.current.removeEventListener("copy",ne),L.current.removeEventListener("cut",ne),L.current.removeEventListener("paste",B)}},[L,V,Qe,ce]),z("div",{class:(0,Jn.default)("bio-properties-panel-feel-entry",{"feel-active":V}),children:[z("label",{for:qb(n),class:"bio-properties-panel-label",onClick:()=>ce(),children:[z(lh,{value:I,forId:n,element:t.element,children:a}),z(H1t,{label:a,feel:g,onClick:Qe,active:V})]}),z("div",{class:"bio-properties-panel-feel-container",ref:L,children:[z(V1t,{active:V,disabled:g!=="optional"||E,onClick:Qe}),V?z(rEe,{name:n,onInput:je,contentAttributes:{id:qb(n),"aria-label":a},disabled:E,popupOpen:ge,onFeelToggle:()=>{Qe(),ce(!0)},onLint:xe,onPopupOpen:_t,placeholder:m,value:G,variables:_,ref:F,tooltipContainer:D}):z(k,Me(se({},t),{popupOpen:ge,onInput:je,contentAttributes:{id:qb(n),"aria-label":a},value:R,ref:F,onPopupOpen:_t,containerRef:L}))]})]})}var avt=xvt(svt),lvt=Dd((t,e)=>{let{id:n,disabled:i,onInput:a,value:c,onFocus:d,onBlur:h,placeholder:m}=t,g=Wn();return e.current={focus:b=>{let E=g.current;E&&(E.focus(),typeof b=="number"&&(b>c.length&&(b=c.length),E.setSelectionRange(b,b)))}},z("input",{id:qb(n),type:"text",ref:g,name:n,spellCheck:"false",autoComplete:"off",disabled:i,class:"bio-properties-panel-input",onInput:b=>a(b.target.value),onFocus:d,onBlur:h,placeholder:m,value:c||""})}),cvt=Dd((t,e)=>{let{id:n,debounce:i,disabled:a,onInput:c,value:d,min:h,max:m,step:g,onFocus:b,onBlur:E}=t,_=Wn();return e.current={focus:S=>{let D=_.current;D&&(D.focus(),typeof S=="number"&&S!==1/0&&(S>d.length&&(S=d.length),D.setSelectionRange(S,S)))}},z(sEe,{id:n,debounce:i,disabled:a,displayLabel:!1,inputRef:_,max:m,min:h,onInput:c,step:g,value:d,onFocus:b,onBlur:E})}),uvt=Dd((t,e)=>{let{id:n,disabled:i,onInput:a,value:c,onFocus:d,onBlur:h,placeholder:m}=t,g=Wn();return e.current={focus:()=>{let b=g.current;b&&(b.focus(),b.setSelectionRange(0,0))}},z("textarea",{id:qb(n),type:"text",ref:g,name:n,spellCheck:"false",autoComplete:"off",disabled:i,class:"bio-properties-panel-input",onInput:b=>a(b.target.value),onFocus:d,onBlur:h,placeholder:m,value:c||"","data-gramm":"false"})}),dvt=Dd((t,e)=>{let{id:n,onInput:i,value:a,onFocus:c,onBlur:d,switcherLabel:h}=t,m=Wn();return e.current={focus:()=>{let g=m.current;g&&g.focus()}},z(oEe,{id:n,value:a,inputRef:m,onInput:i,onFocus:c,onBlur:d,switcherLabel:h})}),fvt=Dd((t,e)=>{let{id:n,disabled:i,onInput:a,value:c,onFocus:d,onBlur:h}=t,m=Wn(),g=({target:b})=>{a(b.checked)};return e.current={focus:()=>{let b=m.current;b&&b.focus()}},z("input",{ref:m,id:qb(n),name:n,onFocus:d,onBlur:h,type:"checkbox",class:"bio-properties-panel-input",onChange:g,checked:c,disabled:i})});function j0(t){let{element:e,id:n,description:i,debounce:a,disabled:c,feel:d,label:h,getValue:m,setValue:g,tooltipContainer:b,hostLanguage:E,singleLine:_,validate:S,show:D=ovt,example:k,variables:I,onFocus:R,onBlur:$,placeholder:F,tooltip:L}=t,[V,G]=Tt(null),[re,ee]=Tt(null),oe=m(e);at(()=>{if(At(S)){let Se=S(oe)||null;G(Se)}},[oe,S]);let pe=ah(Se=>{let Qe=null;At(S)&&(Qe=S(Se)||null),Se!==oe&&g(Se,Qe),G(Qe)}),ge=Or(Se=>{ee(Se)},[]),he=B0(n)||re||V;return z("div",{class:(0,Jn.default)(t.class,"bio-properties-panel-entry",he?"has-error":""),"data-entry-id":n,children:[hn(avt,Me(se({},t),{debounce:a,disabled:c,feel:d,id:n,key:e,label:h,onInput:pe,onError:ge,onFocus:R,onBlur:$,placeholder:F,example:k,hostLanguage:E,singleLine:_,show:D,value:oe,variables:I,tooltipContainer:b,OptionalComponent:t.OptionalComponent,tooltip:L})),he&&z("div",{class:"bio-properties-panel-error",children:he}),z(ch,{forId:n,element:e,value:i})]})}function hvt(t){return z(j0,se({class:"bio-properties-panel-feel-number",OptionalComponent:cvt},t))}function pvt(t){return z(j0,se({class:"bio-properties-panel-feel-textarea",OptionalComponent:uvt},t))}function mvt(t){return z(j0,se({class:"bio-properties-panel-feel-toggle-switch",OptionalComponent:dvt},t))}function gvt(t){return z(j0,se({class:"bio-properties-panel-feel-checkbox",OptionalComponent:fvt},t))}function vvt(t){return z(j0,se({class:"bio-properties-panel-feel-templating",OptionalComponent:SU},t))}function Zr(t){return t?t.type==="checkbox"?!!t.checked||t.classList.contains("edited"):!!t.value||t.classList.contains("edited"):!1}function qb(t){return`bio-properties-panel-${t}`}function yvt(t){let{top:e,left:n}=t.getBoundingClientRect();return{left:n-iEe-20,top:e}}function bvt(t,e){let n="";return t&&t.type&&(n=`${t.type} / `),`${n}${e}`}function xvt(t){return function(e){let{id:n}=e,{close:i}=Xi(OU),a=ah(i);return at(()=>()=>{a({id:n})},[]),z(t,se({},e))}}var Evt={},wvt={},_vt={};function M4(t){let{element:e,headerProvider:n,placeholderProvider:i,groups:a,layoutConfig:c,layoutChanged:d,descriptionConfig:h,descriptionLoaded:m,tooltipConfig:g,tooltipLoaded:b,feelPopupContainer:E,eventBus:_}=t,[S,D]=Tt(Wxe(c));Ovt(()=>{let Se=Wxe(c);D(Se)},[c]),at(()=>{typeof d=="function"&&d(S)},[S,d]);let R={layout:S,setLayout:D,getLayoutForKey:(Se,Qe)=>kde(S,Se,Qe),setLayoutForKey:(Se,Qe)=>{let je=le({},S);_8(je,Se,Qe),D(je)}},$=wi(()=>Cvt(h),[h]);at(()=>{typeof m=="function"&&m($)},[$,m]);let L={description:$,getDescriptionForId:(Se,Qe)=>$[Se]&&$[Se](Qe)},V=wi(()=>Svt(g),[g]);at(()=>{typeof b=="function"&&b(V)},[V,b]);let re={tooltip:V,getTooltipForId:(Se,Qe)=>V[Se]&&V[Se](Qe)},[ee,oe]=Tt({});Wb("propertiesPanel.setErrors",({errors:Se})=>oe(Se),_);let ge={errors:ee},ce={eventBus:_},he={element:e};return i&&!e?z(pU,se({},i.getEmpty())):i&&Ue(e)?z(pU,se({},i.getMultiple())):z(gc.Provider,{value:he,children:z(gP.Provider,{value:ge,children:z(bU.Provider,{value:L,children:z(EU.Provider,{value:re,children:z(gc.Provider,{value:R,children:z(xU.Provider,{value:ce,children:z(J1t,{element:e,eventBus:_,popupContainer:E,children:z("div",{class:"bio-properties-panel",children:[z(Zxe,{element:e,headerProvider:n}),z("div",{class:"bio-properties-panel-scroll-container",children:a.map(Se=>{let{component:Qe=Ut,id:je}=Se;return hn(Qe,Me(se({},Se),{key:je,element:e}))})})]})})})})})})})})}function Wxe(t={},e=Evt){return se(se({},e),t)}function Cvt(t={}){return se(se({},wvt),t)}function Svt(t={}){return se(se({},_vt),t)}function Ovt(t,e){let n=Wn(!1);Od(()=>{if(n.current)return t();n.current=!0},e)}function Dvt(t){let{class:e,children:n,menuItems:i=[]}=t,a=Wn(null),c=Wn(null),[d,h]=Tt(!1),m=()=>h(!1);function g(E){c.current&&c.current.contains(E.target)||(E.stopPropagation(),h(_=>!_))}function b(E,_){E.stopPropagation(),m(),_()}return kvt([a.current],()=>m()),z("div",{class:(0,Jn.default)("bio-properties-panel-dropdown-button",{open:d},e),onClick:g,ref:a,children:[n,z("div",{class:"bio-properties-panel-dropdown-button__menu",ref:c,children:i.map((E,_)=>z(Tvt,{onClick:b,item:E},_))})]})}function Tvt({item:t,onClick:e}){return t.separator?z("div",{class:"bio-properties-panel-dropdown-button__menu-item bio-properties-panel-dropdown-button__menu-item--separator"}):t.action?z("button",{type:"button",class:"bio-properties-panel-dropdown-button__menu-item bio-properties-panel-dropdown-button__menu-item--actionable",onClick:n=>e(n,t.action),children:t.entry}):z("div",{class:"bio-properties-panel-dropdown-button__menu-item",children:t.entry})}function kvt(t,e){at(()=>{function n(i){t.some(a=>a&&a.contains(i.target))||e()}return document.addEventListener("click",n,{capture:!0}),()=>document.removeEventListener("click",n,{capture:!0})},[...t,e])}function Pvt(t){let c=t,{children:e=null,class:n,onClick:i=()=>{}}=c,a=Ae(c,["children","class","onClick"]);return z("button",Me(se({type:"button"},a),{onClick:i,class:(0,Jn.default)("bio-properties-panel-group-header-button",n),children:e}))}function DU(t,e){return e=e||{},t.replace(/{([^}]+)}/g,function(n,i){return e[i]||"{"+i+"}"})}function V0(t){let{element:e,entries:n=[],id:i,label:a,open:c,remove:d,translate:h=DU}=t,[m,g]=Tt(c),b=()=>g(!m),{onShow:E}=Xi(gc),_=Me(se({},Xi(gc)),{onShow:Or(()=>{g(!0),At(E)&&E()},[E,g])}),S=h("<empty>");return z("div",{"data-entry-id":i,class:(0,Jn.default)("bio-properties-panel-collapsible-entry",m?"open":""),children:[z("div",{class:"bio-properties-panel-collapsible-entry-header",onClick:b,children:[z("div",{title:a||S,class:(0,Jn.default)("bio-properties-panel-collapsible-entry-header-title",!a&&"empty"),children:a||S}),z("button",{type:"button",title:h("Toggle list item"),class:"bio-properties-panel-arrow  bio-properties-panel-collapsible-entry-arrow",children:z(Gb,{class:m?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})}),d?z("button",{type:"button",title:h("Delete item"),class:"bio-properties-panel-remove-entry",onClick:d,children:z(pP,{})}):null]}),z("div",{class:(0,Jn.default)("bio-properties-panel-collapsible-entry-entries",m?"open":""),children:z(gc.Provider,{value:_,children:n.map(D=>{let{component:k,id:I}=D;return hn(k,Me(se({},D),{element:e,key:I}))})})})]})}function aEe(t){let{autoFocusEntry:e,autoOpen:n,translate:i=DU}=t;return at(()=>{if(n&&e){let a=Et(`[data-entry-id="${e}"]`),c=Et(".bio-properties-panel-input",a);c&&(At(c.select)?c.select():At(c.focus)&&c.focus(),c.scrollIntoView())}},[n,e]),z("div",{class:"bio-properties-panel-list-item",children:z(V0,Me(se({},t),{open:n,translate:i}))})}var Ivt=()=>{};function Zi(t){let{add:e,element:n,id:i,items:a,label:c,shouldOpen:d=!1,translate:h=DU}=t;at(()=>{t.shouldSort!=null&&console.warn("the property 'shouldSort' is no longer supported")},[t.shouldSort]);let m=Wn(null),[g,b]=_U(["groups",i,"open"],d),[E,_]=Tt(!1),S=Or(()=>b(!0),[b]),[D,k]=Tt([]),[I,R]=Tt(!1),$=N1(n),F=Or(()=>b(!g),[g]),L=n===$&&g&&I?Mvt(a,D):[];at(()=>{k(a),R(!1)},[a]),CU(m,"div.bio-properties-panel-scroll-container",_);let V=!!a.length,G=Me(se({},Xi(gc)),{onShow:S}),re=pe=>{R(!0),b(!0),e(pe)},ee=wU(),oe=a.some(pe=>{if(ee[pe.id])return!0;if(pe.entries)return pe.entries.some(ge=>ee[ge.id])});return z("div",{class:"bio-properties-panel-group","data-group-id":"group-"+i,ref:m,children:[z("div",{class:(0,Jn.default)("bio-properties-panel-group-header",V?"":"empty",V&&g?"open":"",E&&g?"sticky":""),onClick:V?F:Ivt,children:[z("div",{title:t.tooltip?null:c,"data-title":c,class:"bio-properties-panel-group-header-title",children:z(lh,{value:t.tooltip,forId:"group-"+i,element:n,parent:m,children:c})}),z("div",{class:"bio-properties-panel-group-header-buttons",children:[e?z("button",{type:"button",title:h("Create new list item"),class:"bio-properties-panel-group-header-button bio-properties-panel-add-entry",onClick:re,children:[z(hP,{}),V?null:z("span",{class:"bio-properties-panel-add-entry-label",children:h("Create")})]}):null,V?z("div",{title:h(`List contains {numOfItems} item${a.length!=1?"s":""}`,{numOfItems:a.length}),class:(0,Jn.default)("bio-properties-panel-list-badge",oe?"bio-properties-panel-list-badge--error":""),children:a.length}):null,V?z("button",{type:"button",title:h("Toggle section"),class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:z(Gb,{class:g?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})}):null]})]}),z("div",{class:(0,Jn.default)("bio-properties-panel-list",g&&V?"open":""),children:z(gc.Provider,{value:G,children:a.map((pe,ge)=>{if(!pe)return;let{id:ce}=pe,he=L.includes(pe.id);return hn(aEe,Me(se({},pe),{autoOpen:he,element:n,index:ge,key:ce,translate:h}))})})})]})}function Mvt(t,e){let n=t.map(a=>a.id),i=e.map(a=>a.id);return n.filter(a=>!i.includes(a))}function Avt(t){let{id:e,label:n,onChange:i,disabled:a,value:c=!1,onFocus:d,onBlur:h,tooltip:m}=t,[g,b]=Tt(c),E=({target:D})=>{i(D.checked)},_=D=>{E(D),b(D.target.value)};at(()=>{c!==g&&b(c)},[c]);let S=F1(e);return z("div",{class:"bio-properties-panel-checkbox",children:[z("input",{ref:S,id:Gxe(e),name:e,onFocus:d,onBlur:h,type:"checkbox",class:"bio-properties-panel-input",onChange:_,checked:g,disabled:a}),z("label",{for:Gxe(e),class:"bio-properties-panel-label",children:z(lh,{value:m,forId:e,element:t.element,children:n})})]})}function as(t){let{element:e,id:n,description:i,label:a,getValue:c,setValue:d,disabled:h,onFocus:m,onBlur:g,tooltip:b}=t,E=c(e),_=B0(n);return z("div",{class:"bio-properties-panel-entry bio-properties-panel-checkbox-entry","data-entry-id":n,children:[z(Avt,{disabled:h,id:n,label:a,onChange:d,onFocus:m,onBlur:g,value:E,tooltip:b,element:e},e),_&&z("div",{class:"bio-properties-panel-error",children:_}),z(ch,{forId:n,element:e,value:i})]})}function gl(t){return t&&!!t.checked}function Gxe(t){return`bio-properties-panel-${t}`}var Rvt=()=>{};function Lvt(t){let{element:e,id:n,description:i,debounce:a,disabled:c,label:d,getValue:h,setValue:m,tooltipContainer:g,validate:b,show:E=Rvt}=t,[_,S]=Tt(null),[D,k]=Tt(null),I=h(e);at(()=>{if(At(b)){let V=b(I)||null;S(V)}},[I,b]);let R=ah(V=>{let G=null;At(b)&&(G=b(V)||null),V!==I&&m(V,G),S(G)}),$=Or(V=>{k(V)},[]),F=B0(n),L=D||F||_;return z("div",{class:(0,Jn.default)("bio-properties-panel-entry",L?"has-error":""),"data-entry-id":n,children:[z($vt,{debounce:a,disabled:c,id:n,label:d,onInput:R,onError:$,show:E,value:I,tooltipContainer:g},e),L&&z("div",{class:"bio-properties-panel-error",children:L}),z(ch,{forId:n,element:e,value:i})]})}function $vt(t){let{debounce:e,id:n,label:i,onInput:a,onError:c,value:d="",disabled:h=!1,tooltipContainer:m}=t,[g,b]=Tt(d),E=F1(n),_=Wn(),[S,D]=Tt(void 0),k=(F=0)=>{let V=_.current.contains(document.activeElement)?document.activeElement.selectionStart:1/0;D(V+F)},I=wi(()=>e(F=>a(F.length?F:void 0)),[a,e]),R=F=>{I(F),b(F)},$=ah(F=>{if(!(F&&F.length&&F.filter(re=>re.severity==="error")||[]).length){c(void 0);return}let V=F[0],G=`${V.source}: ${V.message}`;c(G)});return at(()=>{typeof S<"u"&&(E.current.focus(S),D(void 0))},[S]),at(()=>{d!==g&&b(d||"")},[d]),z("div",{class:"bio-properties-panel-feelers",children:[z("label",{id:Qxe(n),class:"bio-properties-panel-label",onClick:()=>k(),children:i}),z("div",{class:"bio-properties-panel-feelers-input",ref:_,children:z(SU,{name:n,onInput:R,contentAttributes:{"aria-labelledby":Qxe(n)},disabled:h,onLint:$,value:g,ref:E,tooltipContainer:m})})]})}function Nvt(t){return t&&(!!t.value||t.classList.contains("edited"))}function Qxe(t){return`bio-properties-panel-feelers-${t}-label`}function z0(t){let $=t,{id:e,element:n,items:i=[],component:a,label:c="<empty>",open:d,onAdd:h,onRemove:m,autoFocusEntry:g}=$,b=Ae($,["id","element","items","component","label","open","onAdd","onRemove","autoFocusEntry"]),[E,_]=Tt(!!d),S=!!i.length,D=()=>S&&_(!E),k=N1(n)!==n,I=Bvt(i,k);at(()=>{E&&!S&&_(!1)},[E,S]);function R(F){F.stopPropagation(),h(),E||_(!0)}return z("div",{"data-entry-id":e,class:(0,Jn.default)("bio-properties-panel-entry","bio-properties-panel-list-entry",S?"":"empty",E?"open":""),children:[z("div",{class:"bio-properties-panel-list-entry-header",onClick:D,children:[z("div",{title:c,class:(0,Jn.default)("bio-properties-panel-list-entry-header-title",E&&"open"),children:c}),z("div",{class:"bio-properties-panel-list-entry-header-buttons",children:[z("button",{type:"button",title:"Create new list item",onClick:R,class:"bio-properties-panel-add-entry",children:[z(hP,{}),S?null:z("span",{class:"bio-properties-panel-add-entry-label",children:"Create"})]}),S&&z("div",{title:`List contains ${i.length} item${i.length!=1?"s":""}`,class:"bio-properties-panel-list-badge",children:i.length}),S&&z("button",{type:"button",title:"Toggle list item",class:"bio-properties-panel-arrow",children:z(Gb,{class:E?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})})]})]}),S&&z(Fvt,Me(se({},b),{autoFocusEntry:g,component:a,element:n,id:e,items:i,newItems:I,onRemove:m,open:E}))]})}function Fvt(t){let _=t,{autoFocusEntry:e,component:n,element:i,id:a,items:c,newItems:d,onRemove:h,open:m}=_,g=Ae(_,["autoFocusEntry","component","element","id","items","newItems","onRemove","open"]),b=tEe(),E=d[0];return at(()=>{if(E&&e){let S=Et(`[data-entry-id="${a}"]`),k=Et(typeof e=="boolean"?".bio-properties-panel-input":e,S);k&&(At(k.select)?k.select():At(k.focus)&&k.focus())}},[E,e,a]),z("ol",{class:(0,Jn.default)("bio-properties-panel-list-entry-items",m?"open":""),children:c.map((S,D)=>{let k=b(S);return z("li",{class:"bio-properties-panel-list-entry-item",children:[z(n,Me(se({},g),{element:i,id:a,index:D,item:S,open:S===E})),h&&z("button",{type:"button",title:"Delete item",class:"bio-properties-panel-remove-entry bio-properties-panel-remove-list-entry",onClick:()=>h&&h(S),children:z(pP,{})})]},k)})})}function Bvt(t=[],e){let n=N1(t.slice())||[];return e?[]:n?t.filter(i=>!n.includes(i)):[]}function jvt(t){let{id:e,label:n,onChange:i,options:a=[],value:c="",disabled:d,onFocus:h,onBlur:m,tooltip:g}=t,b=F1(e),[E,_]=Tt(c),S=({target:k})=>{i(k.value)},D=k=>{S(k),_(k.target.value)};return at(()=>{c!==E&&_(c)},[c]),z("div",{class:"bio-properties-panel-select",children:[z("label",{for:Yxe(e),class:"bio-properties-panel-label",children:z(lh,{value:g,forId:e,element:t.element,children:n})}),z("select",{ref:b,id:Yxe(e),name:e,class:"bio-properties-panel-input",onInput:D,onFocus:h,onBlur:m,value:E,disabled:d,children:a.map((k,I)=>k.children?z("optgroup",{label:k.label,children:k.children.map((R,$)=>z("option",{value:R.value,disabled:R.disabled,children:R.label},$))},I):z("option",{value:k.value,disabled:k.disabled,children:k.label},I))})]})}function sr(t){let{element:e,id:n,description:i,label:a,getValue:c,setValue:d,getOptions:h,disabled:m,onFocus:g,onBlur:b,validate:E,tooltip:_}=t,S=h(e),D=B0(n),[k,I]=Tt(null),R=c(e);at(()=>{if(At(E)){let L=E(R)||null;I(L)}},[R,E]);let $=L=>{let V=null;At(E)&&(V=E(L)||null),d(L,V),I(V)},F=D||k;return z("div",{class:(0,Jn.default)("bio-properties-panel-entry",F?"has-error":""),"data-entry-id":n,children:[z(jvt,{id:n,label:a,value:R,onChange:$,onFocus:g,onBlur:b,options:S,disabled:m,tooltip:_,element:e},e),F&&z("div",{class:"bio-properties-panel-error",children:F}),z(ch,{forId:n,element:e,value:i})]})}function pr(t){return t&&!!t.value}function Yxe(t){return`bio-properties-panel-${t}`}function TU(t){let{debounce:e,disabled:n,element:i,getValue:a,id:c,onBlur:d,onFocus:h,setValue:m}=t,g=a(i),[b,E]=Tt(g),_=wi(()=>e(D=>m(D.value.length?D.value:void 0)),[m,e]),S=D=>{_(D.target),E(D.target.value)};return at(()=>{g!==b&&E(g)},[g]),z("div",{class:"bio-properties-panel-simple",children:z("input",{id:zvt(c),type:"text",name:c,spellCheck:"false",autoComplete:"off",disabled:n,class:"bio-properties-panel-input",onInput:S,"aria-label":b||"<empty>",onFocus:h,onBlur:d,value:b},i)})}function Vvt(t){return t&&!!t.value}function zvt(t){return`bio-properties-panel-${t}`}function hU(t){t.style.height="auto",t.style.height=`${t.scrollHeight+2}px`}function Hvt(t){let{id:e,label:n,debounce:i,onInput:a,value:c="",disabled:d,monospace:h,onFocus:m,onBlur:g,autoResize:b=!0,placeholder:E,rows:_=b?1:2,tooltip:S}=t,[D,k]=Tt(c),I=F1(e),R=nEe(I.current),$=wi(()=>i(L=>a(L.value.length?L.value:void 0)),[a,i]),F=L=>{$(L.target),b&&hU(L.target),k(L.target.value)};return Od(()=>{b&&hU(I.current)},[]),Od(()=>{R&&b&&hU(I.current)},[R]),at(()=>{c!==D&&k(c)},[c]),z("div",{class:"bio-properties-panel-textarea",children:[z("label",{for:Xxe(e),class:"bio-properties-panel-label",children:z(lh,{value:S,forId:e,element:t.element,children:n})}),z("textarea",{ref:I,id:Xxe(e),name:e,spellCheck:"false",class:(0,Jn.default)("bio-properties-panel-input",h?"bio-properties-panel-input-monospace":"",b?"auto-resize":""),onInput:F,onFocus:m,onBlur:g,placeholder:E,rows:_,value:D,disabled:d,"data-gramm":"false"})]})}function Ts(t){let{element:e,id:n,description:i,debounce:a,label:c,getValue:d,setValue:h,rows:m,monospace:g,disabled:b,validate:E,onFocus:_,onBlur:S,placeholder:D,autoResize:k,tooltip:I}=t,R=B0(n),[$,F]=Tt(null),L=d(e);at(()=>{if(At(E)){let re=E(L)||null;F(re)}},[L,E]);let V=re=>{let ee=null;At(E)&&(ee=E(re)||null),h(re,ee),F(ee)},G=R||$;return z("div",{class:(0,Jn.default)("bio-properties-panel-entry",G?"has-error":""),"data-entry-id":n,children:[z(Hvt,{id:n,label:c,value:L,onInput:V,onFocus:_,onBlur:S,rows:m,debounce:a,monospace:g,disabled:b,placeholder:D,autoResize:k,tooltip:I,element:e},e),G&&z("div",{class:"bio-properties-panel-error",children:G}),z(ch,{forId:n,element:e,value:i})]})}function Ra(t){return t&&!!t.value}function Xxe(t){return`bio-properties-panel-${t}`}function Uvt(t){let{debounce:e,disabled:n=!1,id:i,label:a,onInput:c,onFocus:d,onBlur:h,placeholder:m,value:g="",tooltip:b}=t,[E,_]=Tt(g||""),S=F1(i),D=wi(()=>e(I=>c(I.value.length?I.value:void 0)),[c,e]),k=I=>{D(I.target),_(I.target.value)};return at(()=>{g!==E&&_(g)},[g]),z("div",{class:"bio-properties-panel-textfield",children:[z("label",{for:Kxe(i),class:"bio-properties-panel-label",children:z(lh,{value:b,forId:i,element:t.element,children:a})}),z("input",{ref:S,id:Kxe(i),type:"text",name:i,spellCheck:"false",autoComplete:"off",disabled:n,class:"bio-properties-panel-input",onInput:k,onFocus:d,onBlur:h,placeholder:m,value:E})]})}function Le(t){let{element:e,id:n,description:i,debounce:a,disabled:c,label:d,getValue:h,setValue:m,validate:g,onFocus:b,onBlur:E,placeholder:_,tooltip:S}=t,D=B0(n),[k,I]=Tt(null),R=h(e);at(()=>{if(At(g)){let L=g(R)||null;I(L)}},[R,g]);let $=L=>{let V=null;At(g)&&(V=g(L)||null),m(L,V),I(V)},F=D||k;return z("div",{class:(0,Jn.default)("bio-properties-panel-entry",F?"has-error":""),"data-entry-id":n,children:[z(Uvt,{debounce:a,disabled:c,id:n,label:d,onInput:$,onFocus:b,onBlur:E,placeholder:_,value:R,tooltip:S,element:e},e),F&&z("div",{class:"bio-properties-panel-error",children:F}),z(ch,{forId:n,element:e,value:i})]})}function Ve(t){return t&&!!t.value}function Kxe(t){return`bio-properties-panel-${t}`}var qvt=300;function lEe(t){return function(n){if(t!==!1){var i=ot(t)?t:qvt;return i2(n,i)}else return n}}lEe.$inject=["config.debounceInput"];var A4={debounceInput:["factory",lEe]},Wvt=(()=>{class t{constructor(n){this._eventBus=n}isOpen(){return this._eventBus.fire("feelPopup._isOpen")}open(n,i,a){return this._eventBus.fire("feelPopup._open",{entryId:n,popupConfig:i,sourceElement:a})}close(){return this._eventBus.fire("feelPopup._close")}}return t.$inject=["eventBus"],t})(),R4={feelPopup:["type",Wvt]};var Mwe=wf(SEe());function OEe(t,e,n){let i=e<0?t.length+e:e;if(i>=0&&i<t.length){let a=n<0?t.length+n:n,[c]=t.splice(e,1);t.splice(a,0,c)}}var Awe=wf(REe());var Rwe=Ta({selectedElement:null,injector:null,getService(){return null}});function A(t,e){let{getService:n}=Xi(Rwe);return n(t,e)}function WU(){return WU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},WU.apply(null,arguments)}var p2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",WU({width:"32",height:"32",xmlns:"http://www.w3.org/2000/svg"},e),ye.createElement("path",{stroke:"#000",strokeWidth:"2",fill:"none",strokeDasharray:"3.3,6",strokeLinecap:"square",d:"M1.5 30.5l29-29"}))};function GU(){return GU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},GU.apply(null,arguments)}var m2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",GU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zM5.296 7.398v12.665h16.87V7.398H5.296zm.718 4.386h15.433v3.44H9.985v-3.432h-.719v3.431H6.014v-3.44zm0 4.158h3.252v3.403H6.014v-3.403zm3.97 0h11.463v3.403H9.985v-3.403z"}),ye.createElement("path",{d:"M6.079 8.209v3.587H21.44V8.209z"}))};function QU(){return QU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},QU.apply(null,arguments)}var g2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",QU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M24.978 3c3.761 0 6.89 2.979 7.018 6.695l.004.238V22.4c0 3.747-3.05 6.804-6.783 6.93l-.24.003H7.023c-3.761 0-6.89-2.978-7.018-6.695L0 22.4V9.933C0 6.187 3.05 3.13 6.783 3.004L7.023 3h17.955zm0 3.667H7.022c-1.842 0-3.255 1.344-3.35 3.079l-.005.187V22.4c0 1.761 1.35 3.167 3.16 3.262l.195.005L10 25.666V15h12v10.666h2.978c1.842 0 3.255-1.344 3.35-3.079l.005-.187V9.933c0-1.761-1.35-3.166-3.16-3.261l-.195-.005zm-3.732 9.087H10.754v9.912h10.491v-9.912zm-4.475 1.817v2.658h2.658v1.542H16.77v2.658H15.23V21.77H12.57V20.23h2.658V17.57h1.542z"}))};function YU(){return YU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},YU.apply(null,arguments)}var v2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",YU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("g",{fillRule:"evenodd"},ye.createElement("path",{fillRule:"nonzero",d:"M0 0v8.62h32V0H0zm1.655 7.054v-5.37h28.62v5.37H1.656zM0 23.38V32h32v-8.62H0zm1.655 7.054v-5.37h28.62v5.37H1.656z"}),ye.createElement("path",{d:"M24 8l4 7h-8l4-7zm0 2l-2.28 4h4.56L24 10zM23.5 21h1v3h-1zM23.5 15h1v3h-1zM8 24l-4-7h8l-4 7zm0-2l2.28-4H5.72L8 22zM7.5 8h1v3h-1zM7.5 14h1v3h-1z"})))};function XU(){return XU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},XU.apply(null,arguments)}var y2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",XU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M32 .041S20.42 5.95 14.537 8.713c1.26 1.15 2.432 2.392 3.648 3.588-5.703 5.78-3.15 3.303-8.087 8.316l-8.472 1.377L0 32l10.006-1.626.098-.598 1.279-7.873c4.975-5.052 2.403-2.555 8.118-8.346 1.218 1.214 2.43 2.435 3.648 3.648C26.29 11.018 32 .041 32 .041zM9.603 22.397L8.54 28.91 2.03 29.97l1.061-6.515 6.512-1.058z"}))};function KU(){return KU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},KU.apply(null,arguments)}var b2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",KU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M32 .06S20.33 6.014 14.403 8.798c1.27 1.16 2.451 2.41 3.676 3.616L0 30.734 1.325 32l18.08-18.32c1.227 1.223 2.448 2.453 3.676 3.676C26.247 11.12 32 .06 32 .06z"}))};function ZU(){return ZU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ZU.apply(null,arguments)}var LEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",ZU({width:"32",height:"32",xmlns:"http://www.w3.org/2000/svg"},e),ye.createElement("path",{stroke:"#000",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"1.1,4.3",d:"M1.5 30.5L27 5"}),ye.createElement("path",{d:"M31.803.197L26.5 16.107l-1.52-1.52 3.783-11.35-11.35 3.783-1.52-1.52z"}))};function JU(){return JU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},JU.apply(null,arguments)}var x2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",JU({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M20.833 0H3.488v32H28V7.36L20.833 0zm-2.105 1.818v7.507h7.454v20.857H5.306V1.818h13.422zm1.818.493l5.06 5.196h-5.06V2.311zm-9.182.86v3.744H7.081v3.222h4.283v3.743l5.7-5.354-5.7-5.354zm.808 1.868l3.711 3.487-3.71 3.487V9.329H7.888V7.723h4.283V5.039z"}))};function eq(){return eq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},eq.apply(null,arguments)}var E2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",eq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M21.345 0H4v32h24.512V7.36L21.345 0zM19.24 1.818v7.507h7.454v20.857H5.818V1.818H19.24zm1.818.493l5.06 5.196h-5.06V2.311z"}))};function tq(){return tq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},tq.apply(null,arguments)}var w2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",tq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M20.833 0H3.488v32H28V7.36L20.833 0zm-2.105 1.818v7.507h7.454v20.857H5.306V1.818h13.422zm1.818.493l5.06 5.196h-5.06V2.311zm-9.182.86v3.744H7.081v3.222h4.283v3.743l5.7-5.354-5.7-5.354z"}))};function nq(){return nq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nq.apply(null,arguments)}var _2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",nq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M16.008 1c-3.712 0-7.417.306-10.319.939-1.45.316-2.7.71-3.68 1.226C1.065 3.662.297 4.304.061 5.23a.823.823 0 00-.035.15L0 5.502l.017.084c-.012 7.41 0 14.46 0 22.08l.017.082c.203.985.995 1.656 1.975 2.172.98.517 2.23.91 3.68 1.226 2.902.633 6.607.94 10.319.94 3.711 0 7.416-.307 10.318-.94 1.451-.316 2.701-.71 3.68-1.226.98-.516 1.772-1.187 1.975-2.172l.017-.082V5.541a.825.825 0 000-.106v-.016l-.002-.013a.823.823 0 00-.046-.197c-.244-.916-1.007-1.55-1.943-2.044-.98-.516-2.23-.91-3.68-1.226C23.423 1.306 19.718 1 16.006 1zm0 1.646c3.62 0 7.245.308 9.968.901 1.36.297 2.497.67 3.263 1.074.612.323.932.643 1.063.882-.131.24-.451.56-1.063.882-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.901-1.361-.297-2.497-.67-3.264-1.074-.611-.322-.931-.642-1.062-.882.13-.24.451-.56 1.062-.882.767-.403 1.903-.777 3.264-1.074 2.723-.593 6.348-.9 9.968-.9zM1.664 7.647c.112.067.227.132.345.194.98.517 2.23.91 3.68 1.226 2.902.633 6.607.94 10.319.94 3.711 0 7.416-.307 10.318-.94 1.451-.316 2.701-.71 3.68-1.226.119-.062.234-.127.346-.194v1.93c-.08.245-.398.619-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.9-1.361-.298-2.497-.671-3.264-1.075-.714-.376-1.032-.75-1.112-.995v-1.93zm0 4.187c.112.067.227.132.345.195.98.516 2.23.91 3.68 1.226 2.902.632 6.607.938 10.319.938 3.711 0 7.416-.306 10.318-.938 1.451-.317 2.701-.71 3.68-1.226.119-.063.234-.128.346-.195v1.93c-.08.245-.398.619-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.9-1.361-.298-2.497-.67-3.264-1.075-.714-.376-1.032-.75-1.112-.995v-1.93zm0 4.188c.112.067.227.131.345.194.98.516 2.23.91 3.68 1.226 2.902.633 6.607.939 10.319.939 3.711 0 7.416-.306 10.318-.94 1.451-.316 2.701-.709 3.68-1.225.119-.063.234-.127.346-.194V27.47c-.08.245-.398.618-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.9-9.968.9-3.62 0-7.245-.306-9.968-.9-1.361-.297-2.497-.67-3.264-1.074-.714-.377-1.032-.75-1.112-.995V16.022z"}))};function rq(){return rq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rq.apply(null,arguments)}var C2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",rq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M32 .06S20.33 6.014 14.403 8.798c1.27 1.16 2.451 2.41 3.676 3.616L6.84 23.804H.046v1.755h5.063L0 30.735 1.325 32l6.357-6.441h7.145v-1.756H9.414l9.99-10.123c1.228 1.223 2.45 2.453 3.677 3.676C26.247 11.12 32 .06 32 .06z"}))};function iq(){return iq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},iq.apply(null,arguments)}var S2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",iq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-3.955 3.918L8.94 12.072l3.985 3.985-3.913 3.913 3.048 3.047 3.913-3.913 3.987 3.987 3.096-3.096-3.987-3.987 3.913-3.913-3.047-3.048-3.913 3.913-3.985-3.985z"}))};function oq(){return oq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},oq.apply(null,arguments)}var O2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",oq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-.56 5.744l-7.407 5.23 7.408 5.234v-5.057c2.384 1.687 4.771 3.371 7.157 5.057V10.801l-7.157 5.054v-5.054z"}))};function sq(){return sq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},sq.apply(null,arguments)}var D2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",sq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm6.132 4.166l-3.633 7.363-4.516-5.874-4.102 12.131 4.599-5.91 4.743 5.427 2.909-13.137z"}))};function aq(){return aq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},aq.apply(null,arguments)}var T2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",aq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 3.9c-1.672 4.653-2.733 9.5-4.406 14.153 1.535-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.497-4.71-2.91-9.445-4.406-14.155z"}))};function lq(){return lq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lq.apply(null,arguments)}var k2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",lq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.532 18.532 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm1.78 4.065v3.555H9.779v6.713h7.994v3.554l5.828-6.91-5.828-6.912z"}))};function cq(){return cq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cq.apply(null,arguments)}var P2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",cq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.532 18.532 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-5.91 5.448l6.041 4.9 6.04-4.9H10.084zm-1.34 1.137v9.92h14.513v-9.718l-7.132 5.786-7.381-5.988z"}))};function uq(){return uq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},uq.apply(null,arguments)}var I2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",uq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.529 18.529 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.011 3.039l-7.619 5.53 2.91 8.95h9.418l2.91-8.95-7.619-5.53z"}))};function dq(){return dq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dq.apply(null,arguments)}var M2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",dq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.84.042C8.654-.01 1.913 5.437.4 12.454-1.057 18.62 1.554 25.495 6.784 29.09c5.076 3.636 12.31 3.92 17.59.544 5.309-3.251 8.435-9.744 7.445-15.921C30.91 7.307 25.795 1.738 19.442.422a16.064 16.064 0 00-3.602-.38zm.382 5.01c5.28-.017 10.13 4.353 10.669 9.61.687 5.025-2.552 10.281-7.423 11.792-4.754 1.617-10.486-.447-12.962-4.856-2.74-4.575-1.574-11.094 2.768-14.27a11.05 11.05 0 016.948-2.276z"}))};function fq(){return fq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},fq.apply(null,arguments)}var A2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",fq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 3.492c-2.261 4.07-4.532 8.136-6.797 12.204h13.595L15.999 8.55z"}))};function hq(){return hq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hq.apply(null,arguments)}var R2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",hq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 2.859c-5.264-.2-9.495 5.551-7.755 10.516 1.366 5.085 8.108 7.436 12.339 4.301 4.455-2.807 4.708-9.943.462-13.058A8.128 8.128 0 0016 7.915z"}))};function pq(){return pq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pq.apply(null,arguments)}var L2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",pq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M7.295 4.78h1.779V3.003h-1.78V4.78zm3.558 0h1.779V3.003h-1.78V4.78zm3.557 0h1.78V3.003h-1.78V4.78zm3.558 0h1.78V3.003h-1.78V4.78zm3.558 0h1.779V3.003h-1.779V4.78zm3.558 0c.55.014 1.106-.034 1.654.045l.245-1.762c-.629-.096-1.266-.05-1.9-.061V4.78zM5.732 3.004a5.933 5.933 0 00-.915.093c.111.582.226 1.164.315 1.75.358-.101.947.098.746-.483-.096-.382.164-1.208-.146-1.36zm22.372 2.281c.427.234.812.547 1.13.915.42-.4 1.002-.777 1.33-1.18a5.863 5.863 0 00-1.593-1.289l-.867 1.554zm-25.27-1.44c-.587.354-1.11.811-1.539 1.345.47.333.96.86 1.417 1.077.299-.362.66-.673 1.065-.913-.328-.493-.55-1.055-.944-1.509zM30.515 7.26c-.563.046-.557.342-.378.784.154.25-.097.862.25.85.525-.023 1.14.043 1.612-.032a5.891 5.891 0 00-.362-2.027l-1.122.425zM.268 7.114A6.042 6.042 0 000 9.052h1.78c-.013-.5.047-1.003.208-1.478L.296 7.027l-.026.079-.002.008zM30.22 12.45H32v-1.779h-1.779v1.779zm-30.22.16h1.78v-1.779H0v1.78zm30.22 3.398H32v-1.78h-1.779v1.78zm-30.22.16h1.78v-1.779H0v1.779zm30.22 3.398H32v-1.78h-1.779v1.78zm-30.22.16h1.78v-1.78H0v1.78zm30.22 3.397H32v-1.779h-1.779v1.78zm-30.22.16h1.78v-1.778H0v1.778zm30.137 1.47a4.059 4.059 0 01-.522 1.32c.506.283 1.046.715 1.53.908a5.836 5.836 0 00.744-1.918c-.576-.094-1.209-.264-1.752-.31zm-29.984.51c.157.676.435 1.325.82 1.904l1.486-.977a4.065 4.065 0 01-.577-1.347l-1.73.42zm28.427 1.943c-.371.277-.79.49-1.234.627l.548 1.693a5.84 5.84 0 001.835-.96l-1.082-1.412-.066.05-.001.002zm-26.164 1.47c.567.413 1.21.722 1.886.907.14-.569.343-1.175.444-1.722a4.062 4.062 0 01-1.283-.624l-1.047 1.438zm3.88 1.119h1.779v-1.78h-1.78v1.78zm3.55 0h1.787v-1.78H9.846v1.78zm3.565 0h1.78v-1.78h-1.78v1.78zm3.558 0h1.78v-1.78h-1.78v1.78zm3.451 0h1.743v-1.78h-1.743v1.78zm3.665 0h1.779v-1.78h-1.78v1.78zm-1.922-.545V16.776H9.846V29.25h12.318zM10.967 17.905h10.068V27.97H10.967V17.905zm1.336 3.998v1.711h7.396v-1.711h-7.396z",opacity:".97"}))};function mq(){return mq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mq.apply(null,arguments)}var $2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",mq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm-.327 6.79v.007l-.145.027-.118.08-.083.123-.028.145v4.954L11.793 10.8l-.125-.08-.14-.029-.144.027-.122.082-.46.46-.085.125-.026.142.028.14.08.125 3.505 3.505H9.347l-.001-.002-.145.032-.118.08-.083.122-.028.146v.652l.029.147.082.119.12.08.144.032h4.956L10.8 20.207v-.001l-.084.124-.026.142.028.14.08.124.46.461.126.082.14.029.143-.027.124-.084L15.3 17.69v4.964-.001l.028.147.082.12.12.08.144.031h.652l.148-.03.118-.08.083-.12.028-.146v-4.962l3.505 3.505.126.082.14.027.142-.027.124-.084.461-.46.083-.123s.028-.144.027-.146l-.028-.14-.082-.126-3.496-3.496h4.948l.148-.03.119-.08.082-.12.028-.147v-.652l-.028-.145-.083-.122-.119-.08s-.147-.033-.147-.031h-4.964l3.512-3.512.082-.122.029-.144-.028-.14-.084-.124-.46-.461-.123-.082-.14-.027-.145.027-.122.082-3.507 3.507V9.348l-.028-.146-.082-.122-.12-.08-.147-.029h-.652z"}))};function gq(){return gq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gq.apply(null,arguments)}var N2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",gq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M16 0a1.29 1.29 0 00-.918.373L.371 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.915.372A1.294 1.294 0 0016 0zm-.002 2.181l13.821 13.821-13.821 13.821-13.821-13.82L15.998 2.18zm0 5.876l-.254.185-7.377 5.355 2.915 8.964h9.433l2.915-8.964-7.631-5.54zm0 1.07l6.614 4.8-2.526 7.769h-8.175l-2.526-7.768 6.614-4.802z"}))};function vq(){return vq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vq.apply(null,arguments)}var F2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",vq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.373a1.313 1.313 0 00-1.833 0L.373 15.084zm1.806.918L16 2.182l13.821 13.82L16 29.823 2.179 16.003z"}))};function yq(){return yq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yq.apply(null,arguments)}var B2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",yq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm0 6.379a7.447 7.447 0 00-7.44 7.441A7.447 7.447 0 0016 23.443 7.447 7.447 0 0023.443 16a7.447 7.447 0 00-7.441-7.441zm0 .825a6.61 6.61 0 016.617 6.616A6.61 6.61 0 0116 22.618 6.61 6.61 0 019.385 16 6.61 6.61 0 0116 9.385z"}))};function bq(){return bq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bq.apply(null,arguments)}var j2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",bq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm-.377 5.708l-.168.032-.136.092-.096.14-.032.168v6.868h-6.87l-.002-.002-.166.037-.137.092v-.002l-.095.141-.033.167v.753s.032.169.034.17l.094.138.138.092.167.036h6.87v6.867l-.001-.001.033.17.095.138.138.092s.166.035.167.037h.752l.17-.036.137-.092.095-.137.033-.17v-6.867h6.868l.17-.035.137-.092.095-.137.033-.17v-.753s-.033-.165-.032-.167l-.096-.14-.138-.093s-.17-.037-.17-.035H16.81V8.323l-.033-.168-.094-.14-.138-.092-.17-.034h-.752z"}))};function xq(){return xq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},xq.apply(null,arguments)}var V2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",xq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M16 0a1.29 1.29 0 00-.918.373L.371 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.915.372A1.294 1.294 0 0016 0zm-.002 2.181l13.821 13.821-13.821 13.821-13.821-13.82L15.998 2.18zm-5.162 7.69l-.166.032-.141.096-.532.532s-.097.142-.097.144l-.03.164.032.162.093.144 4.857 4.858-4.855 4.855v-.001L9.9 21l-.03.164.032.162s.093.142.093.144l.531.532.146.095.162.032.164-.03.144-.097 4.855-4.856 4.857 4.857.145.095.162.032.164-.03.144-.097.531-.532.095-.14.033-.168-.033-.162-.095-.146L17.144 16 22 11.144l.095-.14.033-.166-.033-.163-.097-.144-.532-.532-.14-.095-.163-.032-.166.032-.141.095L16 14.855l-4.858-4.858v-.002l-.144-.092-.162-.032z"}))};function Eq(){return Eq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Eq.apply(null,arguments)}var z2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Eq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M6.34.016c-2.333.025-4.684 1.77-5.29 4.17C.608 5.848.88 7.608.804 9.314v2.922h2.041c.038-2.332-.076-4.673.062-7C3.14 3.355 4.869 1.938 6.643 2.04h8.956V.009c-3.086 0-6.173-.02-9.258 0v.007zm13.094 2.023h1.92V.009h-1.92v2.03zm5.756 0c1.265-.069 2.66.045 3.602 1.055 1.036.983 1.201 2.523 1.122 3.91v6.313h2.078c-.03-2.677.062-5.36-.047-8.032-.17-2.743-2.62-5.111-5.215-5.236-.511-.064-1.027-.02-1.54-.033v2.023zM.803 18.319h2.041v-2.026H.804v2.026zm29.11 1.084h2.08v-2.03h-2.08v2.03zM.804 26.148c.004 2.218 1.393 4.366 3.313 5.28 1.728.853 3.681.448 5.521.544.43-.112 1.29.231 1.435-.183v-1.847c-1.788-.043-3.584.094-5.365-.082-1.67-.354-2.919-2.048-2.863-3.844v-3.644H.804v3.777zm29.11-.068c.04 1.961-1.508 3.787-3.381 3.842-1.954.06-3.914.02-5.87.026v2.03c2.118-.042 4.242.08 6.355-.063 2.524-.264 4.818-2.644 4.94-5.323.08-1.039.014-2.085.035-3.126h-2.078v2.613zm-15.006 5.898h1.92v-2.03h-1.92v2.03z"}))};function wq(){return wq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wq.apply(null,arguments)}var $Ee=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",wq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.975.049C8.195-.111.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.454 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.215-2.282-2.022-5.3-3.217-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.082 11.082 0 0116 5.021zm-3.956 3.946l-3.096 3.097 3.985 3.985-3.913 3.913 3.047 3.048 3.913-3.913 3.988 3.987 3.097-3.096L19.076 16l3.914-3.913-3.048-3.048-3.913 3.913-3.986-3.985zm-.002 1.222l3.988 3.987 3.913-3.913 1.826 1.826-3.913 3.913 3.985 3.986-1.873 1.873-3.985-3.985-3.913 3.913-1.827-1.827 3.914-3.913-3.988-3.987 1.873-1.873z"}))};function _q(){return _q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_q.apply(null,arguments)}var NEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",_q({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm-.56 5.772l-7.408 5.231 7.409 5.234v-5.057c2.385 1.687 4.771 3.371 7.157 5.057V10.793l-7.157 5.055v-5.055zm-.865 1.665v7.125l-5.048-3.562 5.048-3.563zm7.161 0v7.132l-5.048-3.566 5.048-3.566z"}))};function Cq(){return Cq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Cq.apply(null,arguments)}var FEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Cq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.97.04h-.127C8.713-.018 2.003 5.334.437 12.286c-1.51 6.123.98 13.005 6.136 16.665 5.125 3.788 12.546 4.105 17.912.623 5.272-3.276 8.33-9.766 7.325-15.916-.904-6.241-5.79-11.7-11.95-13.143A16.082 16.082 0 0015.97.04zm-.181 1.724c.115 0 .23 0 .347.003 6.625-.066 12.823 5.149 13.89 11.69 1.13 5.91-1.908 12.349-7.262 15.138-5.473 3.013-12.866 1.884-17.116-2.726C1.291 21.372.444 13.914 3.802 8.602c2.493-4.112 7.169-6.819 11.987-6.838zm.283 1.554c-.117 0-.234.002-.351.005-6.1 0-11.691 5.049-12.346 11.114-.78 5.684 2.795 11.612 8.218 13.52 5.139 1.943 11.416.101 14.624-4.38 3.461-4.583 3.262-11.538-.596-15.831-2.36-2.747-5.924-4.423-9.549-4.428zm-.078 1.695c.078 0 .156 0 .234.003 5.4 0 10.321 4.556 10.734 9.942.563 5.13-2.958 10.364-7.971 11.678-4.832 1.41-10.457-.935-12.746-5.446-2.463-4.559-1.2-10.795 3.014-13.883a11.072 11.072 0 016.735-2.294zm-5.352 4.266V22.761h10.716V9.279H10.642zm.863.866h8.987v11.75h-8.987v-11.75zm.927 1.323v.862h7.133v-.862h-7.133zm0 2.602v.866h7.133v-.866h-7.133zm0 3.008v.862h7.133v-.862h-7.133zm0 2.717v.863h7.133v-.863h-7.133z"}))};function Sq(){return Sq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Sq.apply(null,arguments)}var BEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Sq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm6.132 4.194c-1.21 2.455-2.422 4.91-3.633 7.364l-4.516-5.875-4.103 12.133 4.6-5.912c1.58 1.81 3.162 3.619 4.744 5.429L22.13 9.215zM14.383 13.1l4.295 5.445 1.073-2.387-1.027 4.131-4.384-5.157-1.778 2.75 1.821-4.782z"}))};function Oq(){return Oq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Oq.apply(null,arguments)}var jEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Oq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.927c-1.672 4.654-2.734 9.502-4.406 14.155 1.534-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.496-4.71-2.91-9.446-4.406-14.156zm.032 2.929c.822 2.586 1.598 5.186 2.42 7.771l-2.42-2.612c-.682.597-2.452 2.884-2.338 2.388.87-2.487 1.447-5.067 2.338-7.547z"}))};function Dq(){return Dq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Dq.apply(null,arguments)}var VEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Dq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm1.78 4.093v3.555H9.785v6.714h7.994v3.554l5.829-6.911-5.83-6.912zm.974 2.584l3.61 4.295-3.61 4.294v-1.933h-7.88v-4.688h7.88v-1.968z"}))};function Tq(){return Tq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Tq.apply(null,arguments)}var zEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Tq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm-7.245 5.475v11.06h14.502v-11.06H8.754zm3.222 1.728h8.057c-1.427.878-2.854 2.806-4.281 3.016l-3.776-3.016zm9.554 1.017v6.587H10.48V13.24l5.524 4.414 5.526-4.414z"}))};function kq(){return kq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kq.apply(null,arguments)}var HEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",kq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.073l-7.62 5.531 2.91 8.95h9.42l2.91-8.95-7.62-5.53zm0 1.067l6.604 4.794-2.523 7.757h-8.162l-2.522-7.757 6.603-4.794z"}))};function Pq(){return Pq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pq.apply(null,arguments)}var UEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Pq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M10.638 9.563V23.056h10.724V9.563H10.638zm.863.866h8.995v11.76H11.5V10.43zm.928 1.324v.862h7.139v-.862h-7.14zm0 2.605v.866h7.139v-.866h-7.14zm0 3.01v.863h7.139v-.863h-7.14zm0 2.72v.863h7.139v-.864h-7.14zM15.999.308h-.004l-.188.001h-.011l-.188.004h-.011L15.41.32h-.011l-.187.008h-.005L15.2.33l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.37h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003.178-.001h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 1.023l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.62h-.005l-.005-.002-.182-.035h-.006L18.938.58l-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.43 17.783.41l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.37h-.005L17.38.368l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.328h-.011L16.6.32h-.011l-.187-.006h-.011L16.204.31h-.011L16.005.31H16zm9.016 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zm-18.381.344l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003L4.682 5l-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.595h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01L16.32 3.6h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 13.135l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187V16.7l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zm-30.21.572l-.161.001-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158-.074-.155-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178-.001-.177v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057-.159-.028zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14v-.005l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 23.019l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 27.127l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z"}))};function Iq(){return Iq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Iq.apply(null,arguments)}var qEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Iq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M16.012 9.222c-1.673 4.657-2.735 9.508-4.409 14.164 1.536-1.526 2.874-3.236 4.41-4.762l4.408 4.762c-1.497-4.712-2.911-9.451-4.409-14.164zm.032 2.93c.823 2.588 1.599 5.19 2.421 7.777l-2.42-2.614c-.683.598-2.454 2.886-2.34 2.39.871-2.489 1.448-5.07 2.34-7.552zM16.012.312c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}))};function Mq(){return Mq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Mq.apply(null,arguments)}var WEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Mq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M8.742 10.464v11.072h14.516V10.464H8.742zm3.224 1.73h8.066a69569 69569 0 00-4.034 3.22l-4.032-3.22zm9.565 1.018v6.594H10.469v-6.593L16 17.63l5.532-4.419zM16 0h-.005l-.188.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06h-.005L17.38.06l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0H16zm9.015 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zM6.634 3.28l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.286h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 12.826l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zM.938 15L.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 22.71l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 26.818l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z"}))};function Aq(){return Aq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Aq.apply(null,arguments)}var GEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Aq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M23.637 13.902l-7.625-5.535-7.624 5.535 2.912 8.956h9.425l2.912-8.956zm-1.017.33l-2.524 7.762H11.93l-2.524-7.762 6.607-4.796 6.608 4.796zM16.012.311c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}))};function Rq(){return Rq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rq.apply(null,arguments)}var QEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Rq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M13.51 9.081v4.428H9.08v4.982h4.428v4.428h4.982V18.49h4.428v-4.982H18.49V9.081h-4.982zm.83.83h3.32v4.428h4.429v3.322H17.66v4.428h-3.32v-4.454H9.91v-3.296h4.428V9.911zM16 0h-.005l-.188.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06h-.005L17.38.06l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0H16zm9.015 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zM6.634 3.28l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.286h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 12.826l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zM.938 15L.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 22.71l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 26.818l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z",opacity:".98"}))};function Lq(){return Lq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lq.apply(null,arguments)}var YEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Lq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M16.012 8.816L9.21 21.026h13.606l-6.803-12.21zm0 1.776l5.332 9.57H10.681l5.331-9.57zm0-10.281c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}))};function $q(){return $q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$q.apply(null,arguments)}var XEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",$q({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.998 8.406c-3.018-.041-5.92 1.926-7.031 4.727-1.138 2.695-.51 6.012 1.537 8.103 1.99 2.141 5.268 2.93 8.014 1.927 2.878-.98 4.992-3.827 5.068-6.87.153-2.957-1.624-5.88-4.3-7.137a7.552 7.552 0 00-3.288-.75zm0 1.384c2.759-.052 5.373 1.973 6.015 4.655.704 2.578-.482 5.517-2.791 6.867-2.358 1.48-5.682 1.086-7.618-.918-2.043-1.971-2.407-5.381-.84-7.745 1.11-1.763 3.15-2.88 5.234-2.86zm1.962 1.765l-2.074 3.762c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.182l1.993-3.615c-.252-.14-.505-.278-.757-.417zm-1.965-8.268h-.158l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.048.12.047.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.138-.107-.121-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.005-.002-.006-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.141-.031-.006-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.001-.143-.026-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.01l-.148-.001h-.01zM10.357 4.66l-.156.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.004.003-.005.004-.11.096-.004.004-.004.003-.109.098-.004.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.003.004-.004.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.005-.086.117-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.029.15-.058.138-.085.119-.108.082-.106.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022-.16.008zm13.91 2.116l-.158.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.026.159.054.152.082.139.086.102.09.09.094.098.093.099.092.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.115.068.117.067.115.065.118.064.117.062.118.061.12.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.049.127.046.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.086.137.109.119.129.096.145.07.155.043.16.013.161-.017.155-.046.143-.074.126-.1.106-.122.082-.138.055-.152.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.059-.132-.002-.005-.002-.004-.061-.132-.003-.004-.002-.005-.062-.13-.003-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.073-.125-.003-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.08-.12-.004-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.117-.003-.005-.003-.004-.088-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.093-.113-.004-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.109-.004-.004-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023-.16.008zM4.288 12.828l-.158.032-.15.06-.135.088-.117.11-.095.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.006-.019.144v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.006l-.001.005-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.006.033.14v.006l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.103.102-.126.076-.142.049-.153.02-.16-.01-.161-.032-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.132-.024-.134-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.132.01-.139.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029-.16.002zm23.286 4.202l-.156.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.134-.026.132-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.062.119-.063.116-.067.119-.066.116-.068.115-.07.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.108-.085.109-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.082-.12.003-.005.002-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.004.003-.005.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.003-.005.002-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.002-.006.04-.138.002-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.141.001-.006.001-.005.031-.141.002-.006v-.005l.03-.142.001-.005.001-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022-.16.007zM6.681 22.734l-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.11.04.047.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.106.004.003.004.004.103.105.004.004.004.004.105.103.004.004.003.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.005.004.004.003.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.003.126.072.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.068.005.002.004.002.13.066.004.003.005.002.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.003.133.056.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.161-.015.155-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.158-.061-.15-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.079-.11-.08-.109-.082-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006-.16.024zm15.063 2.691l-.156.044-.12.057-.06.034-.12.066-.116.064-.119.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.036-.13.035-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021h.005l.006-.002.143-.022h.006l.005-.002.143-.024h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.036.005-.002.005-.001.14-.038.005-.001.005-.002.14-.04h.005l.005-.002.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.056.005-.003.005-.002.132-.057.005-.002.005-.003.132-.059.005-.002.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.002.005-.003.129-.066.004-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.002.065-.038.132-.093.112-.115.089-.135.062-.149.034-.157.004-.161-.027-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.045-.16-.017-.161.014zM15.994 0l-.187.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.01L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.184.027h-.006l-.005.001-.184.029h-.005l-.005.001-.183.031-.005.001-.006.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.177.027.17.03.173.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.088-.135.06-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.144-.073-.129-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.005-.001-.184-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06 17.385.06h-.005l-.187-.015h-.005l-.005-.001-.187-.013h-.01L16.799.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0h-.01zm8.86 2.939l-.157.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.127.125.123.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.085.152.083.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.161-.016.155-.046.143-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.002-.005-.003-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.002-.005-.102-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.004-.003-.005-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.003-.004-.004-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.003-.004-.133-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027-.16.004zm-18.381.348l-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.005-.003.004-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.005-.003.004-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023-.161.008zm24.514 11.15l-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.024.175-.027.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.161-.061.164-.063.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.078.158-.081.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.12.13.096.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.004.002-.005.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.17.002-.006.001-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.18.001-.006.001-.005.038-.182v-.005l.002-.005.035-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02-.161.009zM.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.005.074.169.002.005.002.004.076.169.002.005.002.004.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.156-.07-.162-.068-.16-.067-.164-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15 .777 15zM6.17 26.842l-.152.052-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.005.003.004.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.003.162.088.005.002.004.002.164.087.005.002.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.169.076.004.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.061.005.002.005.001.175.06.005.001.005.002.176.057.005.001.005.002.177.055.005.001.005.002.177.052.005.002.005.001.178.051.005.001.005.002.178.048.006.002h.005l.179.047.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.169-.044-.17-.045-.166-.048-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006-.16.024zm19.214.073l-.156.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.157.073-.158.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.048-.17.045-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.008.133-.017.115-.024h.005l.005-.002.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002h.005l.18-.047.004-.001.005-.002.179-.048.005-.002.005-.001.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.005-.002.004-.002.172-.068.005-.001.005-.002.171-.07.005-.002.005-.002.17-.072.005-.002.005-.002.169-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.002.167-.08.004-.003.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.002.163-.087.005-.002.005-.002.162-.088.005-.003.005-.003.161-.09.005-.002.004-.003.16-.092.005-.002.005-.003.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.002.155-.102.005-.003.004-.003.154-.104.004-.003.005-.003.152-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.111.004-.004.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02-.16.009z"}))};function Nq(){return Nq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Nq.apply(null,arguments)}var KEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Nq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.975.003C8.195-.157.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.408 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.215-2.282-2.022-5.3-3.217-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.082 11.082 0 0116 4.975zm-2.15 3.281v5.534H8.213v4.38h5.636v5.534h4.31V18.17h5.639v-4.38h-5.64V8.256h-4.31zm.865.865h2.583v5.534h5.635v2.65h-5.635v5.533h-2.583v-5.534h-5.64v-2.649h5.64V9.121z"}))};function Fq(){return Fq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fq.apply(null,arguments)}var ZEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Fq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.521L9.206 20.745h13.598L16.005 8.542zm0 1.775l5.329 9.564H10.677l5.328-9.564z"}))};function Bq(){return Bq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bq.apply(null,arguments)}var JEe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Bq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.97.04h-.127C8.713-.018 2.003 5.334.437 12.286c-1.51 6.123.98 13.005 6.136 16.665 5.125 3.788 12.546 4.105 17.912.623 5.272-3.276 8.33-9.766 7.325-15.916-.904-6.241-5.79-11.7-11.95-13.143A16.082 16.082 0 0015.97.04zm-.181 1.724c.115 0 .23 0 .347.003 6.625-.066 12.823 5.149 13.89 11.69 1.13 5.91-1.908 12.349-7.262 15.138-5.473 3.013-12.866 1.884-17.116-2.726C1.291 21.372.444 13.914 3.802 8.602c2.493-4.112 7.169-6.819 11.987-6.838zm.283 1.554c-.117 0-.234.002-.351.005-6.1 0-11.691 5.049-12.346 11.114-.78 5.684 2.795 11.612 8.218 13.52 5.139 1.943 11.416.101 14.624-4.38 3.461-4.583 3.262-11.538-.596-15.831-2.36-2.747-5.924-4.423-9.549-4.428zm-.078 1.695c.078 0 .156 0 .234.003 5.4 0 10.321 4.556 10.734 9.942.563 5.13-2.958 10.364-7.971 11.678-4.832 1.41-10.457-.935-12.746-5.446-2.463-4.559-1.2-10.795 3.014-13.883a11.072 11.072 0 016.735-2.294zm-.137 3.42c-2.965.02-5.792 1.968-6.884 4.722-1.137 2.693-.509 6.007 1.536 8.096 1.988 2.14 5.263 2.929 8.007 1.926 2.875-.98 4.987-3.824 5.063-6.865.154-2.954-1.622-5.875-4.295-7.13a7.545 7.545 0 00-3.427-.75zm.27 1.381c2.708.013 5.249 2.014 5.88 4.652.704 2.576-.481 5.512-2.788 6.862-2.356 1.478-5.677 1.084-7.611-.918-2.042-1.97-2.405-5.376-.839-7.738 1.11-1.762 3.146-2.877 5.229-2.857h.13zm1.831 1.764l-2.072 3.76c-.64.068-.792 1.039-.202 1.298.39.27.696-.18 1.051-.164h3.168v-.864h-3.18l1.992-3.612-.757-.418z"}))};function jq(){return jq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jq.apply(null,arguments)}var ewe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",jq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.848.001C8.113-.093.931 6.281.125 13.983c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.207C29.105 4.938 23.55.48 17.367.06A16.448 16.448 0 0015.848 0v.001zm.293 1.727c7.113-.099 13.662 5.97 14.077 13.08.56 6.299-3.516 12.735-9.582 14.679-5.798 2.004-12.806-.12-16.283-5.237C.717 19.159.874 11.638 5.016 6.876 7.722 3.638 11.902 1.63 16.14 1.728zm-.415 1.555C9.157 3.258 3.256 9.156 3.278 15.729c-.16 5.965 4.365 11.725 10.293 12.737 5.409 1.065 11.37-1.744 13.775-6.753 2.534-4.986 1.386-11.627-2.953-15.251-2.364-2.077-5.512-3.27-8.667-3.18zm.507 1.692c5.82-.026 11.013 5.318 10.79 11.143-.024 5.3-4.313 10.267-9.636 10.803-5.075.667-10.426-2.588-11.885-7.553-1.535-4.744.494-10.46 4.925-12.885a11.072 11.072 0 015.806-1.508z"}))};function Vq(){return Vq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vq.apply(null,arguments)}var H2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Vq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm-.56 5.772l-7.408 5.231 7.409 5.234v-5.057c2.385 1.687 4.771 3.371 7.157 5.057V10.747l-7.157 5.055v-5.055z"}))};function zq(){return zq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},zq.apply(null,arguments)}var U2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",zq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.927c-1.672 4.654-2.734 9.502-4.406 14.155 1.534-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.496-4.71-2.91-9.446-4.406-14.156z"}))};function Hq(){return Hq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Hq.apply(null,arguments)}var q2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Hq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm1.78 4.093v3.555H9.785v6.714h7.994v3.554l5.829-6.911-5.83-6.912z"}))};function Uq(){return Uq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Uq.apply(null,arguments)}var W2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Uq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm-5.91 5.475l6.04 4.901 6.042-4.9H10.088zm-1.341 1.138v9.921h14.514V11.79l-7.132 5.787-7.382-5.99z"}))};function qq(){return qq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},qq.apply(null,arguments)}var G2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",qq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.073l-7.62 5.532 2.91 8.95h9.42l2.91-8.95-7.62-5.532z"}))};function Wq(){return Wq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wq.apply(null,arguments)}var Q2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Wq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.52c-2.261 4.07-4.533 8.136-6.798 12.205h13.596L16.005 8.495z"}))};function Gq(){return Gq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gq.apply(null,arguments)}var Y2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Gq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M0 7v18.62h32V7H0zm1.655 17.056V8.684h28.62v15.372H1.656z"}))};function Qq(){return Qq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qq.apply(null,arguments)}var X2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Qq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm4.43 1.328c-.222.005-.43.09-.606.203-.985.638-4.356 2.977-5.096 3.486-.67.46-1.12 1.153-1.38 1.974-.27.858-.235 1.793-.232 2.576.002.59.016 1.104.17 1.727.22.908.634 1.63 1.23 2.118.597.49 1.363.732 2.23.734 3.038.012 6.078.016 9.119 0 .327-.002.645-.127.848-.37.204-.241.287-.56.291-.914a1.732 1.732 0 00-.097-.625h.327c.335 0 .641-.11.852-.316.21-.206.317-.475.374-.754a1.783 1.783 0 00-.126-1.143 1.18 1.18 0 00.877-.521c.196-.306.257-.666.258-1.025.001-.375-.088-.738-.293-1.033a1.179 1.179 0 00-.958-.512h-.478c.108-.237.156-.505.155-.782-.003-.373-.098-.721-.316-.99a1.21 1.21 0 00-.943-.43c-2.273-.004-4.236.018-6.412.012l-.19-.001c.102-.104.202-.205.312-.314.337-.336.662-.652.83-.869.4-.516.46-1.215.123-1.729-.178-.272-.439-.456-.72-.494a.93.93 0 00-.148-.008zm.029.728l.022.001c.055.008.115.027.209.172.132.201.126.606-.09.884-.079.102-.431.465-.767.8-.337.334-.657.643-.815.836-.153.186-.096.338-.056.435.04.096.085.212.298.263.063.014.066.01.086.012l.066.003c2.429.027 4.986-.004 7.223-.003.194 0 .293.056.379.162.086.105.151.286.153.533 0 .257-.065.467-.155.59-.09.124-.183.182-.37.183-1.706-.001-3.411-.005-5.117-.009v.731c2.23.004 4.461.01 6.692.012.17 0 .265.06.361.2.096.138.164.364.163.615 0 .268-.058.501-.143.634-.085.132-.162.193-.385.195-2.32-.001-4.554-.006-6.688-.003v.73c1.905 0 3.809.003 5.713.001.194.005.316.09.416.26.102.173.151.442.093.728-.04.193-.102.313-.17.38-.067.065-.148.108-.343.108h-5.71l.002.734c1.445 0 2.89-.01 4.334-.001.162 0 .232.041.297.123.064.081.123.238.12.488-.003.244-.061.385-.12.455-.06.07-.127.11-.296.11-3.037.016-6.076.012-9.113 0-.735-.002-1.316-.196-1.77-.568-.454-.372-.793-.935-.986-1.728-.134-.546-.146-.978-.148-1.558-.003-.796-.018-1.664.199-2.354.222-.705.582-1.24 1.096-1.593.75-.515 4.14-2.866 5.079-3.474a.504.504 0 01.241-.087z"}))};function Yq(){return Yq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Yq.apply(null,arguments)}var K2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Yq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M4.073 26.607l1.295 1.296L1.325 32l-.662-.633L0 30.735l4.073-4.128zm6.953-7.046l1.296 1.296L1.325 32l7.555-7.656-1.295-1.296 1.455-1.474 1.986-2.013zM32 .06s-2.699 5.189-5.417 10.462l-.326.633c-1.14 2.214-2.265 4.407-3.176 6.2-1.228-1.222-2.449-2.452-3.676-3.675l-3.57 3.618-1.297-1.296 3.541-3.588c-.98-.964-1.932-1.958-2.923-2.91l-.753-.706c2.68-1.258 6.533-3.165 9.95-4.876l.617-.309C28.838 1.673 32 .06 32 .06zm-4.126 4.06l-.015.007-.115.057-.048.024-.115.057L17.7 9.172l5.017 4.948 5.157-10z"}))};function Xq(){return Xq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Xq.apply(null,arguments)}var Z2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Xq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M0 5v22.069h32V5H0zm30.276 1.684v18.82H6.62V6.684h23.655zm-28.62 0h3.31v18.82h-3.31V6.684z"}))};function Kq(){return Kq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Kq.apply(null,arguments)}var J2t=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Kq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{fillRule:"evenodd",d:"M16.177 0l.137.002c.452.009.9.037 1.342.082.346.036.62.303.68.646l.437 2.536c.055.319.296.57.608.655.986.269 1.923.653 2.796 1.14.28.155.624.145.885-.039l2.083-1.47a.775.775 0 01.937.022c.86.699 1.645 1.484 2.343 2.343.22.27.223.653.023.937l-1.439 2.038a.833.833 0 00-.031.896c.512.889.92 1.846 1.204 2.855a.833.833 0 00.653.601l2.435.42c.342.059.61.333.645.679a15.928 15.928 0 01.08 2.064l-.003.114c-.012.382-.038.76-.077 1.134a.775.775 0 01-.645.68l-2.396.412a.835.835 0 00-.656.61 12.511 12.511 0 01-1.2 2.917.832.832 0 00.034.892l1.396 1.978c.2.284.196.667-.023.936a16.104 16.104 0 01-2.343 2.343.775.775 0 01-.937.023l-1.99-1.404a.833.833 0 00-.88-.026c-.907.516-1.886.922-2.916 1.2a.833.833 0 00-.61.656l-.414 2.396a.775.775 0 01-.679.646 16.096 16.096 0 01-3.312 0 .775.775 0 01-.679-.646l-.423-2.452a.834.834 0 00-.598-.636 12.474 12.474 0 01-1.468-.514 12.49 12.49 0 01-1.417-.68.833.833 0 00-.878.03l-2.026 1.43a.775.775 0 01-.937-.023 16.069 16.069 0 01-2.342-2.342.774.774 0 01-.024-.936l1.402-1.986a.833.833 0 00.032-.896 12.507 12.507 0 01-1.214-2.911.833.833 0 00-.655-.606l-2.386-.412a.775.775 0 01-.646-.678 16.097 16.097 0 010-3.314.775.775 0 01.646-.678l2.386-.412a.833.833 0 00.655-.606 12.507 12.507 0 011.214-2.911.833.833 0 00-.032-.896L3.552 6.853a.774.774 0 01.023-.936 16.091 16.091 0 012.343-2.343.775.775 0 01.937-.023l2.03 1.433c.26.177.6.182.874.028.915-.512 1.88-.9 2.87-1.167a.833.833 0 00.612-.656l.424-2.46a.775.775 0 01.679-.645C14.845.032 15.348.004 15.85 0h.326zM16 6.4c-5.302 0-9.6 4.297-9.6 9.599 0 5.302 4.298 9.6 9.6 9.6s9.6-4.298 9.6-9.6-4.298-9.6-9.6-9.6zm-3 4.283c0-1.425 1.637-2.203 2.715-1.29l5.69 4.815c.794.672.794 1.91 0 2.583l-5.69 4.815c-1.078.913-2.715.134-2.715-1.29z"}))};function Zq(){return Zq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Zq.apply(null,arguments)}var ebt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Zq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zM5.23 7.764v11.577h17.55V7.764H5.23zm1.816.758h13.917l-6.959 4.577-6.958-4.577zm-1.06.21l8.018 5.274 8.018-5.275v9.853H5.987V8.73z"}))};function Jq(){return Jq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jq.apply(null,arguments)}var tbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",Jq({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm2.99 3.077l-.077.045-.026.015c-1.09.646-1.84 1.239-2.336 1.818-.496.579-.735 1.162-.742 1.725-.014 1.119.812 1.958 1.544 2.708.732.75 1.385 1.456 1.446 2.041.032.298-.039.598-.364 1.008-.324.408-.911.897-1.85 1.445l-1.388.808h8.56l.101-.059c.996-.58 1.667-1.116 2.094-1.655.429-.54.603-1.107.547-1.638-.11-1.052-.967-1.818-1.688-2.556-.721-.739-1.306-1.436-1.298-2.092.004-.331.132-.7.535-1.171.402-.47 1.08-1.02 2.119-1.636l1.362-.806h-8.54zm.241.867h5.271a6.83 6.83 0 00-1.113 1.01c-.496.58-.736 1.163-.743 1.726-.014 1.119.812 1.958 1.544 2.708.732.75 1.385 1.456 1.446 2.041.032.298-.039.598-.364 1.008-.312.393-.872.862-1.753 1.386H8.728c.367-.286.658-.566.88-.847.43-.54.604-1.107.548-1.638-.11-1.052-.968-1.818-1.688-2.556-.721-.739-1.306-1.435-1.298-2.092.004-.331.132-.7.534-1.171.389-.454 1.04-.984 2.021-1.575zm-1.233 1.48v.4h4.12v-.4h-4.12zm-.154 2.158v.4H12.6v-.4H8.34zm1.931 2.158v.4h4.126v-.4H10.27zm.59 2.158v.4h4.276v-.4h-4.276z"}))};function eW(){return eW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},eW.apply(null,arguments)}var nbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",eW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm-1.38 3.16l8.332 4.717L21.78 8.16H5.114zm.021 1.745v9.309H21.8V9.905l-8.353 4.655-8.31-4.655z"}))};function tW(){return tW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},tW.apply(null,arguments)}var rbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",tW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm1.22 1.681V7.84c-.329.093-.63.223-.914.382l-.83-.82-1.554 1.561.83.82c-.16.288-.285.594-.372.911l-1.177.002v2.2l1.189-.004c.109.431.345.819.58 1.165v-1.898l-1.038.004v-.737l1.034-.002.058-.294c.084-.429.252-.838.493-1.203l.165-.25-.727-.718.523-.526.728.719.247-.165c.379-.25.793-.417 1.206-.505l.291-.06-.002-1.01h.75L9.19 8.417H11.16c-.185-.221-.951-.508-1.237-.588L9.93 6.68H7.713zm2.078 2.105l.003 1.158a4.19 4.19 0 00-.915.383l-.83-.821-1.553 1.562.83.82c-.16.288-.286.593-.373.91l-1.176.003v2.2l1.188-.004c.094.326.224.624.383.905l-.85.847 1.57 1.543.847-.843c.29.161.599.286.919.373v1.198c.756.006 1.56.003 2.206.003V17.81a4.19 4.19 0 00.915-.383l.847.835 1.554-1.56-.848-.836c.16-.288.286-.594.373-.912l1.152-.007V12.75l-1.165.007a4.09 4.09 0 00-.382-.905l.805-.807-1.57-1.546-.804.806a4.16 4.16 0 00-.915-.372l.007-1.147H9.792zm.732.73h.751l-.006 1.005.297.058c.43.085.844.252 1.21.492l.25.162.701-.704.528.52-.702.704.169.25c.248.374.412.779.505 1.196l.061.292 1.016-.006v.737l-1.01.006-.058.292c-.085.43-.252.838-.494 1.205l-.165.25.744.733-.523.525-.743-.734-.248.165c-.378.247-.789.418-1.203.503l-.294.058v1.067h-.745v-1.059l-.295-.057a3.395 3.395 0 01-1.21-.492l-.248-.162-.747.743-.528-.52.747-.744-.17-.25a3.546 3.546 0 01-.506-1.196l-.06-.291-1.04.004v-.738l1.034-.002.058-.294c.085-.428.252-.837.493-1.203l.165-.25-.726-.718.522-.526.728.72.248-.166a3.546 3.546 0 011.205-.504l.292-.06-.003-1.01zm.388 2.685a1.65 1.65 0 00-1.645 1.645c0 .904.74 1.645 1.645 1.645a1.65 1.65 0 001.645-1.645 1.65 1.65 0 00-1.645-1.645zm0 .73a.91.91 0 01.915.915.91.91 0 01-.915.914.91.91 0 01-.915-.914.91.91 0 01.915-.915z"}))};function nW(){return nW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nW.apply(null,arguments)}var ibt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",nW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm-.566 9.03l-7.415 5.235 7.415 5.238v-5.062c2.386 1.689 4.775 3.375 7.163 5.062V10.761l-7.163 5.058v-5.058zm-.866 1.666v7.13L9.51 15.993l5.052-3.565zm7.166 0v7.137l-5.052-3.568 5.052-3.569z"}))};function rW(){return rW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rW.apply(null,arguments)}var obt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",rW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M16 0C7.174 0 0 7.174 0 16s7.174 16 16 16 16-7.174 16-16S24.826 0 16 0zm0 1.73c7.892 0 14.27 6.378 14.27 14.27 0 7.891-6.379 14.27-14.27 14.27S1.73 23.891 1.73 16C1.73 8.108 8.108 1.73 16 1.73zm-5.362 7.523v13.493h10.724V9.253H10.638zm.863.866h8.995V21.88H11.501V10.12zm.928 1.324v.863h7.139v-.863h-7.139zm0 2.605v.867h7.139v-.867h-7.139zm0 3.01v.864h7.139v-.863h-7.139zm0 2.72v.863h7.139v-.863h-7.139z"}))};function iW(){return iW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},iW.apply(null,arguments)}var sbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",iW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.995.005C9.705-.08 3.643 3.968 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994.005zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626-4.814-3.838-6.538-10.939-4.067-16.57 2.14-5.205 7.515-8.774 13.147-8.708zm6.13 7.45l-3.635 7.37-4.52-5.88c-1.37 4.048-2.738 8.095-4.106 12.143l4.603-5.917 4.748 5.433 2.91-13.149zm-7.754 3.889l4.299 5.449 1.073-2.39-1.028 4.135-4.387-5.16-1.78 2.75 1.823-4.784z"}))};function oW(){return oW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},oW.apply(null,arguments)}var abt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",oW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm0 7.183c-1.674 4.658-2.736 9.509-4.41 14.166 1.535-1.526 2.874-3.236 4.41-4.763l4.41 4.763c-1.499-4.713-2.913-9.453-4.41-14.166zm.032 2.931c.822 2.588 1.598 5.19 2.42 7.778l-2.42-2.615c-.683.598-2.455 2.887-2.34 2.39.871-2.489 1.448-5.07 2.34-7.553z"}))};function sW(){return sW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},sW.apply(null,arguments)}var lbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",sW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm-7.257 8.732v11.069h14.513v-11.07H8.738zm3.224 1.73h8.064c-1.428.878-2.857 2.807-4.285 3.018l-3.779-3.019zm9.562 1.017v6.593H10.465V13.21l5.528 4.417 5.53-4.418z"}))};function aW(){return aW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},aW.apply(null,arguments)}var cbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",aW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm0 6.328l-7.626 5.536c.97 2.986 1.942 5.971 2.913 8.957h9.426l2.912-8.957-7.625-5.536zm0 1.068l6.609 4.798-2.525 7.763H11.91l-2.524-7.763 6.609-4.798z"}))};function lW(){return lW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lW.apply(null,arguments)}var ubt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",lW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M10.632 9.189V22.68h10.723V9.189H10.632zm.862.865h8.994v11.76H11.494v-11.76zm.928 1.324v.863h7.138v-.863h-7.138zm0 2.605v.866h7.138v-.866h-7.138zm0 3.01v.863h7.138v-.863h-7.138zm0 2.72v.862h7.138v-.863h-7.138zM16.12 0h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136-.109-.118-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006l-.216-.042-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006l-.006-.001-.22-.017-.005-.001h-.006L17.06.03h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012L16.132 0h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zM6.377 3.21l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1v.003l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114v-.008l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V15.95l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z"}))};function cW(){return cW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cW.apply(null,arguments)}var dbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",cW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M16 9.209c-1.674 4.655-2.735 9.504-4.408 14.16 1.534-1.526 2.873-3.235 4.407-4.761l4.408 4.76c-1.497-4.71-2.91-9.448-4.408-14.16zm.031 2.93c.822 2.586 1.598 5.187 2.42 7.774l-2.42-2.614c-.682.598-2.453 2.886-2.34 2.389.873-2.488 1.45-5.068 2.34-7.55zM16.132.364c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.564c-.734.078-1.196.762-1.735 1.206C3.552 6.02 2.55 7.511 1.681 9.053c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786A15.932 15.932 0 011.728 16a.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"}))};function uW(){return uW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},uW.apply(null,arguments)}var fbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",uW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M8.746 10.393v11.064h14.506V10.393H8.746zm3.223 1.728h8.06c-1.428.879-2.856 2.807-4.283 3.018l-3.777-3.018zm9.557 1.018v6.59H10.473v-6.59l5.525 4.416 5.528-4.416zM16.132 0c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.2c-.734.078-1.196.762-1.735 1.206C3.552 5.656 2.55 7.147 1.681 8.69c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786a15.932 15.932 0 01-1.672-6.874.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"}))};function dW(){return dW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dW.apply(null,arguments)}var hbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",dW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M23.621 13.524L16 7.99l-7.622 5.534 2.911 8.952h9.422l2.911-8.952zm-1.016.33l-2.523 7.759h-8.165l-2.524-7.76L16 9.059l6.606 4.796zM16.132 0c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.2c-.734.078-1.196.762-1.735 1.206C3.552 5.656 2.55 7.147 1.681 8.69c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786a15.932 15.932 0 01-1.672-6.874.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"}))};function fW(){return fW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},fW.apply(null,arguments)}var pbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",fW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M13.503 9.016v4.428H9.075v4.98h4.428v4.428h4.98v-4.427h4.428v-4.981h-4.427V9.016h-4.981zm.83.83h3.32v4.428h4.428v3.32h-4.428v4.428h-3.32v-4.454H9.905v-3.294h4.428V9.846zM16.12 0h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136-.109-.118-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006l-.216-.042-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006l-.006-.001-.22-.017-.005-.001h-.006L17.06.03h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012L16.132 0h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zM6.377 3.21l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1v.003l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114v-.008l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V15.95l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z",opacity:".98"}))};function hW(){return hW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hW.apply(null,arguments)}var mbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",hW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M16.007 8.82L9.21 21.022h13.596L16.007 8.82zm0 1.775l5.328 9.563H10.68l5.327-9.563zM16.14.386c-1.571.236-4.195-.284-4.9 1.381.619 1.703 2.745.069 4.085.365 1.421-.13 2.84.2 4.235.259C21.27.784 18.19.344 17 .413a20.456 20.456 0 00-.86-.027zM25 3.162c-2.19.694.401 2.26 1.181 3.094 1.083 1.152 1.954 2.484 2.715 3.864 1.48 1.005 1.845-1.26.81-2.03-1.158-1.897-2.613-3.704-4.513-4.89l-.192-.038zm-18.438.423c-1.793.712-2.909 2.548-4.01 4.061-.773.814-2.211 3.653.005 3.211 1.123-1.469 1.87-3.306 3.267-4.614.664-.7 2.73-2.013.738-2.658zm24.57 11.072c-1.659.435-.468 2.667-.99 3.895a13.427 13.427 0 01-1.497 4.435c-.23 1.659 1.991 1.165 2.018-.199a14.277 14.277 0 001.254-7.552.865.865 0 00-.785-.579zm-30.18.666c-1.677.386-.633 2.667-.608 3.876.371 1.623.792 3.35 1.79 4.696 2.382.321.571-2.338.292-3.492a15.92 15.92 0 01-.684-4.39.877.877 0 00-.79-.69zm24.558 11.81c-1.755.865-3.303 2.266-5.274 2.765-1.162-.016-3.074 1.271-1.331 2.102 2.66-.447 5.163-1.733 7.236-3.445.472-.506.06-1.432-.631-1.421zm-19.151.043c-2.004.786.416 2.405 1.43 2.913 1.608.904 3.379 1.636 5.208 1.877 1.77-.804-.228-2.094-1.357-2.073-1.75-.537-3.403-1.396-4.798-2.586l-.227-.104-.256-.027z"}))};function pW(){return pW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pW.apply(null,arguments)}var gbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",pW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.991 8.7c-3.018-.042-5.92 1.925-7.03 4.725-1.138 2.695-.509 6.011 1.537 8.102 1.99 2.142 5.267 2.93 8.013 1.927 2.877-.98 4.99-3.826 5.067-6.87.153-2.956-1.624-5.88-4.299-7.135a7.551 7.551 0 00-3.288-.75zm0 1.383c2.758-.052 5.372 1.972 6.014 4.654.704 2.578-.482 5.516-2.79 6.867-2.358 1.48-5.682 1.085-7.617-.919-2.043-1.97-2.407-5.38-.84-7.743 1.11-1.764 3.149-2.88 5.233-2.86zm1.962 1.764l-2.074 3.762c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.182l1.993-3.614-.757-.418zM16.12.358h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136L19.823.9l-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006L19.135.64l-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006L17.512.42l-.22-.017-.005-.001h-.006l-.22-.015h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012l-.221-.003h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zm-18.458.426l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1V9.5l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114V16.5l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V16.308l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z"}))};function mW(){return mW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mW.apply(null,arguments)}var vbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",mW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.847.004C9.61-.016 3.624 4.014 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.101 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.268.403-6.228-3.26-12.441-8.87-15.154A15.924 15.924 0 0015.846.004zm.439 1.729c6.105.033 11.856 4.45 13.435 10.359 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.625-4.814-3.84-6.538-10.94-4.067-16.57 2.14-5.206 7.515-8.775 13.147-8.71.097-.001.194-.002.29-.001z"}))};function gW(){return gW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gW.apply(null,arguments)}var ybt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",gW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.847 0C9.61-.02 3.624 4.01 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.101 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.268.403-6.228-3.26-12.441-8.87-15.154A15.924 15.924 0 0015.846 0zm.439 1.729c6.105.033 11.856 4.45 13.435 10.359 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.625C2.101 23.17.377 16.07 2.848 10.44c2.134-5.2 7.522-8.78 13.147-8.71.097-.001.194-.002.29-.001zM13.504 9.08v4.427H9.077v4.98h4.427v4.427h4.98v-4.427h4.428v-4.98h-4.427V9.08h-4.98zm.83.83h3.32v4.427h4.428v3.32h-4.427v4.427h-3.32v-4.453H9.906v-3.294h4.427V9.91z"}))};function vW(){return vW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vW.apply(null,arguments)}var bbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",vW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M15.995.005C9.705-.08 3.643 3.968 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994.005zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626-4.814-3.838-6.538-10.939-4.067-16.57 2.14-5.205 7.515-8.774 13.147-8.708zm0 6.776L9.19 20.724H22.8L15.995 8.511zm0 1.777l5.332 9.572H10.662l5.333-9.572z"}))};function yW(){return yW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yW.apply(null,arguments)}var xbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",yW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M16 0C7.174 0 0 7.174 0 16s7.174 16 16 16 16-7.174 16-16S24.826 0 16 0zm0 1.73c7.892 0 14.27 6.378 14.27 14.27 0 7.891-6.379 14.27-14.27 14.27S1.73 23.891 1.73 16C1.73 8.108 8.108 1.73 16 1.73zm-.143 6.676c-2.967.02-5.797 1.97-6.89 4.727-1.138 2.695-.51 6.012 1.537 8.102 1.99 2.142 5.268 2.932 8.014 1.928 2.878-.98 4.992-3.827 5.068-6.87.153-2.957-1.624-5.881-4.3-7.137a7.552 7.552 0 00-3.43-.75zm.27 1.383c2.71.012 5.254 2.015 5.886 4.656.704 2.577-.482 5.517-2.791 6.867-2.358 1.48-5.682 1.085-7.618-.918-2.043-1.971-2.407-5.381-.84-7.745 1.11-1.763 3.15-2.88 5.234-2.86h.13zm1.833 1.765l-2.074 3.763c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.181l1.992-3.615-.757-.418z"}))};function bW(){return bW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bW.apply(null,arguments)}var twe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",bW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M5.637 3A5.644 5.644 0 000 8.637v15.417a5.644 5.644 0 005.637 5.637h20.726A5.644 5.644 0 0032 24.054V8.637A5.644 5.644 0 0026.363 3H5.637zm0 1.778h20.726a3.83 3.83 0 013.859 3.859v15.417a3.83 3.83 0 01-3.859 3.858h-4.201V16.695H9.838v11.217H5.637a3.83 3.83 0 01-3.859-3.858V8.637a3.83 3.83 0 013.859-3.859zm5.33 13.046h10.066v10.065H10.967V17.824zm4.189 1.431V22.06H12.35v1.689h2.804V26.554h1.69V23.749h2.804V22.06h-2.804V19.255h-1.69z"}))};function xW(){return xW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},xW.apply(null,arguments)}var nwe=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",xW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M5.636 3A5.642 5.642 0 000 8.636v15.418a5.643 5.643 0 005.636 5.636h20.728A5.643 5.643 0 0032 24.054V8.636A5.642 5.642 0 0026.364 3H5.636zm0 1.778h20.728a3.83 3.83 0 013.858 3.858v15.418a3.83 3.83 0 01-3.858 3.858h-4.203V16.723H9.84v11.189H5.636a3.83 3.83 0 01-3.858-3.858V8.636a3.83 3.83 0 013.858-3.858zm5.331 13.074h10.066v10.06H10.967v-10.06zm1.336 3.996v1.711h7.394v-1.71h-7.394z"}))};function EW(){return EW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},EW.apply(null,arguments)}var Ebt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",EW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M6.494 2.667C2.916 2.667 0 5.57 0 9.142v13.383C0 26.097 2.916 29 6.494 29h19.012C29.084 29 32 26.097 32 22.525V9.142c0-3.572-2.916-6.475-6.494-6.475H6.494zm0 2h19.012c2.509 0 4.494 1.98 4.494 4.475v13.383C30 25.02 28.015 27 25.506 27H6.494C3.985 27 2 25.02 2 22.525V9.142c0-2.495 1.985-4.475 4.494-4.475z"}))};function wW(){return wW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wW.apply(null,arguments)}var wbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",wW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M22.087 0v31.647H32v-1.788h-8.125V1.788H32V0h-9.913zm-2.924 13.999l-2.737 2.167 2.167 2.738 2.738-2.167-2.168-2.738zm-5.475 4.335L10.95 20.5l2.168 2.738 2.737-2.168-2.167-2.737zm-5.475 4.335l-2.738 2.167 2.168 2.738 2.737-2.168-2.167-2.737zm-5.476 4.335L0 29.17l2.167 2.738 2.738-2.168-2.168-2.737z"}))};function _W(){return _W=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_W.apply(null,arguments)}var _bt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",_W({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{d:"M5.422 3A5.424 5.424 0 000 8.422v15.822a5.424 5.424 0 005.422 5.423h21.156A5.424 5.424 0 0032 24.244V8.422A5.424 5.424 0 0026.578 3H5.422zm0 1.244h21.156a4.155 4.155 0 014.178 4.178v15.822a4.155 4.155 0 01-4.178 4.178H5.422a4.155 4.155 0 01-4.178-4.178V8.422a4.155 4.155 0 014.178-4.178zm1.056 1.778a3.373 3.373 0 00-3.367 3.366v13.89a3.373 3.373 0 003.367 3.366h19.044a3.373 3.373 0 003.367-3.366V9.388a3.373 3.373 0 00-3.367-3.366H6.478zm0 1.245h19.044c1.187 0 2.122.935 2.122 2.121v13.89a2.104 2.104 0 01-2.122 2.122H6.478a2.104 2.104 0 01-2.122-2.122V9.388c0-1.186.935-2.121 2.122-2.121z"}))};function CW(){return CW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},CW.apply(null,arguments)}var Cbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",CW({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ye.createElement("path",{fillRule:"evenodd",d:"M10.263 7.468c-1.698 0-2.912 1.305-2.915 2.791v.001c0 .45.121.924.311 1.352.138.309.308.593.516.82-1.235.423-2.683 1.119-3.414 2.49l-.04.075v4.44h11.083v-4.44l-.04-.074c-.72-1.352-2.136-2.047-3.36-2.471.597-.608.774-1.392.774-2.192-.004-1.487-1.218-2.792-2.915-2.792zm-1.16 1.583c.08 0 .165.003.26.008.757.045 1.012.181 1.207.31.196.13.334.252.851.268.404-.016.598-.087.737-.169.056-.033.103-.067.152-.1.128.275.197.578.198.893 0 .894-.154 1.52-.975 2.034l.08.604c.171.052.348.11.527.171.025.105.054.242.073.387.02.153.029.311.016.43a.422.422 0 01-.056.19c-.417.417-1.157.66-1.908.66-.75 0-1.49-.243-1.908-.66a.422.422 0 01-.056-.19 1.949 1.949 0 01.016-.43c.02-.146.049-.284.074-.388.177-.062.352-.118.521-.17l.048-.648a.616.616 0 00-.126-.118c-.183-.138-.405-.44-.562-.793-.157-.353-.254-.757-.254-1.08 0-.387.105-.758.297-1.079l.11-.04c.143-.046.339-.09.679-.09zm-1.448 4.304l-.002.014c-.025.185-.04.387-.018.589.021.202.074.42.248.593.595.594 1.494.857 2.382.857.889 0 1.788-.263 2.382-.857.174-.174.227-.391.249-.593a2.496 2.496 0 00-.018-.59l-.002-.01c.903.396 1.776.963 2.258 1.81v3.599H13.53v-2.538h-.67v2.538H7.651v-2.538h-.67v2.538H5.39v-3.599c.483-.849 1.359-1.416 2.264-1.813zM6.495 3C2.914 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.01C28.016 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5z"}))},Sbt={Association:p2t,BusinessRuleTask:m2t,CallActivity:g2t,Collaboration:v2t,ConditionalFlow:y2t,SequenceFlow:b2t,DataInput:x2t,DataInputAssociation:LEe,DataOutput:w2t,DataOutputAssociation:LEe,DataObjectReference:E2t,DataStoreReference:_2t,DefaultFlow:C2t,CancelEndEvent:S2t,CompensateEndEvent:O2t,ErrorEndEvent:D2t,EscalationEndEvent:T2t,LinkEndEvent:k2t,MessageEndEvent:P2t,MultipleEndEvent:I2t,EndEvent:M2t,SignalEndEvent:A2t,TerminateEndEvent:R2t,EventSubProcess:L2t,ComplexGateway:$2t,EventBasedGateway:N2t,ExclusiveGateway:V2t,Gateway:F2t,InclusiveGateway:B2t,ParallelGateway:j2t,Group:z2t,CancelIntermediateCatchEvent:$Ee,CompensateIntermediateCatchEvent:NEe,ConditionalIntermediateCatchEvent:FEe,ErrorIntermediateCatchEvent:BEe,EscalationIntermediateCatchEvent:jEe,LinkIntermediateCatchEvent:VEe,MessageIntermediateCatchEvent:zEe,MultipleIntermediateCatchEvent:HEe,ConditionalIntermediateCatchEventNonInterrupting:UEe,EscalationIntermediateCatchEventNonInterrupting:qEe,MessageIntermediateCatchEventNonInterrupting:WEe,MultipleIntermediateCatchEventNonInterrupting:GEe,ParallelIntermediateCatchEventNonInterrupting:QEe,SignalIntermediateCatchEventNonInterrupting:YEe,TimerIntermediateCatchEventNonInterrupting:XEe,ParallelMultipleIntermediateCatchEvent:KEe,SignalIntermediateCatchEvent:ZEe,TimerIntermediateCatchEvent:JEe,IntermediateThrowEvent:ewe,CompensateIntermediateThrowEvent:H2t,EscalationIntermediateThrowEvent:U2t,LinkIntermediateThrowEvent:q2t,MessageIntermediateThrowEvent:W2t,MultipleIntermediateThrowEvent:G2t,SignalIntermediateThrowEvent:Q2t,Lane:Y2t,ManualTask:X2t,MessageFlow:K2t,Participant:Z2t,Process:J2t,ReceiveTask:ebt,ScriptTask:tbt,SendTask:nbt,ServiceTask:rbt,CompensateStartEvent:ibt,ConditionalStartEvent:obt,ErrorStartEvent:sbt,EscalationStartEvent:abt,MessageStartEvent:lbt,MultipleStartEvent:cbt,ConditionalStartEventNonInterrupting:ubt,EscalationStartEventNonInterrupting:dbt,MessageStartEventNonInterrupting:fbt,MultipleStartEventNonInterrupting:hbt,ParallelMultipleStartEventNonInterrupting:pbt,SignalStartEventNonInterrupting:mbt,TimerStartEventNonInterrupting:gbt,CancelBoundaryEvent:$Ee,CompensateBoundaryEvent:NEe,ConditionalBoundaryEvent:FEe,ErrorBoundaryEvent:BEe,EscalationBoundaryEvent:jEe,LinkBoundaryEvent:VEe,MessageBoundaryEvent:zEe,MultipleBoundaryEvent:HEe,BoundaryEvent:ewe,ConditionalBoundaryEventNonInterrupting:UEe,EscalationBoundaryEventNonInterrupting:qEe,MessageBoundaryEventNonInterrupting:WEe,MultipleBoundaryEventNonInterrupting:GEe,ParallelBoundaryEventNonInterrupting:QEe,SignalBoundaryEventNonInterrupting:YEe,TimerBoundaryEventNonInterrupting:XEe,ParallelMultipleBoundaryEvent:KEe,SignalBoundaryEvent:ZEe,TimerBoundaryEvent:JEe,StartEvent:vbt,ParallelMultipleStartEvent:ybt,SignalStartEvent:bbt,TimerStartEvent:xbt,CollapsedSubProcess:twe,CollapsedAdHocSubProcess:twe,ExpandedSubProcess:nwe,ExpandedAdHocSubProcess:nwe,Task:Ebt,TextAnnotation:wbt,Transaction:_bt,UserTask:Cbt};function rwe(t){let{type:e}=t,n=Lwe(e),i=Tbt(t);return i?(n=`${kbt(i)}${n}`,(M(t,"bpmn:StartEvent")&&!Q8(t)||M(t,"bpmn:BoundaryEvent")&&!Dbt(t))&&(n=`${n}NonInterrupting`),n):(M(t,"bpmn:SubProcess")&&!M(t,"bpmn:Transaction")&&(bi(t)?n=`Event${n}`:n=`${bt(t)&&!Mbt(t)?"Expanded":"Collapsed"}${n}`),Pbt(t)&&(n="DefaultFlow"),Ibt(t)&&(n="ConditionalFlow"),n)}var Obt=t=>(t||(t=e=>e),{getDocumentationRef:e=>{let n=iwe();if(n)return Abt(e,n)},getElementLabel:e=>M(e,"bpmn:Process")?K(e).name:xi(e),getElementIcon:e=>{let n=rwe(e),i=A("config.elementTemplateIconRenderer",!1),{iconProperty:a="zeebe:modelerTemplateIcon"}=i||{},c=K(e).get(a);return c?()=>z("img",{class:"bio-properties-panel-header-template-icon",width:"32",height:"32",src:c}):Sbt[n]},getTypeLabel:e=>{let n=iwe();if(n){let a=$we(e,n);if(a&&a.name)return t(a.name)}let i=rwe(e);return t(i.replace(/(\B[A-Z])/g," $1").replace(/(\bNon Interrupting)/g,"($1)"))}});function Dbt(t){let e=K(t);return e&&e.cancelActivity!==!1}function Tbt(t){let e=K(t),n=e.eventDefinitions;return n&&n[0]}function Lwe(t){return t.split(":")[1]}function kbt(t){return Lwe(t.$type).replace("EventDefinition","")}function Pbt(t){let e=K(t),n=K(t.source);return!M(t,"bpmn:SequenceFlow")||!n?!1:n.default&&n.default===e&&(M(n,"bpmn:Gateway")||M(n,"bpmn:Activity"))}function Ibt(t){let e=K(t),n=K(t.source);return!M(t,"bpmn:SequenceFlow")||!n?!1:e.conditionExpression&&M(n,"bpmn:Activity")}function Mbt(t){let e=t&&(t.di||K(t).di);return M(e,"bpmndi:BPMNPlane")}function iwe(){return A("elementTemplates",!1)}function $we(t,e){return e.get(t)}function Abt(t,e){let n=$we(t,e);return n&&n.documentationRef}function SW(){return SW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},SW.apply(null,arguments)}var Rbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",SW({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"64",height:"64"},e),ye.createElement("defs",null,ye.createElement("rect",{id:"a",width:"57",height:"47",x:"3",y:"8",rx:"7"}),ye.createElement("mask",{id:"b",width:"57",height:"47",x:"0",y:"0",fill:"#fff",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox"},ye.createElement("use",{xlinkHref:"#a"}))),ye.createElement("g",{fill:"none",fillRule:"evenodd"},ye.createElement("path",{fill:"#818798",d:"M52 11a5 5 0 015 5v31a5 5 0 01-5 5H11a5 5 0 01-5-5V16a5 5 0 015-5h41zm0 2H11a3 3 0 00-2.995 2.824L8 16v31a3 3 0 002.824 2.995L11 50h41a3 3 0 002.995-2.824L55 47V16a3 3 0 00-2.824-2.995L52 13z"}),ye.createElement("path",{fill:"#D5D7DD",d:"M16 24h31v6H16zM21 33h21v6H21z"}),ye.createElement("use",{stroke:"#B9BCC6",strokeDasharray:"5 2",strokeWidth:"2",mask:"url(#b)",xlinkHref:"#a"})))};function OW(){return OW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},OW.apply(null,arguments)}var Lbt=n=>{var i=n,{styles:t={}}=i,e=Ae(i,["styles"]);return ye.createElement("svg",OW({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"128",height:"64"},e),ye.createElement("defs",null,ye.createElement("path",{id:"a",d:"M9 9h110v47H9z"}),ye.createElement("mask",{id:"b",width:"110",height:"47",x:"0",y:"0",fill:"#fff",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox"},ye.createElement("use",{xlinkHref:"#a"}))),ye.createElement("g",{fill:"none",fillRule:"evenodd"},ye.createElement("path",{fill:"#818798",d:"M25 20.272L37.728 33 25 45.728 12.272 33 25 20.272zm0 2.829L15.1 33l9.9 9.9 9.9-9.9-9.9-9.9z"}),ye.createElement("path",{fill:"#D5D7DD",d:"M17 47h16v6H17z"}),ye.createElement("path",{fill:"#818798",d:"M35 32h27v2H35z"}),ye.createElement("path",{fill:"#818798",d:"M60 30v6l6-3z"}),ye.createElement("path",{fill:"#D5D7DD",d:"M80 34h21v6H80z"}),ye.createElement("g",null,ye.createElement("path",{fill:"#818798",d:"M111 12a5 5 0 015 5v31a5 5 0 01-5 5H70a5 5 0 01-5-5V17a5 5 0 015-5h41zm0 2H70a3 3 0 00-3 3v31a3 3 0 003 3h41a3 3 0 003-3V17a3 3 0 00-3-3z"}),ye.createElement("path",{fill:"#D5D7DD",d:"M75 25h31v6H75z"})),ye.createElement("use",{stroke:"#B9BCC6",strokeDasharray:"5 2",strokeWidth:"2",mask:"url(#b)",xlinkHref:"#a"})))},$bt=t=>(t||(t=e=>e),{getEmpty:()=>({text:t("Select an element to edit its properties."),icon:Rbt}),getMultiple:()=>({text:t("Multiple elements are selected. Select a single element to edit its properties."),icon:Lbt})});function Nbt(t){let{element:e,injector:n,getProviders:i,layoutConfig:a,descriptionConfig:c,tooltipConfig:d,feelPopupContainer:h}=t,m=n.get("canvas"),g=n.get("elementRegistry"),b=n.get("eventBus"),E=n.get("translate"),[_,S]=Tt({selectedElement:e}),D=_.selectedElement,k=ee=>{if(!ee)return;let oe=ee;oe&&oe.type==="label"&&(oe=oe.labelTarget),S(Me(se({},_),{selectedElement:oe})),b.fire("propertiesPanel.updated",{element:oe})};at(()=>{let ee=oe=>{let{newSelection:pe=[]}=oe;if(pe.length>1)return k(pe);let ge=pe[0],ce=m.getRootElement();Fbt(ce)||k(ge||ce)};return b.on("selection.changed",ee),()=>{b.off("selection.changed",ee)}},[]),at(()=>{let ee=oe=>{let pe=oe.elements,ge=Bbt(pe,D);ge&&jbt(ge,g)&&k(ge)};return b.on("elements.changed",ee),()=>{b.off("elements.changed",ee)}},[D]),at(()=>{let ee=oe=>{let pe=oe.element;k(pe)};return b.on("root.added",ee),()=>{b.off("root.added",ee)}},[D]),at(()=>{let ee=()=>{k(D)};return b.on("propertiesPanel.providersChanged",ee),()=>{b.off("propertiesPanel.providersChanged",ee)}},[D]),at(()=>{let ee=()=>{k(D)};return b.on("elementTemplates.changed",ee),()=>{b.off("elementTemplates.changed",ee)}},[D]);let I={selectedElement:D,injector:n,getService(ee,oe){return n.get(ee,oe)}},R=i(D),$=wi(()=>dr(R,function(ee,oe){return Ue(D)?[]:oe.getGroups(D)(ee)},[]),[R,D]),[F,L]=Tt(a||{}),V=Or(ee=>{b.fire("propertiesPanel.layoutChanged",{layout:ee})},[b]);at(()=>{let ee=oe=>{let{layout:pe}=oe;L(pe)};return b.on("propertiesPanel.setLayout",ee),()=>b.off("propertiesPanel.setLayout",ee)},[b,L]);let G=ee=>{b.fire("propertiesPanel.descriptionLoaded",{description:ee})},re=ee=>{b.fire("propertiesPanel.tooltipLoaded",{tooltip:ee})};return z(Rwe.Provider,{value:I,children:z(M4,{element:D,headerProvider:Obt(E),placeholderProvider:$bt(E),groups:$,layoutConfig:F,layoutChanged:V,descriptionConfig:c,descriptionLoaded:G,tooltipConfig:d,tooltipLoaded:re,feelPopupContainer:h,eventBus:b})})}function Fbt(t){return t&&(t.isImplicit||t.id==="__implicitroot")}function Bbt(t,e){return st(t,n=>n===e)}function jbt(t,e){return t&&e.get(t.id)}var Vbt=1e3,zbt=(()=>{class t{constructor(n,i,a){let{parent:c,layout:d,description:h,tooltip:m,feelPopupContainer:g}=n||{};this._eventBus=a,this._injector=i,this._layoutConfig=d,this._descriptionConfig=h,this._tooltipConfig=m,this._feelPopupContainer=g,this._container=jt('<div style="height: 100%" class="bio-properties-panel-container"></div>');var b=i.get("commandStack",!1);b&&Ubt(this._container,a,b),a.on("diagram.init",()=>{c&&this.attachTo(c)}),a.on("diagram.destroy",()=>{this.detach()}),a.on("root.added",E=>{let{element:_}=E;this._render(_)})}attachTo(n){if(!n)throw new Error("container required");n.get&&n.constructor.prototype.jquery&&(n=n.get(0)),typeof n=="string"&&(n=Et(n)),this.detach(),n.appendChild(this._container),this._eventBus.fire("propertiesPanel.attach")}detach(){let n=this._container.parentNode;n&&(n.removeChild(this._container),this._eventBus.fire("propertiesPanel.detach"))}registerProvider(n,i){if(i||(i=n,n=Vbt),typeof i.getGroups!="function"){console.error("Properties provider does not implement #getGroups(element) API");return}this._eventBus.on("propertiesPanel.getProviders",n,function(a){a.providers.push(i)}),this._eventBus.fire("propertiesPanel.providersChanged")}setLayout(n){this._eventBus.fire("propertiesPanel.setLayout",{layout:n})}_getProviders(){let n=this._eventBus.createEvent({type:"propertiesPanel.getProviders",providers:[]});return this._eventBus.fire(n),n.providers}_render(n){let i=this._injector.get("canvas");n||(n=i.getRootElement()),!Hbt(n)&&(oc(z(Nbt,{element:n,injector:this._injector,getProviders:this._getProviders.bind(this),layoutConfig:this._layoutConfig,descriptionConfig:this._descriptionConfig,tooltipConfig:this._tooltipConfig,feelPopupContainer:this._feelPopupContainer}),this._container),this._eventBus.fire("propertiesPanel.rendered"))}_destroy(){this._container&&(oc(null,this._container),this._eventBus.fire("propertiesPanel.destroyed"))}}return t.$inject=["config.propertiesPanel","injector","eventBus"],t})();function Hbt(t){return t&&(t.isImplicit||t.id==="__implicitroot")}function Ubt(t,e,n){function i(c){c.preventDefault(),c.stopPropagation()}function a(c){if(f7(c))return n.undo(),i(c);if(h7(c))return n.redo(),i(c)}e.on("keyboard.bind",function(){nt.bind(t,"keydown",a)}),e.on("keyboard.unbind",function(){nt.unbind(t,"keydown",a)})}var qbt=(()=>{class t{constructor(n){this._commandStack=n}preExecute(n){let i=this._commandStack;J(n,function(a){i.execute(a.cmd,a.context)})}}return t.$inject=["commandStack"],t})(),Wbt={"properties-panel.multi-command-executor":qbt};function Nwe(t,e){t.on("diagram.init",function(){J(Wbt,function(n,i){e.registerHandler(i,n)})})}Nwe.$inject=["eventBus","commandStack"];var Gbt={__init__:[Nwe]},IW={__depends__:[Gbt,A4,R4],__init__:["propertiesPanel"],propertiesPanel:["type",zbt]};function Xb(t){let{autoFocusEntry:e,element:n,getOptions:i}=t,a=i(n),c=N1(a);return at(()=>{if(e&&c&&a.length>c.length){let d=Et(`[data-entry-id="${e}"]`),h=Et(".bio-properties-panel-input",d);h&&h.select()}},[a]),z(sr,se({},t))}function Fwe(t){return He(t,["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:EndEvent"])&&!!Kb(t)}function Kb(t){return Hd(t,"bpmn:ErrorEventDefinition")}function Bwe(t){return Hd(t,"bpmn:TimerEventDefinition")}function U0(t){let e=Kb(t);return e&&e.get("errorRef")}function Hd(t,e){let i=K(t).get("eventDefinitions")||[];return st(i,function(a){return M(a,e)})}function Qbt(t){return M(t,"bpmn:ReceiveTask")||He(t,["bpmn:StartEvent","bpmn:EndEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"])&&!!j1(t)}function j1(t){return M(t,"bpmn:ReceiveTask")?K(t):Hd(t,"bpmn:MessageEventDefinition")}function V1(t){let e=j1(t);return e&&e.get("messageRef")}function jwe(t){return Hd(t,"bpmn:LinkEventDefinition")}function pu(t){return Hd(t,"bpmn:SignalEventDefinition")}function Ybt(t){return He(t,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!jwe(t)}function Xbt(t){return M(t,"bpmn:Event")&&!!pu(t)}function MW(t){let e=pu(t);return e&&e.get("signalRef")}function IP(t){return Hd(t,"bpmn:EscalationEventDefinition")}function Vwe(t){return M(t,"bpmn:Event")&&!!IP(t)}function Zb(t){let e=IP(t);return e&&e.get("escalationRef")}function Kbt(t){return He(t,["bpmn:EndEvent","bpmn:IntermediateThrowEvent"])&&!!G4(t)}function G4(t){return Hd(t,"bpmn:CompensateEventDefinition")}function Zbt(t){let e=G4(t);return e&&e.get("activityRef")}function Jbt(t){let{element:e}=t;return Kbt(e)?[{id:"waitForCompletion",component:e3t,isEdited:gl},{id:"activityRef",component:t3t,isEdited:pr}]:[]}function e3t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=G4(e),c=()=>a.get("waitForCompletion"),d=h=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:a,properties:{waitForCompletion:h}})};return as({element:e,id:"waitForCompletion",label:i("Wait for completion"),getValue:c,setValue:d})}function t3t(t){let{element:e}=t,n=A("commandStack"),i=A("elementRegistry"),a=A("translate"),c=G4(e),d=()=>{let g=Zbt(e);return g&&g.get("id")},h=g=>{let b=g?K(i.get(g)):void 0;n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{activityRef:b}})},m=()=>{let g=[{value:"",label:a("<none>")}],b=s3t(e);return l3t(b).forEach(function(E){g.push({value:E.id,label:a3t(E)})}),g};return Xb({element:e,id:"activityRef",label:a("Activity reference"),getValue:d,setValue:h,getOptions:m})}function zwe(t,e){let{flowElements:n}=t;return n.filter(function(i){return M(i,e)})}function n3t(t){return zwe(t,"bpmn:Activity")}function r3t(t){return zwe(t,"bpmn:BoundaryEvent")}function i3t(t,e){let{id:n}=t;return!!st(e,function(i){let{attachedToRef:a}=i,c=G4(i);return a&&c&&a.id===n})}function o3t(t,e){return M(t,"bpmn:CallActivity")||M(t,"bpmn:SubProcess")&&!t.triggeredByEvent&&!t.isForCompensation||i3t(t,e)}function owe(t){let e=n3t(t),n=r3t(t);return e.filter(function(i){return o3t(i,n)})}function s3t(t){let n=K(t).$parent,i=owe(n);return M(n,"bpmn:SubProcess")&&n.triggeredByEvent&&(n=n.$parent,n&&(i=[...i,...owe(n)])),i}function a3t(t){let{id:e,name:n}=t;return`${n?n+" ":""}(id=${e})`}function l3t(t){return fr(t,e=>(e.name||"").toLowerCase())}var swe="text/plain";function c3t(t){let{element:e}=t,n=[{id:"documentation",component:u3t,isEdited:Ra}];return f3t(e)&&n.push({id:"processDocumentation",component:d3t,isEdited:Ra}),n}function u3t(t){let{element:e}=t,n=A("bpmnFactory"),i=A("commandStack"),a=A("translate"),c=A("debounceInput"),d=Uwe(K(e)),h=qwe(e,K(e),n,i);return Ts({element:e,id:"documentation",label:a("Element documentation"),getValue:d,setValue:h,debounce:c})}function d3t(t){let{element:e}=t,n=A("bpmnFactory"),i=A("commandStack"),a=A("translate"),c=A("debounceInput"),d=K(e).processRef,h=Uwe(d),m=qwe(e,d,n,i);return Ts({element:e,id:"processDocumentation",label:a("Process documentation"),getValue:h,setValue:m,debounce:c})}function f3t(t){return M(t,"bpmn:Participant")&&t.businessObject.get("processRef")}function Hwe(t){return t.find(function(e){return(e.textFormat||swe)===swe})}function Uwe(t){return function(){let e=Hwe(t&&t.get("documentation"));return e&&e.text}}function qwe(t,e,n,i){return function(a){let c=Hwe(e&&e.get("documentation"));if(c)return a?i.execute("element.updateModdleProperties",{element:t,moddleElement:c,properties:{text:a}}):i.execute("element.updateModdleProperties",{element:t,moddleElement:e,properties:{documentation:or(e.get("documentation"),c)}});if(a)return c=n.create("bpmn:Documentation",{text:a}),i.execute("element.updateModdleProperties",{element:t,moddleElement:e,properties:{documentation:[...e.get("documentation"),c]}})}}function Fe(t,e,n,i){let a=i.create(t,e);return n&&(a.$parent=n),a}function uh(t){return new t2([32,32,1]).nextPrefixed(t)}function Jb(t){let e=t;for(;e.$parent;)e=e.$parent;return e}function h3t(t,e){return(t||[]).filter(i=>M(i,e))}function e3(t,e){let n=Jb(t);return h3t(n.get("rootElements"),e)}function Q4(t,e,n){return e3(t,e).find(a=>a.id===n)}var awe="",lwe="create-new";function p3t(t){let{element:e}=t;if(!Fwe(e))return[];let n=U0(e),i=[{id:"errorRef",component:m3t,isEdited:pr}];return n&&(i=[...i,{id:"errorName",component:g3t,isEdited:Ve},{id:"errorCode",component:v3t,isEdited:Ve}]),i}function m3t(t){let{element:e}=t,n=A("bpmnFactory"),i=A("commandStack"),a=A("translate"),c=Kb(e),d=()=>{let g=U0(e);return g?g.get("id"):awe},h=g=>{let b=Jb(c),E=[],_;return g===lwe&&(_=Fe("bpmn:Error",{name:uh("Error_")},b,n),g=_.get("id"),E.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:b,properties:{rootElements:[...b.get("rootElements"),_]}}})),_=_||Q4(c,"bpmn:Error",g),E.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:c,properties:{errorRef:_}}}),i.execute("properties-panel.multi-command-executor",E)},m=()=>{let g=[{value:awe,label:a("<none>")},{value:lwe,label:a("Create new ...")}],b=e3(K(e),"bpmn:Error");return y3t(b).forEach(E=>{g.push({value:E.get("id"),label:E.get("name")})}),g};return Xb({element:e,id:"errorRef",label:a("Global error reference"),autoFocusEntry:"errorName",getValue:d,setValue:h,getOptions:m})}function g3t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=U0(e),d=()=>c.get("name"),h=m=>n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{name:m}});return Le({element:e,id:"errorName",label:i("Name"),getValue:d,setValue:h,debounce:a})}function v3t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=U0(e),d=()=>c.get("errorCode"),h=m=>n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{errorCode:m}});return Le({element:e,id:"errorCode",label:i("Code"),getValue:d,setValue:h,debounce:a})}function y3t(t){return fr(t,e=>(e.name||"").toLowerCase())}var cwe="create-new";function b3t(t){let{element:e}=t;if(!Vwe(e))return[];let n=Zb(e),i=[{id:"escalationRef",component:x3t,isEdited:pr}];return n&&(i=[...i,{id:"escalationName",component:E3t,isEdited:Ve},{id:"escalationCode",component:w3t,isEdited:Ve}]),i}function x3t(t){let{element:e}=t,n=A("bpmnFactory"),i=A("commandStack"),a=A("translate"),c=IP(e),d=()=>{let g=Zb(e);return g&&g.get("id")},h=g=>{let b=Jb(c),E=[],_;if(g===cwe){let S=uh("Escalation_");_=Fe("bpmn:Escalation",{id:S,name:S},b,n),g=_.get("id"),E.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:b,properties:{rootElements:[...b.get("rootElements"),_]}}})}return _=_||Q4(c,"bpmn:Escalation",g),E.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:c,properties:{escalationRef:_}}}),i.execute("properties-panel.multi-command-executor",E)},m=()=>{let g=[{value:"",label:a("<none>")},{value:cwe,label:a("Create new ...")}],b=e3(K(e),"bpmn:Escalation");return _3t(b).forEach(E=>{g.push({value:E.get("id"),label:E.get("name")})}),g};return Xb({element:e,id:"escalationRef",label:a("Global escalation reference"),autoFocusEntry:"escalationName",getValue:d,setValue:h,getOptions:m})}function E3t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=Zb(e),d=()=>c.get("name"),h=m=>n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{name:m}});return Le({element:e,id:"escalationName",label:i("Name"),getValue:d,setValue:h,debounce:a})}function w3t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=Zb(e),d=()=>c.get("escalationCode"),h=m=>n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{escalationCode:m}});return Le({element:e,id:"escalationCode",label:i("Code"),getValue:d,setValue:h,debounce:a})}function _3t(t){return fr(t,e=>(e.name||"").toLowerCase())}function C3t(t){let{element:e}=t;return!M(e,"bpmn:Process")&&!O3t(e)?[]:[{id:"isExecutable",component:S3t,isEdited:gl}]}function S3t(t){let{element:e}=t,n=A("modeling"),i=A("commandStack"),a=A("translate"),c,d;if(d=h=>{n.updateProperties(e,{isExecutable:h})},c=h=>h.businessObject.isExecutable,M(e,"bpmn:Participant")){let h=e.businessObject.get("processRef");d=m=>{i.execute("element.updateModdleProperties",{element:e,moddleElement:h,properties:{isExecutable:m}})},c=()=>h.get("isExecutable")}return as({element:e,id:"isExecutable",label:a("Executable"),getValue:c,setValue:d})}function O3t(t){return M(t,"bpmn:Participant")&&t.businessObject.get("processRef")}var D3t=/\s/,T3t=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,k3t=/^[a-z_][\w-.]*$/i;function MP(t,e,n){let i=t.$model.ids.assigned(e),a=i&&i!==t;return e?a?n("ID must be unique."):P3t(e,n):n("ID must not be empty.")}function P3t(t,e){if(I3t(t))return e("ID must not contain spaces.");if(!k3t.test(t))return T3t.test(t)?e("ID must not contain prefix."):e("ID must be a valid QName.")}function I3t(t){return D3t.test(t)}function M3t(){return[{id:"id",component:A3t,isEdited:Ve}]}function A3t(t){let{element:e}=t,n=A("modeling"),i=A("debounceInput"),a=A("translate"),c=(m,g)=>{g||n.updateProperties(e,{id:m})},d=Or(m=>K(m).id,[e]),h=Or(m=>{let g=K(e);return MP(g,m,a)},[e,a]);return Le({element:e,id:"id",label:a(M(e,"bpmn:Participant")?"Participant ID":"ID"),getValue:d,setValue:c,debounce:i,validate:h})}function R3t(t){let{element:e}=t;return Ybt(e)?[{id:"linkName",component:L3t,isEdited:Ve}]:[]}function L3t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=jwe(e),d=()=>c.get("name"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{name:m}})};return Le({element:e,id:"linkName",label:i("Name"),getValue:d,setValue:h,debounce:a})}var uwe="",dwe="create-new";function $3t(t){let{element:e}=t;if(!Qbt(e))return[];let n=V1(e),i=[{id:"messageRef",component:N3t,isEdited:pr}];return n&&(i=[...i,{id:"messageName",component:F3t,isEdited:Ve}]),i}function N3t(t){let{element:e}=t,n=A("bpmnFactory"),i=A("commandStack"),a=A("translate"),c=j1(e),d=()=>{let g=V1(e);return g?g.get("id"):uwe},h=g=>{let b=Jb(c),E=[],_;if(g===dwe){let S=uh("Message_");_=Fe("bpmn:Message",{id:S,name:S},b,n),g=_.get("id"),E.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:b,properties:{rootElements:[...b.get("rootElements"),_]}}})}return _=_||Q4(c,"bpmn:Message",g),E.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:c,properties:{messageRef:_}}}),i.execute("properties-panel.multi-command-executor",E)},m=()=>{let g=[{value:uwe,label:a("<none>")},{value:dwe,label:a("Create new ...")}],b=e3(K(e),"bpmn:Message");return B3t(b).forEach(E=>{g.push({value:E.get("id"),label:E.get("name")})}),g};return Xb({element:e,id:"messageRef",label:a("Global message reference"),autoFocusEntry:"messageName",getValue:d,setValue:h,getOptions:m})}function F3t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=V1(e),d=()=>c.get("name"),h=m=>n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{name:m}});return Le({element:e,id:"messageName",label:i("Name"),getValue:d,setValue:h,debounce:a})}function B3t(t){return fr(t,e=>(e.name||"").toLowerCase())}function j3t(t){let{element:e}=t;return H3t(e)?[{id:"loopCardinality",component:V3t,isEdited:Ve},{id:"completionCondition",component:z3t,isEdited:Ve}]:[]}function V3t(t){let{element:e}=t,n=A("bpmnFactory"),i=A("debounceInput"),a=A("commandStack"),c=A("translate"),d=()=>W3t(e),h=m=>a.execute("element.updateModdleProperties",Qwe(e,"loopCardinality",m,n));return Le({element:e,id:"loopCardinality",label:c("Loop cardinality"),getValue:d,setValue:h,debounce:i})}function z3t(t){let{element:e}=t,n=A("bpmnFactory"),i=A("debounceInput"),a=A("commandStack"),c=A("translate"),d=()=>Q3t(e),h=m=>a.execute("element.updateModdleProperties",Qwe(e,"completionCondition",m,n));return Le({element:e,id:"completionCondition",label:c("Completion condition"),getValue:d,setValue:h,debounce:i})}function H3t(t){let e=AW(t);return!!e&&M(e,"bpmn:MultiInstanceLoopCharacteristics")}function Wwe(t){return t&&t.get("body")}function Gwe(t,e){let n=AW(t);return n&&n.get(e)}function AW(t){return K(t).loopCharacteristics}function U3t(t,e,n){return Fe("bpmn:FormalExpression",{body:e},t,n)}function Qwe(t,e,n,i){let a=AW(t),c={};if(!n)return c[e]=void 0,{element:t,moddleElement:a,properties:c};let d=a.get(e);return d?{element:t,moddleElement:d,properties:{body:n}}:(c[e]=U3t(a,n,i),{element:t,moddleElement:a,properties:c})}function q3t(t){return Gwe(t,"loopCardinality")}function W3t(t){let e=q3t(t);return Wwe(e)}function G3t(t){return Gwe(t,"completionCondition")}function Q3t(t){let e=G3t(t);return Wwe(e)}function Y3t(t){let{element:e}=t;return He(e,["bpmn:Collaboration","bpmn:DataAssociation","bpmn:Association"])?[]:[{id:"name",component:X3t,isEdited:Ra}]}function X3t(t){let{element:e}=t,n=A("modeling"),i=A("debounceInput"),a=A("canvas"),c=A("bpmnFactory"),d=A("translate"),h={element:e,id:"name",label:d("Name"),debounce:i,setValue:m=>{n.updateProperties(e,{name:m})},getValue:m=>m.businessObject.name,autoResize:!0};return M(e,"bpmn:TextAnnotation")?h=Me(se({},h),{setValue:m=>{n.updateProperties(e,{text:m})},getValue:m=>m.businessObject.text}):M(e,"bpmn:Group")?h=Me(se({},h),{setValue:m=>{let g=K(e);g.categoryValueRef||K3t(g,a.getRootElement(),c),n.updateLabel(e,m)},getValue:m=>{let g=K(m),b=g.categoryValueRef;return b&&b.value}}):M(e,"bpmn:Participant")&&(h.label=d("Participant Name")),Ts(h)}function K3t(t,e,n){let i=K(e).$parent,a=Z3t(i,n);t.categoryValueRef=a}function Z3t(t,e){let n=e.create("bpmn:CategoryValue"),i=e.create("bpmn:Category",{categoryValue:[n]});return Dn(t.get("rootElements"),i),K(i).$parent=t,K(n).$parent=i,n}function J3t(t){let{element:e}=t;return nxt(e)?[{id:"processId",component:txt,isEdited:Ve},{id:"processName",component:ext,isEdited:Ve}]:[]}function ext(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=e.businessObject.get("processRef"),d=()=>c.get("name"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{name:m}})};return Le({element:e,id:"processName",label:i("Process name"),getValue:d,setValue:h,debounce:a})}function txt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=e.businessObject.get("processRef"),d=()=>c.get("id"),h=(g,b)=>{b||n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{id:g}})},m=Or(g=>MP(c,g,i),[c,i]);return Le({element:e,id:"processId",label:i("Process ID"),getValue:d,setValue:h,debounce:a,validate:m})}function nxt(t){return M(t,"bpmn:Participant")&&t.businessObject.get("processRef")}var fwe="",hwe="create-new";function rxt(t){let{element:e}=t;if(!Xbt(e))return[];let n=MW(e),i=[{id:"signalRef",component:ixt,isEdited:pr}];return n&&(i=[...i,{id:"signalName",component:oxt,isEdited:Ve}]),i}function ixt(t){let{element:e}=t,n=A("bpmnFactory"),i=A("commandStack"),a=A("translate"),c=pu(e),d=()=>{let g=MW(e);return g?g.get("id"):fwe},h=g=>{let b=Jb(c),E=[],_;if(g===hwe){let S=uh("Signal_");_=Fe("bpmn:Signal",{id:S,name:S},b,n),g=_.get("id"),E.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:b,properties:{rootElements:[...b.get("rootElements"),_]}}})}return _=_||Q4(c,"bpmn:Signal",g),E.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:c,properties:{signalRef:_}}}),i.execute("properties-panel.multi-command-executor",E)},m=()=>{let g=[{value:fwe,label:a("<none>")},{value:hwe,label:a("Create new ...")}],b=e3(K(e),"bpmn:Signal");return sxt(b).forEach(E=>{g.push({value:E.get("id"),label:E.get("name")})}),g};return Xb({element:e,id:"signalRef",label:a("Global signal reference"),autoFocusEntry:"signalName",getValue:d,setValue:h,getOptions:m})}function oxt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=MW(e),d=()=>c.get("name"),h=m=>n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{name:m}});return Le({element:e,id:"signalName",label:i("Name"),getValue:d,setValue:h,debounce:a})}function sxt(t){return fr(t,e=>(e.name||"").toLowerCase())}function axt(t){return RP(t,"bpmn:ErrorEventDefinition")}function RW(t){return He(t,["bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:BoundaryEvent"])&&!!z1(t)}function AP(t){if(!t)return;if(typeof t.get("timeDate")<"u")return"timeDate";if(typeof t.get("timeCycle")<"u")return"timeCycle";if(typeof t.get("timeDuration")<"u")return"timeDuration"}function z1(t){return RP(t,"bpmn:TimerEventDefinition")}function RP(t,e){let i=K(t).get("eventDefinitions")||[];return st(i,function(a){return M(a,e)})}function Ywe(t){return RP(t,"bpmn:SignalEventDefinition")}function lxt(t){return M(t,"bpmn:Event")&&!!Ywe(t)}function Xwe(t){let e=Ywe(t);return e&&e.get("signalRef")}function cxt(t){return RP(t,"bpmn:CompensateEventDefinition")}function uxt(t){let{element:e,idPrefix:n}=t,{timerEventDefinition:i}=t;if(!i){let d=K(e);i=z1(d)}let a=AP(i);if(!RW(e))return[];let c=[];return c.push({id:pwe(n,"timerEventDefinitionType"),component:dxt,isEdited:pr,timerEventDefinition:i,timerEventDefinitionType:a}),a&&c.push({id:pwe(n,"timerEventDefinitionValue"),component:fxt,isEdited:Ve,timerEventDefinition:i,timerEventDefinitionType:a}),c}function dxt(t){let{element:e,timerEventDefinition:n,timerEventDefinitionType:i}=t,a=A("commandStack"),c=A("bpmnFactory"),d=A("translate"),h=()=>i||"",m=b=>{if(b===i)return;let E=c.create("bpmn:FormalExpression",{body:void 0});E.$parent=n;let _={timeDuration:void 0,timeDate:void 0,timeCycle:void 0};b!==""&&(_[b]=E),a.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:_})},g=b=>[{value:"",label:d("<none>")},{value:"timeDate",label:d("Date")},{value:"timeDuration",label:d("Duration")},{value:"timeCycle",label:d("Cycle")}];return sr({element:e,id:"timerEventDefinitionType",label:d("Type"),getValue:h,setValue:m,getOptions:g})}function fxt(t){let{element:e,timerEventDefinition:n,timerEventDefinitionType:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=n.get(i),m=()=>h&&h.get("body"),g=b=>{a.execute("element.updateModdleProperties",{element:e,moddleElement:h,properties:{body:b}})};return Le({element:e,id:"timerEventDefinitionValue",label:c("Value"),getValue:m,setValue:g,debounce:d,tooltip:hxt(i,c)})}function hxt(t,e){switch(t){case"timeDate":return z("div",{children:[z("p",{children:e("A specific point in time defined as ISO 8601 combined date and time representation.")}),z("ul",{children:[z("li",{children:[z("code",{children:"2019-10-01T12:00:00Z"})," - ",e("UTC time")]}),z("li",{children:[z("code",{children:"2019-10-02T08:09:40+02:00"})," - ",e("UTC plus 2 hours zone offset")]})]}),z("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-date",target:"_blank",rel:"noopener",children:e("Documentation: Timer events")})]});case"timeCycle":return z("div",{children:[z("p",{children:e("A cycle defined as ISO 8601 repeating intervals format.")}),z("ul",{children:[z("li",{children:[z("code",{children:"R5/PT10S"})," - ",e("every 10 seconds, up to 5 times")]}),z("li",{children:[z("code",{children:"R/P1D"})," - ",e("every day, infinitely")]})]}),z("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-cycle",target:"_blank",rel:"noopener",children:e("Documentation: Timer events")})]});case"timeDuration":return z("div",{children:[z("p",{children:e("A time duration defined as ISO 8601 durations format.")}),z("ul",{children:[z("li",{children:[z("code",{children:"PT15S"})," - ",e("15 seconds")]}),z("li",{children:[z("code",{children:"PT1H30M"})," - ",e("1 hour and 30 minutes")]}),z("li",{children:[z("code",{children:"P14D"})," - ",e("14 days")]})]}),z("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-duration",target:"_blank",rel:"noopener",children:e("Documentation: Timer events")})]})}}function pwe(t,e){return t?t+e:e}function pxt(t,e){let n=e.get("translate"),i=[...Y3t({element:t}),...M3t(),...J3t({element:t}),...C3t({element:t})];return{id:"general",label:n("General"),entries:i,component:Ut}}function mxt(t,e){let i={label:e.get("translate")("Compensation"),id:"compensation",component:Ut,entries:[...Jbt({element:t})]};return i.entries.length?i:null}function gxt(t,e){let n=e.get("translate"),i=[...c3t({element:t})];return{id:"documentation",label:n("Documentation"),entries:i,component:Ut}}function vxt(t,e){let i={id:"error",label:e.get("translate")("Error"),component:Ut,entries:[...p3t({element:t})]};return i.entries.length?i:null}function yxt(t,e){let i={id:"message",label:e.get("translate")("Message"),component:Ut,entries:[...$3t({element:t})]};return i.entries.length?i:null}function bxt(t,e){let i={id:"signal",label:e.get("translate")("Signal"),component:Ut,entries:[...rxt({element:t})]};return i.entries.length?i:null}function xxt(t,e){let i={label:e.get("translate")("Link"),id:"link",component:Ut,entries:[...R3t({element:t})]};return i.entries.length?i:null}function Ext(t,e){let i={id:"escalation",label:e.get("translate")("Escalation"),component:Ut,entries:[...b3t({element:t})]};return i.entries.length?i:null}function wxt(t,e){let i={label:e.get("translate")("Timer"),id:"timer",component:Ut,entries:[...uxt({element:t})]};return i.entries.length?i:null}function _xt(t,e){let i={label:e.get("translate")("Multi-instance"),id:"multiInstance",component:Ut,entries:[...j3t({element:t})]};return i.entries.length?i:null}function Cxt(t,e){return[pxt(t,e),gxt(t,e),mxt(t,e),vxt(t,e),xxt(t,e),yxt(t,e),_xt(t,e),bxt(t,e),Ext(t,e),wxt(t,e)].filter(i=>i!==null)}var Sxt=(()=>{class t{constructor(n,i){n.registerProvider(this),this._injector=i}getGroups(n){return i=>(i=i.concat(Cxt(n,this._injector)),i)}}return t.$inject=["propertiesPanel","injector"],t})(),LW={__init__:["bpmnPropertiesProvider"],bpmnPropertiesProvider:["type",Sxt]};function Vt(t,e=void 0){let n=t.get("extensionElements");if(!n)return[];let i=n.get("values");return!i||!i.length?[]:e?i.filter(a=>M(a,e)):i}function dh(t,e,n,i,a){let c=[],d=e.get("extensionElements");d||(d=Fe("bpmn:ExtensionElements",{values:[]},e,i),c.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:e,properties:{extensionElements:d}}})),n.$parent=d,c.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:d,properties:{values:[...d.get("values"),n]}}}),a.execute("properties-panel.multi-command-executor",c)}function vc(t,e,n,i){Ue(n)||(n=[n]);let a=e.get("extensionElements"),c=a.get("values").filter(d=>!n.includes(d));i.execute("element.updateModdleProperties",{element:t,moddleElement:a,properties:{values:c}})}function $W(t,e){return n=>z(t,se(se({},n),e))}var Oxt={getVariablesForElement:t=>(0,Mwe.getVariablesForElement)(t)};function Dxt(t){return e=>{let{bpmnElement:n,element:i}=e,a=(n||i).businessObject,[c,d]=Tt([]),h=A("eventBus"),m=Txt("variableResolver",Oxt);return at(()=>{let g=()=>co(this,null,function*(){let E=yield m.getVariablesForElement(a,i);d(E.map(_=>Me(se({},_),{info:_.info||_.origin&&"Written in "+_.origin.map(S=>S.name||S.id).join(", ")})))}),b=()=>{g()};return h.on("commandStack.changed",b),b(),()=>{h.off("commandStack.changed",b)}},[a]),z(t,Me(se({},e),{variables:c}))}}function Txt(t,e){let n=A(t,!1);return n||e}function kxt(t){return e=>{let n=wi(()=>{let i=A("config");return i&&i.propertiesPanel&&i.propertiesPanel.feelTooltipContainer},[]);return z(t,Me(se({},e),{tooltipContainer:n}))}}var Pxt=kxt(j0),qr=Dxt(Pxt);function Ixt(t){let{element:e}=t;return M(e,"bpmn:UserTask")?[{id:"assignmentDefinitionAssignee",component:Mxt,isEdited:Zr},{id:"assignmentDefinitionCandidateGroups",component:Axt,isEdited:Zr},{id:"assignmentDefinitionCandidateUsers",component:Rxt,isEdited:Zr}]:[]}function Mxt(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=A("debounceInput"),d=()=>(Yb(e)||{}).assignee,h=m=>{let g=[],b=K(e),E=b.get("extensionElements");E||(E=Fe("bpmn:ExtensionElements",{values:[]},b,i),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:b,properties:{extensionElements:E}}}));let _=Yb(e);_||(_=Fe("zeebe:AssignmentDefinition",{},E,i),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{values:[...E.get("values"),_]}}})),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{assignee:m}}}),n.execute("properties-panel.multi-command-executor",g)};return qr({element:e,id:"assignmentDefinitionAssignee",label:a("Assignee"),feel:"optional",getValue:d,setValue:h,debounce:c})}function Axt(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=A("debounceInput"),d=()=>(Yb(e)||{}).candidateGroups,h=m=>{let g=[],b=K(e),E=b.get("extensionElements");E||(E=Fe("bpmn:ExtensionElements",{values:[]},b,i),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:b,properties:{extensionElements:E}}}));let _=Yb(e);_||(_=Fe("zeebe:AssignmentDefinition",{},E,i),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{values:[...E.get("values"),_]}}})),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{candidateGroups:m}}}),n.execute("properties-panel.multi-command-executor",g)};return qr({element:e,id:"assignmentDefinitionCandidateGroups",label:a("Candidate groups"),feel:"optional",getValue:d,setValue:h,debounce:c})}function Rxt(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=A("debounceInput"),d=()=>(Yb(e)||{}).candidateUsers,h=m=>{let g=[],b=K(e),E=b.get("extensionElements");E||(E=Fe("bpmn:ExtensionElements",{values:[]},b,i),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:b,properties:{extensionElements:E}}}));let _=Yb(e);_||(_=Fe("zeebe:AssignmentDefinition",{},E,i),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{values:[...E.get("values"),_]}}})),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{candidateUsers:m}}}),n.execute("properties-panel.multi-command-executor",g)};return qr({element:e,id:"assignmentDefinitionCandidateUsers",label:a("Candidate users"),feel:"optional",getValue:d,setValue:h,debounce:c})}function Yb(t){let e=K(t);return Vt(e,"zeebe:AssignmentDefinition")[0]}function NW(t){return M(t,"zeebe:ZeebeServiceTask")?M(t,"bpmn:EndEvent")||M(t,"bpmn:IntermediateThrowEvent")?!!j1(t):!(He(t,["bpmn:BusinessRuleTask","bpmn:ScriptTask"])&&!Nxt(t)):!1}function Lxt(t){return M(t,"bpmn:EndEvent")&&!!j1(t)}function $xt(t){return M(t,"bpmn:IntermediateThrowEvent")&&!!j1(t)}function Nxt(t){let e=K(t);return Vt(e,"zeebe:TaskDefinition")[0]}function Fxt(t){return M(t,"bpmn:UserTask")||NW(t)}function LP(t){let e=K(t);return Vt(e,"zeebe:TaskHeaders")[0]}function Bxt(t){let e=LP(t);return e?e.get("values"):[]}var NU="dmn",FU="jobWorker",mwe="";function jxt(t){let{element:e}=t;return M(e,"bpmn:BusinessRuleTask")?[{id:"businessRuleImplementation",component:Vxt,isEdited:()=>zxt(e)}]:[]}function Vxt(t){let{element:e,id:n}=t,i=A("commandStack"),a=A("bpmnFactory"),c=A("translate"),d=()=>H4(e)?NU:z4(e)?FU:mwe,h=g=>{let b,E;g===NU?(b=H4(e),E="zeebe:CalledDecision"):g===FU?(b=z4(e),E="zeebe:TaskDefinition"):Hxt(e,i),!b&&E&&(b=Fe(E,{},null,a),Uxt(e,b,a,i))},m=()=>[{value:mwe,label:c("<none>")},{value:NU,label:c("DMN decision")},{value:FU,label:c("Job worker")}];return sr({element:e,id:n,label:c("Implementation"),getValue:d,setValue:h,getOptions:m})}function z4(t){let e=K(t);return Vt(e,"zeebe:TaskDefinition")[0]}function H4(t){let e=K(t);return Vt(e,"zeebe:CalledDecision")[0]}function zxt(t){return z4(t)||H4(t)}function Hxt(t,e){let n=K(t),i=[z4(t),LP(t),H4(t)].filter(Boolean);vc(t,n,i,e)}function Uxt(t,e,n,i){let a=K(t),c=[],d=a.get("extensionElements"),h;d||(d=Fe("bpmn:ExtensionElements",{values:[]},a,n),c.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:a,properties:{extensionElements:d}}})),e.$parent=d,M(e,"zeebe:TaskDefinition")?h=or(d.get("values"),H4(t)):M(e,"zeebe:CalledDecision")&&(h=or(d.get("values"),z4(t))),c.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:d,properties:{values:[...h,e]}}}),i.execute("properties-panel.multi-command-executor",c)}function FW(t){let{element:e,type:n}=t,i=A("bpmnFactory"),a=A("commandStack"),c=A("translate"),d=()=>{let g=K(e),b=Vt(g,n)[0];return b?b.get("bindingType"):"latest"},h=g=>{let b=[],E=K(e),_=E.get("extensionElements");_||(_=Fe("bpmn:ExtensionElements",{values:[]},E,i),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{extensionElements:_}}}));let S=Vt(E,n)[0];S||(S=Fe(n,{},_,i),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{values:[..._.get("values"),S]}}})),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:S,properties:{bindingType:g}}}),a.execute("properties-panel.multi-command-executor",b)},m=()=>[{value:"latest",label:c("latest")},{value:"deployment",label:c("deployment")}];return z(sr,{element:e,id:"bindingType",label:c("Binding"),getValue:d,setValue:h,getOptions:m})}function qxt(t){let{element:e}=t;return!M(e,"bpmn:BusinessRuleTask")||!U4(e)?[]:[{id:"decisionId",component:Wxt,isEdited:Zr},{id:"bindingType",component:$W(FW,{type:"zeebe:CalledDecision"}),isEdited:pr},{id:"resultVariable",component:Gxt,isEdited:Ve}]}function Wxt(t){let{element:e,id:n}=t,i=A("commandStack"),a=A("bpmnFactory"),c=A("translate"),d=A("debounceInput"),h=()=>(U4(e)||{}).decisionId,m=g=>{let b=[],E=K(e),_=E.get("extensionElements");_||(_=Fe("bpmn:ExtensionElements",{values:[]},E,a),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{extensionElements:_}}}));let S=U4(e);S||(S=Fe("zeebe:CalledDecision",{},_,a),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{values:[..._.get("values"),S]}}})),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:S,properties:{decisionId:g}}}),i.execute("properties-panel.multi-command-executor",b)};return qr({element:e,id:n,label:c("Decision ID"),feel:"optional",getValue:h,setValue:m,debounce:d})}function Gxt(t){let{element:e,id:n}=t,i=A("commandStack"),a=A("bpmnFactory"),c=A("translate"),d=A("debounceInput"),h=()=>(U4(e)||{}).resultVariable,m=g=>{let b=[],E=K(e),_=E.get("extensionElements");_||(_=Fe("bpmn:ExtensionElements",{values:[]},E,a),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{extensionElements:_}}}));let S=U4(e);S||(S=Fe("zeebe:CalledDecision",{},_,a),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{values:[..._.get("values"),S]}}})),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:S,properties:{resultVariable:g}}}),i.execute("properties-panel.multi-command-executor",b)};return Le({element:e,id:n,label:c("Result variable"),getValue:h,setValue:m,debounce:d})}function U4(t){let e=K(t);return Vt(e,"zeebe:CalledDecision")[0]}function Qxt(t){let{element:e}=t;if(!M(e,"bpmn:SequenceFlow"))return[];let n=[];return Kxt(e.source)&&n.push({id:"conditionExpression",component:Yxt,isEdited:Zr}),n}function Yxt(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=A("debounceInput"),d=()=>Zxt(e),h=m=>{let g=[],b=K(e),E=e.source;E.businessObject.default===b&&g.push({cmd:"element.updateProperties",context:{element:E,properties:{default:void 0}}});let _=m&&m!=""?Fe("bpmn:FormalExpression",{body:m},b,i):void 0;g.push({cmd:"element.updateProperties",context:{element:e,properties:{conditionExpression:_}}}),n.execute("properties-panel.multi-command-executor",g)};return qr({element:e,id:"conditionExpression",label:a("Condition expression"),feel:"required",getValue:d,setValue:h,debounce:c})}var Xxt=["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"];function Kxt(t){return He(t,Xxt)}function Zxt(t){let n=K(t).conditionExpression;if(n)return n.get("body")}function Jxt(t){let{element:e}=t,n=U0(e),i=[];return n&&M(e,"bpmn:ThrowEvent")&&i.push({id:"errorCode",component:eEt,isEdited:Zr}),i}function eEt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=U0(e),d=()=>c.get("errorCode"),h=m=>n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{errorCode:m}});return qr({element:e,id:"errorCode",label:i("Code"),feel:"optional",getValue:d,setValue:h,debounce:a})}function tEt(t){let{element:e}=t;if(!M(e,"bpmn:ThrowEvent"))return[];let n=Zb(e),i=[];return n&&i.push({id:"escalationCode",component:nEt,isEdited:Zr}),i}function nEt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=Zb(e),d=()=>c.get("escalationCode"),h=m=>n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{escalationCode:m}});return qr({element:e,id:"escalationCode",label:i("Code"),feel:"optional",getValue:d,setValue:h,debounce:a})}var Kwe={start:"Start",end:"End"};function rEt(t){let{element:e,idPrefix:n,listener:i}=t,a=Zwe(e),c=a.length>1?[{id:n+"-eventType",component:iEt,idPrefix:n,listener:i,eventTypes:a}]:[];return c.push({id:n+"-listenerType",component:oEt,idPrefix:n,listener:i},{id:n+"-retries",component:sEt,idPrefix:n,listener:i}),c}function iEt(t){let{idPrefix:e,element:n,listener:i,eventTypes:a}=t,c=A("modeling"),d=A("translate"),h=()=>a.map(b=>({value:b,label:d(Kwe[b])})),m=b=>{c.updateModdleProperties(n,i,{eventType:b})},g=()=>i.get("eventType");return sr({element:n,id:e+"-eventType",label:d("Event type"),getValue:g,setValue:m,getOptions:h})}function oEt(t){let{idPrefix:e,element:n,listener:i}=t,a=A("modeling"),c=A("translate"),d=A("debounceInput"),h=g=>{a.updateModdleProperties(n,i,{type:g})},m=()=>i.get("type");return qr({element:n,id:e+"-listenerType",label:c("Listener type"),getValue:m,setValue:h,debounce:d,feel:"optional"})}function sEt(t){let{idPrefix:e,element:n,listener:i}=t,a=A("modeling"),c=A("translate"),d=A("debounceInput"),h=g=>{a.updateModdleProperties(n,i,{retries:g})},m=()=>i.get("retries");return qr({element:n,id:e+"-retries",label:c("Retries"),getValue:m,setValue:h,debounce:d,feel:"optional"})}function Zwe(t){return He(t,["bpmn:BoundaryEvent","bpmn:StartEvent"])?["end"]:M(t,"bpmn:EndEvent")&&axt(t)?["start"]:M(t,"bpmn:Gateway")?["start"]:["start","end"]}function aEt({element:t,injector:e}){let n=BW(t);if(!n)return;let i=e.get("moddle");if(!dEt(n,i))return;let a=uEt(n)||[],c=e.get("bpmnFactory"),d=e.get("commandStack"),h=e.get("modeling"),m=e.get("translate");return{items:a.map((b,E)=>{let _=t.id+"-executionListener-"+E,S=b.get("type")||"<no type>";return{id:_,label:m(`${Kwe[b.get("eventType")]}: {type}`,{type:S}),entries:rEt({idPrefix:_,element:t,listener:b}),autoFocusEntry:_+"-eventType",remove:lEt({modeling:h,element:t,listener:b})}}),add:cEt({bpmnFactory:c,commandStack:d,element:t})}}function lEt({modeling:t,element:e,listener:n}){return function(i){i.stopPropagation();let a=BW(e),c=jW(a);if(!c)return;let d=or(c.get("listeners"),n);t.updateModdleProperties(e,c,{listeners:d})}}function cEt({bpmnFactory:t,commandStack:e,element:n}){return function(i){i.stopPropagation();let a=[],c=BW(n),d=c.get("extensionElements");d||(d=Fe("bpmn:ExtensionElements",{values:[]},c,t),a.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:c,properties:{extensionElements:d}}}));let h=jW(c);h||(h=Fe("zeebe:ExecutionListeners",{listeners:[]},d,t),a.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:d,properties:{values:[...d.get("values"),h]}}}));let m=Fe("zeebe:ExecutionListener",hEt(n),h,t);a.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{listeners:[...h.get("listeners"),m]}}}),e.execute("properties-panel.multi-command-executor",a)}}function BW(t){let e=K(t);return M(t,"bpmn:Participant")?e.get("processRef"):e}function jW(t){let e=Vt(t,"zeebe:ExecutionListeners");return e&&e[0]}function uEt(t){let e=jW(t);return e&&e.get("listeners")}function dEt(t,e){let n=e.getTypeDescriptor("zeebe:ExecutionListeners");return!(!He(t,n.meta.allowedIn)||fEt(t))}function fEt(t){return M(t,"bpmn:BoundaryEvent")&&cxt(t)}function hEt(t){return{eventType:Zwe(t)[0]}}var pEt="camunda-forms:bpmn:",mEt="UserTaskForm_",No={CAMUNDA_FORM_EMBEDDED:"camunda-form-embedded",CAMUNDA_FORM_LINKED:"camunda-form-linked",CUSTOM_FORM:"custom-form",EXTERNAL_REFERENCE:"external-reference"};function q0(t){let e=K(t);return Vt(e,"zeebe:FormDefinition")[0]}function VW(t,e){e=e||e5e(t);let n=q0(t);if(!n)return;let i=n.get("formKey");return Vt(e,"zeebe:UserTaskForm").find(c=>Jwe(c.get("id"))===i)}function Jwe(t){return`${pEt}${t}`}function gEt(){return uh(mEt)}function e5e(t){let n=K(t);for(;n.$parent&&!M(n,"bpmn:Process");)n=n.$parent;return n}function t5e(t){let e=q0(t);if(!e)return;let n=e.get("formId"),i=e.get("formKey"),a=e.get("externalReference");if(In(n))return No.CAMUNDA_FORM_LINKED;if(In(a))return No.EXTERNAL_REFERENCE;if(In(i))return VW(t)?No.CAMUNDA_FORM_EMBEDDED:No.CUSTOM_FORM}function n5e(t){let e=K(t);return Vt(e,"zeebe:UserTask").length>0}var OP="none";function vEt(t){let{element:e}=t;if(!M(e,"bpmn:UserTask"))return[];let n=[{id:"formType",component:yEt,isEdited:a=>a.value!==OP}],i=t5e(e);return i===No.CAMUNDA_FORM_EMBEDDED?n.push({id:"formConfiguration",component:EEt,isEdited:Ra}):i===No.CAMUNDA_FORM_LINKED?n.push({id:"formId",component:wEt,isEdited:Ve}):i===No.CUSTOM_FORM?n.push({id:"customFormKey",component:_Et,isEdited:Ve}):i===No.EXTERNAL_REFERENCE&&n.push({id:"externalReference",component:CEt,isEdited:Zr}),i===No.CAMUNDA_FORM_LINKED&&n.push({id:"bindingType",component:$W(FW,{type:"zeebe:FormDefinition"}),isEdited:pr}),n}function yEt(t){let{element:e}=t,n=A("injector"),i=A("translate"),a=()=>t5e(e)||OP,c=h=>{bEt(n,e,h)},d=()=>xEt(i,e);return sr({element:e,id:"formType",label:i("Type"),getValue:a,setValue:c,getOptions:d})}function bEt(t,e,n){n===No.CAMUNDA_FORM_EMBEDDED?a5e(t,e,""):n===No.CAMUNDA_FORM_LINKED?i5e(t,e,""):n===No.CUSTOM_FORM?o5e(t,e,""):n===No.EXTERNAL_REFERENCE?s5e(t,e,""):OEt(t,e)}function xEt(t,e){return n5e(e)?[{value:OP,label:t("<none>")},{value:No.CAMUNDA_FORM_LINKED,label:t("Camunda Form")},{value:No.EXTERNAL_REFERENCE,label:t("External form reference")}]:[{value:OP,label:t("<none>")},{value:No.CAMUNDA_FORM_LINKED,label:t("Camunda Form (linked)")},{value:No.CAMUNDA_FORM_EMBEDDED,label:t("Camunda Form (embedded)")},{value:No.CUSTOM_FORM,label:t("Custom form key")}]}function EEt(t){let{element:e}=t,n=A("debounceInput"),i=A("injector"),a=A("translate"),c=()=>VW(e).get("body"),d=h=>{a5e(i,e,Hi(h)?"":h)};return Ts({element:e,id:"formConfiguration",label:a("Form JSON configuration"),rows:4,getValue:c,setValue:d,debounce:n})}function wEt(t){let{element:e}=t,n=A("debounceInput"),i=A("injector"),a=A("translate"),c=()=>q0(e).get("formId"),d=h=>{i5e(i,e,Hi(h)?"":h)};return Le({element:e,id:"formId",label:a("Form ID"),getValue:c,setValue:d,debounce:n})}function _Et(t){let{element:e}=t,n=A("debounceInput"),i=A("injector"),a=A("translate"),c=()=>q0(e).get("formKey"),d=h=>{o5e(i,e,Hi(h)?"":h)};return Le({element:e,id:"customFormKey",label:a("Custom form key"),getValue:c,setValue:d,debounce:n})}function CEt(t){let{element:e}=t,n=A("debounceInput"),i=A("injector"),a=A("translate"),c=()=>q0(e).get("externalReference"),d=h=>{s5e(i,e,Hi(h)?"":h)};return qr({element:e,id:"externalReference",label:a("External form reference"),feel:"optional",getValue:c,setValue:d,debounce:n})}function r5e(t,e,n){let i=n||K(e),a=i.get("extensionElements");if(a)return{commands:[],extensionElements:a};let c=t.get("bpmnFactory");return a=Fe("bpmn:ExtensionElements",{values:[]},i,c),{commands:[H0(e,i,{extensionElements:a})],extensionElements:a}}function $P(t,e){let n=q0(e);if(n)return{commands:[],formDefinition:n};let{extensionElements:i,commands:a}=r5e(t,e);return n=DEt(t,{},i),{commands:[...a,H0(e,i,{values:[...i.get("values"),n]})],formDefinition:n}}function SEt(t,e){let n=VW(e);if(n)return{commands:[],formDefinition:q0(e),userTaskForm:n};let i=e5e(e),{extensionElements:a,commands:c}=r5e(t,e,i),{formDefinition:d,commands:h}=$P(t,e),m=gEt();return n=TEt(t,{id:m},a),{commands:[...c,...h,H0(e,a,{values:[...a.get("values"),n]}),H0(e,d,{formKey:Jwe(m)})],formDefinition:d,userTaskForm:n}}function i5e(t,e,n){let{commands:i,formDefinition:a}=$P(t,e);t.get("commandStack").execute("properties-panel.multi-command-executor",[...i,H0(e,a,{formId:n})])}function o5e(t,e,n){let{commands:i,formDefinition:a}=$P(t,e);t.get("commandStack").execute("properties-panel.multi-command-executor",[...i,H0(e,a,{formKey:n})])}function s5e(t,e,n){let{commands:i,formDefinition:a}=$P(t,e);t.get("commandStack").execute("properties-panel.multi-command-executor",[...i,H0(e,a,{externalReference:n})])}function a5e(t,e,n){let{commands:i,userTaskForm:a}=SEt(t,e);t.get("commandStack").execute("properties-panel.multi-command-executor",[...i,H0(e,a,{body:n})])}function OEt(t,e){let n=q0(e),i=t.get("modeling");if(n){let a=K(e),c=a.get("extensionElements");i.updateModdleProperties(e,c,{values:or(c.get("values"),n)})}}function DEt(t,e,n){let i=t.get("bpmnFactory");return Fe("zeebe:FormDefinition",e,n,i)}function TEt(t,e,n){let i=t.get("bpmnFactory");return Fe("zeebe:UserTaskForm",e,n,i)}function H0(t,e,n){return{cmd:"element.updateModdleProperties",context:{element:t,moddleElement:e,properties:n}}}function kEt(t){let{idPrefix:e,header:n}=t;return[{id:e+"-key",component:PEt,header:n,idPrefix:e},{id:e+"-value",component:IEt,header:n,idPrefix:e}]}function PEt(t){let{idPrefix:e,element:n,header:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{key:g}})},m=g=>g.key;return Le({element:i,id:e+"-key",label:c("Key"),getValue:m,setValue:h,debounce:d})}function IEt(t){let{idPrefix:e,element:n,header:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{value:g}})},m=g=>g.value;return Ts({element:i,id:e+"-value",label:c("Value"),getValue:m,setValue:h,debounce:d,autoResize:!0})}function MEt({element:t,injector:e}){if(!Fxt(t))return null;let n=Bxt(t)||[],i=e.get("bpmnFactory"),a=e.get("commandStack");return{items:n.map((d,h)=>{let m=t.id+"-header-"+h;return{id:m,label:d.get("key")||"",entries:kEt({idPrefix:m,element:t,header:d}),autoFocusEntry:m+"-key",remove:AEt({commandStack:a,element:t,header:d})}}),add:REt({bpmnFactory:i,commandStack:a,element:t})}}function AEt({commandStack:t,element:e,header:n}){return function(i){i.stopPropagation();let a=[],c=LP(e);if(!c)return;let d=or(c.get("values"),n);if(a.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:c,properties:{values:d}}}),!d.length){let h=K(e),m=h.get("extensionElements");a.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:m,properties:{values:or(m.get("values"),c)}}})}t.execute("properties-panel.multi-command-executor",a)}}function REt({bpmnFactory:t,commandStack:e,element:n}){return function(i){i.stopPropagation();let a=[],c=K(n),d=c.get("extensionElements");d||(d=Fe("bpmn:ExtensionElements",{values:[]},c,t),a.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:c,properties:{extensionElements:d}}}));let h=LP(n);h||(h=Fe("zeebe:TaskHeaders",{values:[]},d,t),a.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:d,properties:{values:[...d.get("values"),h]}}}));let m=Fe("zeebe:Header",{},h,t);a.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{values:[...h.get("values"),m]}}}),e.execute("properties-panel.multi-command-executor",a)}}function LEt(t){let e=t3(t);return e?e.get("processId"):""}function t3(t){return $Et(t)[0]}function $Et(t){let e=K(t);return Vt(e,"zeebe:CalledElement")}function NEt(t){let{element:e}=t;return M(e,"bpmn:CallActivity")?[{id:"propagateAllParentVariables",component:FEt,isEdited:yP}]:[]}function FEt(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=BEt(e),d=()=>c,h=m=>{let g=[],b=K(e),E=b.get("extensionElements");E||(E=Fe("bpmn:ExtensionElements",{values:[]},b,i),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:b,properties:{extensionElements:E}}}));let _=t3(b);_||(_=Fe("zeebe:CalledElement",{},E,i),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{values:[...E.get("values"),_]}}})),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{propagateAllParentVariables:m}}}),n.execute("properties-panel.multi-command-executor",g)};return vP({id:"propagateAllParentVariables",label:a("Propagate all parent process variables"),switcherLabel:a(c?"On":"Off"),tooltip:z("div",{children:[z("p",{children:a("If turned on, all variables from the parent process instance will be propagated to the child process instance.")}),z("p",{children:a("Otherwise, only variables defined via input mappings will be propagated.")})]}),getValue:d,setValue:h})}function BEt(t){if(!M(t,"bpmn:CallActivity"))return;let e=K(t),n=t3(e);return n&&Ui(n,"propagateAllParentVariables")?n.get("propagateAllParentVariables"):!0}function l5e(t){let{idPrefix:e,parameter:n}=t;return[{id:e+"-target",component:jEt,idPrefix:e,parameter:n},{id:e+"-source",component:VEt,idPrefix:e,parameter:n}]}function jEt(t){let{idPrefix:e,element:n,parameter:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{target:g}})},m=g=>g.target;return Le({element:i,id:e+"-target",label:c(M(i,"zeebe:Input")?"Local variable name":"Process variable name"),getValue:m,setValue:h,debounce:d})}function VEt(t){let{idPrefix:e,element:n,parameter:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{source:g}})},m=g=>g.source;return qr({bpmnElement:n,element:i,id:e+"-source",label:c("Variable assignment value"),feel:"required",getValue:m,setValue:h,debounce:d})}function zEt(t,e,n){let i=Vt(t,e);return n?(i[0]||{})[n]||[]:i}function c5e(t,e){let n=Y4(t);return n&&n.get(e)||[]}function Y4(t){let e=K(t);return(zEt(e,"zeebe:IoMapping")||[])[0]}function HEt(t){return c5e.apply(this,[t,"inputParameters"])}function u5e(t){return c5e.apply(this,[t,"outputParameters"])}function UEt(t){return He(t,["bpmn:UserTask","bpmn:SubProcess","bpmn:CallActivity","bpmn:BusinessRuleTask","bpmn:ScriptTask"])||NW(t)||GEt(t)}function qEt(t){return M(t,"bpmn:EndEvent")&&(Kb(t)||WEt(t))?!1:He(t,["zeebe:ZeebeServiceTask","bpmn:UserTask","bpmn:SubProcess","bpmn:ReceiveTask","bpmn:CallActivity","bpmn:Event","bpmn:BusinessRuleTask"])}function WEt(t){return Hd(t,"bpmn:TerminateEventDefinition")}function d5e(t,e,n){return Fe("zeebe:IoMapping",t,e,n)}function GEt(t){return He(t,["bpmn:EndEvent","bpmn:IntermediateThrowEvent"])?!!Hd(t,"bpmn:SignalEventDefinition"):!1}function QEt({element:t,injector:e}){if(!UEt(t))return null;let n=HEt(t)||[],i=e.get("bpmnFactory"),a=e.get("commandStack");return{items:n.map((d,h)=>{let m=t.id+"-input-"+h;return{id:m,label:d.get("target")||"",entries:l5e({idPrefix:m,element:t,parameter:d}),autoFocusEntry:m+"-target",remove:YEt({commandStack:a,element:t,parameter:d})}}),add:XEt({element:t,bpmnFactory:i,commandStack:a})}}function YEt({commandStack:t,element:e,parameter:n}){return function(i){i.stopPropagation();let a=[],c=Y4(e);if(!c)return;let d=or(c.get("inputParameters"),n);a.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:c,properties:{inputParameters:d}}});let h=K(e),m=h.get("extensionElements"),g=or(m.get("values"),c);!d.length&&!c.get("outputParameters").length&&a.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:m,properties:{values:g}}}),t.execute("properties-panel.multi-command-executor",a)}}function XEt({element:t,bpmnFactory:e,commandStack:n}){return function(i){i.stopPropagation();let a=[],c=K(t),d=c.get("extensionElements");d||(d=Fe("bpmn:ExtensionElements",{values:[]},c,e),a.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:c,properties:{extensionElements:d}}}));let h=Y4(t);h||(h=d5e({inputParameters:[],outputParameters:[]},d,e),a.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:d,properties:{values:[...d.get("values"),h]}}}));let m=Fe("zeebe:Input",{target:uh("InputVariable_")},h,e);a.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{inputParameters:[...h.get("inputParameters"),m]}}}),n.execute("properties-panel.multi-command-executor",a)}}function KEt(t){let{element:e}=t,n=V1(e),i=[];return n&&i.push({id:"messageName",component:ZEt,isEdited:Zr}),n&&ewt(e)&&i.push({id:"messageSubscriptionCorrelationKey",component:JEt,isEdited:Zr}),i}function ZEt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=V1(e),d=()=>c.get("name"),h=m=>n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{name:m}});return qr({element:e,id:"messageName",label:i("Name"),feel:"optional",getValue:d,setValue:h,debounce:a})}function JEt(t){let{element:e}=t,n=A("bpmnFactory"),i=A("commandStack"),a=A("translate"),c=A("debounceInput"),d=()=>twt(e),h=m=>{let g=[],b={correlationKey:m},E=V1(e),_=E.get("extensionElements");_||(_=Fe("bpmn:ExtensionElements",{values:[]},E,n),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{extensionElements:_}}}));let S=f5e(e);S?g.push({cmd:"element.updateModdleProperties",context:{element:e,properties:b,moddleElement:S}}):(S=Fe("zeebe:Subscription",b,_,n),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{values:[..._.get("values"),S]}}})),i.execute("properties-panel.multi-command-executor",g)};return qr({element:e,id:"messageSubscriptionCorrelationKey",label:a("Subscription correlation key"),feel:"required",getValue:d,setValue:h,debounce:c})}function ewt(t){return!!(M(t,"bpmn:ReceiveTask")||!M(t,"bpmn:StartEvent")||M(t,"bpmn:StartEvent")&&bi(t.parent))}function twt(t){let e=f5e(t);return e?e.get("correlationKey"):""}function f5e(t){let e=V1(t);return nwt(e)[0]}function nwt(t){return Vt(t,"zeebe:Subscription")}function rwt(t){let{element:e}=t;return cwt(e)?[{id:"multiInstance-inputCollection",component:iwt,isEdited:Zr},{id:"multiInstance-inputElement",component:owt,isEdited:Ve},{id:"multiInstance-outputCollection",component:swt,isEdited:Ve},{id:"multiInstance-outputElement",component:awt,isEdited:Zr},{id:"multiInstance-completionCondition",component:lwt,isEdited:Zr}]:[]}function iwt(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=A("debounceInput"),d=()=>NP(e,"inputCollection"),h=m=>FP(e,"inputCollection",m,n,i);return qr({element:e,id:"multiInstance-inputCollection",label:a("Input collection"),feel:"required",getValue:d,setValue:h,debounce:c})}function owt(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=A("debounceInput"),d=()=>NP(e,"inputElement"),h=m=>FP(e,"inputElement",m,n,i);return Le({element:e,id:"multiInstance-inputElement",label:a("Input element"),getValue:d,setValue:h,debounce:c})}function swt(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=A("debounceInput"),d=()=>NP(e,"outputCollection"),h=m=>FP(e,"outputCollection",m,n,i);return Le({element:e,id:"multiInstance-outputCollection",label:a("Output collection"),getValue:d,setValue:h,debounce:c})}function awt(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=A("debounceInput"),d=()=>NP(e,"outputElement"),h=m=>FP(e,"outputElement",m,n,i);return qr({element:e,id:"multiInstance-outputElement",label:a("Output element"),feel:"required",getValue:d,setValue:h,debounce:c})}function lwt(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=A("debounceInput"),d=()=>{let m=uwt(e);return m&&m.get("body")},h=m=>{if(m&&m!==""){let g=n3(e),b=Fe("bpmn:FormalExpression",{body:m},g,i);gwe(e,n,b)}else gwe(e,n,void 0)};return qr({element:e,id:"multiInstance-completionCondition",label:a("Completion condition"),feel:"required",getValue:d,setValue:h,debounce:c})}function n3(t){return K(t).get("loopCharacteristics")}function h5e(t){let e=Vt(t,"zeebe:LoopCharacteristics");return e&&e[0]}function cwt(t){return!!n3(t)}function uwt(t){return n3(t).get("completionCondition")}function gwe(t,e,n=void 0){e.execute("element.updateModdleProperties",{element:t,moddleElement:n3(t),properties:{completionCondition:n}})}function NP(t,e){let n=n3(t),i=h5e(n);return i&&i.get(e)}function FP(t,e,n,i,a){let c=n3(t),d=[],h=c.get("extensionElements");h||(h=Fe("bpmn:ExtensionElements",{values:[]},c,a),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:c,properties:{extensionElements:h}}}));let m=h5e(c);m||(m=Fe("zeebe:LoopCharacteristics",{},h,a),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{values:[...h.get("values"),m]}}})),d.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:m,properties:{[e]:n}}}),i.execute("properties-panel.multi-command-executor",d)}function dwt(t){let{element:e}=t;return M(e,"bpmn:CallActivity")?[{id:"propagateAllChildVariables",component:fwt,isEdited:yP}]:[]}function fwt(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=pwt(e),d=()=>c,h=m=>{let g=[],b=K(e),E=b.get("extensionElements");E||(E=Fe("bpmn:ExtensionElements",{values:[]},b,i),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:b,properties:{extensionElements:E}}}));let _=t3(b);_||(_=Fe("zeebe:CalledElement",{},E,i),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{values:[...E.get("values"),_]}}})),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{propagateAllChildVariables:m}}}),n.execute("properties-panel.multi-command-executor",g)};return vP({id:"propagateAllChildVariables",label:a("Propagate all child process variables"),switcherLabel:a(c?"On":"Off"),tooltip:z("div",{children:[z("p",{children:a("If turned on, all variables from the child process instance will be propagated to the parent process instance.")}),z("p",{children:a("Otherwise, only variables defined via output mappings will be propagated.")})]}),getValue:d,setValue:h})}function hwt(t){let e=u5e(t);if(e)return!(e.length>0)}function pwt(t){if(!M(t,"bpmn:CallActivity"))return;let e=K(t),n=t3(e);return n&&Ui(n,"propagateAllChildVariables")?n.get("propagateAllChildVariables"):hwt(t)}function mwt({element:t,injector:e}){if(!qEt(t))return null;let n=u5e(t)||[],i=e.get("bpmnFactory"),a=e.get("commandStack");return{items:n.map((d,h)=>{let m=t.id+"-output-"+h;return{id:m,label:d.get("target")||"",entries:l5e({idPrefix:m,element:t,parameter:d}),autoFocusEntry:m+"-target",remove:gwt({commandStack:a,element:t,parameter:d})}}),add:vwt({element:t,bpmnFactory:i,commandStack:a})}}function gwt({commandStack:t,element:e,parameter:n}){return function(i){i.stopPropagation();let a=[],c=Y4(e);if(!c)return;let d=or(c.get("outputParameters"),n);if(a.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:c,properties:{outputParameters:d}}}),!c.get("inputParameters").length&&!d.length){let h=K(e),m=h.get("extensionElements"),g=or(m.get("values"),c);a.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:m,properties:{values:g}}})}t.execute("properties-panel.multi-command-executor",a)}}function vwt({element:t,bpmnFactory:e,commandStack:n}){return function(i){i.stopPropagation();let a=[],c=K(t),d=c.get("extensionElements");d||(d=Fe("bpmn:ExtensionElements",{values:[]},c,e),a.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:c,properties:{extensionElements:d}}}));let h=Y4(t);h||(h=d5e({inputParameters:[],outputParameters:[]},d,e),a.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:d,properties:{values:[...d.get("values"),h]}}}));let m=Fe("zeebe:Output",{target:uh("OutputVariable_")},h,e);a.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:h,properties:{outputParameters:[...h.get("outputParameters"),m]}}}),n.execute("properties-panel.multi-command-executor",a)}}function ywt(t){let{element:e}=t;return M(e,"bpmn:UserTask")?[{id:"priorityDefinitionPriority",component:bwt,isEdited:Zr}]:[]}function bwt(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=A("debounceInput"),d=()=>(vwe(e)||{}).priority,h=m=>{let g=[],b=K(e),E=b.get("extensionElements");E||(E=Fe("bpmn:ExtensionElements",{values:[]},b,i),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:b,properties:{extensionElements:E}}}));let _=vwe(e),S=m===null||m===""||m===void 0;_&&S?g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{values:E.get("values").filter(D=>D!==_)}}}):_&&!S?g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{priority:m}}}):!_&&!S&&(_=Fe("zeebe:PriorityDefinition",{priority:m},E,i),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{values:[...E.get("values"),_]}}})),n.execute("properties-panel.multi-command-executor",g)};return qr({element:e,id:"priorityDefinitionPriority",label:a("Priority"),feel:"optional",getValue:d,setValue:h,debounce:c})}function vwe(t){let e=K(t);return Vt(e,"zeebe:PriorityDefinition")[0]}var BU="script",jU="jobWorker",ywe="";function xwt(t){let{element:e}=t;return M(e,"bpmn:ScriptTask")?[{id:"scriptImplementation",component:Ewt,isEdited:()=>_wt(e)}]:[]}function Ewt(t){let{element:e,id:n}=t,i=A("commandStack"),a=A("bpmnFactory"),c=A("translate"),d=()=>q4(e)?BU:DP(e)?jU:ywe,h=g=>{let b,E;g===BU?(b=q4(e),E="zeebe:Script"):g===jU?(b=DP(e),E="zeebe:TaskDefinition"):Cwt(e,i),!b&&E&&(b=Fe(E,{},null,a),Swt(e,b,a,i))},m=()=>[{value:ywe,label:c("<none>")},{value:BU,label:c("FEEL expression")},{value:jU,label:c("Job worker")}];return sr({element:e,id:n,label:c("Implementation"),getValue:d,setValue:h,getOptions:m})}function DP(t){let e=K(t);return Vt(e,"zeebe:TaskDefinition")[0]}function q4(t){let e=K(t);return Vt(e,"zeebe:Script")[0]}function wwt(t){let e=K(t);return Vt(e,"zeebe:TaskHeaders")}function _wt(t){return DP(t)||q4(t)}function Cwt(t,e){let n=K(t),i=DP(t),a=wwt(t),c=q4(t);if(i){let d=[i,a].filter(Boolean);vc(t,n,d,e);return}c&&vc(t,n,c,e)}function Swt(t,e,n,i){let a=K(t),c=[],d=a.get("extensionElements"),h;if(d||(d=Fe("bpmn:ExtensionElements",{values:[]},a,n),c.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:a,properties:{extensionElements:d}}})),e.$parent=d,M(e,"zeebe:TaskDefinition"))h=or(d.get("values"),q4(t));else if(M(e,"zeebe:Script")){let m=g=>He(g,["zeebe:TaskDefinition","zeebe:TaskHeaders"]);h=or(d.get("values"),m)}c.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:d,properties:{values:[...h,e]}}}),i.execute("properties-panel.multi-command-executor",c)}function Owt(t){let{element:e}=t;return!M(e,"bpmn:ScriptTask")||!W4(e)?[]:[{id:"resultVariable",component:Twt,isEdited:Ve},{id:"scriptExpression",component:Dwt,isEdited:Zr}]}function Dwt(t){let{element:e,id:n}=t,i=A("commandStack"),a=A("bpmnFactory"),c=A("translate"),d=A("debounceInput"),h=()=>(W4(e)||{}).get("expression"),m=g=>{let b=[],E=K(e),_=E.get("extensionElements");_||(_=Fe("bpmn:ExtensionElements",{values:[]},E,a),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{extensionElements:_}}}));let S=W4(e);S||(S=Fe("zeebe:Script",{},_,a),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{values:[..._.get("values"),S]}}})),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:S,properties:{expression:g}}}),i.execute("properties-panel.multi-command-executor",b)};return qr({element:e,id:n,label:c("FEEL expression"),feel:"required",getValue:h,setValue:m,debounce:d})}function Twt(t){let{element:e,id:n}=t,i=A("commandStack"),a=A("bpmnFactory"),c=A("translate"),d=A("debounceInput"),h=()=>(W4(e)||{}).resultVariable,m=g=>{let b=[],E=K(e),_=E.get("extensionElements");_||(_=Fe("bpmn:ExtensionElements",{values:[]},E,a),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{extensionElements:_}}}));let S=W4(e);S||(S=Fe("zeebe:Script",{},_,a),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{values:[..._.get("values"),S]}}})),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:S,properties:{resultVariable:g}}}),i.execute("properties-panel.multi-command-executor",b)};return Le({element:e,id:n,label:c("Result variable"),getValue:h,setValue:m,debounce:d})}function W4(t){let e=K(t);return Vt(e,"zeebe:Script")[0]}function kwt(t){let{element:e}=t;if(!lxt(e))return[];let n=Xwe(e),i=[];return n&&(i=[...i,{id:"signalName",component:Pwt,isEdited:Zr}]),i}function Pwt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=Xwe(e),d=()=>c.get("name"),h=m=>n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{name:m}});return qr({element:e,id:"signalName",label:i("Name"),feel:"optional",getValue:d,setValue:h,debounce:a})}function Iwt(t){let{element:e}=t;return M(e,"bpmn:CallActivity")?[{id:"targetProcessId",component:Mwt,isEdited:Zr},{id:"bindingType",component:$W(FW,{type:"zeebe:CalledElement"}),isEdited:pr}]:[]}function Mwt(t){let{element:e,id:n}=t,i=A("commandStack"),a=A("bpmnFactory"),c=A("translate"),d=A("debounceInput"),h=()=>LEt(e),m=g=>{let b=[],E=K(e),_=E.get("extensionElements");_||(_=Fe("bpmn:ExtensionElements",{values:[]},E,a),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{extensionElements:_}}}));let S=t3(E);S||(S=Fe("zeebe:CalledElement",{},_,a),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{values:[..._.get("values"),S]}}})),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:S,properties:{processId:g}}}),i.execute("properties-panel.multi-command-executor",b)};return qr({element:e,id:n,label:c("Process ID"),feel:"optional",getValue:h,setValue:m,debounce:d})}function Awt(t){let{element:e}=t;return NW(e)?[{id:"taskDefinitionType",component:Rwt,isEdited:Zr},{id:"taskDefinitionRetries",component:Lwt,isEdited:Zr}]:[]}function Rwt(t){let{element:e,id:n}=t,i=A("commandStack"),a=A("bpmnFactory"),c=A("translate"),d=A("debounceInput"),h=()=>(TP(e)||{}).type,m=g=>{let b=[],E=K(e),_=E.get("extensionElements");_||(_=Fe("bpmn:ExtensionElements",{values:[]},E,a),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{extensionElements:_}}}));let S=TP(e);S||(S=Fe("zeebe:TaskDefinition",{},_,a),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{values:[..._.get("values"),S]}}})),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:S,properties:{type:g}}}),i.execute("properties-panel.multi-command-executor",b)};return qr({element:e,id:n,label:c("Job type"),feel:"optional",getValue:h,setValue:m,debounce:d})}function Lwt(t){let{element:e,id:n}=t,i=A("commandStack"),a=A("bpmnFactory"),c=A("translate"),d=A("debounceInput"),h=()=>(TP(e)||{}).retries,m=g=>{let b=[],E=K(e),_=E.get("extensionElements");_||(_=Fe("bpmn:ExtensionElements",{values:[]},E,a),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{extensionElements:_}}}));let S=TP(e);S||(S=Fe("zeebe:TaskDefinition",{},_,a),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{values:[..._.get("values"),S]}}})),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:S,properties:{retries:g}}}),i.execute("properties-panel.multi-command-executor",b)};return qr({element:e,id:n,label:c("Retries"),feel:"optional",getValue:h,setValue:m,debounce:d})}function TP(t){let e=K(t);return Vt(e,"zeebe:TaskDefinition")[0]}function $wt(t){let{element:e}=t;return M(e,"bpmn:UserTask")?[{id:"taskScheduleDueDate",component:Nwt,isEdited:Zr},{id:"taskScheduleFollowUpDate",component:Fwt,isEdited:Zr}]:[]}function Nwt(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=A("debounceInput"),d=()=>{let m=kP(e);if(m)return m.get("dueDate")},h=m=>{let g=[],b=K(e),E=b.get("extensionElements");E||(E=Fe("bpmn:ExtensionElements",{values:[]},b,i),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:b,properties:{extensionElements:E}}}));let _=kP(e);_||(_=Fe("zeebe:TaskSchedule",{},E,i),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{values:[...E.get("values"),_]}}})),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{dueDate:m}}}),n.execute("properties-panel.multi-command-executor",g)};return qr({element:e,id:"taskScheduleDueDate",label:a("Due date"),feel:"optional",getValue:d,setValue:h,debounce:c})}function Fwt(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=A("debounceInput"),d=()=>{let m=kP(e);if(m)return m.get("followUpDate")},h=m=>{let g=[],b=K(e),E=b.get("extensionElements");E||(E=Fe("bpmn:ExtensionElements",{values:[]},b,i),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:b,properties:{extensionElements:E}}}));let _=kP(e);_||(_=Fe("zeebe:TaskSchedule",{},E,i),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{values:[...E.get("values"),_]}}})),g.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{followUpDate:m}}}),n.execute("properties-panel.multi-command-executor",g)};return qr({element:e,id:"taskScheduleFollowUpDate",label:a("Follow up date"),feel:"optional",getValue:d,setValue:h,debounce:c})}function kP(t){let e=K(t);return Vt(e,"zeebe:TaskSchedule")[0]}function VU(t,e){let n=K(e);switch(t){case"timeDate":return He(e,["bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent","bpmn:StartEvent"]);case"timeCycle":return!!(M(e,"bpmn:StartEvent")&&!xwe(n)||!bwe(n)||M(e,"bpmn:BoundaryEvent")&&!bwe(n));case"timeDuration":return!!(He(e,["bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"])||M(e,"bpmn:StartEvent")&&xwe(n));default:return!1}}function bwe(t){return M(t,"bpmn:BoundaryEvent")?t.get("cancelActivity")!==!1:t.get("isInterrupting")!==!1}function xwe(t){let e=t.$parent;return e&&M(e,"bpmn:SubProcess")&&e.get("triggeredByEvent")}function Bwt(t){let{element:e,injector:n}=t,i=n.get("translate"),a=K(e),c=z1(a),d=AP(c);if(!RW(e))return[];let h=jwt(e,i),m=[];return m.push({id:"timerEventDefinitionType",component:Vwt,isEdited:pr,options:h}),d&&m.push({id:"timerEventDefinitionValue",component:zwt,isEdited:Zr,timerEventDefinitionType:d||h[0].value}),m}function jwt(t,e){let n=[];return VU("timeDate",t)&&n.push({value:"timeDate",label:e("Date")}),VU("timeDuration",t)&&n.push({value:"timeDuration",label:e("Duration")}),VU("timeCycle",t)&&n.push({value:"timeCycle",label:e("Cycle")}),n}function Vwt(t){let{element:e,options:n}=t,i=A("commandStack"),a=A("bpmnFactory"),c=A("translate"),d=K(e),h=z1(d),m=AP(h),g=()=>m||"",b=_=>{if(_===m)return;let S=p5e(a,h),D={timeDuration:void 0,timeDate:void 0,timeCycle:void 0};_!==""&&(D[_]=S),i.execute("element.updateModdleProperties",{element:e,moddleElement:h,properties:D})},E=_=>[{value:"",label:c("<none>")},...n];return sr({element:e,id:"timerEventDefinitionType",label:c("Type"),getValue:g,setValue:b,getOptions:E})}function zwt(t){let{element:e,label:n,timerEventDefinitionType:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=A("bpmnFactory"),m=K(e),g=z1(m),b=g.get(i),E=()=>b&&b.get("body"),_=S=>{if(!b){let D=p5e(h,g);D.set("body",S),a.execute("element.updateModdleProperties",{element:e,moddleElement:g,properties:{[i]:D}});return}a.execute("element.updateModdleProperties",{element:e,moddleElement:b,properties:{body:S}})};return qr({element:e,id:"timerEventDefinitionValue",label:n||c("Value"),feel:"optional",getValue:E,setValue:_,debounce:d,tooltip:Hwt(i,c)})}function p5e(t,e){let n=t.create("bpmn:FormalExpression",{body:void 0});return n.$parent=e,n}function Hwt(t,e){switch(t){case"timeDate":return z("div",{children:[z("p",{children:e("A specific point in time defined as ISO 8601 combined date and time representation.")}),z("ul",{children:[z("li",{children:[z("code",{children:"2019-10-01T12:00:00Z"})," - ",e("UTC time")]}),z("li",{children:[z("code",{children:"2019-10-02T08:09:40+02:00"})," - ",e("UTC plus 2 hours zone offset")]})]}),z("a",{href:"https://docs.camunda.io/docs/reference/bpmn-processes/timer-events/timer-events#time-date",target:"_blank",rel:"noopener",title:e("Timer documentation"),children:e("How to configure a timer")})]});case"timeCycle":return z("div",{children:[z("p",{children:e("A cycle defined as ISO 8601 repeating intervals format, or a cron expression.")}),z("ul",{children:[z("li",{children:[z("code",{children:"R5/PT10S"})," - ",e("every 10 seconds, up to 5 times")]}),z("li",{children:[z("code",{children:"R/P1D"})," - ",e("every day, infinitely")]}),z("li",{children:[z("code",{children:"0 0 9-17 * * MON-FRI"})," - ",e("every hour on the hour from 9-5 p.m. UTC Monday-Friday")]})]}),z("a",{href:"https://docs.camunda.io/docs/reference/bpmn-processes/timer-events/timer-events#time-cycle",target:"_blank",rel:"noopener",title:e("Timer documentation"),children:e("How to configure a timer")})]});case"timeDuration":return z("div",{children:[z("p",{children:e("A time duration defined as ISO 8601 durations format.")}),z("ul",{children:[z("li",{children:[z("code",{children:"PT15S"})," - ",e("15 seconds")]}),z("li",{children:[z("code",{children:"PT1H30M"})," - ",e("1 hour and 30 minutes")]}),z("li",{children:[z("code",{children:"P14D"})," - ",e("14 days")]})]}),z("a",{href:"https://docs.camunda.io/docs/reference/bpmn-processes/timer-events/timer-events#time-duration",target:"_blank",rel:"noopener",title:e("Timer documentation"),children:e("How to configure a timer")})]})}}var zU="zeebeUserTask",HU="jobWorker";function Uwt(t){let{element:e}=t;return M(e,"bpmn:UserTask")?[{id:"userTaskImplementation",component:qwt,isEdited:()=>Qwt(e)}]:[]}function qwt(t){let{element:e,id:n}=t,i=A("commandStack"),a=A("bpmnFactory"),c=A("translate"),d=()=>zW(e)?zU:HU,h=g=>{g===zU?Wwt(e,a,i):g===HU&&Gwt(e,i)},m=()=>[{value:zU,label:c("Zeebe user task")},{value:HU,label:c("Job worker")}];return sr({element:e,id:n,label:c("Type"),getValue:d,setValue:h,getOptions:m})}function Wwt(t,e,n){let i=K(t),a=Fe("zeebe:UserTask",{},i,e);dh(t,i,a,e,n)}function Gwt(t,e){let n=zW(t);vc(t,K(t),n,e)}function Qwt(t){return zW(t)}function zW(t){let e=K(t);return Vt(e,"zeebe:UserTask")[0]}function Ywt(t){let{idPrefix:e,property:n}=t;return[{id:e+"-name",component:Xwt,idPrefix:e,property:n},{id:e+"-value",component:Kwt,idPrefix:e,property:n}]}function Xwt(t){let{idPrefix:e,element:n,property:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{name:g}})},m=()=>i.name;return Le({element:i,id:e+"-name",label:c("Name"),getValue:m,setValue:h,debounce:d})}function Kwt(t){let{idPrefix:e,element:n,property:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{value:g}})},m=()=>i.value;return Le({element:i,id:e+"-value",label:c("Value"),getValue:m,setValue:h,debounce:d})}function m5e({element:t,injector:e,namespace:n="camunda"}){let i=X4(t);if(!i)return;let a=e5t(i,n)||[],c=e.get("bpmnFactory"),d=e.get("commandStack");return{items:a.map((m,g)=>{let b=t.id+"-extensionProperty-"+g;return{id:b,label:m.get("name")||"",entries:Ywt({idPrefix:b,element:t,property:m}),autoFocusEntry:b+"-name",remove:Zwt({commandStack:d,element:t,property:m,namespace:n})}}),add:Jwt({bpmnFactory:c,commandStack:d,element:t,namespace:n})}}function Zwt({commandStack:t,element:e,property:n,namespace:i}){return function(a){a.stopPropagation();let c=[],d=X4(e),h=d.get("extensionElements"),m=UW(d,i);if(!m)return;let g=HW(i),b=or(m.get(g),n);c.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:m,properties:{[g]:b}}}),b.length||c.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:h,properties:{values:or(h.get("values"),m)}}}),t.execute("properties-panel.multi-command-executor",c)}}function Jwt({bpmnFactory:t,commandStack:e,element:n,namespace:i}){return function(a){a.stopPropagation();let c=[],d=X4(n),h=d.get("extensionElements");h||(h=Fe("bpmn:ExtensionElements",{values:[]},d,t),c.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:d,properties:{extensionElements:h}}}));let m=HW(i),g=UW(d,i);if(!g){let E=h;g=Fe(`${i}:Properties`,{[m]:[]},E,t),c.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:h,properties:{values:[...h.get("values"),g]}}})}let b=Fe(`${i}:Property`,{},g,t);c.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:g,properties:{[m]:[...g.get(m),b]}}}),e.execute("properties-panel.multi-command-executor",c)}}function X4(t){let e=K(t);return M(t,"bpmn:Participant")?e.get("processRef"):e}function HW(t="camunda"){return t==="zeebe"?"properties":"values"}function UW(t,e="camunda"){let n=X4(t);return Vt(n,`${e}:Properties`)[0]}function e5t(t,e="camunda"){let n=X4(t),i=UW(n,e);return i&&i.get(HW(e))}var t5t=500,n5t=[m5t,i5t,g5t,o5t,v5t,s5t,y5t,u5t,c5t,d5t,p5t,a5t,h5t,l5t,f5t,b5t,x5t],r5t=(()=>{class t{constructor(n,i){n.registerProvider(t5t,this),this._injector=i}getGroups(n){return i=>(i=i.concat(this._getGroups(n)),E5t(i,n),w5t(i,n),C5t(i,n),_5t(i,n),S5t(i,n,this._injector),O5t(i,n),i=D5t(i,n),i)}_getGroups(n){return n5t.map(a=>a(n,this._injector)).filter(a=>a!==null)}}return t.$inject=["propertiesPanel","injector"],t})();function i5t(t,e){let i={id:"calledDecision",label:e.get("translate")("Called decision"),entries:[...qxt({element:t})],component:Ut};return i.entries.length?i:null}function o5t(t,e){let i={id:"script",label:e.get("translate")("Script"),entries:[...Owt({element:t})],component:Ut};return i.entries.length?i:null}function s5t(t,e){let i={id:"taskDefinition",label:e.get("translate")("Task definition"),entries:[...Awt({element:t})],component:Ut};return i.entries.length?i:null}function a5t(t,e){let n=e.get("translate"),i=se({id:"inputs",label:n("Inputs"),component:Zi},QEt({element:t,injector:e}));return i.items?i:null}function l5t(t,e){let n=e.get("translate"),i=se({id:"outputs",label:n("Outputs"),component:Zi},mwt({element:t,injector:e}));return i.items?i:null}function c5t(t,e){let i={id:"condition",label:e.get("translate")("Condition"),entries:[...Qxt({element:t})],component:Ut};return i.entries.length?i:null}function u5t(t,e){let i={id:"form",label:e.get("translate")("Form"),entries:[...vEt({element:t,injector:e})],component:Ut};return i.entries.length?i:null}function d5t(t,e){let i={id:"calledElement",label:e.get("translate")("Called element"),entries:[...Iwt({element:t})],component:Ut};return i.entries.length?i:null}function f5t(t,e){let n=e.get("translate"),i=se({id:"headers",label:n("Headers"),component:Zi},MEt({element:t,injector:e}));return i.items?i:null}function h5t(t,e){let i={id:"outputPropagation",label:e.get("translate")("Output propagation"),entries:[...dwt({element:t})],component:Ut};return i.entries.length?i:null}function p5t(t,e){let i={id:"inputPropagation",label:e.get("translate")("Input propagation"),entries:[...NEt({element:t})],component:Ut};return i.entries.length?i:null}function m5t(t,e){let i={id:"businessRuleImplementation",label:e.get("translate")("Implementation"),entries:[...jxt({element:t})],component:Ut};return i.entries.length?i:null}function g5t(t,e){let i={id:"scriptImplementation",label:e.get("translate")("Implementation"),entries:[...xwt({element:t})],component:Ut};return i.entries.length?i:null}function v5t(t,e){let i={id:"userTaskImplementation",label:e.get("translate")("Implementation"),entries:[...Uwt({element:t})],component:Ut};return i.entries.length?i:null}function y5t(t,e){let i={id:"assignmentDefinition",label:e.get("translate")("Assignment"),entries:[...Ixt({element:t}),...$wt({element:t}),...ywt({element:t})],component:Ut};return i.entries.length?i:null}function b5t(t,e){let n=e.get("translate"),i=se({label:n("Execution listeners"),id:"Zeebe__ExecutionListeners",component:Zi},aEt({element:t,injector:e}));return i.items?i:null}function x5t(t,e){let n=e.get("translate"),i=se({label:n("Extension properties"),id:"Zeebe__ExtensionProperties",component:Zi},m5e({element:t,injector:e,namespace:"zeebe"}));return i.items?i:null}function E5t(t,e){let n=H1(t,"error");n&&(n.entries=BP(n.entries,Jxt({element:e})))}function w5t(t,e){let n=H1(t,"escalation");n&&(n.entries=BP(n.entries,tEt({element:e})))}function _5t(t,e){let n=H1(t,"signal");n&&(n.entries=BP(n.entries,kwt({element:e})))}function C5t(t,e){let n=H1(t,"message");n&&(n.entries=BP(n.entries,KEt({element:e})))}function S5t(t,e,n){let i=H1(t,"timer");i&&(i.entries=[...Bwt({element:e,injector:n})])}function O5t(t,e){let n=H1(t,"multiInstance");n&&(n.entries=[...rwt({element:e})])}function D5t(t,e){let n=H1(t,"message");return(Lxt(e)||$xt(e))&&(t=t.filter(i=>i!=n)),t}function H1(t,e){return t.find(n=>n.id===e)}function BP(t,e){return[...t.filter(i=>!e.find(a=>a.id===i.id)),...e]}var qW={__init__:["zeebePropertiesProvider"],zeebePropertiesProvider:["type",r5t]};function T5t(t){let{element:e}=t,n=c=>c&&!c.checked,i=K(e),a=[];return M(e,"camunda:AsyncCapable")&&(a.push({id:"asynchronousContinuationBefore",component:k5t,isEdited:gl},{id:"asynchronousContinuationAfter",component:P5t,isEdited:gl}),(g5e(i)||v5e(i))&&a.push({id:"exclusive",component:I5t,isEdited:n})),a}function k5t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=K(e),c=()=>g5e(a),d=h=>{let m={"camunda:asyncBefore":h,"camunda:async":void 0};n.execute("element.updateModdleProperties",{element:e,moddleElement:a,properties:m})};return as({element:e,id:"asynchronousContinuationBefore",label:i("Before"),getValue:c,setValue:d})}function P5t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=K(e),c=()=>v5e(a),d=h=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:a,properties:{"camunda:asyncAfter":h}})};return as({element:e,id:"asynchronousContinuationAfter",label:i("After"),getValue:c,setValue:d})}function I5t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=K(e),c=()=>M5t(a),d=h=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:a,properties:{"camunda:exclusive":h}})};return as({element:e,id:"exclusive",label:i("Exclusive"),getValue:c,setValue:d})}function g5e(t){return!!(t.get("camunda:asyncBefore")||t.get("camunda:async"))}function v5e(t){return!!t.get("camunda:asyncAfter")}function M5t(t){return!!t.get("camunda:exclusive")}var A5t="";function R5t(t){let{element:e}=t;return!M(e,"bpmn:StartEvent")||!$5t(e)?[]:[{id:"businessKey",component:L5t,isEdited:pr}]}function L5t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=y5e(e),c=()=>a.get("camunda:businessKey")||"",d=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:a,properties:{"camunda:businessKey":m}})},h=()=>{let m=[{value:A5t,label:i("<none>")}];return a.get("fields").forEach(b=>{let E=b.get("camunda:id");E&&m.push({value:E,label:E})}),m};return sr({element:e,id:"businessKey",label:i("Key"),getValue:c,setValue:d,getOptions:h})}function y5e(t){let e=K(t);return Vt(e,"camunda:FormData")[0]}function $5t(t){let e=K(t),n=y5e(e);return n&&n.get("camunda:fields").length}function N5t(t){let{element:e}=t,n=[{id:"calledElement",component:F5t,isEdited:Ve},{id:"calledElementBinding",component:B5t,isEdited:pr},{id:"calledElementTenantId",component:z5t,isEdited:Ve}],i=K(e).get("camunda:calledElementBinding");return i==="version"?n.splice(-1,0,{id:"calledElementVersion",component:j5t,isEdited:Ve}):i==="versionTag"&&n.splice(-1,0,{id:"calledElementVersionTag",component:V5t,isEdited:Ve}),n}function F5t(t){let{element:e}=t,n=A("modeling"),i=A("translate"),a=A("debounceInput"),c=()=>K(e).get("calledElement"),d=h=>{n.updateProperties(e,{calledElement:h||""})};return z(Le,{element:e,id:"calledElement",label:i("Called element"),getValue:c,setValue:d,debounce:a})}function B5t(t){let{element:e}=t,n=A("modeling"),i=A("translate"),a=()=>K(e).get("camunda:calledElementBinding")||"latest",c=h=>{n.updateProperties(e,{calledElementBinding:h==="latest"?void 0:h,calledElementVersion:void 0,calledElementVersionTag:void 0})},d=()=>[{value:"latest",label:i("latest")},{value:"deployment",label:i("deployment")},{value:"version",label:i("version")},{value:"versionTag",label:i("version tag")}];return z(sr,{element:e,id:"calledElementBinding",label:i("Binding"),getValue:a,setValue:c,getOptions:d})}function j5t(t){let{element:e}=t,n=A("modeling"),i=A("translate"),a=A("debounceInput"),c=()=>K(e).get("camunda:calledElementVersion"),d=h=>{n.updateProperties(e,{calledElementVersion:h})};return z(Le,{element:e,id:"calledElementVersion",label:i("Version"),getValue:c,setValue:d,debounce:a})}function V5t(t){let{element:e}=t,n=A("modeling"),i=A("translate"),a=A("debounceInput"),c=()=>K(e).get("camunda:calledElementVersionTag"),d=h=>{n.updateProperties(e,{calledElementVersionTag:h})};return z(Le,{element:e,id:"calledElementVersionTag",label:i("Version tag"),getValue:c,setValue:d,debounce:a})}function z5t(t){let{element:e}=t,n=A("modeling"),i=A("translate"),a=A("debounceInput"),c=()=>K(e).get("camunda:calledElementTenantId"),d=h=>{n.updateProperties(e,{calledElementTenantId:h})};return z(Le,{element:e,id:"calledElementTenantId",label:i("Tenant ID"),getValue:c,setValue:d,debounce:a})}function H5t(t){let{element:e}=t,n=[{id:"calledElementCaseRef",component:U5t,isEdited:Ve},{id:"calledElementCaseBinding",component:q5t,isEdited:pr},{id:"calledElementCaseTenantId",component:G5t,isEdited:Ve}];return K(e).get("camunda:caseBinding")==="version"&&n.splice(-1,0,{id:"calledElementCaseVersion",component:W5t,isEdited:Ve}),n}function U5t(t){let{element:e}=t,n=A("modeling"),i=A("translate"),a=A("debounceInput"),c=()=>K(e).get("camunda:caseRef"),d=h=>{n.updateProperties(e,{caseRef:h||""})};return z(Le,{element:e,id:"calledElementCaseRef",label:i("Case ref"),getValue:c,setValue:d,debounce:a})}function q5t(t){let{element:e}=t,n=A("modeling"),i=A("translate"),a=()=>K(e).get("camunda:caseBinding")||"latest",c=h=>{n.updateProperties(e,{caseBinding:h==="latest"?void 0:h,caseVersion:void 0})},d=()=>[{value:"latest",label:i("latest")},{value:"deployment",label:i("deployment")},{value:"version",label:i("version")}];return z(sr,{element:e,id:"calledElementCaseBinding",label:i("Binding"),getValue:a,setValue:c,getOptions:d})}function W5t(t){let{element:e}=t,n=A("modeling"),i=A("translate"),a=A("debounceInput"),c=()=>K(e).get("camunda:caseVersion"),d=h=>{n.updateProperties(e,{caseVersion:h})};return z(Le,{element:e,id:"calledElementCaseVersion",label:i("Version"),getValue:c,setValue:d,debounce:a})}function G5t(t){let{element:e}=t,n=A("modeling"),i=A("translate"),a=A("debounceInput"),c=()=>K(e).get("camunda:caseTenantId"),d=h=>{n.updateProperties(e,{caseTenantId:h})};return z(Le,{element:e,id:"calledElementCaseTenantId",label:i("Tenant ID"),getValue:c,setValue:d,debounce:a})}function Q5t(t){let{element:e}=t,n=[{id:"calledElementDelegateVariableMappingType",component:X5t,isEdited:pr}],i=b5e(e);return i==="class"?n.push({id:"calledElementVariableMappingClass",component:Z5t,isEdited:Ve}):i==="delegateExpression"&&n.push({id:"calledElementVariableMappingDelegateExpression",component:K5t,isEdited:Ve}),n}var Y5t={"camunda:variableMappingClass":void 0,"camunda:variableMappingDelegateExpression":void 0};function X5t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=()=>b5e(e),c=h=>{let m=se({},Y5t);h==="class"?m["camunda:variableMappingClass"]="":h==="delegateExpression"&&(m["camunda:variableMappingDelegateExpression"]=""),n.execute("element.updateProperties",{element:e,properties:m})},d=()=>[{value:"none",label:i("<none>")},{value:"class",label:i("Class")},{value:"delegateExpression",label:i("Delegate expression")}];return z(sr,{element:e,id:"calledElementDelegateVariableMappingType",label:i("Delegate Variable Mapping"),getValue:a,setValue:c,getOptions:d})}function K5t(t){let{element:e}=t,n=A("modeling"),i=A("translate"),a=A("debounceInput"),c=()=>K(e).get("camunda:variableMappingDelegateExpression"),d=h=>{n.updateProperties(e,{variableMappingDelegateExpression:h||"",variableMappingClass:void 0})};return z(Le,{element:e,id:"calledElementVariableMappingDelegateExpression",label:i("Delegate Expression"),getValue:c,setValue:d,debounce:a})}function Z5t(t){let{element:e}=t,n=A("modeling"),i=A("translate"),a=A("debounceInput"),c=()=>K(e).get("camunda:variableMappingClass"),d=h=>{n.updateProperties(e,{variableMappingDelegateExpression:void 0,variableMappingClass:h||""})};return z(Le,{element:e,id:"calledElementVariableMappingClass",label:i("Delegate Class"),getValue:c,setValue:d,debounce:a})}function b5e(t){let e=K(t);return e.get("camunda:variableMappingClass")!==void 0?"class":e.get("camunda:variableMappingDelegateExpression")!==void 0?"delegateExpression":"none"}function J5t(t){let{element:e}=t;if(!M(e,"bpmn:CallActivity"))return[];let n=[];n.push({id:"calledElementType",component:n4t,isEdited:pr});let i=x5e(e);return i==="bpmn"?n.push(...N5t({element:e}),...UU({element:e}),...Q5t({element:e})):i==="cmmn"?n.push(...H5t({element:e}),...UU({element:e})):n.push(...UU({element:e})),n}var e4t={calledElement:void 0,"camunda:calledElementBinding":void 0,"camunda:calledElementVersion":void 0,"camunda:calledElementTenantId":void 0,"camunda:variableMappingClass":void 0,"camunda:variableMappingDelegateExpression":void 0,"camunda:caseRef":void 0,"camunda:caseBinding":void 0,"camunda:caseVersion":void 0,"camunda:caseTenantId":void 0},t4t="#{execution.processBusinessKey}";function n4t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=()=>x5e(e),c=h=>{let m=se({},e4t);h==="bpmn"?m.calledElement="":h==="cmmn"&&(m["camunda:caseRef"]=""),n.execute("element.updateProperties",{element:e,properties:m})},d=()=>[{value:"",label:i("<none>")},{value:"bpmn",label:i("BPMN")},{value:"cmmn",label:i("CMMN")}];return z(sr,{element:e,id:"calledElementType",label:i("Type"),getValue:a,setValue:c,getOptions:d})}function UU(t){let{element:e}=t,n=[{id:"calledElementBusinessKey",component:r4t,isEdited:gl}];return E5e(e)&&n.push({id:"calledElementBusinessKeyExpression",component:i4t,isEdited:Ve}),n}function r4t(t){let{element:e}=t,n=A("commandStack"),i=A("modeling"),a=A("bpmnFactory"),c=A("translate"),d=()=>E5e(e),h=E=>{E?m():b()};function m(){let E=K(e),_=E.get("extensionElements");if(_){let S=g(_);dh(e,E,S,a,n)}else{_=Fe("bpmn:ExtensionElements",{},E,a);let S=g(_);_.set("values",[S]),i.updateProperties(e,{extensionElements:_})}}function g(E){return Fe("camunda:In",{businessKey:t4t},E,a)}function b(){let E=K(e),S=Vt(E,"camunda:In").filter(D=>D.get("businessKey")!==void 0);vc(e,E,S,n)}return z(as,{element:e,id:"calledElementBusinessKey",label:c("Business key"),getValue:d,setValue:h})}function i4t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=()=>w5e(e),d=h=>{let m=_5e(e);n.execute("element.updateModdleProperties",{element:e,moddleElement:m,properties:{businessKey:h||""}})};return z(Le,{element:e,id:"calledElementBusinessKeyExpression",label:i("Business key expression"),getValue:c,setValue:d,debounce:a})}function x5e(t){let e=K(t);return e.get("calledElement")!==void 0?"bpmn":e.get("camunda:caseRef")!==void 0?"cmmn":""}function E5e(t){return w5e(t)!==void 0}function w5e(t){let e=_5e(t);if(e)return e.get("businessKey")}function _5e(t){let e=K(t),n=Vt(e,"camunda:In");for(let i of n)if(i.get("businessKey")!==void 0)return i}function o4t(t){let{element:e}=t,n=K(e);return!M(e,"bpmn:Process")&&!(M(e,"bpmn:Participant")&&n.get("processRef"))?[]:[{id:"candidateStarterGroups",component:s4t,isEdited:Ve},{id:"candidateStarterUsers",component:a4t,isEdited:Ve}]}function s4t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=C5e(e),d=()=>c.get("camunda:candidateStarterGroups")||"",h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:candidateStarterGroups":m}})};return Le({element:e,id:"candidateStarterGroups",label:i("Candidate starter groups"),description:i("Specify more than one group as a comma separated list."),getValue:d,setValue:h,debounce:a})}function a4t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=C5e(e),d=()=>c.get("camunda:candidateStarterUsers")||"",h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:candidateStarterUsers":m}})};return Le({element:e,id:"candidateStarterUsers",label:i("Candidate starter users"),description:i("Specify more than one user as a comma separated list."),getValue:d,setValue:h,debounce:a})}function C5e(t){return M(t,"bpmn:Process")?K(t):K(t).get("processRef")}function l4t(t){let{element:e}=t;if(!(M(e,"bpmn:SequenceFlow")&&x4t(e.source))&&!Vd(e))return[];let n=[];Vd(e)&&n.push(...g4t({element:e})),n.push({id:"conditionType",component:c4t,isEdited:pr});let i=S5e(e);return i==="script"?n.push(...d4t({element:e})):i==="expression"&&n.push({id:"conditionExpression",component:u4t,isEdited:Ve}),n}function c4t(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=()=>S5e(e),d=m=>{if(m==="")DW(e,n,void 0);else{let b=D5e(e,{body:"",language:m==="script"?"":void 0},i);DW(e,n,b)}},h=()=>[{value:"",label:a("<none>")},{value:"script",label:a("Script")},{value:"expression",label:a("Expression")}];return z(sr,{element:e,id:"conditionType",label:a("Type"),getValue:c,setValue:d,getOptions:h})}function u4t(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=A("debounceInput"),d=()=>zd(e).get("body"),h=m=>{let g=D5e(e,{body:m},i);DW(e,n,g)};return z(Le,{element:e,id:"conditionExpression",label:a("Condition Expression"),getValue:d,setValue:h,debounce:c})}function d4t(t){let{element:e}=t,n=[],i=O5e(e);return n.push({id:"conditionScriptLanguage",component:f4t,isEdited:Ve}),n.push({id:"conditionScriptType",component:h4t,isEdited:pr}),i==="script"?n.push({id:"conditionScriptValue",component:p4t,isEdited:Ra}):i==="resource"&&n.push({id:"conditionScriptResource",component:m4t,isEdited:Ve}),n}function f4t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=()=>zd(e).get("language"),d=h=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:zd(e),properties:{language:h||""}})};return z(Le,{element:e,id:"conditionScriptLanguage",label:i("Format"),getValue:c,setValue:d,debounce:a})}function h4t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=()=>O5e(e),c=h=>{let m={body:h==="script"?"":void 0,"camunda:resource":h==="resource"?"":void 0};n.execute("element.updateModdleProperties",{element:e,moddleElement:zd(e),properties:m})},d=()=>[{value:"resource",label:i("External resource")},{value:"script",label:i("Inline script")}];return sr({element:e,id:"conditionScriptType",label:i("Script type"),getValue:a,setValue:c,getOptions:d})}function p4t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=()=>zd(e).get("body"),d=h=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:zd(e),properties:{body:h||""}})};return z(Ts,{element:e,id:"conditionScriptValue",label:i("Script"),getValue:c,setValue:d,debounce:a,monospace:!0})}function m4t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=()=>zd(e).get("camunda:resource"),d=h=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:zd(e),properties:{"camunda:resource":h||""}})};return z(Le,{element:!0,id:"conditionScriptResource",label:i("Resource"),getValue:c,setValue:d,debounce:a})}function g4t(t){let{element:e}=t,n=[];return n.push({id:"conditionVariableName",component:v4t,isEdited:Ve}),(!M(e,"bpmn:StartEvent")||E4t(e))&&n.push({id:"conditionVariableEvents",component:y4t,isEdited:Ve}),n}function v4t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=()=>Vd(e).get("variableName"),d=h=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:Vd(e),properties:{variableName:h||""}})};return z(Le,{element:e,id:"conditionVariableName",label:i("Variable name"),getValue:c,setValue:d,debounce:a})}function y4t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=()=>Vd(e).get("variableEvents"),d=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:Vd(e),properties:{variableEvents:m||""}})},h=z("div",{children:[z("p",{children:i("Specify more than one variable change event as a comma separated list. Variable change events are:")}),z("ul",{children:[z("li",{children:z("code",{children:"create"})}),z("li",{children:z("code",{children:"update"})}),z("li",{children:z("code",{children:"delete"})})]}),z("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/custom-extensions/extension-attributes/#variableevents",target:"_blank",rel:"noopener",children:i("Documentation: Variable events")})]});return z(Le,{element:e,id:"conditionVariableEvents",label:i("Variable events"),getValue:c,setValue:d,debounce:a,tooltip:h})}var b4t=["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:ComplexGateway"];function x4t(t){return He(t,b4t)}function Vd(t){return M(t,"bpmn:Event")?Hd(t,"bpmn:ConditionalEventDefinition"):!1}function S5e(t){let e=zd(t);return e?e.get("language")===void 0?"expression":"script":""}function zd(t){let e=K(t);if(M(e,"bpmn:SequenceFlow"))return e.get("conditionExpression");if(Vd(e))return Vd(e).get("condition")}function O5e(t){return typeof zd(t).get("camunda:resource")<"u"?"resource":"script"}function DW(t,e,n=void 0){M(t,"bpmn:SequenceFlow")?e.execute("element.updateProperties",{element:t,properties:{conditionExpression:n}}):e.execute("element.updateModdleProperties",{element:t,moddleElement:Vd(t),properties:{condition:n}})}function D5e(t,e,n){return Fe("bpmn:FormalExpression",e,M(t,"bpmn:SequenceFlow")?K(t):Vd(t),n)}function E4t(t){let e=K(t),n=e.$parent;return M(n,"bpmn:SubProcess")&&n.triggeredByEvent}function WW(t){let{element:e,script:n,prefix:i}=t,a=[],c=T5e(n||e),d=i||"";return a.push({id:d+"scriptFormat",component:w4t,isEdited:Ve,idPrefix:d,script:n}),a.push({id:d+"scriptType",component:_4t,isEdited:pr,idPrefix:d,script:n}),c==="script"&&a.push({id:d+"scriptValue",component:C4t,isEdited:Ra,idPrefix:d,script:n}),c==="resource"&&a.push({id:d+"scriptResource",component:S4t,isEdited:Ve,idPrefix:d,script:n}),a}function w4t(t){let{element:e,idPrefix:n,script:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=i||K(e),m=()=>h.get("scriptFormat"),g=b=>{a.execute("element.updateModdleProperties",{element:e,moddleElement:h,properties:{scriptFormat:b}})};return Le({element:e,id:n+"scriptFormat",label:c("Format"),getValue:m,setValue:g,debounce:d})}function _4t(t){let{element:e,idPrefix:n,script:i}=t,a=A("commandStack"),c=A("translate"),d=i||K(e),h=GW(d),m=()=>T5e(d),g=E=>{let _={[h]:E==="script"?"":void 0,"camunda:resource":E==="resource"?"":void 0};a.execute("element.updateModdleProperties",{element:e,moddleElement:d,properties:_})},b=()=>[{value:"",label:c("<none>")},{value:"resource",label:c("External resource")},{value:"script",label:c("Inline script")}];return sr({element:e,id:n+"scriptType",label:c("Type"),getValue:m,setValue:g,getOptions:b})}function C4t(t){let{element:e,idPrefix:n,script:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=i||K(e),m=GW(h),g=()=>k5e(h),b=E=>{a.execute("element.updateModdleProperties",{element:e,moddleElement:h,properties:{[m]:E||""}})};return Ts({element:e,id:n+"scriptValue",label:c("Script"),getValue:g,setValue:b,debounce:d,monospace:!0})}function S4t(t){let{element:e,idPrefix:n,script:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=i||K(e),m=()=>h.get("camunda:resource"),g=b=>{a.execute("element.updateModdleProperties",{element:e,moddleElement:h,properties:{"camunda:resource":b||""}})};return Le({element:e,id:n+"scriptResource",label:c("Resource"),getValue:m,setValue:g,debounce:d})}function T5e(t){let e=K(t);if(typeof k5e(e)<"u")return"script";if(typeof e.get("camunda:resource")<"u")return"resource"}function k5e(t){return t.get(GW(t))}function O4t(t){return M(t,"camunda:Script")}function GW(t){return O4t(t)?"value":"script"}function D4t(t,e,n){let i=Vt(t,e);return n?(i[0]||{})[n]||[]:i}function P5e(t,e){let n=W0(t);return n&&n.get(e)||[]}function W0(t){if(M(t,"camunda:Connector"))return t.get("inputOutput");let e=K(t);return(D4t(e,"camunda:InputOutput")||[])[0]}function I5e(t){return P5e(t,"inputParameters")}function M5e(t){return P5e(t,"outputParameters")}function A5e(t){let e=K(t);return M(e,"bpmn:FlowNode")&&!(He(e,["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:Gateway"])||M(e,"bpmn:SubProcess")&&e.get("triggeredByEvent"))}function T4t(t){return A5e(t)}function k4t(t){let e=K(t);return A5e(t)&&!M(e,"bpmn:EndEvent")&&!e.loopCharacteristics}function R5e(t){let e={"camunda:Map":"map","camunda:List":"list","camunda:Script":"script"},n="stringOrExpression",i=t.get("definition");return typeof i<"u"&&(n=e[i.$type]),n}function QW(t,e,n,i){let a=e==="camunda:InputParameter",c=Fe(e,{name:uh(a?"Input_":"Output_")},n,i),d=a?"inputParameters":"outputParameters";return{cmd:"element.updateModdleProperties",context:{element:t,moddleElement:n,properties:{[d]:[...n.get(d),c]}}}}function L5e(t,e,n){let i=[],a=K(t),c=a.get("extensionElements");c||(c=Fe("bpmn:ExtensionElements",{values:[]},a,n),i.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:a,properties:{extensionElements:c}}}));let d=W0(t);return d||(d=Fe("camunda:InputOutput",{inputParameters:[],outputParameters:[]},c,n),i.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:c,properties:{values:[...c.get("values"),d]}}})),i.push(QW(t,e,d,n)),i}function P4t(t){let{element:e,id:n,index:i,item:a}=t,c=`${n}-listItem-${i}`;return z(M4t,{idPrefix:c,element:e,item:a})}function I4t(t){let{idPrefix:e,element:n,parameter:i}=t,a=A("bpmnFactory"),c=A("commandStack"),d=A("translate"),h=i.get("definition"),m=h.get("items");function g(){let E=Fe("camunda:Value",{},i,a);c.execute("element.updateModdleProperties",{element:n,moddleElement:h,properties:{items:[...h.get("items"),E]}})}function b(E){c.execute("element.updateModdleProperties",{element:n,moddleElement:h,properties:{items:or(h.get("items"),E)}})}return z0({element:n,autoFocusEntry:!0,id:e+"-list",items:m,label:d("List values"),onAdd:g,onRemove:b,component:P4t})}function M4t(t){let{idPrefix:e,element:n,item:i}=t,a=A("commandStack"),c=A("translate"),d={"camunda:Map":c("Map"),"camunda:List":c("List"),"camunda:Script":c("Script")},h=()=>Ewe(i)?d[i.$type]:i.get("value"),m=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{value:g}})};return A4t({id:e+"-value",disabled:Ewe(i),getValue:h,setValue:m})}function A4t(t){let{id:e,disabled:n,getValue:i,setValue:a}=t,c=A("debounceInput",!0);return z(TU,{id:e,getValue:i,setValue:a,disabled:n,debounce:c})}function R4t(t){return M(t,"camunda:Script")}function L4t(t){return M(t,"camunda:List")}function $4t(t){return M(t,"camunda:Map")}function Ewe(t){return R4t(t)||L4t(t)||$4t(t)}function N4t(t){let{element:e,id:n,index:i,item:a,open:c}=t,d=`${n}-mapEntry-${i}`,h=A("translate");return z(V0,{id:d,element:e,entries:B4t({element:e,entry:a,idPrefix:d}),label:a.get("key")||h("<empty>"),open:c})}function F4t(t){let{idPrefix:e,element:n,parameter:i}=t,a=A("bpmnFactory"),c=A("commandStack"),d=A("translate"),h=e+"-map",m=i.get("definition"),g=m.get("entries");function b(){let _=Fe("camunda:Entry",{},i,a);c.execute("element.updateModdleProperties",{element:n,moddleElement:m,properties:{entries:[...m.get("entries"),_]}})}function E(_){c.execute("element.updateModdleProperties",{element:n,moddleElement:m,properties:{entries:or(m.get("entries"),_)}})}return z0({element:n,autoFocusEntry:`[data-entry-id="${h}-mapEntry-${g.length-1}"] input`,id:e+"-map",items:g,label:d("Map entries"),onAdd:b,onRemove:E,component:N4t})}function B4t(t){let{element:e,entry:n,idPrefix:i}=t;return[{id:i+"-key",component:j4t,entry:n,idPrefix:i,element:e},{id:i+"-value",component:V4t,entry:n,idPrefix:i,element:e}]}function j4t(t){let{element:e,entry:n,idPrefix:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:{key:g}})},m=()=>n.get("key");return Le({element:n,id:i+"-key",label:c("Key"),getValue:m,setValue:h,debounce:d})}function V4t(t){let{element:e,entry:n,idPrefix:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=n.get("definition"),m={"camunda:Map":c("Map"),"camunda:List":c("List"),"camunda:Script":c("Script")},g=E=>{a.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:{value:E}})},b=()=>wwe(h)?m[h.$type]:n.get("value");return Le({element:n,id:i+"-value",label:c("Value"),getValue:b,setValue:g,disabled:wwe(h),debounce:d})}function z4t(t){return M(t,"camunda:Script")}function H4t(t){return M(t,"camunda:List")}function U4t(t){return M(t,"camunda:Map")}function wwe(t){return z4t(t)||H4t(t)||U4t(t)}var q4t={value:void 0,definition:void 0};function jP(t){let{idPrefix:e,element:n,parameter:i}=t,a=R5e(i),c=[{id:e+"-name",component:W4t,isEdited:Ve,idPrefix:e,parameter:i},{id:e+"-type",component:G4t,isEdited:pr,idPrefix:e,parameter:i}];if(a==="stringOrExpression")c.push({id:e+"-stringOrExpression",component:Q4t,isEdited:Ra,idPrefix:e,parameter:i});else if(a==="script"){let d=i.get("definition");c=[...c,...WW({element:n,prefix:e+"-",script:d})]}else a==="list"?c.push({id:`${e}-list`,component:I4t,idPrefix:e,parameter:i}):a==="map"&&c.push({id:`${e}-map`,component:F4t,idPrefix:e,parameter:i});return c}function W4t(t){let{idPrefix:e,element:n,parameter:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{name:g}})},m=g=>g.get("name");return Le({element:i,id:e+"-name",label:c(Y4t(i)?"Local variable name":"Process variable name"),getValue:m,setValue:h,debounce:d})}function G4t(t){let{idPrefix:e,element:n,parameter:i}=t,a=A("bpmnFactory"),c=A("commandStack"),d=A("translate"),h=E=>Fe(E,{},i,a),m=E=>R5e(E),g=E=>{let _=se({},q4t);E==="script"?_.definition=h("camunda:Script"):E==="list"?_.definition=h("camunda:List"):E==="map"&&(_.definition=h("camunda:Map")),c.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:_})},b=()=>[{label:d("List"),value:"list"},{label:d("Map"),value:"map"},{label:d("Script"),value:"script"},{label:d("String or expression"),value:"stringOrExpression"}];return sr({element:i,id:e+"-type",label:d("Assignment type"),getValue:m,setValue:g,getOptions:b})}function Q4t(t){let{idPrefix:e,element:n,parameter:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{value:g}})},m=g=>g.get("value");return Ts({element:i,id:e+"-stringOrExpression",label:c("Value"),description:c('Start typing "${}" to create an expression.'),getValue:m,setValue:h,rows:1,debounce:d})}function Y4t(t){return M(t,"camunda:InputParameter")}function PP(t){return M(t,"camunda:ServiceTaskLike")}function TW(t){return M(t,"camunda:DmnCapable")}function kW(t){return M(t,"camunda:ExternalCapable")}function ls(t){if(M(t,"bpmn:IntermediateThrowEvent")||M(t,"bpmn:EndEvent")){let e=j1(t);e&&(t=e)}return PP(t)&&K(t)}function B1(t){let e=X4t(t)||ls(t);if(!e)return;if(TW(e)&&typeof e.get("camunda:decisionRef")<"u")return"dmn";if(PP(e)&&Vt(e,"camunda:Connector").length)return"connector";if(kW(e)&&e.get("camunda:type")==="external")return"external";if(typeof e.get("camunda:class")<"u")return"class";if(typeof e.get("camunda:expression")<"u")return"expression";if(typeof e.get("camunda:delegateExpression")<"u")return"delegateExpression";if(typeof e.get("script")<"u")return"script"}function X4t(t){if(He(t,["camunda:ExecutionListener","camunda:TaskListener"]))return t}function $5e(t){let e=ls(t);return e&&B1(e)==="connector"}function K4t(t){return Vt(t,"camunda:Connector")}function N5e(t){let e=ls(t);return K4t(e)[0]}function Z4t(t){let{element:e,injector:n}=t;if(!$5e(e))return null;let i=N5e(e),a=n.get("commandStack"),c=n.get("bpmnFactory"),h=(I5e(i)||[]).map((g,b)=>{let E=e.id+"-connector-inputParameter-"+b;return{id:E,label:g.get("name")||"",entries:jP({element:e,idPrefix:E,parameter:g}),autoFocusEntry:E+"-name",remove:J4t({connector:i,element:e,parameter:g,commandStack:a})}});function m(g){g.stopPropagation();let b=[],E=W0(i);E||(E=Fe("camunda:InputOutput",{inputParameters:[],outputParameters:[]},i,c),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:i,properties:{inputOutput:E}}})),b.push(QW(e,"camunda:InputParameter",E,c)),a.execute("properties-panel.multi-command-executor",b)}return{items:h,add:m}}function J4t(t){let{commandStack:e,connector:n,element:i,parameter:a}=t;return function(c){c.stopPropagation();let d=W0(n);d&&e.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{inputParameters:or(d.get("inputParameters"),a)}})}}function e_t(t){let{element:e,injector:n}=t;if(!$5e(e))return null;let i=N5e(e),a=n.get("commandStack"),c=n.get("bpmnFactory"),h=(M5e(i)||[]).map((g,b)=>{let E=e.id+"-connector-outputParameter-"+b;return{id:E,label:g.get("name")||"",entries:jP({idPrefix:E,element:e,parameter:g}),autoFocusEntry:E+"-name",remove:t_t({connector:i,element:e,commandStack:a,parameter:g})}});function m(g){g.stopPropagation();let b=[],E=W0(i);E||(E=Fe("camunda:InputOutput",{inputParameters:[],outputParameters:[]},i,c),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:i,properties:{inputOutput:E}}})),b.push(QW(e,"camunda:OutputParameter",E,c)),a.execute("properties-panel.multi-command-executor",b)}return{items:h,add:m}}function t_t(t){let{commandStack:e,connector:n,element:i,parameter:a}=t;return function(c){c.stopPropagation();let d=W0(n);d&&e.execute("element.updateModdleProperties",{element:i,moddleElement:d,properties:{outputParameters:or(d.get("outputParameters"),a)}})}}function n_t(t){let{element:e,entries:n}=t;if(!Fwe(e))return n;if(U0(e)){let a=a_t(n,"errorCode");n.splice(a,0,{id:"errorMessage",component:r_t,isEdited:Ve})}return s_t(e)&&n.push({id:"errorCodeVariable",component:i_t,isEdited:Ve},{id:"errorMessageVariable",component:o_t,isEdited:Ve}),n}function r_t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=U0(e),d=()=>c.get("camunda:errorMessage"),h=m=>n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:errorMessage":m}});return Le({element:e,id:"errorMessage",label:i("Message"),getValue:d,setValue:h,debounce:a})}function i_t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=Kb(e),d=()=>c.get("camunda:errorCodeVariable"),h=m=>n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:errorCodeVariable":m}});return Le({element:e,id:"errorCodeVariable",label:i("Code variable"),description:i("Define the name of the variable that will contain the error code."),getValue:d,setValue:h,debounce:a})}function o_t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=Kb(e),d=()=>c.get("camunda:errorMessageVariable"),h=m=>n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:errorMessageVariable":m}});return Le({element:e,id:"errorMessageVariable",label:i("Message variable"),description:i("Define the name of the variable that will contain the error message."),getValue:d,setValue:h,debounce:a})}function s_t(t){return M(t,"bpmn:StartEvent")||M(t,"bpmn:BoundaryEvent")}function a_t(t,e){let n=Yl(t,i=>i.id===e);return n>=0?n+1:t.length}var _we="",Cwe="create-new";function l_t(t){let{idPrefix:e,errorEventDefinition:n}=t,i=[{id:e+"-errorRef",component:c_t,isEdited:pr,errorEventDefinition:n,idPrefix:e}],a=n.get("errorRef");return a&&(i=[...i,{id:e+"-errorName",component:u_t,isEdited:Ve,error:a,errorEventDefinition:n,idPrefix:e},{id:e+"-errorCode",component:d_t,isEdited:Ve,error:a,errorEventDefinition:n,idPrefix:e},{id:e+"-errorMessage",component:f_t,isEdited:Ve,error:a,errorEventDefinition:n,idPrefix:e}]),i.push({id:e+"-expression",component:h_t,errorEventDefinition:n,idPrefix:e}),i}function c_t(t){let{element:e,errorEventDefinition:n,idPrefix:i}=t,a=A("bpmnFactory"),c=A("commandStack"),d=A("translate"),h=K(e),m=()=>{let E=n.get("errorRef");return E?E.get("id"):_we},g=E=>{let _=Jb(h),S=[],D;return E===Cwe&&(D=Fe("bpmn:Error",{name:uh("Error_")},_,a),E=D.get("id"),S.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{rootElements:[..._.get("rootElements"),D]}}})),D=D||Q4(h,"bpmn:Error",E),S.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:n,properties:{errorRef:D}}}),c.execute("properties-panel.multi-command-executor",S)},b=()=>{let E=[{value:_we,label:d("<none>")},{value:Cwe,label:d("Create new ...")}],_=e3(K(e),"bpmn:Error");return p_t(_).forEach(S=>{E.push({value:S.get("id"),label:S.get("name")||S.get("id")})}),E};return Xb({element:e,id:i+"-errorRef",label:d("Global error reference"),autoFocusEntry:i+"-errorName",getValue:m,setValue:g,getOptions:b})}function u_t(t){let{element:e,error:n,idPrefix:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=()=>n.get("name"),m=g=>a.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:{name:g}});return Le({element:e,id:i+"-errorName",label:c("Name"),getValue:h,setValue:m,debounce:d})}function d_t(t){let{element:e,error:n,idPrefix:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=()=>n.get("errorCode"),m=g=>a.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:{errorCode:g}});return Le({element:e,id:i+"-errorCode",label:c("Code"),getValue:h,setValue:m,debounce:d})}function f_t(t){let{element:e,error:n,idPrefix:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=()=>n.get("errorMessage"),m=g=>a.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:{errorMessage:g}});return Le({element:e,id:i+"-errorMessage",label:c("Message"),getValue:h,setValue:m,debounce:d})}function h_t(t){let{element:e,errorEventDefinition:n,idPrefix:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:{"camunda:expression":g}})},m=()=>n.get("camunda:expression");return Le({element:n,id:i+"-expression",label:c("Throw expression"),getValue:m,setValue:h,debounce:d})}function p_t(t){return fr(t,e=>(e.name||"").toLowerCase())}function m_t({element:t,injector:e}){let n=K(t);if(!M(t,"bpmn:ServiceTask")||B1(t)!=="external")return null;let i=Vt(n,"camunda:ErrorEventDefinition"),a=e.get("bpmnFactory"),c=e.get("commandStack");return{items:i.map((h,m)=>{let g=t.id+"-error-"+m;return{id:g,label:y_t(h),entries:l_t({idPrefix:g,element:t,errorEventDefinition:h}),autoFocusEntry:g+"-errorRef",remove:g_t({commandStack:c,element:t,errorEventDefinition:h})}}),add:v_t({bpmnFactory:a,commandStack:c,element:t})}}function g_t({commandStack:t,element:e,errorEventDefinition:n}){return function(i){i.stopPropagation();let a=K(e);vc(e,a,n,t)}}function v_t({bpmnFactory:t,commandStack:e,element:n}){return function(i){i.stopPropagation();let a=K(n),c=Fe("camunda:ErrorEventDefinition",{},void 0,t);dh(n,a,c,t,e)}}function y_t(t){let e=t.get("errorRef");if(!e)return"<no reference>";let n=e.get("errorCode"),i=e.get("name")||"<unnamed>";return n?`${i} (code = ${n})`:i}function b_t(t){let{element:e,entries:n}=t;return Vwe(e)&&E_t(e)&&n.push({id:"escalationCodeVariable",component:x_t,isEdited:Ve}),n}function x_t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=IP(e),d=()=>c.get("camunda:escalationCodeVariable"),h=m=>n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:escalationCodeVariable":m}});return Le({element:e,id:"escalationCodeVariable",label:i("Code variable"),description:i("Define the name of the variable that will contain the escalation code."),getValue:d,setValue:h,debounce:a})}function E_t(t){return M(t,"bpmn:StartEvent")||M(t,"bpmn:BoundaryEvent")}function w_t(t){let{element:e}=t,n=K(e);return!M(e,"bpmn:Process")&&!(M(e,"bpmn:Participant")&&n.get("processRef"))&&!F5e(e)?[]:[{id:"externalTaskPriority",component:__t,isEdited:Ve}]}function __t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c;M(e,"bpmn:Participant")?c=K(e).get("processRef"):F5e(e)?c=ls(e):c=K(e);let d=()=>c.get("camunda:taskPriority"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:taskPriority":m}})};return Le({element:e,id:"externalTaskPriority",label:i("Priority"),getValue:d,setValue:h,debounce:a})}function F5e(t){let e=ls(t),n=e&&e.get("camunda:type");return M(e,"camunda:ServiceTaskLike")&&n&&n==="external"}var B5e={stringValue:void 0,string:void 0,expression:void 0};function j5e(t){let{element:e,idPrefix:n,field:i}=t;return[{id:n+"-name",component:C_t,field:i,idPrefix:n,element:e},{id:n+"-type",component:S_t,field:i,idPrefix:n,element:e},{id:n+"-value",component:O_t,field:i,idPrefix:n,element:e}]}function C_t(t){let{idPrefix:e,element:n,field:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{name:g}})},m=g=>g.name;return Le({element:i,id:e+"-name",label:c("Name"),getValue:m,setValue:h,debounce:d})}function S_t(t){let{idPrefix:e,element:n,field:i}=t,a=A("commandStack"),c=A("translate"),d=g=>V5e(g),h=g=>{let b=Object.assign({},B5e);b[g]="",a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:b})},m=g=>[{value:"string",label:c("String")},{value:"expression",label:c("Expression")}];return sr({element:i,id:e+"-type",label:c("Type"),getValue:d,setValue:h,getOptions:m})}function O_t(t){let{idPrefix:e,element:n,field:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{let b=V5e(i),E=Object.assign({},B5e);E[b]=g||"",a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:E})},m=g=>g.string||g.stringValue||g.expression;return Ts({element:i,id:e+"-value",label:c("Value"),getValue:m,setValue:h,debounce:d,autoResize:!0})}function V5e(t){return"string"in t&&"string"||"expression"in t&&"expression"||"stringValue"in t&&"string"||"string"}function D_t({element:t,injector:e}){let n=ls(t);if(!n)return null;let i=Vt(n,"camunda:Field"),a=e.get("bpmnFactory"),c=e.get("commandStack");return{items:i.map((h,m)=>{let g=t.id+"-fieldInjection-"+m;return{id:g,label:P_t(h),entries:j5e({idPrefix:g,element:t,field:h}),autoFocusEntry:g+"-name",remove:T_t({commandStack:c,element:t,field:h})}}),add:k_t({bpmnFactory:a,commandStack:c,element:t})}}function T_t({commandStack:t,element:e,field:n}){return function(i){i.stopPropagation();let a=ls(e);vc(e,a,n,t)}}function k_t({bpmnFactory:t,commandStack:e,element:n}){return function(i){i.stopPropagation();let a=ls(n),c=Fe("camunda:Field",{name:void 0,string:"",stringValue:void 0},null,t);dh(n,a,c,t,e)}}function P_t(t){return t.name||"<empty>"}function I_t(t){let{constraint:e,element:n,idPrefix:i}=t;return[{id:i+"-name",component:M_t,constraint:e,idPrefix:i,element:n},{id:i+"-config",component:A_t,constraint:e,idPrefix:i,element:n}]}function M_t(t){let{idPrefix:e,element:n,constraint:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{name:g}})},m=()=>i.name;return Le({element:i,id:e+"-name",label:c("Name"),getValue:m,setValue:h,debounce:d})}function A_t(t){let{idPrefix:e,element:n,constraint:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{config:g}})},m=()=>i.config;return Le({element:i,id:e+"-config",label:c("Config"),getValue:m,setValue:h,debounce:d})}function R_t(t){let{element:e,idPrefix:n,property:i}=t;return[{id:n+"-id",component:L_t,idPrefix:n,property:i,element:e},{id:n+"-value",component:$_t,idPrefix:n,property:i,element:e}]}function L_t(t){let{idPrefix:e,element:n,property:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{id:g}})},m=()=>i.id;return Le({element:i,id:e+"-id",label:c("ID"),getValue:m,setValue:h,debounce:d})}function $_t(t){let{idPrefix:e,element:n,property:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{value:g}})},m=()=>i.value;return Le({element:i,id:e+"-value",label:c("Value"),getValue:m,setValue:h,debounce:d})}function N_t(t){let{element:e,idPrefix:n,value:i}=t;return[{id:n+"-id",component:F_t,idPrefix:n,value:i,element:e},{id:n+"-name",component:B_t,idPrefix:n,value:i,element:e}]}function F_t(t){let{idPrefix:e,element:n,value:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{id:g}})},m=()=>i.id;return Le({element:i,id:e+"-id",label:c("ID"),getValue:m,setValue:h,debounce:d})}function B_t(t){let{idPrefix:e,element:n,value:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{name:g}})},m=()=>i.name;return Le({element:i,id:e+"-name",label:c("Name"),getValue:m,setValue:h,debounce:d})}var Swe="",z5e=["boolean","date","enum","long","string",void 0];function j_t(t){let{idPrefix:e,formField:n}=t,i=[{id:e+"-formFieldID",component:V_t,idPrefix:e,formField:n},{id:e+"-formFieldLabel",component:z_t,idPrefix:e,formField:n},{id:e+"-formFieldType",component:H_t,idPrefix:e,formField:n}];return z5e.includes(n.get("type"))||i.push({id:e+"-formFieldCustomType",component:U_t,idPrefix:e,formField:n}),i.push({id:e+"-formFieldDefaultValue",component:q_t,idPrefix:e,formField:n}),n.get("type")==="enum"&&i.push({id:e+"-formFieldValues",component:G_t,formField:n,idPrefix:e}),i.push({id:e+"-formFieldConstraints",component:Y_t,formField:n,idPrefix:e},{id:e+"-formFieldProperties",component:K_t,formField:n,idPrefix:e}),i}function V_t(t){let{idPrefix:e,element:n,formField:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{id:g}})},m=()=>i.get("id");return Le({element:i,id:e+"-formFieldID",label:c("ID"),description:c("Refers to the process variable name"),getValue:m,setValue:h,debounce:d})}function z_t(t){let{idPrefix:e,element:n,formField:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{label:g}})},m=()=>i.get("label");return Le({element:i,id:e+"-formFieldLabel",label:c("Label"),getValue:m,setValue:h,debounce:d})}function H_t(t){let{idPrefix:e,element:n,formField:i}=t,a=A("commandStack"),c=A("translate"),d=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{type:g}})},h=()=>{let g=i.get("type");return z5e.includes(g)?g:Swe},m=()=>{let g=[{label:c("boolean"),value:"boolean"},{label:c("date"),value:"date"},{label:c("enum"),value:"enum"},{label:c("long"),value:"long"},{label:c("string"),value:"string"},{label:c("<custom type>"),value:Swe}];return i.get("type")===void 0&&g.unshift({label:c("<none>"),value:""}),g};return sr({element:i,id:e+"-formFieldType",label:c("Type"),getValue:h,setValue:d,getOptions:m})}function U_t(t){let{idPrefix:e,element:n,formField:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{let b=g||"";a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{type:b}})},m=()=>i.get("type");return Le({element:i,id:e+"-formFieldCustomType",label:c("Custom type"),getValue:m,setValue:h,debounce:d})}function q_t(t){let{idPrefix:e,element:n,formField:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{defaultValue:g}})},m=()=>i.get("defaultValue");return Le({element:i,id:e+"-formFieldDefaultValue",label:c("Default value"),getValue:m,setValue:h,debounce:d})}function W_t(t){let{element:e,id:n,index:i,item:a,open:c}=t,d=A("translate"),h=`${n}-value-${i}`;return z(V0,{id:h,element:e,entries:N_t({idPrefix:h,element:e,value:a}),label:a.get("id")||d("<empty>"),open:c})}function G_t(t){let{element:e,formField:n,idPrefix:i}=t,a=`${i}-formFieldValues`,c=A("bpmnFactory"),d=A("commandStack"),h=A("translate"),m=n.get("values")||[];function g(){let E=Fe("camunda:Value",{id:void 0,name:void 0},n,c);d.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:{values:[...n.get("values"),E]}})}function b(E){d.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:{values:or(n.get("values"),E)}})}return z(z0,{element:e,autoFocusEntry:`[data-entry-id="${a}-value-${m.length-1}"] input`,id:a,label:h("Values"),items:m,component:W_t,onAdd:g,onRemove:b})}function Q_t(t){let{element:e,id:n,index:i,item:a,open:c}=t,d=A("translate"),h=`${n}-constraint-${i}`;return z(V0,{id:h,element:e,entries:I_t({constraint:a,element:e,idPrefix:h}),label:a.get("name")||d("<empty>"),open:c})}function Y_t(t){let{element:e,formField:n,idPrefix:i}=t,a=`${i}-formFieldConstraints`,c=A("bpmnFactory"),d=A("commandStack"),h=A("translate"),m=K(e),g=n.get("validation"),b=g&&g.get("constraints")||[];function E(){let S=[];g||(g=Fe("camunda:Validation",{},m,c),S.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:n,properties:{validation:g}}}));let D=Fe("camunda:Constraint",{name:void 0,config:void 0},g,c);S.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:g,properties:{constraints:[...g.get("constraints"),D]}}}),d.execute("properties-panel.multi-command-executor",S)}function _(S){d.execute("element.updateModdleProperties",{element:e,moddleElement:g,properties:{constraints:or(g.get("constraints"),S)}})}return z(z0,{element:e,autoFocusEntry:`[data-entry-id="${a}-constraint-${b.length-1}"] input`,id:a,label:h("Constraints"),items:b,component:Q_t,onAdd:E,onRemove:_})}function X_t(t){let{element:e,id:n,index:i,item:a,open:c}=t,d=A("translate"),h=`${n}-property-${i}`;return z(V0,{id:h,element:e,entries:R_t({element:e,idPrefix:h,property:a}),label:a.get("id")||d("<empty>"),open:c})}function K_t(t){let{element:e,formField:n,idPrefix:i}=t,a=`${i}-formFieldProperties`,c=A("bpmnFactory"),d=A("commandStack"),h=A("translate"),m=K(e),g=n.get("properties"),b=g&&g.get("values")||[];function E(){let S=[];g||(g=Fe("camunda:Properties",{},m,c),S.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:n,properties:{properties:g}}}));let D=Fe("camunda:Property",{id:void 0,value:void 0},g,c);S.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:g,properties:{values:[...g.get("values"),D]}}}),d.execute("properties-panel.multi-command-executor",S)}function _(S){d.execute("element.updateModdleProperties",{element:e,moddleElement:g,properties:{values:or(g.get("values"),S)}})}return z(z0,{element:e,autoFocusEntry:`[data-entry-id="${a}-property-${b.length-1}"] input`,id:a,label:h("Properties"),items:b,component:X_t,onAdd:E,onRemove:_})}function Z_t({element:t,injector:e}){if(!tCt(t))return;let n=H5e(t)||[],i=e.get("bpmnFactory"),a=e.get("commandStack");return{items:n.map((d,h)=>{let m=t.id+"-formField-"+h;return{id:m,label:d.get("id")||"",entries:j_t({idPrefix:m,element:t,formField:d}),autoFocusEntry:m+"-formFieldID",remove:eCt({commandStack:a,element:t,formField:d})}}),add:J_t({bpmnFactory:i,commandStack:a,element:t})}}function J_t({bpmnFactory:t,commandStack:e,element:n}){return function(i){i.stopPropagation();let a=[],c=VP(n),d=Fe("camunda:FormField",{},c,t);a.push({cmd:"element.updateModdleProperties",context:{element:n,moddleElement:c,properties:{fields:[...c.get("fields"),d]}}}),e.execute("properties-panel.multi-command-executor",a)}}function eCt({commandStack:t,element:e,formField:n}){return function(i){i.stopPropagation();let a=VP(e),c=H5e(e);if(!c||!c.length)return;let d=or(a.get("fields"),n);t.execute("element.updateModdleProperties",{element:e,moddleElement:a,properties:{fields:d}})}}function tCt(t){let e=VP(t);return(M(t,"bpmn:StartEvent")&&!M(t.parent,"bpmn:SubProcess")||M(t,"bpmn:UserTask"))&&e}function VP(t){let e=K(t);return Vt(e,"camunda:FormData")[0]}function H5e(t){let e=K(t),n=VP(e);return n&&n.fields}var nCt={"camunda:formRef":void 0,"camunda:formRefBinding":void 0,"camunda:formRefVersion":void 0},rCt={"camunda:formKey":void 0};function iCt(t){return[{id:"formType",component:oCt,isEdited:pr}]}function oCt(t){let{element:e}=t,n=A("translate"),i=A("bpmnFactory"),a=K(e),c=A("commandStack"),d=a.get("extensionElements"),h=()=>In(a.get("camunda:formKey"))?"formKey":In(a.get("camunda:formRef"))?"formRef":PW(e)?"formData":"",m=b=>{let E=sCt(e);if(b==="formData"){d||(d=Fe("bpmn:ExtensionElements",{values:[]},a,i),E.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:a,properties:{extensionElements:d}}}));let S=Fe("camunda:FormData",{fields:[]},d,i);E.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:d,properties:{values:[...d.get("values"),S]}}})}else b==="formKey"?E.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:a,properties:{"camunda:formKey":""}}}):b==="formRef"&&E.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:a,properties:{"camunda:formRef":""}}});c.execute("properties-panel.multi-command-executor",E)},g=()=>[{value:"",label:n("<none>")},{value:"formRef",label:n("Camunda Forms")},{value:"formKey",label:n("Embedded or External Task Forms")},{value:"formData",label:n("Generated Task Forms")}];return sr({element:e,id:"formType",label:n("Type"),getValue:h,setValue:m,getOptions:g})}function PW(t){let e=K(t);return Vt(e,"camunda:FormData")[0]}function sCt(t,e){let n=K(t),i=n.get("extensionElements"),a=[];return a.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:n,properties:se(se({},nCt),rCt)}}),i&&PW(t)&&a.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:i,properties:{values:or(i.get("values"),PW(t))}}}),a}function U5e(t){return K(t).get("camunda:formRefBinding")||"latest"}function aCt(t){let e=K(t);if(In(e.get("camunda:formKey")))return"formKey";if(In(e.get("camunda:formRef")))return"formRef"}function lCt(t){return M(t,"bpmn:StartEvent")&&!M(t.parent,"bpmn:SubProcess")||M(t,"bpmn:UserTask")}function cCt(t){let{element:e}=t;if(!lCt(e))return[];let n=aCt(e),i=U5e(e),a=[...iCt()];return n==="formKey"?a.push({id:"formKey",component:uCt,isEdited:Ve}):n==="formRef"&&(a.push({id:"formRef",component:dCt,isEdited:Ve},{id:"formRefBinding",component:fCt,isEdited:pr}),i==="version"&&a.push({id:"formRefVersion",component:hCt,isEdited:Ve})),a}function uCt(t){let{element:e}=t,n=A("debounceInput"),i=A("modeling"),a=A("translate"),c=K(e),d=()=>c.get("camunda:formKey"),h=m=>{i.updateProperties(e,{"camunda:formKey":Hi(m)?"":m})};return Le({element:e,id:"formKey",label:a("Form key"),getValue:d,setValue:h,debounce:n})}function dCt(t){let{element:e}=t,n=A("debounceInput"),i=A("modeling"),a=A("translate"),c=K(e),d=()=>c.get("camunda:formRef"),h=m=>{i.updateProperties(e,{"camunda:formRef":Hi(m)?"":m})};return Le({element:e,id:"formRef",label:a("Form reference"),getValue:d,setValue:h,debounce:n})}function fCt(t){let{element:e}=t,n=A("modeling"),i=A("translate"),a=()=>U5e(e),c=h=>{n.updateProperties(e,{"camunda:formRefBinding":h})},d=()=>[{value:"deployment",label:i("deployment")},{value:"latest",label:i("latest")},{value:"version",label:i("version")}];return sr({element:e,id:"formRefBinding",label:i("Binding"),getValue:a,setValue:c,getOptions:d})}function hCt(t){let{element:e}=t,n=A("debounceInput"),i=A("modeling"),a=A("translate"),c=K(e),d=()=>c.get("camunda:formRefVersion"),h=m=>{i.updateProperties(e,{"camunda:formRefVersion":m})};return Le({element:e,id:"formRefVersion",label:a("Version"),getValue:d,setValue:h,debounce:n})}function pCt(t){let{element:e}=t,n=K(e);return!M(e,"bpmn:Process")&&!(M(e,"bpmn:Participant")&&n.get("processRef"))?[]:[{id:"historyTimeToLive",component:mCt,isEdited:Ve}]}function mCt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=gCt(e),d=()=>c.get("camunda:historyTimeToLive")||"",h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:historyTimeToLive":m}})};return Le({element:e,id:"historyTimeToLive",label:i("Time to live"),getValue:d,setValue:h,debounce:a})}function gCt(t){return M(t,"bpmn:Process")?K(t):K(t).get("processRef")}function vCt(t){let{element:e}=t,n=[],i=B1(e),a=q5e(e);return i!=="dmn"||(n.push({id:"decisionRef",component:yCt,isEdited:Ve}),n.push({id:"decisionRefBinding",component:bCt,isEdited:pr}),a==="version"&&n.push({id:"decisionRefVersion",component:xCt,isEdited:Ve}),a==="versionTag"&&n.push({id:"decisionRefVersionTag",component:ECt,isEdited:Ve}),n.push({id:"decisionRefTenantId",component:wCt,isEdited:Ve}),n.push({id:"decisionRefResultVariable",component:_Ct,isEdited:Ve}),W5e(e)&&n.push({id:"mapDecisionResult",component:CCt,isEdited:pr})),n}function yCt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=K(e),d=()=>c.get("camunda:decisionRef"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:decisionRef":m||""}})};return Le({element:e,id:"decisionRef",label:i("Decision reference"),getValue:d,setValue:h,debounce:a})}function bCt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=()=>q5e(e),c=h=>{let m=K(e),g={"camunda:decisionRefVersion":void 0,"camunda:decisionRefVersionTag":void 0,"camunda:decisionRefBinding":h};n.execute("element.updateModdleProperties",{element:e,moddleElement:m,properties:g})},d=()=>[{value:"deployment",label:i("deployment")},{value:"latest",label:i("latest")},{value:"version",label:i("version")},{value:"versionTag",label:i("versionTag")}];return sr({element:e,id:"decisionRefBinding",label:i("Binding"),getValue:a,setValue:c,getOptions:d})}function xCt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=K(e),d=()=>c.get("camunda:decisionRefVersion"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:decisionRefVersion":m}})};return Le({element:e,id:"decisionRefVersion",label:i("Version"),getValue:d,setValue:h,debounce:a})}function ECt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=K(e),d=()=>c.get("camunda:decisionRefVersionTag"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:decisionRefVersionTag":m}})};return Le({element:e,id:"decisionRefVersionTag",label:i("Version tag"),getValue:d,setValue:h,debounce:a})}function wCt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=K(e),d=()=>c.get("camunda:decisionRefTenantId"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:decisionRefTenantId":m}})};return Le({element:e,id:"decisionRefTenantId",label:i("Tenant ID"),getValue:d,setValue:h,debounce:a})}function _Ct(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=K(e),d=()=>W5e(c),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:resultVariable":m}})};return Le({element:e,id:"decisionRefResultVariable",label:i("Result variable"),getValue:d,setValue:h,debounce:a})}function CCt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=K(e),c=()=>a.get("camunda:mapDecisionResult")||"resultList",d=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:a,properties:{"camunda:mapDecisionResult":m}})},h=()=>[{value:"collectEntries",label:i("collectEntries (List<Object>)")},{value:"resultList",label:i("resultList (List<Map<String, Object>>)")},{value:"singleEntry",label:i("singleEntry (TypedValue)")},{value:"singleResult",label:i("singleResult (Map<String, Object>)")}];return sr({element:e,id:"mapDecisionResult",label:i("Map decision result"),getValue:c,setValue:d,getOptions:h})}function q5e(t){return K(t).get("camunda:decisionRefBinding")||"latest"}function W5e(t){return K(t).get("camunda:resultVariable")}var SCt={"camunda:class":void 0,"camunda:expression":void 0,"camunda:delegateExpression":void 0,"camunda:resultVariable":void 0},OCt={"camunda:decisionRef":void 0,"camunda:decisionRefBinding":"latest","camunda:decisionRefVersion":void 0,"camunda:mapDecisionResult":"resultList","camunda:decisionRefTenantId":void 0},DCt={"camunda:type":void 0,"camunda:topic":void 0},G5e="<none>",Q5e="Java class",Y5e="Expression",X5e="Delegate expression",K5e="DMN",Z5e="External",J5e="Connector";function TCt(t){return[{id:"implementationType",component:kCt,isEdited:pr}]}function kCt(t){let{element:e}=t,n=A("bpmnFactory"),i=A("commandStack"),a=A("translate"),c=()=>B1(e)||"",d=m=>{let g=B1(e),b=ls(e),E=[],_=SCt,S=b.get("extensionElements");if(Owe(m)&&(_=Me(se({},_),{[m]:Owe(g)?b.get(`camunda:${g}`):""})),TW(b)&&(_=se(se({},_),OCt),m==="dmn"&&(_=Me(se({},_),{"camunda:decisionRef":""}))),kW(b)&&(_=se(se({},_),DCt),m==="external"&&(_=Me(se({},_),{"camunda:type":"external","camunda:topic":""}))),PP(b)){let D=PCt(b);if(D.length&&E.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:S,properties:{values:or(S.get("values"),k=>D.includes(k))}}}),m==="connector"){S||(S=Fe("bpmn:ExtensionElements",{values:[]},b,n),E.push(Dwe(e,b,{extensionElements:S})));let k=Fe("camunda:Connector",{},S,n);E.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:S,properties:{values:[...S.get("values"),k]}}})}}E.push(Dwe(e,b,_)),i.execute("properties-panel.multi-command-executor",E)},h=()=>{let m=ls(e),g=[{value:"",label:a(G5e)},{value:"class",label:a(Q5e)},{value:"expression",label:a(Y5e)},{value:"delegateExpression",label:a(X5e)}];return TW(m)&&g.push({value:"dmn",label:a(K5e)}),kW(m)&&g.push({value:"external",label:a(Z5e)}),PP(m)&&g.push({value:"connector",label:a(J5e)}),ICt(g)};return sr({element:e,id:"implementationType",label:a("Type"),getValue:c,setValue:d,getOptions:h})}function Owe(t){return["class","expression","delegateExpression"].includes(t)}function PCt(t){return Vt(t,"camunda:Connector")}function Dwe(t,e,n){return{cmd:"element.updateModdleProperties",context:{element:t,moddleElement:e,properties:n}}}function ICt(t){let e={[G5e]:0,[Q5e]:3,[Y5e]:4,[X5e]:5,[K5e]:1,[Z5e]:2,[J5e]:6};return fr(t,n=>e[n.label])}function MCt(t){let{element:e}=t;if(!ls(e))return[];let n=B1(e),i=[...TCt()];return n==="class"?i.push({id:"javaClass",component:e4e,isEdited:Ve}):n==="expression"?i.push({id:"expression",component:t4e,isEdited:Ve},{id:"expressionResultVariable",component:ACt,isEdited:Ve}):n==="delegateExpression"?i.push({id:"delegateExpression",component:n4e,isEdited:Ve}):n==="dmn"?i.push(...vCt({element:e})):n==="external"?i.push({id:"externalTopic",component:RCt,isEdited:Ve}):n==="connector"&&i.push({id:"connectorId",component:LCt,isEdited:Ve}),i}function e4e(t){let{element:e,businessObject:n=ls(e),id:i="javaClass"}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=()=>n.get("camunda:class"),m=g=>{a.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:{"camunda:class":g||""}})};return Le({element:e,id:i,label:c("Java class"),getValue:h,setValue:m,debounce:d})}function t4e(t){let{element:e,businessObject:n=ls(e),id:i="expression"}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=()=>n.get("camunda:expression"),m=g=>{a.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:{"camunda:expression":g||""}})};return Le({element:e,id:i,label:c("Expression"),getValue:h,setValue:m,debounce:d})}function ACt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=ls(e),d=()=>c.get("camunda:resultVariable"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:resultVariable":m}})};return Le({element:e,id:"expressionResultVariable",label:i("Result variable"),getValue:d,setValue:h,debounce:a})}function n4e(t){let{element:e,businessObject:n=ls(e),id:i="delegateExpression"}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=()=>n.get("camunda:delegateExpression"),m=g=>{a.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:{"camunda:delegateExpression":g||""}})};return Le({element:e,id:i,label:c("Delegate expression"),getValue:h,setValue:m,debounce:d})}function RCt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=ls(e),d=()=>c.get("camunda:topic"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:topic":m}})};return Le({element:e,id:"externalTopic",label:i("Topic"),getValue:d,setValue:h,debounce:a})}function LCt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=NCt(e),d=()=>c.get("camunda:connectorId"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:connectorId":m}})};return Le({element:e,id:"connectorId",label:i("Connector ID"),getValue:d,setValue:h,debounce:a})}function $Ct(t){return Vt(t,"camunda:Connector")}function NCt(t){let e=ls(t);return $Ct(e)[0]}function FCt(t){let{element:e}=t;return jCt(e)?[{id:"initiator",component:BCt,isEdited:Ve}]:[]}function BCt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=K(e),d=()=>c.get("camunda:initiator"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:initiator":m}})};return Le({element:e,id:"initiator",label:i("Initiator"),getValue:d,setValue:h,debounce:a})}function jCt(t){return M(t,"camunda:Initiator")&&!M(t.parent,"bpmn:SubProcess")}function VCt(t){let{element:e}=t;if(!UCt(e))return[];let n=[{id:"inMapping-propagation",component:zCt,isEdited:gl}];return r4e(e)&&n.push({id:"inMapping-propagation-local",component:HCt,isEdited:gl}),n}function zCt(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=()=>r4e(e),d=g=>{g?h():m()};function h(){let g=pu(e)||K(e),b=Fe("camunda:In",{variables:"all"},null,i);dh(e,g,b,i,n)}function m(){let g=pu(e)||K(e),b=YW(e);vc(e,g,b,n)}return as({id:"inMapping-propagation",label:a("Propagate all variables"),getValue:c,setValue:d})}function HCt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=YW(e)[0],c=()=>a.get("camunda:local"),d=h=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:a,properties:{local:h}})};return as({element:e,id:"inMapping-propagation-local",label:i("Local"),getValue:c,setValue:d})}function UCt(t){return pu(t)?He(t,["bpmn:IntermediateThrowEvent","bpmn:EndEvent"]):M(t,"bpmn:CallActivity")}function qCt(t){let e=K(t),n=pu(e);return Vt(n||e,"camunda:In")}function YW(t){let e=qCt(t);return Ze(e,function(n){let i=n.get("variables");return i&&i==="all"})}function r4e(t){return!!YW(t).length}var WCt={source:void 0,sourceExpression:void 0};function i4e(t){let{idPrefix:e,mapping:n}=t,i=o4e(n),a=[];return a.push({id:e+"-type",component:GCt,idPrefix:e,mapping:n}),i==="source"&&a.push({id:e+"-source",component:QCt,idPrefix:e,mapping:n}),i==="sourceExpression"&&a.push({id:e+"-sourceExpression",component:YCt,idPrefix:e,mapping:n}),a.push({id:e+"-target",component:XCt,idPrefix:e,mapping:n}),a.push({id:e+"-local",component:KCt,idPrefix:e,mapping:n}),a}function GCt(t){let{idPrefix:e,element:n,mapping:i}=t,a=A("commandStack"),c=A("translate"),d=g=>o4e(g),h=g=>{let b=Me(se({},WCt),{[g]:""});a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:b})},m=()=>[{label:c("Source"),value:"source"},{label:c("Source expression"),value:"sourceExpression"}];return sr({element:i,id:e+"-type",label:c("Type"),getValue:d,setValue:h,getOptions:m})}function QCt(t){let{idPrefix:e,element:n,mapping:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{source:g}})},m=g=>g.get("camunda:source");return Le({element:i,id:e+"-source",label:c("Source"),getValue:m,setValue:h,debounce:d})}function YCt(t){let{idPrefix:e,element:n,mapping:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{sourceExpression:g}})},m=g=>g.get("camunda:sourceExpression");return Le({element:i,id:e+"-sourceExpression",label:c("Source expression"),getValue:m,setValue:h,debounce:d})}function XCt(t){let{idPrefix:e,element:n,mapping:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=g=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{target:g}})},m=g=>g.get("camunda:target");return Le({element:i,id:e+"-target",label:c("Target"),getValue:m,setValue:h,debounce:d})}function KCt(t){let{idPrefix:e,element:n,mapping:i}=t,a=A("commandStack"),c=A("translate"),d=()=>i.get("camunda:local"),h=m=>{a.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{local:m}})};return as({element:n,id:e+"-local",label:c("Local"),getValue:d,setValue:h})}function o4e(t){let e="";return typeof t.source<"u"?e="source":typeof t.sourceExpression<"u"&&(e="sourceExpression"),e}function ZCt({element:t,injector:e}){if(!n6t(t))return null;let n=t6t(t)||[],i=e.get("bpmnFactory"),a=e.get("commandStack");return{items:n.map((d,h)=>{let m=t.id+"-inMapping-"+h;return{id:m,label:d.get("target")||"",entries:i4e({idPrefix:m,element:t,mapping:d}),autoFocusEntry:m+"-target",remove:JCt({commandStack:a,element:t,mapping:d})}}),add:e6t({bpmnFactory:i,commandStack:a,element:t})}}function JCt({commandStack:t,element:e,mapping:n}){return function(i){i.stopPropagation();let a=pu(e)||K(e);vc(e,a,n,t)}}function e6t({bpmnFactory:t,commandStack:e,element:n}){return function(i){i.stopPropagation();let a=pu(n)||K(n),c=Fe("camunda:In",{source:""},null,t);dh(n,a,c,t,e)}}function t6t(t){let e=K(t),n=pu(e),i=Vt(n||e,"camunda:In");return Ze(i,function(a){return!a.businessKey&&!(a.variables&&a.variables==="all")})}function n6t(t){return pu(t)?He(t,["bpmn:IntermediateThrowEvent","bpmn:EndEvent"]):M(t,"bpmn:CallActivity")}function r6t(t){let{element:e,injector:n}=t;if(!T4t(e))return null;let i=I5e(e)||[],a=n.get("bpmnFactory"),c=n.get("commandStack"),d=i.map((m,g)=>{let b=e.id+"-inputParameter-"+g;return{id:b,label:m.get("name")||"",entries:jP({idPrefix:b,element:e,parameter:m}),autoFocusEntry:b+"-name",remove:i6t({element:e,commandStack:c,parameter:m})}});function h(m){m.stopPropagation(),c.execute("properties-panel.multi-command-executor",L5e(e,"camunda:InputParameter",a))}return{items:d,add:h}}function i6t(t){let{commandStack:e,element:n,parameter:i}=t;return function(a){a.stopPropagation();let c=W0(n);c&&e.execute("element.updateModdleProperties",{element:n,moddleElement:c,properties:{inputParameters:or(c.get("inputParameters"),i)}})}}function o6t(t){let{element:e}=t,n=K(e),i=[];return(M(e,"camunda:AsyncCapable")&&Twe(n)||kwe(e))&&i.push({id:"retryTimeCycle",component:a6t,isEdited:Ve}),(M(e,"camunda:JobPriorized")&&Twe(n)||M(e,"bpmn:Process")||M(e,"bpmn:Participant")&&n.get("processRef")||kwe(e))&&i.push({id:"jobPriority",component:s6t,isEdited:Ve}),i}function s6t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=M(e,"bpmn:Participant")?K(e).get("processRef"):K(e),d=()=>c.get("camunda:jobPriority"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:jobPriority":m}})};return Le({element:e,id:"jobPriority",label:i("Priority"),getValue:d,setValue:h,debounce:a})}function a6t(t){let{element:e}=t,n=A("bpmnFactory"),i=A("commandStack"),a=A("translate"),c=A("debounceInput"),d=K(e),h=()=>{let g=Vt(d,"camunda:FailedJobRetryTimeCycle")[0];return g&&g.body},m=g=>{let b=[],E=d.get("extensionElements");E||(E=Fe("bpmn:ExtensionElements",{values:[]},d,n),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:d,properties:{extensionElements:E}}}));let _=Vt(d,"camunda:FailedJobRetryTimeCycle")[0];_||(_=Fe("camunda:FailedJobRetryTimeCycle",{},E,n),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:E,properties:{values:[...E.get("values"),_]}}})),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{body:g}}}),i.execute("properties-panel.multi-command-executor",b)};return Le({element:e,id:"retryTimeCycle",label:a("Retry time cycle"),getValue:h,setValue:m,debounce:c})}function l6t(t){return!!(t.get("camunda:asyncBefore")||t.get("camunda:async"))}function c6t(t){return!!t.get("camunda:asyncAfter")}function Twe(t){return c6t(t)||l6t(t)}function kwe(t){return M(t,"bpmn:Event")&&Bwe(t)}function u6t(t){let{element:e}=t,n=fh(e),i=t.entries||[];return v6t(e)&&(i.push({id:"collection",component:d6t,isEdited:Ve},{id:"elementVariable",component:f6t,isEdited:Ve},{id:"multiInstanceAsynchronousBefore",component:h6t,isEdited:gl},{id:"multiInstanceAsynchronousAfter",component:p6t,isEdited:gl}),E6t(n)&&i.push({id:"multiInstanceExclusive",component:m6t,isEdited:w6t},{id:"multiInstanceRetryTimeCycle",component:g6t,isEdited:Ve})),i}function d6t(t){let{element:e}=t,n=A("debounceInput"),i=A("commandStack"),a=A("translate"),c=fh(e),d=()=>y6t(e),h=m=>i.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:collection":m}});return Le({element:e,id:"collection",label:a("Collection"),getValue:d,setValue:h,debounce:n})}function f6t(t){let{element:e}=t,n=A("debounceInput"),i=A("commandStack"),a=A("translate"),c=fh(e),d=()=>b6t(e),h=m=>i.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:elementVariable":m}});return Le({element:e,id:"elementVariable",label:a("Element variable"),getValue:d,setValue:h,debounce:n})}function h6t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=fh(e),c=()=>a4e(a),d=h=>{let m={"camunda:asyncBefore":h,"camunda:async":void 0};n.execute("element.updateModdleProperties",{element:e,moddleElement:a,properties:m})};return as({element:e,id:"multiInstanceAsynchronousBefore",label:i("Asynchronous before"),getValue:c,setValue:d})}function p6t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=fh(e),c=()=>l4e(a),d=h=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:a,properties:{"camunda:asyncAfter":h}})};return as({element:e,id:"multiInstanceAsynchronousAfter",label:i("Asynchronous after"),getValue:c,setValue:d})}function m6t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=fh(e),c=()=>x6t(a),d=h=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:a,properties:{"camunda:exclusive":h}})};return as({element:e,id:"multiInstanceExclusive",label:i("Exclusive"),getValue:c,setValue:d})}function g6t(t){let{element:e}=t,n=A("bpmnFactory"),i=A("commandStack"),a=A("translate"),c=A("debounceInput"),d=fh(e),h=()=>{let g=Vt(d,"camunda:FailedJobRetryTimeCycle")[0];return g&&g.body},m=g=>{let b=[],E=d.get("extensionElements");E||(E=Fe("bpmn:ExtensionElements",{values:[]},d,n),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:d,properties:{extensionElements:E}}}));let _=Vt(d,"camunda:FailedJobRetryTimeCycle")[0];_||(_=Fe("camunda:FailedJobRetryTimeCycle",{},E,n),b.push({cmd:"element.updateModdleProperties",context:{element:d,moddleElement:E,properties:{values:[...E.get("values"),_]}}})),b.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:_,properties:{body:g}}}),i.execute("properties-panel.multi-command-executor",b)};return Le({element:e,id:"multiInstanceRetryTimeCycle",label:a("Retry time cycle"),getValue:h,setValue:m,debounce:c})}function v6t(t){let e=fh(t);return!!e&&M(e,"camunda:Collectable")}function s4e(t,e){var n=fh(t);return n&&n.get(e)}function fh(t){return K(t).loopCharacteristics}function y6t(t){return s4e(t,"camunda:collection")}function b6t(t){return s4e(t,"camunda:elementVariable")}function a4e(t){return!!(t.get("camunda:asyncBefore")||t.get("camunda:async"))}function l4e(t){return!!t.get("camunda:asyncAfter")}function x6t(t){return!!t.get("camunda:exclusive")}function E6t(t){return l4e(t)||a4e(t)}function w6t(t){return t&&!t.checked}function _6t(t){let{element:e}=t;if(!O6t(e))return[];let n=[{id:"outMapping-propagation",component:C6t,isEdited:gl}];return c4e(e)&&n.push({id:"outMapping-propagation-local",component:S6t,isEdited:gl}),n}function C6t(t){let{element:e}=t,n=A("commandStack"),i=A("bpmnFactory"),a=A("translate"),c=()=>c4e(e),d=g=>{g?h():m()};function h(){let g=K(e),b=Fe("camunda:Out",{variables:"all"},null,i);dh(e,g,b,i,n)}function m(){let g=K(e),b=XW(e);vc(e,g,b,n)}return as({id:"outMapping-propagation",label:a("Propagate all variables"),getValue:c,setValue:d})}function S6t(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=XW(e)[0],c=()=>a.get("camunda:local"),d=h=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:a,properties:{local:h}})};return as({element:e,id:"outMapping-propagation-local",label:i("Local"),getValue:c,setValue:d})}function O6t(t){return M(t,"bpmn:CallActivity")}function D6t(t){let e=K(t);return Vt(e,"camunda:Out")}function XW(t){let e=D6t(t);return Ze(e,function(n){let i=n.get("variables");return i&&i==="all"})}function c4e(t){return!!XW(t).length}function T6t({element:t,injector:e}){if(!M6t(t))return null;let n=I6t(t)||[],i=e.get("bpmnFactory"),a=e.get("commandStack");return{items:n.map((d,h)=>{let m=t.id+"-outMapping-"+h;return{id:m,label:d.get("target")||"",entries:i4e({idPrefix:m,element:t,mapping:d}),autoFocusEntry:m+"-target",remove:k6t({commandStack:a,element:t,mapping:d})}}),add:P6t({bpmnFactory:i,commandStack:a,element:t})}}function k6t({commandStack:t,element:e,mapping:n}){return function(i){i.stopPropagation();let a=K(e);vc(e,a,n,t)}}function P6t({bpmnFactory:t,commandStack:e,element:n}){return function(i){i.stopPropagation();let a=K(n),c=Fe("camunda:Out",{source:""},null,t);dh(n,a,c,t,e)}}function I6t(t){let e=K(t),n=Vt(e,"camunda:Out");return Ze(n,function(i){return!i.businessKey&&!(i.variables&&i.variables==="all")})}function M6t(t){return M(t,"bpmn:CallActivity")}function A6t({element:t,injector:e}){if(!k4t(t))return null;let n=M5e(t)||[],i=e.get("bpmnFactory"),a=e.get("commandStack");return{items:n.map((d,h)=>{let m=t.id+"-outputParameter-"+h;return{id:m,label:d.get("name")||"",entries:jP({idPrefix:m,element:t,parameter:d}),autoFocusEntry:m+"-name",remove:R6t({commandStack:a,element:t,parameter:d})}}),add:L6t({bpmnFactory:i,commandStack:a,element:t})}}function R6t({commandStack:t,element:e,parameter:n}){return function(i){i.stopPropagation();let a=W0(e);a&&t.execute("element.updateModdleProperties",{element:e,moddleElement:a,properties:{outputParameters:or(a.get("outputParameters"),n)}})}}function L6t({bpmnFactory:t,commandStack:e,element:n}){return function(i){i.stopPropagation(),e.execute("properties-panel.multi-command-executor",L5e(n,"camunda:OutputParameter",t))}}function u4e(t){let{element:e,listener:n,idPrefix:i}=t,{timerEventDefinition:a}=t;if(!a){let h=K(e);a=z1(h)}let c=AP(a);if(!RW(e)&&!B6t(n))return[];let d=[];return d.push({id:Pwe(i,"timerEventDefinitionType"),component:$6t,isEdited:pr,timerEventDefinition:a,timerEventDefinitionType:c}),c&&d.push({id:Pwe(i,"timerEventDefinitionValue"),component:N6t,isEdited:Ve,timerEventDefinition:a,timerEventDefinitionType:c}),d}function $6t(t){let{element:e,timerEventDefinition:n,timerEventDefinitionType:i}=t,a=A("commandStack"),c=A("bpmnFactory"),d=A("translate"),h=()=>i||"",m=b=>{if(b===i)return;let E=c.create("bpmn:FormalExpression",{body:void 0});E.$parent=n;let _={timeDuration:void 0,timeDate:void 0,timeCycle:void 0};b!==""&&(_[b]=E),a.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:_})},g=b=>[{value:"",label:d("<none>")},{value:"timeDate",label:d("Date")},{value:"timeDuration",label:d("Duration")},{value:"timeCycle",label:d("Cycle")}];return sr({element:e,id:"timerEventDefinitionType",label:d("Type"),getValue:h,setValue:m,getOptions:g})}function N6t(t){let{element:e,timerEventDefinition:n,timerEventDefinitionType:i}=t,a=A("commandStack"),c=A("translate"),d=A("debounceInput"),h=n.get(i),m=()=>h&&h.get("body"),g=b=>{a.execute("element.updateModdleProperties",{element:e,moddleElement:h,properties:{body:b}})};return Le({element:e,id:"timerEventDefinitionValue",label:c("Value"),getValue:m,setValue:g,debounce:d,tooltip:F6t(i,c)})}function F6t(t,e){switch(t){case"timeDate":return z("div",{children:[z("p",{children:e("A specific point in time defined as ISO 8601 combined date and time representation.")}),z("ul",{children:[z("li",{children:[z("code",{children:"2019-10-01T12:00:00Z"})," - ",e("UTC time")]}),z("li",{children:[z("code",{children:"2019-10-02T08:09:40+02:00"})," - ",e("UTC plus 2 hours zone offset")]})]}),z("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-date",target:"_blank",rel:"noopener",children:e("Documentation: Timer events")})]});case"timeCycle":return z("div",{children:[z("p",{children:e("A cycle defined as ISO 8601 repeating intervals format, or a cron expression.")}),z("ul",{children:[z("li",{children:[z("code",{children:"R5/PT10S"})," - ",e("every 10 seconds, up to 5 times")]}),z("li",{children:[z("code",{children:"R/P1D"})," - ",e("every day, infinitely")]}),z("li",{children:[z("code",{children:"0 0 9-17 * * MON-FRI"})," - ",e("every hour on the hour from 9-5 p.m. UTC Monday-Friday")]})]}),z("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-cycle",target:"_blank",rel:"noopener",children:e("Documentation: Timer events")})]});case"timeDuration":return z("div",{children:[z("p",{children:e("A time duration defined as ISO 8601 durations format.")}),z("ul",{children:[z("li",{children:[z("code",{children:"PT15S"})," - ",e("15 seconds")]}),z("li",{children:[z("code",{children:"PT1H30M"})," - ",e("1 hour and 30 minutes")]}),z("li",{children:[z("code",{children:"P14D"})," - ",e("14 days")]})]}),z("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-duration",target:"_blank",rel:"noopener",children:e("Documentation: Timer events")})]})}}function B6t(t){return t&&M(t,"camunda:TaskListener")&&z1(t)}function Pwe(t,e){return t?t+e:e}var j6t=["bpmn:Activity","bpmn:Event","bpmn:Gateway","bpmn:SequenceFlow","bpmn:Process","bpmn:Participant"],V6t={script:void 0,resource:void 0,scriptFormat:void 0},z6t={class:void 0},H6t={expression:void 0},U6t={delegateExpression:void 0},SP=se(se(se(se({},V6t),z6t),H6t),U6t),Iwe={eventDefinitions:void 0,event:void 0},d4e={class:"Java class",expression:"Expression",delegateExpression:"Delegate expression",script:"Script"},q6t={start:"Start",end:"End",take:"Take",create:"Create",assignment:"Assignment",complete:"Complete",delete:"Delete",update:"Update",timeout:"Timeout"};function W6t({element:t,injector:e}){if(!He(t,j6t))return;let n=e.get("bpmnFactory"),i=e.get("commandStack");if(M(t,"bpmn:Participant")&&!t.businessObject.processRef)return;let a=zP(t);return{items:Vt(a,"camunda:ExecutionListener").map((d,h)=>{let m=`${t.id}-executionListener-${h}`;return{id:m,label:y4e(d),entries:G6t({idPrefix:m,element:t,listener:d}),autoFocusEntry:m+"-javaClass",remove:f4e({element:t,listener:d,commandStack:i})}}),add:eSt({bpmnFactory:n,commandStack:i,element:t})}}function G6t(t){let{idPrefix:e,element:n,listener:i}=t;return[{id:`${e}-eventType`,component:h4e,listener:i},{id:`${e}-listenerType`,component:p4e,listener:i},...m4e({idPrefix:e,element:n,listener:i}),{id:`${e}-fields`,component:g4e,listener:i}]}function Q6t({element:t,injector:e}){if(!M(t,"bpmn:UserTask"))return;let n=e.get("bpmnFactory"),i=e.get("commandStack"),a=zP(t);return{items:Vt(a,"camunda:TaskListener").map((d,h)=>{let m=`${t.id}-taskListener-${h}`;return{id:m,label:y4e(d),entries:Y6t({idPrefix:m,element:t,listener:d}),autoFocusEntry:m+"-listenerId",remove:f4e({element:t,listener:d,commandStack:i})}}),add:J6t({bpmnFactory:n,commandStack:i,element:t})}}function Y6t(t){let{idPrefix:e,element:n,listener:i}=t;return[{id:`${e}-eventType`,component:h4e,listener:i},{id:`${e}-listenerId`,component:X6t,listener:i},{id:`${e}-listenerType`,component:p4e,listener:i},...m4e({idPrefix:e,element:n,listener:i}),...K6t({idPrefix:e,element:n,listener:i}),{id:`${e}-fields`,component:g4e,listener:i}]}function f4e({element:t,listener:e,commandStack:n}){return function(a){a.stopPropagation(),vc(t,zP(t),e,n)}}function h4e({id:t,element:e,listener:n}){let i=A("translate"),a=A("bpmnFactory"),c=A("commandStack");function d(){return n.get("event")}function h(g){let b=iSt(g,a);c.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:b})}function m(){return M(n,"camunda:TaskListener")?[{value:"create",label:i("create")},{value:"assignment",label:i("assignment")},{value:"complete",label:i("complete")},{value:"delete",label:i("delete")},{value:"update",label:i("update")},{value:"timeout",label:i("timeout")}]:M(e,"bpmn:SequenceFlow")?[{value:"take",label:i("take")}]:[{value:"start",label:i("start")},{value:"end",label:i("end")}]}return z(sr,{id:t,label:i("Event type"),getValue:d,setValue:h,getOptions:m})}function X6t({id:t,element:e,listener:n}){let i=A("translate"),a=A("debounceInput"),c=A("commandStack"),d={element:e,id:t,label:i("Listener ID"),debounce:a,isEdited:Ve,setValue:h=>{c.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:{"camunda:id":h}})},getValue:()=>n.get("camunda:id")};return Le(d)}function p4e({id:t,element:e,listener:n}){let i=A("modeling"),a=A("translate"),c=A("bpmnFactory");function d(){return KW(n)}function h(g){let b=rSt(g,c);i.updateModdleProperties(e,n,b)}function m(){return tSt(a)}return z(sr,{id:t,label:a("Listener type"),getValue:d,setValue:h,getOptions:m})}function m4e(t){let{idPrefix:e,element:n,listener:i}=t,a=KW(i);return a==="class"?[{id:qU(e,"javaClass"),component:e4e,businessObject:i}]:a==="expression"?[{id:qU(e,"expression"),component:t4e,businessObject:i}]:a==="delegateExpression"?[{id:qU(e,"delegateExpression"),component:n4e,businessObject:i}]:a==="script"?WW({element:n,script:i.get("script"),prefix:e}):[]}function K6t(t){let{idPrefix:e,element:n,listener:i}=t;return i.get("event")==="timeout"?u4e({element:n,listener:i,timerEventDefinition:Bwe(i),idPrefix:e}):[]}function Z6t(t){let{element:e,id:n,index:i,item:a,open:c}=t,d=`${n}-field-${i}`;return z(V0,{id:d,element:e,entries:j5e({element:e,field:a,idPrefix:d}),label:a.get("name")||"<empty>",open:c})}function g4e(t){let{id:e,element:n,listener:i}=t,a=A("bpmnFactory"),c=A("commandStack"),d=A("translate"),h=i.get("fields");function m(){let b=Fe("camunda:Field",{},i,a);c.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{fields:[...i.get("fields"),b]}})}function g(b){c.execute("element.updateModdleProperties",{element:n,moddleElement:i,properties:{fields:or(i.get("fields"),b)}})}return z(z0,{id:e,element:n,label:d("Field injection"),items:h,component:Z6t,onAdd:m,onRemove:g,autoFocusEntry:`[data-entry-id="${e}-field-${h.length-1}"] input`})}function v4e({bpmnFactory:t,commandStack:e,element:n,listenerGroup:i}){return function(a){a.stopPropagation();let c=t.create(i,{event:nSt(n,i),class:""}),d=zP(n);dh(n,d,c,t,e)}}function J6t(t){return v4e(Me(se({},t),{listenerGroup:"camunda:TaskListener"}))}function eSt(t){return v4e(Me(se({},t),{listenerGroup:"camunda:ExecutionListener"}))}function y4e(t,e=n=>n){let n=t.get("event"),i=KW(t);return`${e(q6t[n])}: ${e(d4e[i])}`}function tSt(t){return Object.entries(d4e).map(([e,n])=>({value:e,label:t(n)}))}function KW(t){return B1(t)}function nSt(t,e){return e==="camunda:TaskListener"?"create":M(t,"bpmn:SequenceFlow")?"take":"start"}function rSt(t,e){switch(t){case"class":return Me(se({},SP),{class:""});case"expression":return Me(se({},SP),{expression:""});case"delegateExpression":return Me(se({},SP),{delegateExpression:""});case"script":return Me(se({},SP),{script:e.create("camunda:Script")})}}function iSt(t,e){switch(t){case"timeout":return Me(se({},Iwe),{eventDefinitions:[e.create("bpmn:TimerEventDefinition")],event:t});default:return Me(se({},Iwe),{event:t})}}function qU(t,e){return`${t}-${e}`}function zP(t){let e=K(t);return e.get("processRef")||e}function oSt(t){let{element:e}=t,[n,i]=Tt([]);if(at(()=>co(this,null,function*(){let m=K(e),g=dSt(m),b=fSt(e),E=yield(0,Awe.getVariablesForScope)(b,g),_=mSt(hSt(E));i(_)}),[e]),!n.length)return null;let a=pSt(n),c=gSt(a),d=[];if(c){let m=Nn(vSt(Rf(a)),g=>a[g]);d=Af(m)}else d=n;let h=d.map((m,g)=>{let b=e.id+"-variable-"+g;return{id:b,label:m.name,entries:[...aSt({idPrefix:b,multiScope:c,variable:m})]}});return z(Zi,Me(se({},t),{items:h}))}function sSt(t){let{element:e}=t;return uSt(e)?{component:oSt}:null}function aSt(t){let{idPrefix:e,multiScope:n,variable:i}=t,a=[];return n&&a.push({id:e+"-scope",component:lSt,idPrefix:e,variable:i}),a.push({id:e+"-createdIn",component:cSt,idPrefix:e,variable:i}),a}function lSt(t){let{idPrefix:e,variable:n}=t,i=A("translate"),a=e+"-scope";return z("div",{"data-entry-id":a,class:"bio-properties-panel-entry",children:[z("b",{style:"font-weight: bold",class:"bio-properties-panel-label",children:i("Scope")}),z("label",{id:b4e(a),class:"bio-properties-panel-label",children:n.scope})]})}function cSt(t){let{idPrefix:e,variable:n}=t,i=A("translate"),a=e+"-createdIn",c=n.origin.join(", ");return z("div",{"data-entry-id":a,class:"bio-properties-panel-entry",children:[z("b",{style:"font-weight: bold",class:"bio-properties-panel-label",children:i("Created in")}),z("label",{id:b4e(a),class:"bio-properties-panel-label",children:c})]})}function uSt(t){let e=K(t);return He(t,["bpmn:Process","bpmn:SubProcess"])||M(t,"bpmn:Participant")&&e.get("processRef")}function dSt(t){let e=K(t);if(M(e,"bpmn:Participant"))return e.processRef;if(M(e,"bpmn:Process"))return e;let n=e;for(;n.$parent&&!M(n,"bpmn:Process");)n=n.$parent;return n}function fSt(t){let e=K(t);return M(t,"bpmn:Participant")?e.processRef.id:e.id}function hSt(t){return fr(t,function(e){return e.name})}function pSt(t){return sl(t,"scope")}function mSt(t){return J(t,function(e){let n=Nn(e.origin,function(i){return i.name||i.id});e.origin=n,e.scope=e.scope.name||e.scope.id}),t}function gSt(t){return Rf(t).length>1}function vSt(t){return Nn(t,function(e,n){return t[t.length-1-n]})}function b4e(t){return`bio-properties-panel-${t}`}function ySt(t){let{element:e}=t;if(!M(e,"bpmn:ScriptTask"))return[];let n=[...WW({element:e})];return n.push({id:"scriptResultVariable",component:bSt,isEdited:Ve}),n}function bSt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=K(e),d=()=>c.get("camunda:resultVariable"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:resultVariable":m}})};return Le({element:e,id:"scriptResultVariable",label:i("Result variable"),getValue:d,setValue:h,debounce:a})}function xSt(t){let{element:e}=t,n=K(e),i=a=>a&&!a.checked;return!M(e,"bpmn:Process")&&!(M(e,"bpmn:Participant")&&n.get("processRef"))?[]:[{id:"isStartableInTasklist",component:ESt,isEdited:i}]}function ESt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=wSt(e),c=()=>a.get("camunda:isStartableInTasklist"),d=h=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:a,properties:{"camunda:isStartableInTasklist":h}})};return as({element:e,id:"isStartableInTasklist",label:i("Startable"),getValue:c,setValue:d})}function wSt(t){return M(t,"bpmn:Process")?K(t):K(t).get("processRef")}function _St(t){let{element:e}=t;return M(e,"camunda:Assignable")?[{id:"assignee",component:CSt,isEdited:Ve},{id:"candidateGroups",component:OSt,isEdited:Ve},{id:"candidateUsers",component:SSt,isEdited:Ve},{id:"dueDate",component:DSt,isEdited:Ve},{id:"followUpDate",component:TSt,isEdited:Ve},{id:"priority",component:kSt,isEdited:Ve}]:[]}function CSt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=K(e),d=()=>c.get("camunda:assignee"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:assignee":m}})};return Le({element:e,id:"assignee",label:i("Assignee"),getValue:d,setValue:h,debounce:a})}function SSt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=K(e),d=()=>c.get("camunda:candidateUsers"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:candidateUsers":m}})};return Le({element:e,id:"candidateUsers",label:i("Candidate users"),getValue:d,setValue:h,debounce:a})}function OSt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=K(e),d=()=>c.get("camunda:candidateGroups"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:candidateGroups":m}})};return Le({element:e,id:"candidateGroups",label:i("Candidate groups"),getValue:d,setValue:h,debounce:a})}function DSt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=K(e),d=()=>c.get("camunda:dueDate"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:dueDate":m}})};return Le({element:e,id:"dueDate",label:i("Due date"),description:i("The due date as an EL expression (e.g. ${someDate}) or an ISO date (e.g. 2015-06-26T09:54:00)."),getValue:d,setValue:h,debounce:a})}function TSt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=K(e),d=()=>c.get("camunda:followUpDate"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:followUpDate":m}})};return Le({element:e,id:"followUpDate",label:i("Follow up date"),description:i("The follow up date as an EL expression (e.g. ${someDate}) or an ISO date (e.g. 2015-06-26T09:54:00)."),getValue:d,setValue:h,debounce:a})}function kSt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=K(e),d=()=>c.get("camunda:priority"),h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:priority":m}})};return Le({element:e,id:"priority",label:i("Priority"),getValue:d,setValue:h,debounce:a})}function PSt(t){let{element:e}=t,n=K(e);return!M(e,"bpmn:Process")&&!(M(e,"bpmn:Participant")&&n.get("processRef"))?[]:[{id:"versionTag",component:ISt,isEdited:Ve}]}function ISt(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=MSt(e),d=()=>c.get("camunda:versionTag")||"",h=m=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{"camunda:versionTag":m}})};return Le({element:e,id:"versionTag",label:i("Version tag"),getValue:d,setValue:h,debounce:a})}function MSt(t){return M(t,"bpmn:Process")?K(t):K(t).get("processRef")}function ASt(){return[{id:"id",component:RSt,isEdited:Ve}]}function RSt(t){let{element:e}=t,n=A("modeling"),i=A("debounceInput"),a=A("translate"),c=(g,b)=>{b||n.updateProperties(e,{id:g})},d=Or(g=>K(g).id,[e]),h=Or(g=>{let b=K(e);return MP(b,g,a)},[e,a]),m=M(e,"bpmn:Process")?a("This maps to the process definition key."):null;return Le({element:e,id:"id",label:a(M(e,"bpmn:Participant")?"Participant ID":"ID"),getValue:d,setValue:c,debounce:i,validate:h,description:m})}function LSt(t){let{element:e}=t;return NSt(e)?[{id:"processId",component:$St,isEdited:Ve}]:[]}function $St(t){let{element:e}=t,n=A("commandStack"),i=A("translate"),a=A("debounceInput"),c=e.businessObject.get("processRef"),d=()=>c.get("id"),h=(b,E)=>{E||n.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{id:b}})},m=Or(b=>MP(c,b,i),[c,i]),g=M(e,"bpmn:Participant")?i("This maps to the process definition key."):null;return Le({element:e,id:"processId",label:i("Process ID"),getValue:d,setValue:h,debounce:a,validate:m,description:g})}function NSt(t){return M(t,"bpmn:Participant")&&t.businessObject.get("processRef")}var FSt=500,BSt=[oOt,sOt,rOt,GSt,eOt,dOt,QSt,YSt,pOt,fOt,gOt,JSt,XSt,ZSt,KSt,tOt,nOt,lOt,aOt,vOt,bOt,uOt,cOt,yOt,xOt,mOt,EOt,iOt,hOt],jSt=(()=>{class t{constructor(n,i){n.registerProvider(FSt,this),this._injector=i}getGroups(n){return i=>(i=i.concat(this._getGroups(n)),zSt(i,n),HSt(i,n),qSt(i,n),USt(i,n),WSt(i,n),VSt(i),i)}_getGroups(n){return BSt.map(a=>a(n,this._injector)).filter(a=>a!==null)}}return t.$inject=["propertiesPanel","injector"],t})();function VSt(t){let e=x4e(t,"documentation");if(!(e<0))return wOt(t,"CamundaPlatform__Implementation",e+1)}function zSt(t,e){let n=K4(t,"general");if(!n)return;let{entries:i}=n,a=Yl(i,m=>m.id==="id");i.splice(a,1,...ASt());let c=Yl(i,m=>m.id==="processId");c&&c>=0&&i.splice(c,1,...LSt({element:e}));let d=Yl(i,m=>m.id==="isExecutable"),h=d>=0?d:i.length;i.splice(h,0,...PSt({element:e}))}function HSt(t,e){let n=K4(t,"error");if(!n)return;let{entries:i}=n;n_t({element:e,entries:i})}function USt(t,e){let n=K4(t,"multiInstance");if(!n)return;let{entries:i}=n;u6t({element:e,entries:i})}function qSt(t,e){let n=K4(t,"escalation");if(!n)return;let{entries:i}=n;b_t({element:e,entries:i})}function WSt(t,e){let n=K4(t,"timer");n&&(n.entries=[...u4e({element:e})])}function GSt(t,e){let i={label:e.get("translate")("Implementation"),id:"CamundaPlatform__Implementation",component:Ut,entries:[...MCt({element:t})]};return i.entries.length?i:null}function QSt(t,e){let n=e.get("translate"),i=se({label:n("Errors"),id:"CamundaPlatform__Errors",component:Zi},m_t({element:t,injector:e}));return i.items?i:null}function YSt(t,e){let i={label:e.get("translate")("User assignment"),id:"CamundaPlatform__UserAssignment",component:Ut,entries:[..._St({element:t})]};return i.entries.length?i:null}function XSt(t,e){let i={label:e.get("translate")("Script"),id:"CamundaPlatform__Script",component:Ut,entries:[...ySt({element:t})]};return i.entries.length?i:null}function KSt(t,e){let i={label:e.get("translate")("Called element"),id:"CamundaPlatform__CallActivity",component:Ut,entries:[...J5t({element:t})]};return i.entries.length?i:null}function ZSt(t,e){let i={label:e.get("translate")("Condition"),id:"CamundaPlatform__Condition",component:Ut,entries:[...l4t({element:t})]};return i.entries.length?i:null}function JSt(t,e){let i={label:e.get("translate")("Start initiator"),id:"CamundaPlatform__StartInitiator",component:Ut,entries:[...FCt({element:t})]};return i.entries.length?i:null}function eOt(t,e){let i={label:e.get("translate")("External task"),id:"CamundaPlatform__ExternalTask",component:Ut,entries:[...w_t({element:t})]};return i.entries.length?i:null}function tOt(t,e){let i={label:e.get("translate")("Asynchronous continuations"),id:"CamundaPlatform__AsynchronousContinuations",component:Ut,entries:[...T5t({element:t})]};return i.entries.length?i:null}function nOt(t,e){let i={label:e.get("translate")("Job execution"),id:"CamundaPlatform__JobExecution",component:Ut,entries:[...o6t({element:t})]};return i.entries.length?i:null}function rOt(t,e){let i={label:e.get("translate")("Candidate starter"),id:"CamundaPlatform__CandidateStarter",component:Ut,entries:[...o4t({element:t})]};return i.entries.length?i:null}function iOt(t,e){let n=e.get("translate"),i=se({label:n("Field injections"),id:"CamundaPlatform__FieldInjection",component:Zi},D_t({element:t,injector:e}));return i.items?i:null}function oOt(t,e){let i={label:e.get("translate")("History cleanup"),id:"CamundaPlatform__HistoryCleanup",component:Ut,entries:[...pCt({element:t})]};return i.entries.length?i:null}function sOt(t,e){let i={label:e.get("translate")("Tasklist"),id:"CamundaPlatform__Tasklist",component:Ut,entries:[...xSt({element:t})]};return i.entries.length?i:null}function aOt(t,e){let n=e.get("translate"),i=se({label:n("In mappings"),id:"CamundaPlatform__InMapping",component:Zi},ZCt({element:t,injector:e}));return i.items?i:null}function lOt(t,e){let i={label:e.get("translate")("In mapping propagation"),id:"CamundaPlatform__InMappingPropagation",component:Ut,entries:[...VCt({element:t})]};return i.entries.length?i:null}function cOt(t,e){let n=e.get("translate"),i=se({label:n("Out mappings"),id:"CamundaPlatform__OutMapping",component:Zi},T6t({element:t,injector:e}));return i.items?i:null}function uOt(t,e){let i={label:e.get("translate")("Out mapping propagation"),id:"CamundaPlatform__OutMappingPropagation",component:Ut,entries:[..._6t({element:t})]};return i.entries.length?i:null}function dOt(t,e){let n=e.get("translate"),i=sSt({element:t,injector:e});return i?se({label:n("Process variables"),id:"CamundaPlatform__ProcessVariables"},i):null}function fOt(t,e){let n=e.get("translate"),i=se({label:n("Form fields"),id:"CamundaPlatform__FormData",component:Zi},Z_t({element:t,injector:e}));return i.items?i:null}function hOt(t,e){let i={label:e.get("translate")("Business key"),id:"CamundaPlatform__BusinessKey",component:Ut,entries:[...R5t({element:t})]};return i.entries.length?i:null}function pOt(t,e){let i={label:e.get("translate")("Forms"),id:"CamundaPlatform__Form",component:Ut,entries:[...cCt({element:t})]};return i.entries.length?i:null}function mOt(t,e){let n=e.get("translate"),i=se({label:n("Execution listeners"),id:"CamundaPlatform__ExecutionListener",component:Zi},W6t({element:t,injector:e}));return i.items?i:null}function gOt(t,e){let n=e.get("translate"),i=se({label:n("Task listeners"),id:"CamundaPlatform__TaskListener",component:Zi},Q6t({element:t,injector:e}));return i.items?i:null}function vOt(t,e){let n=e.get("translate"),i=se({label:n("Inputs"),id:"CamundaPlatform__Input",component:Zi},r6t({element:t,injector:e}));return i.items?i:null}function yOt(t,e){let n=e.get("translate"),i=se({label:n("Outputs"),id:"CamundaPlatform__Output",component:Zi},A6t({element:t,injector:e}));return i.items?i:null}function bOt(t,e){let n=e.get("translate"),i=se({label:n("Connector inputs"),id:"CamundaPlatform__ConnectorInput",component:Zi},Z4t({element:t,injector:e}));return i.items?i:null}function xOt(t,e){let n=e.get("translate"),i=se({label:n("Connector outputs"),id:"CamundaPlatform__ConnectorOutput",component:Zi},e_t({element:t,injector:e}));return i.items?i:null}function EOt(t,e){let n=e.get("translate"),i=se({label:n("Extension properties"),id:"CamundaPlatform__ExtensionProperties",component:Zi},m5e({element:t,injector:e}));return i.items?i:null}function K4(t,e){return t.find(n=>n.id===e)}function x4e(t,e){return Yl(t,n=>n.id===e)}function wOt(t,e,n){let i=x4e(t,e);if(!(n<0||i<0))return OEe(t,i,n)}var _Ot={__init__:["camundaPlatformPropertiesProvider"],camundaPlatformPropertiesProvider:["type",jSt]},COt={"group-assignmentDefinition":t=>{let e=A("translate");return z("div",{children:[e("Define who the task is assigned to. One or all of the following attributes can be specified simultaneously. "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/user-tasks/#assignments",target:"_blank",rel:"noopener",title:e("User task documentation"),children:e("Learn more.")})]})},"group-condition":t=>{let e=A("translate");return z("div",{children:[e("Define a boolean condition expression that defines when this flow is taken. "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/exclusive-gateways/#conditions",target:"_blank",rel:"noopener",title:e("Conditions documentation"),children:e("Learn how to define conditions.")})]})},"group-businessRuleImplementation":t=>{let e=A("translate");return z("div",{children:[e("Evaluate a business rule, for example a DMN decision. To add a custom implementation, use a job worker. "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/business-rule-tasks/#defining-a-task",target:"_blank",rel:"noopener",title:e("Business rule task documentation"),children:e("Learn more.")})]})},"group-scriptImplementation":t=>{let e=A("translate");return z("div",{children:[e("Implement a script task using an inline FEEL expression. To add a custom implementation, use a job worker. "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/script-tasks/#defining-a-script-task",target:"_blank",rel:"noopener",title:e("Script task documentation"),children:e("Learn more.")})]})},"group-userTaskImplementation":t=>{let e=A("translate");return z("div",{children:[e("Implement a user task managed by Zeebe. To add a custom implementation, use a job worker. "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/user-tasks/#define-a-user-task",target:"_blank",rel:"noopener",title:e("User task documentation"),children:e("Learn more.")})]})},"group-form":t=>{let e=A("translate");return n5e(t)?z("div",{children:[e("Link a form created with the Camunda Forms editor. To associate a custom form, application, or URL to the user task, specify an external reference. "),z("a",{href:"https://docs.camunda.io/docs/guides/utilizing-forms/#link-your-form-to-a-bpmn-diagram",target:"_blank",rel:"noopener",title:e("User task form documentation"),children:e("Learn more.")})]}):z("div",{children:[e("Link or embed a form created with the Camunda Forms editor. To associate a custom form, application, or URL to the user task, specify a form key. "),z("a",{href:"https://docs.camunda.io/docs/guides/utilizing-forms/#link-your-form-to-a-bpmn-diagram",target:"_blank",rel:"noopener",title:e("User task form documentation"),children:e("Learn more.")})]})},"group-calledDecision":t=>{let e=A("translate");return z("div",{children:[e("Define the decision to evaluate and how to map back the evaluation result. "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/business-rule-tasks/#defining-a-called-decision",target:"_blank",rel:"noopener",title:e("Send task documentation"),children:e("Learn more.")})]})},"group-message":t=>{let e=A("translate");return M(t,"bpmn:ReceiveTask")?z("div",{children:[e("Define the name of the message (e.g. "),z("code",{children:"Money collected"}),e(") and the "),z("code",{children:"correlationKey"}),e(" expression (e.g. "),z("code",{children:"= orderId"}),e(")"),e(" to subscribe to. "),e("Learn more how to "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/send-tasks",target:"_blank",rel:"noopener",title:e("Send task documentation"),children:e("send ")}),e("and "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/receive-tasks",target:"_blank",rel:"noopener",title:e("Receive task documentation"),children:e("receive messages. ")})]}):z("div",{children:[e("Define the name of the message (e.g. "),z("code",{children:"Money collected"}),e(") and the "),z("code",{children:"correlationKey"}),e(" expression (e.g. "),z("code",{children:"= orderId"}),e(")"),e(" to subscribe to. "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/message-events/#messages",target:"_blank",rel:"noopener",title:e("Message event documentation"),children:e("Learn more.")})]})},"group-calledElement":t=>{let e=A("translate");return z("div",{children:[e("Define the ID of the process to call (e.g. ")," ",z("code",{children:"shipping-process"}),e(" or "),z("code",{children:'= "shipping-" + tenantId'})," ",e("). "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/call-activities/",target:"_blank",rel:"noopener",title:e("Call activity documentation"),children:e("Learn more.")})]})},"group-taskDefinition":t=>{let e=A("translate");if(M(t,"bpmn:ServiceTask"))return z("div",{children:[e("Specify which job workers handle the task work to execute a service (e.g. "),z("code",{children:"order-items"}),e("). "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/service-tasks",target:"_blank",rel:"noopener",title:e("Service task documentation"),children:e("Learn more.")})]});if(M(t,"bpmn:BusinessRuleTask"))return z("div",{children:[e("Specify which job workers handle the task work to evaluate business rules. "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/business-rule-tasks/#job-worker-implementation",target:"_blank",rel:"noopener",title:e("Business rule task documentation"),children:e("Learn more.")})]});if(M(t,"bpmn:ScriptTask"))return z("div",{children:[e("Specify which job workers handle the task work to execute a script. "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/script-tasks/#defining-a-task",target:"_blank",rel:"noopener",title:e("Script task documentation"),children:e("Learn more.")})]});if(M(t,"bpmn:SendTask"))return z("div",{children:[e("Specify which job workers handle the task work to send a message (e.g. "),z("code",{children:"kafka"}),e(" or "),z("code",{children:"mail"}),e("). "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/send-tasks/#defining-a-task",target:"_blank",rel:"noopener",title:e("Send task documentation"),children:e("Learn more.")})]});if(M(t,"bpmn:ThrowEvent"))return z("div",{children:[e("Specify which job workers handle the event work. "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/message-events/#message-throw-events",target:"_blank",rel:"noopener",title:e("Message throw event documentation"),children:e("Learn more.")})]})},"group-multiInstance":t=>{let e=A("translate");return z("div",{children:[e("Execute this task for each element of a given collection. "),z("br",{}),e("Define an input collection expression that defines the collection to iterate over (e.g. "),z("code",{children:"= items"}),e("). "),e("To collect the output define the output collection and the output element expressions. "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/multi-instance/#defining-the-collection-to-iterate-over",target:"_blank",rel:"noopener",title:e("Multi instance documentation"),children:e("Learn more.")})]})},"group-error":t=>{let e=A("translate");return z("div",{children:[e("Define an error code (e.g. "),z("code",{children:"order-not-found"}),e("). "),z("a",{href:"https://docs.camunda.io/docs/components/modeler/bpmn/error-events/#defining-the-error",target:"_blank",rel:"noopener",title:e("Error event documentation"),children:e("Learn more.")})]})},"group-inputs":t=>{let e=A("translate");return z("div",{children:[e("Create a new local variable in the scope of this task. "),z("a",{href:"https://docs.camunda.io/docs/components/concepts/variables/#input-mappings",target:"_blank",rel:"noopener",title:e("Input mappings documentation"),children:e("Learn more.")})]})},"group-outputs":t=>{let e=A("translate");return z("div",{children:[e("Customize how result variables are merged into the global scope of the process instance. "),z("a",{href:"https://docs.camunda.io/docs/components/concepts/variables/#output-mappings",target:"_blank",rel:"noopener",title:e("Output mappings documentation"),children:e("Learn more.")})]})},taskDefinitionRetries:t=>{let e=A("translate");return z("div",{children:z("p",{children:[e("The number of times the engine tries executing this activity if a worker signals a failure. The default is three.")," "," ",z("a",{href:"https://docs.camunda.io/docs/next/components/best-practices/development/dealing-with-problems-and-exceptions/#leveraging-retries",target:"_blank",rel:"noopener",children:e("Learn more.")})]})})},bindingType:t=>{let e=A("translate");return z("div",{children:[z("p",{children:[z("h1",{children:e("Latest binding")}),e("Uses the most recent deployed resource.")]}),z("p",{children:[z("h1",{children:e("Deployment binding")}),e("Uses the resource found in the same deployment.")]})]})},priorityDefinitionPriority:t=>{let e=A("translate");return z("div",{children:[z("p",{children:e("An integer value that can range from 0 to 100, where a higher value indicates a higher priority.")}),z("p",{children:e("If unset, the default value is 50.")})]})}},SOt={historyTimeToLive:t=>{let e=A("translate");return z("div",{children:z("p",{children:[e("Number of days before this resource is being cleaned up. If specified, takes precedence over the engine configuration.")," ",z("a",{href:"https://docs.camunda.org/manual/latest/user-guide/process-engine/history/",target:"_blank",rel:"noopener",children:e("Learn more.")})]})})}};var E4e={name:"zeebe",prefix:"zeebe",uri:"http://camunda.org/schema/zeebe/1.0",xml:{tagAlias:"lowerCase"},associations:[],types:[{name:"ZeebeServiceTask",extends:["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:SendTask","bpmn:EndEvent","bpmn:IntermediateThrowEvent"],properties:[{name:"retryCounter",type:"String",isAttr:!0}]},{name:"IoMapping",superClass:["Element"],properties:[{name:"ioMapping",type:"IoMapping"},{name:"inputParameters",isMany:!0,type:"Input"},{name:"outputParameters",isMany:!0,type:"Output"}],meta:{allowedIn:["bpmn:CallActivity","bpmn:Event","bpmn:ReceiveTask","zeebe:ZeebeServiceTask","bpmn:SubProcess","bpmn:UserTask"]}},{name:"InputOutputParameter",properties:[{name:"source",isAttr:!0,type:"String"},{name:"target",isAttr:!0,type:"String"}]},{name:"Subscription",superClass:["Element"],properties:[{name:"correlationKey",isAttr:!0,type:"String"}]},{name:"Input",superClass:["InputOutputParameter"],meta:{allowedIn:["bpmn:CallActivity","zeebe:ZeebeServiceTask","bpmn:SubProcess","bpmn:UserTask"]}},{name:"Output",superClass:["InputOutputParameter"],meta:{allowedIn:["bpmn:CallActivity","bpmn:Event","bpmn:ReceiveTask","zeebe:ZeebeServiceTask","bpmn:SubProcess","bpmn:UserTask"]}},{name:"TaskHeaders",superClass:["Element"],meta:{allowedIn:["zeebe:ZeebeServiceTask","bpmn:UserTask"]},properties:[{name:"values",type:"Header",isMany:!0}]},{name:"Header",superClass:["Element"],properties:[{name:"id",type:"String",isAttr:!0},{name:"key",type:"String",isAttr:!0},{name:"value",type:"String",isAttr:!0}]},{name:"TaskDefinition",superClass:["Element"],meta:{allowedIn:["zeebe:ZeebeServiceTask"]},properties:[{name:"type",type:"String",isAttr:!0},{name:"retries",type:"String",isAttr:!0}]},{name:"LoopCharacteristics",superClass:["Element"],meta:{allowedIn:["zeebe:ZeebeServiceTask","bpmn:ReceiveTask","bpmn:SubProcess"]},properties:[{name:"inputCollection",type:"String",isAttr:!0},{name:"inputElement",type:"String",isAttr:!0},{name:"outputCollection",type:"String",isAttr:!0},{name:"outputElement",type:"String",isAttr:!0}]},{name:"CalledElement",superClass:["Element"],meta:{allowedIn:["bpmn:CallActivity"]},properties:[{name:"processId",type:"String",isAttr:!0},{name:"processIdExpression",type:"String",isAttr:!0},{name:"propagateAllChildVariables",isAttr:!0,type:"Boolean"},{name:"propagateAllParentVariables",isAttr:!0,type:"Boolean",default:!0}]},{name:"UserTaskForm",superClass:["Element"],meta:{allowedIn:["bpmn:Process"]},properties:[{name:"id",type:"String",isAttr:!0},{name:"body",type:"String",isBody:!0}]},{name:"FormDefinition",superClass:["Element"],meta:{allowedIn:["bpmn:UserTask"]},properties:[{name:"formKey",type:"String",isAttr:!0},{name:"formId",type:"String",isAttr:!0},{name:"externalReference",type:"String",isAttr:!0}]},{name:"UserTask",superClass:["Element"],meta:{allowedIn:["bpmn:UserTask"]},properties:[]},{name:"CalledDecision",superClass:["Element"],meta:{allowedIn:["bpmn:BusinessRuleTask"]},properties:[{name:"decisionId",type:"String",isAttr:!0},{name:"resultVariable",type:"String",isAttr:!0}]},{name:"AssignmentDefinition",superClass:["Element"],meta:{allowedIn:["bpmn:UserTask"]},properties:[{name:"assignee",type:"String",isAttr:!0},{name:"candidateGroups",type:"String",isAttr:!0},{name:"candidateUsers",type:"String",isAttr:!0}]},{name:"PriorityDefinition",superClass:["Element"],meta:{allowedIn:["bpmn:UserTask"]},properties:[{name:"priority",type:"String",isAttr:!0}]},{name:"TaskSchedule",superClass:["Element"],meta:{allowedIn:["bpmn:UserTask"]},properties:[{name:"dueDate",type:"String",isAttr:!0},{name:"followUpDate",type:"String",isAttr:!0}]},{name:"Properties",superClass:["Element"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"Property",properties:[{name:"name",type:"String",isAttr:!0},{name:"value",type:"String",isAttr:!0}]},{name:"TemplateSupported",isAbstract:!0,extends:["bpmn:Collaboration","bpmn:Process","bpmn:FlowElement"],properties:[{name:"modelerTemplate",isAttr:!0,type:"String"},{name:"modelerTemplateVersion",isAttr:!0,type:"Integer"},{name:"modelerTemplateIcon",isAttr:!0,type:"String"}]},{name:"TemplatedRootElement",isAbstract:!0,extends:["bpmn:Error","bpmn:Escalation","bpmn:Message","bpmn:Signal"],properties:[{name:"modelerTemplate",isAttr:!0,type:"String"}]},{name:"Script",superClass:["Element"],meta:{allowedIn:["bpmn:ScriptTask"]},properties:[{name:"expression",type:"String",isAttr:!0},{name:"resultVariable",type:"String",isAttr:!0}]},{name:"ExecutionListeners",superClass:["Element"],meta:{allowedIn:["bpmn:Event","bpmn:Activity","bpmn:Process","bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:ParallelGateway","bpmn:EventBasedGateway"]},properties:[{name:"listeners",type:"ExecutionListener",isMany:!0}]},{name:"ExecutionListener",superClass:["Element"],meta:{allowedIn:["zeebe:ExecutionListeners"]},properties:[{name:"eventType",type:"String",isAttr:!0},{name:"retries",type:"String",isAttr:!0},{name:"type",type:"String",isAttr:!0}]},{name:"VersionTag",superClass:["Element"],meta:{allowedIn:["bpmn:Process"]},properties:[{name:"value",type:"String",isAttr:!0}]},{name:"BindingTypeSupported",isAbstract:!0,extends:["zeebe:CalledDecision","zeebe:CalledElement","zeebe:FormDefinition"],properties:[{name:"bindingType",isAttr:!0,type:"String",default:"latest"},{name:"versionTag",isAttr:!0,type:"String"}]}]};var w4e=(()=>{let e=class e{constructor(i){i.registerProvider(500,this),console.log("bpmn: ",ZW),console.log("panel: ",kU)}getGroups(i){return a=>{console.log(a);try{console.log(a[3].entries[0].component),console.log(a[4].entries[0].component)}catch(c){console.log(c)}return a}}};e.$inject=["propertiesPanel"];let t=e;return t})();var HP="eyJhZS10eXBlIjoiVVNFUiIsImFsZyI6IlJTMjU2In0.eyJpc3MiOiJhemVudGlvIiwic3ViIjoiYW5hbnQiLCJpYXQiOjE3MTc1OTAzMzEsIm5iZiI6MTcxNzU5MDMzMSwiZXhwIjoxNzQ3NTkwMzMxLCJhdWQiOiJhbmFudCIsInVzZXItaWQiOjEyMywicm9sZXMiOiJBZG1pbiJ9.l-JzusSzrFNXm8VjBklsULoKxSk9LLwzafsLjOShsaIh96BLZVRy9r14NZwjy9RyOeCqdE_AauBAJISTeZW5zjl8Uk98qLP2gt0-vX0LepxfWKNz5CjbSxTJaE0yabHxx-4LYAxDl9-zzpyt8DBqkYuf6DisHrAav93asYVCWhBm3ic-FYXmBfcI2GTo--U5zxTc8VcfNMy6fLVTcqZy-zTxcYpO9oEAcCIjLTEJU8VdgKyvmn1q4-U260TU0wbrjkKq3RQmZTHNx9aUWiULGCO6RIcKDLQH38RKJUrWaBwVQP98t0D4vbmTMvD87BClSc9lSzGYE6ZZQ0k4xCrGPA";var DOt=["dropdown"];function TOt(t,e){if(t&1){let n=Vy();Po(0,"div",7),rl("click",function(){let a=Hc(n).$implicit,c=zO();return Uc(c.selectUser(a))}),Gl(1),Io()}if(t&2){let n=e.$implicit;jy(),CE(n)}}var C4e=(()=>{let e=class e{constructor(i){this.http=i,this.bpmnJS=new ns,this.dmnJS=new _4e.default,this.dropdown=new qc(""),this.users=["John","Mary"]}ngOnInit(){this.bpmnJS=new ns({container:"#editor",propertiesPanel:{parent:"#panel"},additionalModules:[IW,LW,qW],keyboard:{bindTo:window},moddleExtensions:{zeebe:E4e}});let i=this.bpmnJS.get("propertiesPanel");new w4e(i),fetch("../../../assets/leadgen.bpmn").then(a=>a.text()).then(a=>{this.bpmnJS.importXML(a)})}download(){this.bpmnJS.saveXML().then(i=>{console.log(i.xml);let a=document.createElement("a");document.body.appendChild(a);let c=new Blob([i.xml]);a.setAttribute("style","display: none"),a.href=window.URL.createObjectURL(c),a.download="sample.bpmn",a.click(),window.URL.revokeObjectURL(a.href),a.remove()})}newDiagram(){fetch("../../../assets/leadgen.bpmn").then(i=>i.text()).then(i=>{this.bpmnJS.importXML(i)})}onClick(i){if(i.srcElement.id=="bio-properties-panel-assignee"){let a=i.srcElement.getBoundingClientRect();this.dropdown.nativeElement.style.display="block",this.dropdown.nativeElement.style.position="absolute",this.dropdown.nativeElement.style.left=a.left+"px",this.dropdown.nativeElement.style.top=a.bottom+"px",this.dropdown.nativeElement.style.width=a.width+"px"}else this.dropdown.nativeElement.style.display="none"}selectUser(i){this.dropdown.nativeElement.style.display="none";let a=document.getElementById("bio-properties-panel-assignee");a.value=i,a.dispatchEvent(new Event("change"))}showFlow(){let i=new Wc({Authorization:`Bearer ${HP}`});this.http.get("http://localhost:8080/process/showFlow",{headers:i}).subscribe({next:a=>{a.forEach(c=>{let d=this.bpmnJS.get("elementRegistry"),h=this.bpmnJS.get("graphicsFactory"),m=d?.get(c);if(m?.di!==void 0){m.di.set("stroke","#4d90ff");let g=d?.getGraphics(m);g!==void 0&&h?.update("connection",m,g)}})}}),this.http.get("http://localhost:8080/process/showIncidents",{headers:i}).subscribe({next:a=>{let c=this.bpmnJS.get("overlays");a.forEach(({activityId:d,active:h})=>{h>0&&c.add(d,"flowNodeState",{position:{bottom:9,right:0},html:`<div class="flow-node-incident">${h}</div>`})})}})}postDataDeploy(){fetch("http://localhost:8080/api/v1/deployment-service/start-deployment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then(c=>{if(c.ok)return c.json();throw new Error("Network response was not ok")}).then(c=>{console.log("Success:",c)}).catch(c=>{console.error("Error:",c)})}postDataProcess(){fetch("http://localhost:8080/api/v1/deployment-service/start-process",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then(c=>{if(c.ok)return c.json();throw new Error("Network response was not ok")}).then(c=>{console.log("Success:",c)}).catch(c=>{console.error("Error:",c)})}};e.\u0275fac=function(a){return new(a||e)(id(ME))},e.\u0275cmp=Pp({type:e,selectors:[["app-editor"]],viewQuery:function(a,c){if(a&1&&HO(DOt,5),a&2){let d;wE(d=_E())&&(c.dropdown=d.first)}},standalone:!0,features:[Mp],decls:10,vars:1,consts:[["dropdown",""],[1,"modeller",3,"click"],["id","editor"],["id","panel"],["id","dropdown"],["class","user",3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"user",3,"click"]],template:function(a,c){if(a&1){let d=Vy();Po(0,"div",1),rl("click",function(m){return Hc(d),Uc(c.onClick(m))}),If(1,"div",2)(2,"div",3),Io(),Po(3,"div",4,0),xE(5,TOt,2,1,"div",5),Io(),Po(6,"button",6),rl("click",function(){return Hc(d),Uc(c.postDataDeploy())}),Gl(7,"Deploy"),Io(),Po(8,"button",6),rl("click",function(){return Hc(d),Uc(c.postDataProcess())}),Gl(9,"Start Process"),Io()}a&2&&(jy(5),EE("ngForOf",c.users))},dependencies:[TE,YO,r8],styles:["#editor[_ngcontent-%COMP%]{width:80vw;height:92vh}.modeller[_ngcontent-%COMP%]{display:flex}#dropdown[_ngcontent-%COMP%]{display:none;background:#fff;z-index:10;width:100px;height:100px}.user[_ngcontent-%COMP%]{height:20px}"]});let t=e;return t})();var dG=wf(Hj());var kOt=["y","Y"],S4e=["z","Z"];function O4e(t){return t.altKey?!1:t.ctrlKey||t.metaKey}function JW(t,e){return t=Ue(t)?t:[t],t.indexOf(e.key)!==-1||t.indexOf(e.code)!==-1}function D4e(t){return t.shiftKey}function T4e(t){return O4e(t)&&!D4e(t)&&JW(S4e,t)}function k4e(t){return O4e(t)&&(JW(kOt,t)||JW(S4e,t)&&D4e(t))}var z4e=Ta({selectedElement:null,injector:null,getService:()=>null});function vl(t,e){var n=yl(t);return n&&typeof n.$instanceOf=="function"&&n.$instanceOf(e)}function yl(t){return t&&t.businessObject||t}function POt(t,e){return ho(e,function(n){return vl(t,n)})}function IOt(t){if(vl(t,"dmn:Decision")||vl(t,"dmn:BusinessKnowledgeModel")||vl(t,"dmn:InputData")||vl(t,"dmn:KnowledgeSource"))return"name";if(vl(t,"dmn:TextAnnotation"))return"text"}function MOt(t){var e=t.businessObject,n=IOt(e);if(n)return e[n]||""}var P4e;function tG(){return tG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},tG.apply(null,arguments)}var AOt=function(e){return hn("svg",tG({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),P4e||(P4e=hn("path",{fill:"none",stroke:"#000",strokeDasharray:"3.3,6",strokeLinecap:"square",strokeWidth:2,d:"m1.5 30.5 29-29"})))},I4e;function nG(){return nG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nG.apply(null,arguments)}var ROt=function(e){return hn("svg",nG({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),I4e||(I4e=hn("path",{fillRule:"evenodd",d:"m6.364 24.235 1.414 1.414-6.364 6.364L0 30.598l6.364-6.363Zm8-8 1.414 1.414-6.364 6.364L8 22.598l6.364-6.363Zm8-8 1.414 1.414-6.364 6.364L16 14.598l6.364-6.363ZM28 0a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z"})))},M4e;function rG(){return rG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rG.apply(null,arguments)}var LOt=function(e){return hn("svg",rG({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),M4e||(M4e=hn("path",{d:"M6.258 8 0 15.358l.001.325.028 8.259h25.977L32 16.518V8H6.258Zm.812 1.756h23.174v6.142l-5.077 6.288H1.779L1.759 16l5.31-6.245Z"})))},A4e;function iG(){return iG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},iG.apply(null,arguments)}var $Ot=function(e){return hn("svg",iG({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),A4e||(A4e=hn("path",{fillRule:"evenodd",d:"M0 6v20.711h32V6H0Zm1.697 1.697h28.606v17.317H1.697V7.697Z"})))},R4e;function oG(){return oG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},oG.apply(null,arguments)}var eG=function(e){return hn("svg",oG({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),R4e||(R4e=hn("path",{d:"M3.563 0A3.554 3.554 0 0 0 .01 3.552L0 28.446A3.554 3.554 0 0 0 3.555 32h24.882a3.554 3.554 0 0 0 3.554-3.552L32 3.554A3.554 3.554 0 0 0 28.445 0H3.563ZM14 14l15 .016V20l-15-.016V14Zm0-11 15 .022V11l-15-.022V3Zm-3 16.992L3 20v-5.992L11 14v5.992Zm0-9.003L3 11V3.01L11 3v7.99ZM3 23.008 11 23v5.992L3 29v-5.992Zm11 5.984V23l15 .016V29l-15-.008Z"})))},L4e;function sG(){return sG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},sG.apply(null,arguments)}var NOt=function(e){return hn("svg",sG({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),L4e||(L4e=hn("path",{d:"M32 .06S20.33 6.015 14.403 8.8c1.27 1.16 2.451 2.41 3.676 3.615L0 30.734 1.325 32l18.08-18.32c1.227 1.223 2.448 2.453 3.676 3.676C26.247 11.121 32 .06 32 .06Z"})))},$4e;function aG(){return aG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},aG.apply(null,arguments)}var FOt=function(e){return hn("svg",aG({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),$4e||($4e=hn("path",{d:"M6.384 8c-1.825 0-3.458.945-4.587 2.382C.667 11.82 0 13.756 0 15.88c0 2.125.667 4.062 1.797 5.499 1.13 1.437 2.762 2.382 4.587 2.382h19.232c1.825 0 3.458-.945 4.587-2.382C31.333 19.942 32 18.005 32 15.88c0-2.124-.667-4.06-1.797-5.498C29.073 8.945 27.441 8 25.616 8H6.384Zm0 1.763h19.232c1.223 0 2.342.616 3.201 1.709.86 1.093 1.42 2.656 1.42 4.408 0 1.753-.56 3.316-1.42 4.409-.86 1.093-1.978 1.708-3.2 1.708H6.383c-1.223 0-2.342-.615-3.201-1.708-.86-1.093-1.42-2.656-1.42-4.409 0-1.752.56-3.315 1.42-4.408.86-1.093 1.978-1.709 3.2-1.709Z"})))},N4e;function lG(){return lG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lG.apply(null,arguments)}var BOt=function(e){return hn("svg",lG({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),N4e||(N4e=hn("path",{fillRule:"evenodd",d:"m6.364 24.235 1.414 1.414-6.364 6.364L0 30.598l6.364-6.363Zm8-8 1.414 1.414-6.364 6.364L8 22.598l6.364-6.363Zm8-8 1.414 1.414-6.364 6.364L16 14.598l6.364-6.363ZM32 12.06h-2V3.426l-4.586 4.587L24 6.598l4.537-4.538H20v-2h12v12Z"})))},F4e;function cG(){return cG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cG.apply(null,arguments)}var jOt=function(e){return hn("svg",cG({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),F4e||(F4e=hn("path",{d:"M0 5V23.376l.348.23c4.812 3.182 8.946 2.865 12.41 1.63 3.464-1.235 6.366-3.239 8.999-3.589l.02-.003.021-.003c3.576-.675 5.681.439 9.126 1.88l1.076.45V5.064L0 5Zm1.553 1.557 28.894.059v15.016c-2.89-1.22-5.358-2.187-8.918-1.521-3.199.433-6.1 2.523-9.293 3.662C9.12 24.884 5.83 25.23 1.553 22.535V6.557Z"})))},B4e;function uG(){return uG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},uG.apply(null,arguments)}var VOt=function(e){return hn("svg",uG({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),B4e||(B4e=hn("path",{d:"M22.087 0v31.647H32v-1.788h-8.125V1.788H32V0h-9.913Zm-2.924 13.999-2.737 2.167 2.167 2.738 2.738-2.167-2.168-2.738Zm-5.475 4.335L10.95 20.5l2.168 2.738 2.737-2.168-2.167-2.737Zm-5.475 4.335-2.738 2.167 2.168 2.738 2.737-2.168-2.167-2.737Zm-5.476 4.335L0 29.17l2.167 2.738 2.738-2.168-2.168-2.737Z"})))},zOt={Association:AOt,AuthorityRequirement:ROt,BusinessKnowledgeModel:LOt,Decision:$Ot,DecisionTable:eG,Definitions:eG,DRD:eG,InformationRequirement:NOt,InputData:FOt,KnowledgeRequirement:BOt,KnowledgeSource:jOt,TextAnnotation:VOt};function j4e(t){let{type:e}=t;return UOt(e)}var HOt={getElementLabel:t=>vl(t,"dmn:Definitions")?yl(t).get("name"):MOt(t),getElementIcon:t=>{let e=j4e(t);return zOt[e]},getTypeLabel:t=>j4e(t).replace(/(\B[A-Z])/g," $1").replace(/(\bNon Interrupting)/g,"($1)")};function UOt(t){return t.split(":")[1]}var qOt={getEmpty:()=>({text:"Select an element to edit its properties.",icon:null}),getMultiple:()=>({text:"Multiple elements are selected. Select a single element to edit its properties.",icon:null})};function WOt(t){let{element:e,injector:n,getProviders:i,layoutConfig:a,descriptionConfig:c,tooltipConfig:d}=t,h=n.get("canvas"),m=n.get("elementRegistry"),g=n.get("eventBus"),[b,E]=Tt({selectedElement:e}),_=b.selectedElement,S=L=>{if(!L)return;let V=L;V&&V.type==="label"&&(V=V.labelTarget),E(Me(se({},b),{selectedElement:V})),g.fire("propertiesPanel.updated",{element:V})};at(()=>{let L=V=>{let{newSelection:G=[]}=V;if(G.length>1)return S(G);let re=G[0],ee=h.getRootElement();V4e(ee)||S(re||ee)};return g.on("selection.changed",L),()=>{g.off("selection.changed",L)}},[]),at(()=>{let L=V=>{let G=V.elements,re=GOt(G,_);re&&QOt(re,m)&&S(re)};return g.on("elements.changed",L),()=>{g.off("elements.changed",L)}},[_]),at(()=>{let L=V=>{let G=V.element;V4e(G)||S(G)};return g.on("root.added",L),()=>{g.off("root.added",L)}},[_]),at(()=>{let L=()=>{S(_)};return g.on("propertiesPanel.providersChanged",L),()=>{g.off("propertiesPanel.providersChanged",L)}},[_]);let D={selectedElement:_,injector:n,getService(L,V){return n.get(L,V)}},k=i(_),I=wi(()=>dr(k,function(L,V){return Ue(_)?[]:V.getGroups(_)(L)},[]),[k,_]),R=L=>{g.fire("propertiesPanel.layoutChanged",{layout:L})},$=L=>{g.fire("propertiesPanel.descriptionLoaded",{description:L})},F=L=>{g.fire("propertiesPanel.tooltipLoaded",{tooltip:L})};return z(z4e.Provider,{value:D,children:z(M4,{element:_,headerProvider:HOt,placeholderProvider:qOt,groups:I,layoutConfig:a,layoutChanged:R,descriptionConfig:c,descriptionLoaded:$,tooltipConfig:d,tooltipLoaded:F,eventBus:g})})}function V4e(t){return t&&(t.isImplicit||t.id==="__implicitroot")}function GOt(t,e){return st(t,n=>n===e)}function QOt(t,e){return t&&e.get(t.id)}var YOt=1e3,XOt=(()=>{class t{constructor(n,i,a,c){let{parent:d,layout:h,description:m,tooltip:g}=n||{};this._eventBus=a,this._injector=i,this._layoutConfig=h,this._descriptionConfig=m,this._tooltipConfig=g,this._container=jt('<div style="height: 100%" class="bio-properties-panel-container"></div>');var b=i.get("commandStack",!1);b&&ZOt(this._container,a,b),a.on("diagram.destroy",()=>{this.detach()}),a.on("import.done",E=>{let{element:_}=E;d&&this.attachTo(d),this._render(_)}),a.on("detach",E=>{this.detach()}),c.on("detach",()=>{this.detach()})}attachTo(n){if(!n)throw new Error("container required");n.get&&n.constructor.prototype.jquery&&(n=n.get(0)),typeof n=="string"&&(n=Et(n)),this.detach(),n.appendChild(this._container),this._eventBus.fire("propertiesPanel.attach")}detach(){let n=this._container.parentNode;n&&(n.removeChild(this._container),this._eventBus.fire("propertiesPanel.detach"))}registerProvider(n,i){if(i||(i=n,n=YOt),typeof i.getGroups!="function"){console.error("Properties provider does not implement #getGroups(element) API");return}this._eventBus.on("propertiesPanel.getProviders",n,function(a){a.providers.push(i)}),this._eventBus.fire("propertiesPanel.providersChanged")}_getProviders(){let n=this._eventBus.createEvent({type:"propertiesPanel.getProviders",providers:[]});return this._eventBus.fire(n),n.providers}_render(n){let i=this._injector.get("canvas");n||(n=i.getRootElement()),!KOt(n)&&(oc(z(WOt,{element:n,injector:this._injector,getProviders:this._getProviders.bind(this),layoutConfig:this._layoutConfig,descriptionConfig:this._descriptionConfig,tooltipConfig:this._tooltipConfig}),this._container),this._eventBus.fire("propertiesPanel.rendered"))}_destroy(){this._container&&(oc(null,this._container),this._eventBus.fire("propertiesPanel.destroyed"))}}return t.$inject=["config.propertiesPanel","injector","eventBus","_parent"],t})();function KOt(t){return t&&(t.isImplicit||t.id==="__implicitroot")}function ZOt(t,e,n){function i(c){c.preventDefault(),c.stopPropagation()}function a(c){if(T4e(c))return n.undo(),i(c);if(k4e(c))return n.redo(),i(c)}e.on("keyboard.bind",function(){nt.bind(t,"keydown",a)}),e.on("keyboard.unbind",function(){nt.unbind(t,"keydown",a)})}var JOt=(()=>{class t{constructor(n){this._commandStack=n}preExecute(n){let i=this._commandStack;J(n,function(a){i.execute(a.cmd,a.context)})}}return t.$inject=["commandStack"],t})(),e8t={"properties-panel.multi-command-executor":JOt};function H4e(t,e){t.on("diagram.init",function(){J(e8t,function(n,i){e.registerHandler(i,n)})})}H4e.$inject=["eventBus","commandStack"];var t8t={__init__:[H4e]},U4e={__depends__:[t8t,A4,R4],__init__:["propertiesPanel"],propertiesPanel:["type",XOt]};function ei(t,e){let{getService:n}=Xi(z4e);return n(t,e)}function n8t(t){let{element:e}=t;if(!vl(e,"dmn:DMNElement"))return[];let n=[{id:"description",component:r8t,element:e,isEdited:Ra}];return vl(e,"dmn:Decision")?n.concat([{id:"question",component:i8t,element:e,isEdited:Ra},{id:"allowedAnswers",component:o8t,element:e,isEdited:Ra}]):n}function r8t(t){let{element:e,id:n}=t,i=ei("modeling"),a=ei("debounceInput"),c=ei("translate"),d={element:e,id:n,label:c("Description"),debounce:a,getValue:h=>yl(h).get("description"),setValue:h=>{i.updateProperties(e,{description:h})}};return Ts(d)}function i8t(t){let{element:e,id:n}=t,i=ei("modeling"),a=ei("debounceInput"),c=ei("translate"),d={element:e,id:n,label:c("Question"),debounce:a,getValue:h=>yl(h).get("question"),setValue:h=>{i.updateProperties(e,{question:h})}};return Ts(d)}function o8t(t){let{element:e,id:n}=t,i=ei("modeling"),a=ei("debounceInput"),c=ei("translate"),d={element:e,id:n,label:c("Allowed answers"),debounce:a,getValue:h=>yl(h).get("allowedAnswers"),setValue:h=>{i.updateProperties(e,{allowedAnswers:h})}};return Ts(d)}var s8t=/\s/,a8t=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,l8t=/^[a-z_][\w-.]*$/i;function q4e(t,e,n){let i=t.$model.ids.assigned(e),a=i&&i!==t;return e?a?n("ID must be unique."):c8t(e,n):n("ID must not be empty.")}function c8t(t,e){if(u8t(t))return e("ID must not contain spaces.");if(!l8t.test(t))return a8t.test(t)?e("ID must not contain prefix."):e("ID must be a valid QName.")}function u8t(t){return s8t.test(t)}function d8t(t){let{element:e}=t;return[{id:"id",component:f8t,element:e,isEdited:Ve}]}function f8t(t){let{element:e,id:n}=t,i=ei("modeling"),a=ei("debounceInput"),c=ei("translate"),d=(g,b)=>{b||i.updateProperties(e,{id:g})},h=Or(g=>yl(g).id,[e]),m=Or(g=>{let b=yl(e);return q4e(b,g,c)},[e,c]);return Le({element:e,id:n,label:c("ID"),getValue:h,setValue:d,debounce:a,validate:m})}function h8t(t){let{element:e}=t;return POt(e,["dmn:DRGElement","dmn:Definitions","dmn:TextAnnotation"])?[{id:"name",component:p8t,element:e,isEdited:Ra}]:[]}function p8t(t){let{element:e,id:n}=t,i=ei("modeling"),a=ei("debounceInput"),c=ei("translate"),d={element:e,id:n,label:c("Name"),debounce:a,getValue:h=>yl(h).get("name"),setValue:h=>{i.updateProperties(e,{name:h})},autoResize:!0};return vl(e,"dmn:TextAnnotation")&&(d=Me(se({},d),{getValue:h=>yl(h).get("text"),setValue:h=>{i.updateProperties(e,{text:h})}})),Ts(d)}var m8t=(()=>{class t{constructor(n){n.registerProvider(this)}getGroups(n){return i=>[...i,...g8t(n)]}}return t.$inject=["propertiesPanel"],t})();function g8t(t){return[v8t(t),y8t(t)].filter(n=>n!==null)}function v8t(t){return{id:"general",label:"General",entries:[...h8t({element:t}),...d8t({element:t})],component:Ut}}function y8t(t){let e=[...n8t({element:t})];return e.length?{id:"documentation",label:"Documentation",entries:e,component:Ut}:null}var W4e={__init__:["dmnPropertiesProvider"],dmnPropertiesProvider:["type",m8t]};function b8t(t){let{element:e}=t;return vl(e,"dmn:Decision")?[{id:"versionTag",component:x8t,element:e,isEdited:Ve}]:[]}function x8t(t){let{element:e,id:n}=t,i=ei("modeling"),a=ei("translate"),c=ei("debounceInput"),d=()=>yl(e).get("camunda:versionTag"),h=m=>{i.updateProperties(e,{"camunda:versionTag":m})};return Le({element:e,id:n,label:a("Version tag"),getValue:d,setValue:h,debounce:c})}function E8t(t){let{element:e}=t;return vl(e,"dmn:Decision")?[{id:"historyTimeToLive",component:w8t,element:e,isEdited:Ve}]:[]}function w8t(t){let{element:e,id:n}=t,i=ei("modeling"),a=ei("translate"),c=ei("debounceInput"),d=()=>yl(e).get("camunda:historyTimeToLive"),h=m=>{i.updateProperties(e,{"camunda:historyTimeToLive":m})};return Le({element:e,id:n,label:a("Time to live"),tooltip:z("div",{children:z("p",{children:[a("Number of days before this resource is being cleaned up. If specified, takes precedence over the engine configuration.")," ",z("a",{href:"https://docs.camunda.org/manual/latest/user-guide/process-engine/history/",target:"_blank",rel:"noopener",children:a("Learn more")})]})}),getValue:d,setValue:h,debounce:c})}function _8t(t){let{element:e}=t;return[{id:"id",component:C8t,element:e,isEdited:Ve}]}function C8t(t){let{element:e,id:n}=t,i=ei("modeling"),a=ei("debounceInput"),c=ei("translate"),d=(b,E)=>{E||i.updateProperties(e,{id:b})},h=Or(b=>yl(b).id,[e]),m=Or(b=>{let E=yl(e);return q4e(E,b,c)},[e,c]),g=vl(e,"dmn:Decision")?c("This maps to the decision definition key."):null;return Le({element:e,id:n,label:c("ID"),getValue:h,setValue:d,debounce:a,validate:m,description:g})}var S8t=500,O8t=[k8t],D8t=(()=>{class t{constructor(n,i){n.registerProvider(S8t,this),this._injector=i}getGroups(n){return i=>(i=i.concat(this._getGroups(n)),T8t(i,n),i)}_getGroups(n){return O8t.map(a=>a(n,this._injector)).filter(a=>a!==null)}}return t.$inject=["propertiesPanel","injector"],t})();function T8t(t,e){let n=P8t(t,"general");if(!n)return;let{entries:i}=n,a=Yl(i,c=>c.id==="id");i.splice(a,1,..._8t({element:e})),i.splice(a+1,0,...b8t({element:e}))}function k8t(t){let e={label:"History cleanup",id:"Camunda__HistoryCleanup",component:Ut,entries:[...E8t({element:t})]};return e.entries.length?e:null}function P8t(t,e){return t.find(n=>n.id===e)}var G4e={__init__:["CamundaPropertiesProvider"],CamundaPropertiesProvider:["type",D8t]};var Q4e={name:"Camunda",uri:"http://camunda.org/schema/1.0/dmn",prefix:"camunda",xml:{tagAlias:"lowerCase"},associations:[],types:[{name:"Definitions",isAbstract:!0,extends:["dmn:Definitions"],properties:[{name:"diagramRelationId",isAttr:!0,type:"String"}]},{name:"Decision",isAbstract:!0,extends:["dmn:Decision"],properties:[{name:"versionTag",isAttr:!0,type:"String"},{name:"historyTimeToLive",isAttr:!0,type:"String"}]},{name:"InputClause",extends:["dmn:InputClause"],properties:[{name:"inputVariable",isAttr:!0,type:"String"}]}],emumerations:[]};var M8t=["dropdown"];function A8t(t,e){if(t&1){let n=Vy();Po(0,"div",7),rl("click",function(){let a=Hc(n).$implicit,c=zO();return Uc(c.selectUser(a))}),Gl(1),Io()}if(t&2){let n=e.$implicit;jy(),CE(n)}}var Y4e=(()=>{let e=class e{constructor(i){this.http=i,this.bpmnJS=new ns,this.dmnJS=new dG.default,this.dropdown=new qc(""),this.users=["John","Mary"]}ngOnInit(){let i=this.http.get("http://localhost:8080/api/users");i.subscribe(c=>this.user=i);var a;this.dmnJS=new dG.default({container:"#editor",drd:{additionalModules:[U4e,W4e,G4e],propertiesPanel:{parent:"#panel"}},moddleExtensions:{camunda:Q4e}}),fetch("../../../assets/demo.dmn").then(c=>c.text()).then(c=>{this.dmnJS.importXML(c)})}download(){this.bpmnJS.saveXML().then(i=>{console.log(i.xml);let a=document.createElement("a");document.body.appendChild(a);let c=new Blob([i.xml]);a.setAttribute("style","display: none"),a.href=window.URL.createObjectURL(c),a.download="sample.bpmn",a.click(),window.URL.revokeObjectURL(a.href),a.remove()})}newDiagram(){fetch("../../../assets/newDiagram.bpmn").then(i=>i.text()).then(i=>{this.bpmnJS.importXML(i)})}onClick(i){if(i.srcElement.id=="bio-properties-panel-assignee"){let a=i.srcElement.getBoundingClientRect();this.dropdown.nativeElement.style.display="block",this.dropdown.nativeElement.style.position="absolute",this.dropdown.nativeElement.style.left=a.left+"px",this.dropdown.nativeElement.style.top=a.bottom+"px",this.dropdown.nativeElement.style.width=a.width+"px"}else this.dropdown.nativeElement.style.display="none"}selectUser(i){this.dropdown.nativeElement.style.display="none";let a=document.getElementById("bio-properties-panel-assignee");a.value=i,a.dispatchEvent(new Event("change"))}showFlow(){let i=new Wc({Authorization:`Bearer ${HP}`});this.http.get("http://localhost:8080/process/showFlow",{headers:i}).subscribe({next:a=>{a.forEach(c=>{let d=this.bpmnJS.get("elementRegistry"),h=this.bpmnJS.get("graphicsFactory"),m=d?.get(c);if(m?.di!==void 0){m.di.set("stroke","#4d90ff");let g=d?.getGraphics(m);g!==void 0&&h?.update("connection",m,g)}})}}),this.http.get("http://localhost:8080/process/showIncidents",{headers:i}).subscribe({next:a=>{let c=this.bpmnJS.get("overlays");a.forEach(({activityId:d,active:h})=>{h>0&&c.add(d,"flowNodeState",{position:{bottom:9,right:0},html:`<div class="flow-node-incident">${h}</div>`})})}})}};e.\u0275fac=function(a){return new(a||e)(id(ME))},e.\u0275cmp=Pp({type:e,selectors:[["app-dmn-editor"]],viewQuery:function(a,c){if(a&1&&HO(M8t,5),a&2){let d;wE(d=_E())&&(c.dropdown=d.first)}},standalone:!0,features:[Mp],decls:12,vars:1,consts:[["dropdown",""],[1,"modeller",3,"click"],["id","editor"],["id","panel"],["id","dropdown"],["class","user",3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"user",3,"click"]],template:function(a,c){if(a&1){let d=Vy();Po(0,"div",1),rl("click",function(m){return Hc(d),Uc(c.onClick(m))}),If(1,"div",2)(2,"div",3),Io(),Po(3,"div",4,0),xE(5,A8t,2,1,"div",5),Io(),Po(6,"button",6),rl("click",function(){return Hc(d),Uc(c.download())}),Gl(7,"download"),Io(),Po(8,"button",6),rl("click",function(){return Hc(d),Uc(c.newDiagram())}),Gl(9,"New Diagram"),Io(),Po(10,"button",6),rl("click",function(){return Hc(d),Uc(c.showFlow())}),Gl(11,"Show Flow"),Io()}a&2&&(jy(5),EE("ngForOf",c.users))},dependencies:[TE,YO,r8],styles:["#editor[_ngcontent-%COMP%]{width:80vw;height:92vh}.modeller[_ngcontent-%COMP%]{display:flex}#dropdown[_ngcontent-%COMP%]{display:none;background:#fff;z-index:10;width:100px;height:100px}.user[_ngcontent-%COMP%]{height:20px}#panel[_ngcontent-%COMP%]{width:19vw}"]});let t=e;return t})();var X4e=[{path:"editor",component:C4e},{path:"dmn-editor",component:Y4e},{path:"",redirectTo:"/editor",pathMatch:"full"}];var K4e={providers:[Ode(X4e)]};var Z4e=(()=>{let e=class e{constructor(){this.title="CamundaAngular - Angular -> @GET Method"}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=Pp({type:e,selectors:[["app-root"]],standalone:!0,features:[Mp],decls:6,vars:0,consts:[["routerLink","/editor"],["routerLink","/dmn-editor"]],template:function(a,c){a&1&&(Po(0,"nav")(1,"a",0),Gl(2,"Editor"),Io(),Po(3,"a",1),Gl(4,"DMN Editor"),Io()(),If(5,"router-outlet"))},dependencies:[SF]});let t=e;return t})();Uue(Z4e,K4e).catch(t=>console.error(t));
